(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function _b(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gm={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function vb(){if(Gv)return Fl;Gv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Fl.Fragment=t,Fl.jsx=n,Fl.jsxs=n,Fl}var Qv;function Eb(){return Qv||(Qv=1,gm.exports=vb()),gm.exports}var j=Eb(),ym={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function Tb(){if(Yv)return Mt;Yv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function V(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,G={};function st(M,W,at){this.props=M,this.context=W,this.refs=G,this.updater=at||H}st.prototype.isReactComponent={},st.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},st.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function lt(){}lt.prototype=st.prototype;function it(M,W,at){this.props=M,this.context=W,this.refs=G,this.updater=at||H}var St=it.prototype=new lt;St.constructor=it,X(St,st.prototype),St.isPureReactComponent=!0;var It=Array.isArray;function bt(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(M,W,at){var ut=at.ref;return{$$typeof:r,type:M,key:W,ref:ut!==void 0?ut:null,props:at}}function O(M,W){return R(M.type,W,M.props)}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(at){return W[at]})}var C=/\/+/g;function De(M,W){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):W.toString(36)}function Fe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(bt,bt):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function J(M,W,at,ut,Et){var At=typeof M;(At==="undefined"||At==="boolean")&&(M=null);var Vt=!1;if(M===null)Vt=!0;else switch(At){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(M.$$typeof){case r:case t:Vt=!0;break;case E:return Vt=M._init,J(Vt(M._payload),W,at,ut,Et)}}if(Vt)return Et=Et(M),Vt=ut===""?"."+De(M,0):ut,It(Et)?(at="",Vt!=null&&(at=Vt.replace(C,"$&/")+"/"),J(Et,W,at,"",function(ke){return ke})):Et!=null&&(k(Et)&&(Et=O(Et,at+(Et.key==null||M&&M.key===Et.key?"":(""+Et.key).replace(C,"$&/")+"/")+Vt)),W.push(Et)),1;Vt=0;var Te=ut===""?".":ut+":";if(It(M))for(var re=0;re<M.length;re++)ut=M[re],At=Te+De(ut,re),Vt+=J(ut,W,at,At,Et);else if(re=V(M),typeof re=="function")for(M=re.call(M),re=0;!(ut=M.next()).done;)ut=ut.value,At=Te+De(ut,re++),Vt+=J(ut,W,at,At,Et);else if(At==="object"){if(typeof M.then=="function")return J(Fe(M),W,at,ut,Et);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function ht(M,W,at){if(M==null)return M;var ut=[],Et=0;return J(M,ut,"","",function(At){return W.call(at,At,Et++)}),ut}function yt(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(at){(M._status===0||M._status===-1)&&(M._status=1,M._result=at)},function(at){(M._status===0||M._status===-1)&&(M._status=2,M._result=at)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var Bt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ee={map:ht,forEach:function(M,W,at){ht(M,function(){W.apply(this,arguments)},at)},count:function(M){var W=0;return ht(M,function(){W++}),W},toArray:function(M){return ht(M,function(W){return W})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Mt.Activity=T,Mt.Children=ee,Mt.Component=st,Mt.Fragment=n,Mt.Profiler=o,Mt.PureComponent=it,Mt.StrictMode=s,Mt.Suspense=p,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Mt.cache=function(M){return function(){return M.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(M,W,at){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ut=X({},M.props),Et=M.key;if(W!=null)for(At in W.key!==void 0&&(Et=""+W.key),W)!A.call(W,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&W.ref===void 0||(ut[At]=W[At]);var At=arguments.length-2;if(At===1)ut.children=at;else if(1<At){for(var Vt=Array(At),Te=0;Te<At;Te++)Vt[Te]=arguments[Te+2];ut.children=Vt}return R(M.type,Et,ut)},Mt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Mt.createElement=function(M,W,at){var ut,Et={},At=null;if(W!=null)for(ut in W.key!==void 0&&(At=""+W.key),W)A.call(W,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(Et[ut]=W[ut]);var Vt=arguments.length-2;if(Vt===1)Et.children=at;else if(1<Vt){for(var Te=Array(Vt),re=0;re<Vt;re++)Te[re]=arguments[re+2];Et.children=Te}if(M&&M.defaultProps)for(ut in Vt=M.defaultProps,Vt)Et[ut]===void 0&&(Et[ut]=Vt[ut]);return R(M,At,Et)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(M){return{$$typeof:m,render:M}},Mt.isValidElement=k,Mt.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:yt}},Mt.memo=function(M,W){return{$$typeof:g,type:M,compare:W===void 0?null:W}},Mt.startTransition=function(M){var W=I.T,at={};I.T=at;try{var ut=M(),Et=I.S;Et!==null&&Et(at,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(bt,Bt)}catch(At){Bt(At)}finally{W!==null&&at.types!==null&&(W.types=at.types),I.T=W}},Mt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Mt.use=function(M){return I.H.use(M)},Mt.useActionState=function(M,W,at){return I.H.useActionState(M,W,at)},Mt.useCallback=function(M,W){return I.H.useCallback(M,W)},Mt.useContext=function(M){return I.H.useContext(M)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(M,W){return I.H.useDeferredValue(M,W)},Mt.useEffect=function(M,W){return I.H.useEffect(M,W)},Mt.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Mt.useId=function(){return I.H.useId()},Mt.useImperativeHandle=function(M,W,at){return I.H.useImperativeHandle(M,W,at)},Mt.useInsertionEffect=function(M,W){return I.H.useInsertionEffect(M,W)},Mt.useLayoutEffect=function(M,W){return I.H.useLayoutEffect(M,W)},Mt.useMemo=function(M,W){return I.H.useMemo(M,W)},Mt.useOptimistic=function(M,W){return I.H.useOptimistic(M,W)},Mt.useReducer=function(M,W,at){return I.H.useReducer(M,W,at)},Mt.useRef=function(M){return I.H.useRef(M)},Mt.useState=function(M){return I.H.useState(M)},Mt.useSyncExternalStore=function(M,W,at){return I.H.useSyncExternalStore(M,W,at)},Mt.useTransition=function(){return I.H.useTransition()},Mt.version="19.2.3",Mt}var Kv;function vp(){return Kv||(Kv=1,ym.exports=Tb()),ym.exports}var P=vp();const Sb=_b(P);var _m={exports:{}},Gl={},vm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function wb(){return $v||($v=1,(function(r){function t(J,ht){var yt=J.length;J.push(ht);t:for(;0<yt;){var Bt=yt-1>>>1,ee=J[Bt];if(0<o(ee,ht))J[Bt]=ht,J[yt]=ee,yt=Bt;else break t}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ht=J[0],yt=J.pop();if(yt!==ht){J[0]=yt;t:for(var Bt=0,ee=J.length,M=ee>>>1;Bt<M;){var W=2*(Bt+1)-1,at=J[W],ut=W+1,Et=J[ut];if(0>o(at,yt))ut<ee&&0>o(Et,at)?(J[Bt]=Et,J[ut]=yt,Bt=ut):(J[Bt]=at,J[W]=yt,Bt=W);else if(ut<ee&&0>o(Et,yt))J[Bt]=Et,J[ut]=yt,Bt=ut;else break t}}return ht}function o(J,ht){var yt=J.sortIndex-ht.sortIndex;return yt!==0?yt:J.id-ht.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,b=3,V=!1,H=!1,X=!1,G=!1,st=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function St(J){for(var ht=n(g);ht!==null;){if(ht.callback===null)s(g);else if(ht.startTime<=J)s(g),ht.sortIndex=ht.expirationTime,t(p,ht);else break;ht=n(g)}}function It(J){if(X=!1,St(J),!H)if(n(p)!==null)H=!0,bt||(bt=!0,U());else{var ht=n(g);ht!==null&&Fe(It,ht.startTime-J)}}var bt=!1,I=-1,A=5,R=-1;function O(){return G?!0:!(r.unstable_now()-R<A)}function k(){if(G=!1,bt){var J=r.unstable_now();R=J;var ht=!0;try{t:{H=!1,X&&(X=!1,lt(I),I=-1),V=!0;var yt=b;try{e:{for(St(J),T=n(p);T!==null&&!(T.expirationTime>J&&O());){var Bt=T.callback;if(typeof Bt=="function"){T.callback=null,b=T.priorityLevel;var ee=Bt(T.expirationTime<=J);if(J=r.unstable_now(),typeof ee=="function"){T.callback=ee,St(J),ht=!0;break e}T===n(p)&&s(p),St(J)}else s(p);T=n(p)}if(T!==null)ht=!0;else{var M=n(g);M!==null&&Fe(It,M.startTime-J),ht=!1}}break t}finally{T=null,b=yt,V=!1}ht=void 0}}finally{ht?U():bt=!1}}}var U;if(typeof it=="function")U=function(){it(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,De=C.port2;C.port1.onmessage=k,U=function(){De.postMessage(null)}}else U=function(){st(k,0)};function Fe(J,ht){I=st(function(){J(r.unstable_now())},ht)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(J){switch(b){case 1:case 2:case 3:var ht=3;break;default:ht=b}var yt=b;b=ht;try{return J()}finally{b=yt}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(J,ht){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var yt=b;b=J;try{return ht()}finally{b=yt}},r.unstable_scheduleCallback=function(J,ht,yt){var Bt=r.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Bt+yt:Bt):yt=Bt,J){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=yt+ee,J={id:E++,callback:ht,priorityLevel:J,startTime:yt,expirationTime:ee,sortIndex:-1},yt>Bt?(J.sortIndex=yt,t(g,J),n(p)===null&&J===n(g)&&(X?(lt(I),I=-1):X=!0,Fe(It,yt-Bt))):(J.sortIndex=ee,t(p,J),H||V||(H=!0,bt||(bt=!0,U()))),J},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(J){var ht=b;return function(){var yt=b;b=ht;try{return J.apply(this,arguments)}finally{b=yt}}}})(Em)),Em}var Xv;function bb(){return Xv||(Xv=1,vm.exports=wb()),vm.exports}var Tm={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function Ab(){if(Jv)return Tn;Jv=1;var r=vp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Tn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},Tn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Tn.requestFormReset=function(p){s.d.r(p)},Tn.unstable_batchedUpdates=function(p,g){return p(g)},Tn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Tn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Tn.version="19.2.3",Tn}var Zv;function Rb(){if(Zv)return Tm.exports;Zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Tm.exports=Ab(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function Ib(){if(Wv)return Gl;Wv=1;var r=bb(),t=vp(),n=Rb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),lt=Symbol.for("react.consumer"),it=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function De(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case st:return"Profiler";case G:return"StrictMode";case It:return"Suspense";case bt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case it:return e.displayName||"Context";case lt:return(e._context.displayName||"Context")+".Consumer";case St:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return i=e.displayName||null,i!==null?i:De(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return De(e(i))}catch{}}return null}var Fe=Array.isArray,J=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Bt=[],ee=-1;function M(e){return{current:e}}function W(e){0>ee||(e.current=Bt[ee],Bt[ee]=null,ee--)}function at(e,i){ee++,Bt[ee]=e.current,e.current=i}var ut=M(null),Et=M(null),At=M(null),Vt=M(null);function Te(e,i){switch(at(At,i),at(Et,e),at(ut,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?mv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=mv(i),e=pv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(ut),at(ut,e)}function re(){W(ut),W(Et),W(At)}function ke(e){e.memoizedState!==null&&at(Vt,e);var i=ut.current,a=pv(i,e.type);i!==a&&(at(Et,e),at(ut,a))}function Ge(e){Et.current===e&&(W(ut),W(Et)),Vt.current===e&&(W(Vt),jl._currentValue=yt)}var Pn,_n;function ge(e){if(Pn===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Pn=i&&i[1]||"",_n=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pn+e+_n}var Ze=!1;function tr(e,i){if(!e||Ze)return"";Ze=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Y){var F=Y}Reflect.construct(e,[],nt)}else{try{nt.call()}catch(Y){F=Y}e.call(nt.prototype)}}else{try{throw Error()}catch(Y){F=Y}(nt=e())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var D=_.split(`
`),q=S.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===q.length)for(l=D.length-1,h=q.length-1;1<=l&&0<=h&&D[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==q[h]){var Z=`
`+D[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=h);break}}}finally{Ze=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ge(a):""}function er(e,i){switch(e.tag){case 26:case 27:case 5:return ge(e.type);case 16:return ge("Lazy");case 13:return e.child!==i&&i!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return tr(e.type,!1);case 11:return tr(e.type.render,!1);case 1:return tr(e.type,!0);case 31:return ge("Activity");default:return""}}function Br(e){try{var i="",a=null;do i+=er(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var qr=Object.prototype.hasOwnProperty,nr=r.unstable_scheduleCallback,Hr=r.unstable_cancelCallback,Jo=r.unstable_shouldYield,Xs=r.unstable_requestPaint,Qe=r.unstable_now,ka=r.unstable_getCurrentPriorityLevel,ye=r.unstable_ImmediatePriority,Ne=r.unstable_UserBlockingPriority,Ri=r.unstable_NormalPriority,Pa=r.unstable_LowPriority,ir=r.unstable_IdlePriority,La=r.log,An=r.unstable_setDisableYieldValue,Ye=null,We=null;function Rn(e){if(typeof La=="function"&&An(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Ye,e)}catch{}}var Ke=Math.clz32?Math.clz32:Fr,Zo=Math.log,Js=Math.LN2;function Fr(e){return e>>>=0,e===0?32:31-(Zo(e)/Js|0)|0}var In=256,Cn=262144,Ii=4194304;function Kn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xn(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=Kn(l):(_&=S,_!==0?h=Kn(_):a||(a=S&~e,a!==0&&(h=Kn(a))))):(S=l&~d,S!==0?h=Kn(S):_!==0?h=Kn(_):a||(a=l&~e,a!==0&&(h=Kn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Pi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Gr(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(){var e=Ii;return Ii<<=1,(Ii&62914560)===0&&(Ii=4194304),e}function Dn(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ln(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,D=e.expirationTimes,q=e.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-Ke(a),nt=1<<Z;S[Z]=0,D[Z]=-1;var F=q[Z];if(F!==null)for(q[Z]=null,Z=0;Z<F.length;Z++){var Y=F[Z];Y!==null&&(Y.lane&=-536870913)}a&=~nt}l!==0&&Un(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Un(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Ke(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function $n(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Ke(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Li(e,i){var a=i&-i;return a=(a&42)!==0?1:rr(a),(a&(e.suspendedLanes|i))!==0?0:a}function rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ws(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ci(){var e=ht.p;return e!==0?e:(e=window.event,e===void 0?32:Uv(e.type))}function Ua(e,i){var a=ht.p;try{return ht.p=e,i()}finally{ht.p=a}}var hi=Math.random().toString(36).slice(2),ve="__reactFiber$"+hi,be="__reactProps$"+hi,fi="__reactContainer$"+hi,Ui="__reactEvents$"+hi,di="__reactListeners$"+hi,za="__reactHandles$"+hi,sr="__reactResources$"+hi,ln="__reactMarker$"+hi;function x(e){delete e[ve],delete e[be],delete e[Ui],delete e[di],delete e[za]}function Q(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[fi]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Sv(e);e!==null;){if(a=e[ve])return a;e=Sv(e)}return i}e=a,a=e.parentNode}return null}function $(e){if(e=e[ve]||e[fi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function ot(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function dt(e){var i=e[sr];return i||(i=e[sr]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function _t(e){e[ln]=!0}var Ct=new Set,Jt={};function kt(e,i){Ot(e,i),Ot(e+"Capture",i)}function Ot(e,i){for(Jt[e]=i,e=0;e<i.length;e++)Ct.add(i[e])}var Lt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vn={},Qr={};function Yr(e){return qr.call(Qr,e)?!0:qr.call(vn,e)?!1:Lt.test(e)?Qr[e]=!0:(vn[e]=!0,!1)}function Xn(e,i,a){if(Yr(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function mi(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function un(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lu(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _f(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ja(e){if(!e._valueTracker){var i=Lu(e)?"checked":"value";e._valueTracker=_f(e,i,""+e[i])}}function Wo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Lu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ar=/[\n"\\]/g;function Ae(e){return e.replace(ar,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Kr(e,i,a,l,h,d,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Nn(i)):e.value!==""+Nn(i)&&(e.value=""+Nn(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?qa(e,_,Nn(i)):a!=null?qa(e,_,Nn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Nn(S):e.removeAttribute("name")}function ta(e,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){ja(e);return}a=a!=null?""+Nn(a):"",i=i!=null?""+Nn(i):a,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),ja(e)}function qa(e,i,a){i==="number"&&Ba(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Zt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Nn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function ea(e,i,a){if(i!=null&&(i=""+Nn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Nn(a):""}function $r(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Fe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Nn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),ja(e)}function pi(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var vf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||vf.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Uu(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&tl(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&tl(e,d,i[d])}function el(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zi(e){return Tf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function tn(){}var Ha=null;function Fa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var or=null,Jn=null;function zu(e){var i=$(e);if(i&&(e=i.stateNode)){var a=e[be]||null;t:switch(e=i.stateNode,i.type){case"input":if(Kr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ae(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[be]||null;if(!h)throw Error(s(90));Kr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Wo(l)}break t;case"textarea":ea(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Zt(e,!!a.multiple,i,!1)}}}var nl=!1;function ju(e,i,a){if(nl)return e(i,a);nl=!0;try{var l=e(i);return l}finally{if(nl=!1,(or!==null||Jn!==null)&&(Pc(),or&&(i=or,e=Jn,Jn=or=null,zu(i),e)))for(i=0;i<e.length;i++)zu(e[i])}}function zn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[be]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),il=!1;if(xi)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){il=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{il=!1}var Zn=null,Ga=null,Bi=null;function Xr(){if(Bi)return Bi;var e,i=Ga,a=i.length,l,h="value"in Zn?Zn.value:Zn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Bi=h.slice(e,1<l?1-l:void 0)}function na(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Jr(){return!0}function fe(){return!1}function En(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jr:fe,this.isPropagationStopped=fe,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jr)},persist:function(){},isPersistent:Jr}),i}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=En(lr),Zr=T({},lr,{view:0,detail:0}),Bu=En(Zr),Wr,Qa,On,ra=T({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==On&&(On&&e.type==="mousemove"?(Wr=e.screenX-On.screenX,Qa=e.screenY-On.screenY):Qa=Wr=0,On=e),Wr)},movementY:function(e){return"movementY"in e?e.movementY:Qa}}),qu=En(ra),sa=T({},ra,{dataTransfer:0}),Hu=En(sa),rl=T({},Zr,{relatedTarget:0}),ts=En(rl),Fu=T({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ya=En(Fu),Sf=T({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gu=En(Sf),aa=T({},lr,{data:0}),sl=En(aa),Qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},al={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ol={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=ol[e])?!!i[e]:!1}function es(){return Yu}var Ku=T({},Zr,{key:function(e){if(e.key){var i=Qu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=na(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?al[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(e){return e.type==="keypress"?na(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?na(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$u=En(Ku),ur=T({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=En(ur),Xu=T({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),Ju=En(Xu),Zu=T({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ka=En(Zu),Mn=T({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wu=En(Mn),tc=T({},lr,{newState:0,oldState:0}),ns=En(tc),c=[9,13,27,32],y=xi&&"CompositionEvent"in window,v=null;xi&&"documentMode"in document&&(v=document.documentMode);var w=xi&&"TextEvent"in window&&!v,z=xi&&(!y||v&&8<v&&11>=v),K=" ",ct=!1;function ie(e,i){switch(e){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pe(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zt=!1;function en(e,i){switch(e){case"compositionend":return Pe(i);case"keypress":return i.which!==32?null:(ct=!0,K);case"textInput":return e=i.data,e===K&&ct?null:e;default:return null}}function nn(e,i){if(zt)return e==="compositionend"||!y&&ie(e,i)?(e=Xr(),Bi=Ga=Zn=null,zt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return z&&i.locale!=="ko"?null:i.data;default:return null}}var is={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!is[e.type]:i==="textarea"}function oa(e,i,a,l){or?Jn?Jn.push(l):Jn=[l]:or=l,i=Hc(i,"onChange"),0<i.length&&(a=new ia("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var cr=null,ul=null;function GS(e){lv(e,0)}function ec(e){var i=ot(e);if(Wo(i))return e}function Ig(e,i){if(e==="change")return i}var Cg=!1;if(xi){var wf;if(xi){var bf="oninput"in document;if(!bf){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),bf=typeof xg.oninput=="function"}wf=bf}else wf=!1;Cg=wf&&(!document.documentMode||9<document.documentMode)}function Dg(){cr&&(cr.detachEvent("onpropertychange",Ng),ul=cr=null)}function Ng(e){if(e.propertyName==="value"&&ec(ul)){var i=[];oa(i,ul,e,Fa(e)),ju(GS,i)}}function QS(e,i,a){e==="focusin"?(Dg(),cr=i,ul=a,cr.attachEvent("onpropertychange",Ng)):e==="focusout"&&Dg()}function YS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ec(ul)}function KS(e,i){if(e==="click")return ec(i)}function $S(e,i){if(e==="input"||e==="change")return ec(i)}function XS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Wn=typeof Object.is=="function"?Object.is:XS;function cl(e,i){if(Wn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!qr.call(i,h)||!Wn(e[h],i[h]))return!1}return!0}function Og(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mg(e,i){var a=Og(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Og(a)}}function Vg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Vg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function kg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ba(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ba(e.document)}return i}function Af(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var JS=xi&&"documentMode"in document&&11>=document.documentMode,$a=null,Rf=null,hl=null,If=!1;function Pg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||$a==null||$a!==Ba(l)||(l=$a,"selectionStart"in l&&Af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=Hc(Rf,"onSelect"),0<l.length&&(i=new ia("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=$a)))}function la(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Xa={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},Cf={},Lg={};xi&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function ua(e){if(Cf[e])return Cf[e];if(!Xa[e])return e;var i=Xa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Lg)return Cf[e]=i[a];return e}var Ug=ua("animationend"),zg=ua("animationiteration"),jg=ua("animationstart"),ZS=ua("transitionrun"),WS=ua("transitionstart"),tw=ua("transitioncancel"),Bg=ua("transitionend"),qg=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function Di(e,i){qg.set(e,i),kt(i,[e])}var nc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},gi=[],Ja=0,Df=0;function ic(){for(var e=Ja,i=Df=Ja=0;i<e;){var a=gi[i];gi[i++]=null;var l=gi[i];gi[i++]=null;var h=gi[i];gi[i++]=null;var d=gi[i];if(gi[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Hg(a,h,d)}}function rc(e,i,a,l){gi[Ja++]=e,gi[Ja++]=i,gi[Ja++]=a,gi[Ja++]=l,Df|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Nf(e,i,a,l){return rc(e,i,a,l),sc(e)}function ca(e,i){return rc(e,null,null,i),sc(e)}function Hg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ke(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function sc(e){if(50<Ml)throw Ml=0,jd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Za={};function ew(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(e,i,a,l){return new ew(e,i,a,l)}function Of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hr(e,i){var a=e.alternate;return a===null?(a=ti(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Fg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ac(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")Of(e)&&(_=1);else if(typeof e=="string")_=ab(e,a,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=ti(31,a,i,h),e.elementType=R,e.lanes=d,e;case X:return ha(a.children,h,d,i);case G:_=8,h|=24;break;case st:return e=ti(12,a,i,h|2),e.elementType=st,e.lanes=d,e;case It:return e=ti(13,a,i,h),e.elementType=It,e.lanes=d,e;case bt:return e=ti(19,a,i,h),e.elementType=bt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:_=10;break t;case lt:_=9;break t;case St:_=11;break t;case I:_=14;break t;case A:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=ti(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function ha(e,i,a,l){return e=ti(7,e,l,i),e.lanes=a,e}function Mf(e,i,a){return e=ti(6,e,null,i),e.lanes=a,e}function Gg(e){var i=ti(18,null,null,0);return i.stateNode=e,i}function Vf(e,i,a){return i=ti(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Qg=new WeakMap;function yi(e,i){if(typeof e=="object"&&e!==null){var a=Qg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Br(i)},Qg.set(e,i),i)}return{value:e,source:i,stack:Br(i)}}var Wa=[],to=0,oc=null,fl=0,_i=[],vi=0,rs=null,qi=1,Hi="";function fr(e,i){Wa[to++]=fl,Wa[to++]=oc,oc=e,fl=i}function Yg(e,i,a){_i[vi++]=qi,_i[vi++]=Hi,_i[vi++]=rs,rs=e;var l=qi;e=Hi;var h=32-Ke(l)-1;l&=~(1<<h),a+=1;var d=32-Ke(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,qi=1<<32-Ke(i)+h|a<<h|l,Hi=d+e}else qi=1<<d|a<<h|l,Hi=e}function kf(e){e.return!==null&&(fr(e,1),Yg(e,1,0))}function Pf(e){for(;e===oc;)oc=Wa[--to],Wa[to]=null,fl=Wa[--to],Wa[to]=null;for(;e===rs;)rs=_i[--vi],_i[vi]=null,Hi=_i[--vi],_i[vi]=null,qi=_i[--vi],_i[vi]=null}function Kg(e,i){_i[vi++]=qi,_i[vi++]=Hi,_i[vi++]=rs,qi=i.id,Hi=i.overflow,rs=e}var cn=null,de=null,Kt=!1,ss=null,Ei=!1,Lf=Error(s(519));function as(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(yi(i,e)),Lf}function $g(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[ve]=e,i[be]=l,a){case"dialog":Ht("cancel",i),Ht("close",i);break;case"iframe":case"object":case"embed":Ht("load",i);break;case"video":case"audio":for(a=0;a<kl.length;a++)Ht(kl[a],i);break;case"source":Ht("error",i);break;case"img":case"image":case"link":Ht("error",i),Ht("load",i);break;case"details":Ht("toggle",i);break;case"input":Ht("invalid",i),ta(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ht("invalid",i);break;case"textarea":Ht("invalid",i),$r(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||fv(i.textContent,a)?(l.popover!=null&&(Ht("beforetoggle",i),Ht("toggle",i)),l.onScroll!=null&&Ht("scroll",i),l.onScrollEnd!=null&&Ht("scrollend",i),l.onClick!=null&&(i.onclick=tn),i=!0):i=!1,i||as(e,!0)}function Xg(e){for(cn=e.return;cn;)switch(cn.tag){case 5:case 31:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:cn=cn.return}}function eo(e){if(e!==cn)return!1;if(!Kt)return Xg(e),Kt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||em(e.type,e.memoizedProps)),a=!a),a&&de&&as(e),Xg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));de=Tv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));de=Tv(e)}else i===27?(i=de,Es(e.type)?(e=am,am=null,de=e):de=i):de=cn?Si(e.stateNode.nextSibling):null;return!0}function fa(){de=cn=null,Kt=!1}function Uf(){var e=ss;return e!==null&&(Fn===null?Fn=e:Fn.push.apply(Fn,e),ss=null),e}function dl(e){ss===null?ss=[e]:ss.push(e)}var zf=M(null),da=null,dr=null;function os(e,i,a){at(zf,i._currentValue),i._currentValue=a}function mr(e){e._currentValue=zf.current,W(zf)}function jf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Bf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var D=0;D<i.length;D++)if(S.context===i[D]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),jf(d.return,a,e),l||(_=null);break t}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),jf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function no(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;Wn(h.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(h===Vt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(jl):e=[jl])}h=h.return}e!==null&&Bf(i,e,a,l),i.flags|=262144}function lc(e){for(e=e.firstContext;e!==null;){if(!Wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ma(e){da=e,dr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function hn(e){return Jg(da,e)}function uc(e,i){return da===null&&ma(e),Jg(e,i)}function Jg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},dr===null){if(e===null)throw Error(s(308));dr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else dr=dr.next=i;return a}var nw=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},iw=r.unstable_scheduleCallback,rw=r.unstable_NormalPriority,Le={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new nw,data:new Map,refCount:0}}function ml(e){e.refCount--,e.refCount===0&&iw(rw,function(){e.controller.abort()})}var pl=null,Hf=0,io=0,ro=null;function sw(e,i){if(pl===null){var a=pl=[];Hf=0,io=Qd(),ro={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,i.then(Zg,Zg),i}function Zg(){if(--Hf===0&&pl!==null){ro!==null&&(ro.status="fulfilled");var e=pl;pl=null,io=0,ro=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function aw(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Wg=J.S;J.S=function(e,i){P_=Qe(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&sw(e,i),Wg!==null&&Wg(e,i)};var pa=M(null);function Ff(){var e=pa.current;return e!==null?e:he.pooledCache}function cc(e,i){i===null?at(pa,pa.current):at(pa,i.pool)}function ty(){var e=Ff();return e===null?null:{parent:Le._currentValue,pool:e}}var so=Error(s(460)),Gf=Error(s(474)),hc=Error(s(542)),fc={then:function(){}};function ey(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ny(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(tn,tn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ry(e),e;default:if(typeof i.status=="string")i.then(tn,tn);else{if(e=he,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ry(e),e}throw ya=i,so}}function ga(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ya=a,so):a}}var ya=null;function iy(){if(ya===null)throw Error(s(459));var e=ya;return ya=null,e}function ry(e){if(e===so||e===hc)throw Error(s(483))}var ao=null,gl=0;function dc(e){var i=gl;return gl+=1,ao===null&&(ao=[]),ny(ao,e,i)}function yl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function mc(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function sy(e){function i(L,N){if(e){var B=L.deletions;B===null?(L.deletions=[N],L.flags|=16):B.push(N)}}function a(L,N){if(!e)return null;for(;N!==null;)i(L,N),N=N.sibling;return null}function l(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function h(L,N){return L=hr(L,N),L.index=0,L.sibling=null,L}function d(L,N,B){return L.index=B,e?(B=L.alternate,B!==null?(B=B.index,B<N?(L.flags|=67108866,N):B):(L.flags|=67108866,N)):(L.flags|=1048576,N)}function _(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function S(L,N,B,tt){return N===null||N.tag!==6?(N=Mf(B,L.mode,tt),N.return=L,N):(N=h(N,B),N.return=L,N)}function D(L,N,B,tt){var Tt=B.type;return Tt===X?Z(L,N,B.props.children,tt,B.key):N!==null&&(N.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===A&&ga(Tt)===N.type)?(N=h(N,B.props),yl(N,B),N.return=L,N):(N=ac(B.type,B.key,B.props,null,L.mode,tt),yl(N,B),N.return=L,N)}function q(L,N,B,tt){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=Vf(B,L.mode,tt),N.return=L,N):(N=h(N,B.children||[]),N.return=L,N)}function Z(L,N,B,tt,Tt){return N===null||N.tag!==7?(N=ha(B,L.mode,tt,Tt),N.return=L,N):(N=h(N,B),N.return=L,N)}function nt(L,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Mf(""+N,L.mode,B),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case V:return B=ac(N.type,N.key,N.props,null,L.mode,B),yl(B,N),B.return=L,B;case H:return N=Vf(N,L.mode,B),N.return=L,N;case A:return N=ga(N),nt(L,N,B)}if(Fe(N)||U(N))return N=ha(N,L.mode,B,null),N.return=L,N;if(typeof N.then=="function")return nt(L,dc(N),B);if(N.$$typeof===it)return nt(L,uc(L,N),B);mc(L,N)}return null}function F(L,N,B,tt){var Tt=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Tt!==null?null:S(L,N,""+B,tt);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case V:return B.key===Tt?D(L,N,B,tt):null;case H:return B.key===Tt?q(L,N,B,tt):null;case A:return B=ga(B),F(L,N,B,tt)}if(Fe(B)||U(B))return Tt!==null?null:Z(L,N,B,tt,null);if(typeof B.then=="function")return F(L,N,dc(B),tt);if(B.$$typeof===it)return F(L,N,uc(L,B),tt);mc(L,B)}return null}function Y(L,N,B,tt,Tt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return L=L.get(B)||null,S(N,L,""+tt,Tt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case V:return L=L.get(tt.key===null?B:tt.key)||null,D(N,L,tt,Tt);case H:return L=L.get(tt.key===null?B:tt.key)||null,q(N,L,tt,Tt);case A:return tt=ga(tt),Y(L,N,B,tt,Tt)}if(Fe(tt)||U(tt))return L=L.get(B)||null,Z(N,L,tt,Tt,null);if(typeof tt.then=="function")return Y(L,N,B,dc(tt),Tt);if(tt.$$typeof===it)return Y(L,N,B,uc(N,tt),Tt);mc(N,tt)}return null}function pt(L,N,B,tt){for(var Tt=null,Wt=null,gt=N,Ut=N=0,Gt=null;gt!==null&&Ut<B.length;Ut++){gt.index>Ut?(Gt=gt,gt=null):Gt=gt.sibling;var te=F(L,gt,B[Ut],tt);if(te===null){gt===null&&(gt=Gt);break}e&&gt&&te.alternate===null&&i(L,gt),N=d(te,N,Ut),Wt===null?Tt=te:Wt.sibling=te,Wt=te,gt=Gt}if(Ut===B.length)return a(L,gt),Kt&&fr(L,Ut),Tt;if(gt===null){for(;Ut<B.length;Ut++)gt=nt(L,B[Ut],tt),gt!==null&&(N=d(gt,N,Ut),Wt===null?Tt=gt:Wt.sibling=gt,Wt=gt);return Kt&&fr(L,Ut),Tt}for(gt=l(gt);Ut<B.length;Ut++)Gt=Y(gt,L,Ut,B[Ut],tt),Gt!==null&&(e&&Gt.alternate!==null&&gt.delete(Gt.key===null?Ut:Gt.key),N=d(Gt,N,Ut),Wt===null?Tt=Gt:Wt.sibling=Gt,Wt=Gt);return e&&gt.forEach(function(As){return i(L,As)}),Kt&&fr(L,Ut),Tt}function Rt(L,N,B,tt){if(B==null)throw Error(s(151));for(var Tt=null,Wt=null,gt=N,Ut=N=0,Gt=null,te=B.next();gt!==null&&!te.done;Ut++,te=B.next()){gt.index>Ut?(Gt=gt,gt=null):Gt=gt.sibling;var As=F(L,gt,te.value,tt);if(As===null){gt===null&&(gt=Gt);break}e&&gt&&As.alternate===null&&i(L,gt),N=d(As,N,Ut),Wt===null?Tt=As:Wt.sibling=As,Wt=As,gt=Gt}if(te.done)return a(L,gt),Kt&&fr(L,Ut),Tt;if(gt===null){for(;!te.done;Ut++,te=B.next())te=nt(L,te.value,tt),te!==null&&(N=d(te,N,Ut),Wt===null?Tt=te:Wt.sibling=te,Wt=te);return Kt&&fr(L,Ut),Tt}for(gt=l(gt);!te.done;Ut++,te=B.next())te=Y(gt,L,Ut,te.value,tt),te!==null&&(e&&te.alternate!==null&&gt.delete(te.key===null?Ut:te.key),N=d(te,N,Ut),Wt===null?Tt=te:Wt.sibling=te,Wt=te);return e&&gt.forEach(function(yb){return i(L,yb)}),Kt&&fr(L,Ut),Tt}function ue(L,N,B,tt){if(typeof B=="object"&&B!==null&&B.type===X&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case V:t:{for(var Tt=B.key;N!==null;){if(N.key===Tt){if(Tt=B.type,Tt===X){if(N.tag===7){a(L,N.sibling),tt=h(N,B.props.children),tt.return=L,L=tt;break t}}else if(N.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===A&&ga(Tt)===N.type){a(L,N.sibling),tt=h(N,B.props),yl(tt,B),tt.return=L,L=tt;break t}a(L,N);break}else i(L,N);N=N.sibling}B.type===X?(tt=ha(B.props.children,L.mode,tt,B.key),tt.return=L,L=tt):(tt=ac(B.type,B.key,B.props,null,L.mode,tt),yl(tt,B),tt.return=L,L=tt)}return _(L);case H:t:{for(Tt=B.key;N!==null;){if(N.key===Tt)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(L,N.sibling),tt=h(N,B.children||[]),tt.return=L,L=tt;break t}else{a(L,N);break}else i(L,N);N=N.sibling}tt=Vf(B,L.mode,tt),tt.return=L,L=tt}return _(L);case A:return B=ga(B),ue(L,N,B,tt)}if(Fe(B))return pt(L,N,B,tt);if(U(B)){if(Tt=U(B),typeof Tt!="function")throw Error(s(150));return B=Tt.call(B),Rt(L,N,B,tt)}if(typeof B.then=="function")return ue(L,N,dc(B),tt);if(B.$$typeof===it)return ue(L,N,uc(L,B),tt);mc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(L,N.sibling),tt=h(N,B),tt.return=L,L=tt):(a(L,N),tt=Mf(B,L.mode,tt),tt.return=L,L=tt),_(L)):a(L,N)}return function(L,N,B,tt){try{gl=0;var Tt=ue(L,N,B,tt);return ao=null,Tt}catch(gt){if(gt===so||gt===hc)throw gt;var Wt=ti(29,gt,null,L.mode);return Wt.lanes=tt,Wt.return=L,Wt}finally{}}}var _a=sy(!0),ay=sy(!1),ls=!1;function Qf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function us(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function cs(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ne&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=sc(e),Hg(e,null,a),i}return rc(e,l,i,a),sc(e)}function _l(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,$n(e,a)}}function Kf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var $f=!1;function vl(){if($f){var e=ro;if(e!==null)throw e}}function El(e,i,a,l){$f=!1;var h=e.updateQueue;ls=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var D=S,q=D.next;D.next=null,_===null?d=q:_.next=q,_=D;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=q:S.next=q,Z.lastBaseUpdate=D))}if(d!==null){var nt=h.baseState;_=0,Z=q=D=null,S=d;do{var F=S.lane&-536870913,Y=F!==S.lane;if(Y?(Ft&F)===F:(l&F)===F){F!==0&&F===io&&($f=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var pt=e,Rt=S;F=i;var ue=a;switch(Rt.tag){case 1:if(pt=Rt.payload,typeof pt=="function"){nt=pt.call(ue,nt,F);break t}nt=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Rt.payload,F=typeof pt=="function"?pt.call(ue,nt,F):pt,F==null)break t;nt=T({},nt,F);break t;case 2:ls=!0}}F=S.callback,F!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(q=Z=Y,D=nt):Z=Z.next=Y,_|=F;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Z===null&&(D=nt),h.baseState=D,h.firstBaseUpdate=q,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),ps|=_,e.lanes=_,e.memoizedState=nt}}function oy(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function ly(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)oy(a[e],i)}var oo=M(null),pc=M(0);function uy(e,i){e=wr,at(pc,e),at(oo,i),wr=e|i.baseLanes}function Xf(){at(pc,wr),at(oo,oo.current)}function Jf(){wr=pc.current,W(oo),W(pc)}var ei=M(null),Ti=null;function hs(e){var i=e.alternate;at(Oe,Oe.current&1),at(ei,e),Ti===null&&(i===null||oo.current!==null||i.memoizedState!==null)&&(Ti=e)}function Zf(e){at(Oe,Oe.current),at(ei,e),Ti===null&&(Ti=e)}function cy(e){e.tag===22?(at(Oe,Oe.current),at(ei,e),Ti===null&&(Ti=e)):fs()}function fs(){at(Oe,Oe.current),at(ei,ei.current)}function ni(e){W(ei),Ti===e&&(Ti=null),W(Oe)}var Oe=M(0);function gc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rm(a)||sm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var pr=0,Pt=null,oe=null,Ue=null,yc=!1,lo=!1,va=!1,_c=0,Tl=0,uo=null,ow=0;function Re(){throw Error(s(321))}function Wf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Wn(e[a],i[a]))return!1;return!0}function td(e,i,a,l,h,d){return pr=d,Pt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=e===null||e.memoizedState===null?Yy:pd,va=!1,d=a(l,h),va=!1,lo&&(d=fy(i,a,l,h)),hy(e),d}function hy(e){J.H=bl;var i=oe!==null&&oe.next!==null;if(pr=0,Ue=oe=Pt=null,yc=!1,Tl=0,uo=null,i)throw Error(s(300));e===null||ze||(e=e.dependencies,e!==null&&lc(e)&&(ze=!0))}function fy(e,i,a,l){Pt=e;var h=0;do{if(lo&&(uo=null),Tl=0,lo=!1,25<=h)throw Error(s(301));if(h+=1,Ue=oe=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=Ky,d=i(a,l)}while(lo);return d}function lw(){var e=J.H,i=e.useState()[0];return i=typeof i.then=="function"?Sl(i):i,e=e.useState()[0],(oe!==null?oe.memoizedState:null)!==e&&(Pt.flags|=1024),i}function ed(){var e=_c!==0;return _c=0,e}function nd(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function id(e){if(yc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}yc=!1}pr=0,Ue=oe=Pt=null,lo=!1,Tl=_c=0,uo=null}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Pt.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Me(){if(oe===null){var e=Pt.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var i=Ue===null?Pt.memoizedState:Ue.next;if(i!==null)Ue=i,oe=e;else{if(e===null)throw Pt.alternate===null?Error(s(467)):Error(s(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Ue===null?Pt.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(e){var i=Tl;return Tl+=1,uo===null&&(uo=[]),e=ny(uo,e,i),i=Pt,(Ue===null?i.memoizedState:Ue.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?Yy:pd),e}function Ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Sl(e);if(e.$$typeof===it)return hn(e)}throw Error(s(438,String(e)))}function rd(e){var i=null,a=Pt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Pt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=vc(),Pt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function gr(e,i){return typeof i=="function"?i(e):i}function Tc(e){var i=Me();return sd(i,oe,e)}function sd(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var S=_=null,D=null,q=i,Z=!1;do{var nt=q.lane&-536870913;if(nt!==q.lane?(Ft&nt)===nt:(pr&nt)===nt){var F=q.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),nt===io&&(Z=!0);else if((pr&F)===F){q=q.next,F===io&&(Z=!0);continue}else nt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(S=D=nt,_=d):D=D.next=nt,Pt.lanes|=F,ps|=F;nt=q.action,va&&a(d,nt),d=q.hasEagerState?q.eagerState:a(d,nt)}else F={lane:nt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(S=D=F,_=d):D=D.next=F,Pt.lanes|=nt,ps|=nt;q=q.next}while(q!==null&&q!==i);if(D===null?_=d:D.next=S,!Wn(d,e.memoizedState)&&(ze=!0,Z&&(a=ro,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ad(e){var i=Me(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Wn(d,i.memoizedState)||(ze=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function dy(e,i,a){var l=Pt,h=Me(),d=Kt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Wn((oe||h).memoizedState,a);if(_&&(h.memoizedState=a,ze=!0),h=h.queue,ud(gy.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Ue!==null&&Ue.memoizedState.tag&1){if(l.flags|=2048,co(9,{destroy:void 0},py.bind(null,l,h,a,i),null),he===null)throw Error(s(349));d||(pr&127)!==0||my(l,i,a)}return a}function my(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Pt.updateQueue,i===null?(i=vc(),Pt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function py(e,i,a,l){i.value=a,i.getSnapshot=l,yy(i)&&_y(e)}function gy(e,i,a){return a(function(){yy(i)&&_y(e)})}function yy(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Wn(e,a)}catch{return!0}}function _y(e){var i=ca(e,2);i!==null&&Gn(i,e,2)}function od(e){var i=Vn();if(typeof e=="function"){var a=e;if(e=a(),va){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:e},i}function vy(e,i,a,l){return e.baseState=a,sd(e,oe,typeof l=="function"?l:gr)}function uw(e,i,a,l,h){if(bc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};J.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ey(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ey(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=J.T,_={};J.T=_;try{var S=a(h,l),D=J.S;D!==null&&D(_,S),Ty(e,i,S)}catch(q){ld(e,i,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),J.T=d}}else try{d=a(h,l),Ty(e,i,d)}catch(q){ld(e,i,q)}}function Ty(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Sy(e,i,l)},function(l){return ld(e,i,l)}):Sy(e,i,a)}function Sy(e,i,a){i.status="fulfilled",i.value=a,wy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Ey(e,a)))}function ld(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,wy(i),i=i.next;while(i!==l)}e.action=null}function wy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function by(e,i){return i}function Ay(e,i){if(Kt){var a=he.formState;if(a!==null){t:{var l=Pt;if(Kt){if(de){e:{for(var h=de,d=Ei;h.nodeType!==8;){if(!d){h=null;break e}if(h=Si(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){de=Si(h.nextSibling),l=h.data==="F!";break t}}as(l)}l=!1}l&&(i=a[0])}}return a=Vn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:by,lastRenderedState:i},a.queue=l,a=Fy.bind(null,Pt,l),l.dispatch=a,l=od(!1),d=md.bind(null,Pt,!1,l.queue),l=Vn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=uw.bind(null,Pt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Ry(e){var i=Me();return Iy(i,oe,e)}function Iy(e,i,a){if(i=sd(e,i,by)[0],e=Tc(gr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Sl(i)}catch(_){throw _===so?hc:_}else l=i;i=Me();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Pt.flags|=2048,co(9,{destroy:void 0},cw.bind(null,h,a),null)),[l,d,e]}function cw(e,i){e.action=i}function Cy(e){var i=Me(),a=oe;if(a!==null)return Iy(i,a,e);Me(),i=i.memoizedState,a=Me();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function co(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Pt.updateQueue,i===null&&(i=vc(),Pt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function xy(){return Me().memoizedState}function Sc(e,i,a,l){var h=Vn();Pt.flags|=e,h.memoizedState=co(1|i,{destroy:void 0},a,l===void 0?null:l)}function wc(e,i,a,l){var h=Me();l=l===void 0?null:l;var d=h.memoizedState.inst;oe!==null&&l!==null&&Wf(l,oe.memoizedState.deps)?h.memoizedState=co(i,d,a,l):(Pt.flags|=e,h.memoizedState=co(1|i,d,a,l))}function Dy(e,i){Sc(8390656,8,e,i)}function ud(e,i){wc(2048,8,e,i)}function hw(e){Pt.flags|=4;var i=Pt.updateQueue;if(i===null)i=vc(),Pt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Ny(e){var i=Me().memoizedState;return hw({ref:i,nextImpl:e}),function(){if((ne&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Oy(e,i){return wc(4,2,e,i)}function My(e,i){return wc(4,4,e,i)}function Vy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ky(e,i,a){a=a!=null?a.concat([e]):null,wc(4,4,Vy.bind(null,i,e),a)}function cd(){}function Py(e,i){var a=Me();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Wf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Ly(e,i){var a=Me();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Wf(i,l[1]))return l[0];if(l=e(),va){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function hd(e,i,a){return a===void 0||(pr&1073741824)!==0&&(Ft&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=U_(),Pt.lanes|=e,ps|=e,a)}function Uy(e,i,a,l){return Wn(a,i)?a:oo.current!==null?(e=hd(e,a,l),Wn(e,i)||(ze=!0),e):(pr&42)===0||(pr&1073741824)!==0&&(Ft&261930)===0?(ze=!0,e.memoizedState=a):(e=U_(),Pt.lanes|=e,ps|=e,i)}function zy(e,i,a,l,h){var d=ht.p;ht.p=d!==0&&8>d?d:8;var _=J.T,S={};J.T=S,md(e,!1,i,a);try{var D=h(),q=J.S;if(q!==null&&q(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=aw(D,l);wl(e,i,Z,si(e))}else wl(e,i,l,si(e))}catch(nt){wl(e,i,{then:function(){},status:"rejected",reason:nt},si())}finally{ht.p=d,_!==null&&S.types!==null&&(_.types=S.types),J.T=_}}function fw(){}function fd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=jy(e).queue;zy(e,h,i,yt,a===null?fw:function(){return By(e),a(l)})}function jy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:yt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function By(e){var i=jy(e);i.next===null&&(i=e.alternate.memoizedState),wl(e,i.next.queue,{},si())}function dd(){return hn(jl)}function qy(){return Me().memoizedState}function Hy(){return Me().memoizedState}function dw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=si();e=us(a);var l=cs(i,e,a);l!==null&&(Gn(l,i,a),_l(l,i,a)),i={cache:qf()},e.payload=i;return}i=i.return}}function mw(e,i,a){var l=si();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},bc(e)?Gy(i,a):(a=Nf(e,i,a,l),a!==null&&(Gn(a,e,l),Qy(a,i,l)))}function Fy(e,i,a){var l=si();wl(e,i,a,l)}function wl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(bc(e))Gy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,Wn(S,_))return rc(e,i,h,0),he===null&&ic(),!1}catch{}finally{}if(a=Nf(e,i,h,l),a!==null)return Gn(a,e,l),Qy(a,i,l),!0}return!1}function md(e,i,a,l){if(l={lane:2,revertLane:Qd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},bc(e)){if(i)throw Error(s(479))}else i=Nf(e,a,l,2),i!==null&&Gn(i,e,2)}function bc(e){var i=e.alternate;return e===Pt||i!==null&&i===Pt}function Gy(e,i){lo=yc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Qy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,$n(e,a)}}var bl={readContext:hn,use:Ec,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re,useHostTransitionStatus:Re,useFormState:Re,useActionState:Re,useOptimistic:Re,useMemoCache:Re,useCacheRefresh:Re};bl.useEffectEvent=Re;var Yy={readContext:hn,use:Ec,useCallback:function(e,i){return Vn().memoizedState=[e,i===void 0?null:i],e},useContext:hn,useEffect:Dy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Sc(4194308,4,Vy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Sc(4194308,4,e,i)},useInsertionEffect:function(e,i){Sc(4,2,e,i)},useMemo:function(e,i){var a=Vn();i=i===void 0?null:i;var l=e();if(va){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=Vn();if(a!==void 0){var h=a(i);if(va){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=mw.bind(null,Pt,e),[l.memoizedState,e]},useRef:function(e){var i=Vn();return e={current:e},i.memoizedState=e},useState:function(e){e=od(e);var i=e.queue,a=Fy.bind(null,Pt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(e,i){var a=Vn();return hd(a,e,i)},useTransition:function(){var e=od(!1);return e=zy.bind(null,Pt,e.queue,!0,!1),Vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Pt,h=Vn();if(Kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),he===null)throw Error(s(349));(Ft&127)!==0||my(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Dy(gy.bind(null,l,d,e),[e]),l.flags|=2048,co(9,{destroy:void 0},py.bind(null,l,d,a,i),null),a},useId:function(){var e=Vn(),i=he.identifierPrefix;if(Kt){var a=Hi,l=qi;a=(l&~(1<<32-Ke(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=_c++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=ow++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:dd,useFormState:Ay,useActionState:Ay,useOptimistic:function(e){var i=Vn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=md.bind(null,Pt,!0,a),a.dispatch=i,[e,i]},useMemoCache:rd,useCacheRefresh:function(){return Vn().memoizedState=dw.bind(null,Pt)},useEffectEvent:function(e){var i=Vn(),a={impl:e};return i.memoizedState=a,function(){if((ne&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},pd={readContext:hn,use:Ec,useCallback:Py,useContext:hn,useEffect:ud,useImperativeHandle:ky,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:Ly,useReducer:Tc,useRef:xy,useState:function(){return Tc(gr)},useDebugValue:cd,useDeferredValue:function(e,i){var a=Me();return Uy(a,oe.memoizedState,e,i)},useTransition:function(){var e=Tc(gr)[0],i=Me().memoizedState;return[typeof e=="boolean"?e:Sl(e),i]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:dd,useFormState:Ry,useActionState:Ry,useOptimistic:function(e,i){var a=Me();return vy(a,oe,e,i)},useMemoCache:rd,useCacheRefresh:Hy};pd.useEffectEvent=Ny;var Ky={readContext:hn,use:Ec,useCallback:Py,useContext:hn,useEffect:ud,useImperativeHandle:ky,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:Ly,useReducer:ad,useRef:xy,useState:function(){return ad(gr)},useDebugValue:cd,useDeferredValue:function(e,i){var a=Me();return oe===null?hd(a,e,i):Uy(a,oe.memoizedState,e,i)},useTransition:function(){var e=ad(gr)[0],i=Me().memoizedState;return[typeof e=="boolean"?e:Sl(e),i]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:dd,useFormState:Cy,useActionState:Cy,useOptimistic:function(e,i){var a=Me();return oe!==null?vy(a,oe,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:Hy};Ky.useEffectEvent=Ny;function gd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var yd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=si(),h=us(l);h.payload=i,a!=null&&(h.callback=a),i=cs(e,h,l),i!==null&&(Gn(i,e,l),_l(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=si(),h=us(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=cs(e,h,l),i!==null&&(Gn(i,e,l),_l(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=si(),l=us(a);l.tag=2,i!=null&&(l.callback=i),i=cs(e,l,a),i!==null&&(Gn(i,e,a),_l(i,e,a))}};function $y(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!cl(a,l)||!cl(h,d):!0}function Xy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&yd.enqueueReplaceState(i,i.state,null)}function Ea(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Jy(e){nc(e)}function Zy(e){console.error(e)}function Wy(e){nc(e)}function Ac(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function t_(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _d(e,i,a){return a=us(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(e,i)},a}function e_(e){return e=us(e),e.tag=3,e}function n_(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){t_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){t_(i,a,l),typeof h!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function pw(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&no(i,a,h,!0),a=ei.current,a!==null){switch(a.tag){case 31:case 13:return Ti===null?Lc():a.alternate===null&&Ie===0&&(Ie=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Hd(e,l,h)),!1;case 22:return a.flags|=65536,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Hd(e,l,h)),!1}throw Error(s(435,a.tag))}return Hd(e,l,h),Lc(),!1}if(Kt)return i=ei.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Lf&&(e=Error(s(422),{cause:l}),dl(yi(e,a)))):(l!==Lf&&(i=Error(s(423),{cause:l}),dl(yi(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=yi(l,a),h=_d(e.stateNode,l,h),Kf(e,h),Ie!==4&&(Ie=2)),!1;var d=Error(s(520),{cause:l});if(d=yi(d,a),Ol===null?Ol=[d]:Ol.push(d),Ie!==4&&(Ie=2),i===null)return!0;l=yi(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=_d(a.stateNode,l,e),Kf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(gs===null||!gs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=e_(h),n_(h,e,a,l),Kf(a,h),!1}a=a.return}while(a!==null);return!1}var vd=Error(s(461)),ze=!1;function fn(e,i,a,l){i.child=e===null?ay(i,null,a,l):_a(i,e.child,a,l)}function i_(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return ma(i),l=td(e,i,a,_,d,h),S=ed(),e!==null&&!ze?(nd(e,i,h),yr(e,i,h)):(Kt&&S&&kf(i),i.flags|=1,fn(e,i,l,h),i.child)}function r_(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Of(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,s_(e,i,d,l,h)):(e=ac(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Id(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(_,l)&&e.ref===i.ref)return yr(e,i,h)}return i.flags|=1,e=hr(d,l),e.ref=i.ref,e.return=i,i.child=e}function s_(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(cl(d,l)&&e.ref===i.ref)if(ze=!1,i.pendingProps=l=d,Id(e,h))(e.flags&131072)!==0&&(ze=!0);else return i.lanes=e.lanes,yr(e,i,h)}return Ed(e,i,a,l,h)}function a_(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return o_(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&cc(i,d!==null?d.cachePool:null),d!==null?uy(i,d):Xf(),cy(i);else return l=i.lanes=536870912,o_(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(cc(i,d.cachePool),uy(i,d),fs(),i.memoizedState=null):(e!==null&&cc(i,null),Xf(),fs());return fn(e,i,h,a),i.child}function Al(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function o_(e,i,a,l,h){var d=Ff();return d=d===null?null:{parent:Le._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&cc(i,null),Xf(),cy(i),e!==null&&no(e,i,l,!0),i.childLanes=h,null}function Rc(e,i){return i=Cc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function l_(e,i,a){return _a(i,e.child,null,a),e=Rc(i,i.pendingProps),e.flags|=2,ni(i),i.memoizedState=null,e}function gw(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Kt){if(l.mode==="hidden")return e=Rc(i,l),i.lanes=536870912,Al(null,e);if(Zf(i),(e=de)?(e=Ev(e,Ei),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:rs!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},a=Gg(e),a.return=i,i.child=a,cn=i,de=null)):e=null,e===null)throw as(i);return i.lanes=536870912,null}return Rc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Zf(i),h)if(i.flags&256)i.flags&=-257,i=l_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(ze||no(e,i,a,!1),h=(a&e.childLanes)!==0,ze||h){if(l=he,l!==null&&(_=Li(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ca(e,_),Gn(l,e,_),vd;Lc(),i=l_(e,i,a)}else e=d.treeContext,de=Si(_.nextSibling),cn=i,Kt=!0,ss=null,Ei=!1,e!==null&&Kg(i,e),i=Rc(i,l),i.flags|=4096;return i}return e=hr(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Ic(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Ed(e,i,a,l,h){return ma(i),a=td(e,i,a,l,void 0,h),l=ed(),e!==null&&!ze?(nd(e,i,h),yr(e,i,h)):(Kt&&l&&kf(i),i.flags|=1,fn(e,i,a,h),i.child)}function u_(e,i,a,l,h,d){return ma(i),i.updateQueue=null,a=fy(i,l,a,h),hy(e),l=ed(),e!==null&&!ze?(nd(e,i,d),yr(e,i,d)):(Kt&&l&&kf(i),i.flags|=1,fn(e,i,a,d),i.child)}function c_(e,i,a,l,h){if(ma(i),i.stateNode===null){var d=Za,_=a.contextType;typeof _=="object"&&_!==null&&(d=hn(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Qf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?hn(_):Za,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(gd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&yd.enqueueReplaceState(d,d.state,null),El(i,l,d,h),vl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var S=i.memoizedProps,D=Ea(a,S);d.props=D;var q=d.context,Z=a.contextType;_=Za,typeof Z=="object"&&Z!==null&&(_=hn(Z));var nt=a.getDerivedStateFromProps;Z=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||q!==_)&&Xy(i,d,l,_),ls=!1;var F=i.memoizedState;d.state=F,El(i,l,d,h),vl(),q=i.memoizedState,S||F!==q||ls?(typeof nt=="function"&&(gd(i,a,nt,l),q=i.memoizedState),(D=ls||$y(i,a,D,l,F,q,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Yf(e,i),_=i.memoizedProps,Z=Ea(a,_),d.props=Z,nt=i.pendingProps,F=d.context,q=a.contextType,D=Za,typeof q=="object"&&q!==null&&(D=hn(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==nt||F!==D)&&Xy(i,d,l,D),ls=!1,F=i.memoizedState,d.state=F,El(i,l,d,h),vl();var Y=i.memoizedState;_!==nt||F!==Y||ls||e!==null&&e.dependencies!==null&&lc(e.dependencies)?(typeof S=="function"&&(gd(i,a,S,l),Y=i.memoizedState),(Z=ls||$y(i,a,Z,l,F,Y,D)||e!==null&&e.dependencies!==null&&lc(e.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=D,l=Z):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ic(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=_a(i,e.child,null,h),i.child=_a(i,null,a,h)):fn(e,i,a,h),i.memoizedState=d.state,e=i.child):e=yr(e,i,h),e}function h_(e,i,a,l){return fa(),i.flags|=256,fn(e,i,a,l),i.child}var Td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(e){return{baseLanes:e,cachePool:ty()}}function wd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=ri),e}function f_(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Kt){if(h?hs(i):fs(),(e=de)?(e=Ev(e,Ei),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:rs!==null?{id:qi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},a=Gg(e),a.return=i,i.child=a,cn=i,de=null)):e=null,e===null)throw as(i);return sm(e)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(fs(),h=i.mode,S=Cc({mode:"hidden",children:S},h),l=ha(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Sd(a),l.childLanes=wd(e,_,a),i.memoizedState=Td,Al(null,l)):(hs(i),bd(i,S))}var D=e.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(d)i.flags&256?(hs(i),i.flags&=-257,i=Ad(e,i,a)):i.memoizedState!==null?(fs(),i.child=e.child,i.flags|=128,i=null):(fs(),S=l.fallback,h=i.mode,l=Cc({mode:"visible",children:l.children},h),S=ha(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,_a(i,e.child,null,a),l=i.child,l.memoizedState=Sd(a),l.childLanes=wd(e,_,a),i.memoizedState=Td,i=Al(null,l));else if(hs(i),sm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,dl({value:l,source:null,stack:null}),i=Ad(e,i,a)}else if(ze||no(e,i,a,!1),_=(a&e.childLanes)!==0,ze||_){if(_=he,_!==null&&(l=Li(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,ca(e,l),Gn(_,e,l),vd;rm(S)||Lc(),i=Ad(e,i,a)}else rm(S)?(i.flags|=192,i.child=e.child,i=null):(e=D.treeContext,de=Si(S.nextSibling),cn=i,Kt=!0,ss=null,Ei=!1,e!==null&&Kg(i,e),i=bd(i,l.children),i.flags|=4096);return i}return h?(fs(),S=l.fallback,h=i.mode,D=e.child,q=D.sibling,l=hr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?S=hr(q,S):(S=ha(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Al(null,l),l=i.child,S=e.child.memoizedState,S===null?S=Sd(a):(h=S.cachePool,h!==null?(D=Le._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=ty(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=wd(e,_,a),i.memoizedState=Td,Al(e.child,l)):(hs(i),a=e.child,e=a.sibling,a=hr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function bd(e,i){return i=Cc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Cc(e,i){return e=ti(22,e,null,i),e.lanes=0,e}function Ad(e,i,a){return _a(i,e.child,null,a),e=bd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function d_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),jf(e.return,i,a)}function Rd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function m_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Oe.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,at(Oe,_),fn(e,i,l,a),l=Kt?fl:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&d_(e,a,i);else if(e.tag===19)d_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&gc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Rd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&gc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Rd(i,!0,a,null,d,l);break;case"together":Rd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function yr(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),ps|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(no(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=hr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=hr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Id(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&lc(e)))}function yw(e,i,a){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),os(i,Le,e.memoizedState.cache),fa();break;case 27:case 5:ke(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:os(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Zf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(hs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?f_(e,i,a):(hs(i),e=yr(e,i,a),e!==null?e.sibling:null);hs(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(no(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return m_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(Oe,Oe.current),l)break;return null;case 22:return i.lanes=0,a_(e,i,a,i.pendingProps);case 24:os(i,Le,e.memoizedState.cache)}return yr(e,i,a)}function p_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)ze=!0;else{if(!Id(e,a)&&(i.flags&128)===0)return ze=!1,yw(e,i,a);ze=(e.flags&131072)!==0}else ze=!1,Kt&&(i.flags&1048576)!==0&&Yg(i,fl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=ga(i.elementType),i.type=e,typeof e=="function")Of(e)?(l=Ea(e,l),i.tag=1,i=c_(null,i,e,l,a)):(i.tag=0,i=Ed(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===St){i.tag=11,i=i_(null,i,e,l,a);break t}else if(h===I){i.tag=14,i=r_(null,i,e,l,a);break t}}throw i=De(e)||e,Error(s(306,i,""))}}return i;case 0:return Ed(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ea(l,i.pendingProps),c_(e,i,l,h,a);case 3:t:{if(Te(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Yf(e,i),El(i,l,null,a);var _=i.memoizedState;if(l=_.cache,os(i,Le,l),l!==d.cache&&Bf(i,[Le],a,!0),vl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=h_(e,i,l,a);break t}else if(l!==h){h=yi(Error(s(424)),i),dl(h),i=h_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(de=Si(e.firstChild),cn=i,Kt=!0,ss=null,Ei=!0,a=ay(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fa(),l===h){i=yr(e,i,a);break t}fn(e,i,l,a)}i=i.child}return i;case 26:return Ic(e,i),e===null?(a=Rv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Kt||(a=i.type,e=i.pendingProps,l=Fc(At.current).createElement(a),l[ve]=i,l[be]=e,dn(l,a,e),_t(l),i.stateNode=l):i.memoizedState=Rv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ke(i),e===null&&Kt&&(l=i.stateNode=wv(i.type,i.pendingProps,At.current),cn=i,Ei=!0,h=de,Es(i.type)?(am=h,de=Si(l.firstChild)):de=h),fn(e,i,i.pendingProps.children,a),Ic(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Kt&&((h=l=de)&&(l=Yw(l,i.type,i.pendingProps,Ei),l!==null?(i.stateNode=l,cn=i,de=Si(l.firstChild),Ei=!1,h=!0):h=!1),h||as(i)),ke(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,em(h,d)?l=null:_!==null&&em(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=td(e,i,lw,null,null,a),jl._currentValue=h),Ic(e,i),fn(e,i,l,a),i.child;case 6:return e===null&&Kt&&((e=a=de)&&(a=Kw(a,i.pendingProps,Ei),a!==null?(i.stateNode=a,cn=i,de=null,e=!0):e=!1),e||as(i)),null;case 13:return f_(e,i,a);case 4:return Te(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=_a(i,null,l,a):fn(e,i,l,a),i.child;case 11:return i_(e,i,i.type,i.pendingProps,a);case 7:return fn(e,i,i.pendingProps,a),i.child;case 8:return fn(e,i,i.pendingProps.children,a),i.child;case 12:return fn(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,os(i,i.type,l.value),fn(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ma(i),h=hn(h),l=l(h),i.flags|=1,fn(e,i,l,a),i.child;case 14:return r_(e,i,i.type,i.pendingProps,a);case 15:return s_(e,i,i.type,i.pendingProps,a);case 19:return m_(e,i,a);case 31:return gw(e,i,a);case 22:return a_(e,i,a,i.pendingProps);case 24:return ma(i),l=hn(Le),e===null?(h=Ff(),h===null&&(h=he,d=qf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Qf(i),os(i,Le,h)):((e.lanes&a)!==0&&(Yf(e,i),El(i,null,null,a),vl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),os(i,Le,l)):(l=d.cache,os(i,Le,l),l!==h.cache&&Bf(i,[Le],a,!0))),fn(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function _r(e){e.flags|=4}function Cd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(q_())e.flags|=8192;else throw ya=fc,Gf}else e.flags&=-16777217}function g_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Nv(i))if(q_())e.flags|=8192;else throw ya=fc,Gf}function xc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Zs():536870912,e.lanes|=i,po|=i)}function Rl(e,i){if(!Kt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function me(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function _w(e,i,a){var l=i.pendingProps;switch(Pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(i),null;case 1:return me(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),mr(Le),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(eo(i)?_r(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Uf())),me(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(_r(i),d!==null?(me(i),g_(i,d)):(me(i),Cd(i,h,null,l,a))):d?d!==e.memoizedState?(_r(i),me(i),g_(i,d)):(me(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&_r(i),me(i),Cd(i,h,e,l,a)),null;case 27:if(Ge(i),a=At.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&_r(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return me(i),null}e=ut.current,eo(i)?$g(i):(e=wv(h,l,a),i.stateNode=e,_r(i))}return me(i),null;case 5:if(Ge(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&_r(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return me(i),null}if(d=ut.current,eo(i))$g(i);else{var _=Fc(At.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[ve]=i,d[be]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(dn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&_r(i)}}return me(i),Cd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&_r(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=At.current,eo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=cn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fv(e.nodeValue,a)),e||as(i,!0)}else e=Fc(e).createTextNode(l),e[ve]=i,i.stateNode=e}return me(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=eo(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=i}else fa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;me(i),e=!1}else a=Uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(ni(i),i):(ni(i),null);if((i.flags&128)!==0)throw Error(s(558))}return me(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=eo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=i}else fa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;me(i),h=!1}else h=Uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ni(i),i):(ni(i),null)}return ni(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),xc(i,i.updateQueue),me(i),null);case 4:return re(),e===null&&Xd(i.stateNode.containerInfo),me(i),null;case 10:return mr(i.type),me(i),null;case 19:if(W(Oe),l=i.memoizedState,l===null)return me(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Rl(l,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=gc(e),d!==null){for(i.flags|=128,Rl(l,!1),e=d.updateQueue,i.updateQueue=e,xc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Fg(a,e),a=a.sibling;return at(Oe,Oe.current&1|2),Kt&&fr(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&Qe()>Vc&&(i.flags|=128,h=!0,Rl(l,!1),i.lanes=4194304)}else{if(!h)if(e=gc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,xc(i,e),Rl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Kt)return me(i),null}else 2*Qe()-l.renderingStartTime>Vc&&a!==536870912&&(i.flags|=128,h=!0,Rl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Qe(),e.sibling=null,a=Oe.current,at(Oe,h?a&1|2:a&1),Kt&&fr(i,l.treeForkCount),e):(me(i),null);case 22:case 23:return ni(i),Jf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(me(i),i.subtreeFlags&6&&(i.flags|=8192)):me(i),a=i.updateQueue,a!==null&&xc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&W(pa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),mr(Le),me(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function vw(e,i){switch(Pf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return mr(Le),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ge(i),null;case 31:if(i.memoizedState!==null){if(ni(i),i.alternate===null)throw Error(s(340));fa()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(ni(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));fa()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return W(Oe),null;case 4:return re(),null;case 10:return mr(i.type),null;case 22:case 23:return ni(i),Jf(),e!==null&&W(pa),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return mr(Le),null;case 25:return null;default:return null}}function y_(e,i){switch(Pf(i),i.tag){case 3:mr(Le),re();break;case 26:case 27:case 5:Ge(i);break;case 4:re();break;case 31:i.memoizedState!==null&&ni(i);break;case 13:ni(i);break;case 19:W(Oe);break;case 10:mr(i.type);break;case 22:case 23:ni(i),Jf(),e!==null&&W(pa);break;case 24:mr(Le)}}function Il(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){ae(i,i.return,S)}}function ds(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var D=a,q=S;try{q()}catch(Z){ae(h,D,Z)}}}l=l.next}while(l!==d)}}catch(Z){ae(i,i.return,Z)}}function __(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{ly(i,a)}catch(l){ae(e,e.return,l)}}}function v_(e,i,a){a.props=Ea(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ae(e,i,l)}}function Cl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){ae(e,i,h)}}function Fi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ae(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ae(e,i,h)}else a.current=null}function E_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ae(e,e.return,h)}}function xd(e,i,a){try{var l=e.stateNode;Bw(l,e.type,a,i),l[be]=i}catch(h){ae(e,e.return,h)}}function T_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Es(e.type)||e.tag===4}function Dd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||T_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Es(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=tn));else if(l!==4&&(l===27&&Es(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Nd(e,i,a),e=e.sibling;e!==null;)Nd(e,i,a),e=e.sibling}function Dc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Es(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Dc(e,i,a),e=e.sibling;e!==null;)Dc(e,i,a),e=e.sibling}function S_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);dn(i,l,a),i[ve]=e,i[be]=a}catch(d){ae(e,e.return,d)}}var vr=!1,je=!1,Od=!1,w_=typeof WeakSet=="function"?WeakSet:Set,rn=null;function Ew(e,i){if(e=e.containerInfo,Wd=Jc,e=kg(e),Af(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,D=-1,q=0,Z=0,nt=e,F=null;e:for(;;){for(var Y;nt!==a||h!==0&&nt.nodeType!==3||(S=_+h),nt!==d||l!==0&&nt.nodeType!==3||(D=_+l),nt.nodeType===3&&(_+=nt.nodeValue.length),(Y=nt.firstChild)!==null;)F=nt,nt=Y;for(;;){if(nt===e)break e;if(F===a&&++q===h&&(S=_),F===d&&++Z===l&&(D=_),(Y=nt.nextSibling)!==null)break;nt=F,F=nt.parentNode}nt=Y}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:e,selectionRange:a},Jc=!1,rn=i;rn!==null;)if(i=rn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,rn=e;else for(;rn!==null;){switch(i=rn,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pt=Ea(a.type,h);e=l.getSnapshotBeforeUpdate(pt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Rt){ae(a,a.return,Rt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)im(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":im(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,rn=e;break}rn=i.return}}function b_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Tr(e,a),l&4&&Il(5,a);break;case 1:if(Tr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){ae(a,a.return,_)}else{var h=Ea(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){ae(a,a.return,_)}}l&64&&__(a),l&512&&Cl(a,a.return);break;case 3:if(Tr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ly(e,i)}catch(_){ae(a,a.return,_)}}break;case 27:i===null&&l&4&&S_(a);case 26:case 5:Tr(e,a),i===null&&l&4&&E_(a),l&512&&Cl(a,a.return);break;case 12:Tr(e,a);break;case 31:Tr(e,a),l&4&&I_(e,a);break;case 13:Tr(e,a),l&4&&C_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=xw.bind(null,a),$w(e,a))));break;case 22:if(l=a.memoizedState!==null||vr,!l){i=i!==null&&i.memoizedState!==null||je,h=vr;var d=je;vr=l,(je=i)&&!d?Sr(e,a,(a.subtreeFlags&8772)!==0):Tr(e,a),vr=h,je=d}break;case 30:break;default:Tr(e,a)}}function A_(e){var i=e.alternate;i!==null&&(e.alternate=null,A_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&x(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ee=null,Bn=!1;function Er(e,i,a){for(a=a.child;a!==null;)R_(e,i,a),a=a.sibling}function R_(e,i,a){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Ye,a)}catch{}switch(a.tag){case 26:je||Fi(a,i),Er(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:je||Fi(a,i);var l=Ee,h=Bn;Es(a.type)&&(Ee=a.stateNode,Bn=!1),Er(e,i,a),Ll(a.stateNode),Ee=l,Bn=h;break;case 5:je||Fi(a,i);case 6:if(l=Ee,h=Bn,Ee=null,Er(e,i,a),Ee=l,Bn=h,Ee!==null)if(Bn)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(a.stateNode)}catch(d){ae(a,i,d)}else try{Ee.removeChild(a.stateNode)}catch(d){ae(a,i,d)}break;case 18:Ee!==null&&(Bn?(e=Ee,_v(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),wo(e)):_v(Ee,a.stateNode));break;case 4:l=Ee,h=Bn,Ee=a.stateNode.containerInfo,Bn=!0,Er(e,i,a),Ee=l,Bn=h;break;case 0:case 11:case 14:case 15:ds(2,a,i),je||ds(4,a,i),Er(e,i,a);break;case 1:je||(Fi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&v_(a,i,l)),Er(e,i,a);break;case 21:Er(e,i,a);break;case 22:je=(l=je)||a.memoizedState!==null,Er(e,i,a),je=l;break;default:Er(e,i,a)}}function I_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wo(e)}catch(a){ae(i,i.return,a)}}}function C_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wo(e)}catch(a){ae(i,i.return,a)}}function Tw(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new w_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new w_),i;default:throw Error(s(435,e.tag))}}function Nc(e,i){var a=Tw(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Dw.bind(null,e,l);l.then(h,h)}})}function qn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(Es(S.type)){Ee=S.stateNode,Bn=!1;break t}break;case 5:Ee=S.stateNode,Bn=!1;break t;case 3:case 4:Ee=S.stateNode.containerInfo,Bn=!0;break t}S=S.return}if(Ee===null)throw Error(s(160));R_(d,_,h),Ee=null,Bn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)x_(i,e),i=i.sibling}var Ni=null;function x_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qn(i,e),Hn(e),l&4&&(ds(3,e,e.return),Il(3,e),ds(5,e,e.return));break;case 1:qn(i,e),Hn(e),l&512&&(je||a===null||Fi(a,a.return)),l&64&&vr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ni;if(qn(i,e),Hn(e),l&512&&(je||a===null||Fi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ln]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),dn(d,l,a),d[ve]=e,_t(d),l=d;break t;case"link":var _=xv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=h.createElement(l),dn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=xv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=h.createElement(l),dn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ve]=e,_t(d),l=d}e.stateNode=l}else Dv(h,e.type,e.stateNode);else e.stateNode=Cv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Dv(h,e.type,e.stateNode):Cv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&xd(e,e.memoizedProps,a.memoizedProps)}break;case 27:qn(i,e),Hn(e),l&512&&(je||a===null||Fi(a,a.return)),a!==null&&l&4&&xd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(qn(i,e),Hn(e),l&512&&(je||a===null||Fi(a,a.return)),e.flags&32){h=e.stateNode;try{pi(h,"")}catch(pt){ae(e,e.return,pt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,xd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Od=!0);break;case 6:if(qn(i,e),Hn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(pt){ae(e,e.return,pt)}}break;case 3:if(Yc=null,h=Ni,Ni=Gc(i.containerInfo),qn(i,e),Ni=h,Hn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wo(i.containerInfo)}catch(pt){ae(e,e.return,pt)}Od&&(Od=!1,D_(e));break;case 4:l=Ni,Ni=Gc(e.stateNode.containerInfo),qn(i,e),Hn(e),Ni=l;break;case 12:qn(i,e),Hn(e);break;case 31:qn(i,e),Hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nc(e,l)));break;case 13:qn(i,e),Hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mc=Qe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nc(e,l)));break;case 22:h=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,q=vr,Z=je;if(vr=q||h,je=Z||D,qn(i,e),je=Z,vr=q,Hn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||vr||je||Ta(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var nt=D.memoizedProps.style,F=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(pt){ae(D,D.return,pt)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(pt){ae(D,D.return,pt)}}}else if(i.tag===18){if(a===null){D=i;try{var Y=D.stateNode;h?vv(Y,!0):vv(D.stateNode,!1)}catch(pt){ae(D,D.return,pt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nc(e,a))));break;case 19:qn(i,e),Hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nc(e,l)));break;case 30:break;case 21:break;default:qn(i,e),Hn(e)}}function Hn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(T_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Dd(e);Dc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(pi(_,""),a.flags&=-33);var S=Dd(e);Dc(e,S,_);break;case 3:case 4:var D=a.stateNode.containerInfo,q=Dd(e);Nd(e,q,D);break;default:throw Error(s(161))}}catch(Z){ae(e,e.return,Z)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function D_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;D_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Tr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)b_(e,i.alternate,i),i=i.sibling}function Ta(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ds(4,i,i.return),Ta(i);break;case 1:Fi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&v_(i,i.return,a),Ta(i);break;case 27:Ll(i.stateNode);case 26:case 5:Fi(i,i.return),Ta(i);break;case 22:i.memoizedState===null&&Ta(i);break;case 30:Ta(i);break;default:Ta(i)}e=e.sibling}}function Sr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Sr(h,d,a),Il(4,d);break;case 1:if(Sr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){ae(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)oy(D[h],S)}catch(q){ae(l,l.return,q)}}a&&_&64&&__(d),Cl(d,d.return);break;case 27:S_(d);case 26:case 5:Sr(h,d,a),a&&l===null&&_&4&&E_(d),Cl(d,d.return);break;case 12:Sr(h,d,a);break;case 31:Sr(h,d,a),a&&_&4&&I_(h,d);break;case 13:Sr(h,d,a),a&&_&4&&C_(h,d);break;case 22:d.memoizedState===null&&Sr(h,d,a),Cl(d,d.return);break;case 30:break;default:Sr(h,d,a)}i=i.sibling}}function Md(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ml(a))}function Vd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ml(e))}function Oi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N_(e,i,a,l),i=i.sibling}function N_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Oi(e,i,a,l),h&2048&&Il(9,i);break;case 1:Oi(e,i,a,l);break;case 3:Oi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ml(e)));break;case 12:if(h&2048){Oi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){ae(i,i.return,D)}}else Oi(e,i,a,l);break;case 31:Oi(e,i,a,l);break;case 13:Oi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Oi(e,i,a,l):xl(e,i):d._visibility&2?Oi(e,i,a,l):(d._visibility|=2,ho(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Md(_,i);break;case 24:Oi(e,i,a,l),h&2048&&Vd(i.alternate,i);break;default:Oi(e,i,a,l)}}function ho(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,S=a,D=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:ho(d,_,S,D,h),Il(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?ho(d,_,S,D,h):xl(d,_):(Z._visibility|=2,ho(d,_,S,D,h)),h&&q&2048&&Md(_.alternate,_);break;case 24:ho(d,_,S,D,h),h&&q&2048&&Vd(_.alternate,_);break;default:ho(d,_,S,D,h)}i=i.sibling}}function xl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:xl(a,l),h&2048&&Md(l.alternate,l);break;case 24:xl(a,l),h&2048&&Vd(l.alternate,l);break;default:xl(a,l)}i=i.sibling}}var Dl=8192;function fo(e,i,a){if(e.subtreeFlags&Dl)for(e=e.child;e!==null;)O_(e,i,a),e=e.sibling}function O_(e,i,a){switch(e.tag){case 26:fo(e,i,a),e.flags&Dl&&e.memoizedState!==null&&ob(a,Ni,e.memoizedState,e.memoizedProps);break;case 5:fo(e,i,a);break;case 3:case 4:var l=Ni;Ni=Gc(e.stateNode.containerInfo),fo(e,i,a),Ni=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,fo(e,i,a),Dl=l):fo(e,i,a));break;default:fo(e,i,a)}}function M_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Nl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];rn=l,k_(l,e)}M_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)V_(e),e=e.sibling}function V_(e){switch(e.tag){case 0:case 11:case 15:Nl(e),e.flags&2048&&ds(9,e,e.return);break;case 3:Nl(e);break;case 12:Nl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Oc(e)):Nl(e);break;default:Nl(e)}}function Oc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];rn=l,k_(l,e)}M_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ds(8,i,i.return),Oc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(i));break;default:Oc(i)}e=e.sibling}}function k_(e,i){for(;rn!==null;){var a=rn;switch(a.tag){case 0:case 11:case 15:ds(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,rn=l;else t:for(a=e;rn!==null;){l=rn;var h=l.sibling,d=l.return;if(A_(l),l===a){rn=null;break t}if(h!==null){h.return=d,rn=h;break t}rn=d}}}var Sw={getCacheForType:function(e){var i=hn(Le),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return hn(Le).controller.signal}},ww=typeof WeakMap=="function"?WeakMap:Map,ne=0,he=null,qt=null,Ft=0,se=0,ii=null,ms=!1,mo=!1,kd=!1,wr=0,Ie=0,ps=0,Sa=0,Pd=0,ri=0,po=0,Ol=null,Fn=null,Ld=!1,Mc=0,P_=0,Vc=1/0,kc=null,gs=null,$e=0,ys=null,go=null,br=0,Ud=0,zd=null,L_=null,Ml=0,jd=null;function si(){return(ne&2)!==0&&Ft!==0?Ft&-Ft:J.T!==null?Qd():Ci()}function U_(){if(ri===0)if((Ft&536870912)===0||Kt){var e=Cn;Cn<<=1,(Cn&3932160)===0&&(Cn=262144),ri=e}else ri=536870912;return e=ei.current,e!==null&&(e.flags|=32),ri}function Gn(e,i,a){(e===he&&(se===2||se===9)||e.cancelPendingCommit!==null)&&(yo(e,0),_s(e,Ft,ri,!1)),Ln(e,a),((ne&2)===0||e!==he)&&(e===he&&((ne&2)===0&&(Sa|=a),Ie===4&&_s(e,Ft,ri,!1)),Gi(e))}function z_(e,i,a){if((ne&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Pi(e,i),h=l?Rw(e,i):qd(e,i,!0),d=l;do{if(h===0){mo&&!l&&_s(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!bw(a)){h=qd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var S=e;h=Ol;var D=S.current.memoizedState.isDehydrated;if(D&&(yo(S,_).flags|=256),_=qd(S,_,!1),_!==2){if(kd&&!D){S.errorRecoveryDisabledLanes|=d,Sa|=d,h=4;break t}d=Fn,Fn=h,d!==null&&(Fn===null?Fn=d:Fn.push.apply(Fn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){yo(e,0),_s(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:_s(l,i,ri,!ms);break t;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Mc+300-Qe(),10<h)){if(_s(l,i,ri,!ms),xn(l,0,!0)!==0)break t;br=i,l.timeoutHandle=gv(j_.bind(null,l,a,Fn,kc,Ld,i,ri,Sa,po,ms,d,"Throttled",-0,0),h);break t}j_(l,a,Fn,kc,Ld,i,ri,Sa,po,ms,d,null,-0,0)}}break}while(!0);Gi(e)}function j_(e,i,a,l,h,d,_,S,D,q,Z,nt,F,Y){if(e.timeoutHandle=-1,nt=i.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tn},O_(i,d,nt);var pt=(d&62914560)===d?Mc-Qe():(d&4194048)===d?P_-Qe():0;if(pt=lb(nt,pt),pt!==null){br=d,e.cancelPendingCommit=pt(K_.bind(null,e,i,d,a,l,h,_,S,D,Z,nt,null,F,Y)),_s(e,d,_,!q);return}}K_(e,i,d,a,l,h,_,S,D)}function bw(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Wn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function _s(e,i,a,l){i&=~Pd,i&=~Sa,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Ke(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Un(e,a,i)}function Pc(){return(ne&6)===0?(Vl(0),!1):!0}function Bd(){if(qt!==null){if(se===0)var e=qt.return;else e=qt,dr=da=null,id(e),ao=null,gl=0,e=qt;for(;e!==null;)y_(e.alternate,e),e=e.return;qt=null}}function yo(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Fw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),br=0,Bd(),he=e,qt=a=hr(e.current,null),Ft=i,se=0,ii=null,ms=!1,mo=Pi(e,i),kd=!1,po=ri=Pd=Sa=ps=Ie=0,Fn=Ol=null,Ld=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Ke(l),d=1<<h;i|=e[h],l&=~d}return wr=i,ic(),a}function B_(e,i){Pt=null,J.H=bl,i===so||i===hc?(i=iy(),se=3):i===Gf?(i=iy(),se=4):se=i===vd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ii=i,qt===null&&(Ie=1,Ac(e,yi(i,e.current)))}function q_(){var e=ei.current;return e===null?!0:(Ft&4194048)===Ft?Ti===null:(Ft&62914560)===Ft||(Ft&536870912)!==0?e===Ti:!1}function H_(){var e=J.H;return J.H=bl,e===null?bl:e}function F_(){var e=J.A;return J.A=Sw,e}function Lc(){Ie=4,ms||(Ft&4194048)!==Ft&&ei.current!==null||(mo=!0),(ps&134217727)===0&&(Sa&134217727)===0||he===null||_s(he,Ft,ri,!1)}function qd(e,i,a){var l=ne;ne|=2;var h=H_(),d=F_();(he!==e||Ft!==i)&&(kc=null,yo(e,i)),i=!1;var _=Ie;t:do try{if(se!==0&&qt!==null){var S=qt,D=ii;switch(se){case 8:Bd(),_=6;break t;case 3:case 2:case 9:case 6:ei.current===null&&(i=!0);var q=se;if(se=0,ii=null,_o(e,S,D,q),a&&mo){_=0;break t}break;default:q=se,se=0,ii=null,_o(e,S,D,q)}}Aw(),_=Ie;break}catch(Z){B_(e,Z)}while(!0);return i&&e.shellSuspendCounter++,dr=da=null,ne=l,J.H=h,J.A=d,qt===null&&(he=null,Ft=0,ic()),_}function Aw(){for(;qt!==null;)G_(qt)}function Rw(e,i){var a=ne;ne|=2;var l=H_(),h=F_();he!==e||Ft!==i?(kc=null,Vc=Qe()+500,yo(e,i)):mo=Pi(e,i);t:do try{if(se!==0&&qt!==null){i=qt;var d=ii;e:switch(se){case 1:se=0,ii=null,_o(e,i,d,1);break;case 2:case 9:if(ey(d)){se=0,ii=null,Q_(i);break}i=function(){se!==2&&se!==9||he!==e||(se=7),Gi(e)},d.then(i,i);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:ey(d)?(se=0,ii=null,Q_(i)):(se=0,ii=null,_o(e,i,d,7));break;case 5:var _=null;switch(qt.tag){case 26:_=qt.memoizedState;case 5:case 27:var S=qt;if(_?Nv(_):S.stateNode.complete){se=0,ii=null;var D=S.sibling;if(D!==null)qt=D;else{var q=S.return;q!==null?(qt=q,Uc(q)):qt=null}break e}}se=0,ii=null,_o(e,i,d,5);break;case 6:se=0,ii=null,_o(e,i,d,6);break;case 8:Bd(),Ie=6;break t;default:throw Error(s(462))}}Iw();break}catch(Z){B_(e,Z)}while(!0);return dr=da=null,J.H=l,J.A=h,ne=a,qt!==null?0:(he=null,Ft=0,ic(),Ie)}function Iw(){for(;qt!==null&&!Jo();)G_(qt)}function G_(e){var i=p_(e.alternate,e,wr);e.memoizedProps=e.pendingProps,i===null?Uc(e):qt=i}function Q_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=u_(a,i,i.pendingProps,i.type,void 0,Ft);break;case 11:i=u_(a,i,i.pendingProps,i.type.render,i.ref,Ft);break;case 5:id(i);default:y_(a,i),i=qt=Fg(i,wr),i=p_(a,i,wr)}e.memoizedProps=e.pendingProps,i===null?Uc(e):qt=i}function _o(e,i,a,l){dr=da=null,id(i),ao=null,gl=0;var h=i.return;try{if(pw(e,h,i,a,Ft)){Ie=1,Ac(e,yi(a,e.current)),qt=null;return}}catch(d){if(h!==null)throw qt=h,d;Ie=1,Ac(e,yi(a,e.current)),qt=null;return}i.flags&32768?(Kt||l===1?e=!0:mo||(Ft&536870912)!==0?e=!1:(ms=e=!0,(l===2||l===9||l===3||l===6)&&(l=ei.current,l!==null&&l.tag===13&&(l.flags|=16384))),Y_(i,e)):Uc(i)}function Uc(e){var i=e;do{if((i.flags&32768)!==0){Y_(i,ms);return}e=i.return;var a=_w(i.alternate,i,wr);if(a!==null){qt=a;return}if(i=i.sibling,i!==null){qt=i;return}qt=i=e}while(i!==null);Ie===0&&(Ie=5)}function Y_(e,i){do{var a=vw(e.alternate,e);if(a!==null){a.flags&=32767,qt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){qt=e;return}qt=e=a}while(e!==null);Ie=6,qt=null}function K_(e,i,a,l,h,d,_,S,D){e.cancelPendingCommit=null;do zc();while($e!==0);if((ne&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Df,_e(e,a,d,_,S,D),e===he&&(qt=he=null,Ft=0),go=i,ys=e,br=a,Ud=d,zd=h,L_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Nw(Ri,function(){return W_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,h=ht.p,ht.p=2,_=ne,ne|=4;try{Ew(e,i,a)}finally{ne=_,ht.p=h,J.T=l}}$e=1,$_(),X_(),J_()}}function $_(){if($e===1){$e=0;var e=ys,i=go,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=ht.p;ht.p=2;var h=ne;ne|=4;try{x_(i,e);var d=tm,_=kg(e.containerInfo),S=d.focusedElem,D=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Vg(S.ownerDocument.documentElement,S)){if(D!==null&&Af(S)){var q=D.start,Z=D.end;if(Z===void 0&&(Z=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(Z,S.value.length);else{var nt=S.ownerDocument||document,F=nt&&nt.defaultView||window;if(F.getSelection){var Y=F.getSelection(),pt=S.textContent.length,Rt=Math.min(D.start,pt),ue=D.end===void 0?Rt:Math.min(D.end,pt);!Y.extend&&Rt>ue&&(_=ue,ue=Rt,Rt=_);var L=Mg(S,Rt),N=Mg(S,ue);if(L&&N&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==N.node||Y.focusOffset!==N.offset)){var B=nt.createRange();B.setStart(L.node,L.offset),Y.removeAllRanges(),Rt>ue?(Y.addRange(B),Y.extend(N.node,N.offset)):(B.setEnd(N.node,N.offset),Y.addRange(B))}}}}for(nt=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&nt.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<nt.length;S++){var tt=nt[S];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Jc=!!Wd,tm=Wd=null}finally{ne=h,ht.p=l,J.T=a}}e.current=i,$e=2}}function X_(){if($e===2){$e=0;var e=ys,i=go,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=ht.p;ht.p=2;var h=ne;ne|=4;try{b_(e,i.alternate,i)}finally{ne=h,ht.p=l,J.T=a}}$e=3}}function J_(){if($e===4||$e===3){$e=0,Xs();var e=ys,i=go,a=br,l=L_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$e=5:($e=0,go=ys=null,Z_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(gs=null),Ws(a),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Ye,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=J.T,h=ht.p,ht.p=2,J.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{J.T=i,ht.p=h}}(br&3)!==0&&zc(),Gi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===jd?Ml++:(Ml=0,jd=e):Ml=0,Vl(0)}}function Z_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ml(i)))}function zc(){return $_(),X_(),J_(),W_()}function W_(){if($e!==5)return!1;var e=ys,i=Ud;Ud=0;var a=Ws(br),l=J.T,h=ht.p;try{ht.p=32>a?32:a,J.T=null,a=zd,zd=null;var d=ys,_=br;if($e=0,go=ys=null,br=0,(ne&6)!==0)throw Error(s(331));var S=ne;if(ne|=4,V_(d.current),N_(d,d.current,_,a),ne=S,Vl(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Ye,d)}catch{}return!0}finally{ht.p=h,J.T=l,Z_(e,i)}}function tv(e,i,a){i=yi(a,i),i=_d(e.stateNode,i,2),e=cs(e,i,2),e!==null&&(Ln(e,2),Gi(e))}function ae(e,i,a){if(e.tag===3)tv(e,e,a);else for(;i!==null;){if(i.tag===3){tv(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(gs===null||!gs.has(l))){e=yi(a,e),a=e_(2),l=cs(i,a,2),l!==null&&(n_(a,l,i,e),Ln(l,2),Gi(l));break}}i=i.return}}function Hd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new ww;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(kd=!0,h.add(a),e=Cw.bind(null,e,i,a),i.then(e,e))}function Cw(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,he===e&&(Ft&a)===a&&(Ie===4||Ie===3&&(Ft&62914560)===Ft&&300>Qe()-Mc?(ne&2)===0&&yo(e,0):Pd|=a,po===Ft&&(po=0)),Gi(e)}function ev(e,i){i===0&&(i=Zs()),e=ca(e,i),e!==null&&(Ln(e,i),Gi(e))}function xw(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),ev(e,a)}function Dw(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),ev(e,a)}function Nw(e,i){return nr(e,i)}var jc=null,vo=null,Fd=!1,Bc=!1,Gd=!1,vs=0;function Gi(e){e!==vo&&e.next===null&&(vo===null?jc=vo=e:vo=vo.next=e),Bc=!0,Fd||(Fd=!0,Mw())}function Vl(e,i){if(!Gd&&Bc){Gd=!0;do for(var a=!1,l=jc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Ke(42|e)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,sv(l,d))}else d=Ft,d=xn(l,l===he?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Pi(l,d)||(a=!0,sv(l,d));l=l.next}while(a);Gd=!1}}function Ow(){nv()}function nv(){Bc=Fd=!1;var e=0;vs!==0&&Hw()&&(e=vs);for(var i=Qe(),a=null,l=jc;l!==null;){var h=l.next,d=iv(l,i);d===0?(l.next=null,a===null?jc=h:a.next=h,h===null&&(vo=a)):(a=l,(e!==0||(d&3)!==0)&&(Bc=!0)),l=h}$e!==0&&$e!==5||Vl(e),vs!==0&&(vs=0)}function iv(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-Ke(d),S=1<<_,D=h[_];D===-1?((S&a)===0||(S&l)!==0)&&(h[_]=Gr(S,i)):D<=i&&(e.expiredLanes|=S),d&=~S}if(i=he,a=Ft,a=xn(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(se===2||se===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Hr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Pi(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Hr(l),Ws(a)){case 2:case 8:a=Ne;break;case 32:a=Ri;break;case 268435456:a=ir;break;default:a=Ri}return l=rv.bind(null,e),a=nr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Hr(l),e.callbackPriority=2,e.callbackNode=null,2}function rv(e,i){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(zc()&&e.callbackNode!==a)return null;var l=Ft;return l=xn(e,e===he?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(z_(e,l,i),iv(e,Qe()),e.callbackNode!=null&&e.callbackNode===a?rv.bind(null,e):null)}function sv(e,i){if(zc())return null;z_(e,i,!0)}function Mw(){Gw(function(){(ne&6)!==0?nr(ye,Ow):nv()})}function Qd(){if(vs===0){var e=io;e===0&&(e=In,In<<=1,(In&261888)===0&&(In=256)),vs=e}return vs}function av(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zi(""+e)}function ov(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Vw(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=av((h[be]||null).action),_=l.submitter;_&&(i=(i=_[be]||null)?av(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new ia("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(vs!==0){var D=_?ov(h,_):new FormData(h);fd(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=_?ov(h,_):new FormData(h),fd(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Yd=0;Yd<xf.length;Yd++){var Kd=xf[Yd],kw=Kd.toLowerCase(),Pw=Kd[0].toUpperCase()+Kd.slice(1);Di(kw,"on"+Pw)}Di(Ug,"onAnimationEnd"),Di(zg,"onAnimationIteration"),Di(jg,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(ZS,"onTransitionRun"),Di(WS,"onTransitionStart"),Di(tw,"onTransitionCancel"),Di(Bg,"onTransitionEnd"),Ot("onMouseEnter",["mouseout","mouseover"]),Ot("onMouseLeave",["mouseout","mouseover"]),Ot("onPointerEnter",["pointerout","pointerover"]),Ot("onPointerLeave",["pointerout","pointerover"]),kt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kt("onBeforeInput",["compositionend","keypress","textInput","paste"]),kt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function lv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],D=S.instance,q=S.currentTarget;if(S=S.listener,D!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=q;try{d(h)}catch(Z){nc(Z)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(S=l[_],D=S.instance,q=S.currentTarget,S=S.listener,D!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=q;try{d(h)}catch(Z){nc(Z)}h.currentTarget=null,d=D}}}}function Ht(e,i){var a=i[Ui];a===void 0&&(a=i[Ui]=new Set);var l=e+"__bubble";a.has(l)||(uv(i,e,2,!1),a.add(l))}function $d(e,i,a){var l=0;i&&(l|=4),uv(a,e,l,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function Xd(e){if(!e[qc]){e[qc]=!0,Ct.forEach(function(a){a!=="selectionchange"&&(Lw.has(a)||$d(a,!1,e),$d(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[qc]||(i[qc]=!0,$d("selectionchange",!1,i))}}function uv(e,i,a,l){switch(Uv(i)){case 2:var h=hb;break;case 8:h=fb;break;default:h=hm}a=h.bind(null,i,a,e),h=void 0,!il||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Jd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=Q(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue t}S=S.parentNode}}l=l.return}ju(function(){var q=d,Z=Fa(a),nt=[];t:{var F=qg.get(e);if(F!==void 0){var Y=ia,pt=e;switch(e){case"keypress":if(na(a)===0)break t;case"keydown":case"keyup":Y=$u;break;case"focusin":pt="focus",Y=ts;break;case"focusout":pt="blur",Y=ts;break;case"beforeblur":case"afterblur":Y=ts;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Ju;break;case Ug:case zg:case jg:Y=Ya;break;case Bg:Y=Ka;break;case"scroll":case"scrollend":Y=Bu;break;case"wheel":Y=Wu;break;case"copy":case"cut":case"paste":Y=Gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ll;break;case"toggle":case"beforetoggle":Y=ns}var Rt=(i&4)!==0,ue=!Rt&&(e==="scroll"||e==="scrollend"),L=Rt?F!==null?F+"Capture":null:F;Rt=[];for(var N=q,B;N!==null;){var tt=N;if(B=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||B===null||L===null||(tt=zn(N,L),tt!=null&&Rt.push(Pl(N,tt,B))),ue)break;N=N.return}0<Rt.length&&(F=new Y(F,pt,null,a,Z),nt.push({event:F,listeners:Rt}))}}if((i&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&a!==Ha&&(pt=a.relatedTarget||a.fromElement)&&(Q(pt)||pt[fi]))break t;if((Y||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(pt=a.relatedTarget||a.toElement,Y=q,pt=pt?Q(pt):null,pt!==null&&(ue=u(pt),Rt=pt.tag,pt!==ue||Rt!==5&&Rt!==27&&Rt!==6)&&(pt=null)):(Y=null,pt=q),Y!==pt)){if(Rt=qu,tt="onMouseLeave",L="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Rt=ll,tt="onPointerLeave",L="onPointerEnter",N="pointer"),ue=Y==null?F:ot(Y),B=pt==null?F:ot(pt),F=new Rt(tt,N+"leave",Y,a,Z),F.target=ue,F.relatedTarget=B,tt=null,Q(Z)===q&&(Rt=new Rt(L,N+"enter",pt,a,Z),Rt.target=B,Rt.relatedTarget=ue,tt=Rt),ue=tt,Y&&pt)e:{for(Rt=Uw,L=Y,N=pt,B=0,tt=L;tt;tt=Rt(tt))B++;tt=0;for(var Tt=N;Tt;Tt=Rt(Tt))tt++;for(;0<B-tt;)L=Rt(L),B--;for(;0<tt-B;)N=Rt(N),tt--;for(;B--;){if(L===N||N!==null&&L===N.alternate){Rt=L;break e}L=Rt(L),N=Rt(N)}Rt=null}else Rt=null;Y!==null&&cv(nt,F,Y,Rt,!1),pt!==null&&ue!==null&&cv(nt,ue,pt,Rt,!0)}}t:{if(F=q?ot(q):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Wt=Ig;else if(jn(F))if(Cg)Wt=$S;else{Wt=YS;var gt=QS}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&el(q.elementType)&&(Wt=Ig):Wt=KS;if(Wt&&(Wt=Wt(e,q))){oa(nt,Wt,a,Z);break t}gt&&gt(e,F,q),e==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&qa(F,"number",F.value)}switch(gt=q?ot(q):window,e){case"focusin":(jn(gt)||gt.contentEditable==="true")&&($a=gt,Rf=q,hl=null);break;case"focusout":hl=Rf=$a=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Pg(nt,a,Z);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":Pg(nt,a,Z)}var Ut;if(y)t:{switch(e){case"compositionstart":var Gt="onCompositionStart";break t;case"compositionend":Gt="onCompositionEnd";break t;case"compositionupdate":Gt="onCompositionUpdate";break t}Gt=void 0}else zt?ie(e,a)&&(Gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Gt="onCompositionStart");Gt&&(z&&a.locale!=="ko"&&(zt||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&zt&&(Ut=Xr()):(Zn=Z,Ga="value"in Zn?Zn.value:Zn.textContent,zt=!0)),gt=Hc(q,Gt),0<gt.length&&(Gt=new sl(Gt,e,null,a,Z),nt.push({event:Gt,listeners:gt}),Ut?Gt.data=Ut:(Ut=Pe(a),Ut!==null&&(Gt.data=Ut)))),(Ut=w?en(e,a):nn(e,a))&&(Gt=Hc(q,"onBeforeInput"),0<Gt.length&&(gt=new sl("onBeforeInput","beforeinput",null,a,Z),nt.push({event:gt,listeners:Gt}),gt.data=Ut)),Vw(nt,e,q,a,Z)}lv(nt,i)})}function Pl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Hc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=zn(e,a),h!=null&&l.unshift(Pl(e,h,d)),h=zn(e,i),h!=null&&l.push(Pl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Uw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cv(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,D=S.alternate,q=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||q===null||(D=q,h?(q=zn(a,d),q!=null&&_.unshift(Pl(a,q,D))):h||(q=zn(a,d),q!=null&&_.push(Pl(a,q,D)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var zw=/\r\n?/g,jw=/\u0000|\uFFFD/g;function hv(e){return(typeof e=="string"?e:""+e).replace(zw,`
`).replace(jw,"")}function fv(e,i){return i=hv(i),hv(e)===i}function le(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||pi(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&pi(e,""+l);break;case"className":mi(e,"class",l);break;case"tabIndex":mi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mi(e,a,l);break;case"style":Uu(e,l,d);break;case"data":if(i!=="object"){mi(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=zi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&le(e,i,"name",h.name,h,null),le(e,i,"formEncType",h.formEncType,h,null),le(e,i,"formMethod",h.formMethod,h,null),le(e,i,"formTarget",h.formTarget,h,null)):(le(e,i,"encType",h.encType,h,null),le(e,i,"method",h.method,h,null),le(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=zi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=tn);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=zi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ht("beforetoggle",e),Ht("toggle",e),Xn(e,"popover",l);break;case"xlinkActuate":un(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":un(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":un(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":un(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":un(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":un(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":un(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":un(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":un(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xn(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ef.get(a)||a,Xn(e,a,l))}}function Zd(e,i,a,l,h,d){switch(a){case"style":Uu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?pi(e,l):(typeof l=="number"||typeof l=="bigint")&&pi(e,""+l);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"onClick":l!=null&&(e.onclick=tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jt.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[be]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Xn(e,a,l)}}}function dn(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",e),Ht("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:le(e,i,d,_,a,null)}}h&&le(e,i,"srcSet",a.srcSet,a,null),l&&le(e,i,"src",a.src,a,null);return;case"input":Ht("invalid",e);var S=d=_=h=null,D=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":D=Z;break;case"defaultChecked":q=Z;break;case"value":d=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:le(e,i,l,Z,a,null)}}ta(e,d,S,D,q,_,h,!1);return;case"select":Ht("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:le(e,i,h,S,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Zt(e,!!l,i,!1):a!=null&&Zt(e,!!l,a,!0);return;case"textarea":Ht("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:le(e,i,_,S,a,null)}$r(e,l,h,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:le(e,i,D,l,a,null)}return;case"dialog":Ht("beforetoggle",e),Ht("toggle",e),Ht("cancel",e),Ht("close",e);break;case"iframe":case"object":Ht("load",e);break;case"video":case"audio":for(l=0;l<kl.length;l++)Ht(kl[l],e);break;case"image":Ht("error",e),Ht("load",e);break;case"details":Ht("toggle",e);break;case"embed":case"source":case"link":Ht("error",e),Ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:le(e,i,q,l,a,null)}return;default:if(el(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Zd(e,i,Z,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&le(e,i,S,l,a,null))}function Bw(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,D=null,q=null,Z=null;for(Y in a){var nt=a[Y];if(a.hasOwnProperty(Y)&&nt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=nt;default:l.hasOwnProperty(Y)||le(e,i,Y,null,l,nt)}}for(var F in l){var Y=l[F];if(nt=a[F],l.hasOwnProperty(F)&&(Y!=null||nt!=null))switch(F){case"type":d=Y;break;case"name":h=Y;break;case"checked":q=Y;break;case"defaultChecked":Z=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==nt&&le(e,i,F,Y,l,nt)}}Kr(e,_,S,D,q,Z,d,h);return;case"select":Y=_=S=F=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(d)||le(e,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==D&&le(e,i,h,d,l,D)}i=S,a=_,l=Y,F!=null?Zt(e,!!a,F,!1):!!l!=!!a&&(i!=null?Zt(e,!!a,i,!0):Zt(e,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:le(e,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&le(e,i,_,h,l,d)}ea(e,F,Y);return;case"option":for(var pt in a)if(F=a[pt],a.hasOwnProperty(pt)&&F!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":e.selected=!1;break;default:le(e,i,pt,null,l,F)}for(D in l)if(F=l[D],Y=a[D],l.hasOwnProperty(D)&&F!==Y&&(F!=null||Y!=null))switch(D){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:le(e,i,D,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in a)F=a[Rt],a.hasOwnProperty(Rt)&&F!=null&&!l.hasOwnProperty(Rt)&&le(e,i,Rt,null,l,F);for(q in l)if(F=l[q],Y=a[q],l.hasOwnProperty(q)&&F!==Y&&(F!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:le(e,i,q,F,l,Y)}return;default:if(el(i)){for(var ue in a)F=a[ue],a.hasOwnProperty(ue)&&F!==void 0&&!l.hasOwnProperty(ue)&&Zd(e,i,ue,void 0,l,F);for(Z in l)F=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||F===Y||F===void 0&&Y===void 0||Zd(e,i,Z,F,l,Y);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&le(e,i,L,null,l,F);for(nt in l)F=l[nt],Y=a[nt],!l.hasOwnProperty(nt)||F===Y||F==null&&Y==null||le(e,i,nt,F,l,Y)}function dv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&dv(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],q=D.startTime;if(q>S)break;var Z=D.transferSize,nt=D.initiatorType;Z&&dv(nt)&&(D=D.responseEnd,_+=Z*(D<S?1:(S-q)/(D-q)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wd=null,tm=null;function Fc(e){return e.nodeType===9?e:e.ownerDocument}function mv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function em(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nm=null;function Hw(){var e=window.event;return e&&e.type==="popstate"?e===nm?!1:(nm=e,!0):(nm=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,Fw=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,Gw=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(e){return yv.resolve(null).then(e).catch(Qw)}:gv;function Qw(e){setTimeout(function(){throw e})}function Es(e){return e==="head"}function _v(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),wo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ll(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[ln]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ll(e.ownerDocument.body);a=h}while(a);wo(i)}function vv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function im(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),x(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Yw(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ln])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Si(e.nextSibling),e===null)break}return null}function Kw(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Si(e.nextSibling),e===null))return null;return e}function Ev(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Si(e.nextSibling),e===null))return null;return e}function rm(e){return e.data==="$?"||e.data==="$~"}function sm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $w(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Si(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var am=null;function Tv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Si(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function Sv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function wv(e,i,a){switch(i=Fc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ll(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);x(e)}var wi=new Map,bv=new Set;function Gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ar=ht.d;ht.d={f:Xw,r:Jw,D:Zw,C:Ww,L:tb,m:eb,X:ib,S:nb,M:rb};function Xw(){var e=Ar.f(),i=Pc();return e||i}function Jw(e){var i=$(e);i!==null&&i.tag===5&&i.type==="form"?By(i):Ar.r(e)}var Eo=typeof document>"u"?null:document;function Av(e,i,a){var l=Eo;if(l&&typeof i=="string"&&i){var h=Ae(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),bv.has(h)||(bv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),dn(i,"link",e),_t(i),l.head.appendChild(i)))}}function Zw(e){Ar.D(e),Av("dns-prefetch",e,null)}function Ww(e,i){Ar.C(e,i),Av("preconnect",e,i)}function tb(e,i,a){Ar.L(e,i,a);var l=Eo;if(l&&e&&i){var h='link[rel="preload"][as="'+Ae(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ae(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ae(a.imageSizes)+'"]')):h+='[href="'+Ae(e)+'"]';var d=h;switch(i){case"style":d=To(e);break;case"script":d=So(e)}wi.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),wi.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ul(d))||i==="script"&&l.querySelector(zl(d))||(i=l.createElement("link"),dn(i,"link",e),_t(i),l.head.appendChild(i)))}}function eb(e,i){Ar.m(e,i);var a=Eo;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ae(l)+'"][href="'+Ae(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=So(e)}if(!wi.has(d)&&(e=T({rel:"modulepreload",href:e},i),wi.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(d)))return}l=a.createElement("link"),dn(l,"link",e),_t(l),a.head.appendChild(l)}}}function nb(e,i,a){Ar.S(e,i,a);var l=Eo;if(l&&e){var h=dt(l).hoistableStyles,d=To(e);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Ul(d)))S.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=wi.get(d))&&om(e,a);var D=_=l.createElement("link");_t(D),dn(D,"link",e),D._p=new Promise(function(q,Z){D.onload=q,D.onerror=Z}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Qc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function ib(e,i){Ar.X(e,i);var a=Eo;if(a&&e){var l=dt(a).hoistableScripts,h=So(e),d=l.get(h);d||(d=a.querySelector(zl(h)),d||(e=T({src:e,async:!0},i),(i=wi.get(h))&&lm(e,i),d=a.createElement("script"),_t(d),dn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function rb(e,i){Ar.M(e,i);var a=Eo;if(a&&e){var l=dt(a).hoistableScripts,h=So(e),d=l.get(h);d||(d=a.querySelector(zl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=wi.get(h))&&lm(e,i),d=a.createElement("script"),_t(d),dn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Rv(e,i,a,l){var h=(h=At.current)?Gc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=To(a.href),a=dt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=To(a.href);var d=dt(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Ul(e)))&&!d._p&&(_.instance=d,_.state.loading=5),wi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wi.set(e,a),d||sb(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=So(a),a=dt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function To(e){return'href="'+Ae(e)+'"'}function Ul(e){return'link[rel="stylesheet"]['+e+"]"}function Iv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function sb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),dn(i,"link",a),_t(i),e.head.appendChild(i))}function So(e){return'[src="'+Ae(e)+'"]'}function zl(e){return"script[async]"+e}function Cv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Ae(a.href)+'"]');if(l)return i.instance=l,_t(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),_t(l),dn(l,"style",h),Qc(l,a.precedence,e),i.instance=l;case"stylesheet":h=To(a.href);var d=e.querySelector(Ul(h));if(d)return i.state.loading|=4,i.instance=d,_t(d),d;l=Iv(a),(h=wi.get(h))&&om(l,h),d=(e.ownerDocument||e).createElement("link"),_t(d);var _=d;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),dn(d,"link",l),i.state.loading|=4,Qc(d,a.precedence,e),i.instance=d;case"script":return d=So(a.src),(h=e.querySelector(zl(d)))?(i.instance=h,_t(h),h):(l=a,(h=wi.get(d))&&(l=T({},a),lm(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),_t(h),dn(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Qc(l,a.precedence,e));return i.instance}function Qc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function om(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function lm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Yc=null;function xv(e,i,a){if(Yc===null){var l=new Map,h=Yc=new Map;h.set(a,l)}else h=Yc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ln]||d[ve]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Dv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function ab(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Nv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ob(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=To(l.href),d=i.querySelector(Ul(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Kc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,_t(d);return}d=i.ownerDocument||i,l=Iv(l),(h=wi.get(h))&&om(l,h),d=d.createElement("link"),_t(d);var _=d;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),dn(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Kc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var um=0;function lb(e,i){return e.stylesheets&&e.count===0&&Xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&um===0&&(um=62500*qw());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>um?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $c=null;function Xc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$c=new Map,i.forEach(ub,e),$c=null,Kc.call(e))}function ub(e,i){if(!(i.state.loading&4)){var a=$c.get(e);if(a)var l=a.get(null);else{a=new Map,$c.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var jl={$$typeof:it,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function cb(e,i,a,l,h,d,_,S,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dn(0),this.hiddenUpdates=Dn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Ov(e,i,a,l,h,d,_,S,D,q,Z,nt){return e=new cb(e,i,a,_,D,q,Z,nt,S),i=1,d===!0&&(i|=24),d=ti(3,null,null,i),e.current=d,d.stateNode=e,i=qf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Qf(d),e}function Mv(e){return e?(e=Za,e):Za}function Vv(e,i,a,l,h,d){h=Mv(h),l.context===null?l.context=h:l.pendingContext=h,l=us(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=cs(e,l,i),a!==null&&(Gn(a,e,i),_l(a,e,i))}function kv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function cm(e,i){kv(e,i),(e=e.alternate)&&kv(e,i)}function Pv(e){if(e.tag===13||e.tag===31){var i=ca(e,67108864);i!==null&&Gn(i,e,67108864),cm(e,67108864)}}function Lv(e){if(e.tag===13||e.tag===31){var i=si();i=rr(i);var a=ca(e,i);a!==null&&Gn(a,e,i),cm(e,i)}}var Jc=!0;function hb(e,i,a,l){var h=J.T;J.T=null;var d=ht.p;try{ht.p=2,hm(e,i,a,l)}finally{ht.p=d,J.T=h}}function fb(e,i,a,l){var h=J.T;J.T=null;var d=ht.p;try{ht.p=8,hm(e,i,a,l)}finally{ht.p=d,J.T=h}}function hm(e,i,a,l){if(Jc){var h=fm(l);if(h===null)Jd(e,i,l,Zc,a),zv(e,l);else if(mb(h,e,i,a,l))l.stopPropagation();else if(zv(e,l),i&4&&-1<db.indexOf(e)){for(;h!==null;){var d=$(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Kn(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-Ke(_);S.entanglements[1]|=D,_&=~D}Gi(d),(ne&6)===0&&(Vc=Qe()+500,Vl(0))}}break;case 31:case 13:S=ca(d,2),S!==null&&Gn(S,d,2),Pc(),cm(d,2)}if(d=fm(l),d===null&&Jd(e,i,l,Zc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Jd(e,i,l,null,a)}}function fm(e){return e=Fa(e),dm(e)}var Zc=null;function dm(e){if(Zc=null,e=Q(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Zc=e,null}function Uv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ka()){case ye:return 2;case Ne:return 8;case Ri:case Pa:return 32;case ir:return 268435456;default:return 32}default:return 32}}var mm=!1,Ts=null,Ss=null,ws=null,Bl=new Map,ql=new Map,bs=[],db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zv(e,i){switch(e){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(i.pointerId)}}function Hl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=$(i),i!==null&&Pv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function mb(e,i,a,l,h){switch(i){case"focusin":return Ts=Hl(Ts,e,i,a,l,h),!0;case"dragenter":return Ss=Hl(Ss,e,i,a,l,h),!0;case"mouseover":return ws=Hl(ws,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Bl.set(d,Hl(Bl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ql.set(d,Hl(ql.get(d)||null,e,i,a,l,h)),!0}return!1}function jv(e){var i=Q(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Ua(e.priority,function(){Lv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Ua(e.priority,function(){Lv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=fm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ha=l,a.target.dispatchEvent(l),Ha=null}else return i=$(a),i!==null&&Pv(i),e.blockedOn=a,!1;i.shift()}return!0}function Bv(e,i,a){Wc(e)&&a.delete(i)}function pb(){mm=!1,Ts!==null&&Wc(Ts)&&(Ts=null),Ss!==null&&Wc(Ss)&&(Ss=null),ws!==null&&Wc(ws)&&(ws=null),Bl.forEach(Bv),ql.forEach(Bv)}function th(e,i){e.blockedOn===i&&(e.blockedOn=null,mm||(mm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pb)))}var eh=null;function qv(e){eh!==e&&(eh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){eh===e&&(eh=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var d=$(a);d!==null&&(e.splice(i,3),i-=3,fd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function wo(e){function i(D){return th(D,e)}Ts!==null&&th(Ts,e),Ss!==null&&th(Ss,e),ws!==null&&th(ws,e),Bl.forEach(i),ql.forEach(i);for(var a=0;a<bs.length;a++){var l=bs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<bs.length&&(a=bs[0],a.blockedOn===null);)jv(a),a.blockedOn===null&&bs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[be]||null;if(typeof d=="function")_||qv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[be]||null)S=_.formAction;else if(dm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),qv(a)}}}function Hv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function pm(e){this._internalRoot=e}nh.prototype.render=pm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=si();Vv(a,l,e,i,null,null)},nh.prototype.unmount=pm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Vv(e.current,2,null,e,null,null),Pc(),i[fi]=null}};function nh(e){this._internalRoot=e}nh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ci();e={blockedOn:null,target:e,priority:i};for(var a=0;a<bs.length&&i!==0&&i<bs[a].priority;a++);bs.splice(a,0,e),a===0&&jv(e)}};var Fv=t.version;if(Fv!=="19.2.3")throw Error(s(527,Fv,"19.2.3"));ht.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var gb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Ye=ih.inject(gb),We=ih}catch{}}return Gl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Jy,d=Zy,_=Wy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Ov(e,1,!1,null,null,a,l,null,h,d,_,Hv),e[fi]=i.current,Xd(e),new pm(i)},Gl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Jy,_=Zy,S=Wy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=Ov(e,1,!0,i,a??null,l,h,D,d,_,S,Hv),i.context=Mv(null),a=i.current,l=si(),l=rr(l),h=us(l),h.callback=null,cs(a,h,l),a=l,i.current.lanes=a,Ln(i,a),Gi(i),e[fi]=i.current,Xd(e),new nh(i)},Gl.version="19.2.3",Gl}var t0;function Cb(){if(t0)return _m.exports;t0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_m.exports=Ib(),_m.exports}var xb=Cb();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var e0="popstate";function Db(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=Na(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),qm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:ou(u))}function s(o,u){ci(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Ob(t,n,s,r)}function Se(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ci(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Nb(){return Math.random().toString(36).substring(2,10)}function n0(r,t){return{usr:r.state,key:r.key,idx:t}}function qm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Na(t):t,state:n,key:t&&t.key||s||Nb()}}function ou({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Na(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Ob(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let G=E(),st=G==null?null:G-g;g=G,p&&p({action:m,location:X.location,delta:st})}function b(G,st){m="PUSH";let lt=qm(X.location,G,st);n&&n(lt,G),g=E()+1;let it=n0(lt,g),St=X.createHref(lt);try{f.pushState(it,"",St)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;o.location.assign(St)}u&&p&&p({action:m,location:X.location,delta:1})}function V(G,st){m="REPLACE";let lt=qm(X.location,G,st);n&&n(lt,G),g=E();let it=n0(lt,g),St=X.createHref(lt);f.replaceState(it,"",St),u&&p&&p({action:m,location:X.location,delta:0})}function H(G){return Mb(G)}let X={get action(){return m},get location(){return r(o,f)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(e0,T),p=G,()=>{o.removeEventListener(e0,T),p=null}},createHref(G){return t(o,G)},createURL:H,encodeLocation(G){let st=H(G);return{pathname:st.pathname,search:st.search,hash:st.hash}},push:b,replace:V,go(G){return f.go(G)}};return X}function Mb(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Se(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:ou(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function jE(r,t,n="/"){return Vb(r,t,n,!1)}function Vb(r,t,n,s){let o=typeof t=="string"?Na(t):t,u=Mr(o.pathname||"/",n);if(u==null)return null;let f=BE(r);kb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Qb(u);m=Fb(f[p],g,s)}return m}function BE(r,t=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;Se(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=Nr([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(Se(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),BE(f.children,t,b,T,p)),!(f.path==null&&!f.index)&&t.push({path:T,score:qb(T,f.index),routesMeta:b})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let g of qE(f.path))u(f,m,!0,g)}),t}function qE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=qE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function kb(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:Hb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Pb=/^:[\w-]+$/,Lb=3,Ub=2,zb=1,jb=10,Bb=-2,i0=r=>r==="*";function qb(r,t){let n=r.split("/"),s=n.length;return n.some(i0)&&(s+=Bb),t&&(s+=Ub),n.filter(o=>!i0(o)).reduce((o,u)=>o+(Pb.test(u)?Lb:u===""?zb:jb),s)}function Hb(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Fb(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:Nr([u,T.pathname]),pathnameBase:Xb(Nr([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=Nr([u,T.pathnameBase]))}return f}function Ah(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Gb(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},b)=>{if(E==="*"){let H=m[b]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const V=m[b];return T&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Gb(r,t=!1,n=!0){ci(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Qb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ci(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Mr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var HE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yb=r=>HE.test(r);function Kb(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Na(r):r,u;if(n)if(Yb(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),ci(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=r0(n.substring(1),"/"):u=r0(n,t)}else u=t;return{pathname:u,search:Jb(s),hash:Zb(o)}}function r0(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $b(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function FE(r){let t=$b(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function GE(r,t,n,s=!1){let o;typeof r=="string"?o=Na(r):(o={...r},Se(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),Se(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),Se(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=t.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?t[T]:"/"}let p=Kb(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Nr=r=>r.join("/").replace(/\/\/+/g,"/"),Xb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Jb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Zb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Wb=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function tA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function eA(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var QE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function YE(r,t){let n=r;if(typeof n!="string"||!HE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(QE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Mr(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{ci(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KE=["POST","PUT","PATCH","DELETE"];new Set(KE);var nA=["GET",...KE];new Set(nA);var Bo=P.createContext(null);Bo.displayName="DataRouter";var $h=P.createContext(null);$h.displayName="DataRouterState";var iA=P.createContext(!1),$E=P.createContext({isTransitioning:!1});$E.displayName="ViewTransition";var rA=P.createContext(new Map);rA.displayName="Fetchers";var sA=P.createContext(null);sA.displayName="Await";var Ai=P.createContext(null);Ai.displayName="Navigation";var gu=P.createContext(null);gu.displayName="Location";var zr=P.createContext({outlet:null,matches:[],isDataRoute:!1});zr.displayName="Route";var Ep=P.createContext(null);Ep.displayName="RouteError";var XE="REACT_ROUTER_ERROR",aA="REDIRECT",oA="ROUTE_ERROR_RESPONSE";function lA(r){if(r.startsWith(`${XE}:${aA}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function uA(r){if(r.startsWith(`${XE}:${oA}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Wb(t.status,t.statusText,t.data)}catch{}}function cA(r,{relative:t}={}){Se(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Ai),{hash:o,pathname:u,search:f}=_u(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Nr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function yu(){return P.useContext(gu)!=null}function Ys(){return Se(yu(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(gu).location}var JE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZE(r){P.useContext(Ai).static||P.useLayoutEffect(r)}function Tp(){let{isDataRoute:r}=P.useContext(zr);return r?wA():hA()}function hA(){Se(yu(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(Bo),{basename:t,navigator:n}=P.useContext(Ai),{matches:s}=P.useContext(zr),{pathname:o}=Ys(),u=JSON.stringify(FE(s)),f=P.useRef(!1);return ZE(()=>{f.current=!0}),P.useCallback((p,g={})=>{if(ci(f.current,JE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=GE(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Nr([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}P.createContext(null);function _u(r,{relative:t}={}){let{matches:n}=P.useContext(zr),{pathname:s}=Ys(),o=JSON.stringify(FE(n));return P.useMemo(()=>GE(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function fA(r,t){return WE(r,t)}function WE(r,t,n,s,o){var lt;Se(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(Ai),{matches:f}=P.useContext(zr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let it=T&&T.path||"";eT(g,!T||it.endsWith("*")||it.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${it}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${it}"> to <Route path="${it==="/"?"*":`${it}/*`}">.`)}let b=Ys(),V;if(t){let it=typeof t=="string"?Na(t):t;Se(E==="/"||((lt=it.pathname)==null?void 0:lt.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${it.pathname}" was given in the \`location\` prop.`),V=it}else V=b;let H=V.pathname||"/",X=H;if(E!=="/"){let it=E.replace(/^\//,"").split("/");X="/"+H.replace(/^\//,"").split("/").slice(it.length).join("/")}let G=jE(r,{pathname:X});ci(T||G!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),ci(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let st=yA(G&&G.map(it=>Object.assign({},it,{params:Object.assign({},p,it.params),pathname:Nr([E,u.encodeLocation?u.encodeLocation(it.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathname]),pathnameBase:it.pathnameBase==="/"?E:Nr([E,u.encodeLocation?u.encodeLocation(it.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathnameBase])})),f,n,s,o);return t&&st?P.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},st):st}function dA(){let r=SA(),t=tA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:o},n):null,f)}var mA=P.createElement(dA,null),tT=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=uA(r.digest);n&&(r=n)}let t=r!==void 0?P.createElement(zr.Provider,{value:this.props.routeContext},P.createElement(Ep.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?P.createElement(pA,{error:r},t):t}};tT.contextType=iA;var wm=new WeakMap;function pA({children:r,error:t}){let{basename:n}=P.useContext(Ai);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=lA(t.digest);if(s){let o=wm.get(t);if(o)throw o;let u=YE(s.location,n);if(QE&&!wm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw wm.set(t,f),f}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function gA({routeContext:r,match:t,children:n}){let s=P.useContext(Bo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(zr.Provider,{value:r},n)}function yA(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);Se(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:b,errors:V}=n,H=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!V||V[T.route.id]===void 0);if(T.route.lazy||H){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{var b,V;s(E,{location:n.location,params:((V=(b=n.matches)==null?void 0:b[0])==null?void 0:V.params)??{},unstable_pattern:eA(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,b)=>{let V,H=!1,X=null,G=null;n&&(V=f&&T.route.id?f[T.route.id]:void 0,X=T.route.errorElement||mA,m&&(p<0&&b===0?(eT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,G=null):p===b&&(H=!0,G=T.route.hydrateFallbackElement||null)));let st=t.concat(u.slice(0,b+1)),lt=()=>{let it;return V?it=X:H?it=G:T.route.Component?it=P.createElement(T.route.Component,null):T.route.element?it=T.route.element:it=E,P.createElement(gA,{match:T,routeContext:{outlet:E,matches:st,isDataRoute:n!=null},children:it})};return n&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?P.createElement(tT,{location:n.location,revalidation:n.revalidation,component:X,error:V,children:lt(),routeContext:{outlet:null,matches:st,isDataRoute:!0},onError:g}):lt()},null)}function Sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _A(r){let t=P.useContext(Bo);return Se(t,Sp(r)),t}function vA(r){let t=P.useContext($h);return Se(t,Sp(r)),t}function EA(r){let t=P.useContext(zr);return Se(t,Sp(r)),t}function wp(r){let t=EA(r),n=t.matches[t.matches.length-1];return Se(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function TA(){return wp("useRouteId")}function SA(){var s;let r=P.useContext(Ep),t=vA("useRouteError"),n=wp("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function wA(){let{router:r}=_A("useNavigate"),t=wp("useNavigate"),n=P.useRef(!1);return ZE(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{ci(n.current,JE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var s0={};function eT(r,t,n){!t&&!s0[r]&&(s0[r]=!0,ci(!1,n))}P.memo(bA);function bA({routes:r,future:t,state:n,onError:s}){return WE(r,void 0,n,s,t)}function Hm(r){Se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AA({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Se(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Na(n));let{pathname:g="/",search:E="",hash:T="",state:b=null,key:V="default"}=n,H=P.useMemo(()=>{let X=Mr(g,m);return X==null?null:{location:{pathname:X,search:E,hash:T,state:b,key:V},navigationType:s}},[m,g,E,T,b,V,s]);return ci(H!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:P.createElement(Ai.Provider,{value:p},P.createElement(gu.Provider,{children:t,value:H}))}function RA({children:r,location:t}){return fA(Fm(r),t)}function Fm(r,t=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...t,o];if(s.type===P.Fragment){n.push.apply(n,Fm(s.props.children,u));return}Se(s.type===Hm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Se(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Fm(s.props.children,u)),n.push(f)}),n}var dh="get",mh="application/x-www-form-urlencoded";function Xh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function IA(r){return Xh(r)&&r.tagName.toLowerCase()==="button"}function CA(r){return Xh(r)&&r.tagName.toLowerCase()==="form"}function xA(r){return Xh(r)&&r.tagName.toLowerCase()==="input"}function DA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function NA(r,t){return r.button===0&&(!t||t==="_self")&&!DA(r)}function Gm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((t,n)=>{let s=r[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function OA(r,t){let n=Gm(r);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var rh=null;function MA(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var VA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bm(r){return r!=null&&!VA.has(r)?(ci(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):r}function kA(r,t){let n,s,o,u,f;if(CA(r)){let m=r.getAttribute("action");s=m?Mr(m,t):null,n=r.getAttribute("method")||dh,o=bm(r.getAttribute("enctype"))||mh,u=new FormData(r)}else if(IA(r)||xA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Mr(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||dh,o=bm(r.getAttribute("formenctype"))||bm(m.getAttribute("enctype"))||mh,u=new FormData(m,r),!MA()){let{name:g,type:E,value:T}=r;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,T)}}else{if(Xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,s=null,o=mh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function PA(r,t,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&Mr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function LA(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function zA(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await LA(u,n);return f.links?f.links():[]}return[]}));return HA(s.flat(1).filter(UA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function a0(r,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function jA(r,t,{includeHydrateFallback:n}={}){return BA(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function BA(r){return[...new Set(r)]}function qA(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function HA(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(qA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function nT(){let r=P.useContext(Bo);return bp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function FA(){let r=P.useContext($h);return bp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ap=P.createContext(void 0);Ap.displayName="FrameworkContext";function iT(){let r=P.useContext(Ap);return bp(r,"You must render this element inside a <HydratedRouter> element"),r}function GA(r,t){let n=P.useContext(Ap),[s,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=t,b=P.useRef(null);P.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=st=>{st.forEach(lt=>{f(lt.isIntersecting)})},G=new IntersectionObserver(X,{threshold:.5});return b.current&&G.observe(b.current),()=>{G.disconnect()}}},[r]),P.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let V=()=>{o(!0)},H=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Ql(m,V),onBlur:Ql(p,H),onMouseEnter:Ql(g,V),onMouseLeave:Ql(E,H),onTouchStart:Ql(T,V)}]:[!1,b,{}]}function Ql(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function QA({page:r,...t}){let{router:n}=nT(),s=P.useMemo(()=>jE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(KA,{page:r,matches:s,...t}):null}function YA(r){let{manifest:t,routeModules:n}=iT(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return zA(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function KA({page:r,matches:t,...n}){let s=Ys(),{future:o,manifest:u,routeModules:f}=iT(),{basename:m}=nT(),{loaderData:p,matches:g}=FA(),E=P.useMemo(()=>a0(r,t,g,u,s,"data"),[r,t,g,u,s]),T=P.useMemo(()=>a0(r,t,g,u,s,"assets"),[r,t,g,u,s]),b=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let X=new Set,G=!1;if(t.forEach(lt=>{var St;let it=u.routes[lt.route.id];!it||!it.hasLoader||(!E.some(It=>It.route.id===lt.route.id)&&lt.route.id in p&&((St=f[lt.route.id])!=null&&St.shouldRevalidate)||it.hasClientLoader?G=!0:X.add(lt.route.id))}),X.size===0)return[];let st=PA(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return G&&X.size>0&&st.searchParams.set("_routes",t.filter(lt=>X.has(lt.route.id)).map(lt=>lt.route.id).join(",")),[st.pathname+st.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,t,r,f]),V=P.useMemo(()=>jA(T,u),[T,u]),H=YA(T);return P.createElement(P.Fragment,null,b.map(X=>P.createElement("link",{key:X,rel:"prefetch",as:"fetch",href:X,...n})),V.map(X=>P.createElement("link",{key:X,rel:"modulepreload",href:X,...n})),H.map(({key:X,link:G})=>P.createElement("link",{key:X,nonce:n.nonce,...G})))}function $A(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var XA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XA&&(window.__reactRouterVersion="7.12.0")}catch{}function JA({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=Db({window:s,v5Compat:!0}));let u=o.current,[f,m]=P.useState({action:u.action,location:u.location}),p=P.useCallback(g=>{n===!1?m(g):P.startTransition(()=>m(g))},[n]);return P.useLayoutEffect(()=>u.listen(p),[u,p]),P.createElement(AA,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var rT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sT=P.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:b,...V},H){let{basename:X,unstable_useTransitions:G}=P.useContext(Ai),st=typeof g=="string"&&rT.test(g),lt=YE(g,X);g=lt.to;let it=cA(g,{relative:o}),[St,It,bt]=GA(s,V),I=eR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:b,unstable_useTransitions:G});function A(O){t&&t(O),O.defaultPrevented||I(O)}let R=P.createElement("a",{...V,...bt,href:lt.absoluteURL||it,onClick:lt.isExternal||u?t:A,ref:$A(H,It),target:p,"data-discover":!st&&n==="render"?"true":void 0});return St&&!st?P.createElement(P.Fragment,null,R,P.createElement(QA,{page:it})):R});sT.displayName="Link";var ZA=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=_u(f,{relative:g.relative}),b=Ys(),V=P.useContext($h),{navigator:H,basename:X}=P.useContext(Ai),G=V!=null&&oR(T)&&m===!0,st=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,lt=b.pathname,it=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(lt=lt.toLowerCase(),it=it?it.toLowerCase():null,st=st.toLowerCase()),it&&X&&(it=Mr(it,X)||it);const St=st!=="/"&&st.endsWith("/")?st.length-1:st.length;let It=lt===st||!o&&lt.startsWith(st)&&lt.charAt(St)==="/",bt=it!=null&&(it===st||!o&&it.startsWith(st)&&it.charAt(st.length)==="/"),I={isActive:It,isPending:bt,isTransitioning:G},A=It?t:void 0,R;typeof s=="function"?R=s(I):R=[s,It?"active":null,bt?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(I):u;return P.createElement(sT,{...g,"aria-current":A,className:R,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(I):p)});ZA.displayName="NavLink";var WA=P.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=dh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:b,...V},H)=>{let{unstable_useTransitions:X}=P.useContext(Ai),G=sR(),st=aR(m,{relative:g}),lt=f.toLowerCase()==="get"?"get":"post",it=typeof m=="string"&&rT.test(m),St=It=>{if(p&&p(It),It.defaultPrevented)return;It.preventDefault();let bt=It.nativeEvent.submitter,I=(bt==null?void 0:bt.getAttribute("formmethod"))||f,A=()=>G(bt||It.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:b});X&&n!==!1?P.startTransition(()=>A()):A()};return P.createElement("form",{ref:H,method:lt,action:st,onSubmit:s?p:St,...V,"data-discover":!it&&r==="render"?"true":void 0})});WA.displayName="Form";function tR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aT(r){let t=P.useContext(Bo);return Se(t,tR(r)),t}function eR(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Tp(),E=Ys(),T=_u(r,{relative:u});return P.useCallback(b=>{if(NA(b,t)){b.preventDefault();let V=n!==void 0?n:ou(E)===ou(T),H=()=>g(r,{replace:V,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?P.startTransition(()=>H()):H()}},[E,g,T,n,s,t,r,o,u,f,m,p])}function nR(r){ci(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=P.useRef(Gm(r)),n=P.useRef(!1),s=Ys(),o=P.useMemo(()=>OA(s.search,n.current?null:t.current),[s.search]),u=Tp(),f=P.useCallback((m,p)=>{const g=Gm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var iR=0,rR=()=>`__${String(++iR)}__`;function sR(){let{router:r}=aT("useSubmit"),{basename:t}=P.useContext(Ai),n=TA(),s=r.fetch,o=r.navigate;return P.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=kA(u,t);if(f.navigate===!1){let b=f.fetcherKey||rR();await s(b,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function aR(r,{relative:t}={}){let{basename:n}=P.useContext(Ai),s=P.useContext(zr);Se(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={..._u(r||".",{relative:t})},f=Ys();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Nr([n,u.pathname])),ou(u)}function oR(r,{relative:t}={}){let n=P.useContext($E);Se(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=aT("useViewTransitionState"),o=_u(r,{relative:t});if(!n.isTransitioning)return!1;let u=Mr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Mr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ah(o.pathname,f)!=null||Ah(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oT=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=P.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>P.createElement("svg",{ref:p,...uR,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:oT("lucide",o),...m},[...f.map(([g,E])=>P.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=(r,t)=>{const n=P.forwardRef(({className:s,...o},u)=>P.createElement(cR,{ref:u,iconNode:t,className:oT(`lucide-${lR(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=yn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=yn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=yn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=yn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=yn("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=yn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=yn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=yn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=yn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=yn("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=yn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=yn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=yn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=yn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=yn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=yn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=yn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),TR=()=>{};var o0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},SR=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},fT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(b=64)),s.push(n[E],n[T],n[b],n[V])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(hT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):SR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new wR;const b=u<<2|m>>4;if(s.push(b),g!==64){const V=m<<4&240|g>>2;if(s.push(V),T!==64){const H=g<<6&192|T;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class wR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bR=function(r){const t=hT(r);return fT.encodeByteArray(t,!0)},Ih=function(r){return bR(r).replace(/\./g,"")},dT=function(r){try{return fT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=()=>AR().__FIREBASE_DEFAULTS__,IR=()=>{if(typeof process>"u"||typeof o0>"u")return;const r=o0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},CR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&dT(r[1]);return t&&JSON.parse(t)},Jh=()=>{try{return TR()||RR()||IR()||CR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mT=r=>{var t,n;return(n=(t=Jh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},xR=r=>{const t=mT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},pT=()=>{var r;return(r=Jh())===null||r===void 0?void 0:r.config},gT=r=>{var t;return(t=Jh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ih(JSON.stringify(n)),Ih(JSON.stringify(f)),""].join(".")}const tu={};function OR(){const r={prod:[],emulator:[]};for(const t of Object.keys(tu))tu[t]?r.emulator.push(t):r.prod.push(t);return r}function MR(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let l0=!1;function _T(r,t){if(typeof window>"u"||typeof document>"u"||!qo(window.location.host)||tu[r]===t||tu[r]||l0)return;tu[r]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=OR().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,V){b.setAttribute("width","24"),b.setAttribute("id",V),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{l0=!0,f()},b}function E(b,V){b.setAttribute("id",V),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=MR(s),V=n("text"),H=document.getElementById(V)||document.createElement("span"),X=n("learnmore"),G=document.getElementById(X)||document.createElement("a"),st=n("preprendIcon"),lt=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const it=b.element;m(it),E(G,X);const St=g();p(lt,st),it.append(lt,H,G,St),document.body.appendChild(it)}u?(H.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function kR(){var r;const t=(r=Jh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function UR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zR(){const r=bn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function jR(){return!kR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BR(){try{return typeof indexedDB=="object"}catch{return!1}}function qR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="FirebaseError";class jr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=HR,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?FR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new jr(o,m,s)}}function FR(r,t){return r.replace(GR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const GR=/\{\$([^}]+)}/g;function QR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function zs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(u0(u)&&u0(f)){if(!zs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function u0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function YR(r,t){const n=new KR(r,t);return n.subscribe.bind(n)}class KR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");$R(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $R(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r){return r&&r._delegate?r._delegate:r}class Ia{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new DR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZR(t))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=wa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wa){return this.instances.has(t)}getOptions(t=wa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:JR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=wa){return this.component?this.component.multipleInstances?t:wa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JR(r){return r===wa?void 0:r}function ZR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new XR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qt||(Qt={}));const t2={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},e2=Qt.INFO,n2={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},i2=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=n2[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rp{constructor(t){this.name=t,this._logLevel=e2,this._logHandler=i2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?t2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...t),this._logHandler(this,Qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...t),this._logHandler(this,Qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...t),this._logHandler(this,Qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...t),this._logHandler(this,Qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...t),this._logHandler(this,Qt.ERROR,...t)}}const r2=(r,t)=>t.some(n=>r instanceof n);let c0,h0;function s2(){return c0||(c0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a2(){return h0||(h0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vT=new WeakMap,Ym=new WeakMap,ET=new WeakMap,Rm=new WeakMap,Ip=new WeakMap;function o2(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Os(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&vT.set(n,r)}).catch(()=>{}),Ip.set(t,r),t}function l2(r){if(Ym.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Ym.set(r,t)}let Km={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Ym.get(r);if(t==="objectStoreNames")return r.objectStoreNames||ET.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Os(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function u2(r){Km=r(Km)}function c2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Im(this),t,...n);return ET.set(s,t.sort?t.sort():[t]),Os(s)}:a2().includes(r)?function(...t){return r.apply(Im(this),t),Os(vT.get(this))}:function(...t){return Os(r.apply(Im(this),t))}}function h2(r){return typeof r=="function"?c2(r):(r instanceof IDBTransaction&&l2(r),r2(r,s2())?new Proxy(r,Km):r)}function Os(r){if(r instanceof IDBRequest)return o2(r);if(Rm.has(r))return Rm.get(r);const t=h2(r);return t!==r&&(Rm.set(r,t),Ip.set(t,r)),t}const Im=r=>Ip.get(r);function f2(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Os(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Os(f.result),p.oldVersion,p.newVersion,Os(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const d2=["get","getKey","getAll","getAllKeys","count"],m2=["put","add","delete","clear"],Cm=new Map;function f0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Cm.get(t))return Cm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=m2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||d2.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(t,u),u}u2(r=>({...r,get:(t,n,s)=>f0(t,n)||r.get(t,n,s),has:(t,n)=>!!f0(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(g2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function g2(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const $m="@firebase/app",d0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new Rp("@firebase/app"),y2="@firebase/app-compat",_2="@firebase/analytics-compat",v2="@firebase/analytics",E2="@firebase/app-check-compat",T2="@firebase/app-check",S2="@firebase/auth",w2="@firebase/auth-compat",b2="@firebase/database",A2="@firebase/data-connect",R2="@firebase/database-compat",I2="@firebase/functions",C2="@firebase/functions-compat",x2="@firebase/installations",D2="@firebase/installations-compat",N2="@firebase/messaging",O2="@firebase/messaging-compat",M2="@firebase/performance",V2="@firebase/performance-compat",k2="@firebase/remote-config",P2="@firebase/remote-config-compat",L2="@firebase/storage",U2="@firebase/storage-compat",z2="@firebase/firestore",j2="@firebase/ai",B2="@firebase/firestore-compat",q2="firebase",H2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",F2={[$m]:"fire-core",[y2]:"fire-core-compat",[v2]:"fire-analytics",[_2]:"fire-analytics-compat",[T2]:"fire-app-check",[E2]:"fire-app-check-compat",[S2]:"fire-auth",[w2]:"fire-auth-compat",[b2]:"fire-rtdb",[A2]:"fire-data-connect",[R2]:"fire-rtdb-compat",[I2]:"fire-fn",[C2]:"fire-fn-compat",[x2]:"fire-iid",[D2]:"fire-iid-compat",[N2]:"fire-fcm",[O2]:"fire-fcm-compat",[M2]:"fire-perf",[V2]:"fire-perf-compat",[k2]:"fire-rc",[P2]:"fire-rc-compat",[L2]:"fire-gcs",[U2]:"fire-gcs-compat",[z2]:"fire-fst",[B2]:"fire-fst-compat",[j2]:"fire-vertex","fire-js":"fire-js",[q2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,G2=new Map,Jm=new Map;function m0(r,t){try{r.container.addComponent(t)}catch(n){Vr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Mo(r){const t=r.name;if(Jm.has(t))return Vr.debug(`There were multiple attempts to register component ${t}.`),!1;Jm.set(t,r);for(const n of Ch.values())m0(n,r);for(const n of G2.values())m0(n,r);return!0}function Cp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function bi(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new vu("app","Firebase",Q2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=H2;function TT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Xm,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Ms.create("bad-app-name",{appName:String(o)});if(n||(n=pT()),!n)throw Ms.create("no-options");const u=Ch.get(o);if(u){if(zs(n,u.options)&&zs(s,u.config))return u;throw Ms.create("duplicate-app",{appName:o})}const f=new WR(o);for(const p of Jm.values())f.addComponent(p);const m=new Y2(n,s,f);return Ch.set(o,m),m}function ST(r=Xm){const t=Ch.get(r);if(!t&&r===Xm&&pT())return TT();if(!t)throw Ms.create("no-app",{appName:r});return t}function Vs(r,t,n){var s;let o=(s=F2[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vr.warn(m.join(" "));return}Mo(new Ia(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="firebase-heartbeat-database",$2=1,lu="firebase-heartbeat-store";let xm=null;function wT(){return xm||(xm=f2(K2,$2,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(lu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ms.create("idb-open",{originalErrorMessage:r.message})})),xm}async function X2(r){try{const n=(await wT()).transaction(lu),s=await n.objectStore(lu).get(bT(r));return await n.done,s}catch(t){if(t instanceof jr)Vr.warn(t.message);else{const n=Ms.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Vr.warn(n.message)}}}async function p0(r,t){try{const s=(await wT()).transaction(lu,"readwrite");await s.objectStore(lu).put(t,bT(r)),await s.done}catch(n){if(n instanceof jr)Vr.warn(n.message);else{const s=Ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vr.warn(s.message)}}}function bT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=1024,Z2=30;class W2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=g0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Z2){const f=nI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Vr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=g0(),{heartbeatsToSend:s,unsentEntries:o}=tI(this._heartbeatsCache.heartbeats),u=Ih(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Vr.warn(n),""}}}function g0(){return new Date().toISOString().substring(0,10)}function tI(r,t=J2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),y0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),y0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class eI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BR()?qR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await X2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return p0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return p0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function y0(r){return Ih(JSON.stringify({version:2,heartbeats:r})).length}function nI(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(r){Mo(new Ia("platform-logger",t=>new p2(t),"PRIVATE")),Mo(new Ia("heartbeat",t=>new W2(t),"PRIVATE")),Vs($m,d0,r),Vs($m,d0,"esm2017"),Vs("fire-js","")}iI("");function xp(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function AT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rI=AT,RT=new vu("auth","Firebase",AT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Rp("@firebase/auth");function sI(r,...t){xh.logLevel<=Qt.WARN&&xh.warn(`Auth (${Ho}): ${r}`,...t)}function ph(r,...t){xh.logLevel<=Qt.ERROR&&xh.error(`Auth (${Ho}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(r,...t){throw Np(r,...t)}function Vi(r,...t){return Np(r,...t)}function Dp(r,t,n){const s=Object.assign(Object.assign({},rI()),{[t]:n});return new vu("auth","Firebase",s).create(t,{appName:r.name})}function ks(r){return Dp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IT(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Zi(r,"argument-error"),Dp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Np(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return RT.create(r,...t)}function Dt(r,t,...n){if(!r)throw Np(t,...n)}function Cr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw ph(t),new Error(t)}function kr(r,t){r||Cr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function aI(){return _0()==="http:"||_0()==="https:"}function _0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aI()||LR()||"connection"in navigator)?navigator.onLine:!0}function lI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t,n){this.shortDelay=t,this.longDelay=n,kr(n>t,"Short delay should be less than long delay!"),this.isMobile=VR()||UR()}get(){return oI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(r,t){kr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hI=new Tu(3e4,6e4);function Mp(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Fo(r,t,n,s,o={}){return xT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Eu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:t,headers:p},u);return PR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&qo(r.emulatorConfig.host)&&(g.credentials="include"),CT.fetch()(await DT(r,r.config.apiHost,n,m),g)})}async function xT(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},uI),t);try{const o=new dI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw oh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw oh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw oh(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Dp(r,E,g);Zi(r,E)}}catch(o){if(o instanceof jr)throw o;Zi(r,"network-request-failed",{message:String(o)})}}async function fI(r,t,n,s,o={}){const u=await Fo(r,t,n,s,o);return"mfaPendingCredential"in u&&Zi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function DT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Op(r.config,o):`${r.config.apiScheme}://${o}`;return cI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class dI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Vi(this.auth,"network-request-failed")),hI.get())})}}function oh(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Vi(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(r,t){return Fo(r,"POST","/v1/accounts:delete",t)}async function Dh(r,t){return Fo(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pI(r,t=!1){const n=xe(r),s=await n.getIdToken(t),o=Vp(s);Dt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:eu(Dm(o.auth_time)),issuedAtTime:eu(Dm(o.iat)),expirationTime:eu(Dm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dm(r){return Number(r)*1e3}function Vp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=dT(n);return o?JSON.parse(o):(ph("Failed to decode base64 JWT payload"),null)}catch(o){return ph("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function v0(r){const t=Vp(r);return Dt(t,"internal-error"),Dt(typeof t.exp<"u","internal-error"),Dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof jr&&gI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function gI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(r){var t;const n=r.auth,s=await r.getIdToken(),o=await uu(r,Dh(n,{idToken:s}));Dt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?NT(u.providerUserInfo):[],m=vI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Wm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,T)}async function _I(r){const t=xe(r);await Nh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vI(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function NT(r){return r.map(t=>{var{providerId:n}=t,s=xp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(r,t){const n=await xT(r,{},async()=>{const s=Eu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await DT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&qo(r.emulatorConfig.host)&&(p.credentials="include"),CT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TI(r,t){return Fo(r,"POST","/v2/accounts:revokeToken",Mp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Dt(t.idToken,"internal-error"),Dt(typeof t.idToken<"u","internal-error"),Dt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):v0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Dt(t.length!==0,"internal-error");const n=v0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await EI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new xo;return s&&(Dt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Dt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Dt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(r,t){Dt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Mi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=xp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Wm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await uu(this,this.stsTokenManager.getToken(this.auth,t));return Dt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return pI(this,t)}reload(){return _I(this)}_assign(t){this!==t&&(Dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Mi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bi(this.auth.app))return Promise.reject(ks(this.auth));const t=await this.getIdToken();return await uu(this,mI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,g,E;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,H=(f=n.photoURL)!==null&&f!==void 0?f:void 0,X=(m=n.tenantId)!==null&&m!==void 0?m:void 0,G=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,st=(g=n.createdAt)!==null&&g!==void 0?g:void 0,lt=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:it,emailVerified:St,isAnonymous:It,providerData:bt,stsTokenManager:I}=n;Dt(it&&I,t,"internal-error");const A=xo.fromJSON(this.name,I);Dt(typeof it=="string",t,"internal-error"),Rs(T,t.name),Rs(b,t.name),Dt(typeof St=="boolean",t,"internal-error"),Dt(typeof It=="boolean",t,"internal-error"),Rs(V,t.name),Rs(H,t.name),Rs(X,t.name),Rs(G,t.name),Rs(st,t.name),Rs(lt,t.name);const R=new Mi({uid:it,auth:t,email:b,emailVerified:St,displayName:T,isAnonymous:It,photoURL:H,phoneNumber:V,tenantId:X,stsTokenManager:A,createdAt:st,lastLoginAt:lt});return bt&&Array.isArray(bt)&&(R.providerData=bt.map(O=>Object.assign({},O))),G&&(R._redirectEventId=G),R}static async _fromIdTokenResponse(t,n,s=!1){const o=new xo;o.updateFromServerResponse(n);const u=new Mi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Nh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Dt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?NT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new xo;m.updateFromIdToken(s);const p=new Mi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;function xr(r){kr(r instanceof Function,"Expected a class definition");let t=E0.get(r);return t?(kr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,E0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}OT.type="NONE";const T0=OT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(r,t,n){return`firebase:${r}:${t}:${n}`}class Do{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=gh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Dh(this.auth,{idToken:t}).catch(()=>{});return n?Mi._fromGetAccountInfoResponse(this.auth,n,t):null}return Mi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Do(xr(T0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||xr(T0);const f=gh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const b=await Dh(t,{idToken:E}).catch(()=>{});if(!b)break;T=await Mi._fromGetAccountInfoResponse(t,b,E)}else T=Mi._fromJSON(t,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Do(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Do(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(MT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(UT(t))return"Blackberry";if(zT(t))return"Webos";if(VT(t))return"Safari";if((t.includes("chrome/")||kT(t))&&!t.includes("edge/"))return"Chrome";if(LT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function MT(r=bn()){return/firefox\//i.test(r)}function VT(r=bn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kT(r=bn()){return/crios\//i.test(r)}function PT(r=bn()){return/iemobile/i.test(r)}function LT(r=bn()){return/android/i.test(r)}function UT(r=bn()){return/blackberry/i.test(r)}function zT(r=bn()){return/webos/i.test(r)}function kp(r=bn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function SI(r=bn()){var t;return kp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function wI(){return zR()&&document.documentMode===10}function jT(r=bn()){return kp(r)||LT(r)||zT(r)||UT(r)||/windows phone/i.test(r)||PT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(r,t=[]){let n;switch(r){case"Browser":n=S0(bn());break;case"Worker":n=`${S0(bn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ho}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(r,t={}){return Fo(r,"GET","/v2/passwordPolicy",Mp(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=6;class II{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:RI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w0(this),this.idTokenSubscription=new w0(this),this.beforeStateQueue=new bI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Do.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Dh(this,{idToken:t}),s=await Mi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(bi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Nh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(bi(this.app))return Promise.reject(ks(this));const n=t?xe(t):null;return n&&Dt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return bi(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return bi(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await AI(this),n=new II(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new vu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await TI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&xr(t)||this._popupRedirectResolver;Dt(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=BT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&sI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Su(r){return xe(r)}class w0{constructor(t){this.auth=t,this.observer=null,this.addObserver=YR(n=>this.observer=n)}get next(){return Dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xI(r){Pp=r}function DI(r){return Pp.loadJS(r)}function NI(){return Pp.gapiScript}function OI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(r,t){const n=Cp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(zs(u,t??{}))return o;Zi(o,"already-initialized")}return n.initialize({options:t})}function VI(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(xr);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function kI(r,t,n){const s=Su(r);Dt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=qT(t),{host:f,port:m}=PI(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Dt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Dt(zs(g,s.config.emulator)&&zs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,qo(f)?(yT(`${u}//${f}${p}`),_T("Auth",!0)):LI()}function qT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function PI(r){const t=qT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:b0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:b0(f)}}}function b0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function LI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(t){return Cr("not implemented")}_linkToIdToken(t,n){return Cr("not implemented")}_getReauthenticationResolver(t){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(r,t){return fI(r,"POST","/v1/accounts:signInWithIdp",Mp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="http://localhost";class Ca extends HT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=xp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ca(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return No(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,No(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,No(t,n)}buildRequest(){const t={requestUri:UI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Eu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Zh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends wu{constructor(){super("facebook.com")}static credential(t){return Ca._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Is.credentialFromTaggedObject(t)}static credentialFromError(t){return Is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Is.credential(t.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ca._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Ir.credential(n,s)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends wu{constructor(){super("github.com")}static credential(t){return Ca._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cs.credentialFromTaggedObject(t)}static credentialFromError(t){return Cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cs.credential(t.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends wu{constructor(){super("twitter.com")}static credential(t,n){return Ca._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return xs.credentialFromTaggedObject(t)}static credentialFromError(t){return xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return xs.credential(n,s)}catch{return null}}}xs.TWITTER_SIGN_IN_METHOD="twitter.com";xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Mi._fromIdTokenResponse(t,s,o),f=A0(s);return new Vo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=A0(s);return new Vo({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function A0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends jr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Oh(t,n,s,o)}}function FT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(r,u,t,s):u})}async function zI(r,t,n=!1){const s=await uu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Vo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,t,n=!1){const{auth:s}=r;if(bi(s.app))return Promise.reject(ks(s));const o="reauthenticate";try{const u=await uu(r,FT(s,o,t,r),n);Dt(u.idToken,s,"internal-error");const f=Vp(u.idToken);Dt(f,s,"internal-error");const{sub:m}=f;return Dt(r.uid===m,s,"user-mismatch"),Vo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Zi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(r,t,n=!1){if(bi(r.app))return Promise.reject(ks(r));const s="signIn",o=await FT(r,s,t),u=await Vo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r,t){return xe(r).setPersistence(t)}function qI(r,t,n,s){return xe(r).onIdTokenChanged(t,n,s)}function HI(r,t,n){return xe(r).beforeAuthStateChanged(t,n)}function QT(r,t,n,s){return xe(r).onAuthStateChanged(t,n,s)}function FI(r){return xe(r).signOut()}const Mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=1e3,QI=10;class KT extends YT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);wI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,QI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},GI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}KT.type="LOCAL";const Lp=KT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T extends YT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}$T.type="SESSION";const XT=$T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Wh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await YI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Up("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function $I(r){Ki().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function XI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function ZI(){return JT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="firebaseLocalStorageDb",WI=1,Vh="firebaseLocalStorage",WT="fbase_key";class bu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(r,t){return r.transaction([Vh],t?"readwrite":"readonly").objectStore(Vh)}function tC(){const r=indexedDB.deleteDatabase(ZT);return new bu(r).toPromise()}function tp(){const r=indexedDB.open(ZT,WI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Vh,{keyPath:WT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Vh)?t(s):(s.close(),await tC(),t(await tp()))})})}async function R0(r,t,n){const s=tf(r,!0).put({[WT]:t,value:n});return new bu(s).toPromise()}async function eC(r,t){const n=tf(r,!1).get(t),s=await new bu(n).toPromise();return s===void 0?null:s.value}function I0(r,t){const n=tf(r,!0).delete(t);return new bu(n).toPromise()}const nC=800,iC=3;class t1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>iC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(ZI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await XI(),!this.activeServiceWorker)return;this.sender=new KI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||JI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tp();return await R0(t,Mh,"1"),await I0(t,Mh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>R0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>eC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>I0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=tf(o,!1).getAll();return new bu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t1.type="LOCAL";const rC=t1;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(r,t){return t?xr(t):(Dt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends HT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return No(t,this._buildIdpRequest())}_linkToIdToken(t,n){return No(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return No(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function sC(r){return BI(r.auth,new jp(r),r.bypassAuthState)}function aC(r){const{auth:t,user:n}=r;return Dt(n,t,"internal-error"),jI(n,new jp(r),r.bypassAuthState)}async function oC(r){const{auth:t,user:n}=r;return Dt(n,t,"internal-error"),zI(n,new jp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sC;case"linkViaPopup":case"linkViaRedirect":return oC;case"reauthViaPopup":case"reauthViaRedirect":return aC;default:Zi(this.auth,"internal-error")}}resolve(t){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Tu(2e3,1e4);async function uC(r,t,n){if(bi(r.app))return Promise.reject(Vi(r,"operation-not-supported-in-this-environment"));const s=Su(r);IT(r,t,Zh);const o=zp(s,n);return new ba(s,"signInViaPopup",t,o).executeNotNull()}class ba extends e1{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ba.currentPopupAction&&ba.currentPopupAction.cancel(),ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Dt(t,this.auth,"internal-error"),t}async onExecution(){kr(this.filter.length===1,"Popup operations only handle one event");const t=Up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,lC.get())};t()}}ba.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="pendingRedirect",yh=new Map;class hC extends e1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=yh.get(this.auth._key());if(!t){try{const s=await fC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}yh.set(this.auth._key(),t)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fC(r,t){const n=i1(t),s=n1(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function dC(r,t){return n1(r)._set(i1(t),"true")}function mC(r,t){yh.set(r._key(),t)}function n1(r){return xr(r._redirectPersistence)}function i1(r){return gh(cC,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(r,t,n){return pC(r,t,n)}async function pC(r,t,n){if(bi(r.app))return Promise.reject(ks(r));const s=Su(r);IT(r,t,Zh),await s._initializationPromise;const o=zp(s,n);return await dC(o,s),o._openRedirect(s,t,"signInViaRedirect")}async function gC(r,t,n=!1){if(bi(r.app))return Promise.reject(ks(r));const s=Su(r),o=zp(s,t),f=await new hC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=600*1e3;class _C{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!r1(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Vi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yC&&this.cachedEventUids.clear(),this.cachedEventUids.has(x0(t))}saveEventToCache(t){this.cachedEventUids.add(x0(t)),this.lastProcessedEventTime=Date.now()}}function x0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function r1({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function vC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(r,t={}){return Fo(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SC=/^https?/;async function wC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await EC(r);for(const n of t)try{if(bC(n))return}catch{}Zi(r,"unauthorized-domain")}function bC(r){const t=Zm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!SC.test(n))return!1;if(TC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Tu(3e4,6e4);function D0(){const r=Ki().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function RC(r){return new Promise((t,n)=>{var s,o,u;function f(){D0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{D0(),n(Vi(r,"network-request-failed"))},timeout:AC.get()})}if(!((o=(s=Ki().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Ki().gapi)===null||u===void 0)&&u.load)f();else{const m=OI("iframefcb");return Ki()[m]=()=>{gapi.load?f():n(Vi(r,"network-request-failed"))},DI(`${NI()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw _h=null,t})}let _h=null;function IC(r){return _h=_h||RC(r),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new Tu(5e3,15e3),xC="__/auth/iframe",DC="emulator/auth/iframe",NC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MC(r){const t=r.config;Dt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Op(t,DC):`https://${r.config.authDomain}/${xC}`,s={apiKey:t.apiKey,appName:r.name,v:Ho},o=OC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Eu(s).slice(1)}`}async function VC(r){const t=await IC(r),n=Ki().gapi;return Dt(n,r,"internal-error"),t.open({where:document.body,url:MC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Vi(r,"network-request-failed"),m=Ki().setTimeout(()=>{u(f)},CC.get());function p(){Ki().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PC=500,LC=600,UC="_blank",zC="http://localhost";class N0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jC(r,t,n,s=PC,o=LC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},kC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=bn().toLowerCase();n&&(m=kT(g)?UC:n),MT(g)&&(t=t||zC,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[V,H])=>`${b}${V}=${H},`,"");if(SI(g)&&m!=="_self")return BC(t||"",m),new N0(null);const T=window.open(t||"",m,E);Dt(T,r,"popup-blocked");try{T.focus()}catch{}return new N0(T)}function BC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="__/auth/handler",HC="emulator/auth/handler",FC=encodeURIComponent("fac");async function O0(r,t,n,s,o,u){Dt(r.config.authDomain,r,"auth-domain-config-required"),Dt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ho,eventId:o};if(t instanceof Zh){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",QR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(t instanceof wu){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${FC}=${encodeURIComponent(p)}`:"";return`${GC(r)}?${Eu(m).slice(1)}${g}`}function GC({config:r}){return r.emulator?Op(r,HC):`https://${r.authDomain}/${qC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class QC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XT,this._completeRedirectFn=gC,this._overrideRedirectResult=mC}async _openPopup(t,n,s,o){var u;kr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await O0(t,n,s,Zm(),o);return jC(t,f,Up())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await O0(t,n,s,Zm(),o);return $I(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(kr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await VC(t),s=new _C(t);return n.register("authEvent",o=>(Dt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Nm,{type:Nm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Nm];f!==void 0&&n(!!f),Zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return jT()||VT()||kp()}}const YC=QC;var M0="@firebase/auth",V0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XC(r){Mo(new Ia("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Dt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BT(r)},g=new CI(s,o,u,p);return VI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Mo(new Ia("auth-internal",t=>{const n=Su(t.getProvider("auth").getImmediate());return(s=>new KC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vs(M0,V0,$C(r)),Vs(M0,V0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=300,ZC=gT("authIdTokenMaxAge")||JC;let k0=null;const WC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZC)return;const o=n==null?void 0:n.token;k0!==o&&(k0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tx(r=ST()){const t=Cp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=MI(r,{popupRedirectResolver:YC,persistence:[rC,Lp,XT]}),s=gT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=WC(u.toString());HI(n,f,()=>f(n.currentUser)),qI(n,m=>f(m))}}const o=mT("auth");return o&&kI(n,`http://${o}`),n}function ex(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}xI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Vi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",ex().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XC("Browser");var P0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,s1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,A){function R(){}R.prototype=A.prototype,I.D=A.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(O,k,U){for(var C=Array(arguments.length-2),De=2;De<arguments.length;De++)C[De-2]=arguments[De];return A.prototype[k].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,R){R||(R=0);var O=Array(16);if(typeof A=="string")for(var k=0;16>k;++k)O[k]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(k=0;16>k;++k)O[k]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=I.g[0],R=I.g[1],k=I.g[2];var U=I.g[3],C=A+(U^R&(k^U))+O[0]+3614090360&4294967295;A=R+(C<<7&4294967295|C>>>25),C=U+(k^A&(R^k))+O[1]+3905402710&4294967295,U=A+(C<<12&4294967295|C>>>20),C=k+(R^U&(A^R))+O[2]+606105819&4294967295,k=U+(C<<17&4294967295|C>>>15),C=R+(A^k&(U^A))+O[3]+3250441966&4294967295,R=k+(C<<22&4294967295|C>>>10),C=A+(U^R&(k^U))+O[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(k^A&(R^k))+O[5]+1200080426&4294967295,U=A+(C<<12&4294967295|C>>>20),C=k+(R^U&(A^R))+O[6]+2821735955&4294967295,k=U+(C<<17&4294967295|C>>>15),C=R+(A^k&(U^A))+O[7]+4249261313&4294967295,R=k+(C<<22&4294967295|C>>>10),C=A+(U^R&(k^U))+O[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(k^A&(R^k))+O[9]+2336552879&4294967295,U=A+(C<<12&4294967295|C>>>20),C=k+(R^U&(A^R))+O[10]+4294925233&4294967295,k=U+(C<<17&4294967295|C>>>15),C=R+(A^k&(U^A))+O[11]+2304563134&4294967295,R=k+(C<<22&4294967295|C>>>10),C=A+(U^R&(k^U))+O[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=U+(k^A&(R^k))+O[13]+4254626195&4294967295,U=A+(C<<12&4294967295|C>>>20),C=k+(R^U&(A^R))+O[14]+2792965006&4294967295,k=U+(C<<17&4294967295|C>>>15),C=R+(A^k&(U^A))+O[15]+1236535329&4294967295,R=k+(C<<22&4294967295|C>>>10),C=A+(k^U&(R^k))+O[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^k&(A^R))+O[6]+3225465664&4294967295,U=A+(C<<9&4294967295|C>>>23),C=k+(A^R&(U^A))+O[11]+643717713&4294967295,k=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(k^U))+O[0]+3921069994&4294967295,R=k+(C<<20&4294967295|C>>>12),C=A+(k^U&(R^k))+O[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^k&(A^R))+O[10]+38016083&4294967295,U=A+(C<<9&4294967295|C>>>23),C=k+(A^R&(U^A))+O[15]+3634488961&4294967295,k=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(k^U))+O[4]+3889429448&4294967295,R=k+(C<<20&4294967295|C>>>12),C=A+(k^U&(R^k))+O[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^k&(A^R))+O[14]+3275163606&4294967295,U=A+(C<<9&4294967295|C>>>23),C=k+(A^R&(U^A))+O[3]+4107603335&4294967295,k=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(k^U))+O[8]+1163531501&4294967295,R=k+(C<<20&4294967295|C>>>12),C=A+(k^U&(R^k))+O[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=U+(R^k&(A^R))+O[2]+4243563512&4294967295,U=A+(C<<9&4294967295|C>>>23),C=k+(A^R&(U^A))+O[7]+1735328473&4294967295,k=U+(C<<14&4294967295|C>>>18),C=R+(U^A&(k^U))+O[12]+2368359562&4294967295,R=k+(C<<20&4294967295|C>>>12),C=A+(R^k^U)+O[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^k)+O[8]+2272392833&4294967295,U=A+(C<<11&4294967295|C>>>21),C=k+(U^A^R)+O[11]+1839030562&4294967295,k=U+(C<<16&4294967295|C>>>16),C=R+(k^U^A)+O[14]+4259657740&4294967295,R=k+(C<<23&4294967295|C>>>9),C=A+(R^k^U)+O[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^k)+O[4]+1272893353&4294967295,U=A+(C<<11&4294967295|C>>>21),C=k+(U^A^R)+O[7]+4139469664&4294967295,k=U+(C<<16&4294967295|C>>>16),C=R+(k^U^A)+O[10]+3200236656&4294967295,R=k+(C<<23&4294967295|C>>>9),C=A+(R^k^U)+O[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^k)+O[0]+3936430074&4294967295,U=A+(C<<11&4294967295|C>>>21),C=k+(U^A^R)+O[3]+3572445317&4294967295,k=U+(C<<16&4294967295|C>>>16),C=R+(k^U^A)+O[6]+76029189&4294967295,R=k+(C<<23&4294967295|C>>>9),C=A+(R^k^U)+O[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=U+(A^R^k)+O[12]+3873151461&4294967295,U=A+(C<<11&4294967295|C>>>21),C=k+(U^A^R)+O[15]+530742520&4294967295,k=U+(C<<16&4294967295|C>>>16),C=R+(k^U^A)+O[2]+3299628645&4294967295,R=k+(C<<23&4294967295|C>>>9),C=A+(k^(R|~U))+O[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~k))+O[7]+1126891415&4294967295,U=A+(C<<10&4294967295|C>>>22),C=k+(A^(U|~R))+O[14]+2878612391&4294967295,k=U+(C<<15&4294967295|C>>>17),C=R+(U^(k|~A))+O[5]+4237533241&4294967295,R=k+(C<<21&4294967295|C>>>11),C=A+(k^(R|~U))+O[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~k))+O[3]+2399980690&4294967295,U=A+(C<<10&4294967295|C>>>22),C=k+(A^(U|~R))+O[10]+4293915773&4294967295,k=U+(C<<15&4294967295|C>>>17),C=R+(U^(k|~A))+O[1]+2240044497&4294967295,R=k+(C<<21&4294967295|C>>>11),C=A+(k^(R|~U))+O[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~k))+O[15]+4264355552&4294967295,U=A+(C<<10&4294967295|C>>>22),C=k+(A^(U|~R))+O[6]+2734768916&4294967295,k=U+(C<<15&4294967295|C>>>17),C=R+(U^(k|~A))+O[13]+1309151649&4294967295,R=k+(C<<21&4294967295|C>>>11),C=A+(k^(R|~U))+O[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=U+(R^(A|~k))+O[11]+3174756917&4294967295,U=A+(C<<10&4294967295|C>>>22),C=k+(A^(U|~R))+O[2]+718787259&4294967295,k=U+(C<<15&4294967295|C>>>17),C=R+(U^(k|~A))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.u=function(I,A){A===void 0&&(A=I.length);for(var R=A-this.blockSize,O=this.B,k=this.h,U=0;U<A;){if(k==0)for(;U<=R;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<A;)if(O[k++]=I.charCodeAt(U++),k==this.blockSize){o(this,O),k=0;break}}else for(;U<A;)if(O[k++]=I[U++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=A},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;var R=8*this.o;for(A=I.length-8;A<I.length;++A)I[A]=R&255,R/=256;for(this.u(I),I=Array(16),A=R=0;4>A;++A)for(var O=0;32>O;O+=8)I[R++]=this.g[A]>>>O&255;return I};function u(I,A){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=A(I)}function f(I,A){this.h=A;for(var R=[],O=!0,k=I.length-1;0<=k;k--){var U=I[k]|0;O&&U==A||(R[k]=U,O=!1)}this.g=R}var m={};function p(I){return-128<=I&&128>I?u(I,function(A){return new f([A|0],0>A?-1:0)}):new f([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(0>I)return G(g(-I));for(var A=[],R=1,O=0;I>=R;O++)A[O]=I/R|0,R*=4294967296;return new f(A,0)}function E(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return G(E(I.substring(1),A));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),O=T,k=0;k<I.length;k+=8){var U=Math.min(8,I.length-k),C=parseInt(I.substring(k,k+U),A);8>U?(U=g(Math.pow(A,U)),O=O.j(U).add(g(C))):(O=O.j(R),O=O.add(g(C)))}return O}var T=p(0),b=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(X(this))return-G(this).m();for(var I=0,A=1,R=0;R<this.g.length;R++){var O=this.i(R);I+=(0<=O?O:4294967296+O)*A,A*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(H(this))return"0";if(X(this))return"-"+G(this).toString(I);for(var A=g(Math.pow(I,6)),R=this,O="";;){var k=St(R,A).g;R=st(R,k.j(A));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=k,H(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function H(I){if(I.h!=0)return!1;for(var A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function X(I){return I.h==-1}r.l=function(I){return I=st(this,I),X(I)?-1:H(I)?0:1};function G(I){for(var A=I.g.length,R=[],O=0;O<A;O++)R[O]=~I.g[O];return new f(R,~I.h).add(b)}r.abs=function(){return X(this)?G(this):this},r.add=function(I){for(var A=Math.max(this.g.length,I.g.length),R=[],O=0,k=0;k<=A;k++){var U=O+(this.i(k)&65535)+(I.i(k)&65535),C=(U>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);O=C>>>16,U&=65535,C&=65535,R[k]=C<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function st(I,A){return I.add(G(A))}r.j=function(I){if(H(this)||H(I))return T;if(X(this))return X(I)?G(this).j(G(I)):G(G(this).j(I));if(X(I))return G(this.j(G(I)));if(0>this.l(V)&&0>I.l(V))return g(this.m()*I.m());for(var A=this.g.length+I.g.length,R=[],O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<I.g.length;k++){var U=this.i(O)>>>16,C=this.i(O)&65535,De=I.i(k)>>>16,Fe=I.i(k)&65535;R[2*O+2*k]+=C*Fe,lt(R,2*O+2*k),R[2*O+2*k+1]+=U*Fe,lt(R,2*O+2*k+1),R[2*O+2*k+1]+=C*De,lt(R,2*O+2*k+1),R[2*O+2*k+2]+=U*De,lt(R,2*O+2*k+2)}for(O=0;O<A;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=A;O<2*A;O++)R[O]=0;return new f(R,0)};function lt(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function it(I,A){this.g=I,this.h=A}function St(I,A){if(H(A))throw Error("division by zero");if(H(I))return new it(T,T);if(X(I))return A=St(G(I),A),new it(G(A.g),G(A.h));if(X(A))return A=St(I,G(A)),new it(G(A.g),A.h);if(30<I.g.length){if(X(I)||X(A))throw Error("slowDivide_ only works with positive integers.");for(var R=b,O=A;0>=O.l(I);)R=It(R),O=It(O);var k=bt(R,1),U=bt(O,1);for(O=bt(O,2),R=bt(R,2);!H(O);){var C=U.add(O);0>=C.l(I)&&(k=k.add(R),U=C),O=bt(O,1),R=bt(R,1)}return A=st(I,k.j(A)),new it(k,A)}for(k=T;0<=I.l(A);){for(R=Math.max(1,Math.floor(I.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=g(R),C=U.j(A);X(C)||0<C.l(I);)R-=O,U=g(R),C=U.j(A);H(U)&&(U=b),k=k.add(U),I=st(I,C)}return new it(k,I)}r.A=function(I){return St(this,I).h},r.and=function(I){for(var A=Math.max(this.g.length,I.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)&I.i(O);return new f(R,this.h&I.h)},r.or=function(I){for(var A=Math.max(this.g.length,I.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)|I.i(O);return new f(R,this.h|I.h)},r.xor=function(I){for(var A=Math.max(this.g.length,I.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)^I.i(O);return new f(R,this.h^I.h)};function It(I){for(var A=I.g.length+1,R=[],O=0;O<A;O++)R[O]=I.i(O)<<1|I.i(O-1)>>>31;return new f(R,I.h)}function bt(I,A){var R=A>>5;A%=32;for(var O=I.g.length-R,k=[],U=0;U<O;U++)k[U]=0<A?I.i(U+R)>>>A|I.i(U+R+1)<<32-A:I.i(U+R);return new f(k,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,s1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Ps=f}).apply(typeof P0<"u"?P0:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a1,Xl,o1,vh,ep,l1,u1,c1;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in v))break t;v=v[z]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,z={next:function(){if(!w&&v<c.length){var K=v++;return{value:y(K,c[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,b.apply(null,arguments)}function V(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function H(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,z,K){for(var ct=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)ct[ie-2]=arguments[ie];return y.prototype[z].apply(w,ct)}}function X(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function G(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const z=c.length||0,K=w.length||0;c.length=z+K;for(let ct=0;ct<K;ct++)c[z+ct]=w[ct]}else c.push(w)}}class st{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function lt(c){return/^[\s\xa0]*$/.test(c)}function it(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function St(c){return St[" "](c),c}St[" "]=function(){};var It=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function bt(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function I(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let v,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(v in w)c[v]=w[v];for(let K=0;K<R.length;K++)v=R[K],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Bt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class De{constructor(){this.h=this.g=null}add(y,v){const w=Fe.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var Fe=new st(()=>new J,c=>c.reset());class J{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,yt=!1,Bt=new De,ee=()=>{const c=m.Promise.resolve(void 0);ht=()=>{c.then(M)}};var M=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){U(v)}var y=Fe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}yt=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var ut=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c})();function Et(c,y){if(at.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(It){t:{try{St(y.nodeName);var z=!0;break t}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:At[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Et.aa.h.call(this)}}H(Et,at);var At={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),Te=0;function re(c,y,v,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=z,this.key=++Te,this.da=this.fa=!1}function ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ge(c){this.src=c,this.g={},this.h=0}Ge.prototype.add=function(c,y,v,w,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ct=_n(c,y,w,z);return-1<ct?(y=c[ct],v||(y.fa=!1)):(y=new re(y,this.src,K,!!w,z),y.fa=v,c.push(y)),y};function Pn(c,y){var v=y.type;if(v in c.g){var w=c.g[v],z=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=z)&&Array.prototype.splice.call(w,z,1),K&&(ke(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function _n(c,y,v,w){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==w)return z}return-1}var ge="closure_lm_"+(1e6*Math.random()|0),Ze={};function tr(c,y,v,w,z){if(Array.isArray(y)){for(var K=0;K<y.length;K++)tr(c,y[K],v,w,z);return null}return v=ka(v),c&&c[Vt]?c.K(y,v,g(w)?!!w.capture:!1,z):er(c,y,v,!1,w,z)}function er(c,y,v,w,z,K){if(!y)throw Error("Invalid event type");var ct=g(z)?!!z.capture:!!z,ie=Xs(c);if(ie||(c[ge]=ie=new Ge(c)),v=ie.add(y,v,w,ct,K),v.proxy)return v;if(w=Br(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)ut||(z=ct),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(Hr(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Br(){function c(v){return y.call(c.src,c.listener,v)}const y=Jo;return c}function qr(c,y,v,w,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)qr(c,y[K],v,w,z);else w=g(w)?!!w.capture:!!w,v=ka(v),c&&c[Vt]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],v=_n(K,v,w,z),-1<v&&(ke(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Xs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=_n(y,v,w,z)),(v=-1<c?y[c]:null)&&nr(v))}function nr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Vt])Pn(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(Hr(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=Xs(y))?(Pn(v,c),v.h==0&&(v.src=null,y[ge]=null)):ke(c)}}}function Hr(c){return c in Ze?Ze[c]:Ze[c]="on"+c}function Jo(c,y){if(c.da)c=!0;else{y=new Et(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&nr(c),c=v.call(w,y)}return c}function Xs(c){return c=c[ge],c instanceof Ge?c:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ka(c){return typeof c=="function"?c:(c[Qe]||(c[Qe]=function(y){return c.handleEvent(y)}),c[Qe])}function ye(){W.call(this),this.i=new Ge(this),this.M=this,this.F=null}H(ye,W),ye.prototype[Vt]=!0,ye.prototype.removeEventListener=function(c,y,v,w){qr(this,c,y,v,w)};function Ne(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new at(y,c);else if(y instanceof at)y.target=y.target||c;else{var z=y;y=new at(w,c),O(y,z)}if(z=!0,v)for(var K=v.length-1;0<=K;K--){var ct=y.g=v[K];z=Ri(ct,w,!0,y)&&z}if(ct=y.g=c,z=Ri(ct,w,!0,y)&&z,z=Ri(ct,w,!1,y)&&z,v)for(K=0;K<v.length;K++)ct=y.g=v[K],z=Ri(ct,w,!1,y)&&z}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)ke(v[w]);delete c.g[y],c.h--}}this.F=null},ye.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},ye.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function Ri(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,K=0;K<y.length;++K){var ct=y[K];if(ct&&!ct.da&&ct.capture==v){var ie=ct.listener,Pe=ct.ha||ct.src;ct.fa&&Pn(c.i,ct),z=ie.call(Pe,w)!==!1&&z}}return z&&!w.defaultPrevented}function Pa(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function ir(c){c.g=Pa(()=>{c.g=null,c.i&&(c.i=!1,ir(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class La extends W{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ir(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function An(c){W.call(this),this.h=c,this.g={}}H(An,W);var Ye=[];function We(c){bt(c.g,function(y,v){this.g.hasOwnProperty(v)&&nr(y)},c),c.g={}}An.prototype.N=function(){An.aa.N.call(this),We(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=m.JSON.stringify,Ke=m.JSON.parse,Zo=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Js(){}Js.prototype.h=null;function Fr(c){return c.h||(c.h=c.i())}function In(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ii(){at.call(this,"d")}H(Ii,at);function Kn(){at.call(this,"c")}H(Kn,at);var xn={},Pi=null;function Gr(){return Pi=Pi||new ye}xn.La="serverreachability";function Zs(c){at.call(this,xn.La,c)}H(Zs,at);function Dn(c){const y=Gr();Ne(y,new Zs(y))}xn.STAT_EVENT="statevent";function Ln(c,y){at.call(this,xn.STAT_EVENT,c),this.stat=y}H(Ln,at);function _e(c){const y=Gr();Ne(y,new Ln(y,c))}xn.Ma="timingevent";function Un(c,y){at.call(this,xn.Ma,c),this.size=y}H(Un,at);function $n(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Li(){this.g=!0}Li.prototype.xa=function(){this.g=!1};function rr(c,y,v,w,z,K){c.info(function(){if(c.g)if(K)for(var ct="",ie=K.split("&"),Pe=0;Pe<ie.length;Pe++){var zt=ie[Pe].split("=");if(1<zt.length){var en=zt[0];zt=zt[1];var nn=en.split("_");ct=2<=nn.length&&nn[1]=="type"?ct+(en+"="+zt+"&"):ct+(en+"=redacted&")}}else ct=null;else ct=K;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+v+`
`+ct})}function Ws(c,y,v,w,z,K,ct){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+v+`
`+K+" "+ct})}function Ci(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+hi(c,v)+(w?" "+w:"")})}function Ua(c,y){c.info(function(){return"TIMEOUT: "+y})}Li.prototype.info=function(){};function hi(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ct=1;ct<z.length;ct++)z[ct]=""}}}}return Rn(v)}catch{return y}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},be={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fi;function Ui(){}H(Ui,Js),Ui.prototype.g=function(){return new XMLHttpRequest},Ui.prototype.i=function(){return{}},fi=new Ui;function di(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new An(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new za}function za(){this.i=null,this.g="",this.h=!1}var sr={},ln={};function x(c,y,v){c.L=1,c.v=ea(Ae(y)),c.m=v,c.P=!0,Q(c,null)}function Q(c,y){c.F=Date.now(),dt(c),c.A=Ae(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),or(v.i,"t",w),c.C=0,v=c.j.J,c.h=new za,c.g=Ju(c.j,v?y:null,!c.m),0<c.O&&(c.M=new La(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ye[0]=z.toString()),z=Ye);for(var K=0;K<z.length;K++){var ct=tr(v,z[K],w||y.handleEvent,!1,y.h||y);if(!ct)break;y.g[ct.key]=ct}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Dn(),rr(c.i,c.u,c.A,c.l,c.R,c.m)}di.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},di.prototype.Y=function(c){try{if(c==this.g)t:{const nn=On(this.g);var y=this.g.Ba();const is=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||ra(this.g)))){this.J||nn!=4||y==7||(y==8||0>=is?Dn(3):Dn(2)),Ct(this);var v=this.g.Z();this.X=v;e:if($(this)){var w=ra(this.g);c="";var z=w.length,K=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kt(this),Jt(this);var ct="";break e}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(K&&y==z-1)});w.length=0,this.h.g+=c,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=v==200,Ws(this.i,this.u,this.A,this.l,this.R,nn,v),this.o){if(this.T&&!this.K){e:{if(this.g){var ie,Pe=this.g;if((ie=Pe.g?Pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(ie)){var zt=ie;break e}}zt=null}if(v=zt)Ci(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ot(this,v);else{this.o=!1,this.s=3,_e(12),kt(this),Jt(this);break t}}if(this.P){v=!0;let jn;for(;!this.J&&this.C<ct.length;)if(jn=ot(this,ct),jn==ln){nn==4&&(this.s=4,_e(14),v=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==sr){this.s=4,_e(15),Ci(this.i,this.l,ct,"[Invalid Chunk]"),v=!1;break}else Ci(this.i,this.l,jn,null),Ot(this,jn);if($(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||ct.length!=0||this.h.h||(this.s=1,_e(16),v=!1),this.o=this.o&&v,!v)Ci(this.i,this.l,ct,"[Invalid Chunked Response]"),kt(this),Jt(this);else if(0<ct.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),ol(en),en.M=!0,_e(11))}}else Ci(this.i,this.l,ct,null),Ot(this,ct);nn==4&&kt(this),this.o&&!this.J&&(nn==4?Ku(this.j,this):(this.o=!1,dt(this)))}else qu(this.g),v==400&&0<ct.indexOf("Unknown SID")?(this.s=3,_e(12)):(this.s=0,_e(13)),kt(this),Jt(this)}}}catch{}finally{}};function $(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ot(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?ln:(v=Number(y.substring(v,w)),isNaN(v)?sr:(w+=1,w+v>y.length?ln:(y=y.slice(w,w+v),c.C=w+v,y)))}di.prototype.cancel=function(){this.J=!0,kt(this)};function dt(c){c.S=Date.now()+c.I,_t(c,c.I)}function _t(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=$n(b(c.ba,c),y)}function Ct(c){c.B&&(m.clearTimeout(c.B),c.B=null)}di.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ua(this.i,this.A),this.L!=2&&(Dn(),_e(17)),kt(this),this.s=2,Jt(this)):_t(this,this.S-c)};function Jt(c){c.j.G==0||c.J||Ku(c.j,c)}function kt(c){Ct(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,We(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ot(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Xn(v.h,c))){if(!c.K&&Xn(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)es(v),ts(v);else break t;al(v),_e(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=$n(b(v.Za,v),6e3));if(1>=Yr(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ur(v,11)}else if((c.K||v.g==c)&&es(v),!lt(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let zt=z[y];if(v.T=zt[0],zt=zt[1],v.G==2)if(zt[0]=="c"){v.K=zt[1],v.ia=zt[2];const en=zt[3];en!=null&&(v.la=en,v.j.info("VER="+v.la));const nn=zt[4];nn!=null&&(v.Aa=nn,v.j.info("SVER="+v.Aa));const is=zt[5];is!=null&&typeof is=="number"&&0<is&&(w=1.5*is,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const jn=c.g;if(jn){const oa=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oa){var K=w.h;K.g||oa.indexOf("spdy")==-1&&oa.indexOf("quic")==-1&&oa.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(mi(K,K.h),K.h=null))}if(w.D){const cr=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;cr&&(w.ya=cr,Zt(w.I,w.D,cr))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ct=c;if(w.qa=Xu(w,w.J?w.ia:null,w.W),ct.K){un(w.h,ct);var ie=ct,Pe=w.L;Pe&&(ie.I=Pe),ie.B&&(Ct(ie),dt(ie)),w.g=ct}else Qu(w);0<v.i.length&&Ya(v)}else zt[0]!="stop"&&zt[0]!="close"||ur(v,7);else v.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?ur(v,7):rl(v):zt[0]!="noop"&&v.l&&v.l.ta(zt),v.v=0)}}Dn(4)}catch{}}var Lt=class{constructor(c,y){this.g=c,this.map=y}};function vn(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Yr(c){return c.h?1:c.g?c.g.size:0}function Xn(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function mi(c,y){c.g?c.g.add(y):c.h=y}function un(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}vn.prototype.cancel=function(){if(this.i=Nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Nn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return X(c.i)}function Lu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function _f(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function ja(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=_f(c),w=Lu(c),z=w.length,K=0;K<z;K++)y.call(void 0,w[K],v&&v[K],c)}var Wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),z=null;if(0<=w){var K=c[v].substring(0,w);z=c[v].substring(w+1)}else K=c[v];y(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ar(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ar){this.h=c.h,Kr(this,c.j),this.o=c.o,this.g=c.g,ta(this,c.s),this.l=c.l;var y=c.i,v=new zi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),qa(this,v),this.m=c.m}else c&&(y=String(c).match(Wo))?(this.h=!1,Kr(this,y[1]||"",!0),this.o=$r(y[2]||""),this.g=$r(y[3]||"",!0),ta(this,y[4]),this.l=$r(y[5]||"",!0),qa(this,y[6]||"",!0),this.m=$r(y[7]||"")):(this.h=!1,this.i=new zi(null,this.h))}ar.prototype.toString=function(){var c=[],y=this.j;y&&c.push(pi(y,tl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(pi(y,tl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(pi(v,v.charAt(0)=="/"?el:Uu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",pi(v,Tf)),c.join("")};function Ae(c){return new ar(c)}function Kr(c,y,v){c.j=v?$r(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ta(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function qa(c,y,v){y instanceof zi?(c.i=y,zu(c.i,c.h)):(v||(y=pi(y,Ef)),c.i=new zi(y,c.h))}function Zt(c,y,v){c.i.set(y,v)}function ea(c){return Zt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function $r(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pi(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,vf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var tl=/[#\/\?@]/g,Uu=/[#\?:]/g,el=/[#\?]/g,Ef=/[#\?@]/g,Tf=/#/g;function zi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function tn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ba(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=zi.prototype,r.add=function(c,y){tn(this),this.i=null,c=Jn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ha(c,y){tn(c),y=Jn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Fa(c,y){return tn(c),y=Jn(c,y),c.g.has(y)}r.forEach=function(c,y){tn(this),this.g.forEach(function(v,w){v.forEach(function(z){c.call(y,z,w,this)},this)},this)},r.na=function(){tn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const z=c[w];for(let K=0;K<z.length;K++)v.push(y[w])}return v},r.V=function(c){tn(this);let y=[];if(typeof c=="string")Fa(this,c)&&(y=y.concat(this.g.get(Jn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return tn(this),this.i=null,c=Jn(this,c),Fa(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function or(c,y,v){Ha(c,y),0<v.length&&(c.i=null,c.g.set(Jn(c,y),X(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const K=encodeURIComponent(String(w)),ct=this.V(w);for(w=0;w<ct.length;w++){var z=K;ct[w]!==""&&(z+="="+encodeURIComponent(String(ct[w]))),c.push(z)}}return this.i=c.join("&")};function Jn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function zu(c,y){y&&!c.j&&(tn(c),c.i=null,c.g.forEach(function(v,w){var z=w.toLowerCase();w!=z&&(Ha(this,w),or(this,z,v))},c)),c.j=y}function nl(c,y){const v=new Li;if(m.Image){const w=new Image;w.onload=V(zn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=V(zn,v,"TestLoadImage: error",!1,y,w),w.onabort=V(zn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=V(zn,v,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function ju(c,y){const v=new Li,w=new AbortController,z=setTimeout(()=>{w.abort(),zn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(z),K.ok?zn(v,"TestPingServer: ok",!0,y):zn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),zn(v,"TestPingServer: error",!1,y)})}function zn(c,y,v,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(v)}catch{}}function xi(){this.g=new Zo}function il(c,y,v){const w=v||"";try{ja(c,function(z,K){let ct=z;g(z)&&(ct=Rn(z)),y.push(w+K+"="+encodeURIComponent(ct))})}catch(z){throw y.push(w+"type="+encodeURIComponent("_badmap")),z}}function ji(c){this.l=c.Ub||null,this.j=c.eb||!1}H(ji,Js),ji.prototype.g=function(){return new Zn(this.l,this.j)},ji.prototype.i=(function(c){return function(){return c}})({});function Zn(c,y){ye.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Zn,ye),r=Zn.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Xr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xr(this)),this.g&&(this.readyState=3,Xr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ga(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ga(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Bi(this):Xr(this),this.readyState==3&&Ga(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Bi(this))},r.Qa=function(c){this.g&&(this.response=c,Bi(this))},r.ga=function(){this.g&&Bi(this)};function Bi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Xr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function na(c){let y="";return bt(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Jr(c,y,v){t:{for(w in v){var w=!1;break t}w=!0}w||(v=na(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Zt(c,y,v))}function fe(c){ye.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(fe,ye);var En=/^https?$/i,lr=["POST","PUT"];r=fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fi.g(),this.v=this.o?Fr(this.o):Fr(fi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){ia(this,K);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)v.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())v.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(lr,y,void 0))||w||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ct]of v)this.g.setRequestHeader(K,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qa(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){ia(this,K)}};function ia(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Zr(c),Wr(c)}function Zr(c){c.A||(c.A=!0,Ne(c,"complete"),Ne(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ne(this,"complete"),Ne(this,"abort"),Wr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wr(this,!0)),fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Bu(this):this.bb())},r.bb=function(){Bu(this)};function Bu(c){if(c.h&&typeof f<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Pa(c.Ea,0,c);else if(Ne(c,"readystatechange"),On(c)==4){c.h=!1;try{const ct=c.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var w;if(w=ct===0){var z=String(c.D).match(Wo)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),w=!En.test(z?z.toLowerCase():"")}v=w}if(v)Ne(c,"complete"),Ne(c,"success");else{c.m=6;try{var K=2<On(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Zr(c)}}finally{Wr(c)}}}}function Wr(c,y){if(c.g){Qa(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ne(c,"ready");try{v.onreadystatechange=w}catch{}}}function Qa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ke(y)}};function ra(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qu(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(lt(c[w]))continue;var v=k(c[w]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[z]||[];y[z]=K,K.push(v)}I(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Hu(c){this.Aa=0,this.i=[],this.j=new Li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,c),this.cb=sa("retryDelaySeedMs",1e4,c),this.Wa=sa("forwardChannelMaxRetries",2,c),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vn(c&&c.concurrentRequestLimit),this.Da=new xi,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Hu.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,w){_e(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Xu(this,null,this.W),Ya(this)};function rl(c){if(Fu(c),c.G==3){var y=c.U++,v=Ae(c.I);if(Zt(v,"SID",c.K),Zt(v,"RID",y),Zt(v,"TYPE","terminate"),aa(c,v),y=new di(c,c.j,y),y.L=2,y.v=ea(Ae(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Ju(y.j,null),y.g.ea(y.v)),y.F=Date.now(),dt(y)}ll(c)}function ts(c){c.g&&(ol(c),c.g.cancel(),c.g=null)}function Fu(c){ts(c),c.u&&(m.clearTimeout(c.u),c.u=null),es(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ya(c){if(!Qr(c.h)&&!c.s){c.s=!0;var y=c.Ga;ht||ee(),yt||(ht(),yt=!0),Bt.add(y,c),c.B=0}}function Sf(c,y){return Yr(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=$n(b(c.Ga,c,y),$u(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new di(this,this.j,c);let K=this.o;if(this.S&&(K?(K=A(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=sl(this,z,y),v=Ae(this.I),Zt(v,"RID",c),Zt(v,"CVER",22),this.D&&Zt(v,"X-HTTP-Session-Id",this.D),aa(this,v),K&&(this.O?y="headers="+encodeURIComponent(String(na(K)))+"&"+y:this.m&&Jr(v,this.m,K)),mi(this.h,z),this.Ua&&Zt(v,"TYPE","init"),this.P?(Zt(v,"$req",y),Zt(v,"SID","null"),z.T=!0,x(z,v,null)):x(z,v,y),this.G=2}}else this.G==3&&(c?Gu(this,c):this.i.length==0||Qr(this.h)||Gu(this))};function Gu(c,y){var v;y?v=y.l:v=c.U++;const w=Ae(c.I);Zt(w,"SID",c.K),Zt(w,"RID",v),Zt(w,"AID",c.T),aa(c,w),c.m&&c.o&&Jr(w,c.m,c.o),v=new di(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=sl(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),mi(c.h,v),x(v,w,y)}function aa(c,y){c.H&&bt(c.H,function(v,w){Zt(y,w,v)}),c.l&&ja({},function(v,w){Zt(y,w,v)})}function sl(c,y,v){v=Math.min(c.i.length,v);var w=c.l?b(c.l.Na,c.l,c):null;t:{var z=c.i;let K=-1;for(;;){const ct=["count="+v];K==-1?0<v?(K=z[0].g,ct.push("ofs="+K)):K=0:ct.push("ofs="+K);let ie=!0;for(let Pe=0;Pe<v;Pe++){let zt=z[Pe].g;const en=z[Pe].map;if(zt-=K,0>zt)K=Math.max(0,z[Pe].g-100),ie=!1;else try{il(en,ct,"req"+zt+"_")}catch{w&&w(en)}}if(ie){w=ct.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,w}function Qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ht||ee(),yt||(ht(),yt=!0),Bt.add(y,c),c.v=0}}function al(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=$n(b(c.Fa,c),$u(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=$n(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_e(10),ts(this),Yu(this))};function ol(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Yu(c){c.g=new di(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Ae(c.qa);Zt(y,"RID","rpc"),Zt(y,"SID",c.K),Zt(y,"AID",c.T),Zt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Zt(y,"TO",c.ja),Zt(y,"TYPE","xmlhttp"),aa(c,y),c.m&&c.o&&Jr(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ea(Ae(y)),v.m=null,v.P=!0,Q(v,c)}r.Za=function(){this.C!=null&&(this.C=null,ts(this),al(this),_e(19))};function es(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ku(c,y){var v=null;if(c.g==y){es(c),ol(c),c.g=null;var w=2}else if(Xn(c.h,y))v=y.D,un(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;w=Gr(),Ne(w,new Un(w,v)),Ya(c)}else Qu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(w==1&&Sf(c,y)||w==2&&al(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),z){case 1:ur(c,5);break;case 4:ur(c,10);break;case 3:ur(c,6);break;default:ur(c,2)}}}function $u(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function ur(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),w=c.Xa;const z=!w;w=new ar(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Kr(w,"https"),ea(w),z?nl(w.toString(),v):ju(w.toString(),v)}else _e(2);c.G=0,c.l&&c.l.sa(y),ll(c),Fu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function ll(c){if(c.G=0,c.ka=[],c.l){const y=Nn(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ka,y),G(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function Xu(c,y,v){var w=v instanceof ar?Ae(v):new ar(v);if(w.g!="")y&&(w.g=y+"."+w.g),ta(w,w.s);else{var z=m.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var K=new ar(null);w&&Kr(K,w),y&&(K.g=y),z&&ta(K,z),v&&(K.l=v),w=K}return v=c.D,y=c.ya,v&&y&&Zt(w,v,y),Zt(w,"VER",c.la),aa(c,w),w}function Ju(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new fe(new ji({eb:v})):new fe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}r=Zu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ka(){}Ka.prototype.g=function(c,y){return new Mn(c,y)};function Mn(c,y){ye.call(this),this.g=new Hu(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!lt(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!lt(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ns(this)}H(Mn,ye),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){rl(this.g)},Mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Rn(c),c=v);y.i.push(new Lt(y.Ya++,c)),y.G==3&&Ya(y)},Mn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,Mn.aa.N.call(this)};function Wu(c){Ii.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}H(Wu,Ii);function tc(){Kn.call(this),this.status=1}H(tc,Kn);function ns(c){this.g=c}H(ns,Zu),ns.prototype.ua=function(){Ne(this.g,"a")},ns.prototype.ta=function(c){Ne(this.g,new Wu(c))},ns.prototype.sa=function(c){Ne(this.g,new tc)},ns.prototype.ra=function(){Ne(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,c1=function(){return new Ka},u1=function(){return Gr()},l1=xn,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,vh=ve,be.COMPLETE="complete",o1=be,In.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",ye.prototype.listen=ye.prototype.K,Xl=In,fe.prototype.listenOnce=fe.prototype.L,fe.prototype.getLastError=fe.prototype.Ka,fe.prototype.getLastErrorCode=fe.prototype.Ba,fe.prototype.getStatus=fe.prototype.Z,fe.prototype.getResponseJson=fe.prototype.Oa,fe.prototype.getResponseText=fe.prototype.oa,fe.prototype.send=fe.prototype.ea,fe.prototype.setWithCredentials=fe.prototype.Ha,a1=fe}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const L0="@firebase/firestore",U0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Rp("@firebase/firestore");function bo(){return xa.logLevel}function mt(r,...t){if(xa.logLevel<=Qt.DEBUG){const n=t.map(Bp);xa.debug(`Firestore (${Go}): ${r}`,...n)}}function Pr(r,...t){if(xa.logLevel<=Qt.ERROR){const n=t.map(Bp);xa.error(`Firestore (${Go}): ${r}`,...n)}}function js(r,...t){if(xa.logLevel<=Qt.WARN){const n=t.map(Bp);xa.warn(`Firestore (${Go}): ${r}`,...n)}}function Bp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,h1(r,s,n)}function h1(r,t,n){let s=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Pr(s),new Error(s)}function Xt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||h1(t,o,s)}function Nt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends jr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(wn.UNAUTHENTICATED)))}shutdown(){}}class ix{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class rx{constructor(t){this.t=t,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Xt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Or,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Or)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xt(typeof s.accessToken=="string",31837,{l:s}),new f1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new wn(t)}}class sx{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ax{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new sx(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ox{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Xt(this.o===void 0,3512);const s=u=>{u.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,mt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new z0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=lx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function jt(r,t){return r<t?-1:r>t?1:0}function np(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return jt(s,o);{const u=d1(),f=ux(u.encode(j0(r,n)),u.encode(j0(t,n)));return f!==0?f:jt(s,o)}}n+=s>65535?2:1}return jt(r.length,t.length)}function j0(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function ux(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return jt(r[n],t[n]);return jt(r.length,t.length)}function ko(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="__name__";class Qi{constructor(t,n,s){n===void 0?n=0:n>t.length&&wt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&wt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Qi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Qi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Qi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return jt(t.length,n.length)}static compareSegments(t,n){const s=Qi.isNumericId(t),o=Qi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Qi.extractNumericId(t).compare(Qi.extractNumericId(n)):np(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ps.fromString(t.substring(4,t.length-2))}}class ce extends Qi{construct(t,n,s){return new ce(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ce(n)}static emptyPath(){return new ce([])}}const cx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Qi{construct(t,n,s){return new pn(t,n,s)}static isValidIdentifier(t){return cx.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B0}static keyField(){return new pn([B0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ft(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ft(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ft(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ft(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ce.fromString(t))}static fromName(t){return new vt(ce.fromString(t).popFirst(5))}static empty(){return new vt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ce.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ce(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(r,t,n){if(!n)throw new ft(et.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function hx(r,t,n,s){if(t===!0&&s===!0)throw new ft(et.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function q0(r){if(!vt.isDocumentKey(r))throw new ft(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function H0(r){if(vt.isDocumentKey(r))throw new ft(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function p1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ef(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":wt(12329,{type:typeof r})}function li(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(r);throw new ft(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(r,t){const n={typeString:r};return t&&(n.value=t),n}function Au(r,t){if(!p1(r))throw new ft(et.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ft(et.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=-62135596800,G0=1e6;class pe{static now(){return pe.fromMillis(Date.now())}static fromDate(t){return pe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*G0);return new pe(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<F0)throw new ft(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G0}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Au(t,pe._jsonSchema))return new pe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-F0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pe._jsonSchemaVersion="firestore/timestamp/1.0",pe._jsonSchema={type:He("string",pe._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new pe(0,0))}static max(){return new xt(new pe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;function fx(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=xt.fromTimestamp(s===1e9?new pe(n+1,0):new pe(n,s));return new Bs(o,vt.empty(),t)}function dx(r){return new Bs(r.readTime,r.key,cu)}class Bs{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Bs(xt.min(),vt.empty(),cu)}static max(){return new Bs(xt.max(),vt.empty(),cu)}}function mx(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(r.documentKey,t.documentKey),n!==0?n:jt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(r){if(r.code!==et.FAILED_PRECONDITION||r.message!==px)throw r;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new rt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof rt?n:rt.resolve(n)}catch(n){return rt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.reject(n)}static resolve(t){return new rt(((n,s)=>{n(t)}))}static reject(t){return new rt(((n,s)=>{s(t)}))}static waitFor(t){return new rt(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=rt.resolve(!1);for(const s of t)n=n.next((o=>o?rt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new rt(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new rt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function yx(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}nf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=-1;function Ru(r){return r==null}function kh(r){return r===0&&1/r==-1/0}function _x(r){return typeof r=="number"&&Number.isInteger(r)&&!kh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="";function vx(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Q0(t)),t=Ex(r.get(n),t);return Q0(t)}function Ex(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case g1:n+="";break;default:n+=u}}return n}function Q0(r){return r+g1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Ks(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function y1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t,n){this.comparator=t,this.root=n||mn.EMPTY}insert(t,n){return new we(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(t){return new we(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new uh(this.root,t,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new uh(this.root,t,this.comparator,!0)}}class uh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class mn{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??mn.RED,this.left=o??mn.EMPTY,this.right=u??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new mn(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return mn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw wt(27949);return t+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new mn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.comparator=t,this.data=new we(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new K0(this.data.getIterator())}getIteratorFrom(t){return new K0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Je)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Je(this.comparator);return n.data=t,n}}class K0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this.fields=t,t.sort(pn.comparator)}static empty(){return new oi([])}unionWith(t){let n=new Je(pn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new oi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ko(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new _1("Invalid base64 string: "+u):u}})(t);return new gn(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new gn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const Tx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(r){if(Xt(!!r,39018),typeof r=="string"){let t=0;const n=Tx.exec(r);if(Xt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ve(r.seconds),nanos:Ve(r.nanos)}}function Ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hs(r){return typeof r=="string"?gn.fromBase64String(r):gn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="server_timestamp",E1="__type__",T1="__previous_value__",S1="__local_write_time__";function Fp(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[E1])===null||n===void 0?void 0:n.stringValue)===v1}function rf(r){const t=r.mapValue.fields[T1];return Fp(t)?rf(t):t}function hu(r){const t=qs(r.mapValue.fields[S1].timestampValue);return new pe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t,n,s,o,u,f,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Ph="(default)";class fu{constructor(t,n){this.projectId=t,this.database=n||Ph}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(t){return t instanceof fu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="__type__",wx="__max__",ch={mapValue:{}},b1="__vector__",Lh="value";function Fs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fp(r)?4:Ax(r)?9007199254740991:bx(r)?10:11:wt(28295,{value:r})}function Wi(r,t){if(r===t)return!0;const n=Fs(r);if(n!==Fs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return hu(r).isEqual(hu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=qs(o.timestampValue),m=qs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Hs(o.bytesValue).isEqual(Hs(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ve(o.geoPointValue.latitude)===Ve(u.geoPointValue.latitude)&&Ve(o.geoPointValue.longitude)===Ve(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ve(o.integerValue)===Ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ve(o.doubleValue),m=Ve(u.doubleValue);return f===m?kh(f)===kh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return ko(r.arrayValue.values||[],t.arrayValue.values||[],Wi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Y0(f)!==Y0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Wi(f[p],m[p])))return!1;return!0})(r,t);default:return wt(52216,{left:r})}}function du(r,t){return(r.values||[]).find((n=>Wi(n,t)))!==void 0}function Po(r,t){if(r===t)return 0;const n=Fs(r),s=Fs(t);if(n!==s)return jt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Ve(u.integerValue||u.doubleValue),p=Ve(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return $0(r.timestampValue,t.timestampValue);case 4:return $0(hu(r),hu(t));case 5:return np(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=Hs(u),p=Hs(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=jt(m[g],p[g]);if(E!==0)return E}return jt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=jt(Ve(u.latitude),Ve(f.latitude));return m!==0?m:jt(Ve(u.longitude),Ve(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return X0(r.arrayValue,t.arrayValue);case 10:return(function(u,f){var m,p,g,E;const T=u.fields||{},b=f.fields||{},V=(m=T[Lh])===null||m===void 0?void 0:m.arrayValue,H=(p=b[Lh])===null||p===void 0?void 0:p.arrayValue,X=jt(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((E=H==null?void 0:H.values)===null||E===void 0?void 0:E.length)||0);return X!==0?X:X0(V,H)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===ch.mapValue&&f===ch.mapValue)return 0;if(u===ch.mapValue)return 1;if(f===ch.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const b=np(p[T],E[T]);if(b!==0)return b;const V=Po(m[p[T]],g[E[T]]);if(V!==0)return V}return jt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw wt(23264,{le:n})}}function $0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return jt(r,t);const n=qs(r),s=qs(t),o=jt(n.seconds,s.seconds);return o!==0?o:jt(n.nanos,s.nanos)}function X0(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Po(n[o],s[o]);if(u)return u}return jt(n.length,s.length)}function Lo(r){return ip(r)}function ip(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=qs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Hs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return vt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ip(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${ip(n.fields[f])}`;return o+"}"})(r.mapValue):wt(61005,{value:r})}function Eh(r){switch(Fs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rf(r);return t?16+Eh(t):16;case 5:return 2*r.stringValue.length;case 6:return Hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Eh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ks(s.fields,((u,f)=>{o+=u.length+Eh(f)})),o})(r.mapValue);default:throw wt(13486,{value:r})}}function J0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function rp(r){return!!r&&"integerValue"in r}function Gp(r){return!!r&&"arrayValue"in r}function Z0(r){return!!r&&"nullValue"in r}function W0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Th(r){return!!r&&"mapValue"in r}function bx(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[w1])===null||n===void 0?void 0:n.stringValue)===b1}function nu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ks(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=nu(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nu(r.arrayValue.values[n]);return t}return Object.assign({},r)}function Ax(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===wx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Th(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=nu(n)}setAll(t){let n=pn.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=nu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Wi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Ks(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new kn(nu(this.value))}}function A1(r){const t=[];return Ks(r.fields,((n,s)=>{const o=new pn([n]);if(Th(s)){const u=A1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new oi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new on(t,0,xt.min(),xt.min(),xt.min(),kn.empty(),0)}static newFoundDocument(t,n,s,o){return new on(t,1,n,xt.min(),s,o,0)}static newNoDocument(t,n){return new on(t,2,n,xt.min(),xt.min(),kn.empty(),0)}static newUnknownDocument(t,n){return new on(t,3,n,xt.min(),xt.min(),kn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,n){this.position=t,this.inclusive=n}}function tE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=vt.comparator(vt.fromName(f.referenceValue),n.key):s=Po(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function eE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Wi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,n="asc"){this.field=t,this.dir=n}}function Rx(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{}class qe extends R1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new Cx(t,n,s):n==="array-contains"?new Nx(t,s):n==="in"?new Ox(t,s):n==="not-in"?new Mx(t,s):n==="array-contains-any"?new Vx(t,s):new qe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new xx(t,s):new Dx(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Po(n,this.value)):n!==null&&Fs(this.value)===Fs(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends R1{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new ki(t,n)}matches(t){return I1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function I1(r){return r.op==="and"}function C1(r){return Ix(r)&&I1(r)}function Ix(r){for(const t of r.filters)if(t instanceof ki)return!1;return!0}function sp(r){if(r instanceof qe)return r.field.canonicalString()+r.op.toString()+Lo(r.value);if(C1(r))return r.filters.map((t=>sp(t))).join(",");{const t=r.filters.map((n=>sp(n))).join(",");return`${r.op}(${t})`}}function x1(r,t){return r instanceof qe?(function(s,o){return o instanceof qe&&s.op===o.op&&s.field.isEqual(o.field)&&Wi(s.value,o.value)})(r,t):r instanceof ki?(function(s,o){return o instanceof ki&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&x1(f,o.filters[m])),!0):!1})(r,t):void wt(19439)}function D1(r){return r instanceof qe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(r):r instanceof ki?(function(n){return n.op.toString()+" {"+n.getFilters().map(D1).join(" ,")+"}"})(r):"Filter"}class Cx extends qe{constructor(t,n,s){super(t,n,s),this.key=vt.fromName(s.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class xx extends qe{constructor(t,n){super(t,"in",n),this.keys=N1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class Dx extends qe{constructor(t,n){super(t,"not-in",n),this.keys=N1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function N1(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>vt.fromName(s.referenceValue)))}class Nx extends qe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Gp(n)&&du(n.arrayValue,this.value)}}class Ox extends qe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class Mx extends qe{constructor(t,n){super(t,"not-in",n)}matches(t){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class Vx extends qe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>du(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function nE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new kx(r,t,n,s,o,u,f)}function Qp(r){const t=Nt(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>sp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ru(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Lo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Lo(s))).join(",")),t.Pe=n}return t.Pe}function Yp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Rx(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!x1(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!eE(r.startAt,t.startAt)&&eE(r.endAt,t.endAt)}function ap(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Px(r,t,n,s,o,u,f,m){return new Iu(r,t,n,s,o,u,f,m)}function Kp(r){return new Iu(r)}function iE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function O1(r){return r.collectionGroup!==null}function iu(r){const t=Nt(r);if(t.Te===null){t.Te=[];const n=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Je(pn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Te.push(new zh(u,s))})),n.has(pn.keyField().canonicalString())||t.Te.push(new zh(pn.keyField(),s))}return t.Te}function $i(r){const t=Nt(r);return t.Ie||(t.Ie=Lx(t,iu(r))),t.Ie}function Lx(r,t){if(r.limitType==="F")return nE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new zh(o.field,u)}));const n=r.endAt?new Uh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Uh(r.startAt.position,r.startAt.inclusive):null;return nE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function op(r,t){const n=r.filters.concat([t]);return new Iu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function lp(r,t,n){return new Iu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function sf(r,t){return Yp($i(r),$i(t))&&r.limitType===t.limitType}function M1(r){return`${Qp($i(r))}|lt:${r.limitType}`}function Ao(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>D1(o))).join(", ")}]`),Ru(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Lo(o))).join(",")),`Target(${s})`})($i(r))}; limitType=${r.limitType})`}function af(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):vt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of iu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=tE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,iu(s),o)||s.endAt&&!(function(f,m,p){const g=tE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,iu(s),o))})(r,t)}function Ux(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function V1(r){return(t,n)=>{let s=!1;for(const o of iu(r)){const u=zx(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function zx(r,t,n){const s=r.field.isKeyField()?vt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Po(p,g):wt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return wt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ks(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new we(vt.comparator);function Lr(){return jx}const k1=new we(vt.comparator);function Jl(...r){let t=k1;for(const n of r)t=t.insert(n.key,n);return t}function P1(r){let t=k1;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Aa(){return ru()}function L1(){return ru()}function ru(){return new Oa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Bx=new we(vt.comparator),qx=new Je(vt.comparator);function Yt(...r){let t=qx;for(const n of r)t=t.add(n);return t}const Hx=new Je(jt);function Fx(){return Hx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(t)?"-0":t}}function U1(r){return{integerValue:""+r}}function z1(r,t){return _x(t)?U1(t):$p(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this._=void 0}}function Gx(r,t,n){return r instanceof jh?(function(o,u){const f={fields:{[E1]:{stringValue:v1},[S1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fp(u)&&(u=rf(u)),u&&(f.fields[T1]=u),{mapValue:f}})(n,t):r instanceof Uo?B1(r,t):r instanceof mu?q1(r,t):(function(o,u){const f=j1(o,u),m=rE(f)+rE(o.Ee);return rp(f)&&rp(o.Ee)?U1(m):$p(o.serializer,m)})(r,t)}function Qx(r,t,n){return r instanceof Uo?B1(r,t):r instanceof mu?q1(r,t):n}function j1(r,t){return r instanceof pu?(function(s){return rp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class jh extends of{}class Uo extends of{constructor(t){super(),this.elements=t}}function B1(r,t){const n=H1(t);for(const s of r.elements)n.some((o=>Wi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class mu extends of{constructor(t){super(),this.elements=t}}function q1(r,t){let n=H1(t);for(const s of r.elements)n=n.filter((o=>!Wi(o,s)));return{arrayValue:{values:n}}}class pu extends of{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function rE(r){return Ve(r.integerValue||r.doubleValue)}function H1(r){return Gp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,n){this.field=t,this.transform=n}}function Yx(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Uo&&o instanceof Uo||s instanceof mu&&o instanceof mu?ko(s.elements,o.elements,Wi):s instanceof pu&&o instanceof pu?Wi(s.Ee,o.Ee):s instanceof jh&&o instanceof jh})(r.transform,t.transform)}class Kx{constructor(t,n){this.version=t,this.transformResults=n}}class Xe{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Xe}static exists(t){return new Xe(void 0,t)}static updateTime(t){return new Xe(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class lf{}function G1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new xu(r.key,Xe.none()):new Cu(r.key,r.data,Xe.none());{const n=r.data,s=kn.empty();let o=new Je(pn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new $s(r.key,s,new oi(o.toArray()),Xe.none())}}function $x(r,t,n){r instanceof Cu?(function(o,u,f){const m=o.value.clone(),p=aE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof $s?(function(o,u,f){if(!Sh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=aE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Q1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function su(r,t,n,s){return r instanceof Cu?(function(u,f,m,p){if(!Sh(u.precondition,f))return m;const g=u.value.clone(),E=oE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,t,n,s):r instanceof $s?(function(u,f,m,p){if(!Sh(u.precondition,f))return m;const g=oE(u.fieldTransforms,p,f),E=f.data;return E.setAll(Q1(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,f,m){return Sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function Xx(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=j1(s.transform,o||null);u!=null&&(n===null&&(n=kn.empty()),n.set(s.field,u))}return n||null}function sE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ko(s,o,((u,f)=>Yx(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Cu extends lf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $s extends lf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Q1(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function aE(r,t,n){const s=new Map;Xt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,Qx(f,m,n[o]))}return s}function oE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Gx(u,f,t))}return s}class xu extends lf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y1 extends lf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&$x(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=su(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=su(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=L1();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=G1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(xt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Yt())}isEqual(t){return this.batchId===t.batchId&&ko(this.mutations,t.mutations,((n,s)=>sE(n,s)))&&ko(this.baseMutations,t.baseMutations,((n,s)=>sE(n,s)))}}class Xp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Xt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=(function(){return Bx})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Xp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,$t;function K1(r){switch(r){case et.OK:return wt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return wt(15467,{code:r})}}function $1(r){if(r===void 0)return Pr("GRPC error has no .code"),et.UNKNOWN;switch(r){case Be.OK:return et.OK;case Be.CANCELLED:return et.CANCELLED;case Be.UNKNOWN:return et.UNKNOWN;case Be.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Be.INTERNAL:return et.INTERNAL;case Be.UNAVAILABLE:return et.UNAVAILABLE;case Be.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Be.NOT_FOUND:return et.NOT_FOUND;case Be.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Be.ABORTED:return et.ABORTED;case Be.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Be.DATA_LOSS:return et.DATA_LOSS;default:return wt(39323,{code:r})}}($t=Be||(Be={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new Ps([4294967295,4294967295],0);function lE(r){const t=d1().encode(r),n=new s1;return n.update(t),new Uint8Array(n.digest())}function uE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ps([n,s],0),new Ps([o,u],0)]}class Jp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Ps.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(Ps.fromNumber(s)));return o.compare(tD)===1&&(o=new Ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=lE(t),[s,o]=uE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Jp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.fe===0)return;const n=lE(t),[s,o]=uE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Du.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new uf(xt.min(),o,new we(jt),Lr(),Yt())}}class Du{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Du(s,n,Yt(),Yt(),Yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class X1{constructor(t,n){this.targetId=t,this.De=n}}class J1{constructor(t,n,s=gn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class cE{constructor(){this.ve=0,this.Ce=hE(),this.Fe=gn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Yt(),n=Yt(),s=Yt();return this.Ce.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:wt(38017,{changeType:u})}})),new Du(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=hE()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class eD{constructor(t){this.We=t,this.Ge=new Map,this.ze=Lr(),this.je=hh(),this.Je=hh(),this.He=new we(jt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,(n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:wt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const u=o.target;if(ap(u))if(s===0){const f=new vt(u.path);this.Xe(n,f,on.newNoDocument(f,xt.min()))}else Xt(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(t),p=m?this.ut(m,t,f):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Hs(s).toUint8Array()}catch(p){if(p instanceof _1)return js("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Jp(f,o,u)}catch(p){return js(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(t){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&ap(m.target)){const p=new vt(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,on.newNoDocument(p,t))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=Yt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(t)));const o=new uf(t,n,this.He,this.ze,s);return this.ze=Lr(),this.je=hh(),this.Je=hh(),this.He=new we(jt),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new cE,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Je(jt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Je(jt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||mt("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new cE),this.We.getRemoteKeysForTarget(t).forEach((n=>{this.Xe(t,n,null)}))}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function hh(){return new we(vt.comparator)}function hE(){return new we(vt.comparator)}const nD={asc:"ASCENDING",desc:"DESCENDING"},iD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rD={and:"AND",or:"OR"};class sD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function up(r,t){return r.useProto3Json||Ru(t)?t:{value:t}}function Bh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Z1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function aD(r,t){return Bh(r,t.toTimestamp())}function ui(r){return Xt(!!r,49232),xt.fromTimestamp((function(n){const s=qs(n);return new pe(s.seconds,s.nanos)})(r))}function Zp(r,t){return cp(r,t).canonicalString()}function cp(r,t){const n=(function(o){return new ce(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function W1(r){const t=ce.fromString(r);return Xt(sS(t),10190,{key:t.toString()}),t}function qh(r,t){return Zp(r.databaseId,t.path)}function au(r,t){const n=W1(t);if(n.get(1)!==r.databaseId.projectId)throw new ft(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ft(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new vt(eS(n))}function tS(r,t){return Zp(r.databaseId,t)}function oD(r){const t=W1(r);return t.length===4?ce.emptyPath():eS(t)}function hp(r){return new ce(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function eS(r){return Xt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function fE(r,t,n){return{name:qh(r,t),fields:n.value.mapValue.fields}}function lD(r,t){return"found"in t?(function(s,o){Xt(!!o.found,43571),o.found.name,o.found.updateTime;const u=au(s,o.found.name),f=ui(o.found.updateTime),m=o.found.createTime?ui(o.found.createTime):xt.min(),p=new kn({mapValue:{fields:o.found.fields}});return on.newFoundDocument(u,f,m,p)})(r,t):"missing"in t?(function(s,o){Xt(!!o.missing,3894),Xt(!!o.readTime,22933);const u=au(s,o.missing),f=ui(o.readTime);return on.newNoDocument(u,f)})(r,t):wt(7234,{result:t})}function uD(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:wt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Xt(E===void 0||typeof E=="string",58123),gn.fromBase64String(E||"")):(Xt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),gn.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?et.UNKNOWN:$1(g.code);return new ft(E,g.message||"")})(f);n=new J1(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=au(r,s.document.name),u=ui(s.document.updateTime),f=s.document.createTime?ui(s.document.createTime):xt.min(),m=new kn({mapValue:{fields:s.document.fields}}),p=on.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new wh(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=au(r,s.document),u=s.readTime?ui(s.readTime):xt.min(),f=on.newNoDocument(o,u),m=s.removedTargetIds||[];n=new wh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=au(r,s.document),u=s.removedTargetIds||[];n=new wh([],u,o,null)}else{if(!("filter"in t))return wt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Wx(o,u),m=s.targetId;n=new X1(m,f)}}return n}function nS(r,t){let n;if(t instanceof Cu)n={update:fE(r,t.key,t.value)};else if(t instanceof xu)n={delete:qh(r,t.key)};else if(t instanceof $s)n={update:fE(r,t.key,t.data),updateMask:_D(t.fieldMask)};else{if(!(t instanceof Y1))return wt(16599,{Rt:t.type});n={verify:qh(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof jh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Uo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof mu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof pu)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw wt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:aD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:wt(27497)})(r,t.precondition)),n}function cD(r,t){return r&&r.length>0?(Xt(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?ui(o.updateTime):ui(u);return f.isEqual(xt.min())&&(f=ui(u)),new Kx(f,o.transformResults||[])})(n,t)))):[]}function hD(r,t){return{documents:[tS(r,t.path)]}}function fD(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=tS(r,o);const u=(function(g){if(g.length!==0)return rS(ki.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(b){return{field:Ro(b.field),direction:pD(b.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=up(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{Vt:n,parent:o}}function dD(r){let t=oD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Xt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const b=iS(T);return b instanceof ki&&C1(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((b=>(function(H){return new zh(Io(H.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,Ru(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(T){const b=!!T.before,V=T.values||[];return new Uh(V,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const b=!T.before,V=T.values||[];return new Uh(V,b)})(n.endAt)),Px(t,o,f,u,m,"F",p,g)}function mD(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function iS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Io(n.unaryFilter.field);return qe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Io(n.unaryFilter.field);return qe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Io(n.unaryFilter.field);return qe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Io(n.unaryFilter.field);return qe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return qe.create(Io(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ki.create(n.compositeFilter.filters.map((s=>iS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(n.compositeFilter.op))})(r):wt(30097,{filter:r})}function pD(r){return nD[r]}function gD(r){return iD[r]}function yD(r){return rD[r]}function Ro(r){return{fieldPath:r.canonicalString()}}function Io(r){return pn.fromServerFormat(r.fieldPath)}function rS(r){return r instanceof qe?(function(n){if(n.op==="=="){if(W0(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if(Z0(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W0(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if(Z0(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:gD(n.op),value:n.value}}})(r):r instanceof ki?(function(n){const s=n.getFilters().map((o=>rS(o)));return s.length===1?s[0]:{compositeFilter:{op:yD(n.op),filters:s}}})(r):wt(54877,{filter:r})}function _D(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function sS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t,n,s,o,u=xt.min(),f=xt.min(),m=gn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Ds(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t){this.gt=t}}function ED(r){const t=dD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.Dn=new SD}addToCollectionParentIndex(t,n){return this.Dn.add(n),rt.resolve()}getCollectionParents(t,n){return rt.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return rt.resolve()}deleteFieldIndex(t,n){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,n){return rt.resolve()}getDocumentsMatchingTarget(t,n){return rt.resolve(null)}getIndexType(t,n){return rt.resolve(0)}getFieldIndexes(t,n){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,n){return rt.resolve(Bs.min())}getMinOffsetFromCollectionGroup(t,n){return rt.resolve(Bs.min())}updateCollectionGroup(t,n,s){return rt.resolve()}updateIndexEntries(t,n){return rt.resolve()}}class SD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Je(ce.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Je(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aS=41943040;class Yn{static withCacheSize(t){return new Yn(t,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(aS,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new zo(0)}static ur(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="LruGarbageCollector",wD=1048576;function pE([r,t],[n,s]){const o=jt(r,n);return o===0?jt(t,s):o}class bD{constructor(t){this.Tr=t,this.buffer=new Je(pE),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();pE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AD{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){mt(mE,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yo(n)?mt(mE,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.Rr(3e5)}))}}class RD{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return rt.resolve(nf.ue);const s=new bD(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(dE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dE):this.pr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),bo()<=Qt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function ID(r,t){return new RD(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.changes=new Oa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?rt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&su(s.mutation,o,oi.empty(),pe.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Yt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Yt()){const o=Aa();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Jl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Aa();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Yt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=Lr();const f=ru(),m=(function(){return ru()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof $s)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),su(E.mutation,g,E.mutation.getFieldMask(),pe.now())):f.set(g.key,oi.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>{var T;return m.set(g,new xD(E,(T=f.get(g))!==null&&T!==void 0?T:null))})),m)))}recalculateAndSaveOverlays(t,n){const s=ru();let o=new we(((f,m)=>f-m)),u=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||oi.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Yt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=L1();E.forEach((b=>{if(!u.has(b)){const V=G1(n.get(b),s.get(b));V!==null&&T.set(b,V),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,T))}return rt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return vt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):O1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):rt.resolve(Aa());let m=cu,p=u;return f.next((g=>rt.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?rt.resolve():this.remoteDocumentCache.getEntry(t,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Yt()))).next((E=>({batchId:m,changes:P1(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next((s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Jl();return this.indexManager.getCollectionParents(t,u).next((m=>rt.forEach(m,(p=>{const g=(function(T,b){return new Iu(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((E=>{E.forEach(((T,b)=>{f=f.insert(T,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,on.newInvalidDocument(E)))}));let m=Jl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&su(E.mutation,g,oi.empty(),pe.now()),af(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return rt.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ui(o.createTime)}})(n)),rt.resolve()}getNamedQuery(t,n){return rt.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:ED(o.bundledQuery),readTime:ui(o.readTime)}})(n)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.overlays=new we(vt.comparator),this.kr=new Map}getOverlay(t,n){return rt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Aa();return rt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.wt(t,n,u)})),rt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),rt.resolve()}getOverlaysForCollection(t,n,s){const o=Aa(),u=n.length+1,f=new vt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return rt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new we(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Aa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return rt.resolve(m)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Zx(n,s));let u=this.kr.get(n);u===void 0&&(u=Yt(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this.qr=new Je(an.Qr),this.$r=new Je(an.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new an(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new an(t,n))}Gr(t,n){t.forEach((s=>this.removeReference(s,n)))}zr(t){const n=new vt(new ce([])),s=new an(n,t),o=new an(n,t+1),u=[];return this.$r.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new vt(new ce([])),s=new an(n,t),o=new an(n,t+1);let u=Yt();return this.$r.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new an(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class an{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return vt.comparator(t.key,n.key)||jt(t.Hr,n.Hr)}static Ur(t,n){return jt(t.Hr,n.Hr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Je(an.Qr)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Jx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new an(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return rt.resolve(f)}lookupMutationBatch(t,n){return rt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return rt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?Hp:this.er-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new an(n,0),o=new an(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),rt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Je(jt);return n.forEach((o=>{const u=new an(o,0),f=new an(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),rt.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;vt.isDocumentKey(u)||(u=u.child(""));const f=new an(new vt(u),0);let m=new Je(jt);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),f),rt.resolve(this.ei(m))}ei(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Xt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return rt.forEach(n.mutations,(o=>{const u=new an(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Yr=s}))}rr(t){}containsKey(t,n){const s=new an(n,0),o=this.Yr.firstAfterOrEqual(s);return rt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t){this.ni=t,this.docs=(function(){return new we(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return rt.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(t,n){let s=Lr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():on.newInvalidDocument(o))})),rt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Lr();const f=n.path,m=new vt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||mx(dx(E),s)<=0||(o.has(E.key)||af(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return rt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){wt(9500)}ri(t,n){return rt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new PD(this)}getSize(t){return rt.resolve(this.size)}}class PD extends CD{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)})),rt.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t){this.persistence=t,this.ii=new Oa((n=>Qp(n)),Yp),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.si=0,this.oi=new Wp,this.targetCount=0,this._i=zo.ar()}forEachTarget(t,n){return this.ii.forEach(((s,o)=>n(o))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),rt.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new zo(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,rt.resolve()}updateTargetData(t,n){return this.hr(n),rt.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),rt.waitFor(u).next((()=>o))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return rt.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),rt.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),rt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),rt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return rt.resolve(s)}containsKey(t,n){return rt.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t,n){this.ai={},this.overlays={},this.ui=new nf(0),this.ci=!1,this.ci=!0,this.li=new MD,this.referenceDelegate=t(this),this.hi=new LD(this),this.indexManager=new TD,this.remoteDocumentCache=(function(o){return new kD(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new vD(n),this.Ti=new ND(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new OD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new VD(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){mt("MemoryPersistence","Starting transaction:",t);const o=new UD(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return rt.or(Object.values(this.ai).map((s=>()=>s.containsKey(t,n))))}}class UD extends gx{constructor(t){super(),this.currentSequenceNumber=t}}class tg{constructor(t){this.persistence=t,this.Ai=new Wp,this.Ri=null}static Vi(t){return new tg(t)}get mi(){if(this.Ri)return this.Ri;throw wt(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),rt.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),rt.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),rt.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.mi,(s=>{const o=vt.fromPath(s);return this.fi(t,o).next((u=>{u||n.removeEntry(o,xt.min())}))})).next((()=>(this.Ri=null,n.apply(t))))}updateLimboDocument(t,n){return this.fi(t,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(t){return 0}fi(t,n){return rt.or([()=>rt.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Hh{constructor(t,n){this.persistence=t,this.gi=new Oa((s=>vx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=ID(this,n)}static Vi(t,n){return new Hh(t,n)}Ii(){}di(t){return rt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}yr(t){let n=0;return this.gr(t,(s=>{n++})).next((()=>n))}gr(t,n){return rt.forEach(this.gi,((s,o)=>this.Sr(t,s,o).next((u=>u?rt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,(f=>this.Sr(t,f,n).next((m=>{m||(s++,u.removeEntry(f,xt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),rt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),rt.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),rt.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Eh(t.data.value)),n}Sr(t,n,s){return rt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return rt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=Yt(),o=Yt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new eg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return jR()?8:yx(bn())>0?6:4})()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ps(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new zD;return this.ws(t,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(t,n,f,m.size)}))})).next((()=>u.result))}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(bo()<=Qt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),rt.resolve()):(bo()<=Qt.DEBUG&&mt("QueryEngine","Query:",Ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(bo()<=Qt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$i(n))):rt.resolve())}ps(t,n){if(iE(n))return rt.resolve(null);let s=$i(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=lp(n,null,"F"),s=$i(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Yt(...u);return this.gs.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,f,p.readTime)?this.ps(t,lp(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ys(t,n,s,o){return iE(n)||o.isEqual(xt.min())?rt.resolve(null):this.gs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?rt.resolve(null):(bo()<=Qt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ao(n)),this.vs(t,f,n,fx(o,cu)).next((m=>m)))}))}bs(t,n){let s=new Je(V1(t));return n.forEach(((o,u)=>{af(t,u)&&(s=s.add(u))})),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,n,s){return bo()<=Qt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Ao(n)),this.gs.getDocumentsMatchingQuery(t,n,Bs.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="LocalStore",BD=3e8;class qD{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new we(jt),this.Ms=new Oa((u=>Qp(u)),Yp),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Fs)))}}function HD(r,t,n,s){return new qD(r,t,n,s)}async function lS(r,t){const n=Nt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Yt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function FD(r,t){const n=Nt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,b=T.keys();let V=rt.resolve();return b.forEach((H=>{V=V.next((()=>E.getEntry(p,H))).next((X=>{const G=g.docVersions.get(H);Xt(G!==null,48541),X.version.compareTo(G)<0&&(T.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),E.addEntry(X)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Yt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function uS(r){const t=Nt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.hi.getLastRemoteSnapshotVersion(n)))}function GD(r,t){const n=Nt(r),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];t.targetChanges.forEach(((E,T)=>{const b=o.get(T);if(!b)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.hi.addMatchingKeys(u,E.addedDocuments,T))));let V=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?V=V.withResumeToken(gn.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(T,V),(function(X,G,st){return X.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=BD?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0})(b,V,E)&&m.push(n.hi.updateTargetData(u,V))}));let p=Lr(),g=Yt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(QD(u,f,t.documentUpdates).next((E=>{p=E.Ls,g=E.ks}))),!s.isEqual(xt.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next((T=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return rt.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function QD(r,t,n){let s=Yt(),o=Yt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=Lr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(xt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):mt(ng,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:f,ks:o}}))}function YD(r,t){const n=Nt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Hp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function KD(r,t){const n=Nt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,t).next((u=>u?(o=u,rt.resolve(o)):n.hi.allocateTargetId(s).next((f=>(o=new Ds(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s}))}async function fp(r,t,n){const s=Nt(r),o=s.Fs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Yo(f))throw f;mt(ng,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function gE(r,t,n){const s=Nt(r);let o=xt.min(),u=Yt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=Nt(p),b=T.Ms.get(E);return b!==void 0?rt.resolve(T.Fs.get(b)):T.hi.getTargetData(g,E)})(s,f,$i(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:xt.min(),n?u:Yt()))).next((m=>($D(s,Ux(t),m),{documents:m,qs:u})))))}function $D(r,t,n){let s=r.xs.get(t)||xt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(t,s)}class yE{constructor(){this.activeTargetIds=Fx()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XD{constructor(){this.Fo=new yE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new yE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="ConnectivityMonitor";class vE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){mt(_E,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){mt(_E,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh=null;function dp(){return fh===null?fh=(function(){return 268435456+Math.round(2147483648*Math.random())})():fh++,"0x"+fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="RestConnection",ZD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WD{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=dp(),m=this.Go(t,n.toUriEncodedString());mt(Om,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=qo(g);return this.jo(t,m,p,s,E).then((T=>(mt(Om,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw js(Om,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}zo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Go})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Go(t,n){const s=ZD[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class eN extends WD{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,u){const f=dp();return new Promise(((m,p)=>{const g=new a1;g.setWithCredentials(!0),g.listenOnce(o1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case vh.NO_ERROR:const T=g.getResponseJson();mt(Sn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case vh.TIMEOUT:mt(Sn,`RPC '${t}' ${f} timed out`),p(new ft(et.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const b=g.getStatus();if(mt(Sn,`RPC '${t}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const H=V==null?void 0:V.error;if(H&&H.status&&H.message){const X=(function(st){const lt=st.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(lt)>=0?lt:et.UNKNOWN})(H.status);p(new ft(X,H.message))}else p(new ft(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ft(et.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{c_:t,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{mt(Sn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);mt(Sn,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}P_(t,n,s){const o=dp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=c1(),m=u1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");mt(Sn,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.T_(T);let b=!1,V=!1;const H=new tN({Ho:G=>{V?mt(Sn,`Not sending because RPC '${t}' stream ${o} is closed:`,G):(b||(mt(Sn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),b=!0),mt(Sn,`RPC '${t}' stream ${o} sending:`,G),T.send(G))},Yo:()=>T.close()}),X=(G,st,lt)=>{G.listen(st,(it=>{try{lt(it)}catch(St){setTimeout((()=>{throw St}),0)}}))};return X(T,Xl.EventType.OPEN,(()=>{V||(mt(Sn,`RPC '${t}' stream ${o} transport opened.`),H.s_())})),X(T,Xl.EventType.CLOSE,(()=>{V||(V=!0,mt(Sn,`RPC '${t}' stream ${o} transport closed`),H.__(),this.I_(T))})),X(T,Xl.EventType.ERROR,(G=>{V||(V=!0,js(Sn,`RPC '${t}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),H.__(new ft(et.UNAVAILABLE,"The operation could not be completed")))})),X(T,Xl.EventType.MESSAGE,(G=>{var st;if(!V){const lt=G.data[0];Xt(!!lt,16349);const it=lt,St=(it==null?void 0:it.error)||((st=it[0])===null||st===void 0?void 0:st.error);if(St){mt(Sn,`RPC '${t}' stream ${o} received error:`,St);const It=St.status;let bt=(function(R){const O=Be[R];if(O!==void 0)return $1(O)})(It),I=St.message;bt===void 0&&(bt=et.INTERNAL,I="Unknown error status: "+It+" with message "+St.message),V=!0,H.__(new ft(bt,I)),T.close()}else mt(Sn,`RPC '${t}' stream ${o} received:`,lt),H.a_(lt)}})),X(m,l1.STAT_EVENT,(G=>{G.stat===ep.PROXY?mt(Sn,`RPC '${t}' stream ${o} detected buffering proxy`):G.stat===ep.NOPROXY&&mt(Sn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.o_()}),0),H}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((n=>n===t))}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(r){return new sD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="PersistentStream";class cS{constructor(t,n,s,o,u,f,m,p){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ig(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Pr(n.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{t((()=>{const o=new ft(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return mt(EE,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget((()=>this.b_===t?n():(mt(EE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nN extends cS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=uD(this.serializer,t),s=(function(u){if(!("targetChange"in u))return xt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?xt.min():f.readTime?ui(f.readTime):xt.min()})(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=hp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=ap(p)?{documents:hD(u,p)}:{query:fD(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Z1(u,f.resumeToken);const g=up(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(xt.min())>0){m.readTime=Bh(u,f.snapshotVersion.toTimestamp());const g=up(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=mD(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=hp(this.serializer),n.removeTarget=t,this.k_(n)}}class iN extends cS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=cD(t.writeResults,t.commitTime),s=ui(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=hp(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>nS(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{}class sN extends rN{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ft(et.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,cp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(et.UNKNOWN,u.toString())}))}Jo(t,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(t,cp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ft(et.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class aN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Pr(n),this._a=!1):mt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class oN{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{Ma(this)&&(mt(Da,"Restarting streams for network reachability change."),await(async function(p){const g=Nt(p);g.Ia.add(4),await Nu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await hf(g)})(this))}))})),this.Aa=new aN(s,o)}}async function hf(r){if(Ma(r))for(const t of r.da)await t(!0)}async function Nu(r){for(const t of r.da)await t(!1)}function hS(r,t){const n=Nt(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),og(n)?ag(n):Ko(n).x_()&&sg(n,t))}function rg(r,t){const n=Nt(r),s=Ko(n);n.Ta.delete(t),s.x_()&&fS(n,t),n.Ta.size===0&&(s.x_()?s.B_():Ma(n)&&n.Aa.set("Unknown"))}function sg(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ko(r).H_(t)}function fS(r,t){r.Ra.$e(t),Ko(r).Y_(t)}function ag(r){r.Ra=new eD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),Ko(r).start(),r.Aa.aa()}function og(r){return Ma(r)&&!Ko(r).M_()&&r.Ta.size>0}function Ma(r){return Nt(r).Ia.size===0}function dS(r){r.Ra=void 0}async function lN(r){r.Aa.set("Online")}async function uN(r){r.Ta.forEach(((t,n)=>{sg(r,t)}))}async function cN(r,t){dS(r),og(r)?(r.Aa.la(t),ag(r)):r.Aa.set("Unknown")}async function hN(r,t,n){if(r.Aa.set("Online"),t instanceof J1&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))})(r,t)}catch(s){mt(Da,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Fh(r,s)}else if(t instanceof wh?r.Ra.Ye(t):t instanceof X1?r.Ra.it(t):r.Ra.et(t),!n.isEqual(xt.min()))try{const s=await uS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(gn.EMPTY_BYTE_STRING,E.snapshotVersion)),fS(u,p);const T=new Ds(E.target,p,g,E.sequenceNumber);sg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){mt(Da,"Failed to raise snapshot:",s),await Fh(r,s)}}async function Fh(r,t,n){if(!Yo(t))throw t;r.Ia.add(1),await Nu(r),r.Aa.set("Offline"),n||(n=()=>uS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{mt(Da,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await hf(r)}))}function mS(r,t){return t().catch((n=>Fh(r,n,t)))}async function ff(r){const t=Nt(r),n=Gs(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Hp;for(;fN(t);)try{const o=await YD(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,dN(t,o)}catch(o){await Fh(t,o)}pS(t)&&gS(t)}function fN(r){return Ma(r)&&r.Pa.length<10}function dN(r,t){r.Pa.push(t);const n=Gs(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function pS(r){return Ma(r)&&!Gs(r).M_()&&r.Pa.length>0}function gS(r){Gs(r).start()}async function mN(r){Gs(r).na()}async function pN(r){const t=Gs(r);for(const n of r.Pa)t.X_(n.mutations)}async function gN(r,t,n){const s=r.Pa.shift(),o=Xp.from(s,t,n);await mS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ff(r)}async function yN(r,t){t&&Gs(r).Z_&&await(async function(s,o){if((function(f){return K1(f)&&f!==et.ABORTED})(o.code)){const u=s.Pa.shift();Gs(s).N_(),await mS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ff(s)}})(r,t),pS(r)&&gS(r)}async function TE(r,t){const n=Nt(r);n.asyncQueue.verifyOperationInProgress(),mt(Da,"RemoteStore received new credentials");const s=Ma(n);n.Ia.add(3),await Nu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await hf(n)}async function _N(r,t){const n=Nt(r);t?(n.Ia.delete(2),await hf(n)):t||(n.Ia.add(2),await Nu(n),n.Aa.set("Unknown"))}function Ko(r){return r.Va||(r.Va=(function(n,s,o){const u=Nt(n);return u.ia(),new nN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:lN.bind(null,r),e_:uN.bind(null,r),n_:cN.bind(null,r),J_:hN.bind(null,r)}),r.da.push((async t=>{t?(r.Va.N_(),og(r)?ag(r):r.Aa.set("Unknown")):(await r.Va.stop(),dS(r))}))),r.Va}function Gs(r){return r.ma||(r.ma=(function(n,s,o){const u=Nt(n);return u.ia(),new iN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:mN.bind(null,r),n_:yN.bind(null,r),ea:pN.bind(null,r),ta:gN.bind(null,r)}),r.da.push((async t=>{t?(r.ma.N_(),await ff(r)):(await r.ma.stop(),r.Pa.length>0&&(mt(Da,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new lg(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(r,t){if(Pr("AsyncQueue",`${t}: ${r}`),Yo(r))return new ft(et.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(t){return new Oo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||vt.comparator(n.key,s.key):(n,s)=>vt.comparator(n.key,s.key),this.keyedMap=Jl(),this.sortedSet=new we(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Oo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Oo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.fa=new we(vt.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):wt(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal(((n,s)=>{t.push(s)})),t}}class jo{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new jo(t,n,Oo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class EN{constructor(){this.queries=wE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Nt(n),u=o.queries;o.queries=wE(),u.forEach(((f,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ft(et.ABORTED,"Firestore shutting down"))}}function wE(){return new Oa((r=>M1(r)),sf)}async function yS(r,t){const n=Nt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new vN,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ug(f,`Initialization of query '${Ao(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.wa.push(t),t.va(n.onlineState),u.ya&&t.Ca(u.ya)&&cg(n)}async function _S(r,t){const n=Nt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(t);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function TN(r,t){const n=Nt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&cg(n)}function SN(r,t,n){const s=Nt(r),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(t)}function cg(r){r.Da.forEach((t=>{t.next()}))}var mp,bE;(bE=mp||(mp={})).Fa="default",bE.Cache="cache";class vS{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new jo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=jo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t){this.key=t}}class TS{constructor(t){this.key=t}}class wN{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Yt(),this.mutatedKeys=Yt(),this.Xa=V1(t),this.eu=new Oo(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new SE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const b=o.get(E),V=af(this.query,T)?T:null,H=!!b&&this.mutatedKeys.has(b.key),X=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let G=!1;b&&V?b.data.isEqual(V.data)?H!==X&&(s.track({type:3,doc:V}),G=!0):this.iu(b,V)||(s.track({type:2,doc:V}),G=!0,(p&&this.Xa(V,p)>0||g&&this.Xa(V,g)<0)&&(m=!0)):!b&&V?(s.track({type:0,doc:V}),G=!0):b&&!V&&(s.track({type:1,doc:b}),G=!0,(p||g)&&(m=!0)),G&&(V?(f=f.add(V),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const f=t.ru.pa();f.sort(((E,T)=>(function(V,H){const X=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{At:G})}};return X(V)-X(H)})(E.type,T.type)||this.Xa(E.doc,T.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new jo(this.query,t.eu,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new SE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Yt(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return t.forEach((s=>{this.Za.has(s)||n.push(new TS(s))})),this.Za.forEach((s=>{t.has(s)||n.push(new ES(s))})),n}uu(t){this.Ha=t.qs,this.Za=Yt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return jo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const hg="SyncEngine";class bN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class AN{constructor(t){this.key=t,this.lu=!1}}class RN{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Oa((m=>M1(m)),sf),this.Tu=new Map,this.Iu=new Set,this.du=new we(vt.comparator),this.Eu=new Map,this.Au=new Wp,this.Ru={},this.Vu=new Map,this.mu=zo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function IN(r,t,n=!0){const s=IS(r);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await SS(s,t,n,!0),o}async function CN(r,t){const n=IS(r);await SS(n,t,!0,!1)}async function SS(r,t,n,s){const o=await KD(r.localStore,$i(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await xN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&hS(r.remoteStore,o),m}async function xN(r,t,n,s,o){r.gu=(T,b,V)=>(async function(X,G,st,lt){let it=G.view.nu(st);it.Ds&&(it=await gE(X.localStore,G.query,!1).then((({documents:I})=>G.view.nu(I,it))));const St=lt&&lt.targetChanges.get(G.targetId),It=lt&&lt.targetMismatches.get(G.targetId)!=null,bt=G.view.applyChanges(it,X.isPrimaryClient,St,It);return RE(X,G.targetId,bt._u),bt.snapshot})(r,T,b,V);const u=await gE(r.localStore,t,!0),f=new wN(t,u.qs),m=f.nu(u.documents),p=Du.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);RE(r,n,g._u);const E=new bN(t,n,f);return r.Pu.set(t,E),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),g.snapshot}async function DN(r,t,n){const s=Nt(r),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((f=>!sf(f,t)))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&rg(s.remoteStore,o.targetId),pp(s,o.targetId)})).catch(Qo)):(pp(s,o.targetId),await fp(s.localStore,o.targetId,!0))}async function NN(r,t){const n=Nt(r),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),rg(n.remoteStore,s.targetId))}async function ON(r,t,n){const s=zN(r);try{const o=await(function(f,m){const p=Nt(f),g=pe.now(),E=m.reduce(((V,H)=>V.add(H.key)),Yt());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let H=Lr(),X=Yt();return p.Os.getEntries(V,E).next((G=>{H=G,H.forEach(((st,lt)=>{lt.isValidDocument()||(X=X.add(st))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,H))).next((G=>{T=G;const st=[];for(const lt of m){const it=Xx(lt,T.get(lt.key).overlayedDocument);it!=null&&st.push(new $s(lt.key,it,A1(it.value.mapValue),Xe.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,st,m)})).next((G=>{b=G;const st=G.applyToLocalDocumentSet(T,X);return p.documentOverlayCache.saveOverlays(V,G.batchId,st)}))})).then((()=>({batchId:b.batchId,changes:P1(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new we(jt)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g})(s,o.batchId,n),await Ou(s,o.changes),await ff(s.remoteStore)}catch(o){const u=ug(o,"Failed to persist write");n.reject(u)}}async function wS(r,t){const n=Nt(r);try{const s=await GD(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&(Xt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?Xt(f.lu,14607):o.removedDocuments.size>0&&(Xt(f.lu,42227),f.lu=!1))})),await Ou(n,s,t)}catch(s){await Qo(s)}}function AE(r,t,n){const s=Nt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Nt(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const b of T.wa)b.va(m)&&(g=!0)})),g&&cg(p)})(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function MN(r,t,n){const s=Nt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let f=new we(vt.comparator);f=f.insert(u,on.newNoDocument(u,xt.min()));const m=Yt().add(u),p=new uf(xt.min(),new Map,new we(jt),f,m);await wS(s,p),s.du=s.du.remove(u),s.Eu.delete(t),fg(s)}else await fp(s.localStore,t,!1).then((()=>pp(s,t,n))).catch(Qo)}async function VN(r,t){const n=Nt(r),s=t.batch.batchId;try{const o=await FD(n.localStore,t);AS(n,s,null),bS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(n,o)}catch(o){await Qo(o)}}async function kN(r,t,n){const s=Nt(r);try{const o=await(function(f,m){const p=Nt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Xt(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,t);AS(s,t,n),bS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ou(s,o)}catch(o){await Qo(o)}}function bS(r,t){(r.Vu.get(t)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(t)}function AS(r,t,n){const s=Nt(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function pp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach((s=>{r.Au.containsKey(s)||RS(r,s)}))}function RS(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(rg(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),fg(r))}function RE(r,t,n){for(const s of n)s instanceof ES?(r.Au.addReference(s.key,t),PN(r,s)):s instanceof TS?(mt(hg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||RS(r,s.key)):wt(19791,{yu:s})}function PN(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(mt(hg,"New document in limbo: "+n),r.Iu.add(s),fg(r))}function fg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new vt(ce.fromString(t)),s=r.mu.next();r.Eu.set(s,new AN(n)),r.du=r.du.insert(n,s),hS(r.remoteStore,new Ds($i(Kp(n.path)),s,"TargetPurposeLimboResolution",nf.ue))}}async function Ou(r,t,n){const s=Nt(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{f.push(s.gu(p,t,n).then((g=>{var E;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=eg.Es(p.targetId,g);u.push(T)}})))})),await Promise.all(f),s.hu.J_(o),await(async function(p,g){const E=Nt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>rt.forEach(g,(b=>rt.forEach(b.Is,(V=>E.persistence.referenceDelegate.addReference(T,b.targetId,V))).next((()=>rt.forEach(b.ds,(V=>E.persistence.referenceDelegate.removeReference(T,b.targetId,V)))))))))}catch(T){if(!Yo(T))throw T;mt(ng,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const V=E.Fs.get(b),H=V.snapshotVersion,X=V.withLastLimboFreeSnapshotVersion(H);E.Fs=E.Fs.insert(b,X)}}})(s.localStore,u))}async function LN(r,t){const n=Nt(r);if(!n.currentUser.isEqual(t)){mt(hg,"User change. New user:",t.toKey());const s=await lS(n.localStore,t);n.currentUser=t,(function(u,f){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ft(et.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ou(n,s.Bs)}}function UN(r,t){const n=Nt(r),s=n.Eu.get(t);if(s&&s.lu)return Yt().add(s.key);{let o=Yt();const u=n.Tu.get(t);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function IS(r){const t=Nt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=wS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MN.bind(null,t),t.hu.J_=TN.bind(null,t.eventManager),t.hu.pu=SN.bind(null,t.eventManager),t}function zN(r){const t=Nt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kN.bind(null,t),t}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=cf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return HD(this.persistence,new jD,t.initialUser,this.serializer)}Du(t){return new oS(tg.Vi,this.serializer)}bu(t){return new XD}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class jN extends Gh{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){Xt(this.persistence.referenceDelegate instanceof Hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new AD(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new oS((s=>Hh.Vi(s,n)),this.serializer)}}class gp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>AE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LN.bind(null,this.syncEngine),await _N(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new EN})()}createDatastore(t){const n=cf(t.databaseInfo.databaseId),s=(function(u){return new eN(u)})(t.databaseInfo);return(function(u,f,m,p){return new sN(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new oN(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>AE(this.syncEngine,n,0)),(function(){return vE.C()?new vE:new JD})())}createSyncEngine(t,n){return(function(o,u,f,m,p,g,E){const T=new RN(o,u,f,m,p,g);return E&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=Nt(o);mt(Da,"RemoteStore shutting down."),u.Ia.add(5),await Nu(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gp.provider={build:()=>new gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Pr("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ft(et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=Nt(o),m={documents:u.map((T=>qh(f.serializer,T)))},p=await f.Jo("BatchGetDocuments",f.serializer.databaseId,ce.emptyPath(),m,u.length),g=new Map;p.forEach((T=>{const b=lD(f.serializer,T);g.set(b.key.toString(),b)}));const E=[];return u.forEach((T=>{const b=g.get(T.toString());Xt(!!b,55234,{key:T}),E.push(b)})),E})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new xu(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=vt.fromPath(s);this.mutations.push(new Y1(o,this.precondition(o)))})),await(async function(s,o){const u=Nt(s),f={writes:o.map((m=>nS(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,ce.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw wt(50498,{Wu:t.constructor.name});n=xt.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new ft(et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(xt.min())?Xe.exists(!1):Xe.updateTime(n):Xe.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(xt.min()))throw new ft(et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xe.updateTime(n)}return Xe.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new ig(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const t=new BN(this.datastore),n=this.Ju(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(t){try{const n=this.updateFunction(t);return!Ru(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(t){this.Gu>0&&this.Yu(t)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(t)}Yu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!K1(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirestoreClient";class HN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=wn.UNAUTHENTICATED,this.clientId=qp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{mt(Qs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(mt(Qs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=ug(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Vm(r,t){r.asyncQueue.verifyOperationInProgress(),mt(Qs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await lS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>{js("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{mt("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{js("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=t}async function IE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await FN(r);mt(Qs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>TE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>TE(t.remoteStore,o))),r._onlineComponents=t}async function FN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){mt(Qs,"Using user provided OfflineComponentProvider");try{await Vm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;js("Error using user provided cache. Falling back to memory cache: "+n),await Vm(r,new Gh)}}else mt(Qs,"Using default OfflineComponentProvider"),await Vm(r,new jN(void 0));return r._offlineComponents}async function dg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(mt(Qs,"Using user provided OnlineComponentProvider"),await IE(r,r._uninitializedComponentsProvider._online)):(mt(Qs,"Using default OnlineComponentProvider"),await IE(r,new gp))),r._onlineComponents}function GN(r){return dg(r).then((t=>t.syncEngine))}function QN(r){return dg(r).then((t=>t.datastore))}async function yp(r){const t=await dg(r),n=t.eventManager;return n.onListen=IN.bind(null,t.syncEngine),n.onUnlisten=DN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=CN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=NN.bind(null,t.syncEngine),n}function YN(r,t,n={}){const s=new Or;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new CS({next:b=>{E.Ou(),f.enqueueAndForget((()=>_S(u,T))),b.fromCache&&p.source==="server"?g.reject(new ft(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new vS(m,E,{includeMetadataChanges:!0,ka:!0});return yS(u,T)})(await yp(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firestore.googleapis.com",xE=!0;class DE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ft(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DS,this.ssl=xE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:xE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wD)throw new ft(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xS((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class df{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new nx;switch(s.type){case"firstParty":return new ax(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=CE.get(n);s&&(mt("ComponentProvider","Removing Datastore"),CE.delete(n),s.terminate())})(this),Promise.resolve()}}function KN(r,t,n,s={}){var o;r=li(r,df);const u=qo(t),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;u&&(yT(`https://${p}`),_T("Firestore",!0)),f.host!==DS&&f.host!==p&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!zs(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=wn.MOCK_USER;else{E=NR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ft(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new wn(b)}r._authCredentials=new ix(new f1(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Va(this.firestore,t,this._query)}}class Ce{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Au(n,Ce._jsonSchema))return new Ce(t,s||null,new vt(ce.fromString(n.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:He("string",Ce._jsonSchemaVersion),referencePath:He("string")};class Ls extends Va{constructor(t,n,s){super(t,n,Kp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new vt(t))}withConverter(t){return new Ls(this.firestore,t,this._path)}}function Yl(r,t,...n){if(r=xe(r),m1("collection","path",t),r instanceof df){const s=ce.fromString(t,...n);return H0(s),new Ls(r,null,s)}{if(!(r instanceof Ce||r instanceof Ls))throw new ft(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ce.fromString(t,...n));return H0(s),new Ls(r.firestore,null,s)}}function Qn(r,t,...n){if(r=xe(r),arguments.length===1&&(t=qp.newId()),m1("doc","path",t),r instanceof df){const s=ce.fromString(t,...n);return q0(s),new Ce(r,null,new vt(s))}{if(!(r instanceof Ce||r instanceof Ls))throw new ft(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ce.fromString(t,...n));return q0(s),new Ce(r.firestore,r instanceof Ls?r.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="AsyncQueue";class OE{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ig(this,"async_queue_retry"),this.oc=()=>{const s=Mm();s&&mt(NE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Or;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Yo(t))throw t;mt(NE,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((s=>{throw this.tc=s,this.nc=!1,Pr("INTERNAL UNHANDLED ERROR: ",ME(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=lg.createAndSchedule(this,t,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&wt(47125,{hc:ME(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function ME(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Ur extends df{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new OE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new OE(t),this._firestoreClient=void 0,await t}}}function $N(r,t){const n=typeof r=="object"?r:ST(),s=typeof r=="string"?r:Ph,o=Cp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=xR("firestore");u&&KN(o,...u)}return o}function Mu(r){if(r._terminated)throw new ft(et.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||XN(r),r._firestoreClient}function XN(r){var t,n,s;const o=r._freezeSettings(),u=(function(m,p,g,E){return new Sx(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,xS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new HN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ai(gn.fromBase64String(t))}catch(n){throw new ft(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ai(gn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Au(t,ai._jsonSchema))return ai.fromBase64String(t.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:He("string",ai._jsonSchemaVersion),bytes:He("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(t){if(Au(t,Xi._jsonSchema))return new Xi(t.latitude,t.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:He("string",Xi._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Au(t,Ji._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ji(t.vectorValues);throw new ft(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ji._jsonSchemaVersion="firestore/vectorValue/1.0",Ji._jsonSchema={type:He("string",Ji._jsonSchemaVersion),vectorValues:He("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=/^__.*__$/;class ZN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new $s(t,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(t,this.data,n,this.fieldTransforms)}}class NS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new $s(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function OS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ec:r})}}class mf{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new mf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Qh(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(OS(this.Ec)&&JN.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class WN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||cf(t)}Dc(t,n,s,o=!1){return new mf({Ec:t,methodName:n,bc:s,path:pn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ku(r){const t=r._freezeSettings(),n=cf(r._databaseId);return new WN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function mg(r,t,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,t,n,o);vg("Data must be an object, but it was:",f,s);const m=MS(s,f);let p,g;if(u.merge)p=new oi(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const b=_p(t,T,n);if(!f.contains(b))throw new ft(et.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);kS(E,b)||E.push(b)}p=new oi(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new ZN(new kn(m),p,g)}class Pu extends Vu{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Pu}}function tO(r,t,n){return new mf({Ec:3,bc:t.settings.bc,methodName:r._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class pg extends Vu{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=tO(this,t,!0),s=this.vc.map((u=>Xo(u,n))),o=new Uo(s);return new F1(t.path,o)}isEqual(t){return t instanceof pg&&zs(this.vc,t.vc)}}class gg extends Vu{constructor(t,n){super(t),this.Cc=n}_toFieldTransform(t){const n=new pu(t.serializer,z1(t.serializer,this.Cc));return new F1(t.path,n)}isEqual(t){return t instanceof gg&&this.Cc===t.Cc}}function yg(r,t,n,s){const o=r.Dc(1,t,n);vg("Data must be an object, but it was:",o,s);const u=[],f=kn.empty();Ks(s,((p,g)=>{const E=Eg(t,p,n);g=xe(g);const T=o.gc(E);if(g instanceof Pu)u.push(E);else{const b=Xo(g,T);b!=null&&(u.push(E),f.set(E,b))}}));const m=new oi(u);return new NS(f,m,o.fieldTransforms)}function _g(r,t,n,s,o,u){const f=r.Dc(1,t,n),m=[_p(t,s,n)],p=[o];if(u.length%2!=0)throw new ft(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(_p(t,u[b])),p.push(u[b+1]);const g=[],E=kn.empty();for(let b=m.length-1;b>=0;--b)if(!kS(g,m[b])){const V=m[b];let H=p[b];H=xe(H);const X=f.gc(V);if(H instanceof Pu)g.push(V);else{const G=Xo(H,X);G!=null&&(g.push(V),E.set(V,G))}}const T=new oi(g);return new NS(E,T,f.fieldTransforms)}function eO(r,t,n,s=!1){return Xo(n,r.Dc(s?4:3,t))}function Xo(r,t){if(VS(r=xe(r)))return vg("Unsupported field value:",t,r),MS(r,t);if(r instanceof Vu)return(function(s,o){if(!OS(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Xo(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=xe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return z1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=pe.fromDate(s);return{timestampValue:Bh(o.serializer,u)}}if(s instanceof pe){const u=new pe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,u)}}if(s instanceof Xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ai)return{bytesValue:Z1(o.serializer,s._byteString)};if(s instanceof Ce){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ji)return(function(f,m){return{mapValue:{fields:{[w1]:{stringValue:b1},[Lh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return $p(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${ef(s)}`)})(r,t)}function MS(r,t){const n={};return y1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ks(r,((s,o)=>{const u=Xo(o,t.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function VS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pe||r instanceof Xi||r instanceof ai||r instanceof Ce||r instanceof Vu||r instanceof Ji)}function vg(r,t,n){if(!VS(n)||!p1(n)){const s=ef(n);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function _p(r,t,n){if((t=xe(t))instanceof $o)return t._internalPath;if(typeof t=="string")return Eg(r,t);throw Qh("Field path arguments must be of type string or ",r,!1,void 0,n)}const nO=new RegExp("[~\\*/\\[\\]]");function Eg(r,t,n){if(t.search(nO)>=0)throw Qh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new $o(...t.split("."))._internalPath}catch{throw Qh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Qh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ft(et.INVALID_ARGUMENT,m+r+p)}function kS(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Tg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iO extends Yh{data(){return super.data()}}function Tg(r,t){return typeof t=="string"?Eg(r,t):t instanceof $o?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class rO extends Sg{}function sO(r,t,...n){let s=[];t instanceof Sg&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof wg)).length,m=u.filter((p=>p instanceof pf)).length;if(f>1||f>0&&m>0)throw new ft(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class pf extends rO{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new pf(t,n,s)}_apply(t){const n=this._parse(t);return LS(t._query,n),new Va(t.firestore,t.converter,op(t._query,n))}_parse(t){const n=ku(t.firestore);return(function(u,f,m,p,g,E,T){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ft(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){PE(T,E);const H=[];for(const X of T)H.push(kE(p,u,X));b={arrayValue:{values:H}}}else b=kE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||PE(T,E),b=eO(m,f,T,E==="in"||E==="not-in");return qe.create(g,E,b)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function aO(r,t,n){const s=t,o=Tg("where",r);return pf._create(o,s,n)}class wg extends Sg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new wg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ki.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)LS(f,p),f=op(f,p)})(t._query,n),new Va(t.firestore,t.converter,op(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kE(r,t,n){if(typeof(n=xe(n))=="string"){if(n==="")throw new ft(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O1(t)&&n.indexOf("/")!==-1)throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ce.fromString(n));if(!vt.isDocumentKey(s))throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return J0(r,new vt(s))}if(n instanceof Ce)return J0(r,n._key);throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function PE(r,t){if(!Array.isArray(r)||r.length===0)throw new ft(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function LS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ft(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class US{convertValue(t,n="none"){switch(Fs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Hs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw wt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ks(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Lh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>Ve(f.doubleValue)));return new Ji(u)}convertGeoPoint(t){return new Xi(Ve(t.latitude),Ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=rf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hu(t));default:return null}}convertTimestamp(t){const n=qs(t);return new pe(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ce.fromString(t);Xt(sS(s),9688,{name:t});const o=new fu(s.get(1),s.get(3)),u=new vt(s.popFirst(5));return o.isEqual(n)||Pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class oO extends US{constructor(t){super(),this.firestore=t}convertBytes(t){return new ai(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,n)}}class Co{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Us extends Yh{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Tg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Us._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Us._jsonSchemaVersion="firestore/documentSnapshot/1.0",Us._jsonSchema={type:He("string",Us._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class bh extends Us{data(t={}){return super.data(t)}}class Ra{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Co(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new bh(this._firestore,this._userDataWriter,s.key,s,new Co(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Co(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Co(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:lO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ra._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=qp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function lO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:r})}}Ra._jsonSchemaVersion="firestore/querySnapshot/1.0",Ra._jsonSchema={type:He("string",Ra._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};class gf extends US{constructor(t){super(),this.firestore=t}convertBytes(t){return new ai(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,n)}}function LE(r){r=li(r,Va);const t=li(r.firestore,Ur),n=Mu(t),s=new gf(t);return PS(r._query),YN(n,r._query).then((o=>new Ra(t,s,r,o)))}function Kl(r,t,n){r=li(r,Ce);const s=li(r.firestore,Ur),o=bg(r.converter,t,n);return yf(s,[mg(ku(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Xe.none())])}function $l(r,t,n,...s){r=li(r,Ce);const o=li(r.firestore,Ur),u=ku(o);let f;return f=typeof(t=xe(t))=="string"||t instanceof $o?_g(u,"updateDoc",r._key,t,n,s):yg(u,"updateDoc",r._key,t),yf(o,[f.toMutation(r._key,Xe.exists(!0))])}function km(r){return yf(li(r.firestore,Ur),[new xu(r._key,Xe.none())])}function Pm(r,...t){var n,s,o;r=xe(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||VE(t[f])||(u=t[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(VE(t[f])){const T=t[f];t[f]=(n=T.next)===null||n===void 0?void 0:n.bind(T),t[f+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),t[f+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,E;if(r instanceof Ce)g=li(r.firestore,Ur),E=Kp(r._key.path),p={next:T=>{t[f]&&t[f](uO(g,r,T))},error:t[f+1],complete:t[f+2]};else{const T=li(r,Va);g=li(T.firestore,Ur),E=T._query;const b=new gf(g);p={next:V=>{t[f]&&t[f](new Ra(g,b,T,V))},error:t[f+1],complete:t[f+2]},PS(r._query)}return(function(b,V,H,X){const G=new CS(X),st=new vS(V,G,H);return b.asyncQueue.enqueueAndForget((async()=>yS(await yp(b),st))),()=>{G.Ou(),b.asyncQueue.enqueueAndForget((async()=>_S(await yp(b),st)))}})(Mu(g),E,m,p)}function yf(r,t){return(function(s,o){const u=new Or;return s.asyncQueue.enqueueAndForget((async()=>ON(await GN(s),o,u))),u.promise})(Mu(r),t)}function uO(r,t,n){const s=n.docs.get(t._key),o=new gf(r);return new Us(r,o,t._key,s,new Co(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ku(t)}set(t,n,s){this._verifyNotCommitted();const o=Ns(t,this._firestore),u=bg(o.converter,n,s),f=mg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,Xe.none())),this}update(t,n,s,...o){this._verifyNotCommitted();const u=Ns(t,this._firestore);let f;return f=typeof(n=xe(n))=="string"||n instanceof $o?_g(this._dataReader,"WriteBatch.update",u._key,n,s,o):yg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,Xe.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Ns(t,this._firestore);return this._mutations=this._mutations.concat(new xu(n._key,Xe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ft(et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ns(r,t){if((r=xe(r)).firestore!==t)throw new ft(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=ku(t)}get(t){const n=Ns(t,this._firestore),s=new oO(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return wt(24041);const u=o[0];if(u.isFoundDocument())return new Yh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Yh(this._firestore,s,n._key,null,n.converter);throw wt(18433,{doc:u})}))}set(t,n,s){const o=Ns(t,this._firestore),u=bg(o.converter,n,s),f=mg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(t,n,s,...o){const u=Ns(t,this._firestore);let f;return f=typeof(n=xe(n))=="string"||n instanceof $o?_g(this._dataReader,"Transaction.update",u._key,n,s,o):yg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(t){const n=Ns(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO extends fO{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Ns(t,this._firestore),s=new gf(this._firestore);return super.get(t).then((o=>new Us(this._firestore,s,n._key,o._document,new Co(!1,!1),n.converter)))}}function mO(r,t,n){r=li(r,Ur);const s=Object.assign(Object.assign({},cO),n);return(function(u){if(u.maxAttempts<1)throw new ft(et.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Or;return u.asyncQueue.enqueueAndForget((async()=>{const g=await QN(u);new qN(u.asyncQueue,g,m,f,p).zu()})),p.promise})(Mu(r),(o=>t(new dO(r,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(){return new Pu("deleteField")}function gO(...r){return new pg("arrayUnion",r)}function yO(r){return new gg("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(r){return Mu(r=li(r,Ur)),new hO(r,(t=>yf(r,t)))}(function(t,n=!0){(function(o){Go=o})(Ho),Mo(new Ia("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ur(new rx(s.getProvider("auth-internal")),new ox(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ft(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(g.options.projectId,E)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Vs(L0,U0,t),Vs(L0,U0,"esm2017")})();var vO="firebase",EO="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs(vO,EO,"app");const TO={apiKey:"AIzaSyCEUaqAGQBy_-tQEjnkNGYMXRk7YRaCAjI",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.firebasestorage.app",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},zS=TT(TO),Dr=tx(zS),Lm=new Ir,sn=$N(zS),SO=({className:r})=>j.jsxs("span",{className:"relative inline-block "+(r||""),children:[j.jsx(lT,{className:"w-5 h-5"}),j.jsx("span",{className:"absolute -right-1 -top-1",children:j.jsx(Qm,{className:"w-3.5 h-3.5"})})]});(async()=>{try{await GT(Dr,Lp)}catch{}})();function wO(r,t){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(r)}&token=${encodeURIComponent(t)}`}async function bO(r){try{return await navigator.clipboard.writeText(r),!0}catch{return window.prompt("  :",r),!1}}async function Wl(){try{try{await GT(Dr,Lp)}catch{return[]}await uC(Dr,Lm)}catch(r){const t=r==null?void 0:r.code;if(t==="auth/popup-blocked"||t==="auth/cancelled-popup-request"||t==="auth/popup-closed-by-user"){await C0(Dr,Lm);return}await C0(Dr,Lm)}}function AO(r){const t=encodeURIComponent(r);window.open(`https://wa.me/?text=${t}`,"_blank")}const RO=()=>{const[r]=nR(),t=Tp(),n=r.get("listId"),s=r.get("token"),[o,u]=P.useState(Dr.currentUser),[f,m]=P.useState(!0),[p,g]=P.useState(!1),[E,T]=P.useState(null);P.useEffect(()=>QT(Dr,H=>{u(H),m(!1)}),[]);const b=async()=>{T(null);try{await Wl()}catch(H){T((H==null?void 0:H.message)||" ")}},V=async()=>{if(!n||!s){T("    (listId  token)");return}if(!o){await b();return}g(!0),T(null);try{await mO(sn,async H=>{var it;const X=Qn(sn,"lists",n),G=await H.get(X);if(!G.exists())throw new Error("  ");const lt=(it=G.data().pendingInvites)==null?void 0:it[s];if(!lt)throw new Error("  ");if(lt.expiresAt<Date.now())throw new Error("  ");H.update(X,{sharedWith:gO(o.uid),[`pendingInvites.${s}`]:pO()})}),localStorage.setItem("activeListId",n),t("/")}catch(H){T((H==null?void 0:H.message)||"  ")}finally{g(!1)}};return f?j.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif'},children:[j.jsx("style",{children:`
        html, body, #root {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        *, *::before, *::after,
        input, button, select, textarea, option, label {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        input::placeholder, textarea::placeholder {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
      `}),j.jsx(Rh,{className:"animate-spin text-indigo-600"})]}):j.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:j.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[j.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:j.jsx(cT,{className:"w-10 h-10"})}),j.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?j.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,E?j.jsx("p",{className:"text-rose-500 font-bold break-words",children:E}):null,o?j.jsx("button",{onClick:V,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?j.jsx(Rh,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):j.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[j.jsx(uT,{className:"w-4 h-4"}),"   "]})]})})},jS={:1,:1,:2,:2,:2,:2,:2,:3,:3,:4,:4,:5,:5,:6,:6,:7,:7,:8,:9,:9,:10,:10},Rr=r=>(r||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),BS=r=>(r||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\b\b/g,",").replace(/\b\b/g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim();function Kh(r){return r?/^\d+$/.test(r)?!0:jS[r]!=null:!1}function IO(r){if(!r)return null;if(/^\d+$/.test(r))return Number(r);const t=jS[r];return t??null}const CO=new Set(["","","","","","","","","","","","","","","","","","","","","","","",""]);function xO(r){return CO.has(r)}const Um=new Set([" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","' "," "," "," "]),zm=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),jm=new Set(["","","","","","","","","","","","",""]);function DO(r){const t=[];let n=0;const s=o=>o&&o.startsWith("")&&o.length>1?o.slice(1):o;for(;n<r.length;){const o=r[n],u=n+1<r.length?r[n+1]:"";if(o&&u&&!Kh(o)&&!Kh(u)){const f=`${o} ${u}`,m=s(u),p=`${o} ${m}`;if(Um.has(f)||Um.has(p)){t.push(Um.has(f)?f:p),n+=2;continue}if(zm.has(u)||zm.has(m)){t.push(zm.has(u)?f:p),n+=2;continue}if(jm.has(u)||jm.has(m)){t.push(jm.has(u)?f:p),n+=2;continue}}t.push(o),n+=1}return t}function NO(r){const t=Rr(r);if(!t)return[];let n=t.split(" ").filter(Boolean);if(n=DO(n),n.length===0)return[];const s=[];let o=1,u=[];const f=p=>{const g=u.join(" ").trim();if(g){const E=Math.max(1,Number(p??o??1));s.push({name:g,qty:E})}o=1,u=[]},m=p=>p+1<n.length?n[p+1]:"";for(let p=0;p<n.length;p++){const g=n[p];if(Kh(g)){const T=Math.max(1,IO(g)||1),b=m(p);if(u.length===0){o=T;continue}if(!b){f(T);continue}f(),o=T;continue}u.push(g);const E=m(p);u.length===1&&xO(u[0])||g===""||g===""||E===""||E===""||Kh(E)||f()}return u.length>0&&f(),s.map(p=>({name:p.name.replace(/\s+/g," ").trim(),qty:Math.max(1,Number(p.qty||1))})).filter(p=>p.name.length>0)}function OO(r){const t=BS(r),n=Rr(t);if(!n)return[];const o=n.replace(/\s+\s+/g,",").replace(/\s+\s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+\s+/g,",").split(/,|\n/).map(f=>f.trim()).filter(Boolean),u=[];for(const f of o){const m=NO(f);for(const p of m)u.push(p)}return u}const MO=["","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","'"," "," "," ","","","","","","",""," "," ","",""," ","","","","","",""," ",""," "," "," "," "," "," ","",""," "];function Yi(r){return r.trim().replace(/\s+/g," ").replace(/[]/g,'"').replace(/[]/g,"'").toLowerCase()}const qS="shopping_list_item_history_v1",HS="shopping_list_hidden_suggestions_v1",VO=1440*60*1e3;function Ag(){try{const r=localStorage.getItem(HS);if(!r)return{};const t=JSON.parse(r);if(!t||typeof t!="object"||Array.isArray(t))return{};const n={};for(const[s,o]of Object.entries(t))typeof s=="string"&&typeof o=="number"&&Number.isFinite(o)&&(n[s]=o);return n}catch{return{}}}function Rg(r){try{localStorage.setItem(HS,JSON.stringify(r))}catch{}}function UE(){const r=Ag(),t=Date.now(),n=[];let s=!1;for(const[o,u]of Object.entries(r)){if(typeof u!="number"||!Number.isFinite(u)){delete r[o],s=!0;continue}u>t?n.push(o):(delete r[o],s=!0)}return s&&Rg(r),n}function kO(r){const t=Ag();t[r]=Date.now()+VO,Rg(t)}function Bm(r){try{const t=Ag();t[r]&&(delete t[r],Rg(t))}catch{}}function PO(){try{const r=localStorage.getItem(qS);if(!r)return{};const t=JSON.parse(r);return!t||typeof t!="object"?{}:t}catch{return{}}}function zE(r){try{localStorage.setItem(qS,JSON.stringify(r))}catch{}}function LO(r){const t=r.query,n=Yi(t),s=r.limit??8;if(!n)return[];const o=new Map,u=(g,E)=>{const T=g.trim();if(!T)return;const b=Yi(T);if(!b||r.hiddenKeys.has(b))return;const V=o.get(b);if(V){V.sources.add(E);return}o.set(b,{name:T,key:b,sources:new Set([E])})};for(const g of r.favorites)u(g,"favorite");for(const g of r.items)u(g.name,"items");for(const[g,E]of Object.entries(r.history)){u((E==null?void 0:E.name)||g,"history");const T=o.get(g);T&&(T.history=E)}for(const g of MO)u(g,"static");const f=Array.from(o.values()),m=new Map;for(const g of r.items){const E=Yi(g.name);E&&(m.has(E)||m.set(E,{id:g.id,quantity:g.quantity}))}const p=g=>{const E=g.key,T=E.startsWith(n),b=!T&&E.includes(n);if(!T&&!b)return-1/0;let V=T?120:70;if(g.sources.has("favorite")&&(V+=45),g.sources.has("history")&&(V+=35),g.sources.has("items")&&(V+=20),g.sources.has("static")&&(V+=10),g.history){const H=Math.max(0,g.history.count||0),X=Math.max(0,g.history.lastUsed||0);V+=Math.min(30,Math.log2(H+1)*8);const G=(Date.now()-X)/(1e3*60*60*24),st=Math.max(0,20-G);V+=Math.min(20,st)}return V};return f.map(g=>({c:g,s:p(g)})).filter(g=>Number.isFinite(g.s)).sort((g,E)=>E.s-g.s).slice(0,s).map(g=>{const E=m.get(g.c.key);return{name:g.c.name,key:g.c.key,canHide:g.c.sources.has("history")&&!g.c.sources.has("favorite"),isInList:!!E,itemId:E==null?void 0:E.id,currentQty:E==null?void 0:E.quantity}})}const UO=()=>{const[r,t]=P.useState(null),[n,s]=P.useState(null),[o,u]=P.useState([]),[f,m]=P.useState([]),[p,g]=P.useState("list"),[E,T]=P.useState(!1),[b,V]=P.useState(""),[H,X]=P.useState(60),G=()=>{if(!b){at("   ");return}const x=new Date(b);if(Number.isNaN(x.getTime())){at("   ");return}const Q=new Date(x.getTime()+Math.max(5,H)*60*1e3),$=kt=>kt.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",ot=`${$(x)}/${$(Q)}`,dt=encodeURIComponent("  "),_t=encodeURIComponent("   .       ."),Ct=encodeURIComponent("Asia/Jerusalem"),Jt=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${dt}&details=${_t}&dates=${ot}&ctz=${Ct}`;window.open(Jt,"_blank","noopener,noreferrer"),T(!1)},[st,lt]=P.useState(""),it=P.useRef(null),[St,It]=P.useState(!1),[bt,I]=P.useState(-1),A=P.useRef({}),R=P.useRef(null);P.useEffect(()=>{A.current=PO()},[]);const[O,k]=P.useState(!1),[U,C]=P.useState(!1),[De,Fe]=P.useState(!0),[J,ht]=P.useState(!1),[yt,Bt]=P.useState(!1),[ee]=P.useState("hold_to_talk"),[M,W]=P.useState(""),[at,ut]=P.useState(null),Et=P.useRef(null),At=P.useRef(!1),Vt=P.useRef([]),Te=P.useRef(""),re=P.useRef(!1),ke=P.useRef(null),Ge=P.useRef(null),Pn=P.useRef(!1),_n=P.useRef(null),[ge,Ze]=P.useState({id:null,dx:0}),tr=70,er=110,Br=x=>{const Q=x;return Q?!!Q.closest("button, input, textarea, select, a, [data-noswipe='true']"):!1},qr=x=>Q=>{Br(Q.target)||(Pn.current=!1,ke.current={x:Q.clientX,y:Q.clientY,id:x,pointerId:Q.pointerId},Ge.current={x:Q.clientX,y:Q.clientY},Ze({id:x,dx:0}))},nr=x=>Q=>{const $=ke.current;if(!$||$.id!==x||$.pointerId!==Q.pointerId)return;Ge.current={x:Q.clientX,y:Q.clientY};const ot=Q.clientX-$.x,dt=Math.max(-er,Math.min(er,ot));if(!_n.current&&Math.abs(ot)>10&&Math.abs(ot)>=Math.abs(Q.clientY-$.y))try{Q.currentTarget.setPointerCapture(Q.pointerId),_n.current={el:Q.currentTarget,pointerId:Q.pointerId}}catch{}Ze({id:x,dx:dt})},Hr=x=>async Q=>{const $=ke.current,ot=Ge.current;ke.current=null;try{_n.current&&_n.current.el.releasePointerCapture($.pointerId)}catch{}if(_n.current=null,Ge.current=null,!$||$.id!==x){Ze({id:null,dx:0});return}const dt=(ot==null?void 0:ot.x)??Q.clientX,_t=(ot==null?void 0:ot.y)??Q.clientY,Ct=dt-$.x,Jt=_t-$.y;if(Ze({id:null,dx:0}),!(Math.abs(Ct)<tr||Math.abs(Ct)<Math.abs(Jt))){Pn.current=!0;try{Ct<0?await Cn(x):await Ii(x)}finally{window.setTimeout(()=>{Pn.current=!1},0)}}},Jo=x=>Q=>{if(Br(Q.target))return;const $=Q.touches[0];$&&(Pn.current=!1,ke.current={x:$.clientX,y:$.clientY,id:x,pointerId:-1},Ge.current={x:$.clientX,y:$.clientY},Ze({id:x,dx:0}))},Xs=x=>Q=>{const $=ke.current;if(!$||$.id!==x)return;const ot=Q.touches[0];if(!ot)return;Ge.current={x:ot.clientX,y:ot.clientY};const dt=ot.clientX-$.x,_t=ot.clientY-$.y;if(Math.abs(dt)<6||Math.abs(dt)<Math.abs(_t))return;try{Q.preventDefault()}catch{}const Ct=Math.max(-er,Math.min(er,dt));Ze({id:x,dx:Ct})},Qe=x=>async Q=>{const $=ke.current,ot=Ge.current;if(ke.current=null,Ge.current=null,!$||$.id!==x){Ze({id:null,dx:0});return}const dt=ot?ot.x-$.x:0;if(Math.abs(dt)<tr){Ze({id:null,dx:0});return}Pn.current=!0,dt<0?await Cn(x):await Ii(x),Ze({id:null,dx:0})},ka=()=>{ke.current=null,Ge.current=null;try{_n.current&&_n.current.el.releasePointerCapture(_n.current.pointerId)}catch{}_n.current=null,Ze({id:null,dx:0})},ye=P.useRef(null),Ne=P.useRef([]);P.useEffect(()=>{ye.current=(n==null?void 0:n.id)??null},[n==null?void 0:n.id]),P.useEffect(()=>{Ne.current=o},[o]),P.useEffect(()=>{if(!at)return;const x=setTimeout(()=>ut(null),2500);return()=>clearTimeout(x)},[at]),P.useEffect(()=>QT(Dr,async x=>{if(t(x),Fe(!1),!x){s(null),u([]),m([]);return}ht(!0);const Q=sO(Yl(sn,"lists"),aO("sharedWith","array-contains",x.uid)),$=await LE(Q);if($.empty){const ot=Qn(Yl(sn,"lists")),dt={id:ot.id,title:" ",ownerUid:x.uid,sharedWith:[x.uid],createdAt:Date.now(),updatedAt:Date.now()};await Kl(ot,dt),s(dt),localStorage.setItem("activeListId",ot.id)}else{const ot=localStorage.getItem("activeListId"),dt=ot?$.docs.find(Ct=>Ct.id===ot)??$.docs[0]:$.docs[0],_t=dt.data();s({..._t,id:dt.id}),localStorage.setItem("activeListId",dt.id)}ht(!1)}),[]),P.useEffect(()=>{if(!(n!=null&&n.id))return;const x=Qn(sn,"lists",n.id),Q=Yl(x,"items"),$=Yl(x,"favorites"),ot=Pm(x,Ct=>{Ct.exists()&&s({...Ct.data(),id:Ct.id})}),dt=Pm(Q,Ct=>{const Jt=Ct.docs.map(kt=>kt.data());u(Jt)}),_t=Pm($,Ct=>{const Jt=Ct.docs.map(kt=>{const Ot=kt.data();return{id:kt.id,name:String((Ot==null?void 0:Ot.name)||""),createdAt:Number((Ot==null?void 0:Ot.createdAt)||0)}});Jt.sort((kt,Ot)=>Ot.createdAt-kt.createdAt),m(Jt)});return()=>{ot(),dt(),_t()}},[n==null?void 0:n.id]);const Ri=P.useMemo(()=>{const x=new Set;for(const Q of f)x.add(Q.id);return x},[f]),Pa=P.useMemo(()=>o.filter(x=>!x.isPurchased).sort((x,Q)=>Q.createdAt-x.createdAt),[o]),ir=P.useMemo(()=>o.filter(x=>x.isPurchased).sort((x,Q)=>(Q.purchasedAt||0)-(x.purchasedAt||0)),[o]),La=x=>{const Q=x.trim();if(!Q)return;const $=Yi(Q);if(!$)return;const ot=A.current[$],dt={name:Q,count:((ot==null?void 0:ot.count)||0)+1,lastUsed:Date.now()};A.current={...A.current,[$]:dt},zE(A.current)},An=P.useRef(new Set);P.useEffect(()=>{An.current=new Set(UE())},[]);const Ye=P.useMemo(()=>{const x=new Set(UE());return An.current=x,LO({query:st,favorites:f.map(Q=>Q.name),items:o,history:A.current,hiddenKeys:x,limit:8})},[st,f,o]),We=()=>{R.current&&window.clearTimeout(R.current),R.current=window.setTimeout(()=>{It(!1),I(-1)},120)},Rn=()=>{R.current&&window.clearTimeout(R.current),It(!0)},Ke=async x=>{if(x.isInList&&x.itemId){const Q=(x.currentQty??1)+1;await In(x.itemId,1);const $=x.key||Yi(x.name);$&&(Bm($),An.current.delete($)),ut(`  -   -${Q}`),lt(""),I(-1),It(!1),window.requestAnimationFrame(()=>{var ot;return(ot=it.current)==null?void 0:ot.focus()});return}lt(x.name),I(-1),It(!1),window.requestAnimationFrame(()=>{var Q;return(Q=it.current)==null?void 0:Q.focus()})},Zo=x=>{const Q=x.key||Yi(x.name);if(!Q)return;const $={...A.current};$[Q]&&(delete $[Q],A.current=$,zE($));const ot=new Set(An.current);ot.add(Q),An.current=ot,kO(Q),It(!1),I(-1),window.requestAnimationFrame(()=>{var dt;return(dt=it.current)==null?void 0:dt.focus()})},Js=async x=>{if(x&&x.preventDefault(),!r){await Wl();return}if(!(n!=null&&n.id))return;const Q=st.trim();if(!Q)return;const $=Yi(Q),ot=o.find(Ct=>Yi(Ct.name)===$);if(ot){await In(ot.id,1),$&&(Bm($),An.current.delete($)),La(ot.name),lt(""),It(!1),I(-1);return}const dt=crypto.randomUUID(),_t={id:dt,name:Q,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Kl(Qn(sn,"lists",n.id,"items",dt),_t),$&&(Bm($),An.current.delete($)),La(Q),lt(""),It(!1),I(-1)},Fr=async x=>{if(!(n!=null&&n.id))return;const Q=o.find(ot=>ot.id===x);if(!Q)return;const $=!Q.isPurchased;await $l(Qn(sn,"lists",n.id,"items",x),{isPurchased:$,purchasedAt:$?Date.now():null})},In=async(x,Q)=>{if(!(n!=null&&n.id))return;if(Q>0){await $l(Qn(sn,"lists",n.id,"items",x),{quantity:yO(Q)});return}const $=o.find(ot=>ot.id===x);$&&await $l(Qn(sn,"lists",n.id,"items",x),{quantity:Math.max(1,$.quantity+Q)})},Cn=async x=>{n!=null&&n.id&&await km(Qn(sn,"lists",n.id,"items",x))},Ii=async x=>{if(!(n!=null&&n.id))return;const Q=Qn(sn,"lists",n.id,"favorites",x);if(Ri.has(x))await km(Q);else{const $=o.find(ot=>ot.id===x);await Kl(Q,{name:($==null?void 0:$.name)||"",createdAt:Date.now()})}},Kn=async x=>{n!=null&&n.id&&await km(Qn(sn,"lists",n.id,"favorites",x))},xn=async()=>{const x=ye.current||(n==null?void 0:n.id);if(!x)return;const Q=Yl(sn,"lists",x,"items"),$=await LE(Q);if($.empty){C(!1);return}const ot=$.docs;let dt=0;for(;dt<ot.length;){const _t=_O(sn),Ct=ot.slice(dt,dt+450);for(const Jt of Ct)_t.delete(Jt.ref);await _t.commit(),dt+=Ct.length}C(!1)},Pi=async()=>{if(!r)return await Wl(),null;if(!(n!=null&&n.id))return null;const x=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),Q=Date.now()+2880*60*1e3;return await $l(Qn(sn,"lists",n.id),{[`pendingInvites.${x}`]:{createdAt:Date.now(),expiresAt:Q}}),wO(n.id,x)},Gr=async()=>{const x=await Pi();if(x){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:" ",text:"   ",url:x});return}}catch{return[]}await bO(x),k(!0),setTimeout(()=>k(!1),2e3)}},Zs=()=>{const x=(n==null?void 0:n.title)||" ",Q=o.filter(Lt=>!Lt.isPurchased),$="",ot="",dt="",_t="",Ct=Q.length>0?Q.map(Lt=>(Lt.quantity||1)<=1?`${$}${Lt.name}${ot}`:`${$}${Lt.name} X ${dt}${Lt.quantity}${_t}${ot}`).join(`
`):`${$}(  )${ot}`,Ot=`${`*${x}:*`}

${Ct}

   `;AO(Ot)},Dn=P.useRef(null),Ln=P.useRef(null),_e=P.useRef(null),[Un,$n]=P.useState({id:null,dx:0,rawDx:0}),Li=60,rr=110,Ws=async x=>{if(!(n!=null&&n.id))return;const Q=Yi(x.name),$=o.find(ot=>!ot.isPurchased&&Yi(ot.name)===Q);if($)await In($.id,1);else{const ot=crypto.randomUUID(),dt={id:ot,name:x.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Kl(Qn(sn,"lists",n.id,"items",ot),dt)}},Ci=x=>Q=>{Br(Q.target)||(Dn.current={x:Q.clientX,y:Q.clientY,id:x,pointerId:Q.pointerId},Ln.current={x:Q.clientX,y:Q.clientY},$n({id:x,dx:0,rawDx:0}))},Ua=x=>Q=>{const $=Dn.current;if(!$||$.id!==x)return;Ln.current={x:Q.clientX,y:Q.clientY};const ot=Q.clientX-$.x,dt=Q.clientY-$.y;if(!_e.current&&Math.abs(ot)>10&&Math.abs(dt)<=Math.abs(ot)*1.2)try{Q.currentTarget.setPointerCapture(Q.pointerId),_e.current={el:Q.currentTarget,pointerId:Q.pointerId}}catch{}if(Math.abs(dt)>Math.abs(ot)*1.6)return;const _t=Math.max(-rr,Math.min(rr,ot));$n({id:x,dx:_t,rawDx:ot})},hi=x=>async Q=>{const $=Dn.current,ot=Ln.current;Dn.current=null;try{_e.current&&$&&_e.current.el.releasePointerCapture($.pointerId)}catch{}if(_e.current=null,Ln.current=null,$n({id:null,dx:0,rawDx:0}),!$||$.id!==x)return;const dt=(ot==null?void 0:ot.x)??Q.clientX,_t=(ot==null?void 0:ot.y)??Q.clientY,Ct=dt-$.x,Jt=_t-$.y;if(Math.abs(Ct)<Li||Math.abs(Jt)>Math.abs(Ct)*1.6)return;const kt=f.find(Ot=>Ot.id===x);Ct>0?kt&&await Ws(kt):(await Kn(x),ut(" "))},ve=()=>{Dn.current=null,Ln.current=null,_e.current=null,$n({id:null,dx:0,rawDx:0})},be=x=>{const Q=Rr(x),$=o.find(dt=>Rr(dt.name)===Q);return $||o.find(dt=>Rr(dt.name).includes(Q)||Q.includes(Rr(dt.name)))||null},fi=async(x,Q)=>{const $=ye.current||(n==null?void 0:n.id);if(!$)return;const ot=Ne.current||o,dt=x.trim();if(!dt)return;const _t=ot.find(kt=>!kt.isPurchased&&Rr(kt.name)===Rr(dt));if(_t){await $l(Qn(sn,"lists",$,"items",_t.id),{quantity:Q});return}const Ct=crypto.randomUUID(),Jt={id:Ct,name:dt,quantity:Q,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Kl(Qn(sn,"lists",$,"items",Ct),Jt)},Ui=x=>/(|||||||||)\s*(\s*)?(\s*)?(\s*)?(|)?/.test(x)||/^(||)$/.test(x)||x.includes("")&&x.includes("")&&(x.includes("")||x.includes(""))||x.includes("")&&(x.includes("")||x.includes("")),di=async x=>{if(!(ye.current||(n==null?void 0:n.id)))return;const $=Rr(x);if(!$)return;if(Ui($)){await xn(),ut(" ");return}if(/^(|||)\s+/.test($)){const Ot=$.replace(/^(|||)\s+/,"").trim(),Lt=be(Ot);if(!Lt){ut("   ");return}await Cn(Lt.id),ut(`: ${Lt.name}`);return}const ot=$.match(/^(||)\s+(.+)\s+(||)$/);if(ot){const Ot=ot[2].trim(),Lt=be(Ot);if(!Lt){ut("   ");return}Lt.isPurchased||await Fr(Lt.id),ut(` : ${Lt.name}`);return}const dt=$.match(/^(||)\s+(.+)$/);if(dt){const Ot=dt[2].trim(),Lt=be(Ot);return Lt?(await In(Lt.id,1),ut(`: ${Lt.name}`)):ut("   ")}const _t=$.match(/^(||)\s+(.+)$/);if(_t){const Ot=_t[2].trim(),Lt=be(Ot);return Lt?(await In(Lt.id,-1),ut(`: ${Lt.name}`)):ut("   ")}const Ct=$.match(/^(|||)(?:\s+)?\s+(.+)$/),Jt=Ct?Ct[2]:$,kt=OO(Jt);if(kt.length!==0){for(const Ot of kt)await fi(Ot.name,Ot.qty);if(kt.length===1){const Ot=kt[0];ut(Ot.qty>1?`: ${Ot.name} x${Ot.qty}`:`: ${Ot.name}`)}else ut(` ${kt.length} `)}},za=()=>{const x=window.SpeechRecognition||window.webkitSpeechRecognition;return x||null},sr=()=>{const x=za();if(!x){alert("    .  Chrome  Edge.");return}if(!r){ut("    "),Wl();return}if(Vt.current=[],Te.current="",re.current=!1,At.current=!0,W(""),Bt(!0),ut("  -   "),Et.current){try{Et.current.stop()}catch{}Et.current=null}const Q=new x;Et.current=Q,Q.lang="he-IL",Q.interimResults=!0,Q.maxAlternatives=1,Q.continuous=!0;const $=3e3,ot=9e4;let dt=!1,_t=Date.now(),Ct=null,Jt=null;const kt=()=>{Ct!=null&&window.clearTimeout(Ct),Jt!=null&&window.clearTimeout(Jt),Ct=null,Jt=null},Ot=()=>{At.current&&dt&&(Ct!=null&&window.clearTimeout(Ct),Ct=window.setTimeout(()=>{if(!At.current)return;Date.now()-_t>=$&&ln()},$+50))};Jt=window.setTimeout(()=>{At.current&&(ut("     - ..."),ln())},ot),Q.onstart=()=>{},Q.onaudiostart=()=>{},Q.onspeechstart=()=>{},Q.onresult=Lt=>{try{let vn="";for(let Yr=Lt.resultIndex;Yr<Lt.results.length;Yr++){const Xn=Lt.results[Yr],mi=Xn==null?void 0:Xn[0],un=BS(String((mi==null?void 0:mi.transcript)||""));un&&(Xn.isFinal?(Vt.current.push(un),Te.current=""):(vn=un,Te.current=un))}const Qr=vn||(Vt.current.length?Vt.current[Vt.current.length-1]:"");Qr&&W(Qr),dt=!0,_t=Date.now(),Ot()}catch{}},Q.onerror=Lt=>{const vn=String((Lt==null?void 0:Lt.error)||"");console.warn("Speech error:",vn,Lt),vn!=="no-speech"&&(kt(),clearVoiceTimers(),Bt(!1),At.current=!1,vn==="not-allowed"||vn==="service-not-allowed"?alert("  .     ."):ut(vn==="audio-capture"?"   (    )":` : ${vn||"unknown"}`))},Q.onend=()=>{if(!At.current){kt();return}Ot(),!re.current&&(re.current=!0,setTimeout(()=>{if(!At.current){re.current=!1,kt();return}try{Q.start()}catch{}finally{re.current=!1}},180))};try{Q.start(),Ot()}catch(Lt){console.error(Lt),kt(),clearVoiceTimers(),Bt(!1),At.current=!1,ut("   ")}},ln=async()=>{var ot,dt;if(!At.current)return;At.current=!1,Bt(!1);try{(dt=(ot=Et.current)==null?void 0:ot.stop)==null||dt.call(ot)}catch{return[]}const x=Vt.current.join(" ").trim(),Q=(Te.current||"").trim(),$=`${x} ${Q}`.replace(/\s+/g," ").trim();if(Vt.current=[],Te.current="",!$){ut("   -  ");return}ut("...");try{await di($)}catch(_t){console.error(_t),ut(`: ${String((_t==null?void 0:_t.message)||_t||"")}`)}};return P.useEffect(()=>()=>{var x,Q;try{At.current=!1,(Q=(x=Et.current)==null?void 0:x.stop)==null||Q.call(x)}catch{}},[]),De?j.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:j.jsx(Rh,{className:"animate-spin text-indigo-600"})}):r?J||!(n!=null&&n.id)?j.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:j.jsx(Rh,{className:"animate-spin text-indigo-600"})}):j.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[j.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-6 py-4 items-center justify-between border-b border-slate-100 relative grid grid-cols-3 items-center",children:[j.jsxs("div",{className:"flex items-center gap-2 justify-start",children:[j.jsx("button",{onClick:()=>C(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ",children:j.jsx(ah,{className:"w-5 h-5"})}),j.jsx("button",{onClick:Gr,className:"p-2 text-slate-400 hover:text-indigo-600",title:" ",children:O?j.jsx(fR,{className:"w-5 h-5 text-emerald-500"}):j.jsx(cT,{className:"w-5 h-5"})})]}),j.jsx("h1",{className:"text-xl font-bold text-indigo-600 leading-none text-center justify-self-center whitespace-nowrap",children:(n==null?void 0:n.title)||" "}),j.jsx("button",{onClick:()=>FI(Dr),className:"justify-self-end w-9 h-9 min-w-0 p-0 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:"",children:j.jsx(pR,{className:"w-4 h-4"})})]}),j.jsx("div",{className:"px-5 pt-3",children:j.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[j.jsx("div",{className:"text-[11px] font-black text-slate-400",children:yt?"  -    ":" :    ,  "}),M?j.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[": ",M]}):null,j.jsx("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:': "    " | " " | " "'})]})}),j.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:p==="list"?j.jsxs(j.Fragment,{children:[j.jsxs("form",{onSubmit:Js,className:"relative",children:[j.jsx("input",{ref:it,value:st,onFocus:Rn,onBlur:We,onKeyDown:x=>{if(St){if(x.key==="Escape"){x.preventDefault(),It(!1),I(-1);return}if(x.key==="ArrowDown"){if(x.preventDefault(),Ye.length===0)return;I(Q=>{const $=Q+1;return $>=Ye.length?0:$});return}if(x.key==="ArrowUp"){if(x.preventDefault(),Ye.length===0)return;I(Q=>{const $=Q-1;return $<0?Ye.length-1:$});return}if(x.key==="Tab"){if(Ye.length===0)return;x.preventDefault(),Ke(Ye[Math.max(0,bt>=0?bt:0)]);return}if(x.key==="Enter"&&Ye.length>0){x.preventDefault();const Q=bt>=0?bt:0;Ke(Ye[Q]);return}}},onChange:x=>{lt(x.target.value),Rn(),I(-1)},placeholder:"  ?",className:"w-full p-4 pr-12 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),j.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:j.jsx(Qm,{className:"w-6 h-6"})}),St&&st.trim()&&Ye.length>0?j.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 z-50 bg-white border border-slate-200 rounded-2xl shadow-lg overflow-hidden",dir:"rtl",onMouseDown:x=>{x.preventDefault()},onPointerDown:x=>{x.preventDefault()},children:Ye.map((x,Q)=>j.jsxs("div",{className:"w-full flex items-stretch justify-between gap-2 hover:bg-slate-50 transition-colors "+(Q===bt?"bg-slate-100":""),children:[j.jsxs("button",{type:"button",className:"flex-1 text-right px-4 py-3 flex items-center justify-between",onPointerDown:$=>{$.preventDefault(),Ke(x)},title:"",children:[j.jsx("span",{className:"font-semibold text-slate-700",children:x.name}),x.isInList?j.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:["",typeof x.currentQty=="number"?` (${x.currentQty})`:""]}):j.jsx("span",{className:"text-xs text-slate-400",children:"Tab"})]}),x.canHide?j.jsx("button",{type:"button",className:"px-3 text-slate-400 hover:text-slate-700",onPointerDown:$=>{$.preventDefault(),$.stopPropagation(),Zo(x)},title:" ","aria-label":" ",children:""}):null]},x.key+"-"+Q))}):null]}),o.length===0?j.jsxs("div",{className:"text-center py-20 opacity-20",children:[j.jsx(ER,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),j.jsx("p",{className:"text-lg font-bold",children:" "})]}):j.jsx("div",{className:"space-y-4",children:j.jsxs("div",{className:"space-y-3",children:[Pa.map(x=>j.jsxs("div",{className:"relative overflow-hidden flex items-center justify-between p-3 bg-white rounded-2xl border border-slate-100 shadow-sm select-none",dir:"rtl",onPointerDown:qr(x.id),onPointerMove:nr(x.id),onPointerUp:Hr(x.id),onPointerCancel:ka,onTouchStart:Jo(x.id),onTouchMove:Xs(x.id),onTouchEnd:Qe(x.id),style:{touchAction:"pan-y"},children:[j.jsx("div",{className:`absolute inset-0 ${ge.id===x.id?ge.dx>0?"bg-emerald-50":ge.dx<0?"bg-rose-50":"bg-transparent":"bg-transparent"}`,style:{opacity:ge.id===x.id?Math.min(1,Math.abs(ge.dx)/er):0}}),j.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full",style:{transform:ge.id===x.id?`translateX(${ge.dx}px)`:void 0,transition:ge.id===x.id?"none":"transform 120ms ease-out"},children:[j.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>{Pn.current||Fr(x.id)},children:x.name}),j.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100","data-noswipe":"true",children:[j.jsx("button",{onClick:()=>In(x.id,-1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:j.jsx(vR,{className:"w-3 h-3"})}),j.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:x.quantity}),j.jsx("button",{onClick:()=>In(x.id,1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:j.jsx(Qm,{className:"w-3 h-3"})})]})]}),ge.id===x.id&&ge.dx>12?j.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center text-emerald-600 pointer-events-none",children:j.jsx(sh,{className:"w-5 h-5 fill-emerald-600"})}):null,ge.id===x.id&&ge.dx<-12?j.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center text-rose-600 pointer-events-none",children:j.jsx(ah,{className:"w-5 h-5"})}):null]},x.id)),ir.length>0?j.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[j.jsxs("h3",{className:"text-lg font-bold text-slate-700 text-right mb-2",children:[" (",ir.length,")"]}),ir.map(x=>j.jsx("div",{className:"flex items-center justify-between p-3 bg-slate-100/50 rounded-2xl opacity-60 grayscale transition-all",dir:"rtl",children:j.jsxs("div",{className:"flex items-center justify-between w-full",children:[j.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-start cursor-pointer",onClick:()=>Fr(x.id),style:{direction:"rtl",unicodeBidi:"plaintext"},children:[j.jsx(mR,{className:"w-6 h-6 text-emerald-500 flex-shrink-0"}),j.jsx("span",{className:"text-base font-bold text-slate-500 line-through truncate text-left",children:j.jsxs("span",{className:"flex gap-1",children:[j.jsx("span",{children:x.name}),(x.quantity||1)>1&&j.jsxs(j.Fragment,{children:[j.jsx("span",{children:"x"}),j.jsx("span",{children:x.quantity})]})]})})]}),j.jsx("button",{onClick:()=>Cn(x.id),className:"p-2 text-slate-300",title:"",children:j.jsx(ah,{className:"w-4 h-4"})})]})},x.id))]}):null]})})]}):j.jsxs("div",{className:"space-y-6",children:[j.jsxs("div",{className:"text-right",children:[j.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),j.jsx("p",{className:"text-sm text-slate-400 font-bold",children:j.jsx("span",{className:"font-semibold",children:"  "})})]}),f.length===0?j.jsxs("div",{className:"text-center py-20 opacity-20",children:[j.jsx(sh,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),j.jsx("p",{className:"font-bold",children:"  "})]}):j.jsx("div",{className:"grid grid-cols-1 gap-3",children:f.map(x=>j.jsxs("div",{className:"relative overflow-hidden rounded-2xl select-none",dir:"ltr",onPointerDown:Ci(x.id),onPointerMove:Ua(x.id),onPointerUp:hi(x.id),onPointerCancel:ve,style:{touchAction:"pan-y"},children:[j.jsx("div",{className:`absolute inset-0 ${Un.id===x.id?Un.rawDx>0?"bg-emerald-50":Un.rawDx<0?"bg-rose-50":"bg-transparent":"bg-transparent"}`,style:{opacity:Un.id===x.id?Math.min(1,Math.abs(Un.rawDx)/rr):0}}),j.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 pointer-events-none",children:[j.jsx("div",{className:"flex items-center gap-2 text-emerald-600",children:j.jsx(SO,{className:"w-6 h-6"})}),j.jsx("div",{className:"flex items-center gap-2 text-rose-600",children:j.jsx(ah,{className:"w-5 h-5"})})]}),j.jsxs("div",{className:"relative z-10 flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-100 shadow-sm",style:{transform:Un.id===x.id?`translateX(${Un.dx}px)`:void 0,transition:Un.id===x.id?"none":"transform 160ms ease-out"},children:[j.jsx("div",{className:"flex items-center gap-2"}),j.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate px-3 text-base",style:{direction:"rtl",unicodeBidi:"plaintext"},children:x.name}),j.jsx(sh,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]})]},x.id))})]})}),j.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:j.jsx("div",{className:"max-w-md mx-auto px-4 pb-3",children:j.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:j.jsxs("div",{className:"relative grid grid-cols-4 items-end px-6 pt-9 pb-3",children:[j.jsxs("button",{onClick:()=>g("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[j.jsx(sh,{className:`w-7 h-7 ${p==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),""]}),j.jsxs("button",{onClick:Zs,className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-400 hover:text-emerald-600 active:scale-95 transition-transform",title:"  ",children:[j.jsx(gR,{className:"w-7 h-7"}),""]}),j.jsxs("button",{onClick:()=>T(!0),className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-400 hover:text-indigo-600 active:scale-95 transition-transform",title:" ",children:[j.jsx(hR,{className:"w-7 h-7"}),""]}),j.jsxs("button",{onClick:()=>g("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[j.jsx(lT,{className:"w-7 h-7"}),""]}),j.jsx("button",{onPointerDown:x=>{x.preventDefault(),sr()},onPointerUp:x=>{x.preventDefault(),ln()},onPointerCancel:x=>{x.preventDefault(),ln()},onPointerLeave:x=>{At.current&&(x.preventDefault(),ln())},onTouchStart:x=>{x.preventDefault(),sr()},onTouchEnd:x=>{x.preventDefault(),ln()},onMouseDown:x=>{x.preventDefault(),sr()},onMouseUp:x=>{x.preventDefault(),ln()},style:{touchAction:"none"},className:`absolute left-1/2 -translate-x-1/2 -top-8 w-16 h-16 rounded-full border-4 border-white shadow-xl flex items-center justify-center ${yt?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:yt?"  -   ":"   ",children:yt?j.jsx(yR,{className:"w-7 h-7"}):j.jsx(_R,{className:"w-7 h-7"})})]})})})}),E?j.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:j.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[j.jsxs("div",{className:"text-right",children:[j.jsx("div",{className:"text-lg font-black text-slate-800",children:" "}),j.jsx("div",{className:"text-sm font-bold text-slate-400",children:"    ,   ."})]}),j.jsxs("div",{className:"space-y-3",children:[j.jsx("label",{className:"block text-sm font-black text-slate-700",children:" "}),j.jsx("input",{type:"datetime-local",value:b,onChange:x=>V(x.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-800 font-bold focus:outline-none focus:ring-2 focus:ring-indigo-200"}),j.jsx("label",{className:"block text-sm font-black text-slate-700",children:" ()"}),j.jsx("input",{type:"number",min:5,step:5,value:H,onChange:x=>X(Number(x.target.value)),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-slate-800 font-bold focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),j.jsxs("div",{className:"flex gap-3",children:[j.jsx("button",{onClick:()=>T(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),j.jsx("button",{onClick:G,className:"flex-1 py-3 rounded-2xl font-black bg-indigo-600 text-white active:scale-95 transition-transform",children:" "})]})]})}):null,U?j.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:j.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:j.jsx(dR,{className:"w-5 h-5"})}),j.jsxs("div",{className:"text-right",children:[j.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),j.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),j.jsxs("div",{className:"flex gap-3",children:[j.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),j.jsx("button",{onClick:xn,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null,at?j.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50",children:at}):null]}):j.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:j.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[j.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),j.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),j.jsxs("button",{onClick:async()=>{await Wl()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[j.jsx(uT,{className:"w-4 h-4"}),"  "]})]})})},zO=()=>j.jsx(JA,{children:j.jsxs(RA,{children:[j.jsx(Hm,{path:"/",element:j.jsx(UO,{})}),j.jsx(Hm,{path:"/invite",element:j.jsx(RO,{})})]})}),FS=document.getElementById("root");if(!FS)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",r=>{const t=(r==null?void 0:r.message)||"unknown",n=r==null?void 0:r.error;console.error("WINDOW_ERROR:",t,n),alert("WINDOW_ERROR: "+t)});window.addEventListener("unhandledrejection",r=>{const t=r==null?void 0:r.reason;console.error("UNHANDLED_REJECTION:",t);let n="";try{typeof t=="string"?n=t:t!=null&&t.message?n=t.message:n=JSON.stringify(t)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());xb.createRoot(FS).render(j.jsx(Sb.StrictMode,{children:j.jsx(zO,{})}));
