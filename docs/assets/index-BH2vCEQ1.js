(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Zb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Nm={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function tw(){if(ev)return Pl;ev=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=t,Pl.jsx=n,Pl.jsxs=n,Pl}var nv;function ew(){return nv||(nv=1,Nm.exports=tw()),Nm.exports}var at=ew(),Dm={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function nw(){if(iv)return It;iv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=S&&U[S]||U["@@iterator"],typeof U=="function"?U:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,M={};function tt(U,$,it){this.props=U,this.context=$,this.refs=M,this.updater=it||x}tt.prototype.isReactComponent={},tt.prototype.setState=function(U,$){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,$,"setState")},tt.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function nt(){}nt.prototype=tt.prototype;function W(U,$,it){this.props=U,this.context=$,this.refs=M,this.updater=it||x}var ht=W.prototype=new nt;ht.constructor=W,z(ht,tt.prototype),ht.isPureReactComponent=!0;var Tt=Array.isArray;function _t(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function w(U,$,it){var ct=it.ref;return{$$typeof:i,type:U,key:$,ref:ct!==void 0?ct:null,props:it}}function O(U,$){return w(U.type,$,U.props)}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===i}function P(U){var $={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(it){return $[it]})}var C=/\/+/g;function $t(U,$){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):$.toString(36)}function pe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(_t,_t):(U.status="pending",U.then(function($){U.status==="pending"&&(U.status="fulfilled",U.value=$)},function($){U.status==="pending"&&(U.status="rejected",U.reason=$)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function K(U,$,it,ct,vt){var Ct=typeof U;(Ct==="undefined"||Ct==="boolean")&&(U=null);var Pt=!1;if(U===null)Pt=!0;else switch(Ct){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(U.$$typeof){case i:case t:Pt=!0;break;case v:return Pt=U._init,K(Pt(U._payload),$,it,ct,vt)}}if(Pt)return vt=vt(U),Pt=ct===""?"."+$t(U,0):ct,Tt(vt)?(it="",Pt!=null&&(it=Pt.replace(C,"$&/")+"/"),K(vt,$,it,"",function(li){return li})):vt!=null&&(V(vt)&&(vt=O(vt,it+(vt.key==null||U&&U.key===vt.key?"":(""+vt.key).replace(C,"$&/")+"/")+Pt)),$.push(vt)),1;Pt=0;var Be=ct===""?".":ct+":";if(Tt(U))for(var ae=0;ae<U.length;ae++)ct=U[ae],Ct=Be+$t(ct,ae),Pt+=K(ct,$,it,Ct,vt);else if(ae=b(U),typeof ae=="function")for(U=ae.call(U),ae=0;!(ct=U.next()).done;)ct=ct.value,Ct=Be+$t(ct,ae++),Pt+=K(ct,$,it,Ct,vt);else if(Ct==="object"){if(typeof U.then=="function")return K(pe(U),$,it,ct,vt);throw $=String(U),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function rt(U,$,it){if(U==null)return U;var ct=[],vt=0;return K(U,ct,"","",function(Ct){return $.call(it,Ct,vt++)}),ct}function ft(U){if(U._status===-1){var $=U._result;$=$(),$.then(function(it){(U._status===0||U._status===-1)&&(U._status=1,U._result=it)},function(it){(U._status===0||U._status===-1)&&(U._status=2,U._result=it)}),U._status===-1&&(U._status=0,U._result=$)}if(U._status===1)return U._result.default;throw U._result}var bt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},qt={map:rt,forEach:function(U,$,it){rt(U,function(){$.apply(this,arguments)},it)},count:function(U){var $=0;return rt(U,function(){$++}),$},toArray:function(U){return rt(U,function($){return $})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return It.Activity=T,It.Children=qt,It.Component=tt,It.Fragment=n,It.Profiler=o,It.PureComponent=W,It.StrictMode=s,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,It.__COMPILER_RUNTIME={__proto__:null,c:function(U){return D.H.useMemoCache(U)}},It.cache=function(U){return function(){return U.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(U,$,it){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ct=z({},U.props),vt=U.key;if($!=null)for(Ct in $.key!==void 0&&(vt=""+$.key),$)!R.call($,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&$.ref===void 0||(ct[Ct]=$[Ct]);var Ct=arguments.length-2;if(Ct===1)ct.children=it;else if(1<Ct){for(var Pt=Array(Ct),Be=0;Be<Ct;Be++)Pt[Be]=arguments[Be+2];ct.children=Pt}return w(U.type,vt,ct)},It.createContext=function(U){return U={$$typeof:h,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:u,_context:U},U},It.createElement=function(U,$,it){var ct,vt={},Ct=null;if($!=null)for(ct in $.key!==void 0&&(Ct=""+$.key),$)R.call($,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(vt[ct]=$[ct]);var Pt=arguments.length-2;if(Pt===1)vt.children=it;else if(1<Pt){for(var Be=Array(Pt),ae=0;ae<Pt;ae++)Be[ae]=arguments[ae+2];vt.children=Be}if(U&&U.defaultProps)for(ct in Pt=U.defaultProps,Pt)vt[ct]===void 0&&(vt[ct]=Pt[ct]);return w(U,Ct,vt)},It.createRef=function(){return{current:null}},It.forwardRef=function(U){return{$$typeof:m,render:U}},It.isValidElement=V,It.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:ft}},It.memo=function(U,$){return{$$typeof:g,type:U,compare:$===void 0?null:$}},It.startTransition=function(U){var $=D.T,it={};D.T=it;try{var ct=U(),vt=D.S;vt!==null&&vt(it,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(_t,bt)}catch(Ct){bt(Ct)}finally{$!==null&&it.types!==null&&($.types=it.types),D.T=$}},It.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},It.use=function(U){return D.H.use(U)},It.useActionState=function(U,$,it){return D.H.useActionState(U,$,it)},It.useCallback=function(U,$){return D.H.useCallback(U,$)},It.useContext=function(U){return D.H.useContext(U)},It.useDebugValue=function(){},It.useDeferredValue=function(U,$){return D.H.useDeferredValue(U,$)},It.useEffect=function(U,$){return D.H.useEffect(U,$)},It.useEffectEvent=function(U){return D.H.useEffectEvent(U)},It.useId=function(){return D.H.useId()},It.useImperativeHandle=function(U,$,it){return D.H.useImperativeHandle(U,$,it)},It.useInsertionEffect=function(U,$){return D.H.useInsertionEffect(U,$)},It.useLayoutEffect=function(U,$){return D.H.useLayoutEffect(U,$)},It.useMemo=function(U,$){return D.H.useMemo(U,$)},It.useOptimistic=function(U,$){return D.H.useOptimistic(U,$)},It.useReducer=function(U,$,it){return D.H.useReducer(U,$,it)},It.useRef=function(U){return D.H.useRef(U)},It.useState=function(U){return D.H.useState(U)},It.useSyncExternalStore=function(U,$,it){return D.H.useSyncExternalStore(U,$,it)},It.useTransition=function(){return D.H.useTransition()},It.version="19.2.3",It}var rv;function Vp(){return rv||(rv=1,Dm.exports=nw()),Dm.exports}var G=Vp();const iw=Zb(G);var Mm={exports:{}},kl={},Lm={exports:{}},Vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function rw(){return sv||(sv=1,(function(i){function t(K,rt){var ft=K.length;K.push(rt);t:for(;0<ft;){var bt=ft-1>>>1,qt=K[bt];if(0<o(qt,rt))K[bt]=rt,K[ft]=qt,ft=bt;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var rt=K[0],ft=K.pop();if(ft!==rt){K[0]=ft;t:for(var bt=0,qt=K.length,U=qt>>>1;bt<U;){var $=2*(bt+1)-1,it=K[$],ct=$+1,vt=K[ct];if(0>o(it,ft))ct<qt&&0>o(vt,it)?(K[bt]=vt,K[ct]=ft,bt=ct):(K[bt]=it,K[$]=ft,bt=$);else if(ct<qt&&0>o(vt,ft))K[bt]=vt,K[ct]=ft,bt=ct;else break t}}return rt}function o(K,rt){var ft=K.sortIndex-rt.sortIndex;return ft!==0?ft:K.id-rt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,T=null,S=3,b=!1,x=!1,z=!1,M=!1,tt=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ht(K){for(var rt=n(g);rt!==null;){if(rt.callback===null)s(g);else if(rt.startTime<=K)s(g),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=n(g)}}function Tt(K){if(z=!1,ht(K),!x)if(n(p)!==null)x=!0,_t||(_t=!0,P());else{var rt=n(g);rt!==null&&pe(Tt,rt.startTime-K)}}var _t=!1,D=-1,R=5,w=-1;function O(){return M?!0:!(i.unstable_now()-w<R)}function V(){if(M=!1,_t){var K=i.unstable_now();w=K;var rt=!0;try{t:{x=!1,z&&(z=!1,nt(D),D=-1),b=!0;var ft=S;try{e:{for(ht(K),T=n(p);T!==null&&!(T.expirationTime>K&&O());){var bt=T.callback;if(typeof bt=="function"){T.callback=null,S=T.priorityLevel;var qt=bt(T.expirationTime<=K);if(K=i.unstable_now(),typeof qt=="function"){T.callback=qt,ht(K),rt=!0;break e}T===n(p)&&s(p),ht(K)}else s(p);T=n(p)}if(T!==null)rt=!0;else{var U=n(g);U!==null&&pe(Tt,U.startTime-K),rt=!1}}break t}finally{T=null,S=ft,b=!1}rt=void 0}}finally{rt?P():_t=!1}}}var P;if(typeof W=="function")P=function(){W(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,$t=C.port2;C.port1.onmessage=V,P=function(){$t.postMessage(null)}}else P=function(){tt(V,0)};function pe(K,rt){D=tt(function(){K(i.unstable_now())},rt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(K){switch(S){case 1:case 2:case 3:var rt=3;break;default:rt=S}var ft=S;S=rt;try{return K()}finally{S=ft}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(K,rt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ft=S;S=K;try{return rt()}finally{S=ft}},i.unstable_scheduleCallback=function(K,rt,ft){var bt=i.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?bt+ft:bt):ft=bt,K){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ft+qt,K={id:v++,callback:rt,priorityLevel:K,startTime:ft,expirationTime:qt,sortIndex:-1},ft>bt?(K.sortIndex=ft,t(g,K),n(p)===null&&K===n(g)&&(z?(nt(D),D=-1):z=!0,pe(Tt,ft-bt))):(K.sortIndex=qt,t(p,K),x||b||(x=!0,_t||(_t=!0,P()))),K},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(K){var rt=S;return function(){var ft=S;S=rt;try{return K.apply(this,arguments)}finally{S=ft}}}})(Vm)),Vm}var av;function sw(){return av||(av=1,Lm.exports=rw()),Lm.exports}var Um={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function aw(){if(ov)return Ze;ov=1;var i=Vp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},Ze.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},Ze.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Ze.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ze.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:b}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ze.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Ze.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ze.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Ze.requestFormReset=function(p){s.d.r(p)},Ze.unstable_batchedUpdates=function(p,g){return p(g)},Ze.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},Ze.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ze.version="19.2.3",Ze}var lv;function ow(){if(lv)return Um.exports;lv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Um.exports=aw(),Um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function lw(){if(uv)return kl;uv=1;var i=sw(),t=Vp(),n=ow();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var y=!1,A=f.child;A;){if(A===a){y=!0,a=f,l=d;break}if(A===l){y=!0,l=f,a=d;break}A=A.sibling}if(!y){for(A=d.child;A;){if(A===a){y=!0,a=d,l=f;break}if(A===l){y=!0,l=d,a=f;break}A=A.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function v(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=v(e),r!==null)return r;e=e.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function $t(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case tt:return"Profiler";case M:return"StrictMode";case Tt:return"Suspense";case _t:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case W:return e.displayName||"Context";case nt:return(e._context.displayName||"Context")+".Consumer";case ht:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return r=e.displayName||null,r!==null?r:$t(e.type)||"Memo";case R:r=e._payload,e=e._init;try{return $t(e(r))}catch{}}return null}var pe=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},bt=[],qt=-1;function U(e){return{current:e}}function $(e){0>qt||(e.current=bt[qt],bt[qt]=null,qt--)}function it(e,r){qt++,bt[qt]=e.current,e.current=r}var ct=U(null),vt=U(null),Ct=U(null),Pt=U(null);function Be(e,r){switch(it(Ct,r),it(vt,e),it(ct,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?IE(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=IE(r),e=RE(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(ct),it(ct,e)}function ae(){$(ct),$(vt),$(Ct)}function li(e){e.memoizedState!==null&&it(Pt,e);var r=ct.current,a=RE(r,e.type);r!==a&&(it(vt,e),it(ct,a))}function Ci(e){vt.current===e&&($(ct),$(vt)),Pt.current===e&&($(Pt),Ll._currentValue=ft)}var bs,ga;function Wn(e){if(bs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);bs=r&&r[1]||"",ga=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bs+e+ga}var ws=!1;function _a(e,r){if(!e||ws)return"";ws=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var F=q}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(q){F=q}e.call(Z.prototype)}}else{try{throw Error()}catch(q){F=q}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&F&&typeof q.stack=="string")return[q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],A=d[1];if(y&&A){var N=y.split(`
`),j=A.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===j.length)for(l=N.length-1,f=j.length-1;1<=l&&0<=f&&N[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==j[f]){var Q=`
`+N[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=f);break}}}finally{ws=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Wn(a):""}function wf(e,r){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==r&&r!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return _a(e.type,!1);case 11:return _a(e.type.render,!1);case 1:return _a(e.type,!0);case 31:return Wn("Activity");default:return""}}function bu(e){try{var r="",a=null;do r+=wf(e,a),a=e,e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ya=Object.prototype.hasOwnProperty,Cs=i.unstable_scheduleCallback,Ea=i.unstable_cancelCallback,Cf=i.unstable_shouldYield,xo=i.unstable_requestPaint,ze=i.unstable_now,wu=i.unstable_getCurrentPriorityLevel,Oe=i.unstable_ImmediatePriority,Me=i.unstable_UserBlockingPriority,Oi=i.unstable_NormalPriority,Cu=i.unstable_LowPriority,Po=i.unstable_IdlePriority,Of=i.log,Os=i.unstable_setDisableYieldValue,dr=null,Je=null;function xn(e){if(typeof Of=="function"&&Os(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(dr,e)}catch{}}var sn=Math.clz32?Math.clz32:Ou,Nf=Math.log,ko=Math.LN2;function Ou(e){return e>>>=0,e===0?32:31-(Nf(e)/ko|0)|0}var Ns=256,ui=262144,mr=4194304;function Zn(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pn(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=Zn(l):(y&=A,y!==0?f=Zn(y):a||(a=A&~e,a!==0&&(f=Zn(a))))):(A=l&~d,A!==0?f=Zn(A):y!==0?f=Zn(y):a||(a=l&~e,a!==0&&(f=Zn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function pr(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function va(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var e=mr;return mr<<=1,(mr&62914560)===0&&(mr=4194304),e}function Ni(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function gr(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function He(e,r,a,l,f,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,N=e.expirationTimes,j=e.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-sn(a),Z=1<<Q;A[Q]=0,N[Q]=-1;var F=j[Q];if(F!==null)for(j[Q]=null,Q=0;Q<F.length;Q++){var q=F[Q];q!==null&&(q.lane&=-536870913)}a&=~Z}l!==0&&zo(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~r))}function zo(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-sn(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function _r(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-sn(a),f=1<<l;f&r|e[l]&r&&(e[l]|=r),a&=~f}}function yr(e,r){var a=r&-r;return a=(a&42)!==0?1:Ho(a),(a&(e.suspendedLanes|r))!==0?0:a}function Ho(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function jo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Di(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:QE(e.type))}function Nu(e,r){var a=rt.p;try{return rt.p=e,r()}finally{rt.p=a}}var ci=Math.random().toString(36).slice(2),ce="__reactFiber$"+ci,je="__reactProps$"+ci,hi="__reactContainer$"+ci,Er="__reactEvents$"+ci,fi="__reactListeners$"+ci,Du="__reactHandles$"+ci,Fo="__reactResources$"+ci,Mi="__reactMarker$"+ci;function Ds(e){delete e[ce],delete e[je],delete e[Er],delete e[fi],delete e[Du]}function Li(e){var r=e[ce];if(r)return r;for(var a=e.parentNode;a;){if(r=a[hi]||a[ce]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=ME(e);e!==null;){if(a=e[ce])return a;e=ME(e)}return r}e=a,a=e.parentNode}return null}function Vi(e){if(e=e[ce]||e[hi]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function Ms(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function ti(e){var r=e[Fo];return r||(r=e[Fo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ge(e){e[Mi]=!0}var Ta=new Set,vr={};function an(e,r){di(e,r),di(e+"Capture",r)}function di(e,r){for(vr[e]=r,e=0;e<r.length;e++)Ta.add(r[e])}var Df=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},qo={};function Mu(e){return ya.call(qo,e)?!0:ya.call(Go,e)?!1:Df.test(e)?qo[e]=!0:(Go[e]=!0,!1)}function Tr(e,r,a){if(Mu(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Ar(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function kn(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}function on(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lu(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Mf(e,r,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Aa(e){if(!e._valueTracker){var r=Lu(e)?"checked":"value";e._valueTracker=Mf(e,r,""+e[r])}}function Yo(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=Lu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function Sa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ui=/[\n"\\]/g;function he(e){return e.replace(Ui,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Sr(e,r,a,l,f,d,y,A){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),r!=null?y==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+on(r)):e.value!==""+on(r)&&(e.value=""+on(r)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),r!=null?Ia(e,y,on(r)):a!=null?Ia(e,y,on(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+on(A):e.removeAttribute("name")}function Ls(e,r,a,l,f,d,y,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Aa(e);return}a=a!=null?""+on(a):"",r=r!=null?""+on(r):a,A||r===e.value||(e.value=r),e.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Aa(e)}function Ia(e,r,a){r==="number"&&Sa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ht(e,r,a,l){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+on(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function Vs(e,r,a){if(r!=null&&(r=""+on(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+on(a):""}function Ir(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=on(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Aa(e)}function Bn(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Lf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ko(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||Lf.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Vu(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Ko(e,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Ko(e,d,r[d])}function Qo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mi(e){return Uf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Le(){}var Ra=null;function ba(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xi=null,An=null;function Uu(e){var r=Vi(e);if(r&&(e=r.stateNode)){var a=e[je]||null;t:switch(e=r.stateNode,r.type){case"input":if(Sr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+he(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var f=l[je]||null;if(!f)throw Error(s(90));Sr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&Yo(l)}break t;case"textarea":Vs(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Ht(e,!!a.multiple,r,!1)}}}var $o=!1;function xu(e,r,a){if($o)return e(r,a);$o=!0;try{var l=e(r);return l}finally{if($o=!1,(xi!==null||An!==null)&&(Mc(),xi&&(r=xi,e=An,An=xi=null,Uu(r),e)))for(r=0;r<e.length;r++)Uu(e[r])}}function mn(e,r){var a=e.stateNode;if(a===null)return null;var l=a[je]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xo=!1;if(ei)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{Xo=!1}var Sn=null,wa=null,gi=null;function Rr(){if(gi)return gi;var e,r=wa,a=r.length,l,f="value"in Sn?Sn.value:Sn.textContent,d=f.length;for(e=0;e<a&&r[e]===f[e];e++);var y=a-e;for(l=1;l<=y&&r[a-l]===f[d-l];l++);return gi=f.slice(e,1<l?1-l:void 0)}function Us(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function br(){return!0}function ee(){return!1}function We(e){function r(a,l,f,d,y){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?br:ee,this.isPropagationStopped=ee,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),r}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xs=We(Pi),wr=T({},Pi,{view:0,detail:0}),Pu=We(wr),Cr,Ca,ln,Ps=T({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&e.type==="mousemove"?(Cr=e.screenX-ln.screenX,Ca=e.screenY-ln.screenY):Ca=Cr=0,ln=e),Cr)},movementY:function(e){return"movementY"in e?e.movementY:Ca}}),ku=We(Ps),ks=T({},Ps,{dataTransfer:0}),Bu=We(ks),Jo=T({},wr,{relatedTarget:0}),Or=We(Jo),zu=T({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=We(zu),xf=T({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hu=We(xf),Bs=T({},Pi,{data:0}),Wo=We(Bs),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=tl[e])?!!r[e]:!1}function Nr(){return Fu}var Gu=T({},wr,{key:function(e){if(e.key){var r=ju[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(e){return e.type==="keypress"?Us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qu=We(Gu),ki=T({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=We(ki),Yu=T({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),Ku=We(Yu),Qu=T({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Na=We(Qu),un=T({},Ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$u=We(un),Xu=T({},Pi,{newState:0,oldState:0}),Dr=We(Xu),c=[9,13,27,32],_=ei&&"CompositionEvent"in window,E=null;ei&&"documentMode"in document&&(E=document.documentMode);var I=ei&&"TextEvent"in window&&!E,B=ei&&(!_||E&&8<E&&11>=E),Y=" ",st=!1;function Yt(e,r){switch(e){case"keyup":return c.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ot=!1;function Ve(e,r){switch(e){case"compositionend":return ve(r);case"keypress":return r.which!==32?null:(st=!0,Y);case"textInput":return e=r.data,e===Y&&st?null:e;default:return null}}function Ue(e,r){if(Ot)return e==="compositionend"||!_&&Yt(e,r)?(e=Rr(),gi=wa=Sn=null,Ot=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return B&&r.locale!=="ko"?null:r.data;default:return null}}var Mr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Mr[e.type]:r==="textarea"}function zs(e,r,a,l){xi?An?An.push(l):An=[l]:xi=l,r=Bc(r,"onChange"),0<r.length&&(a=new xs("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var Bi=null,nl=null;function bR(e){yE(e,0)}function Ju(e){var r=Ms(e);if(Yo(r))return e}function Pg(e,r){if(e==="change")return r}var kg=!1;if(ei){var Pf;if(ei){var kf="oninput"in document;if(!kf){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),kf=typeof Bg.oninput=="function"}Pf=kf}else Pf=!1;kg=Pf&&(!document.documentMode||9<document.documentMode)}function zg(){Bi&&(Bi.detachEvent("onpropertychange",Hg),nl=Bi=null)}function Hg(e){if(e.propertyName==="value"&&Ju(nl)){var r=[];zs(r,nl,e,ba(e)),xu(bR,r)}}function wR(e,r,a){e==="focusin"?(zg(),Bi=r,nl=a,Bi.attachEvent("onpropertychange",Hg)):e==="focusout"&&zg()}function CR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ju(nl)}function OR(e,r){if(e==="click")return Ju(r)}function NR(e,r){if(e==="input"||e==="change")return Ju(r)}function DR(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var In=typeof Object.is=="function"?Object.is:DR;function il(e,r){if(In(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ya.call(r,f)||!In(e[f],r[f]))return!1}return!0}function jg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fg(e,r){var a=jg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=jg(a)}}function Gg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Gg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function qg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Sa(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Sa(e.document)}return r}function Bf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var MR=ei&&"documentMode"in document&&11>=document.documentMode,Da=null,zf=null,rl=null,Hf=!1;function Yg(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hf||Da==null||Da!==Sa(l)||(l=Da,"selectionStart"in l&&Bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Bc(zf,"onSelect"),0<l.length&&(r=new xs("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Da)))}function Hs(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Ma={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},jf={},Kg={};ei&&(Kg=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function js(e){if(jf[e])return jf[e];if(!Ma[e])return e;var r=Ma[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Kg)return jf[e]=r[a];return e}var Qg=js("animationend"),$g=js("animationiteration"),Xg=js("animationstart"),LR=js("transitionrun"),VR=js("transitionstart"),UR=js("transitioncancel"),Jg=js("transitionend"),Wg=new Map,Ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ff.push("scrollEnd");function ni(e,r){Wg.set(e,r),an(r,[e])}var Wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],La=0,Gf=0;function Zu(){for(var e=La,r=Gf=La=0;r<e;){var a=zn[r];zn[r++]=null;var l=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var d=zn[r];if(zn[r++]=null,l!==null&&f!==null){var y=l.pending;y===null?f.next=f:(f.next=y.next,y.next=f),l.pending=f}d!==0&&Zg(a,f,d)}}function tc(e,r,a,l){zn[La++]=e,zn[La++]=r,zn[La++]=a,zn[La++]=l,Gf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function qf(e,r,a,l){return tc(e,r,a,l),ec(e)}function Fs(e,r){return tc(e,null,null,r),ec(e)}function Zg(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-sn(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function ec(e){if(50<bl)throw bl=0,tm=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Va={};function xR(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,r,a,l){return new xR(e,r,a,l)}function Yf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,r){var a=e.alternate;return a===null?(a=Rn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function t_(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function nc(e,r,a,l,f,d){var y=0;if(l=e,typeof e=="function")Yf(e)&&(y=1);else if(typeof e=="string")y=Hb(e,a,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=Rn(31,a,r,f),e.elementType=w,e.lanes=d,e;case z:return Gs(a.children,f,d,r);case M:y=8,f|=24;break;case tt:return e=Rn(12,a,r,f|2),e.elementType=tt,e.lanes=d,e;case Tt:return e=Rn(13,a,r,f),e.elementType=Tt,e.lanes=d,e;case _t:return e=Rn(19,a,r,f),e.elementType=_t,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:y=10;break t;case nt:y=9;break t;case ht:y=11;break t;case D:y=14;break t;case R:y=16,l=null;break t}y=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=Rn(y,a,r,f),r.elementType=e,r.type=l,r.lanes=d,r}function Gs(e,r,a,l){return e=Rn(7,e,l,r),e.lanes=a,e}function Kf(e,r,a){return e=Rn(6,e,null,r),e.lanes=a,e}function e_(e){var r=Rn(18,null,null,0);return r.stateNode=e,r}function Qf(e,r,a){return r=Rn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var n_=new WeakMap;function Hn(e,r){if(typeof e=="object"&&e!==null){var a=n_.get(e);return a!==void 0?a:(r={value:e,source:r,stack:bu(r)},n_.set(e,r),r)}return{value:e,source:r,stack:bu(r)}}var Ua=[],xa=0,ic=null,sl=0,jn=[],Fn=0,Lr=null,_i=1,yi="";function Hi(e,r){Ua[xa++]=sl,Ua[xa++]=ic,ic=e,sl=r}function i_(e,r,a){jn[Fn++]=_i,jn[Fn++]=yi,jn[Fn++]=Lr,Lr=e;var l=_i;e=yi;var f=32-sn(l)-1;l&=~(1<<f),a+=1;var d=32-sn(r)+f;if(30<d){var y=f-f%5;d=(l&(1<<y)-1).toString(32),l>>=y,f-=y,_i=1<<32-sn(r)+f|a<<f|l,yi=d+e}else _i=1<<d|a<<f|l,yi=e}function $f(e){e.return!==null&&(Hi(e,1),i_(e,1,0))}function Xf(e){for(;e===ic;)ic=Ua[--xa],Ua[xa]=null,sl=Ua[--xa],Ua[xa]=null;for(;e===Lr;)Lr=jn[--Fn],jn[Fn]=null,yi=jn[--Fn],jn[Fn]=null,_i=jn[--Fn],jn[Fn]=null}function r_(e,r){jn[Fn++]=_i,jn[Fn++]=yi,jn[Fn++]=Lr,_i=r.id,yi=r.overflow,Lr=e}var Fe=null,ne=null,kt=!1,Vr=null,Gn=!1,Jf=Error(s(519));function Ur(e){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(Hn(r,e)),Jf}function s_(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[ce]=e,r[je]=l,a){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Mt(Cl[a],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),Ls(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),Ir(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||AE(r.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),l.onScroll!=null&&Mt("scroll",r),l.onScrollEnd!=null&&Mt("scrollend",r),l.onClick!=null&&(r.onclick=Le),r=!0):r=!1,r||Ur(e,!0)}function a_(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Fe=Fe.return}}function Pa(e){if(e!==Fe)return!1;if(!kt)return a_(e),kt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pm(e.type,e.memoizedProps)),a=!a),a&&ne&&Ur(e),a_(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=DE(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=DE(e)}else r===27?(r=ne,$r(e.type)?(e=vm,vm=null,ne=e):ne=r):ne=Fe?Yn(e.stateNode.nextSibling):null;return!0}function qs(){ne=Fe=null,kt=!1}function Wf(){var e=Vr;return e!==null&&(En===null?En=e:En.push.apply(En,e),Vr=null),e}function al(e){Vr===null?Vr=[e]:Vr.push(e)}var Zf=U(null),Ys=null,ji=null;function xr(e,r,a){it(Zf,r._currentValue),r._currentValue=a}function Fi(e){e._currentValue=Zf.current,$(Zf)}function td(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function ed(e,r,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var y=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var N=0;N<r.length;N++)if(A.context===r[N]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),td(d.return,a,e),l||(y=null);break t}d=A.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),td(y,a,e),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===e){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function ka(e,r,a,l){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var A=f.type;In(f.pendingProps.value,y.value)||(e!==null?e.push(A):e=[A])}}else if(f===Pt.current){if(y=f.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ll):e=[Ll])}f=f.return}e!==null&&ed(r,e,a,l),r.flags|=262144}function rc(e){for(e=e.firstContext;e!==null;){if(!In(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ks(e){Ys=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return o_(Ys,e)}function sc(e,r){return Ys===null&&Ks(e),o_(e,r)}function o_(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ji===null){if(e===null)throw Error(s(308));ji=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else ji=ji.next=r;return a}var PR=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},kR=i.unstable_scheduleCallback,BR=i.unstable_NormalPriority,Te={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nd(){return{controller:new PR,data:new Map,refCount:0}}function ol(e){e.refCount--,e.refCount===0&&kR(BR,function(){e.controller.abort()})}var ll=null,id=0,Ba=0,za=null;function zR(e,r){if(ll===null){var a=ll=[];id=0,Ba=am(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return id++,r.then(l_,l_),r}function l_(){if(--id===0&&ll!==null){za!==null&&(za.status="fulfilled");var e=ll;ll=null,Ba=0,za=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function HR(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var u_=K.S;K.S=function(e,r){Yy=ze(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&zR(e,r),u_!==null&&u_(e,r)};var Qs=U(null);function rd(){var e=Qs.current;return e!==null?e:te.pooledCache}function ac(e,r){r===null?it(Qs,Qs.current):it(Qs,r.pool)}function c_(){var e=rd();return e===null?null:{parent:Te._currentValue,pool:e}}var Ha=Error(s(460)),sd=Error(s(474)),oc=Error(s(542)),lc={then:function(){}};function h_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function f_(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(Le,Le),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,m_(e),e;default:if(typeof r.status=="string")r.then(Le,Le);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,m_(e),e}throw Xs=r,Ha}}function $s(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xs=a,Ha):a}}var Xs=null;function d_(){if(Xs===null)throw Error(s(459));var e=Xs;return Xs=null,e}function m_(e){if(e===Ha||e===oc)throw Error(s(483))}var ja=null,ul=0;function uc(e){var r=ul;return ul+=1,ja===null&&(ja=[]),f_(ja,e,r)}function cl(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function cc(e,r){throw r.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function p_(e){function r(k,L){if(e){var H=k.deletions;H===null?(k.deletions=[L],k.flags|=16):H.push(L)}}function a(k,L){if(!e)return null;for(;L!==null;)r(k,L),L=L.sibling;return null}function l(k){for(var L=new Map;k!==null;)k.key!==null?L.set(k.key,k):L.set(k.index,k),k=k.sibling;return L}function f(k,L){return k=zi(k,L),k.index=0,k.sibling=null,k}function d(k,L,H){return k.index=H,e?(H=k.alternate,H!==null?(H=H.index,H<L?(k.flags|=67108866,L):H):(k.flags|=67108866,L)):(k.flags|=1048576,L)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function A(k,L,H,X){return L===null||L.tag!==6?(L=Kf(H,k.mode,X),L.return=k,L):(L=f(L,H),L.return=k,L)}function N(k,L,H,X){var pt=H.type;return pt===z?Q(k,L,H.props.children,X,H.key):L!==null&&(L.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===R&&$s(pt)===L.type)?(L=f(L,H.props),cl(L,H),L.return=k,L):(L=nc(H.type,H.key,H.props,null,k.mode,X),cl(L,H),L.return=k,L)}function j(k,L,H,X){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Qf(H,k.mode,X),L.return=k,L):(L=f(L,H.children||[]),L.return=k,L)}function Q(k,L,H,X,pt){return L===null||L.tag!==7?(L=Gs(H,k.mode,X,pt),L.return=k,L):(L=f(L,H),L.return=k,L)}function Z(k,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Kf(""+L,k.mode,H),L.return=k,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return H=nc(L.type,L.key,L.props,null,k.mode,H),cl(H,L),H.return=k,H;case x:return L=Qf(L,k.mode,H),L.return=k,L;case R:return L=$s(L),Z(k,L,H)}if(pe(L)||P(L))return L=Gs(L,k.mode,H,null),L.return=k,L;if(typeof L.then=="function")return Z(k,uc(L),H);if(L.$$typeof===W)return Z(k,sc(k,L),H);cc(k,L)}return null}function F(k,L,H,X){var pt=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pt!==null?null:A(k,L,""+H,X);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===pt?N(k,L,H,X):null;case x:return H.key===pt?j(k,L,H,X):null;case R:return H=$s(H),F(k,L,H,X)}if(pe(H)||P(H))return pt!==null?null:Q(k,L,H,X,null);if(typeof H.then=="function")return F(k,L,uc(H),X);if(H.$$typeof===W)return F(k,L,sc(k,H),X);cc(k,H)}return null}function q(k,L,H,X,pt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(H)||null,A(L,k,""+X,pt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return k=k.get(X.key===null?H:X.key)||null,N(L,k,X,pt);case x:return k=k.get(X.key===null?H:X.key)||null,j(L,k,X,pt);case R:return X=$s(X),q(k,L,H,X,pt)}if(pe(X)||P(X))return k=k.get(H)||null,Q(L,k,X,pt,null);if(typeof X.then=="function")return q(k,L,H,uc(X),pt);if(X.$$typeof===W)return q(k,L,H,sc(L,X),pt);cc(L,X)}return null}function ut(k,L,H,X){for(var pt=null,jt=null,dt=L,wt=L=0,Vt=null;dt!==null&&wt<H.length;wt++){dt.index>wt?(Vt=dt,dt=null):Vt=dt.sibling;var Ft=F(k,dt,H[wt],X);if(Ft===null){dt===null&&(dt=Vt);break}e&&dt&&Ft.alternate===null&&r(k,dt),L=d(Ft,L,wt),jt===null?pt=Ft:jt.sibling=Ft,jt=Ft,dt=Vt}if(wt===H.length)return a(k,dt),kt&&Hi(k,wt),pt;if(dt===null){for(;wt<H.length;wt++)dt=Z(k,H[wt],X),dt!==null&&(L=d(dt,L,wt),jt===null?pt=dt:jt.sibling=dt,jt=dt);return kt&&Hi(k,wt),pt}for(dt=l(dt);wt<H.length;wt++)Vt=q(dt,k,wt,H[wt],X),Vt!==null&&(e&&Vt.alternate!==null&&dt.delete(Vt.key===null?wt:Vt.key),L=d(Vt,L,wt),jt===null?pt=Vt:jt.sibling=Vt,jt=Vt);return e&&dt.forEach(function(ts){return r(k,ts)}),kt&&Hi(k,wt),pt}function yt(k,L,H,X){if(H==null)throw Error(s(151));for(var pt=null,jt=null,dt=L,wt=L=0,Vt=null,Ft=H.next();dt!==null&&!Ft.done;wt++,Ft=H.next()){dt.index>wt?(Vt=dt,dt=null):Vt=dt.sibling;var ts=F(k,dt,Ft.value,X);if(ts===null){dt===null&&(dt=Vt);break}e&&dt&&ts.alternate===null&&r(k,dt),L=d(ts,L,wt),jt===null?pt=ts:jt.sibling=ts,jt=ts,dt=Vt}if(Ft.done)return a(k,dt),kt&&Hi(k,wt),pt;if(dt===null){for(;!Ft.done;wt++,Ft=H.next())Ft=Z(k,Ft.value,X),Ft!==null&&(L=d(Ft,L,wt),jt===null?pt=Ft:jt.sibling=Ft,jt=Ft);return kt&&Hi(k,wt),pt}for(dt=l(dt);!Ft.done;wt++,Ft=H.next())Ft=q(dt,k,wt,Ft.value,X),Ft!==null&&(e&&Ft.alternate!==null&&dt.delete(Ft.key===null?wt:Ft.key),L=d(Ft,L,wt),jt===null?pt=Ft:jt.sibling=Ft,jt=Ft);return e&&dt.forEach(function(Wb){return r(k,Wb)}),kt&&Hi(k,wt),pt}function Wt(k,L,H,X){if(typeof H=="object"&&H!==null&&H.type===z&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:t:{for(var pt=H.key;L!==null;){if(L.key===pt){if(pt=H.type,pt===z){if(L.tag===7){a(k,L.sibling),X=f(L,H.props.children),X.return=k,k=X;break t}}else if(L.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===R&&$s(pt)===L.type){a(k,L.sibling),X=f(L,H.props),cl(X,H),X.return=k,k=X;break t}a(k,L);break}else r(k,L);L=L.sibling}H.type===z?(X=Gs(H.props.children,k.mode,X,H.key),X.return=k,k=X):(X=nc(H.type,H.key,H.props,null,k.mode,X),cl(X,H),X.return=k,k=X)}return y(k);case x:t:{for(pt=H.key;L!==null;){if(L.key===pt)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(k,L.sibling),X=f(L,H.children||[]),X.return=k,k=X;break t}else{a(k,L);break}else r(k,L);L=L.sibling}X=Qf(H,k.mode,X),X.return=k,k=X}return y(k);case R:return H=$s(H),Wt(k,L,H,X)}if(pe(H))return ut(k,L,H,X);if(P(H)){if(pt=P(H),typeof pt!="function")throw Error(s(150));return H=pt.call(H),yt(k,L,H,X)}if(typeof H.then=="function")return Wt(k,L,uc(H),X);if(H.$$typeof===W)return Wt(k,L,sc(k,H),X);cc(k,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(k,L.sibling),X=f(L,H),X.return=k,k=X):(a(k,L),X=Kf(H,k.mode,X),X.return=k,k=X),y(k)):a(k,L)}return function(k,L,H,X){try{ul=0;var pt=Wt(k,L,H,X);return ja=null,pt}catch(dt){if(dt===Ha||dt===oc)throw dt;var jt=Rn(29,dt,null,k.mode);return jt.lanes=X,jt.return=k,jt}finally{}}}var Js=p_(!0),g_=p_(!1),Pr=!1;function ad(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function od(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Br(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ec(e),Zg(e,null,a),r}return tc(e,l,r,a),ec(e)}function hl(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,_r(e,a)}}function ld(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var ud=!1;function fl(){if(ud){var e=za;if(e!==null)throw e}}function dl(e,r,a,l){ud=!1;var f=e.updateQueue;Pr=!1;var d=f.firstBaseUpdate,y=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var N=A,j=N.next;N.next=null,y===null?d=j:y.next=j,y=N;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,A=Q.lastBaseUpdate,A!==y&&(A===null?Q.firstBaseUpdate=j:A.next=j,Q.lastBaseUpdate=N))}if(d!==null){var Z=f.baseState;y=0,Q=j=N=null,A=d;do{var F=A.lane&-536870913,q=F!==A.lane;if(q?(Lt&F)===F:(l&F)===F){F!==0&&F===Ba&&(ud=!0),Q!==null&&(Q=Q.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var ut=e,yt=A;F=r;var Wt=a;switch(yt.tag){case 1:if(ut=yt.payload,typeof ut=="function"){Z=ut.call(Wt,Z,F);break t}Z=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=yt.payload,F=typeof ut=="function"?ut.call(Wt,Z,F):ut,F==null)break t;Z=T({},Z,F);break t;case 2:Pr=!0}}F=A.callback,F!==null&&(e.flags|=64,q&&(e.flags|=8192),q=f.callbacks,q===null?f.callbacks=[F]:q.push(F))}else q={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Q===null?(j=Q=q,N=Z):Q=Q.next=q,y|=F;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;q=A,A=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);Q===null&&(N=Z),f.baseState=N,f.firstBaseUpdate=j,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),Gr|=y,e.lanes=y,e.memoizedState=Z}}function __(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function y_(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)__(a[e],r)}var Fa=U(null),hc=U(0);function E_(e,r){e=Wi,it(hc,e),it(Fa,r),Wi=e|r.baseLanes}function cd(){it(hc,Wi),it(Fa,Fa.current)}function hd(){Wi=hc.current,$(Fa),$(hc)}var bn=U(null),qn=null;function zr(e){var r=e.alternate;it(_e,_e.current&1),it(bn,e),qn===null&&(r===null||Fa.current!==null||r.memoizedState!==null)&&(qn=e)}function fd(e){it(_e,_e.current),it(bn,e),qn===null&&(qn=e)}function v_(e){e.tag===22?(it(_e,_e.current),it(bn,e),qn===null&&(qn=e)):Hr()}function Hr(){it(_e,_e.current),it(bn,bn.current)}function wn(e){$(bn),qn===e&&(qn=null),$(_e)}var _e=U(0);function fc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ym(a)||Em(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Gi=0,Rt=null,Xt=null,Ae=null,dc=!1,Ga=!1,Ws=!1,mc=0,ml=0,qa=null,jR=0;function fe(){throw Error(s(321))}function dd(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!In(e[a],r[a]))return!1;return!0}function md(e,r,a,l,f,d){return Gi=d,Rt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=e===null||e.memoizedState===null?iy:Od,Ws=!1,d=a(l,f),Ws=!1,Ga&&(d=A_(r,a,l,f)),T_(e),d}function T_(e){K.H=_l;var r=Xt!==null&&Xt.next!==null;if(Gi=0,Ae=Xt=Rt=null,dc=!1,ml=0,qa=null,r)throw Error(s(300));e===null||Se||(e=e.dependencies,e!==null&&rc(e)&&(Se=!0))}function A_(e,r,a,l){Rt=e;var f=0;do{if(Ga&&(qa=null),ml=0,Ga=!1,25<=f)throw Error(s(301));if(f+=1,Ae=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=ry,d=r(a,l)}while(Ga);return d}function FR(){var e=K.H,r=e.useState()[0];return r=typeof r.then=="function"?pl(r):r,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(Rt.flags|=1024),r}function pd(){var e=mc!==0;return mc=0,e}function gd(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function _d(e){if(dc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}dc=!1}Gi=0,Ae=Xt=Rt=null,Ga=!1,ml=mc=0,qa=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Rt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ye(){if(Xt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var r=Ae===null?Rt.memoizedState:Ae.next;if(r!==null)Ae=r,Xt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?Rt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(e){var r=ml;return ml+=1,qa===null&&(qa=[]),e=f_(qa,e,r),r=Rt,(Ae===null?r.memoizedState:Ae.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?iy:Od),e}function gc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pl(e);if(e.$$typeof===W)return Ge(e)}throw Error(s(438,String(e)))}function yd(e){var r=null,a=Rt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=pc(),Rt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=O;return r.index++,a}function qi(e,r){return typeof r=="function"?r(e):r}function _c(e){var r=ye();return Ed(r,Xt,e)}function Ed(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var y=f.next;f.next=d.next,d.next=y}r.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var A=y=null,N=null,j=r,Q=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(Lt&Z)===Z:(Gi&Z)===Z){var F=j.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===Ba&&(Q=!0);else if((Gi&F)===F){j=j.next,F===Ba&&(Q=!0);continue}else Z={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(A=N=Z,y=d):N=N.next=Z,Rt.lanes|=F,Gr|=F;Z=j.action,Ws&&a(d,Z),d=j.hasEagerState?j.eagerState:a(d,Z)}else F={lane:Z,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(A=N=F,y=d):N=N.next=F,Rt.lanes|=Z,Gr|=Z;j=j.next}while(j!==null&&j!==r);if(N===null?y=d:N.next=A,!In(d,e.memoizedState)&&(Se=!0,Q&&(a=za,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function vd(e){var r=ye(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var y=f=f.next;do d=e(d,y.action),y=y.next;while(y!==f);In(d,r.memoizedState)||(Se=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function S_(e,r,a){var l=Rt,f=ye(),d=kt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var y=!In((Xt||f).memoizedState,a);if(y&&(f.memoizedState=a,Se=!0),f=f.queue,Sd(b_.bind(null,l,f,e),[e]),f.getSnapshot!==r||y||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Ya(9,{destroy:void 0},R_.bind(null,l,f,a,r),null),te===null)throw Error(s(349));d||(Gi&127)!==0||I_(l,r,a)}return a}function I_(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Rt.updateQueue,r===null?(r=pc(),Rt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function R_(e,r,a,l){r.value=a,r.getSnapshot=l,w_(r)&&C_(e)}function b_(e,r,a){return a(function(){w_(r)&&C_(e)})}function w_(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!In(e,a)}catch{return!0}}function C_(e){var r=Fs(e,2);r!==null&&vn(r,e,2)}function Td(e){var r=cn();if(typeof e=="function"){var a=e;if(e=a(),Ws){xn(!0);try{a()}finally{xn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},r}function O_(e,r,a,l){return e.baseState=a,Ed(e,Xt,typeof l=="function"?l:qi)}function GR(e,r,a,l,f){if(vc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,N_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function N_(e,r){var a=r.action,l=r.payload,f=e.state;if(r.isTransition){var d=K.T,y={};K.T=y;try{var A=a(f,l),N=K.S;N!==null&&N(y,A),D_(e,r,A)}catch(j){Ad(e,r,j)}finally{d!==null&&y.types!==null&&(d.types=y.types),K.T=d}}else try{d=a(f,l),D_(e,r,d)}catch(j){Ad(e,r,j)}}function D_(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){M_(e,r,l)},function(l){return Ad(e,r,l)}):M_(e,r,a)}function M_(e,r,a){r.status="fulfilled",r.value=a,L_(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,N_(e,a)))}function Ad(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,L_(r),r=r.next;while(r!==l)}e.action=null}function L_(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function V_(e,r){return r}function U_(e,r){if(kt){var a=te.formState;if(a!==null){t:{var l=Rt;if(kt){if(ne){e:{for(var f=ne,d=Gn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Yn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ne=Yn(f.nextSibling),l=f.data==="F!";break t}}Ur(l)}l=!1}l&&(r=a[0])}}return a=cn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V_,lastRenderedState:r},a.queue=l,a=ty.bind(null,Rt,l),l.dispatch=a,l=Td(!1),d=Cd.bind(null,Rt,!1,l.queue),l=cn(),f={state:r,dispatch:null,action:e,pending:null},l.queue=f,a=GR.bind(null,Rt,f,d,a),f.dispatch=a,l.memoizedState=e,[r,a,!1]}function x_(e){var r=ye();return P_(r,Xt,e)}function P_(e,r,a){if(r=Ed(e,r,V_)[0],e=_c(qi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=pl(r)}catch(y){throw y===Ha?oc:y}else l=r;r=ye();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Rt.flags|=2048,Ya(9,{destroy:void 0},qR.bind(null,f,a),null)),[l,d,e]}function qR(e,r){e.action=r}function k_(e){var r=ye(),a=Xt;if(a!==null)return P_(r,a,e);ye(),r=r.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function Ya(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=Rt.updateQueue,r===null&&(r=pc(),Rt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function B_(){return ye().memoizedState}function yc(e,r,a,l){var f=cn();Rt.flags|=e,f.memoizedState=Ya(1|r,{destroy:void 0},a,l===void 0?null:l)}function Ec(e,r,a,l){var f=ye();l=l===void 0?null:l;var d=f.memoizedState.inst;Xt!==null&&l!==null&&dd(l,Xt.memoizedState.deps)?f.memoizedState=Ya(r,d,a,l):(Rt.flags|=e,f.memoizedState=Ya(1|r,d,a,l))}function z_(e,r){yc(8390656,8,e,r)}function Sd(e,r){Ec(2048,8,e,r)}function YR(e){Rt.flags|=4;var r=Rt.updateQueue;if(r===null)r=pc(),Rt.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function H_(e){var r=ye().memoizedState;return YR({ref:r,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function j_(e,r){return Ec(4,2,e,r)}function F_(e,r){return Ec(4,4,e,r)}function G_(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function q_(e,r,a){a=a!=null?a.concat([e]):null,Ec(4,4,G_.bind(null,r,e),a)}function Id(){}function Y_(e,r){var a=ye();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&dd(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function K_(e,r){var a=ye();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&dd(r,l[1]))return l[0];if(l=e(),Ws){xn(!0);try{e()}finally{xn(!1)}}return a.memoizedState=[l,r],l}function Rd(e,r,a){return a===void 0||(Gi&1073741824)!==0&&(Lt&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=Qy(),Rt.lanes|=e,Gr|=e,a)}function Q_(e,r,a,l){return In(a,r)?a:Fa.current!==null?(e=Rd(e,a,l),In(e,r)||(Se=!0),e):(Gi&42)===0||(Gi&1073741824)!==0&&(Lt&261930)===0?(Se=!0,e.memoizedState=a):(e=Qy(),Rt.lanes|=e,Gr|=e,r)}function $_(e,r,a,l,f){var d=rt.p;rt.p=d!==0&&8>d?d:8;var y=K.T,A={};K.T=A,Cd(e,!1,r,a);try{var N=f(),j=K.S;if(j!==null&&j(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=HR(N,l);gl(e,r,Q,Nn(e))}else gl(e,r,l,Nn(e))}catch(Z){gl(e,r,{then:function(){},status:"rejected",reason:Z},Nn())}finally{rt.p=d,y!==null&&A.types!==null&&(y.types=A.types),K.T=y}}function KR(){}function bd(e,r,a,l){if(e.tag!==5)throw Error(s(476));var f=X_(e).queue;$_(e,f,r,ft,a===null?KR:function(){return J_(e),a(l)})}function X_(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ft},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function J_(e){var r=X_(e);r.next===null&&(r=e.alternate.memoizedState),gl(e,r.next.queue,{},Nn())}function wd(){return Ge(Ll)}function W_(){return ye().memoizedState}function Z_(){return ye().memoizedState}function QR(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=Nn();e=kr(a);var l=Br(r,e,a);l!==null&&(vn(l,r,a),hl(l,r,a)),r={cache:nd()},e.payload=r;return}r=r.return}}function $R(e,r,a){var l=Nn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vc(e)?ey(r,a):(a=qf(e,r,a,l),a!==null&&(vn(a,e,l),ny(a,r,l)))}function ty(e,r,a){var l=Nn();gl(e,r,a,l)}function gl(e,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(e))ey(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var y=r.lastRenderedState,A=d(y,a);if(f.hasEagerState=!0,f.eagerState=A,In(A,y))return tc(e,r,f,0),te===null&&Zu(),!1}catch{}finally{}if(a=qf(e,r,f,l),a!==null)return vn(a,e,l),ny(a,r,l),!0}return!1}function Cd(e,r,a,l){if(l={lane:2,revertLane:am(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vc(e)){if(r)throw Error(s(479))}else r=qf(e,a,l,2),r!==null&&vn(r,e,2)}function vc(e){var r=e.alternate;return e===Rt||r!==null&&r===Rt}function ey(e,r){Ga=dc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function ny(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,_r(e,a)}}var _l={readContext:Ge,use:gc,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};_l.useEffectEvent=fe;var iy={readContext:Ge,use:gc,useCallback:function(e,r){return cn().memoizedState=[e,r===void 0?null:r],e},useContext:Ge,useEffect:z_,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,yc(4194308,4,G_.bind(null,r,e),a)},useLayoutEffect:function(e,r){return yc(4194308,4,e,r)},useInsertionEffect:function(e,r){yc(4,2,e,r)},useMemo:function(e,r){var a=cn();r=r===void 0?null:r;var l=e();if(Ws){xn(!0);try{e()}finally{xn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=cn();if(a!==void 0){var f=a(r);if(Ws){xn(!0);try{a(r)}finally{xn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=$R.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var r=cn();return e={current:e},r.memoizedState=e},useState:function(e){e=Td(e);var r=e.queue,a=ty.bind(null,Rt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:Id,useDeferredValue:function(e,r){var a=cn();return Rd(a,e,r)},useTransition:function(){var e=Td(!1);return e=$_.bind(null,Rt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=Rt,f=cn();if(kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),te===null)throw Error(s(349));(Lt&127)!==0||I_(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,z_(b_.bind(null,l,d,e),[e]),l.flags|=2048,Ya(9,{destroy:void 0},R_.bind(null,l,d,a,r),null),a},useId:function(){var e=cn(),r=te.identifierPrefix;if(kt){var a=yi,l=_i;a=(l&~(1<<32-sn(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=mc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=jR++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:wd,useFormState:U_,useActionState:U_,useOptimistic:function(e){var r=cn();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Cd.bind(null,Rt,!0,a),a.dispatch=r,[e,r]},useMemoCache:yd,useCacheRefresh:function(){return cn().memoizedState=QR.bind(null,Rt)},useEffectEvent:function(e){var r=cn(),a={impl:e};return r.memoizedState=a,function(){if((Gt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Od={readContext:Ge,use:gc,useCallback:Y_,useContext:Ge,useEffect:Sd,useImperativeHandle:q_,useInsertionEffect:j_,useLayoutEffect:F_,useMemo:K_,useReducer:_c,useRef:B_,useState:function(){return _c(qi)},useDebugValue:Id,useDeferredValue:function(e,r){var a=ye();return Q_(a,Xt.memoizedState,e,r)},useTransition:function(){var e=_c(qi)[0],r=ye().memoizedState;return[typeof e=="boolean"?e:pl(e),r]},useSyncExternalStore:S_,useId:W_,useHostTransitionStatus:wd,useFormState:x_,useActionState:x_,useOptimistic:function(e,r){var a=ye();return O_(a,Xt,e,r)},useMemoCache:yd,useCacheRefresh:Z_};Od.useEffectEvent=H_;var ry={readContext:Ge,use:gc,useCallback:Y_,useContext:Ge,useEffect:Sd,useImperativeHandle:q_,useInsertionEffect:j_,useLayoutEffect:F_,useMemo:K_,useReducer:vd,useRef:B_,useState:function(){return vd(qi)},useDebugValue:Id,useDeferredValue:function(e,r){var a=ye();return Xt===null?Rd(a,e,r):Q_(a,Xt.memoizedState,e,r)},useTransition:function(){var e=vd(qi)[0],r=ye().memoizedState;return[typeof e=="boolean"?e:pl(e),r]},useSyncExternalStore:S_,useId:W_,useHostTransitionStatus:wd,useFormState:k_,useActionState:k_,useOptimistic:function(e,r){var a=ye();return Xt!==null?O_(a,Xt,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:yd,useCacheRefresh:Z_};ry.useEffectEvent=H_;function Nd(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Dd={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=Nn(),f=kr(l);f.payload=r,a!=null&&(f.callback=a),r=Br(e,f,l),r!==null&&(vn(r,e,l),hl(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=Nn(),f=kr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Br(e,f,l),r!==null&&(vn(r,e,l),hl(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=Nn(),l=kr(a);l.tag=2,r!=null&&(l.callback=r),r=Br(e,l,a),r!==null&&(vn(r,e,a),hl(r,e,a))}};function sy(e,r,a,l,f,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):r.prototype&&r.prototype.isPureReactComponent?!il(a,l)||!il(f,d):!0}function ay(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&Dd.enqueueReplaceState(r,r.state,null)}function Zs(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function oy(e){Wu(e)}function ly(e){console.error(e)}function uy(e){Wu(e)}function Tc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function cy(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Md(e,r,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(e,r)},a}function hy(e){return e=kr(e),e.tag=3,e}function fy(e,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){cy(r,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){cy(r,a,l),typeof f!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function XR(e,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ka(r,a,f,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return qn===null?Lc():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===lc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),im(e,l,f)),!1;case 22:return a.flags|=65536,l===lc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),im(e,l,f)),!1}throw Error(s(435,a.tag))}return im(e,l,f),Lc(),!1}if(kt)return r=bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Jf&&(e=Error(s(422),{cause:l}),al(Hn(e,a)))):(l!==Jf&&(r=Error(s(423),{cause:l}),al(Hn(r,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Hn(l,a),f=Md(e.stateNode,l,f),ld(e,f),de!==4&&(de=2)),!1;var d=Error(s(520),{cause:l});if(d=Hn(d,a),Rl===null?Rl=[d]:Rl.push(d),de!==4&&(de=2),r===null)return!0;l=Hn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Md(a.stateNode,l,e),ld(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qr===null||!qr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=hy(f),fy(f,e,a,l),ld(a,f),!1}a=a.return}while(a!==null);return!1}var Ld=Error(s(461)),Se=!1;function qe(e,r,a,l){r.child=e===null?g_(r,null,a,l):Js(r,e.child,a,l)}function dy(e,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var y={};for(var A in l)A!=="ref"&&(y[A]=l[A])}else y=l;return Ks(r),l=md(e,r,a,y,d,f),A=pd(),e!==null&&!Se?(gd(e,r,f),Yi(e,r,f)):(kt&&A&&$f(r),r.flags|=1,qe(e,r,l,f),r.child)}function my(e,r,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!Yf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,py(e,r,d,l,f)):(e=nc(a.type,null,l,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!Hd(e,f)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(y,l)&&e.ref===r.ref)return Yi(e,r,f)}return r.flags|=1,e=zi(d,l),e.ref=r.ref,e.return=r,r.child=e}function py(e,r,a,l,f){if(e!==null){var d=e.memoizedProps;if(il(d,l)&&e.ref===r.ref)if(Se=!1,r.pendingProps=l=d,Hd(e,f))(e.flags&131072)!==0&&(Se=!0);else return r.lanes=e.lanes,Yi(e,r,f)}return Vd(e,r,a,l,f)}function gy(e,r,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=r.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return _y(e,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&ac(r,d!==null?d.cachePool:null),d!==null?E_(r,d):cd(),v_(r);else return l=r.lanes=536870912,_y(e,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ac(r,d.cachePool),E_(r,d),Hr(),r.memoizedState=null):(e!==null&&ac(r,null),cd(),Hr());return qe(e,r,f,a),r.child}function yl(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function _y(e,r,a,l,f){var d=rd();return d=d===null?null:{parent:Te._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},e!==null&&ac(r,null),cd(),v_(r),e!==null&&ka(e,r,l,!0),r.childLanes=f,null}function Ac(e,r){return r=Ic({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function yy(e,r,a){return Js(r,e.child,null,a),e=Ac(r,r.pendingProps),e.flags|=2,wn(r),r.memoizedState=null,e}function JR(e,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(kt){if(l.mode==="hidden")return e=Ac(r,l),r.lanes=536870912,yl(null,e);if(fd(r),(e=ne)?(e=NE(e,Gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Lr!==null?{id:_i,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},a=e_(e),a.return=r,r.child=a,Fe=r,ne=null)):e=null,e===null)throw Ur(r);return r.lanes=536870912,null}return Ac(r,l)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(fd(r),f)if(r.flags&256)r.flags&=-257,r=yy(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(s(558));else if(Se||ka(e,r,a,!1),f=(a&e.childLanes)!==0,Se||f){if(l=te,l!==null&&(y=yr(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,Fs(e,y),vn(l,e,y),Ld;Lc(),r=yy(e,r,a)}else e=d.treeContext,ne=Yn(y.nextSibling),Fe=r,kt=!0,Vr=null,Gn=!1,e!==null&&r_(r,e),r=Ac(r,l),r.flags|=4096;return r}return e=zi(e.child,{mode:l.mode,children:l.children}),e.ref=r.ref,r.child=e,e.return=r,e}function Sc(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function Vd(e,r,a,l,f){return Ks(r),a=md(e,r,a,l,void 0,f),l=pd(),e!==null&&!Se?(gd(e,r,f),Yi(e,r,f)):(kt&&l&&$f(r),r.flags|=1,qe(e,r,a,f),r.child)}function Ey(e,r,a,l,f,d){return Ks(r),r.updateQueue=null,a=A_(r,l,a,f),T_(e),l=pd(),e!==null&&!Se?(gd(e,r,d),Yi(e,r,d)):(kt&&l&&$f(r),r.flags|=1,qe(e,r,a,d),r.child)}function vy(e,r,a,l,f){if(Ks(r),r.stateNode===null){var d=Va,y=a.contextType;typeof y=="object"&&y!==null&&(d=Ge(y)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Dd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},ad(r),y=a.contextType,d.context=typeof y=="object"&&y!==null?Ge(y):Va,d.state=r.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Nd(r,a,y,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Dd.enqueueReplaceState(d,d.state,null),dl(r,l,d,f),fl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var A=r.memoizedProps,N=Zs(a,A);d.props=N;var j=d.context,Q=a.contextType;y=Va,typeof Q=="object"&&Q!==null&&(y=Ge(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||j!==y)&&ay(r,d,l,y),Pr=!1;var F=r.memoizedState;d.state=F,dl(r,l,d,f),fl(),j=r.memoizedState,A||F!==j||Pr?(typeof Z=="function"&&(Nd(r,a,Z,l),j=r.memoizedState),(N=Pr||sy(r,a,N,l,F,j,y))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=y,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,od(e,r),y=r.memoizedProps,Q=Zs(a,y),d.props=Q,Z=r.pendingProps,F=d.context,j=a.contextType,N=Va,typeof j=="object"&&j!==null&&(N=Ge(j)),A=a.getDerivedStateFromProps,(j=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==Z||F!==N)&&ay(r,d,l,N),Pr=!1,F=r.memoizedState,d.state=F,dl(r,l,d,f),fl();var q=r.memoizedState;y!==Z||F!==q||Pr||e!==null&&e.dependencies!==null&&rc(e.dependencies)?(typeof A=="function"&&(Nd(r,a,A,l),q=r.memoizedState),(Q=Pr||sy(r,a,Q,l,F,q,N)||e!==null&&e.dependencies!==null&&rc(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=N,l=Q):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,Sc(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=Js(r,e.child,null,f),r.child=Js(r,null,a,f)):qe(e,r,a,f),r.memoizedState=d.state,e=r.child):e=Yi(e,r,f),e}function Ty(e,r,a,l){return qs(),r.flags|=256,qe(e,r,a,l),r.child}var Ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(e){return{baseLanes:e,cachePool:c_()}}function Pd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=On),e}function Ay(e,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),y&&(f=!0,r.flags&=-129),y=(r.flags&32)!==0,r.flags&=-33,e===null){if(kt){if(f?zr(r):Hr(),(e=ne)?(e=NE(e,Gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Lr!==null?{id:_i,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},a=e_(e),a.return=r,r.child=a,Fe=r,ne=null)):e=null,e===null)throw Ur(r);return Em(e)?r.lanes=32:r.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(Hr(),f=r.mode,A=Ic({mode:"hidden",children:A},f),l=Gs(l,f,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,l=r.child,l.memoizedState=xd(a),l.childLanes=Pd(e,y,a),r.memoizedState=Ud,yl(null,l)):(zr(r),kd(r,A))}var N=e.memoizedState;if(N!==null&&(A=N.dehydrated,A!==null)){if(d)r.flags&256?(zr(r),r.flags&=-257,r=Bd(e,r,a)):r.memoizedState!==null?(Hr(),r.child=e.child,r.flags|=128,r=null):(Hr(),A=l.fallback,f=r.mode,l=Ic({mode:"visible",children:l.children},f),A=Gs(A,f,a,null),A.flags|=2,l.return=r,A.return=r,l.sibling=A,r.child=l,Js(r,e.child,null,a),l=r.child,l.memoizedState=xd(a),l.childLanes=Pd(e,y,a),r.memoizedState=Ud,r=yl(null,l));else if(zr(r),Em(A)){if(y=A.nextSibling&&A.nextSibling.dataset,y)var j=y.dgst;y=j,l=Error(s(419)),l.stack="",l.digest=y,al({value:l,source:null,stack:null}),r=Bd(e,r,a)}else if(Se||ka(e,r,a,!1),y=(a&e.childLanes)!==0,Se||y){if(y=te,y!==null&&(l=yr(y,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Fs(e,l),vn(y,e,l),Ld;ym(A)||Lc(),r=Bd(e,r,a)}else ym(A)?(r.flags|=192,r.child=e.child,r=null):(e=N.treeContext,ne=Yn(A.nextSibling),Fe=r,kt=!0,Vr=null,Gn=!1,e!==null&&r_(r,e),r=kd(r,l.children),r.flags|=4096);return r}return f?(Hr(),A=l.fallback,f=r.mode,N=e.child,j=N.sibling,l=zi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,j!==null?A=zi(j,A):(A=Gs(A,f,a,null),A.flags|=2),A.return=r,l.return=r,l.sibling=A,r.child=l,yl(null,l),l=r.child,A=e.child.memoizedState,A===null?A=xd(a):(f=A.cachePool,f!==null?(N=Te._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=c_(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Pd(e,y,a),r.memoizedState=Ud,yl(e.child,l)):(zr(r),a=e.child,e=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(y=r.deletions,y===null?(r.deletions=[e],r.flags|=16):y.push(e)),r.child=a,r.memoizedState=null,a)}function kd(e,r){return r=Ic({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Ic(e,r){return e=Rn(22,e,null,r),e.lanes=0,e}function Bd(e,r,a){return Js(r,e.child,null,a),e=kd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Sy(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),td(e.return,r,a)}function zd(e,r,a,l,f,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=f,y.treeForkCount=d)}function Iy(e,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var y=_e.current,A=(y&2)!==0;if(A?(y=y&1|2,r.flags|=128):y&=1,it(_e,y),qe(e,r,l,a),l=kt?sl:0,!A&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sy(e,a,r);else if(e.tag===19)Sy(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&fc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),zd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&fc(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}zd(r,!0,a,null,d,l);break;case"together":zd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Yi(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Gr|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(ka(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=zi(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=zi(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Hd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&rc(e)))}function WR(e,r,a){switch(r.tag){case 3:Be(r,r.stateNode.containerInfo),xr(r,Te,e.memoizedState.cache),qs();break;case 27:case 5:li(r);break;case 4:Be(r,r.stateNode.containerInfo);break;case 10:xr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,fd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(zr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Ay(e,r,a):(zr(r),e=Yi(e,r,a),e!==null?e.sibling:null);zr(r);break;case 19:var f=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ka(e,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Iy(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(_e,_e.current),l)break;return null;case 22:return r.lanes=0,gy(e,r,a,r.pendingProps);case 24:xr(r,Te,e.memoizedState.cache)}return Yi(e,r,a)}function Ry(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Se=!0;else{if(!Hd(e,a)&&(r.flags&128)===0)return Se=!1,WR(e,r,a);Se=(e.flags&131072)!==0}else Se=!1,kt&&(r.flags&1048576)!==0&&i_(r,sl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(e=$s(r.elementType),r.type=e,typeof e=="function")Yf(e)?(l=Zs(e,l),r.tag=1,r=vy(null,r,e,l,a)):(r.tag=0,r=Vd(null,r,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===ht){r.tag=11,r=dy(null,r,e,l,a);break t}else if(f===D){r.tag=14,r=my(null,r,e,l,a);break t}}throw r=$t(e)||e,Error(s(306,r,""))}}return r;case 0:return Vd(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Zs(l,r.pendingProps),vy(e,r,l,f,a);case 3:t:{if(Be(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,od(e,r),dl(r,l,null,a);var y=r.memoizedState;if(l=y.cache,xr(r,Te,l),l!==d.cache&&ed(r,[Te],a,!0),fl(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Ty(e,r,l,a);break t}else if(l!==f){f=Hn(Error(s(424)),r),al(f),r=Ty(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=Yn(e.firstChild),Fe=r,kt=!0,Vr=null,Gn=!0,a=g_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qs(),l===f){r=Yi(e,r,a);break t}qe(e,r,l,a)}r=r.child}return r;case 26:return Sc(e,r),e===null?(a=xE(r.type,null,r.pendingProps,null))?r.memoizedState=a:kt||(a=r.type,e=r.pendingProps,l=zc(Ct.current).createElement(a),l[ce]=r,l[je]=e,Ye(l,a,e),ge(l),r.stateNode=l):r.memoizedState=xE(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return li(r),e===null&&kt&&(l=r.stateNode=LE(r.type,r.pendingProps,Ct.current),Fe=r,Gn=!0,f=ne,$r(r.type)?(vm=f,ne=Yn(l.firstChild)):ne=f),qe(e,r,r.pendingProps.children,a),Sc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&kt&&((f=l=ne)&&(l=Cb(l,r.type,r.pendingProps,Gn),l!==null?(r.stateNode=l,Fe=r,ne=Yn(l.firstChild),Gn=!1,f=!0):f=!1),f||Ur(r)),li(r),f=r.type,d=r.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,pm(f,d)?l=null:y!==null&&pm(f,y)&&(r.flags|=32),r.memoizedState!==null&&(f=md(e,r,FR,null,null,a),Ll._currentValue=f),Sc(e,r),qe(e,r,l,a),r.child;case 6:return e===null&&kt&&((e=a=ne)&&(a=Ob(a,r.pendingProps,Gn),a!==null?(r.stateNode=a,Fe=r,ne=null,e=!0):e=!1),e||Ur(r)),null;case 13:return Ay(e,r,a);case 4:return Be(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Js(r,null,l,a):qe(e,r,l,a),r.child;case 11:return dy(e,r,r.type,r.pendingProps,a);case 7:return qe(e,r,r.pendingProps,a),r.child;case 8:return qe(e,r,r.pendingProps.children,a),r.child;case 12:return qe(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,xr(r,r.type,l.value),qe(e,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ks(r),f=Ge(f),l=l(f),r.flags|=1,qe(e,r,l,a),r.child;case 14:return my(e,r,r.type,r.pendingProps,a);case 15:return py(e,r,r.type,r.pendingProps,a);case 19:return Iy(e,r,a);case 31:return JR(e,r,a);case 22:return gy(e,r,a,r.pendingProps);case 24:return Ks(r),l=Ge(Te),e===null?(f=rd(),f===null&&(f=te,d=nd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},ad(r),xr(r,Te,f)):((e.lanes&a)!==0&&(od(e,r),dl(r,null,null,a),fl()),f=e.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),xr(r,Te,l)):(l=d.cache,xr(r,Te,l),l!==f.cache&&ed(r,[Te],a,!0))),qe(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ki(e){e.flags|=4}function jd(e,r,a,l,f){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Wy())e.flags|=8192;else throw Xs=lc,sd}else e.flags&=-16777217}function by(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!HE(r))if(Wy())e.flags|=8192;else throw Xs=lc,sd}function Rc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Bo():536870912,e.lanes|=r,Xa|=r)}function El(e,r){if(!kt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function ZR(e,r,a){var l=r.pendingProps;switch(Xf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(r),null;case 1:return ie(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Fi(Te),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Pa(r)?Ki(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Wf())),ie(r),null;case 26:var f=r.type,d=r.memoizedState;return e===null?(Ki(r),d!==null?(ie(r),by(r,d)):(ie(r),jd(r,f,null,l,a))):d?d!==e.memoizedState?(Ki(r),ie(r),by(r,d)):(ie(r),r.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ki(r),ie(r),jd(r,f,e,l,a)),null;case 27:if(Ci(r),a=Ct.current,f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Ki(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ie(r),null}e=ct.current,Pa(r)?s_(r):(e=LE(f,l,a),r.stateNode=e,Ki(r))}return ie(r),null;case 5:if(Ci(r),f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Ki(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ie(r),null}if(d=ct.current,Pa(r))s_(r);else{var y=zc(Ct.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(f,{is:l.is}):y.createElement(f)}}d[ce]=r,d[je]=l;t:for(y=r.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===r)break t;for(;y.sibling===null;){if(y.return===null||y.return===r)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}r.stateNode=d;t:switch(Ye(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ki(r)}}return ie(r),jd(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&Ki(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=Ct.current,Pa(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,f=Fe,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[ce]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||AE(e.nodeValue,a)),e||Ur(r,!0)}else e=zc(e).createTextNode(l),e[ce]=r,r.stateNode=e}return ie(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(l=Pa(r),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ce]=r}else qs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ie(r),e=!1}else a=Wf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(wn(r),r):(wn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ie(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Pa(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ce]=r}else qs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ie(r),f=!1}else f=Wf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(wn(r),r):(wn(r),null)}return wn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),Rc(r,r.updateQueue),ie(r),null);case 4:return ae(),e===null&&cm(r.stateNode.containerInfo),ie(r),null;case 10:return Fi(r.type),ie(r),null;case 19:if($(_e),l=r.memoizedState,l===null)return ie(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)El(l,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=fc(e),d!==null){for(r.flags|=128,El(l,!1),e=d.updateQueue,r.updateQueue=e,Rc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)t_(a,e),a=a.sibling;return it(_e,_e.current&1|2),kt&&Hi(r,l.treeForkCount),r.child}e=e.sibling}l.tail!==null&&ze()>Nc&&(r.flags|=128,f=!0,El(l,!1),r.lanes=4194304)}else{if(!f)if(e=fc(d),e!==null){if(r.flags|=128,f=!0,e=e.updateQueue,r.updateQueue=e,Rc(r,e),El(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!kt)return ie(r),null}else 2*ze()-l.renderingStartTime>Nc&&a!==536870912&&(r.flags|=128,f=!0,El(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(e=l.last,e!==null?e.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ze(),e.sibling=null,a=_e.current,it(_e,f?a&1|2:a&1),kt&&Hi(r,l.treeForkCount),e):(ie(r),null);case 22:case 23:return wn(r),hd(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ie(r),r.subtreeFlags&6&&(r.flags|=8192)):ie(r),a=r.updateQueue,a!==null&&Rc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&$(Qs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Fi(Te),ie(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function tb(e,r){switch(Xf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Fi(Te),ae(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Ci(r),null;case 31:if(r.memoizedState!==null){if(wn(r),r.alternate===null)throw Error(s(340));qs()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(wn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));qs()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return $(_e),null;case 4:return ae(),null;case 10:return Fi(r.type),null;case 22:case 23:return wn(r),hd(),e!==null&&$(Qs),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return Fi(Te),null;case 25:return null;default:return null}}function wy(e,r){switch(Xf(r),r.tag){case 3:Fi(Te),ae();break;case 26:case 27:case 5:Ci(r);break;case 4:ae();break;case 31:r.memoizedState!==null&&wn(r);break;case 13:wn(r);break;case 19:$(_e);break;case 10:Fi(r.type);break;case 22:case 23:wn(r),hd(),e!==null&&$(Qs);break;case 24:Fi(Te)}}function vl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==f)}}catch(A){Qt(r,r.return,A)}}function jr(e,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var y=l.inst,A=y.destroy;if(A!==void 0){y.destroy=void 0,f=r;var N=a,j=A;try{j()}catch(Q){Qt(f,N,Q)}}}l=l.next}while(l!==d)}}catch(Q){Qt(r,r.return,Q)}}function Cy(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{y_(r,a)}catch(l){Qt(e,e.return,l)}}}function Oy(e,r,a){a.props=Zs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Qt(e,r,l)}}function Tl(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){Qt(e,r,f)}}function Ei(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Qt(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Qt(e,r,f)}else a.current=null}function Ny(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Qt(e,e.return,f)}}function Fd(e,r,a){try{var l=e.stateNode;Ab(l,e.type,a,r),l[je]=r}catch(f){Qt(e,e.return,f)}}function Dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$r(e.type)||e.tag===4}function Gd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$r(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qd(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Le));else if(l!==4&&(l===27&&$r(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(qd(e,r,a),e=e.sibling;e!==null;)qd(e,r,a),e=e.sibling}function bc(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&$r(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(bc(e,r,a),e=e.sibling;e!==null;)bc(e,r,a),e=e.sibling}function My(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ye(r,l,a),r[ce]=e,r[je]=a}catch(d){Qt(e,e.return,d)}}var Qi=!1,Ie=!1,Yd=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,xe=null;function eb(e,r){if(e=e.containerInfo,dm=Kc,e=qg(e),Bf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var y=0,A=-1,N=-1,j=0,Q=0,Z=e,F=null;e:for(;;){for(var q;Z!==a||f!==0&&Z.nodeType!==3||(A=y+f),Z!==d||l!==0&&Z.nodeType!==3||(N=y+l),Z.nodeType===3&&(y+=Z.nodeValue.length),(q=Z.firstChild)!==null;)F=Z,Z=q;for(;;){if(Z===e)break e;if(F===a&&++j===f&&(A=y),F===d&&++Q===l&&(N=y),(q=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=q}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(mm={focusedElem:e,selectionRange:a},Kc=!1,xe=r;xe!==null;)if(r=xe,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,xe=e;else for(;xe!==null;){switch(r=xe,d=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ut=Zs(a.type,f);e=l.getSnapshotBeforeUpdate(ut,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Qt(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)_m(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_m(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,xe=e;break}xe=r.return}}function Vy(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(e,a),l&4&&vl(5,a);break;case 1:if(Xi(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(y){Qt(a,a.return,y)}else{var f=Zs(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Qt(a,a.return,y)}}l&64&&Cy(a),l&512&&Tl(a,a.return);break;case 3:if(Xi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{y_(e,r)}catch(y){Qt(a,a.return,y)}}break;case 27:r===null&&l&4&&My(a);case 26:case 5:Xi(e,a),r===null&&l&4&&Ny(a),l&512&&Tl(a,a.return);break;case 12:Xi(e,a);break;case 31:Xi(e,a),l&4&&Py(e,a);break;case 13:Xi(e,a),l&4&&ky(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=cb.bind(null,a),Nb(e,a))));break;case 22:if(l=a.memoizedState!==null||Qi,!l){r=r!==null&&r.memoizedState!==null||Ie,f=Qi;var d=Ie;Qi=l,(Ie=r)&&!d?Ji(e,a,(a.subtreeFlags&8772)!==0):Xi(e,a),Qi=f,Ie=d}break;case 30:break;default:Xi(e,a)}}function Uy(e){var r=e.alternate;r!==null&&(e.alternate=null,Uy(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Ds(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,gn=!1;function $i(e,r,a){for(a=a.child;a!==null;)xy(e,r,a),a=a.sibling}function xy(e,r,a){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(dr,a)}catch{}switch(a.tag){case 26:Ie||Ei(a,r),$i(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||Ei(a,r);var l=se,f=gn;$r(a.type)&&(se=a.stateNode,gn=!1),$i(e,r,a),Nl(a.stateNode),se=l,gn=f;break;case 5:Ie||Ei(a,r);case 6:if(l=se,f=gn,se=null,$i(e,r,a),se=l,gn=f,se!==null)if(gn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(d){Qt(a,r,d)}else try{se.removeChild(a.stateNode)}catch(d){Qt(a,r,d)}break;case 18:se!==null&&(gn?(e=se,CE(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ro(e)):CE(se,a.stateNode));break;case 4:l=se,f=gn,se=a.stateNode.containerInfo,gn=!0,$i(e,r,a),se=l,gn=f;break;case 0:case 11:case 14:case 15:jr(2,a,r),Ie||jr(4,a,r),$i(e,r,a);break;case 1:Ie||(Ei(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Oy(a,r,l)),$i(e,r,a);break;case 21:$i(e,r,a);break;case 22:Ie=(l=Ie)||a.memoizedState!==null,$i(e,r,a),Ie=l;break;default:$i(e,r,a)}}function Py(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ro(e)}catch(a){Qt(r,r.return,a)}}}function ky(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ro(e)}catch(a){Qt(r,r.return,a)}}function nb(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new Ly),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new Ly),r;default:throw Error(s(435,e.tag))}}function wc(e,r){var a=nb(e);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=hb.bind(null,e,l);l.then(f,f)}})}function _n(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,y=r,A=y;t:for(;A!==null;){switch(A.tag){case 27:if($r(A.type)){se=A.stateNode,gn=!1;break t}break;case 5:se=A.stateNode,gn=!1;break t;case 3:case 4:se=A.stateNode.containerInfo,gn=!0;break t}A=A.return}if(se===null)throw Error(s(160));xy(d,y,f),se=null,gn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)By(r,e),r=r.sibling}var ii=null;function By(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(r,e),yn(e),l&4&&(jr(3,e,e.return),vl(3,e),jr(5,e,e.return));break;case 1:_n(r,e),yn(e),l&512&&(Ie||a===null||Ei(a,a.return)),l&64&&Qi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ii;if(_n(r,e),yn(e),l&512&&(Ie||a===null||Ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Mi]||d[ce]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ye(d,l,a),d[ce]=e,ge(d),l=d;break t;case"link":var y=BE("link","href",f).get(l+(a.href||""));if(y){for(var A=0;A<y.length;A++)if(d=y[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(A,1);break e}}d=f.createElement(l),Ye(d,l,a),f.head.appendChild(d);break;case"meta":if(y=BE("meta","content",f).get(l+(a.content||""))){for(A=0;A<y.length;A++)if(d=y[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(A,1);break e}}d=f.createElement(l),Ye(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[ce]=e,ge(d),l=d}e.stateNode=l}else zE(f,e.type,e.stateNode);else e.stateNode=kE(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?zE(f,e.type,e.stateNode):kE(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Fd(e,e.memoizedProps,a.memoizedProps)}break;case 27:_n(r,e),yn(e),l&512&&(Ie||a===null||Ei(a,a.return)),a!==null&&l&4&&Fd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_n(r,e),yn(e),l&512&&(Ie||a===null||Ei(a,a.return)),e.flags&32){f=e.stateNode;try{Bn(f,"")}catch(ut){Qt(e,e.return,ut)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Fd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Yd=!0);break;case 6:if(_n(r,e),yn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ut){Qt(e,e.return,ut)}}break;case 3:if(Fc=null,f=ii,ii=Hc(r.containerInfo),_n(r,e),ii=f,yn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ro(r.containerInfo)}catch(ut){Qt(e,e.return,ut)}Yd&&(Yd=!1,zy(e));break;case 4:l=ii,ii=Hc(e.stateNode.containerInfo),_n(r,e),yn(e),ii=l;break;case 12:_n(r,e),yn(e);break;case 31:_n(r,e),yn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 13:_n(r,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Oc=ze()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 22:f=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,j=Qi,Q=Ie;if(Qi=j||f,Ie=Q||N,_n(r,e),Ie=Q,Qi=j,yn(e),l&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||Qi||Ie||ta(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=N.stateNode;var Z=N.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ut){Qt(N,N.return,ut)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(ut){Qt(N,N.return,ut)}}}else if(r.tag===18){if(a===null){N=r;try{var q=N.stateNode;f?OE(q,!0):OE(N.stateNode,!1)}catch(ut){Qt(N,N.return,ut)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wc(e,a))));break;case 19:_n(r,e),yn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 30:break;case 21:break;default:_n(r,e),yn(e)}}function yn(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(Dy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Gd(e);bc(e,d,f);break;case 5:var y=a.stateNode;a.flags&32&&(Bn(y,""),a.flags&=-33);var A=Gd(e);bc(e,A,y);break;case 3:case 4:var N=a.stateNode.containerInfo,j=Gd(e);qd(e,j,N);break;default:throw Error(s(161))}}catch(Q){Qt(e,e.return,Q)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function zy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;zy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function Xi(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Vy(e,r.alternate,r),r=r.sibling}function ta(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:jr(4,r,r.return),ta(r);break;case 1:Ei(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Oy(r,r.return,a),ta(r);break;case 27:Nl(r.stateNode);case 26:case 5:Ei(r,r.return),ta(r);break;case 22:r.memoizedState===null&&ta(r);break;case 30:ta(r);break;default:ta(r)}e=e.sibling}}function Ji(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=e,d=r,y=d.flags;switch(d.tag){case 0:case 11:case 15:Ji(f,d,a),vl(4,d);break;case 1:if(Ji(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Qt(l,l.return,j)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)__(N[f],A)}catch(j){Qt(l,l.return,j)}}a&&y&64&&Cy(d),Tl(d,d.return);break;case 27:My(d);case 26:case 5:Ji(f,d,a),a&&l===null&&y&4&&Ny(d),Tl(d,d.return);break;case 12:Ji(f,d,a);break;case 31:Ji(f,d,a),a&&y&4&&Py(f,d);break;case 13:Ji(f,d,a),a&&y&4&&ky(f,d);break;case 22:d.memoizedState===null&&Ji(f,d,a),Tl(d,d.return);break;case 30:break;default:Ji(f,d,a)}r=r.sibling}}function Kd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ol(a))}function Qd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&ol(e))}function ri(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Hy(e,r,a,l),r=r.sibling}function Hy(e,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ri(e,r,a,l),f&2048&&vl(9,r);break;case 1:ri(e,r,a,l);break;case 3:ri(e,r,a,l),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&ol(e)));break;case 12:if(f&2048){ri(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,y=d.id,A=d.onPostCommit;typeof A=="function"&&A(y,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Qt(r,r.return,N)}}else ri(e,r,a,l);break;case 31:ri(e,r,a,l);break;case 13:ri(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,y=r.alternate,r.memoizedState!==null?d._visibility&2?ri(e,r,a,l):Al(e,r):d._visibility&2?ri(e,r,a,l):(d._visibility|=2,Ka(e,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Kd(y,r);break;case 24:ri(e,r,a,l),f&2048&&Qd(r.alternate,r);break;default:ri(e,r,a,l)}}function Ka(e,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=e,y=r,A=a,N=l,j=y.flags;switch(y.tag){case 0:case 11:case 15:Ka(d,y,A,N,f),vl(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Ka(d,y,A,N,f):Al(d,y):(Q._visibility|=2,Ka(d,y,A,N,f)),f&&j&2048&&Kd(y.alternate,y);break;case 24:Ka(d,y,A,N,f),f&&j&2048&&Qd(y.alternate,y);break;default:Ka(d,y,A,N,f)}r=r.sibling}}function Al(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,f=l.flags;switch(l.tag){case 22:Al(a,l),f&2048&&Kd(l.alternate,l);break;case 24:Al(a,l),f&2048&&Qd(l.alternate,l);break;default:Al(a,l)}r=r.sibling}}var Sl=8192;function Qa(e,r,a){if(e.subtreeFlags&Sl)for(e=e.child;e!==null;)jy(e,r,a),e=e.sibling}function jy(e,r,a){switch(e.tag){case 26:Qa(e,r,a),e.flags&Sl&&e.memoizedState!==null&&jb(a,ii,e.memoizedState,e.memoizedProps);break;case 5:Qa(e,r,a);break;case 3:case 4:var l=ii;ii=Hc(e.stateNode.containerInfo),Qa(e,r,a),ii=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Sl,Sl=16777216,Qa(e,r,a),Sl=l):Qa(e,r,a));break;default:Qa(e,r,a)}}function Fy(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Il(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];xe=l,qy(l,e)}Fy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gy(e),e=e.sibling}function Gy(e){switch(e.tag){case 0:case 11:case 15:Il(e),e.flags&2048&&jr(9,e,e.return);break;case 3:Il(e);break;case 12:Il(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Cc(e)):Il(e);break;default:Il(e)}}function Cc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];xe=l,qy(l,e)}Fy(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:jr(8,r,r.return),Cc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(r));break;default:Cc(r)}e=e.sibling}}function qy(e,r){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:jr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xe=l;else t:for(a=e;xe!==null;){l=xe;var f=l.sibling,d=l.return;if(Uy(l),l===a){xe=null;break t}if(f!==null){f.return=d,xe=f;break t}xe=d}}}var ib={getCacheForType:function(e){var r=Ge(Te),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return Ge(Te).controller.signal}},rb=typeof WeakMap=="function"?WeakMap:Map,Gt=0,te=null,Dt=null,Lt=0,Kt=0,Cn=null,Fr=!1,$a=!1,$d=!1,Wi=0,de=0,Gr=0,ea=0,Xd=0,On=0,Xa=0,Rl=null,En=null,Jd=!1,Oc=0,Yy=0,Nc=1/0,Dc=null,qr=null,Ne=0,Yr=null,Ja=null,Zi=0,Wd=0,Zd=null,Ky=null,bl=0,tm=null;function Nn(){return(Gt&2)!==0&&Lt!==0?Lt&-Lt:K.T!==null?am():Di()}function Qy(){if(On===0)if((Lt&536870912)===0||kt){var e=ui;ui<<=1,(ui&3932160)===0&&(ui=262144),On=e}else On=536870912;return e=bn.current,e!==null&&(e.flags|=32),On}function vn(e,r,a){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Wa(e,0),Kr(e,Lt,On,!1)),gr(e,a),((Gt&2)===0||e!==te)&&(e===te&&((Gt&2)===0&&(ea|=a),de===4&&Kr(e,Lt,On,!1)),vi(e))}function $y(e,r,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&e.expiredLanes)===0||pr(e,r),f=l?ob(e,r):nm(e,r,!0),d=l;do{if(f===0){$a&&!l&&Kr(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!sb(a)){f=nm(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){r=y;t:{var A=e;f=Rl;var N=A.current.memoizedState.isDehydrated;if(N&&(Wa(A,y).flags|=256),y=nm(A,y,!1),y!==2){if($d&&!N){A.errorRecoveryDisabledLanes|=d,ea|=d,f=4;break t}d=En,En=f,d!==null&&(En===null?En=d:En.push.apply(En,d))}f=y}if(d=!1,f!==2)continue}}if(f===1){Wa(e,0),Kr(e,r,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Kr(l,r,On,!Fr);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Oc+300-ze(),10<f)){if(Kr(l,r,On,!Fr),Pn(l,0,!0)!==0)break t;Zi=r,l.timeoutHandle=bE(Xy.bind(null,l,a,En,Dc,Jd,r,On,ea,Xa,Fr,d,"Throttled",-0,0),f);break t}Xy(l,a,En,Dc,Jd,r,On,ea,Xa,Fr,d,null,-0,0)}}break}while(!0);vi(e)}function Xy(e,r,a,l,f,d,y,A,N,j,Q,Z,F,q){if(e.timeoutHandle=-1,Z=r.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Le},jy(r,d,Z);var ut=(d&62914560)===d?Oc-ze():(d&4194048)===d?Yy-ze():0;if(ut=Fb(Z,ut),ut!==null){Zi=d,e.cancelPendingCommit=ut(rE.bind(null,e,r,d,a,l,f,y,A,N,Q,Z,null,F,q)),Kr(e,d,y,!j);return}}rE(e,r,d,a,l,f,y,A,N)}function sb(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!In(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Kr(e,r,a,l){r&=~Xd,r&=~ea,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var f=r;0<f;){var d=31-sn(f),y=1<<d;l[d]=-1,f&=~y}a!==0&&zo(e,a,r)}function Mc(){return(Gt&6)===0?(wl(0),!1):!0}function em(){if(Dt!==null){if(Kt===0)var e=Dt.return;else e=Dt,ji=Ys=null,_d(e),ja=null,ul=0,e=Dt;for(;e!==null;)wy(e.alternate,e),e=e.return;Dt=null}}function Wa(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Rb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Zi=0,em(),te=e,Dt=a=zi(e.current,null),Lt=r,Kt=0,Cn=null,Fr=!1,$a=pr(e,r),$d=!1,Xa=On=Xd=ea=Gr=de=0,En=Rl=null,Jd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var f=31-sn(l),d=1<<f;r|=e[f],l&=~d}return Wi=r,Zu(),a}function Jy(e,r){Rt=null,K.H=_l,r===Ha||r===oc?(r=d_(),Kt=3):r===sd?(r=d_(),Kt=4):Kt=r===Ld?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Cn=r,Dt===null&&(de=1,Tc(e,Hn(r,e.current)))}function Wy(){var e=bn.current;return e===null?!0:(Lt&4194048)===Lt?qn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?e===qn:!1}function Zy(){var e=K.H;return K.H=_l,e===null?_l:e}function tE(){var e=K.A;return K.A=ib,e}function Lc(){de=4,Fr||(Lt&4194048)!==Lt&&bn.current!==null||($a=!0),(Gr&134217727)===0&&(ea&134217727)===0||te===null||Kr(te,Lt,On,!1)}function nm(e,r,a){var l=Gt;Gt|=2;var f=Zy(),d=tE();(te!==e||Lt!==r)&&(Dc=null,Wa(e,r)),r=!1;var y=de;t:do try{if(Kt!==0&&Dt!==null){var A=Dt,N=Cn;switch(Kt){case 8:em(),y=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(r=!0);var j=Kt;if(Kt=0,Cn=null,Za(e,A,N,j),a&&$a){y=0;break t}break;default:j=Kt,Kt=0,Cn=null,Za(e,A,N,j)}}ab(),y=de;break}catch(Q){Jy(e,Q)}while(!0);return r&&e.shellSuspendCounter++,ji=Ys=null,Gt=l,K.H=f,K.A=d,Dt===null&&(te=null,Lt=0,Zu()),y}function ab(){for(;Dt!==null;)eE(Dt)}function ob(e,r){var a=Gt;Gt|=2;var l=Zy(),f=tE();te!==e||Lt!==r?(Dc=null,Nc=ze()+500,Wa(e,r)):$a=pr(e,r);t:do try{if(Kt!==0&&Dt!==null){r=Dt;var d=Cn;e:switch(Kt){case 1:Kt=0,Cn=null,Za(e,r,d,1);break;case 2:case 9:if(h_(d)){Kt=0,Cn=null,nE(r);break}r=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),vi(e)},d.then(r,r);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:h_(d)?(Kt=0,Cn=null,nE(r)):(Kt=0,Cn=null,Za(e,r,d,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var A=Dt;if(y?HE(y):A.stateNode.complete){Kt=0,Cn=null;var N=A.sibling;if(N!==null)Dt=N;else{var j=A.return;j!==null?(Dt=j,Vc(j)):Dt=null}break e}}Kt=0,Cn=null,Za(e,r,d,5);break;case 6:Kt=0,Cn=null,Za(e,r,d,6);break;case 8:em(),de=6;break t;default:throw Error(s(462))}}lb();break}catch(Q){Jy(e,Q)}while(!0);return ji=Ys=null,K.H=l,K.A=f,Gt=a,Dt!==null?0:(te=null,Lt=0,Zu(),de)}function lb(){for(;Dt!==null&&!Cf();)eE(Dt)}function eE(e){var r=Ry(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,r===null?Vc(e):Dt=r}function nE(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Ey(a,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=Ey(a,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:_d(r);default:wy(a,r),r=Dt=t_(r,Wi),r=Ry(a,r,Wi)}e.memoizedProps=e.pendingProps,r===null?Vc(e):Dt=r}function Za(e,r,a,l){ji=Ys=null,_d(r),ja=null,ul=0;var f=r.return;try{if(XR(e,f,r,a,Lt)){de=1,Tc(e,Hn(a,e.current)),Dt=null;return}}catch(d){if(f!==null)throw Dt=f,d;de=1,Tc(e,Hn(a,e.current)),Dt=null;return}r.flags&32768?(kt||l===1?e=!0:$a||(Lt&536870912)!==0?e=!1:(Fr=e=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),iE(r,e)):Vc(r)}function Vc(e){var r=e;do{if((r.flags&32768)!==0){iE(r,Fr);return}e=r.return;var a=ZR(r.alternate,r,Wi);if(a!==null){Dt=a;return}if(r=r.sibling,r!==null){Dt=r;return}Dt=r=e}while(r!==null);de===0&&(de=5)}function iE(e,r){do{var a=tb(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);de=6,Dt=null}function rE(e,r,a,l,f,d,y,A,N){e.cancelPendingCommit=null;do Uc();while(Ne!==0);if((Gt&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Gf,He(e,a,d,y,A,N),e===te&&(Dt=te=null,Lt=0),Ja=r,Yr=e,Zi=a,Wd=d,Zd=f,Ky=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,fb(Oi,function(){return uE(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=rt.p,rt.p=2,y=Gt,Gt|=4;try{eb(e,r,a)}finally{Gt=y,rt.p=f,K.T=l}}Ne=1,sE(),aE(),oE()}}function sE(){if(Ne===1){Ne=0;var e=Yr,r=Ja,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=rt.p;rt.p=2;var f=Gt;Gt|=4;try{By(r,e);var d=mm,y=qg(e.containerInfo),A=d.focusedElem,N=d.selectionRange;if(y!==A&&A&&A.ownerDocument&&Gg(A.ownerDocument.documentElement,A)){if(N!==null&&Bf(A)){var j=N.start,Q=N.end;if(Q===void 0&&(Q=j),"selectionStart"in A)A.selectionStart=j,A.selectionEnd=Math.min(Q,A.value.length);else{var Z=A.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var q=F.getSelection(),ut=A.textContent.length,yt=Math.min(N.start,ut),Wt=N.end===void 0?yt:Math.min(N.end,ut);!q.extend&&yt>Wt&&(y=Wt,Wt=yt,yt=y);var k=Fg(A,yt),L=Fg(A,Wt);if(k&&L&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==L.node||q.focusOffset!==L.offset)){var H=Z.createRange();H.setStart(k.node,k.offset),q.removeAllRanges(),yt>Wt?(q.addRange(H),q.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),q.addRange(H))}}}}for(Z=[],q=A;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<Z.length;A++){var X=Z[A];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Kc=!!dm,mm=dm=null}finally{Gt=f,rt.p=l,K.T=a}}e.current=r,Ne=2}}function aE(){if(Ne===2){Ne=0;var e=Yr,r=Ja,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=rt.p;rt.p=2;var f=Gt;Gt|=4;try{Vy(e,r.alternate,r)}finally{Gt=f,rt.p=l,K.T=a}}Ne=3}}function oE(){if(Ne===4||Ne===3){Ne=0,xo();var e=Yr,r=Ja,a=Zi,l=Ky;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ne=5:(Ne=0,Ja=Yr=null,lE(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(qr=null),jo(a),r=r.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(dr,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,f=rt.p,rt.p=2,K.T=null;try{for(var d=e.onRecoverableError,y=0;y<l.length;y++){var A=l[y];d(A.value,{componentStack:A.stack})}}finally{K.T=r,rt.p=f}}(Zi&3)!==0&&Uc(),vi(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===tm?bl++:(bl=0,tm=e):bl=0,wl(0)}}function lE(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,ol(r)))}function Uc(){return sE(),aE(),oE(),uE()}function uE(){if(Ne!==5)return!1;var e=Yr,r=Wd;Wd=0;var a=jo(Zi),l=K.T,f=rt.p;try{rt.p=32>a?32:a,K.T=null,a=Zd,Zd=null;var d=Yr,y=Zi;if(Ne=0,Ja=Yr=null,Zi=0,(Gt&6)!==0)throw Error(s(331));var A=Gt;if(Gt|=4,Gy(d.current),Hy(d,d.current,y,a),Gt=A,wl(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(dr,d)}catch{}return!0}finally{rt.p=f,K.T=l,lE(e,r)}}function cE(e,r,a){r=Hn(a,r),r=Md(e.stateNode,r,2),e=Br(e,r,2),e!==null&&(gr(e,2),vi(e))}function Qt(e,r,a){if(e.tag===3)cE(e,e,a);else for(;r!==null;){if(r.tag===3){cE(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){e=Hn(a,e),a=hy(2),l=Br(r,a,2),l!==null&&(fy(a,l,r,e),gr(l,2),vi(l));break}}r=r.return}}function im(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new rb;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||($d=!0,f.add(a),e=ub.bind(null,e,r,a),r.then(e,e))}function ub(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Lt&a)===a&&(de===4||de===3&&(Lt&62914560)===Lt&&300>ze()-Oc?(Gt&2)===0&&Wa(e,0):Xd|=a,Xa===Lt&&(Xa=0)),vi(e)}function hE(e,r){r===0&&(r=Bo()),e=Fs(e,r),e!==null&&(gr(e,r),vi(e))}function cb(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),hE(e,a)}function hb(e,r){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),hE(e,a)}function fb(e,r){return Cs(e,r)}var xc=null,to=null,rm=!1,Pc=!1,sm=!1,Qr=0;function vi(e){e!==to&&e.next===null&&(to===null?xc=to=e:to=to.next=e),Pc=!0,rm||(rm=!0,mb())}function wl(e,r){if(!sm&&Pc){sm=!0;do for(var a=!1,l=xc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var y=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-sn(42|e)+1)-1,d&=f&~(y&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,pE(l,d))}else d=Lt,d=Pn(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||pr(l,d)||(a=!0,pE(l,d));l=l.next}while(a);sm=!1}}function db(){fE()}function fE(){Pc=rm=!1;var e=0;Qr!==0&&Ib()&&(e=Qr);for(var r=ze(),a=null,l=xc;l!==null;){var f=l.next,d=dE(l,r);d===0?(l.next=null,a===null?xc=f:a.next=f,f===null&&(to=a)):(a=l,(e!==0||(d&3)!==0)&&(Pc=!0)),l=f}Ne!==0&&Ne!==5||wl(e),Qr!==0&&(Qr=0)}function dE(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-sn(d),A=1<<y,N=f[y];N===-1?((A&a)===0||(A&l)!==0)&&(f[y]=va(A,r)):N<=r&&(e.expiredLanes|=A),d&=~A}if(r=te,a=Lt,a=Pn(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ea(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||pr(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&Ea(l),jo(a)){case 2:case 8:a=Me;break;case 32:a=Oi;break;case 268435456:a=Po;break;default:a=Oi}return l=mE.bind(null,e),a=Cs(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&Ea(l),e.callbackPriority=2,e.callbackNode=null,2}function mE(e,r){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Uc()&&e.callbackNode!==a)return null;var l=Lt;return l=Pn(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:($y(e,l,r),dE(e,ze()),e.callbackNode!=null&&e.callbackNode===a?mE.bind(null,e):null)}function pE(e,r){if(Uc())return null;$y(e,r,!0)}function mb(){bb(function(){(Gt&6)!==0?Cs(Oe,db):fE()})}function am(){if(Qr===0){var e=Ba;e===0&&(e=Ns,Ns<<=1,(Ns&261888)===0&&(Ns=256)),Qr=e}return Qr}function gE(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:mi(""+e)}function _E(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function pb(e,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=gE((f[je]||null).action),y=l.submitter;y&&(r=(r=y[je]||null)?gE(r.formAction):y.getAttribute("formAction"),r!==null&&(d=r,y=null));var A=new xs("action","action",null,l,f);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qr!==0){var N=y?_E(f,y):new FormData(f);bd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(A.preventDefault(),N=y?_E(f,y):new FormData(f),bd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var om=0;om<Ff.length;om++){var lm=Ff[om],gb=lm.toLowerCase(),_b=lm[0].toUpperCase()+lm.slice(1);ni(gb,"on"+_b)}ni(Qg,"onAnimationEnd"),ni($g,"onAnimationIteration"),ni(Xg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(LR,"onTransitionRun"),ni(VR,"onTransitionStart"),ni(UR,"onTransitionCancel"),ni(Jg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function yE(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var y=l.length-1;0<=y;y--){var A=l[y],N=A.instance,j=A.currentTarget;if(A=A.listener,N!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=j;try{d(f)}catch(Q){Wu(Q)}f.currentTarget=null,d=N}else for(y=0;y<l.length;y++){if(A=l[y],N=A.instance,j=A.currentTarget,A=A.listener,N!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=j;try{d(f)}catch(Q){Wu(Q)}f.currentTarget=null,d=N}}}}function Mt(e,r){var a=r[Er];a===void 0&&(a=r[Er]=new Set);var l=e+"__bubble";a.has(l)||(EE(r,e,2,!1),a.add(l))}function um(e,r,a){var l=0;r&&(l|=4),EE(a,e,l,r)}var kc="_reactListening"+Math.random().toString(36).slice(2);function cm(e){if(!e[kc]){e[kc]=!0,Ta.forEach(function(a){a!=="selectionchange"&&(yb.has(a)||um(a,!1,e),um(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[kc]||(r[kc]=!0,um("selectionchange",!1,r))}}function EE(e,r,a,l){switch(QE(r)){case 2:var f=Yb;break;case 8:f=Kb;break;default:f=Rm}a=f.bind(null,r,a,e),f=void 0,!Xo||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function hm(e,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var A=l.stateNode.containerInfo;if(A===f)break;if(y===4)for(y=l.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;A!==null;){if(y=Li(A),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){l=d=y;continue t}A=A.parentNode}}l=l.return}xu(function(){var j=d,Q=ba(a),Z=[];t:{var F=Wg.get(e);if(F!==void 0){var q=xs,ut=e;switch(e){case"keypress":if(Us(a)===0)break t;case"keydown":case"keyup":q=qu;break;case"focusin":ut="focus",q=Or;break;case"focusout":ut="blur",q=Or;break;case"beforeblur":case"afterblur":q=Or;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Ku;break;case Qg:case $g:case Xg:q=Oa;break;case Jg:q=Na;break;case"scroll":case"scrollend":q=Pu;break;case"wheel":q=$u;break;case"copy":case"cut":case"paste":q=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=el;break;case"toggle":case"beforetoggle":q=Dr}var yt=(r&4)!==0,Wt=!yt&&(e==="scroll"||e==="scrollend"),k=yt?F!==null?F+"Capture":null:F;yt=[];for(var L=j,H;L!==null;){var X=L;if(H=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||H===null||k===null||(X=mn(L,k),X!=null&&yt.push(Ol(L,X,H))),Wt)break;L=L.return}0<yt.length&&(F=new q(F,ut,null,a,Q),Z.push({event:F,listeners:yt}))}}if((r&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",F&&a!==Ra&&(ut=a.relatedTarget||a.fromElement)&&(Li(ut)||ut[hi]))break t;if((q||F)&&(F=Q.window===Q?Q:(F=Q.ownerDocument)?F.defaultView||F.parentWindow:window,q?(ut=a.relatedTarget||a.toElement,q=j,ut=ut?Li(ut):null,ut!==null&&(Wt=u(ut),yt=ut.tag,ut!==Wt||yt!==5&&yt!==27&&yt!==6)&&(ut=null)):(q=null,ut=j),q!==ut)){if(yt=ku,X="onMouseLeave",k="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(yt=el,X="onPointerLeave",k="onPointerEnter",L="pointer"),Wt=q==null?F:Ms(q),H=ut==null?F:Ms(ut),F=new yt(X,L+"leave",q,a,Q),F.target=Wt,F.relatedTarget=H,X=null,Li(Q)===j&&(yt=new yt(k,L+"enter",ut,a,Q),yt.target=H,yt.relatedTarget=Wt,X=yt),Wt=X,q&&ut)e:{for(yt=Eb,k=q,L=ut,H=0,X=k;X;X=yt(X))H++;X=0;for(var pt=L;pt;pt=yt(pt))X++;for(;0<H-X;)k=yt(k),H--;for(;0<X-H;)L=yt(L),X--;for(;H--;){if(k===L||L!==null&&k===L.alternate){yt=k;break e}k=yt(k),L=yt(L)}yt=null}else yt=null;q!==null&&vE(Z,F,q,yt,!1),ut!==null&&Wt!==null&&vE(Z,Wt,ut,yt,!0)}}t:{if(F=j?Ms(j):window,q=F.nodeName&&F.nodeName.toLowerCase(),q==="select"||q==="input"&&F.type==="file")var jt=Pg;else if(pn(F))if(kg)jt=NR;else{jt=CR;var dt=wR}else q=F.nodeName,!q||q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?j&&Qo(j.elementType)&&(jt=Pg):jt=OR;if(jt&&(jt=jt(e,j))){zs(Z,jt,a,Q);break t}dt&&dt(e,F,j),e==="focusout"&&j&&F.type==="number"&&j.memoizedProps.value!=null&&Ia(F,"number",F.value)}switch(dt=j?Ms(j):window,e){case"focusin":(pn(dt)||dt.contentEditable==="true")&&(Da=dt,zf=j,rl=null);break;case"focusout":rl=zf=Da=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,Yg(Z,a,Q);break;case"selectionchange":if(MR)break;case"keydown":case"keyup":Yg(Z,a,Q)}var wt;if(_)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else Ot?Yt(e,a)&&(Vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(B&&a.locale!=="ko"&&(Ot||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Ot&&(wt=Rr()):(Sn=Q,wa="value"in Sn?Sn.value:Sn.textContent,Ot=!0)),dt=Bc(j,Vt),0<dt.length&&(Vt=new Wo(Vt,e,null,a,Q),Z.push({event:Vt,listeners:dt}),wt?Vt.data=wt:(wt=ve(a),wt!==null&&(Vt.data=wt)))),(wt=I?Ve(e,a):Ue(e,a))&&(Vt=Bc(j,"onBeforeInput"),0<Vt.length&&(dt=new Wo("onBeforeInput","beforeinput",null,a,Q),Z.push({event:dt,listeners:Vt}),dt.data=wt)),pb(Z,e,j,a,Q)}yE(Z,r)})}function Ol(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Bc(e,r){for(var a=r+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=mn(e,a),f!=null&&l.unshift(Ol(e,f,d)),f=mn(e,r),f!=null&&l.push(Ol(e,f,d))),e.tag===3)return l;e=e.return}return[]}function Eb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vE(e,r,a,l,f){for(var d=r._reactName,y=[];a!==null&&a!==l;){var A=a,N=A.alternate,j=A.stateNode;if(A=A.tag,N!==null&&N===l)break;A!==5&&A!==26&&A!==27||j===null||(N=j,f?(j=mn(a,d),j!=null&&y.unshift(Ol(a,j,N))):f||(j=mn(a,d),j!=null&&y.push(Ol(a,j,N)))),a=a.return}y.length!==0&&e.push({event:r,listeners:y})}var vb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function TE(e){return(typeof e=="string"?e:""+e).replace(vb,`
`).replace(Tb,"")}function AE(e,r){return r=TE(r),TE(e)===r}function Jt(e,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Bn(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Bn(e,""+l);break;case"className":Ar(e,"class",l);break;case"tabIndex":Ar(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(e,a,l);break;case"style":Vu(e,l,d);break;case"data":if(r!=="object"){Ar(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=mi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Jt(e,r,"name",f.name,f,null),Jt(e,r,"formEncType",f.formEncType,f,null),Jt(e,r,"formMethod",f.formMethod,f,null),Jt(e,r,"formTarget",f.formTarget,f,null)):(Jt(e,r,"encType",f.encType,f,null),Jt(e,r,"method",f.method,f,null),Jt(e,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=mi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Le);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=mi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),Tr(e,"popover",l);break;case"xlinkActuate":kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Tr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vf.get(a)||a,Tr(e,a,l))}}function fm(e,r,a,l,f,d){switch(a){case"style":Vu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Bn(e,l):(typeof l=="number"||typeof l=="bigint")&&Bn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Le);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=e[je]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Tr(e,a,l)}}}function Ye(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Jt(e,r,d,y,a,null)}}f&&Jt(e,r,"srcSet",a.srcSet,a,null),l&&Jt(e,r,"src",a.src,a,null);return;case"input":Mt("invalid",e);var A=d=y=f=null,N=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":y=Q;break;case"checked":N=Q;break;case"defaultChecked":j=Q;break;case"value":d=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Jt(e,r,l,Q,a,null)}}Ls(e,d,A,N,j,y,f,!1);return;case"select":Mt("invalid",e),l=y=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":y=A;break;case"multiple":l=A;default:Jt(e,r,f,A,a,null)}r=d,a=y,e.multiple=!!l,r!=null?Ht(e,!!l,r,!1):a!=null&&Ht(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=f=l=null;for(y in a)if(a.hasOwnProperty(y)&&(A=a[y],A!=null))switch(y){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Jt(e,r,y,A,a,null)}Ir(e,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(e,r,N,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Mt(Cl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Jt(e,r,j,l,a,null)}return;default:if(Qo(r)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&fm(e,r,Q,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Jt(e,r,A,l,a,null))}function Ab(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,y=null,A=null,N=null,j=null,Q=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(q)||Jt(e,r,q,null,l,Z)}}for(var F in l){var q=l[F];if(Z=a[F],l.hasOwnProperty(F)&&(q!=null||Z!=null))switch(F){case"type":d=q;break;case"name":f=q;break;case"checked":j=q;break;case"defaultChecked":Q=q;break;case"value":y=q;break;case"defaultValue":A=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:q!==Z&&Jt(e,r,F,q,l,Z)}}Sr(e,y,A,N,j,Q,d,f);return;case"select":q=y=A=F=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":q=N;default:l.hasOwnProperty(d)||Jt(e,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":F=d;break;case"defaultValue":A=d;break;case"multiple":y=d;default:d!==N&&Jt(e,r,f,d,l,N)}r=A,a=y,l=q,F!=null?Ht(e,!!a,F,!1):!!l!=!!a&&(r!=null?Ht(e,!!a,r,!0):Ht(e,!!a,a?[]:"",!1));return;case"textarea":q=F=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Jt(e,r,A,null,l,f)}for(y in l)if(f=l[y],d=a[y],l.hasOwnProperty(y)&&(f!=null||d!=null))switch(y){case"value":F=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Jt(e,r,y,f,l,d)}Vs(e,F,q);return;case"option":for(var ut in a)if(F=a[ut],a.hasOwnProperty(ut)&&F!=null&&!l.hasOwnProperty(ut))switch(ut){case"selected":e.selected=!1;break;default:Jt(e,r,ut,null,l,F)}for(N in l)if(F=l[N],q=a[N],l.hasOwnProperty(N)&&F!==q&&(F!=null||q!=null))switch(N){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Jt(e,r,N,F,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)F=a[yt],a.hasOwnProperty(yt)&&F!=null&&!l.hasOwnProperty(yt)&&Jt(e,r,yt,null,l,F);for(j in l)if(F=l[j],q=a[j],l.hasOwnProperty(j)&&F!==q&&(F!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Jt(e,r,j,F,l,q)}return;default:if(Qo(r)){for(var Wt in a)F=a[Wt],a.hasOwnProperty(Wt)&&F!==void 0&&!l.hasOwnProperty(Wt)&&fm(e,r,Wt,void 0,l,F);for(Q in l)F=l[Q],q=a[Q],!l.hasOwnProperty(Q)||F===q||F===void 0&&q===void 0||fm(e,r,Q,F,l,q);return}}for(var k in a)F=a[k],a.hasOwnProperty(k)&&F!=null&&!l.hasOwnProperty(k)&&Jt(e,r,k,null,l,F);for(Z in l)F=l[Z],q=a[Z],!l.hasOwnProperty(Z)||F===q||F==null&&q==null||Jt(e,r,Z,F,l,q)}function SE(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,y=f.initiatorType,A=f.duration;if(d&&A&&SE(y)){for(y=0,A=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],j=N.startTime;if(j>A)break;var Q=N.transferSize,Z=N.initiatorType;Q&&SE(Z)&&(N=N.responseEnd,y+=Q*(N<A?1:(A-j)/(N-j)))}if(--l,r+=8*(d+y)/(f.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dm=null,mm=null;function zc(e){return e.nodeType===9?e:e.ownerDocument}function IE(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RE(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function pm(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var gm=null;function Ib(){var e=window.event;return e&&e.type==="popstate"?e===gm?!1:(gm=e,!0):(gm=null,!1)}var bE=typeof setTimeout=="function"?setTimeout:void 0,Rb=typeof clearTimeout=="function"?clearTimeout:void 0,wE=typeof Promise=="function"?Promise:void 0,bb=typeof queueMicrotask=="function"?queueMicrotask:typeof wE<"u"?function(e){return wE.resolve(null).then(e).catch(wb)}:bE;function wb(e){setTimeout(function(){throw e})}function $r(e){return e==="head"}function CE(e,r){var a=r,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),ro(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Nl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Nl(a);for(var d=a.firstChild;d;){var y=d.nextSibling,A=d.nodeName;d[Mi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&Nl(e.ownerDocument.body);a=f}while(a);ro(r)}function OE(e,r){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function _m(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_m(a),Ds(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Cb(e,r,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Mi])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function Ob(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yn(e.nextSibling),e===null))return null;return e}function NE(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Yn(e.nextSibling),e===null))return null;return e}function ym(e){return e.data==="$?"||e.data==="$~"}function Em(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Nb(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Yn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var vm=null;function DE(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return Yn(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function ME(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function LE(e,r,a){switch(r=zc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Nl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Ds(e)}var Kn=new Map,VE=new Set;function Hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var tr=rt.d;rt.d={f:Db,r:Mb,D:Lb,C:Vb,L:Ub,m:xb,X:kb,S:Pb,M:Bb};function Db(){var e=tr.f(),r=Mc();return e||r}function Mb(e){var r=Vi(e);r!==null&&r.tag===5&&r.type==="form"?J_(r):tr.r(e)}var eo=typeof document>"u"?null:document;function UE(e,r,a){var l=eo;if(l&&typeof r=="string"&&r){var f=he(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),VE.has(f)||(VE.add(f),e={rel:e,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ye(r,"link",e),ge(r),l.head.appendChild(r)))}}function Lb(e){tr.D(e),UE("dns-prefetch",e,null)}function Vb(e,r){tr.C(e,r),UE("preconnect",e,r)}function Ub(e,r,a){tr.L(e,r,a);var l=eo;if(l&&e&&r){var f='link[rel="preload"][as="'+he(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+he(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+he(a.imageSizes)+'"]')):f+='[href="'+he(e)+'"]';var d=f;switch(r){case"style":d=no(e);break;case"script":d=io(e)}Kn.has(d)||(e=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),Kn.set(d,e),l.querySelector(f)!==null||r==="style"&&l.querySelector(Dl(d))||r==="script"&&l.querySelector(Ml(d))||(r=l.createElement("link"),Ye(r,"link",e),ge(r),l.head.appendChild(r)))}}function xb(e,r){tr.m(e,r);var a=eo;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+he(l)+'"][href="'+he(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=io(e)}if(!Kn.has(d)&&(e=T({rel:"modulepreload",href:e},r),Kn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(d)))return}l=a.createElement("link"),Ye(l,"link",e),ge(l),a.head.appendChild(l)}}}function Pb(e,r,a){tr.S(e,r,a);var l=eo;if(l&&e){var f=ti(l).hoistableStyles,d=no(e);r=r||"default";var y=f.get(d);if(!y){var A={loading:0,preload:null};if(y=l.querySelector(Dl(d)))A.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":r},a),(a=Kn.get(d))&&Tm(e,a);var N=y=l.createElement("link");ge(N),Ye(N,"link",e),N._p=new Promise(function(j,Q){N.onload=j,N.onerror=Q}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,jc(y,r,l)}y={type:"stylesheet",instance:y,count:1,state:A},f.set(d,y)}}}function kb(e,r){tr.X(e,r);var a=eo;if(a&&e){var l=ti(a).hoistableScripts,f=io(e),d=l.get(f);d||(d=a.querySelector(Ml(f)),d||(e=T({src:e,async:!0},r),(r=Kn.get(f))&&Am(e,r),d=a.createElement("script"),ge(d),Ye(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Bb(e,r){tr.M(e,r);var a=eo;if(a&&e){var l=ti(a).hoistableScripts,f=io(e),d=l.get(f);d||(d=a.querySelector(Ml(f)),d||(e=T({src:e,async:!0,type:"module"},r),(r=Kn.get(f))&&Am(e,r),d=a.createElement("script"),ge(d),Ye(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function xE(e,r,a,l){var f=(f=Ct.current)?Hc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=no(a.href),a=ti(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=no(a.href);var d=ti(f).hoistableStyles,y=d.get(e);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=f.querySelector(Dl(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(e,a),d||zb(f,e,a,y.state))),r&&l===null)throw Error(s(528,""));return y}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=io(a),a=ti(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function no(e){return'href="'+he(e)+'"'}function Dl(e){return'link[rel="stylesheet"]['+e+"]"}function PE(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function zb(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ye(r,"link",a),ge(r),e.head.appendChild(r))}function io(e){return'[src="'+he(e)+'"]'}function Ml(e){return"script[async]"+e}function kE(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+he(a.href)+'"]');if(l)return r.instance=l,ge(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ge(l),Ye(l,"style",f),jc(l,a.precedence,e),r.instance=l;case"stylesheet":f=no(a.href);var d=e.querySelector(Dl(f));if(d)return r.state.loading|=4,r.instance=d,ge(d),d;l=PE(a),(f=Kn.get(f))&&Tm(l,f),d=(e.ownerDocument||e).createElement("link"),ge(d);var y=d;return y._p=new Promise(function(A,N){y.onload=A,y.onerror=N}),Ye(d,"link",l),r.state.loading|=4,jc(d,a.precedence,e),r.instance=d;case"script":return d=io(a.src),(f=e.querySelector(Ml(d)))?(r.instance=f,ge(f),f):(l=a,(f=Kn.get(d))&&(l=T({},a),Am(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),ge(f),Ye(f,"link",l),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,jc(l,a.precedence,e));return r.instance}function jc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,y=0;y<l.length;y++){var A=l[y];if(A.dataset.precedence===r)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function Tm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function Am(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Fc=null;function BE(e,r,a){if(Fc===null){var l=new Map,f=Fc=new Map;f.set(a,l)}else f=Fc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[Mi]||d[ce]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(r)||"";y=e+y;var A=l.get(y);A?A.push(d):l.set(y,[d])}}return l}function zE(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function Hb(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function HE(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function jb(e,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=no(l.href),d=r.querySelector(Dl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Gc.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=d,ge(d);return}d=r.ownerDocument||r,l=PE(l),(f=Kn.get(f))&&Tm(l,f),d=d.createElement("link"),ge(d);var y=d;y._p=new Promise(function(A,N){y.onload=A,y.onerror=N}),Ye(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Gc.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var Sm=0;function Fb(e,r){return e.stylesheets&&e.count===0&&Yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Yc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+r);0<e.imgBytes&&Sm===0&&(Sm=62500*Sb());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Sm?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var qc=null;function Yc(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,qc=new Map,r.forEach(Gb,e),qc=null,Gc.call(e))}function Gb(e,r){if(!(r.state.loading&4)){var a=qc.get(e);if(a)var l=a.get(null);else{a=new Map,qc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var y=f[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}f=r.instance,y=f.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,f),a.set(y,f),this.count++,l=Gc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var Ll={$$typeof:W,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function qb(e,r,a,l,f,d,y,A,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function jE(e,r,a,l,f,d,y,A,N,j,Q,Z){return e=new qb(e,r,a,y,N,j,Q,Z,A),r=1,d===!0&&(r|=24),d=Rn(3,null,null,r),e.current=d,d.stateNode=e,r=nd(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},ad(d),e}function FE(e){return e?(e=Va,e):Va}function GE(e,r,a,l,f,d){f=FE(f),l.context===null?l.context=f:l.pendingContext=f,l=kr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Br(e,l,r),a!==null&&(vn(a,e,r),hl(a,e,r))}function qE(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Im(e,r){qE(e,r),(e=e.alternate)&&qE(e,r)}function YE(e){if(e.tag===13||e.tag===31){var r=Fs(e,67108864);r!==null&&vn(r,e,67108864),Im(e,67108864)}}function KE(e){if(e.tag===13||e.tag===31){var r=Nn();r=Ho(r);var a=Fs(e,r);a!==null&&vn(a,e,r),Im(e,r)}}var Kc=!0;function Yb(e,r,a,l){var f=K.T;K.T=null;var d=rt.p;try{rt.p=2,Rm(e,r,a,l)}finally{rt.p=d,K.T=f}}function Kb(e,r,a,l){var f=K.T;K.T=null;var d=rt.p;try{rt.p=8,Rm(e,r,a,l)}finally{rt.p=d,K.T=f}}function Rm(e,r,a,l){if(Kc){var f=bm(l);if(f===null)hm(e,r,l,Qc,a),$E(e,l);else if($b(f,e,r,a,l))l.stopPropagation();else if($E(e,l),r&4&&-1<Qb.indexOf(e)){for(;f!==null;){var d=Vi(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=Zn(d.pendingLanes);if(y!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;y;){var N=1<<31-sn(y);A.entanglements[1]|=N,y&=~N}vi(d),(Gt&6)===0&&(Nc=ze()+500,wl(0))}}break;case 31:case 13:A=Fs(d,2),A!==null&&vn(A,d,2),Mc(),Im(d,2)}if(d=bm(l),d===null&&hm(e,r,l,Qc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else hm(e,r,l,null,a)}}function bm(e){return e=ba(e),wm(e)}var Qc=null;function wm(e){if(Qc=null,e=Li(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=h(r),e!==null)return e;e=null}else if(a===31){if(e=m(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Qc=e,null}function QE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wu()){case Oe:return 2;case Me:return 8;case Oi:case Cu:return 32;case Po:return 268435456;default:return 32}default:return 32}}var Cm=!1,Xr=null,Jr=null,Wr=null,Vl=new Map,Ul=new Map,Zr=[],Qb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $E(e,r){switch(e){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(r.pointerId)}}function xl(e,r,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Vi(r),r!==null&&YE(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function $b(e,r,a,l,f){switch(r){case"focusin":return Xr=xl(Xr,e,r,a,l,f),!0;case"dragenter":return Jr=xl(Jr,e,r,a,l,f),!0;case"mouseover":return Wr=xl(Wr,e,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Vl.set(d,xl(Vl.get(d)||null,e,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ul.set(d,xl(Ul.get(d)||null,e,r,a,l,f)),!0}return!1}function XE(e){var r=Li(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){e.blockedOn=r,Nu(e.priority,function(){KE(a)});return}}else if(r===31){if(r=m(a),r!==null){e.blockedOn=r,Nu(e.priority,function(){KE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $c(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=bm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ra=l,a.target.dispatchEvent(l),Ra=null}else return r=Vi(a),r!==null&&YE(r),e.blockedOn=a,!1;r.shift()}return!0}function JE(e,r,a){$c(e)&&a.delete(r)}function Xb(){Cm=!1,Xr!==null&&$c(Xr)&&(Xr=null),Jr!==null&&$c(Jr)&&(Jr=null),Wr!==null&&$c(Wr)&&(Wr=null),Vl.forEach(JE),Ul.forEach(JE)}function Xc(e,r){e.blockedOn===r&&(e.blockedOn=null,Cm||(Cm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Xb)))}var Jc=null;function WE(e){Jc!==e&&(Jc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Jc===e&&(Jc=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],f=e[r+2];if(typeof l!="function"){if(wm(l||a)===null)continue;break}var d=Vi(a);d!==null&&(e.splice(r,3),r-=3,bd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ro(e){function r(N){return Xc(N,e)}Xr!==null&&Xc(Xr,e),Jr!==null&&Xc(Jr,e),Wr!==null&&Xc(Wr,e),Vl.forEach(r),Ul.forEach(r);for(var a=0;a<Zr.length;a++){var l=Zr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Zr.length&&(a=Zr[0],a.blockedOn===null);)XE(a),a.blockedOn===null&&Zr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],y=f[je]||null;if(typeof d=="function")y||WE(a);else if(y){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,y=d[je]||null)A=y.formAction;else if(wm(f)!==null)continue}else A=y.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),WE(a)}}}function ZE(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Om(e){this._internalRoot=e}Wc.prototype.render=Om.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Nn();GE(a,l,e,r,null,null)},Wc.prototype.unmount=Om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;GE(e.current,2,null,e,null,null),Mc(),r[hi]=null}};function Wc(e){this._internalRoot=e}Wc.prototype.unstable_scheduleHydration=function(e){if(e){var r=Di();e={blockedOn:null,target:e,priority:r};for(var a=0;a<Zr.length&&r!==0&&r<Zr[a].priority;a++);Zr.splice(a,0,e),a===0&&XE(e)}};var tv=t.version;if(tv!=="19.2.3")throw Error(s(527,tv,"19.2.3"));rt.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(r),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Jb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{dr=Zc.inject(Jb),Je=Zc}catch{}}return kl.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",f=oy,d=ly,y=uy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),r=jE(e,1,!1,null,null,a,l,null,f,d,y,ZE),e[hi]=r.current,cm(e),new Om(r)},kl.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=oy,y=ly,A=uy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=jE(e,1,!0,r,a??null,l,f,N,d,y,A,ZE),r.context=FE(null),a=r.current,l=Nn(),l=Ho(l),f=kr(l),f.callback=null,Br(a,f,l),a=l,r.current.lanes=a,gr(r,a),vi(r),e[hi]=r.current,cm(e),new Wc(r)},kl.version="19.2.3",kl}var cv;function uw(){if(cv)return Mm.exports;cv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Mm.exports=lw(),Mm.exports}var cw=uw();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hv="popstate";function hw(i={}){function t(o,u){let{pathname:h="/",search:m="",hash:p=""}=fa(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Zm("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:tu(u))}function s(o,u){Vn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return dw(t,n,s,i)}function le(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Vn(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fw(){return Math.random().toString(36).substring(2,10)}function fv(i,t){return{usr:i.state,key:i.key,idx:t}}function Zm(i,t,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?fa(t):t,state:n,key:t&&t.key||s||fw()}}function tu({pathname:i="/",search:t="",hash:n=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function fa(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function dw(i,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function T(){m="POP";let M=v(),tt=M==null?null:M-g;g=M,p&&p({action:m,location:z.location,delta:tt})}function S(M,tt){m="PUSH";let nt=Zm(z.location,M,tt);n&&n(nt,M),g=v()+1;let W=fv(nt,g),ht=z.createHref(nt);try{h.pushState(W,"",ht)}catch(Tt){if(Tt instanceof DOMException&&Tt.name==="DataCloneError")throw Tt;o.location.assign(ht)}u&&p&&p({action:m,location:z.location,delta:1})}function b(M,tt){m="REPLACE";let nt=Zm(z.location,M,tt);n&&n(nt,M),g=v();let W=fv(nt,g),ht=z.createHref(nt);h.replaceState(W,"",ht),u&&p&&p({action:m,location:z.location,delta:0})}function x(M){return mw(M)}let z={get action(){return m},get location(){return i(o,h)},listen(M){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(hv,T),p=M,()=>{o.removeEventListener(hv,T),p=null}},createHref(M){return t(o,M)},createURL:x,encodeLocation(M){let tt=x(M);return{pathname:tt.pathname,search:tt.search,hash:tt.hash}},push:S,replace:b,go(M){return h.go(M)}};return z}function mw(i,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),le(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:tu(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function sA(i,t,n="/"){return pw(i,t,n,!1)}function pw(i,t,n,s){let o=typeof t=="string"?fa(t):t,u=ar(o.pathname||"/",n);if(u==null)return null;let h=aA(i);gw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=ww(u);m=Rw(h[p],g,s)}return m}function aA(i,t=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let v={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;le(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=rr([s,v.relativePath]),S=n.concat(v);h.children&&h.children.length>0&&(le(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),aA(h.children,t,S,T,p)),!(h.path==null&&!h.index)&&t.push({path:T,score:Sw(T,h.index),routesMeta:S})};return i.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of oA(h.path))u(h,m,!0,g)}),t}function oA(i){let t=i.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=oA(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function gw(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:Iw(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var _w=/^:[\w-]+$/,yw=3,Ew=2,vw=1,Tw=10,Aw=-2,dv=i=>i==="*";function Sw(i,t){let n=i.split("/"),s=n.length;return n.some(dv)&&(s+=Aw),t&&(s+=Ew),n.filter(o=>!dv(o)).reduce((o,u)=>o+(_w.test(u)?yw:u===""?vw:Tw),s)}function Iw(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function Rw(i,t,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?t:t.slice(u.length)||"/",T=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:rr([u,T.pathname]),pathnameBase:Dw(rr([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=rr([u,T.pathnameBase]))}return h}function bh(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=bw(i.path,i.caseSensitive,i.end),o=t.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},S)=>{if(v==="*"){let x=m[S]||"";h=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const b=m[S];return T&&!b?g[v]=void 0:g[v]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function bw(i,t=!1,n=!0){Vn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function ww(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function ar(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var lA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cw=i=>lA.test(i);function Ow(i,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?fa(i):i,u;if(n)if(Cw(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Vn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=mv(n.substring(1),"/"):u=mv(n,t)}else u=t;return{pathname:u,search:Mw(s),hash:Lw(o)}}function mv(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function xm(i,t,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nw(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function uA(i){let t=Nw(i);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function cA(i,t,n,s=!1){let o;typeof i=="string"?o=fa(i):(o={...i},le(!o.pathname||!o.pathname.includes("?"),xm("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),xm("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),xm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=t.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?t[T]:"/"}let p=Ow(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var rr=i=>i.join("/").replace(/\/\/+/g,"/"),Dw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Mw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Lw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Vw=class{constructor(i,t,n,s=!1){this.status=i,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Uw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function xw(i){return i.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var hA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fA(i,t){let n=i;if(typeof n!="string"||!lA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(hA)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=ar(h.pathname,t);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Vn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dA=["POST","PUT","PATCH","DELETE"];new Set(dA);var Pw=["GET",...dA];new Set(Pw);var wo=G.createContext(null);wo.displayName="DataRouter";var Wh=G.createContext(null);Wh.displayName="DataRouterState";var kw=G.createContext(!1),mA=G.createContext({isTransitioning:!1});mA.displayName="ViewTransition";var Bw=G.createContext(new Map);Bw.displayName="Fetchers";var zw=G.createContext(null);zw.displayName="Await";var Jn=G.createContext(null);Jn.displayName="Navigation";var lu=G.createContext(null);lu.displayName="Location";var hr=G.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var Up=G.createContext(null);Up.displayName="RouteError";var pA="REACT_ROUTER_ERROR",Hw="REDIRECT",jw="ROUTE_ERROR_RESPONSE";function Fw(i){if(i.startsWith(`${pA}:${Hw}:{`))try{let t=JSON.parse(i.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Gw(i){if(i.startsWith(`${pA}:${jw}:{`))try{let t=JSON.parse(i.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Vw(t.status,t.statusText,t.data)}catch{}}function qw(i,{relative:t}={}){le(uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Jn),{hash:o,pathname:u,search:h}=cu(i,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:rr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function uu(){return G.useContext(lu)!=null}function Ss(){return le(uu(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(lu).location}var gA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _A(i){G.useContext(Jn).static||G.useLayoutEffect(i)}function xp(){let{isDataRoute:i}=G.useContext(hr);return i?r1():Yw()}function Yw(){le(uu(),"useNavigate() may be used only in the context of a <Router> component.");let i=G.useContext(wo),{basename:t,navigator:n}=G.useContext(Jn),{matches:s}=G.useContext(hr),{pathname:o}=Ss(),u=JSON.stringify(uA(s)),h=G.useRef(!1);return _A(()=>{h.current=!0}),G.useCallback((p,g={})=>{if(Vn(h.current,gA),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=cA(p,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:rr([t,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[t,n,u,o,i])}G.createContext(null);function cu(i,{relative:t}={}){let{matches:n}=G.useContext(hr),{pathname:s}=Ss(),o=JSON.stringify(uA(n));return G.useMemo(()=>cA(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function Kw(i,t){return yA(i,t)}function yA(i,t,n,s,o){var nt;le(uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=G.useContext(Jn),{matches:h}=G.useContext(hr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let W=T&&T.path||"";vA(g,!T||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let S=Ss(),b;if(t){let W=typeof t=="string"?fa(t):t;le(v==="/"||((nt=W.pathname)==null?void 0:nt.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),b=W}else b=S;let x=b.pathname||"/",z=x;if(v!=="/"){let W=v.replace(/^\//,"").split("/");z="/"+x.replace(/^\//,"").split("/").slice(W.length).join("/")}let M=sA(i,{pathname:z});Vn(T||M!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Vn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let tt=Ww(M&&M.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:rr([v,u.encodeLocation?u.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:rr([v,u.encodeLocation?u.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),h,n,s,o);return t&&tt?G.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},tt):tt}function Qw(){let i=i1(),t=Uw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:o},n):null,h)}var $w=G.createElement(Qw,null),EA=class extends G.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.onError?this.props.onError(i,t):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=Gw(i.digest);n&&(i=n)}let t=i!==void 0?G.createElement(hr.Provider,{value:this.props.routeContext},G.createElement(Up.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?G.createElement(Xw,{error:i},t):t}};EA.contextType=kw;var Pm=new WeakMap;function Xw({children:i,error:t}){let{basename:n}=G.useContext(Jn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=Fw(t.digest);if(s){let o=Pm.get(t);if(o)throw o;let u=fA(s.location,n);if(hA&&!Pm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Pm.set(t,h),h}return G.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function Jw({routeContext:i,match:t,children:n}){let s=G.useContext(wo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(hr.Provider,{value:i},n)}function Ww(i,t=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n==null?void 0:n.errors;if(h!=null){let v=u.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);le(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,p=-1;if(n)for(let v=0;v<u.length;v++){let T=u[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=v),T.route.id){let{loaderData:S,errors:b}=n,x=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!b||b[T.route.id]===void 0);if(T.route.lazy||x){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(v,T)=>{var S,b;s(v,{location:n.location,params:((b=(S=n.matches)==null?void 0:S[0])==null?void 0:b.params)??{},unstable_pattern:xw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((v,T,S)=>{let b,x=!1,z=null,M=null;n&&(b=h&&T.route.id?h[T.route.id]:void 0,z=T.route.errorElement||$w,m&&(p<0&&S===0?(vA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,M=null):p===S&&(x=!0,M=T.route.hydrateFallbackElement||null)));let tt=t.concat(u.slice(0,S+1)),nt=()=>{let W;return b?W=z:x?W=M:T.route.Component?W=G.createElement(T.route.Component,null):T.route.element?W=T.route.element:W=v,G.createElement(Jw,{match:T,routeContext:{outlet:v,matches:tt,isDataRoute:n!=null},children:W})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?G.createElement(EA,{location:n.location,revalidation:n.revalidation,component:z,error:b,children:nt(),routeContext:{outlet:null,matches:tt,isDataRoute:!0},onError:g}):nt()},null)}function Pp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zw(i){let t=G.useContext(wo);return le(t,Pp(i)),t}function t1(i){let t=G.useContext(Wh);return le(t,Pp(i)),t}function e1(i){let t=G.useContext(hr);return le(t,Pp(i)),t}function kp(i){let t=e1(i),n=t.matches[t.matches.length-1];return le(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function n1(){return kp("useRouteId")}function i1(){var s;let i=G.useContext(Up),t=t1("useRouteError"),n=kp("useRouteError");return i!==void 0?i:(s=t.errors)==null?void 0:s[n]}function r1(){let{router:i}=Zw("useNavigate"),t=kp("useNavigate"),n=G.useRef(!1);return _A(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Vn(n.current,gA),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var pv={};function vA(i,t,n){!t&&!pv[i]&&(pv[i]=!0,Vn(!1,n))}G.memo(s1);function s1({routes:i,future:t,state:n,onError:s}){return yA(i,void 0,n,s,t)}function tp(i){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function a1({basename:i="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){le(!uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=G.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=fa(n));let{pathname:g="/",search:v="",hash:T="",state:S=null,key:b="default"}=n,x=G.useMemo(()=>{let z=ar(g,m);return z==null?null:{location:{pathname:z,search:v,hash:T,state:S,key:b},navigationType:s}},[m,g,v,T,S,b,s]);return Vn(x!=null,`<Router basename="${m}"> is not able to match the URL "${g}${v}${T}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:G.createElement(Jn.Provider,{value:p},G.createElement(lu.Provider,{children:t,value:x}))}function o1({children:i,location:t}){return Kw(ep(i),t)}function ep(i,t=[]){let n=[];return G.Children.forEach(i,(s,o)=>{if(!G.isValidElement(s))return;let u=[...t,o];if(s.type===G.Fragment){n.push.apply(n,ep(s.props.children,u));return}le(s.type===tp,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ep(s.props.children,u)),n.push(h)}),n}var dh="get",mh="application/x-www-form-urlencoded";function Zh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function l1(i){return Zh(i)&&i.tagName.toLowerCase()==="button"}function u1(i){return Zh(i)&&i.tagName.toLowerCase()==="form"}function c1(i){return Zh(i)&&i.tagName.toLowerCase()==="input"}function h1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function f1(i,t){return i.button===0&&(!t||t==="_self")&&!h1(i)}function np(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((t,n)=>{let s=i[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function d1(i,t){let n=np(i);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var th=null;function m1(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var p1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function km(i){return i!=null&&!p1.has(i)?(Vn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):i}function g1(i,t){let n,s,o,u,h;if(u1(i)){let m=i.getAttribute("action");s=m?ar(m,t):null,n=i.getAttribute("method")||dh,o=km(i.getAttribute("enctype"))||mh,u=new FormData(i)}else if(l1(i)||c1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?ar(p,t):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||dh,o=km(i.getAttribute("formenctype"))||km(m.getAttribute("enctype"))||mh,u=new FormData(m,i),!m1()){let{name:g,type:v,value:T}=i;if(v==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(Zh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,s=null,o=mh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function _1(i,t,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&ar(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function y1(i,t){if(i.id in t)return t[i.id];try{let n=await import(i.module);return t[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function v1(i,t,n){let s=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await y1(u,n);return h.links?h.links():[]}return[]}));return I1(s.flat(1).filter(E1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function gv(i,t,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var v;return n[g].pathname!==p.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var T;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function T1(i,t,{includeHydrateFallback:n}={}){return A1(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function A1(i){return[...new Set(i)]}function S1(i){let t={},n=Object.keys(i).sort();for(let s of n)t[s]=i[s];return t}function I1(i,t){let n=new Set;return new Set(t),i.reduce((s,o)=>{let u=JSON.stringify(S1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function TA(){let i=G.useContext(wo);return Bp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function R1(){let i=G.useContext(Wh);return Bp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var zp=G.createContext(void 0);zp.displayName="FrameworkContext";function AA(){let i=G.useContext(zp);return Bp(i,"You must render this element inside a <HydratedRouter> element"),i}function b1(i,t){let n=G.useContext(zp),[s,o]=G.useState(!1),[u,h]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=t,S=G.useRef(null);G.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=tt=>{tt.forEach(nt=>{h(nt.isIntersecting)})},M=new IntersectionObserver(z,{threshold:.5});return S.current&&M.observe(S.current),()=>{M.disconnect()}}},[i]),G.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let b=()=>{o(!0)},x=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Bl(m,b),onBlur:Bl(p,x),onMouseEnter:Bl(g,b),onMouseLeave:Bl(v,x),onTouchStart:Bl(T,b)}]:[!1,S,{}]}function Bl(i,t){return n=>{i&&i(n),n.defaultPrevented||t(n)}}function w1({page:i,...t}){let{router:n}=TA(),s=G.useMemo(()=>sA(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?G.createElement(O1,{page:i,matches:s,...t}):null}function C1(i){let{manifest:t,routeModules:n}=AA(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return v1(i,t,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,t,n]),s}function O1({page:i,matches:t,...n}){let s=Ss(),{future:o,manifest:u,routeModules:h}=AA(),{basename:m}=TA(),{loaderData:p,matches:g}=R1(),v=G.useMemo(()=>gv(i,t,g,u,s,"data"),[i,t,g,u,s]),T=G.useMemo(()=>gv(i,t,g,u,s,"assets"),[i,t,g,u,s]),S=G.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let z=new Set,M=!1;if(t.forEach(nt=>{var ht;let W=u.routes[nt.route.id];!W||!W.hasLoader||(!v.some(Tt=>Tt.route.id===nt.route.id)&&nt.route.id in p&&((ht=h[nt.route.id])!=null&&ht.shouldRevalidate)||W.hasClientLoader?M=!0:z.add(nt.route.id))}),z.size===0)return[];let tt=_1(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return M&&z.size>0&&tt.searchParams.set("_routes",t.filter(nt=>z.has(nt.route.id)).map(nt=>nt.route.id).join(",")),[tt.pathname+tt.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,v,t,i,h]),b=G.useMemo(()=>T1(T,u),[T,u]),x=C1(T);return G.createElement(G.Fragment,null,S.map(z=>G.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),b.map(z=>G.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),x.map(({key:z,link:M})=>G.createElement("link",{key:z,nonce:n.nonce,...M})))}function N1(...i){return t=>{i.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var D1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D1&&(window.__reactRouterVersion="7.12.0")}catch{}function M1({basename:i,children:t,unstable_useTransitions:n,window:s}){let o=G.useRef();o.current==null&&(o.current=hw({window:s,v5Compat:!0}));let u=o.current,[h,m]=G.useState({action:u.action,location:u.location}),p=G.useCallback(g=>{n===!1?m(g):G.startTransition(()=>m(g))},[n]);return G.useLayoutEffect(()=>u.listen(p),[u,p]),G.createElement(a1,{basename:i,children:t,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var SA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IA=G.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:S,...b},x){let{basename:z,unstable_useTransitions:M}=G.useContext(Jn),tt=typeof g=="string"&&SA.test(g),nt=fA(g,z);g=nt.to;let W=qw(g,{relative:o}),[ht,Tt,_t]=b1(s,b),D=x1(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:M});function R(O){t&&t(O),O.defaultPrevented||D(O)}let w=G.createElement("a",{...b,..._t,href:nt.absoluteURL||W,onClick:nt.isExternal||u?t:R,ref:N1(x,Tt),target:p,"data-discover":!tt&&n==="render"?"true":void 0});return ht&&!tt?G.createElement(G.Fragment,null,w,G.createElement(w1,{page:W})):w});IA.displayName="Link";var L1=G.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let T=cu(h,{relative:g.relative}),S=Ss(),b=G.useContext(Wh),{navigator:x,basename:z}=G.useContext(Jn),M=b!=null&&j1(T)&&m===!0,tt=x.encodeLocation?x.encodeLocation(T).pathname:T.pathname,nt=S.pathname,W=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(nt=nt.toLowerCase(),W=W?W.toLowerCase():null,tt=tt.toLowerCase()),W&&z&&(W=ar(W,z)||W);const ht=tt!=="/"&&tt.endsWith("/")?tt.length-1:tt.length;let Tt=nt===tt||!o&&nt.startsWith(tt)&&nt.charAt(ht)==="/",_t=W!=null&&(W===tt||!o&&W.startsWith(tt)&&W.charAt(tt.length)==="/"),D={isActive:Tt,isPending:_t,isTransitioning:M},R=Tt?t:void 0,w;typeof s=="function"?w=s(D):w=[s,Tt?"active":null,_t?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(D):u;return G.createElement(IA,{...g,"aria-current":R,className:w,ref:v,style:O,to:h,viewTransition:m},typeof p=="function"?p(D):p)});L1.displayName="NavLink";var V1=G.forwardRef(({discover:i="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:h=dh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:S,...b},x)=>{let{unstable_useTransitions:z}=G.useContext(Jn),M=z1(),tt=H1(m,{relative:g}),nt=h.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&SA.test(m),ht=Tt=>{if(p&&p(Tt),Tt.defaultPrevented)return;Tt.preventDefault();let _t=Tt.nativeEvent.submitter,D=(_t==null?void 0:_t.getAttribute("formmethod"))||h,R=()=>M(_t||Tt.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:S});z&&n!==!1?G.startTransition(()=>R()):R()};return G.createElement("form",{ref:x,method:nt,action:tt,onSubmit:s?p:ht,...b,"data-discover":!W&&i==="render"?"true":void 0})});V1.displayName="Form";function U1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RA(i){let t=G.useContext(wo);return le(t,U1(i)),t}function x1(i,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=xp(),v=Ss(),T=cu(i,{relative:u});return G.useCallback(S=>{if(f1(S,t)){S.preventDefault();let b=n!==void 0?n:tu(v)===tu(T),x=()=>g(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?G.startTransition(()=>x()):x()}},[v,g,T,n,s,t,i,o,u,h,m,p])}function P1(i){Vn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=G.useRef(np(i)),n=G.useRef(!1),s=Ss(),o=G.useMemo(()=>d1(s.search,n.current?null:t.current),[s.search]),u=xp(),h=G.useCallback((m,p)=>{const g=np(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,h]}var k1=0,B1=()=>`__${String(++k1)}__`;function z1(){let{router:i}=RA("useSubmit"),{basename:t}=G.useContext(Jn),n=n1(),s=i.fetch,o=i.navigate;return G.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:v,body:T}=g1(u,t);if(h.navigate===!1){let S=h.fetcherKey||B1();await s(S,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,t,n])}function H1(i,{relative:t}={}){let{basename:n}=G.useContext(Jn),s=G.useContext(hr);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...cu(i||".",{relative:t})},h=Ss();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:rr([n,u.pathname])),tu(u)}function j1(i,{relative:t}={}){let n=G.useContext(mA);le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=RA("useViewTransitionState"),o=cu(i,{relative:t});if(!n.isTransitioning)return!1;let u=ar(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=ar(n.nextLocation.pathname,s)||n.nextLocation.pathname;return bh(o.pathname,h)!=null||bh(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bA=(...i)=>i.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=G.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>G.createElement("svg",{ref:p,...G1,width:t,height:t,stroke:i,strokeWidth:s?Number(n)*24/Number(t):n,className:bA("lucide",o),...m},[...h.map(([g,v])=>G.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=(i,t)=>{const n=G.forwardRef(({className:s,...o},u)=>G.createElement(q1,{ref:u,iconNode:t,className:bA(`lucide-${F1(i)}`,s),...o}));return n.displayName=`${i}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=Un("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Un("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Un("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=Un("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=Un("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=Un("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Un("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Un("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=Un("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=Un("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Un("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=Un("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=Un("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),nC=()=>{};var _v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},iC=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},NA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,b=g&63;p||(b=64,h||(S=64)),s.push(n[v],n[T],n[S],n[b])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(OA(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):iC(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new rC;const S=u<<2|m>>4;if(s.push(S),g!==64){const b=m<<4&240|g>>2;if(s.push(b),T!==64){const x=g<<6&192|T;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class rC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sC=function(i){const t=OA(i);return NA.encodeByteArray(t,!0)},Ch=function(i){return sC(i).replace(/\./g,"")},DA=function(i){try{return NA.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=()=>aC().__FIREBASE_DEFAULTS__,lC=()=>{if(typeof process>"u"||typeof _v>"u")return;const i=_v.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},uC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&DA(i[1]);return t&&JSON.parse(t)},tf=()=>{try{return nC()||oC()||lC()||uC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},MA=i=>{var t,n;return(n=(t=tf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[i]},cC=i=>{const t=MA(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},LA=()=>{var i;return(i=tf())===null||i===void 0?void 0:i.config},VA=i=>{var t;return(t=tf())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UA(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ch(JSON.stringify(n)),Ch(JSON.stringify(h)),""].join(".")}const Yl={};function dC(){const i={prod:[],emulator:[]};for(const t of Object.keys(Yl))Yl[t]?i.emulator.push(t):i.prod.push(t);return i}function mC(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let yv=!1;function xA(i,t){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Yl[i]===t||Yl[i]||yv)return;Yl[i]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=dC().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,b){S.setAttribute("width","24"),S.setAttribute("id",b),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{yv=!0,h()},S}function v(S,b){S.setAttribute("id",b),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=mC(s),b=n("text"),x=document.getElementById(b)||document.createElement("span"),z=n("learnmore"),M=document.getElementById(z)||document.createElement("a"),tt=n("preprendIcon"),nt=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const W=S.element;m(W),v(M,z);const ht=g();p(nt,tt),W.append(nt,x,M,ht),document.body.appendChild(W)}u?(x.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function gC(){var i;const t=(i=tf())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _C(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function EC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vC(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function TC(){return!gC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AC(){try{return typeof indexedDB=="object"}catch{return!1}}function SC(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="FirebaseError";class fr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=IC,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?RC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new fr(o,m,s)}}function RC(i,t){return i.replace(bC,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const bC=/\{\$([^}]+)}/g;function wC(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ms(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=t[o];if(Ev(u)&&Ev(h)){if(!ms(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Ev(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function CC(i,t){const n=new OC(i,t);return n.subscribe.bind(n)}class OC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");NC(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Bm),o.error===void 0&&(o.error=Bm),o.complete===void 0&&(o.complete=Bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NC(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function Bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(i){return i&&i._delegate?i._delegate:i}class la{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new hC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(LC(t))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=na){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=na){return this.instances.has(t)}getOptions(t=na){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:MC(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=na){return this.component?this.component.multipleInstances?t:na:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MC(i){return i===na?void 0:i}function LC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new DC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ut||(Ut={}));const UC={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},xC=Ut.INFO,PC={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},kC=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=PC[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Hp{constructor(t){this.name=t,this._logLevel=xC,this._logHandler=kC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const BC=(i,t)=>t.some(n=>i instanceof n);let vv,Tv;function zC(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HC(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PA=new WeakMap,ip=new WeakMap,kA=new WeakMap,zm=new WeakMap,jp=new WeakMap;function jC(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(os(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&PA.set(n,i)}).catch(()=>{}),jp.set(t,i),t}function FC(i){if(ip.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});ip.set(i,t)}let rp={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return ip.get(i);if(t==="objectStoreNames")return i.objectStoreNames||kA.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function GC(i){rp=i(rp)}function qC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Hm(this),t,...n);return kA.set(s,t.sort?t.sort():[t]),os(s)}:HC().includes(i)?function(...t){return i.apply(Hm(this),t),os(PA.get(this))}:function(...t){return os(i.apply(Hm(this),t))}}function YC(i){return typeof i=="function"?qC(i):(i instanceof IDBTransaction&&FC(i),BC(i,zC())?new Proxy(i,rp):i)}function os(i){if(i instanceof IDBRequest)return jC(i);if(zm.has(i))return zm.get(i);const t=YC(i);return t!==i&&(zm.set(i,t),jp.set(t,i)),t}const Hm=i=>jp.get(i);function KC(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),m=os(h);return s&&h.addEventListener("upgradeneeded",p=>{s(os(h.result),p.oldVersion,p.newVersion,os(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const QC=["get","getKey","getAll","getAllKeys","count"],$C=["put","add","delete","clear"],jm=new Map;function Av(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(jm.get(t))return jm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=$C.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||QC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return jm.set(t,u),u}GC(i=>({...i,get:(t,n,s)=>Av(t,n)||i.get(t,n,s),has:(t,n)=>!!Av(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function JC(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const sp="@firebase/app",Sv="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Hp("@firebase/app"),WC="@firebase/app-compat",ZC="@firebase/analytics-compat",tO="@firebase/analytics",eO="@firebase/app-check-compat",nO="@firebase/app-check",iO="@firebase/auth",rO="@firebase/auth-compat",sO="@firebase/database",aO="@firebase/data-connect",oO="@firebase/database-compat",lO="@firebase/functions",uO="@firebase/functions-compat",cO="@firebase/installations",hO="@firebase/installations-compat",fO="@firebase/messaging",dO="@firebase/messaging-compat",mO="@firebase/performance",pO="@firebase/performance-compat",gO="@firebase/remote-config",_O="@firebase/remote-config-compat",yO="@firebase/storage",EO="@firebase/storage-compat",vO="@firebase/firestore",TO="@firebase/ai",AO="@firebase/firestore-compat",SO="firebase",IO="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="[DEFAULT]",RO={[sp]:"fire-core",[WC]:"fire-core-compat",[tO]:"fire-analytics",[ZC]:"fire-analytics-compat",[nO]:"fire-app-check",[eO]:"fire-app-check-compat",[iO]:"fire-auth",[rO]:"fire-auth-compat",[sO]:"fire-rtdb",[aO]:"fire-data-connect",[oO]:"fire-rtdb-compat",[lO]:"fire-fn",[uO]:"fire-fn-compat",[cO]:"fire-iid",[hO]:"fire-iid-compat",[fO]:"fire-fcm",[dO]:"fire-fcm-compat",[mO]:"fire-perf",[pO]:"fire-perf-compat",[gO]:"fire-rc",[_O]:"fire-rc-compat",[yO]:"fire-gcs",[EO]:"fire-gcs-compat",[vO]:"fire-fst",[AO]:"fire-fst-compat",[TO]:"fire-vertex","fire-js":"fire-js",[SO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Map,bO=new Map,op=new Map;function Iv(i,t){try{i.container.addComponent(t)}catch(n){or.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function Eo(i){const t=i.name;if(op.has(t))return or.debug(`There were multiple attempts to register component ${t}.`),!1;op.set(t,i);for(const n of Oh.values())Iv(n,i);for(const n of bO.values())Iv(n,i);return!0}function Fp(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function Qn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new hu("app","Firebase",wO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=IO;function BA(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:ap,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(n||(n=LA()),!n)throw ls.create("no-options");const u=Oh.get(o);if(u){if(ms(n,u.options)&&ms(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const h=new VC(o);for(const p of op.values())h.addComponent(p);const m=new CO(n,s,h);return Oh.set(o,m),m}function zA(i=ap){const t=Oh.get(i);if(!t&&i===ap&&LA())return BA();if(!t)throw ls.create("no-app",{appName:i});return t}function us(i,t,n){var s;let o=(s=RO[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),or.warn(m.join(" "));return}Eo(new la(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="firebase-heartbeat-database",NO=1,eu="firebase-heartbeat-store";let Fm=null;function HA(){return Fm||(Fm=KC(OO,NO,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ls.create("idb-open",{originalErrorMessage:i.message})})),Fm}async function DO(i){try{const n=(await HA()).transaction(eu),s=await n.objectStore(eu).get(jA(i));return await n.done,s}catch(t){if(t instanceof fr)or.warn(t.message);else{const n=ls.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});or.warn(n.message)}}}async function Rv(i,t){try{const s=(await HA()).transaction(eu,"readwrite");await s.objectStore(eu).put(t,jA(i)),await s.done}catch(n){if(n instanceof fr)or.warn(n.message);else{const s=ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});or.warn(s.message)}}}function jA(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=1024,LO=30;class VO{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xO(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=bv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>LO){const h=PO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){or.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bv(),{heartbeatsToSend:s,unsentEntries:o}=UO(this._heartbeatsCache.heartbeats),u=Ch(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return or.warn(n),""}}}function bv(){return new Date().toISOString().substring(0,10)}function UO(i,t=MO){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),wv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),wv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class xO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AC()?SC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Rv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Rv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function wv(i){return Ch(JSON.stringify({version:2,heartbeats:i})).length}function PO(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(i){Eo(new la("platform-logger",t=>new XC(t),"PRIVATE")),Eo(new la("heartbeat",t=>new VO(t),"PRIVATE")),us(sp,Sv,i),us(sp,Sv,"esm2017"),us("fire-js","")}kO("");function Gp(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function FA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BO=FA,GA=new hu("auth","Firebase",FA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Hp("@firebase/auth");function zO(i,...t){Nh.logLevel<=Ut.WARN&&Nh.warn(`Auth (${Oo}): ${i}`,...t)}function ph(i,...t){Nh.logLevel<=Ut.ERROR&&Nh.error(`Auth (${Oo}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(i,...t){throw Yp(i,...t)}function ai(i,...t){return Yp(i,...t)}function qp(i,t,n){const s=Object.assign(Object.assign({},BO()),{[t]:n});return new hu("auth","Firebase",s).create(t,{appName:i.name})}function cs(i){return qp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qA(i,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&bi(i,"argument-error"),qp(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yp(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return GA.create(i,...t)}function At(i,t,...n){if(!i)throw Yp(t,...n)}function nr(i){const t="INTERNAL ASSERTION FAILED: "+i;throw ph(t),new Error(t)}function lr(i,t){i||nr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function HO(){return Cv()==="http:"||Cv()==="https:"}function Cv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HO()||yC()||"connection"in navigator)?navigator.onLine:!0}function FO(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,n){this.shortDelay=t,this.longDelay=n,lr(n>t,"Short delay should be less than long delay!"),this.isMobile=pC()||EC()}get(){return jO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(i,t){lr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YO=new du(3e4,6e4);function Qp(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function No(i,t,n,s,o={}){return KA(i,o,async()=>{let u={},h={};s&&(t==="GET"?h=s:u={body:JSON.stringify(s)});const m=fu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},u);return _C()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Co(i.emulatorConfig.host)&&(g.credentials="include"),YA.fetch()(await QA(i,i.config.apiHost,n,m),g)})}async function KA(i,t,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},GO),t);try{const o=new QO(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw eh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw eh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw eh(i,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw qp(i,v,g);bi(i,v)}}catch(o){if(o instanceof fr)throw o;bi(i,"network-request-failed",{message:String(o)})}}async function KO(i,t,n,s,o={}){const u=await No(i,t,n,s,o);return"mfaPendingCredential"in u&&bi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function QA(i,t,n,s){const o=`${t}${n}?${s}`,u=i,h=u.config.emulator?Kp(i.config,o):`${i.config.apiScheme}://${o}`;return qO.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class QO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ai(this.auth,"network-request-failed")),YO.get())})}}function eh(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ai(i,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(i,t){return No(i,"POST","/v1/accounts:delete",t)}async function Dh(i,t){return No(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function XO(i,t=!1){const n=Ce(i),s=await n.getIdToken(t),o=$p(s);At(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Kl(Gm(o.auth_time)),issuedAtTime:Kl(Gm(o.iat)),expirationTime:Kl(Gm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Gm(i){return Number(i)*1e3}function $p(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=DA(n);return o?JSON.parse(o):(ph("Failed to decode base64 JWT payload"),null)}catch(o){return ph("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Ov(i){const t=$p(i);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof fr&&JO(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function JO({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(i){var t;const n=i.auth,s=await i.getIdToken(),o=await nu(i,Dh(n,{idToken:s}));At(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?$A(u.providerUserInfo):[],m=tN(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),v=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new up(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,T)}async function ZO(i){const t=Ce(i);await Mh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tN(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function $A(i){return i.map(t=>{var{providerId:n}=t,s=Gp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(i,t){const n=await KA(i,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await QA(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Co(i.emulatorConfig.host)&&(p.credentials="include"),YA.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nN(i,t){return No(i,"POST","/v2/accounts:revokeToken",Qp(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ov(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){At(t.length!==0,"internal-error");const n=Ov(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await eN(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new mo;return s&&(At(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(At(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(At(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(i,t){At(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class si{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Gp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new up(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await nu(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return XO(this,t)}reload(){return ZO(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new si(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(cs(this.auth));const t=await this.getIdToken();return await nu(this,$O(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,h,m,p,g,v;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,b=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,x=(h=n.photoURL)!==null&&h!==void 0?h:void 0,z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,M=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,tt=(g=n.createdAt)!==null&&g!==void 0?g:void 0,nt=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:W,emailVerified:ht,isAnonymous:Tt,providerData:_t,stsTokenManager:D}=n;At(W&&D,t,"internal-error");const R=mo.fromJSON(this.name,D);At(typeof W=="string",t,"internal-error"),es(T,t.name),es(S,t.name),At(typeof ht=="boolean",t,"internal-error"),At(typeof Tt=="boolean",t,"internal-error"),es(b,t.name),es(x,t.name),es(z,t.name),es(M,t.name),es(tt,t.name),es(nt,t.name);const w=new si({uid:W,auth:t,email:S,emailVerified:ht,displayName:T,isAnonymous:Tt,photoURL:x,phoneNumber:b,tenantId:z,stsTokenManager:R,createdAt:tt,lastLoginAt:nt});return _t&&Array.isArray(_t)&&(w.providerData=_t.map(O=>Object.assign({},O))),M&&(w._redirectEventId=M),w}static async _fromIdTokenResponse(t,n,s=!1){const o=new mo;o.updateFromServerResponse(n);const u=new si({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Mh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];At(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?$A(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new mo;m.updateFromIdToken(s);const p=new si({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new up(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map;function ir(i){lr(i instanceof Function,"Expected a class definition");let t=Nv.get(i);return t?(lr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,Nv.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}XA.type="NONE";const Dv=XA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(i,t,n){return`firebase:${i}:${t}:${n}`}class po{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=gh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Dh(this.auth,{idToken:t}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new po(ir(Dv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ir(Dv);const h=gh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let T;if(typeof v=="string"){const S=await Dh(t,{idToken:v}).catch(()=>{});if(!S)break;T=await si._fromGetAccountInfoResponse(t,S,v)}else T=si._fromJSON(t,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new po(u,t,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new po(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(JA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nS(t))return"Blackberry";if(iS(t))return"Webos";if(WA(t))return"Safari";if((t.includes("chrome/")||ZA(t))&&!t.includes("edge/"))return"Chrome";if(eS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function JA(i=rn()){return/firefox\//i.test(i)}function WA(i=rn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ZA(i=rn()){return/crios\//i.test(i)}function tS(i=rn()){return/iemobile/i.test(i)}function eS(i=rn()){return/android/i.test(i)}function nS(i=rn()){return/blackberry/i.test(i)}function iS(i=rn()){return/webos/i.test(i)}function Xp(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function iN(i=rn()){var t;return Xp(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function rN(){return vC()&&document.documentMode===10}function rS(i=rn()){return Xp(i)||eS(i)||iS(i)||nS(i)||/windows phone/i.test(i)||tS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(i,t=[]){let n;switch(i){case"Browser":n=Mv(rn());break;case"Worker":n=`${Mv(rn())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((h,m)=>{try{const p=t(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(i,t={}){return No(i,"GET","/v2/passwordPolicy",Qp(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=6;class lN{constructor(t){var n,s,o,u;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:oN,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lv(this),this.idTokenSubscription=new Lv(this),this.beforeStateQueue=new sN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await po.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Dh(this,{idToken:t}),s=await si._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Qn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Mh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Qn(this.app))return Promise.reject(cs(this));const n=t?Ce(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Qn(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aN(this),n=new lN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await nN(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ir(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=sS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&zO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mu(i){return Ce(i)}class Lv{constructor(t){this.auth=t,this.observer=null,this.addObserver=CC(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cN(i){Jp=i}function hN(i){return Jp.loadJS(i)}function fN(){return Jp.gapiScript}function dN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(i,t){const n=Fp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ms(u,t??{}))return o;bi(o,"already-initialized")}return n.initialize({options:t})}function pN(i,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ir);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function gN(i,t,n){const s=mu(i);At(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=aS(t),{host:h,port:m}=_N(t),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(ms(g,s.config.emulator)&&ms(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Co(h)?(UA(`${u}//${h}${p}`),xA("Auth",!0)):yN()}function aS(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function _N(i){const t=aS(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Vv(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Vv(h)}}}function Vv(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function yN(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(t){return nr("not implemented")}_linkToIdToken(t,n){return nr("not implemented")}_getReauthenticationResolver(t){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(i,t){return KO(i,"POST","/v1/accounts:signInWithIdp",Qp(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="http://localhost";class ua extends oS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ua(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Gp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ua(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const n=this.buildRequest();return go(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,go(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,go(t,n)}buildRequest(){const t={requestUri:EN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=fu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends ef{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends pu{constructor(){super("facebook.com")}static credential(t){return ua._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return is.credential(t.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ua._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return er.credential(n,s)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends pu{constructor(){super("github.com")}static credential(t){return ua._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rs.credentialFromTaggedObject(t)}static credentialFromError(t){return rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rs.credential(t.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends pu{constructor(){super("twitter.com")}static credential(t,n){return ua._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ss.credentialFromTaggedObject(t)}static credentialFromError(t){return ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ss.credential(n,s)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await si._fromIdTokenResponse(t,s,o),h=Uv(s);return new vo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Uv(s);return new vo({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Uv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends fr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Lh(t,n,s,o)}}function lS(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(i,u,t,s):u})}async function vN(i,t,n=!1){const s=await nu(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return vo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(i,t,n=!1){const{auth:s}=i;if(Qn(s.app))return Promise.reject(cs(s));const o="reauthenticate";try{const u=await nu(i,lS(s,o,t,i),n);At(u.idToken,s,"internal-error");const h=$p(u.idToken);At(h,s,"internal-error");const{sub:m}=h;return At(i.uid===m,s,"user-mismatch"),vo._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&bi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(i,t,n=!1){if(Qn(i.app))return Promise.reject(cs(i));const s="signIn",o=await lS(i,s,t),u=await vo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function SN(i,t,n,s){return Ce(i).onIdTokenChanged(t,n,s)}function IN(i,t,n){return Ce(i).beforeAuthStateChanged(t,n)}function uS(i,t,n,s){return Ce(i).onAuthStateChanged(t,n,s)}function RN(i){return Ce(i).signOut()}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=1e3,wN=10;class hS extends cS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);rN()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,wN):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},bN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}hS.type="LOCAL";const CN=hS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS extends cS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}fS.type="SESSION";const dS=fS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new nf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await ON(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Wp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function DN(i){Ai().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function MN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LN(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function VN(){return mS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="firebaseLocalStorageDb",UN=1,Uh="firebaseLocalStorage",gS="fbase_key";class gu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(i,t){return i.transaction([Uh],t?"readwrite":"readonly").objectStore(Uh)}function xN(){const i=indexedDB.deleteDatabase(pS);return new gu(i).toPromise()}function cp(){const i=indexedDB.open(pS,UN);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Uh,{keyPath:gS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Uh)?t(s):(s.close(),await xN(),t(await cp()))})})}async function xv(i,t,n){const s=rf(i,!0).put({[gS]:t,value:n});return new gu(s).toPromise()}async function PN(i,t){const n=rf(i,!1).get(t),s=await new gu(n).toPromise();return s===void 0?null:s.value}function Pv(i,t){const n=rf(i,!0).delete(t);return new gu(n).toPromise()}const kN=800,BN=3;class _S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>BN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(VN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await MN(),!this.activeServiceWorker)return;this.sender=new NN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||LN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cp();return await xv(t,Vh,"1"),await Pv(t,Vh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>xv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>PN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Pv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=rf(o,!1).getAll();return new gu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_S.type="LOCAL";const zN=_S;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(i,t){return t?ir(t):(At(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends oS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return go(t,this._buildIdpRequest())}_linkToIdToken(t,n){return go(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return go(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function HN(i){return AN(i.auth,new tg(i),i.bypassAuthState)}function jN(i){const{auth:t,user:n}=i;return At(n,t,"internal-error"),TN(n,new tg(i),i.bypassAuthState)}async function FN(i){const{auth:t,user:n}=i;return At(n,t,"internal-error"),vN(n,new tg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return HN;case"linkViaPopup":case"linkViaRedirect":return FN;case"reauthViaPopup":case"reauthViaRedirect":return jN;default:bi(this.auth,"internal-error")}}resolve(t){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new du(2e3,1e4);async function qN(i,t,n){if(Qn(i.app))return Promise.reject(ai(i,"operation-not-supported-in-this-environment"));const s=mu(i);qA(i,t,ef);const o=Zp(s,n);return new ra(s,"signInViaPopup",t,o).executeNotNull()}class ra extends yS{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const t=Wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,GN.get())};t()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="pendingRedirect",_h=new Map;class KN extends yS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=_h.get(this.auth._key());if(!t){try{const s=await QN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}_h.set(this.auth._key(),t)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QN(i,t){const n=vS(t),s=ES(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function $N(i,t){return ES(i)._set(vS(t),"true")}function XN(i,t){_h.set(i._key(),t)}function ES(i){return ir(i._redirectPersistence)}function vS(i){return gh(YN,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(i,t,n){return JN(i,t,n)}async function JN(i,t,n){if(Qn(i.app))return Promise.reject(cs(i));const s=mu(i);qA(i,t,ef),await s._initializationPromise;const o=Zp(s,n);return await $N(o,s),o._openRedirect(s,t,"signInViaRedirect")}async function WN(i,t,n=!1){if(Qn(i.app))return Promise.reject(cs(i));const s=mu(i),o=Zp(s,t),h=await new KN(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=600*1e3;class tD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!eD(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!TS(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ZN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(t))}saveEventToCache(t){this.cachedEventUids.add(Bv(t)),this.lastProcessedEventTime=Date.now()}}function Bv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function TS({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function eD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(i,t={}){return No(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rD=/^https?/;async function sD(i){if(i.config.emulator)return;const{authorizedDomains:t}=await nD(i);for(const n of t)try{if(aD(n))return}catch{}bi(i,"unauthorized-domain")}function aD(i){const t=lp(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!rD.test(n))return!1;if(iD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new du(3e4,6e4);function zv(){const i=Ai().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function lD(i){return new Promise((t,n)=>{var s,o,u;function h(){zv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zv(),n(ai(i,"network-request-failed"))},timeout:oD.get()})}if(!((o=(s=Ai().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Ai().gapi)===null||u===void 0)&&u.load)h();else{const m=dN("iframefcb");return Ai()[m]=()=>{gapi.load?h():n(ai(i,"network-request-failed"))},hN(`${fN()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw yh=null,t})}let yh=null;function uD(i){return yh=yh||lD(i),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new du(5e3,15e3),hD="__/auth/iframe",fD="emulator/auth/iframe",dD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pD(i){const t=i.config;At(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Kp(t,fD):`https://${i.config.authDomain}/${hD}`,s={apiKey:t.apiKey,appName:i.name,v:Oo},o=mD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function gD(i){const t=await uD(i),n=Ai().gapi;return At(n,i,"internal-error"),t.open({where:document.body,url:pD(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ai(i,"network-request-failed"),m=Ai().setTimeout(()=>{u(h)},cD.get());function p(){Ai().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yD=500,ED=600,vD="_blank",TD="http://localhost";class Hv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AD(i,t,n,s=yD,o=ED){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},_D),{width:s.toString(),height:o.toString(),top:u,left:h}),g=rn().toLowerCase();n&&(m=ZA(g)?vD:n),JA(g)&&(t=t||TD,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[b,x])=>`${S}${b}=${x},`,"");if(iN(g)&&m!=="_self")return SD(t||"",m),new Hv(null);const T=window.open(t||"",m,v);At(T,i,"popup-blocked");try{T.focus()}catch{}return new Hv(T)}function SD(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="__/auth/handler",RD="emulator/auth/handler",bD=encodeURIComponent("fac");async function jv(i,t,n,s,o,u){At(i.config.authDomain,i,"auth-domain-config-required"),At(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Oo,eventId:o};if(t instanceof ef){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",wC(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))h[v]=T}if(t instanceof pu){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${bD}=${encodeURIComponent(p)}`:"";return`${wD(i)}?${fu(m).slice(1)}${g}`}function wD({config:i}){return i.emulator?Kp(i,RD):`https://${i.authDomain}/${ID}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class CD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dS,this._completeRedirectFn=WN,this._overrideRedirectResult=XN}async _openPopup(t,n,s,o){var u;lr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await jv(t,n,s,lp(),o);return AD(t,h,Wp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await jv(t,n,s,lp(),o);return DN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(lr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await gD(t),s=new tD(t);return n.register("authEvent",o=>(At(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(qm,{type:qm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[qm];h!==void 0&&n(!!h),bi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return rS()||WA()||Xp()}}const OD=CD;var Fv="@firebase/auth",Gv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MD(i){Eo(new la("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;At(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sS(i)},g=new uN(s,o,u,p);return pN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Eo(new la("auth-internal",t=>{const n=mu(t.getProvider("auth").getImmediate());return(s=>new ND(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(Fv,Gv,DD(i)),us(Fv,Gv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=300,VD=VA("authIdTokenMaxAge")||LD;let qv=null;const UD=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>VD)return;const o=n==null?void 0:n.token;qv!==o&&(qv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xD(i=zA()){const t=Fp(i,"auth");if(t.isInitialized())return t.getImmediate();const n=mN(i,{popupRedirectResolver:OD,persistence:[zN,CN,dS]}),s=VA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=UD(u.toString());IN(n,h,()=>h(n.currentUser)),SN(n,m=>h(m))}}const o=MA("auth");return o&&gN(n,`http://${o}`),n}function PD(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}cN({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",PD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MD("Browser");var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,AS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,R){function w(){}w.prototype=R.prototype,D.D=R.prototype,D.prototype=new w,D.prototype.constructor=D,D.C=function(O,V,P){for(var C=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)C[$t-2]=arguments[$t];return R.prototype[V].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,w){w||(w=0);var O=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)O[V]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(V=0;16>V;++V)O[V]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=D.g[0],w=D.g[1],V=D.g[2];var P=D.g[3],C=R+(P^w&(V^P))+O[0]+3614090360&4294967295;R=w+(C<<7&4294967295|C>>>25),C=P+(V^R&(w^V))+O[1]+3905402710&4294967295,P=R+(C<<12&4294967295|C>>>20),C=V+(w^P&(R^w))+O[2]+606105819&4294967295,V=P+(C<<17&4294967295|C>>>15),C=w+(R^V&(P^R))+O[3]+3250441966&4294967295,w=V+(C<<22&4294967295|C>>>10),C=R+(P^w&(V^P))+O[4]+4118548399&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(V^R&(w^V))+O[5]+1200080426&4294967295,P=R+(C<<12&4294967295|C>>>20),C=V+(w^P&(R^w))+O[6]+2821735955&4294967295,V=P+(C<<17&4294967295|C>>>15),C=w+(R^V&(P^R))+O[7]+4249261313&4294967295,w=V+(C<<22&4294967295|C>>>10),C=R+(P^w&(V^P))+O[8]+1770035416&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(V^R&(w^V))+O[9]+2336552879&4294967295,P=R+(C<<12&4294967295|C>>>20),C=V+(w^P&(R^w))+O[10]+4294925233&4294967295,V=P+(C<<17&4294967295|C>>>15),C=w+(R^V&(P^R))+O[11]+2304563134&4294967295,w=V+(C<<22&4294967295|C>>>10),C=R+(P^w&(V^P))+O[12]+1804603682&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(V^R&(w^V))+O[13]+4254626195&4294967295,P=R+(C<<12&4294967295|C>>>20),C=V+(w^P&(R^w))+O[14]+2792965006&4294967295,V=P+(C<<17&4294967295|C>>>15),C=w+(R^V&(P^R))+O[15]+1236535329&4294967295,w=V+(C<<22&4294967295|C>>>10),C=R+(V^P&(w^V))+O[1]+4129170786&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^V&(R^w))+O[6]+3225465664&4294967295,P=R+(C<<9&4294967295|C>>>23),C=V+(R^w&(P^R))+O[11]+643717713&4294967295,V=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(V^P))+O[0]+3921069994&4294967295,w=V+(C<<20&4294967295|C>>>12),C=R+(V^P&(w^V))+O[5]+3593408605&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^V&(R^w))+O[10]+38016083&4294967295,P=R+(C<<9&4294967295|C>>>23),C=V+(R^w&(P^R))+O[15]+3634488961&4294967295,V=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(V^P))+O[4]+3889429448&4294967295,w=V+(C<<20&4294967295|C>>>12),C=R+(V^P&(w^V))+O[9]+568446438&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^V&(R^w))+O[14]+3275163606&4294967295,P=R+(C<<9&4294967295|C>>>23),C=V+(R^w&(P^R))+O[3]+4107603335&4294967295,V=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(V^P))+O[8]+1163531501&4294967295,w=V+(C<<20&4294967295|C>>>12),C=R+(V^P&(w^V))+O[13]+2850285829&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^V&(R^w))+O[2]+4243563512&4294967295,P=R+(C<<9&4294967295|C>>>23),C=V+(R^w&(P^R))+O[7]+1735328473&4294967295,V=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(V^P))+O[12]+2368359562&4294967295,w=V+(C<<20&4294967295|C>>>12),C=R+(w^V^P)+O[5]+4294588738&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^V)+O[8]+2272392833&4294967295,P=R+(C<<11&4294967295|C>>>21),C=V+(P^R^w)+O[11]+1839030562&4294967295,V=P+(C<<16&4294967295|C>>>16),C=w+(V^P^R)+O[14]+4259657740&4294967295,w=V+(C<<23&4294967295|C>>>9),C=R+(w^V^P)+O[1]+2763975236&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^V)+O[4]+1272893353&4294967295,P=R+(C<<11&4294967295|C>>>21),C=V+(P^R^w)+O[7]+4139469664&4294967295,V=P+(C<<16&4294967295|C>>>16),C=w+(V^P^R)+O[10]+3200236656&4294967295,w=V+(C<<23&4294967295|C>>>9),C=R+(w^V^P)+O[13]+681279174&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^V)+O[0]+3936430074&4294967295,P=R+(C<<11&4294967295|C>>>21),C=V+(P^R^w)+O[3]+3572445317&4294967295,V=P+(C<<16&4294967295|C>>>16),C=w+(V^P^R)+O[6]+76029189&4294967295,w=V+(C<<23&4294967295|C>>>9),C=R+(w^V^P)+O[9]+3654602809&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^V)+O[12]+3873151461&4294967295,P=R+(C<<11&4294967295|C>>>21),C=V+(P^R^w)+O[15]+530742520&4294967295,V=P+(C<<16&4294967295|C>>>16),C=w+(V^P^R)+O[2]+3299628645&4294967295,w=V+(C<<23&4294967295|C>>>9),C=R+(V^(w|~P))+O[0]+4096336452&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~V))+O[7]+1126891415&4294967295,P=R+(C<<10&4294967295|C>>>22),C=V+(R^(P|~w))+O[14]+2878612391&4294967295,V=P+(C<<15&4294967295|C>>>17),C=w+(P^(V|~R))+O[5]+4237533241&4294967295,w=V+(C<<21&4294967295|C>>>11),C=R+(V^(w|~P))+O[12]+1700485571&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~V))+O[3]+2399980690&4294967295,P=R+(C<<10&4294967295|C>>>22),C=V+(R^(P|~w))+O[10]+4293915773&4294967295,V=P+(C<<15&4294967295|C>>>17),C=w+(P^(V|~R))+O[1]+2240044497&4294967295,w=V+(C<<21&4294967295|C>>>11),C=R+(V^(w|~P))+O[8]+1873313359&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~V))+O[15]+4264355552&4294967295,P=R+(C<<10&4294967295|C>>>22),C=V+(R^(P|~w))+O[6]+2734768916&4294967295,V=P+(C<<15&4294967295|C>>>17),C=w+(P^(V|~R))+O[13]+1309151649&4294967295,w=V+(C<<21&4294967295|C>>>11),C=R+(V^(w|~P))+O[4]+4149444226&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~V))+O[11]+3174756917&4294967295,P=R+(C<<10&4294967295|C>>>22),C=V+(R^(P|~w))+O[2]+718787259&4294967295,V=P+(C<<15&4294967295|C>>>17),C=w+(P^(V|~R))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+P&4294967295}s.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var w=R-this.blockSize,O=this.B,V=this.h,P=0;P<R;){if(V==0)for(;P<=w;)o(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<R;)if(O[V++]=D.charCodeAt(P++),V==this.blockSize){o(this,O),V=0;break}}else for(;P<R;)if(O[V++]=D[P++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var w=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=w&255,w/=256;for(this.u(D),D=Array(16),R=w=0;4>R;++R)for(var O=0;32>O;O+=8)D[w++]=this.g[R]>>>O&255;return D};function u(D,R){var w=m;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=R(D)}function h(D,R){this.h=R;for(var w=[],O=!0,V=D.length-1;0<=V;V--){var P=D[V]|0;O&&P==R||(w[V]=P,O=!1)}this.g=w}var m={};function p(D){return-128<=D&&128>D?u(D,function(R){return new h([R|0],0>R?-1:0)}):new h([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return M(g(-D));for(var R=[],w=1,O=0;D>=w;O++)R[O]=D/w|0,w*=4294967296;return new h(R,0)}function v(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return M(v(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(R,8)),O=T,V=0;V<D.length;V+=8){var P=Math.min(8,D.length-V),C=parseInt(D.substring(V,V+P),R);8>P?(P=g(Math.pow(R,P)),O=O.j(P).add(g(C))):(O=O.j(w),O=O.add(g(C)))}return O}var T=p(0),S=p(1),b=p(16777216);i=h.prototype,i.m=function(){if(z(this))return-M(this).m();for(var D=0,R=1,w=0;w<this.g.length;w++){var O=this.i(w);D+=(0<=O?O:4294967296+O)*R,R*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(z(this))return"-"+M(this).toString(D);for(var R=g(Math.pow(D,6)),w=this,O="";;){var V=ht(w,R).g;w=tt(w,V.j(R));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(D);if(w=V,x(w))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function z(D){return D.h==-1}i.l=function(D){return D=tt(this,D),z(D)?-1:x(D)?0:1};function M(D){for(var R=D.g.length,w=[],O=0;O<R;O++)w[O]=~D.g[O];return new h(w,~D.h).add(S)}i.abs=function(){return z(this)?M(this):this},i.add=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],O=0,V=0;V<=R;V++){var P=O+(this.i(V)&65535)+(D.i(V)&65535),C=(P>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);O=C>>>16,P&=65535,C&=65535,w[V]=C<<16|P}return new h(w,w[w.length-1]&-2147483648?-1:0)};function tt(D,R){return D.add(M(R))}i.j=function(D){if(x(this)||x(D))return T;if(z(this))return z(D)?M(this).j(M(D)):M(M(this).j(D));if(z(D))return M(this.j(M(D)));if(0>this.l(b)&&0>D.l(b))return g(this.m()*D.m());for(var R=this.g.length+D.g.length,w=[],O=0;O<2*R;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<D.g.length;V++){var P=this.i(O)>>>16,C=this.i(O)&65535,$t=D.i(V)>>>16,pe=D.i(V)&65535;w[2*O+2*V]+=C*pe,nt(w,2*O+2*V),w[2*O+2*V+1]+=P*pe,nt(w,2*O+2*V+1),w[2*O+2*V+1]+=C*$t,nt(w,2*O+2*V+1),w[2*O+2*V+2]+=P*$t,nt(w,2*O+2*V+2)}for(O=0;O<R;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=R;O<2*R;O++)w[O]=0;return new h(w,0)};function nt(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function W(D,R){this.g=D,this.h=R}function ht(D,R){if(x(R))throw Error("division by zero");if(x(D))return new W(T,T);if(z(D))return R=ht(M(D),R),new W(M(R.g),M(R.h));if(z(R))return R=ht(D,M(R)),new W(M(R.g),R.h);if(30<D.g.length){if(z(D)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var w=S,O=R;0>=O.l(D);)w=Tt(w),O=Tt(O);var V=_t(w,1),P=_t(O,1);for(O=_t(O,2),w=_t(w,2);!x(O);){var C=P.add(O);0>=C.l(D)&&(V=V.add(w),P=C),O=_t(O,1),w=_t(w,1)}return R=tt(D,V.j(R)),new W(V,R)}for(V=T;0<=D.l(R);){for(w=Math.max(1,Math.floor(D.m()/R.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=g(w),C=P.j(R);z(C)||0<C.l(D);)w-=O,P=g(w),C=P.j(R);x(P)&&(P=S),V=V.add(P),D=tt(D,C)}return new W(V,D)}i.A=function(D){return ht(this,D).h},i.and=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],O=0;O<R;O++)w[O]=this.i(O)&D.i(O);return new h(w,this.h&D.h)},i.or=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],O=0;O<R;O++)w[O]=this.i(O)|D.i(O);return new h(w,this.h|D.h)},i.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],O=0;O<R;O++)w[O]=this.i(O)^D.i(O);return new h(w,this.h^D.h)};function Tt(D){for(var R=D.g.length+1,w=[],O=0;O<R;O++)w[O]=D.i(O)<<1|D.i(O-1)>>>31;return new h(w,D.h)}function _t(D,R){var w=R>>5;R%=32;for(var O=D.g.length-w,V=[],P=0;P<O;P++)V[P]=0<R?D.i(P+w)>>>R|D.i(P+w+1)<<32-R:D.i(P+w);return new h(V,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,AS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,hs=h}).apply(typeof Yv<"u"?Yv:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SS,Hl,IS,Eh,hp,RS,bS,wS;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,E){return c==Array.prototype||c==Object.prototype||(c[_]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)t:{var E=s;c=c.split(".");for(var I=0;I<c.length-1;I++){var B=c[I];if(!(B in E))break t;E=E[B]}c=c[c.length-1],I=E[c],_=_(I),_!=I&&_!=null&&t(E,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var E=0,I=!1,B={next:function(){if(!I&&E<c.length){var Y=E++;return{value:_(Y,c[Y]),done:!1}}return I=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function v(c,_,E){return c.call.apply(c.bind,arguments)}function T(c,_,E){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),c.apply(_,B)}}return function(){return c.apply(_,arguments)}}function S(c,_,E){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,S.apply(null,arguments)}function b(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function x(c,_){function E(){}E.prototype=_.prototype,c.aa=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(I,B,Y){for(var st=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)st[Yt-2]=arguments[Yt];return _.prototype[B].apply(I,st)}}function z(c){const _=c.length;if(0<_){const E=Array(_);for(let I=0;I<_;I++)E[I]=c[I];return E}return[]}function M(c,_){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(p(I)){const B=c.length||0,Y=I.length||0;c.length=B+Y;for(let st=0;st<Y;st++)c[B+st]=I[st]}else c.push(I)}}class tt{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function nt(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ht(c){return ht[" "](c),c}ht[" "]=function(){};var Tt=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function _t(c,_,E){for(const I in c)_.call(E,c[I],I,c)}function D(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function R(c){const _={};for(const E in c)_[E]=c[E];return _}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,_){let E,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(E in I)c[E]=I[E];for(let Y=0;Y<w.length;Y++)E=w[Y],Object.prototype.hasOwnProperty.call(I,E)&&(c[E]=I[E])}}function V(c){var _=1;c=c.split(":");const E=[];for(;0<_&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function P(c){m.setTimeout(()=>{throw c},0)}function C(){var c=bt;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class $t{constructor(){this.h=this.g=null}add(_,E){const I=pe.get();I.set(_,E),this.h?this.h.next=I:this.g=I,this.h=I}}var pe=new tt(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ft=!1,bt=new $t,qt=()=>{const c=m.Promise.resolve(void 0);rt=()=>{c.then(U)}};var U=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(E){P(E)}var _=pe;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}ft=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var ct=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};m.addEventListener("test",E,_),m.removeEventListener("test",E,_)}catch{}return c})();function vt(c,_){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(Tt){t:{try{ht(_.nodeName);var B=!0;break t}catch{}B=!1}B||(_=null)}}else E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement);this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ct[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&vt.aa.h.call(this)}}x(vt,it);var Ct={2:"touch",3:"pen",4:"mouse"};vt.prototype.h=function(){vt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ae(c,_,E,I,B){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!I,this.ha=B,this.key=++Be,this.da=this.fa=!1}function li(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ci(c){this.src=c,this.g={},this.h=0}Ci.prototype.add=function(c,_,E,I,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var st=ga(c,_,I,B);return-1<st?(_=c[st],E||(_.fa=!1)):(_=new ae(_,this.src,Y,!!I,B),_.fa=E,c.push(_)),_};function bs(c,_){var E=_.type;if(E in c.g){var I=c.g[E],B=Array.prototype.indexOf.call(I,_,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(I,B,1),Y&&(li(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function ga(c,_,E,I){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==_&&Y.capture==!!E&&Y.ha==I)return B}return-1}var Wn="closure_lm_"+(1e6*Math.random()|0),ws={};function _a(c,_,E,I,B){if(Array.isArray(_)){for(var Y=0;Y<_.length;Y++)_a(c,_[Y],E,I,B);return null}return E=wu(E),c&&c[Pt]?c.K(_,E,g(I)?!!I.capture:!1,B):wf(c,_,E,!1,I,B)}function wf(c,_,E,I,B,Y){if(!_)throw Error("Invalid event type");var st=g(B)?!!B.capture:!!B,Yt=xo(c);if(Yt||(c[Wn]=Yt=new Ci(c)),E=Yt.add(_,E,I,st,Y),E.proxy)return E;if(I=bu(),E.proxy=I,I.src=c,I.listener=E,c.addEventListener)ct||(B=st),B===void 0&&(B=!1),c.addEventListener(_.toString(),I,B);else if(c.attachEvent)c.attachEvent(Ea(_.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function bu(){function c(E){return _.call(c.src,c.listener,E)}const _=Cf;return c}function ya(c,_,E,I,B){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)ya(c,_[Y],E,I,B);else I=g(I)?!!I.capture:!!I,E=wu(E),c&&c[Pt]?(c=c.i,_=String(_).toString(),_ in c.g&&(Y=c.g[_],E=ga(Y,E,I,B),-1<E&&(li(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete c.g[_],c.h--)))):c&&(c=xo(c))&&(_=c.g[_.toString()],c=-1,_&&(c=ga(_,E,I,B)),(E=-1<c?_[c]:null)&&Cs(E))}function Cs(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Pt])bs(_.i,c);else{var E=c.type,I=c.proxy;_.removeEventListener?_.removeEventListener(E,I,c.capture):_.detachEvent?_.detachEvent(Ea(E),I):_.addListener&&_.removeListener&&_.removeListener(I),(E=xo(_))?(bs(E,c),E.h==0&&(E.src=null,_[Wn]=null)):li(c)}}}function Ea(c){return c in ws?ws[c]:ws[c]="on"+c}function Cf(c,_){if(c.da)c=!0;else{_=new vt(_,this);var E=c.listener,I=c.ha||c.src;c.fa&&Cs(c),c=E.call(I,_)}return c}function xo(c){return c=c[Wn],c instanceof Ci?c:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function wu(c){return typeof c=="function"?c:(c[ze]||(c[ze]=function(_){return c.handleEvent(_)}),c[ze])}function Oe(){$.call(this),this.i=new Ci(this),this.M=this,this.F=null}x(Oe,$),Oe.prototype[Pt]=!0,Oe.prototype.removeEventListener=function(c,_,E,I){ya(this,c,_,E,I)};function Me(c,_){var E,I=c.F;if(I)for(E=[];I;I=I.F)E.push(I);if(c=c.M,I=_.type||_,typeof _=="string")_=new it(_,c);else if(_ instanceof it)_.target=_.target||c;else{var B=_;_=new it(I,c),O(_,B)}if(B=!0,E)for(var Y=E.length-1;0<=Y;Y--){var st=_.g=E[Y];B=Oi(st,I,!0,_)&&B}if(st=_.g=c,B=Oi(st,I,!0,_)&&B,B=Oi(st,I,!1,_)&&B,E)for(Y=0;Y<E.length;Y++)st=_.g=E[Y],B=Oi(st,I,!1,_)&&B}Oe.prototype.N=function(){if(Oe.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var E=c.g[_],I=0;I<E.length;I++)li(E[I]);delete c.g[_],c.h--}}this.F=null},Oe.prototype.K=function(c,_,E,I){return this.i.add(String(c),_,!1,E,I)},Oe.prototype.L=function(c,_,E,I){return this.i.add(String(c),_,!0,E,I)};function Oi(c,_,E,I){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var B=!0,Y=0;Y<_.length;++Y){var st=_[Y];if(st&&!st.da&&st.capture==E){var Yt=st.listener,ve=st.ha||st.src;st.fa&&bs(c.i,st),B=Yt.call(ve,I)!==!1&&B}}return B&&!I.defaultPrevented}function Cu(c,_,E){if(typeof c=="function")E&&(c=S(c,E));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(c,_||0)}function Po(c){c.g=Cu(()=>{c.g=null,c.i&&(c.i=!1,Po(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class Of extends ${constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Po(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(c){$.call(this),this.h=c,this.g={}}x(Os,$);var dr=[];function Je(c){_t(c.g,function(_,E){this.g.hasOwnProperty(E)&&Cs(_)},c),c.g={}}Os.prototype.N=function(){Os.aa.N.call(this),Je(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=m.JSON.stringify,sn=m.JSON.parse,Nf=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ko(){}ko.prototype.h=null;function Ou(c){return c.h||(c.h=c.i())}function Ns(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){it.call(this,"d")}x(mr,it);function Zn(){it.call(this,"c")}x(Zn,it);var Pn={},pr=null;function va(){return pr=pr||new Oe}Pn.La="serverreachability";function Bo(c){it.call(this,Pn.La,c)}x(Bo,it);function Ni(c){const _=va();Me(_,new Bo(_))}Pn.STAT_EVENT="statevent";function gr(c,_){it.call(this,Pn.STAT_EVENT,c),this.stat=_}x(gr,it);function He(c){const _=va();Me(_,new gr(_,c))}Pn.Ma="timingevent";function zo(c,_){it.call(this,Pn.Ma,c),this.size=_}x(zo,it);function _r(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},_)}function yr(){this.g=!0}yr.prototype.xa=function(){this.g=!1};function Ho(c,_,E,I,B,Y){c.info(function(){if(c.g)if(Y)for(var st="",Yt=Y.split("&"),ve=0;ve<Yt.length;ve++){var Ot=Yt[ve].split("=");if(1<Ot.length){var Ve=Ot[0];Ot=Ot[1];var Ue=Ve.split("_");st=2<=Ue.length&&Ue[1]=="type"?st+(Ve+"="+Ot+"&"):st+(Ve+"=redacted&")}}else st=null;else st=Y;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+_+`
`+E+`
`+st})}function jo(c,_,E,I,B,Y,st){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+_+`
`+E+`
`+Y+" "+st})}function Di(c,_,E,I){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+ci(c,E)+(I?" "+I:"")})}function Nu(c,_){c.info(function(){return"TIMEOUT: "+_})}yr.prototype.info=function(){};function ci(c,_){if(!c.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var I=E[c];if(!(2>I.length)){var B=I[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var st=1;st<B.length;st++)B[st]=""}}}}return xn(E)}catch{return _}}var ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hi;function Er(){}x(Er,ko),Er.prototype.g=function(){return new XMLHttpRequest},Er.prototype.i=function(){return{}},hi=new Er;function fi(c,_,E,I){this.j=c,this.i=_,this.l=E,this.R=I||1,this.U=new Os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Du}function Du(){this.i=null,this.g="",this.h=!1}var Fo={},Mi={};function Ds(c,_,E){c.L=1,c.v=Vs(he(_)),c.m=E,c.P=!0,Li(c,null)}function Li(c,_){c.F=Date.now(),ti(c),c.A=he(c.v);var E=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),xi(E.i,"t",I),c.C=0,E=c.j.J,c.h=new Du,c.g=Ku(c.j,E?_:null,!c.m),0<c.O&&(c.M=new Of(S(c.Y,c,c.g),c.O)),_=c.U,E=c.g,I=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(dr[0]=B.toString()),B=dr);for(var Y=0;Y<B.length;Y++){var st=_a(E,B[Y],I||_.handleEvent,!1,_.h||_);if(!st)break;_.g[st.key]=st}_=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),Ni(),Ho(c.i,c.u,c.A,c.l,c.R,c.m)}fi.prototype.ca=function(c){c=c.target;const _=this.M;_&&ln(c)==3?_.j():this.Y(c)},fi.prototype.Y=function(c){try{if(c==this.g)t:{const Ue=ln(this.g);var _=this.g.Ba();const Mr=this.g.Z();if(!(3>Ue)&&(Ue!=3||this.g&&(this.h.h||this.g.oa()||Ps(this.g)))){this.J||Ue!=4||_==7||(_==8||0>=Mr?Ni(3):Ni(2)),Ta(this);var E=this.g.Z();this.X=E;e:if(Vi(this)){var I=Ps(this.g);c="";var B=I.length,Y=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),vr(this);var st="";break e}this.h.i=new m.TextDecoder}for(_=0;_<B;_++)this.h.h=!0,c+=this.h.i.decode(I[_],{stream:!(Y&&_==B-1)});I.length=0,this.h.g+=c,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=E==200,jo(this.i,this.u,this.A,this.l,this.R,Ue,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Yt,ve=this.g;if((Yt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(Yt)){var Ot=Yt;break e}}Ot=null}if(E=Ot)Di(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,di(this,E);else{this.o=!1,this.s=3,He(12),an(this),vr(this);break t}}if(this.P){E=!0;let pn;for(;!this.J&&this.C<st.length;)if(pn=Ms(this,st),pn==Mi){Ue==4&&(this.s=4,He(14),E=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==Fo){this.s=4,He(15),Di(this.i,this.l,st,"[Invalid Chunk]"),E=!1;break}else Di(this.i,this.l,pn,null),di(this,pn);if(Vi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||st.length!=0||this.h.h||(this.s=1,He(16),E=!1),this.o=this.o&&E,!E)Di(this.i,this.l,st,"[Invalid Chunked Response]"),an(this),vr(this);else if(0<st.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),tl(Ve),Ve.M=!0,He(11))}}else Di(this.i,this.l,st,null),di(this,st);Ue==4&&an(this),this.o&&!this.J&&(Ue==4?Gu(this.j,this):(this.o=!1,ti(this)))}else ku(this.g),E==400&&0<st.indexOf("Unknown SID")?(this.s=3,He(12)):(this.s=0,He(13)),an(this),vr(this)}}}catch{}finally{}};function Vi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ms(c,_){var E=c.C,I=_.indexOf(`
`,E);return I==-1?Mi:(E=Number(_.substring(E,I)),isNaN(E)?Fo:(I+=1,I+E>_.length?Mi:(_=_.slice(I,I+E),c.C=I+E,_)))}fi.prototype.cancel=function(){this.J=!0,an(this)};function ti(c){c.S=Date.now()+c.I,ge(c,c.I)}function ge(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_r(S(c.ba,c),_)}function Ta(c){c.B&&(m.clearTimeout(c.B),c.B=null)}fi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Nu(this.i,this.A),this.L!=2&&(Ni(),He(17)),an(this),this.s=2,vr(this)):ge(this,this.S-c)};function vr(c){c.j.G==0||c.J||Gu(c.j,c)}function an(c){Ta(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,Je(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function di(c,_){try{var E=c.j;if(E.G!=0&&(E.g==c||Tr(E.h,c))){if(!c.K&&Tr(E.h,c)&&E.G==3){try{var I=E.Da.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Nr(E),Or(E);else break t;Zo(E),He(18)}}else E.za=B[1],0<E.za-E.T&&37500>B[2]&&E.F&&E.v==0&&!E.C&&(E.C=_r(S(E.Za,E),6e3));if(1>=Mu(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ki(E,11)}else if((c.K||E.g==c)&&Nr(E),!nt(_))for(B=E.Da.g.parse(_),_=0;_<B.length;_++){let Ot=B[_];if(E.T=Ot[0],Ot=Ot[1],E.G==2)if(Ot[0]=="c"){E.K=Ot[1],E.ia=Ot[2];const Ve=Ot[3];Ve!=null&&(E.la=Ve,E.j.info("VER="+E.la));const Ue=Ot[4];Ue!=null&&(E.Aa=Ue,E.j.info("SVER="+E.Aa));const Mr=Ot[5];Mr!=null&&typeof Mr=="number"&&0<Mr&&(I=1.5*Mr,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const pn=c.g;if(pn){const zs=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var Y=I.h;Y.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ar(Y,Y.h),Y.h=null))}if(I.D){const Bi=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bi&&(I.ya=Bi,Ht(I.I,I.D,Bi))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var st=c;if(I.qa=Yu(I,I.J?I.ia:null,I.W),st.K){kn(I.h,st);var Yt=st,ve=I.L;ve&&(Yt.I=ve),Yt.B&&(Ta(Yt),ti(Yt)),I.g=st}else ju(I);0<E.i.length&&Oa(E)}else Ot[0]!="stop"&&Ot[0]!="close"||ki(E,7);else E.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?ki(E,7):Jo(E):Ot[0]!="noop"&&E.l&&E.l.ta(Ot),E.v=0)}}Ni(4)}catch{}}var Df=class{constructor(c,_){this.g=c,this.map=_}};function Go(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Mu(c){return c.h?1:c.g?c.g.size:0}function Tr(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Ar(c,_){c.g?c.g.add(_):c.h=_}function kn(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Go.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function on(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.D);return _}return z(c.i)}function Lu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var _=[],E=c.length,I=0;I<E;I++)_.push(c[I]);return _}_=[],E=0;for(I in c)_[E++]=c[I];return _}function Mf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var _=[];c=c.length;for(var E=0;E<c;E++)_.push(E);return _}_=[],E=0;for(const I in c)_[E++]=I;return _}}}function Aa(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var E=Mf(c),I=Lu(c),B=I.length,Y=0;Y<B;Y++)_.call(void 0,I[Y],E&&E[Y],c)}var Yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(c,_){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var I=c[E].indexOf("="),B=null;if(0<=I){var Y=c[E].substring(0,I);B=c[E].substring(I+1)}else Y=c[E];_(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ui(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ui){this.h=c.h,Sr(this,c.j),this.o=c.o,this.g=c.g,Ls(this,c.s),this.l=c.l;var _=c.i,E=new mi;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Ia(this,E),this.m=c.m}else c&&(_=String(c).match(Yo))?(this.h=!1,Sr(this,_[1]||"",!0),this.o=Ir(_[2]||""),this.g=Ir(_[3]||"",!0),Ls(this,_[4]),this.l=Ir(_[5]||"",!0),Ia(this,_[6]||"",!0),this.m=Ir(_[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}Ui.prototype.toString=function(){var c=[],_=this.j;_&&c.push(Bn(_,Ko,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Bn(_,Ko,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Bn(E,E.charAt(0)=="/"?Qo:Vu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Bn(E,Uf)),c.join("")};function he(c){return new Ui(c)}function Sr(c,_,E){c.j=E?Ir(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Ls(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function Ia(c,_,E){_ instanceof mi?(c.i=_,Uu(c.i,c.h)):(E||(_=Bn(_,Vf)),c.i=new mi(_,c.h))}function Ht(c,_,E){c.i.set(_,E)}function Vs(c){return Ht(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ir(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bn(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,Lf),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ko=/[#\/\?@]/g,Vu=/[#\?:]/g,Qo=/[#\?]/g,Vf=/[#\?@]/g,Uf=/#/g;function mi(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Le(c){c.g||(c.g=new Map,c.h=0,c.i&&Sa(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}i=mi.prototype,i.add=function(c,_){Le(this),this.i=null,c=An(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function Ra(c,_){Le(c),_=An(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function ba(c,_){return Le(c),_=An(c,_),c.g.has(_)}i.forEach=function(c,_){Le(this),this.g.forEach(function(E,I){E.forEach(function(B){c.call(_,B,I,this)},this)},this)},i.na=function(){Le(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let I=0;I<_.length;I++){const B=c[I];for(let Y=0;Y<B.length;Y++)E.push(_[I])}return E},i.V=function(c){Le(this);let _=[];if(typeof c=="string")ba(this,c)&&(_=_.concat(this.g.get(An(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)_=_.concat(c[E])}return _},i.set=function(c,_){return Le(this),this.i=null,c=An(this,c),ba(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function xi(c,_,E){Ra(c,_),0<E.length&&(c.i=null,c.g.set(An(c,_),z(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var I=_[E];const Y=encodeURIComponent(String(I)),st=this.V(I);for(I=0;I<st.length;I++){var B=Y;st[I]!==""&&(B+="="+encodeURIComponent(String(st[I]))),c.push(B)}}return this.i=c.join("&")};function An(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Uu(c,_){_&&!c.j&&(Le(c),c.i=null,c.g.forEach(function(E,I){var B=I.toLowerCase();I!=B&&(Ra(this,I),xi(this,B,E))},c)),c.j=_}function $o(c,_){const E=new yr;if(m.Image){const I=new Image;I.onload=b(mn,E,"TestLoadImage: loaded",!0,_,I),I.onerror=b(mn,E,"TestLoadImage: error",!1,_,I),I.onabort=b(mn,E,"TestLoadImage: abort",!1,_,I),I.ontimeout=b(mn,E,"TestLoadImage: timeout",!1,_,I),m.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else _(!1)}function xu(c,_){const E=new yr,I=new AbortController,B=setTimeout(()=>{I.abort(),mn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:I.signal}).then(Y=>{clearTimeout(B),Y.ok?mn(E,"TestPingServer: ok",!0,_):mn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),mn(E,"TestPingServer: error",!1,_)})}function mn(c,_,E,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(E)}catch{}}function ei(){this.g=new Nf}function Xo(c,_,E){const I=E||"";try{Aa(c,function(B,Y){let st=B;g(B)&&(st=xn(B)),_.push(I+Y+"="+encodeURIComponent(st))})}catch(B){throw _.push(I+"type="+encodeURIComponent("_badmap")),B}}function pi(c){this.l=c.Ub||null,this.j=c.eb||!1}x(pi,ko),pi.prototype.g=function(){return new Sn(this.l,this.j)},pi.prototype.i=(function(c){return function(){return c}})({});function Sn(c,_){Oe.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Sn,Oe),i=Sn.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,Rr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wa(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function wa(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?gi(this):Rr(this),this.readyState==3&&wa(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,gi(this))},i.Qa=function(c){this.g&&(this.response=c,gi(this))},i.ga=function(){this.g&&gi(this)};function gi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Rr(c)}i.setRequestHeader=function(c,_){this.u.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function Rr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Sn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Us(c){let _="";return _t(c,function(E,I){_+=I,_+=":",_+=E,_+=`\r
`}),_}function br(c,_,E){t:{for(I in E){var I=!1;break t}I=!0}I||(E=Us(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Ht(c,_,E))}function ee(c){Oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ee,Oe);var We=/^https?$/i,Pi=["POST","PUT"];i=ee.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,_,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hi.g(),this.v=this.o?Ou(this.o):Ou(hi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(Y){xs(this,Y);return}if(c=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)E.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Y of I.keys())E.set(Y,I.get(Y));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Pi,_,void 0))||I||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,st]of E)this.g.setRequestHeader(Y,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ca(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){xs(this,Y)}};function xs(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,wr(c),Cr(c)}function wr(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Me(this,"complete"),Me(this,"abort"),Cr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cr(this,!0)),ee.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Pu(this):this.bb())},i.bb=function(){Pu(this)};function Pu(c){if(c.h&&typeof h<"u"&&(!c.v[1]||ln(c)!=4||c.Z()!=2)){if(c.u&&ln(c)==4)Cu(c.Ea,0,c);else if(Me(c,"readystatechange"),ln(c)==4){c.h=!1;try{const st=c.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var I;if(I=st===0){var B=String(c.D).match(Yo)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),I=!We.test(B?B.toLowerCase():"")}E=I}if(E)Me(c,"complete"),Me(c,"success");else{c.m=6;try{var Y=2<ln(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",wr(c)}}finally{Cr(c)}}}}function Cr(c,_){if(c.g){Ca(c);const E=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Me(c,"ready");try{E.onreadystatechange=I}catch{}}}function Ca(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function ln(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),sn(_)}};function Ps(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ku(c){const _={};c=(c.g&&2<=ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(nt(c[I]))continue;var E=V(c[I]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=_[B]||[];_[B]=Y,Y.push(E)}D(_,function(I){return I.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ks(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function Bu(c){this.Aa=0,this.i=[],this.j=new yr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ks("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ks("baseRetryDelayMs",5e3,c),this.cb=ks("retryDelaySeedMs",1e4,c),this.Wa=ks("forwardChannelMaxRetries",2,c),this.wa=ks("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Go(c&&c.concurrentRequestLimit),this.Da=new ei,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Bu.prototype,i.la=8,i.G=1,i.connect=function(c,_,E,I){He(0),this.W=c,this.H=_||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=Yu(this,null,this.W),Oa(this)};function Jo(c){if(zu(c),c.G==3){var _=c.U++,E=he(c.I);if(Ht(E,"SID",c.K),Ht(E,"RID",_),Ht(E,"TYPE","terminate"),Bs(c,E),_=new fi(c,c.j,_),_.L=2,_.v=Vs(he(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&m.Image&&(new Image().src=_.v,E=!0),E||(_.g=Ku(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ti(_)}el(c)}function Or(c){c.g&&(tl(c),c.g.cancel(),c.g=null)}function zu(c){Or(c),c.u&&(m.clearTimeout(c.u),c.u=null),Nr(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Oa(c){if(!qo(c.h)&&!c.s){c.s=!0;var _=c.Ga;rt||qt(),ft||(rt(),ft=!0),bt.add(_,c),c.B=0}}function xf(c,_){return Mu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_r(S(c.Ga,c,_),qu(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new fi(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),O(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(_+=I,4096<_){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=Wo(this,B,_),E=he(this.I),Ht(E,"RID",c),Ht(E,"CVER",22),this.D&&Ht(E,"X-HTTP-Session-Id",this.D),Bs(this,E),Y&&(this.O?_="headers="+encodeURIComponent(String(Us(Y)))+"&"+_:this.m&&br(E,this.m,Y)),Ar(this.h,B),this.Ua&&Ht(E,"TYPE","init"),this.P?(Ht(E,"$req",_),Ht(E,"SID","null"),B.T=!0,Ds(B,E,null)):Ds(B,E,_),this.G=2}}else this.G==3&&(c?Hu(this,c):this.i.length==0||qo(this.h)||Hu(this))};function Hu(c,_){var E;_?E=_.l:E=c.U++;const I=he(c.I);Ht(I,"SID",c.K),Ht(I,"RID",E),Ht(I,"AID",c.T),Bs(c,I),c.m&&c.o&&br(I,c.m,c.o),E=new fi(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),_&&(c.i=_.D.concat(c.i)),_=Wo(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ar(c.h,E),Ds(E,I,_)}function Bs(c,_){c.H&&_t(c.H,function(E,I){Ht(_,I,E)}),c.l&&Aa({},function(E,I){Ht(_,I,E)})}function Wo(c,_,E){E=Math.min(c.i.length,E);var I=c.l?S(c.l.Na,c.l,c):null;t:{var B=c.i;let Y=-1;for(;;){const st=["count="+E];Y==-1?0<E?(Y=B[0].g,st.push("ofs="+Y)):Y=0:st.push("ofs="+Y);let Yt=!0;for(let ve=0;ve<E;ve++){let Ot=B[ve].g;const Ve=B[ve].map;if(Ot-=Y,0>Ot)Y=Math.max(0,B[ve].g-100),Yt=!1;else try{Xo(Ve,st,"req"+Ot+"_")}catch{I&&I(Ve)}}if(Yt){I=st.join("&");break t}}}return c=c.i.splice(0,E),_.D=c,I}function ju(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;rt||qt(),ft||(rt(),ft=!0),bt.add(_,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_r(S(c.Fa,c),qu(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_r(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,He(10),Or(this),Fu(this))};function tl(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Fu(c){c.g=new fi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=he(c.qa);Ht(_,"RID","rpc"),Ht(_,"SID",c.K),Ht(_,"AID",c.T),Ht(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ht(_,"TO",c.ja),Ht(_,"TYPE","xmlhttp"),Bs(c,_),c.m&&c.o&&br(_,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Vs(he(_)),E.m=null,E.P=!0,Li(E,c)}i.Za=function(){this.C!=null&&(this.C=null,Or(this),Zo(this),He(19))};function Nr(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Gu(c,_){var E=null;if(c.g==_){Nr(c),tl(c),c.g=null;var I=2}else if(Tr(c.h,_))E=_.D,kn(c.h,_),I=1;else return;if(c.G!=0){if(_.o)if(I==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var B=c.B;I=va(),Me(I,new zo(I,E)),Oa(c)}else ju(c);else if(B=_.s,B==3||B==0&&0<_.X||!(I==1&&xf(c,_)||I==2&&Zo(c)))switch(E&&0<E.length&&(_=c.h,_.i=_.i.concat(E)),B){case 1:ki(c,5);break;case 4:ki(c,10);break;case 3:ki(c,6);break;default:ki(c,2)}}}function qu(c,_){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*_}function ki(c,_){if(c.j.info("Error code "+_),_==2){var E=S(c.fb,c),I=c.Xa;const B=!I;I=new Ui(I||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Sr(I,"https"),Vs(I),B?$o(I.toString(),E):xu(I.toString(),E)}else He(2);c.G=0,c.l&&c.l.sa(_),el(c),zu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function el(c){if(c.G=0,c.ka=[],c.l){const _=on(c.h);(_.length!=0||c.i.length!=0)&&(M(c.ka,_),M(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Yu(c,_,E){var I=E instanceof Ui?he(E):new Ui(E);if(I.g!="")_&&(I.g=_+"."+I.g),Ls(I,I.s);else{var B=m.location;I=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;var Y=new Ui(null);I&&Sr(Y,I),_&&(Y.g=_),B&&Ls(Y,B),E&&(Y.l=E),I=Y}return E=c.D,_=c.ya,E&&_&&Ht(I,E,_),Ht(I,"VER",c.la),Bs(c,I),I}function Ku(c,_,E){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new ee(new pi({eb:E})):new ee(c.pa),_.Ha(c.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}i=Qu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Na(){}Na.prototype.g=function(c,_){return new un(c,_)};function un(c,_){Oe.call(this),this.g=new Bu(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!nt(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!nt(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Dr(this)}x(un,Oe),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Jo(this.g)},un.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=xn(c),c=E);_.i.push(new Df(_.Ya++,c)),_.G==3&&Oa(_)},un.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,un.aa.N.call(this)};function $u(c){mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){t:{for(const E in _){c=E;break t}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}x($u,mr);function Xu(){Zn.call(this),this.status=1}x(Xu,Zn);function Dr(c){this.g=c}x(Dr,Qu),Dr.prototype.ua=function(){Me(this.g,"a")},Dr.prototype.ta=function(c){Me(this.g,new $u(c))},Dr.prototype.sa=function(c){Me(this.g,new Xu)},Dr.prototype.ra=function(){Me(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,wS=function(){return new Na},bS=function(){return va()},RS=Pn,hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ce.NO_ERROR=0,ce.TIMEOUT=8,ce.HTTP_ERROR=6,Eh=ce,je.COMPLETE="complete",IS=je,Ns.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",Oe.prototype.listen=Oe.prototype.K,Hl=Ns,ee.prototype.listenOnce=ee.prototype.L,ee.prototype.getLastError=ee.prototype.Ka,ee.prototype.getLastErrorCode=ee.prototype.Ba,ee.prototype.getStatus=ee.prototype.Z,ee.prototype.getResponseJson=ee.prototype.Oa,ee.prototype.getResponseText=ee.prototype.oa,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Ha,SS=ee}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const Kv="@firebase/firestore",Qv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Hp("@firebase/firestore");function so(){return ca.logLevel}function lt(i,...t){if(ca.logLevel<=Ut.DEBUG){const n=t.map(eg);ca.debug(`Firestore (${Do}): ${i}`,...n)}}function ur(i,...t){if(ca.logLevel<=Ut.ERROR){const n=t.map(eg);ca.error(`Firestore (${Do}): ${i}`,...n)}}function ps(i,...t){if(ca.logLevel<=Ut.WARN){const n=t.map(eg);ca.warn(`Firestore (${Do}): ${i}`,...n)}}function eg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,CS(i,s,n)}function CS(i,t,n){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ur(s),new Error(s)}function zt(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||CS(t,o,s)}function St(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends fr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class BD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zD{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){zt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new sr,t.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new sr)}}),0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(zt(typeof s.accessToken=="string",31837,{l:s}),new OS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return zt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class HD{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jD{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new HD(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $v{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FD{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){zt(this.o===void 0,3512);const s=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $v(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(zt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $v(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Nt(i,t){return i<t?-1:i>t?1:0}function fp(i,t){let n=0;for(;n<i.length&&n<t.length;){const s=i.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Nt(s,o);{const u=NS(),h=qD(u.encode(Xv(i,n)),u.encode(Xv(t,n)));return h!==0?h:Nt(s,o)}}n+=s>65535?2:1}return Nt(i.length,t.length)}function Xv(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function qD(i,t){for(let n=0;n<i.length&&n<t.length;++n)if(i[n]!==t[n])return Nt(i[n],t[n]);return Nt(i.length,t.length)}function To(i,t,n){return i.length===t.length&&i.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="__name__";class Ti{constructor(t,n,s){n===void 0?n=0:n>t.length&&gt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&gt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Ti.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Nt(t.length,n.length)}static compareSegments(t,n){const s=Ti.isNumericId(t),o=Ti.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ti.extractNumericId(t).compare(Ti.extractNumericId(n)):fp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return hs.fromString(t.substring(4,t.length-2))}}class Zt extends Ti{construct(t,n,s){return new Zt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Zt(n)}static emptyPath(){return new Zt([])}}const YD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ti{construct(t,n,s){return new Qe(t,n,s)}static isValidIdentifier(t){return YD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jv}static keyField(){return new Qe([Jv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(Zt.fromString(t))}static fromName(t){return new mt(Zt.fromString(t).popFirst(5))}static empty(){return new mt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Zt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new Zt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(i,t,n){if(!n)throw new ot(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function KD(i,t,n,s){if(t===!0&&s===!0)throw new ot(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Wv(i){if(!mt.isDocumentKey(i))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Zv(i){if(mt.isDocumentKey(i))throw new ot(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function MS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function sf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":gt(12329,{type:typeof i})}function $n(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sf(i);throw new ot(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i,t){const n={typeString:i};return t&&(n.value=t),n}function _u(i,t){if(!MS(i))throw new ot(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ot(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=-62135596800,eT=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*eT);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<tT)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eT}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_u(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-tT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:we("string",re._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new re(0,0))}static max(){return new Et(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function QD(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new gs(o,mt.empty(),t)}function $D(i){return new gs(i.readTime,i.key,iu)}class gs{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new gs(Et.min(),mt.empty(),iu)}static max(){return new gs(Et.max(),mt.empty(),iu)}}function XD(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(i.documentKey,t.documentKey),n!==0?n:Nt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==JD)throw i;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):et.reject(n)}static resolve(t){return new et(((n,s)=>{n(t)}))}static reject(t){return new et(((n,s)=>{s(t)}))}static waitFor(t){return new et(((n,s)=>{let o=0,u=0,h=!1;t.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(t){let n=et.resolve(!1);for(const s of t)n=n.next((o=>o?et.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new et(((s,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((v=>{h[g]=v,++m,m===u&&s(h)}),(v=>o(v)))}}))}static doWhile(t,n){return new et(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function ZD(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}af.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=-1;function yu(i){return i==null}function xh(i){return i===0&&1/i==-1/0}function t2(i){return typeof i=="number"&&Number.isInteger(i)&&!xh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="";function e2(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=nT(t)),t=n2(i.get(n),t);return nT(t)}function n2(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case LS:n+="";break;default:n+=u}}return n}function nT(i){return i+LS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function Is(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function VS(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,n){this.comparator=t,this.root=n||Ke.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ih(this.root,t,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ih(this.root,t,this.comparator,!0)}}class ih{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ke.RED,this.left=o??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ke(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new rT(this.data.getIterator())}getIteratorFrom(t){return new rT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new De(this.comparator);return n.data=t,n}}class rT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Mn([])}unionWith(t){let n=new De(Qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Mn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return To(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new US("Invalid base64 string: "+u):u}})(t);return new $e(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(t);return new $e(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const i2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(i){if(zt(!!i,39018),typeof i=="string"){let t=0;const n=i2.exec(i);if(zt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(i.seconds),nanos:Ee(i.nanos)}}function Ee(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ys(i){return typeof i=="string"?$e.fromBase64String(i):$e.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="server_timestamp",PS="__type__",kS="__previous_value__",BS="__local_write_time__";function rg(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[PS])===null||n===void 0?void 0:n.stringValue)===xS}function of(i){const t=i.mapValue.fields[kS];return rg(t)?of(t):t}function ru(i){const t=_s(i.mapValue.fields[BS].timestampValue);return new re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t,n,s,o,u,h,m,p,g,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Ph="(default)";class su{constructor(t,n){this.projectId=t,this.database=n||Ph}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(t){return t instanceof su&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="__type__",s2="__max__",rh={mapValue:{}},HS="__vector__",kh="value";function Es(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?rg(i)?4:o2(i)?9007199254740991:a2(i)?10:11:gt(28295,{value:i})}function wi(i,t){if(i===t)return!0;const n=Es(i);if(n!==Es(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return ru(i).isEqual(ru(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=_s(o.timestampValue),m=_s(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return ys(o.bytesValue).isEqual(ys(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ee(o.geoPointValue.latitude)===Ee(u.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ee(o.integerValue)===Ee(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ee(o.doubleValue),m=Ee(u.doubleValue);return h===m?xh(h)===xh(m):isNaN(h)&&isNaN(m)}return!1})(i,t);case 9:return To(i.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(iT(h)!==iT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!wi(h[p],m[p])))return!1;return!0})(i,t);default:return gt(52216,{left:i})}}function au(i,t){return(i.values||[]).find((n=>wi(n,t)))!==void 0}function Ao(i,t){if(i===t)return 0;const n=Es(i),s=Es(t);if(n!==s)return Nt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(i.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=Ee(u.integerValue||u.doubleValue),p=Ee(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return sT(i.timestampValue,t.timestampValue);case 4:return sT(ru(i),ru(t));case 5:return fp(i.stringValue,t.stringValue);case 6:return(function(u,h){const m=ys(u),p=ys(h);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Nt(m[g],p[g]);if(v!==0)return v}return Nt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=Nt(Ee(u.latitude),Ee(h.latitude));return m!==0?m:Nt(Ee(u.longitude),Ee(h.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return aT(i.arrayValue,t.arrayValue);case 10:return(function(u,h){var m,p,g,v;const T=u.fields||{},S=h.fields||{},b=(m=T[kh])===null||m===void 0?void 0:m.arrayValue,x=(p=S[kh])===null||p===void 0?void 0:p.arrayValue,z=Nt(((g=b==null?void 0:b.values)===null||g===void 0?void 0:g.length)||0,((v=x==null?void 0:x.values)===null||v===void 0?void 0:v.length)||0);return z!==0?z:aT(b,x)})(i.mapValue,t.mapValue);case 11:return(function(u,h){if(u===rh.mapValue&&h===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(h===rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const S=fp(p[T],v[T]);if(S!==0)return S;const b=Ao(m[p[T]],g[v[T]]);if(b!==0)return b}return Nt(p.length,v.length)})(i.mapValue,t.mapValue);default:throw gt(23264,{le:n})}}function sT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Nt(i,t);const n=_s(i),s=_s(t),o=Nt(n.seconds,s.seconds);return o!==0?o:Nt(n.nanos,s.nanos)}function aT(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ao(n[o],s[o]);if(u)return u}return Nt(n.length,s.length)}function So(i){return dp(i)}function dp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=_s(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ys(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return mt.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=dp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${dp(n.fields[h])}`;return o+"}"})(i.mapValue):gt(61005,{value:i})}function vh(i){switch(Es(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=of(i);return t?16+vh(t):16;case 5:return 2*i.stringValue.length;case 6:return ys(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+vh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Is(s.fields,((u,h)=>{o+=u.length+vh(h)})),o})(i.mapValue);default:throw gt(13486,{value:i})}}function oT(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function mp(i){return!!i&&"integerValue"in i}function sg(i){return!!i&&"arrayValue"in i}function lT(i){return!!i&&"nullValue"in i}function uT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Th(i){return!!i&&"mapValue"in i}function a2(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[zS])===null||n===void 0?void 0:n.stringValue)===HS}function Ql(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Is(i.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Ql(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ql(i.arrayValue.values[n]);return t}return Object.assign({},i)}function o2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===s2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Th(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ql(n)}setAll(t){let n=Qe.emptyPath(),s={},o=[];t.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Ql(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return wi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Is(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new fn(Ql(this.value))}}function jS(i){const t=[];return Is(i.fields,((n,s)=>{const o=new Qe([n]);if(Th(s)){const u=jS(s.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)})),new Mn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t,n,s,o,u,h,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new ke(t,0,Et.min(),Et.min(),Et.min(),fn.empty(),0)}static newFoundDocument(t,n,s,o){return new ke(t,1,n,Et.min(),s,o,0)}static newNoDocument(t,n){return new ke(t,2,n,Et.min(),Et.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new ke(t,3,n,Et.min(),Et.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,n){this.position=t,this.inclusive=n}}function cT(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?s=mt.comparator(mt.fromName(h.referenceValue),n.key):s=Ao(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function hT(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!wi(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,n="asc"){this.field=t,this.dir=n}}function l2(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{}class be extends FS{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new c2(t,n,s):n==="array-contains"?new d2(t,s):n==="in"?new m2(t,s):n==="not-in"?new p2(t,s):n==="array-contains-any"?new g2(t,s):new be(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new h2(t,s):new f2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends FS{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new oi(t,n)}matches(t){return GS(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function GS(i){return i.op==="and"}function qS(i){return u2(i)&&GS(i)}function u2(i){for(const t of i.filters)if(t instanceof oi)return!1;return!0}function pp(i){if(i instanceof be)return i.field.canonicalString()+i.op.toString()+So(i.value);if(qS(i))return i.filters.map((t=>pp(t))).join(",");{const t=i.filters.map((n=>pp(n))).join(",");return`${i.op}(${t})`}}function YS(i,t){return i instanceof be?(function(s,o){return o instanceof be&&s.op===o.op&&s.field.isEqual(o.field)&&wi(s.value,o.value)})(i,t):i instanceof oi?(function(s,o){return o instanceof oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&YS(h,o.filters[m])),!0):!1})(i,t):void gt(19439)}function KS(i){return i instanceof be?(function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`})(i):i instanceof oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(KS).join(" ,")+"}"})(i):"Filter"}class c2 extends be{constructor(t,n,s){super(t,n,s),this.key=mt.fromName(s.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class h2 extends be{constructor(t,n){super(t,"in",n),this.keys=QS("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class f2 extends be{constructor(t,n){super(t,"not-in",n),this.keys=QS("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function QS(i,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>mt.fromName(s.referenceValue)))}class d2 extends be{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return sg(n)&&au(n.arrayValue,this.value)}}class m2 extends be{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class p2 extends be{constructor(t,n){super(t,"not-in",n)}matches(t){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class g2 extends be{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!sg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>au(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,n=null,s=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function fT(i,t=null,n=[],s=[],o=null,u=null,h=null){return new _2(i,t,n,s,o,u,h)}function ag(i){const t=St(i);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>pp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),yu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>So(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>So(s))).join(",")),t.Pe=n}return t.Pe}function og(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!l2(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!YS(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!hT(i.startAt,t.startAt)&&hT(i.endAt,t.endAt)}function gp(i){return mt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(t,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function y2(i,t,n,s,o,u,h,m){return new Eu(i,t,n,s,o,u,h,m)}function lg(i){return new Eu(i)}function dT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function $S(i){return i.collectionGroup!==null}function $l(i){const t=St(i);if(t.Te===null){t.Te=[];const n=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new De(Qe.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Te.push(new zh(u,s))})),n.has(Qe.keyField().canonicalString())||t.Te.push(new zh(Qe.keyField(),s))}return t.Te}function Si(i){const t=St(i);return t.Ie||(t.Ie=E2(t,$l(i))),t.Ie}function E2(i,t){if(i.limitType==="F")return fT(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new zh(o.field,u)}));const n=i.endAt?new Bh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Bh(i.startAt.position,i.startAt.inclusive):null;return fT(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function _p(i,t){const n=i.filters.concat([t]);return new Eu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function yp(i,t,n){return new Eu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function lf(i,t){return og(Si(i),Si(t))&&i.limitType===t.limitType}function XS(i){return`${ag(Si(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>KS(o))).join(", ")}]`),yu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>So(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>So(o))).join(",")),`Target(${s})`})(Si(i))}; limitType=${i.limitType})`}function uf(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=cT(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,$l(s),o)||s.endAt&&!(function(h,m,p){const g=cT(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,$l(s),o))})(i,t)}function v2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function JS(i){return(t,n)=>{let s=!1;for(const o of $l(i)){const u=T2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function T2(i,t,n){const s=i.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Ao(p,g):gt(42886)})(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Is(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return VS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new ue(mt.comparator);function cr(){return A2}const WS=new ue(mt.comparator);function jl(...i){let t=WS;for(const n of i)t=t.insert(n.key,n);return t}function ZS(i){let t=WS;return i.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function sa(){return Xl()}function tI(){return Xl()}function Xl(){return new da((i=>i.toString()),((i,t)=>i.isEqual(t)))}const S2=new ue(mt.comparator),I2=new De(mt.comparator);function xt(...i){let t=I2;for(const n of i)t=t.add(n);return t}const R2=new De(Nt);function b2(){return R2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(t)?"-0":t}}function eI(i){return{integerValue:""+i}}function w2(i,t){return t2(t)?eI(t):ug(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function C2(i,t,n){return i instanceof Hh?(function(o,u){const h={fields:{[PS]:{stringValue:xS},[BS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&rg(u)&&(u=of(u)),u&&(h.fields[kS]=u),{mapValue:h}})(n,t):i instanceof Io?iI(i,t):i instanceof ou?rI(i,t):(function(o,u){const h=nI(o,u),m=mT(h)+mT(o.Ee);return mp(h)&&mp(o.Ee)?eI(m):ug(o.serializer,m)})(i,t)}function O2(i,t,n){return i instanceof Io?iI(i,t):i instanceof ou?rI(i,t):n}function nI(i,t){return i instanceof jh?(function(s){return mp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Hh extends cf{}class Io extends cf{constructor(t){super(),this.elements=t}}function iI(i,t){const n=sI(t);for(const s of i.elements)n.some((o=>wi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ou extends cf{constructor(t){super(),this.elements=t}}function rI(i,t){let n=sI(t);for(const s of i.elements)n=n.filter((o=>!wi(o,s)));return{arrayValue:{values:n}}}class jh extends cf{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function mT(i){return Ee(i.integerValue||i.doubleValue)}function sI(i){return sg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,n){this.field=t,this.transform=n}}function D2(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof Io&&o instanceof Io||s instanceof ou&&o instanceof ou?To(s.elements,o.elements,wi):s instanceof jh&&o instanceof jh?wi(s.Ee,o.Ee):s instanceof Hh&&o instanceof Hh})(i.transform,t.transform)}class M2{constructor(t,n){this.version=t,this.transformResults=n}}class nn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new nn}static exists(t){return new nn(void 0,t)}static updateTime(t){return new nn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ah(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class hf{}function aI(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new ff(i.key,nn.none()):new vu(i.key,i.data,nn.none());{const n=i.data,s=fn.empty();let o=new De(Qe.comparator);for(let u of t.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Rs(i.key,s,new Mn(o.toArray()),nn.none())}}function L2(i,t,n){i instanceof vu?(function(o,u,h){const m=o.value.clone(),p=gT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,t,n):i instanceof Rs?(function(o,u,h){if(!Ah(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=gT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(oI(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,t,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,n)}function Jl(i,t,n,s){return i instanceof vu?(function(u,h,m,p){if(!Ah(u.precondition,h))return m;const g=u.value.clone(),v=_T(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,t,n,s):i instanceof Rs?(function(u,h,m,p){if(!Ah(u.precondition,h))return m;const g=_T(u.fieldTransforms,p,h),v=h.data;return v.setAll(oI(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,n,s):(function(u,h,m){return Ah(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,t,n)}function V2(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=nI(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function pT(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&To(s,o,((u,h)=>D2(u,h)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class vu extends hf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rs extends hf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function oI(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}})),t}function gT(i,t,n){const s=new Map;zt(i.length===n.length,32656,{Ae:n.length,Re:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=t.data.field(u.field);s.set(u.field,O2(h,m,n[o]))}return s}function _T(i,t,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,C2(u,h,t))}return s}class ff extends hf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lI extends hf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&L2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Jl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Jl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=tI();return this.mutations.forEach((o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=aI(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),xt())}isEqual(t){return this.batchId===t.batchId&&To(this.mutations,t.mutations,((n,s)=>pT(n,s)))&&To(this.baseMutations,t.baseMutations,((n,s)=>pT(n,s)))}}class cg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){zt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=(function(){return S2})();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new cg(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Bt;function uI(i){switch(i){case J.OK:return gt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return gt(15467,{code:i})}}function cI(i){if(i===void 0)return ur("GRPC error has no .code"),J.UNKNOWN;switch(i){case Re.OK:return J.OK;case Re.CANCELLED:return J.CANCELLED;case Re.UNKNOWN:return J.UNKNOWN;case Re.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Re.INTERNAL:return J.INTERNAL;case Re.UNAVAILABLE:return J.UNAVAILABLE;case Re.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Re.NOT_FOUND:return J.NOT_FOUND;case Re.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Re.ABORTED:return J.ABORTED;case Re.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Re.DATA_LOSS:return J.DATA_LOSS;default:return gt(39323,{code:i})}}(Bt=Re||(Re={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new hs([4294967295,4294967295],0);function yT(i){const t=NS().encode(i),n=new AS;return n.update(t),new Uint8Array(n.digest())}function ET(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new hs([n,s],0),new hs([o,u],0)]}class hg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=hs.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(hs.fromNumber(s)));return o.compare(k2)===1&&(o=new hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=yT(t),[s,o]=ET(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new hg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(t){if(this.fe===0)return;const n=yT(t),[s,o]=ET(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Tu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new df(Et.min(),o,new ue(Nt),cr(),xt())}}class Tu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Tu(s,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class hI{constructor(t,n){this.targetId=t,this.De=n}}class fI{constructor(t,n,s=$e.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class vT{constructor(){this.ve=0,this.Ce=TT(),this.Fe=$e.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=xt(),n=xt(),s=xt();return this.Ce.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:gt(38017,{changeType:u})}})),new Tu(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=TT()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,zt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class B2{constructor(t){this.We=t,this.Ge=new Map,this.ze=cr(),this.je=sh(),this.Je=sh(),this.He=new ue(Nt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,(n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const u=o.target;if(gp(u))if(s===0){const h=new mt(u.path);this.Xe(n,h,ke.newNoDocument(h,Et.min()))}else zt(s===1,20013,{expectedCount:s});else{const h=this.ot(n);if(h!==s){const m=this._t(t),p=m?this.ut(m,t,h):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ys(s).toUint8Array()}catch(p){if(p instanceof US)return ps("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new hg(h,o,u)}catch(p){return ps(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(t){const n=new Map;this.Ge.forEach(((u,h)=>{const m=this.st(h);if(m){if(u.current&&gp(m.target)){const p=new mt(m.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,ke.newNoDocument(p,t))}u.Ne&&(n.set(h,u.Le()),u.ke())}}));let s=xt();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,h)=>h.setReadTime(t)));const o=new df(t,n,this.He,this.ze,s);return this.ze=cr(),this.je=sh(),this.Je=sh(),this.He=new ue(Nt),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new vT,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new De(Nt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new De(Nt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new vT),this.We.getRemoteKeysForTarget(t).forEach((n=>{this.Xe(t,n,null)}))}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function sh(){return new ue(mt.comparator)}function TT(){return new ue(mt.comparator)}const z2={asc:"ASCENDING",desc:"DESCENDING"},H2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j2={and:"AND",or:"OR"};class F2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ep(i,t){return i.useProto3Json||yu(t)?t:{value:t}}function Fh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function dI(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function G2(i,t){return Fh(i,t.toTimestamp())}function Ln(i){return zt(!!i,49232),Et.fromTimestamp((function(n){const s=_s(n);return new re(s.seconds,s.nanos)})(i))}function fg(i,t){return vp(i,t).canonicalString()}function vp(i,t){const n=(function(o){return new Zt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function mI(i){const t=Zt.fromString(i);return zt(vI(t),10190,{key:t.toString()}),t}function Gh(i,t){return fg(i.databaseId,t.path)}function Wl(i,t){const n=mI(t);if(n.get(1)!==i.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new mt(gI(n))}function pI(i,t){return fg(i.databaseId,t)}function q2(i){const t=mI(i);return t.length===4?Zt.emptyPath():gI(t)}function Tp(i){return new Zt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function gI(i){return zt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function AT(i,t,n){return{name:Gh(i,t),fields:n.value.mapValue.fields}}function Y2(i,t){return"found"in t?(function(s,o){zt(!!o.found,43571),o.found.name,o.found.updateTime;const u=Wl(s,o.found.name),h=Ln(o.found.updateTime),m=o.found.createTime?Ln(o.found.createTime):Et.min(),p=new fn({mapValue:{fields:o.found.fields}});return ke.newFoundDocument(u,h,m,p)})(i,t):"missing"in t?(function(s,o){zt(!!o.missing,3894),zt(!!o.readTime,22933);const u=Wl(s,o.missing),h=Ln(o.readTime);return ke.newNoDocument(u,h)})(i,t):gt(7234,{result:t})}function K2(i,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:gt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(zt(v===void 0||typeof v=="string",58123),$e.fromBase64String(v||"")):(zt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),$e.fromUint8Array(v||new Uint8Array))})(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(g){const v=g.code===void 0?J.UNKNOWN:cI(g.code);return new ot(v,g.message||"")})(h);n=new fI(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Wl(i,s.document.name),u=Ln(s.document.updateTime),h=s.document.createTime?Ln(s.document.createTime):Et.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=ke.newFoundDocument(o,u,h,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Sh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Wl(i,s.document),u=s.readTime?Ln(s.readTime):Et.min(),h=ke.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Sh([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Wl(i,s.document),u=s.removedTargetIds||[];n=new Sh([],u,o,null)}else{if(!("filter"in t))return gt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new P2(o,u),m=s.targetId;n=new hI(m,h)}}return n}function _I(i,t){let n;if(t instanceof vu)n={update:AT(i,t.key,t.value)};else if(t instanceof ff)n={delete:Gh(i,t.key)};else if(t instanceof Rs)n={update:AT(i,t.key,t.data),updateMask:nM(t.fieldMask)};else{if(!(t instanceof lI))return gt(16599,{Rt:t.type});n={verify:Gh(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Hh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Io)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof jh)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw gt(20930,{transform:h.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:G2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:gt(27497)})(i,t.precondition)),n}function Q2(i,t){return i&&i.length>0?(zt(t!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Ln(o.updateTime):Ln(u);return h.isEqual(Et.min())&&(h=Ln(u)),new M2(h,o.transformResults||[])})(n,t)))):[]}function $2(i,t){return{documents:[pI(i,t.path)]}}function X2(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pI(i,o);const u=(function(g){if(g.length!==0)return EI(oi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:oo(S.field),direction:Z2(S.dir)}})(v)))})(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Ep(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{Vt:n,parent:o}}function J2(i){let t=q2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){zt(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const S=yI(T);return S instanceof oi&&qS(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((S=>(function(x){return new zh(lo(x.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,yu(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(T){const S=!!T.before,b=T.values||[];return new Bh(b,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,b=T.values||[];return new Bh(b,S)})(n.endAt)),y2(t,o,h,u,m,"F",p,g)}function W2(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function yI(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return be.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=lo(n.unaryFilter.field);return be.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(i):i.fieldFilter!==void 0?(function(n){return be.create(lo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return oi.create(n.compositeFilter.filters.map((s=>yI(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(n.compositeFilter.op))})(i):gt(30097,{filter:i})}function Z2(i){return z2[i]}function tM(i){return H2[i]}function eM(i){return j2[i]}function oo(i){return{fieldPath:i.canonicalString()}}function lo(i){return Qe.fromServerFormat(i.fieldPath)}function EI(i){return i instanceof be?(function(n){if(n.op==="=="){if(uT(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(lT(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uT(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(lT(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:tM(n.op),value:n.value}}})(i):i instanceof oi?(function(n){const s=n.getFilters().map((o=>EI(o)));return s.length===1?s[0]:{compositeFilter:{op:eM(n.op),filters:s}}})(i):gt(54877,{filter:i})}function nM(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function vI(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t,n,s,o,u=Et.min(),h=Et.min(),m=$e.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new as(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(t){this.gt=t}}function rM(i){const t=J2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?yp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.Dn=new aM}addToCollectionParentIndex(t,n){return this.Dn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(gs.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(gs.min())}updateCollectionGroup(t,n,s){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class aM{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new De(Zt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new De(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TI=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(TI,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Ro(0)}static ur(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="LruGarbageCollector",oM=1048576;function RT([i,t],[n,s]){const o=Nt(i,n);return o===0?Nt(t,s):o}class lM{constructor(t){this.Tr=t,this.buffer=new De(RT),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();RT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uM{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){lt(IT,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?lt(IT,"Ignoring IndexedDB error during garbage collection: ",n):await Mo(n)}await this.Rr(3e5)}))}}class cM{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return et.resolve(af.ue);const s=new lM(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(ST)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ST):this.pr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),so()<=Ut.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function hM(i,t){return new cM(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.changes=new da((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ke.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?et.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Jl(s.mutation,o,Mn.empty(),re.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,xt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=xt()){const o=sa();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let h=jl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(t,n){const s=sa();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,xt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(t,n,s,o){let u=cr();const h=Xl(),m=(function(){return Xl()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Rs)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),Jl(v.mutation,g,v.mutation.getFieldMask(),re.now())):h.set(g.key,Mn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>h.set(g,v))),n.forEach(((g,v)=>{var T;return m.set(g,new dM(v,(T=h.get(g))!==null&&T!==void 0?T:null))})),m)))}recalculateAndSaveOverlays(t,n){const s=Xl();let o=new ue(((h,m)=>h-m)),u=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Mn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||xt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=tI();v.forEach((S=>{if(!u.has(S)){const b=aI(n.get(S),s.get(S));b!==null&&T.set(S,b),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(t,g,T))}return et.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(h){return mt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$S(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):et.resolve(sa());let m=iu,p=u;return h.next((g=>et.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?et.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,xt()))).next((v=>({batchId:m,changes:ZS(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((s=>{let o=jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let h=jl();return this.indexManager.getCollectionParents(t,u).next((m=>et.forEach(m,(p=>{const g=(function(T,S){return new Eu(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((v=>{v.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,ke.newInvalidDocument(v)))}));let m=jl();return h.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Jl(v.mutation,g,Mn.empty(),re.now()),uf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return et.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ln(o.createTime)}})(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:rM(o.bundledQuery),readTime:Ln(o.readTime)}})(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.overlays=new ue(mt.comparator),this.kr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const s=sa();return et.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.wt(t,n,u)})),et.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),et.resolve()}getOverlaysForCollection(t,n,s){const o=sa(),u=n.length+1,h=new mt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return et.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ue(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=sa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=sa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return et.resolve(m)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new x2(n,s));let u=this.kr.get(n);u===void 0&&(u=xt(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.qr=new De(Pe.Qr),this.$r=new De(Pe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Pe(t,n))}Gr(t,n){t.forEach((s=>this.removeReference(s,n)))}zr(t){const n=new mt(new Zt([])),s=new Pe(n,t),o=new Pe(n,t+1),u=[];return this.$r.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new mt(new Zt([])),s=new Pe(n,t),o=new Pe(n,t+1);let u=xt();return this.$r.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(t){const n=new Pe(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return mt.comparator(t.key,n.key)||Nt(t.Hr,n.Hr)}static Ur(t,n){return Nt(t.Hr,n.Hr)||mt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new De(Pe.Qr)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new U2(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new Pe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(h)}lookupMutationBatch(t,n){return et.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?ig:this.er-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),o=new Pe(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new De(Nt);return n.forEach((o=>{const u=new Pe(o,0),h=new Pe(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),et.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;mt.isDocumentKey(u)||(u=u.child(""));const h=new Pe(new mt(u),0);let m=new De(Nt);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),et.resolve(this.ei(m))}ei(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){zt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return et.forEach(n.mutations,(o=>{const u=new Pe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Yr=s}))}rr(t){}containsKey(t,n){const s=new Pe(n,0),o=this.Yr.firstAfterOrEqual(s);return et.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t){this.ni=t,this.docs=(function(){return new ue(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return et.resolve(s?s.document.mutableCopy():ke.newInvalidDocument(n))}getEntries(t,n){let s=cr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():ke.newInvalidDocument(o))})),et.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=cr();const h=n.path,m=new mt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||XD($D(v),s)<=0||(o.has(v.key)||uf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,n,s,o){gt(9500)}ri(t,n){return et.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new vM(this)}getSize(t){return et.resolve(this.size)}}class vM extends fM{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)})),et.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(t){this.persistence=t,this.ii=new da((n=>ag(n)),og),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.si=0,this.oi=new dg,this.targetCount=0,this._i=Ro.ar()}forEachTarget(t,n){return this.ii.forEach(((s,o)=>n(o))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),et.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Ro(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.hr(n),et.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ii.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),et.waitFor(u).next((()=>o))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return et.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),et.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(t,h))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),et.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return et.resolve(s)}containsKey(t,n){return et.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,n){this.ai={},this.overlays={},this.ui=new af(0),this.ci=!1,this.ci=!0,this.li=new _M,this.referenceDelegate=t(this),this.hi=new TM(this),this.indexManager=new sM,this.remoteDocumentCache=(function(o){return new EM(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new iM(n),this.Ti=new pM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new gM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new yM(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){lt("MemoryPersistence","Starting transaction:",t);const o=new AM(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return et.or(Object.values(this.ai).map((s=>()=>s.containsKey(t,n))))}}class AM extends WD{constructor(t){super(),this.currentSequenceNumber=t}}class mg{constructor(t){this.persistence=t,this.Ai=new dg,this.Ri=null}static Vi(t){return new mg(t)}get mi(){if(this.Ri)return this.Ri;throw gt(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),et.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),et.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.mi,(s=>{const o=mt.fromPath(s);return this.fi(t,o).next((u=>{u||n.removeEntry(o,Et.min())}))})).next((()=>(this.Ri=null,n.apply(t))))}updateLimboDocument(t,n){return this.fi(t,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(t){return 0}fi(t,n){return et.or([()=>et.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class qh{constructor(t,n){this.persistence=t,this.gi=new da((s=>e2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=hM(this,n)}static Vi(t,n){return new qh(t,n)}Ii(){}di(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}yr(t){let n=0;return this.gr(t,(s=>{n++})).next((()=>n))}gr(t,n){return et.forEach(this.gi,((s,o)=>this.Sr(t,s,o).next((u=>u?et.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,(h=>this.Sr(t,h,n).next((m=>{m||(s++,u.removeEntry(h,Et.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),et.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=vh(t.data.value)),n}Sr(t,n,s){return et.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=xt(),o=xt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new pg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return TC()?8:ZD(rn())>0?6:4})()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ps(t,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ys(t,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new SM;return this.ws(t,n,h).next((m=>{if(u.result=m,this.Rs)return this.Ss(t,n,h,m.size)}))})).next((()=>u.result))}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(so()<=Ut.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),et.resolve()):(so()<=Ut.DEBUG&&lt("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(so()<=Ut.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(n))):et.resolve())}ps(t,n){if(dT(n))return et.resolve(null);let s=Si(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=yp(n,null,"F"),s=Si(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const h=xt(...u);return this.gs.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,h,p.readTime)?this.ps(t,yp(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ys(t,n,s,o){return dT(n)||o.isEqual(Et.min())?et.resolve(null):this.gs.getDocuments(t,s).next((u=>{const h=this.bs(n,u);return this.Ds(n,h,s,o)?et.resolve(null):(so()<=Ut.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.vs(t,h,n,QD(o,iu)).next((m=>m)))}))}bs(t,n){let s=new De(JS(t));return n.forEach(((o,u)=>{uf(t,u)&&(s=s.add(u))})),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,n,s){return so()<=Ut.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",ao(n)),this.gs.getDocumentsMatchingQuery(t,n,gs.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="LocalStore",RM=3e8;class bM{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new ue(Nt),this.Ms=new da((u=>ag(u)),og),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mM(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Fs)))}}function wM(i,t,n,s){return new bM(i,t,n,s)}async function SI(i,t){const n=St(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=xt();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function CM(i,t){const n=St(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,S=T.keys();let b=et.resolve();return S.forEach((x=>{b=b.next((()=>v.getEntry(p,x))).next((z=>{const M=g.docVersions.get(x);zt(M!==null,48541),z.version.compareTo(M)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),v.addEntry(z)))}))})),b.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=xt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function II(i){const t=St(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.hi.getLastRemoteSnapshotVersion(n)))}function OM(i,t){const n=St(i),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];t.targetChanges.forEach(((v,T)=>{const S=o.get(T);if(!S)return;m.push(n.hi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.hi.addMatchingKeys(u,v.addedDocuments,T))));let b=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?b=b.withResumeToken($e.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,s)),o=o.insert(T,b),(function(z,M,tt){return z.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=RM?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0})(S,b,v)&&m.push(n.hi.updateTargetData(u,b))}));let p=cr(),g=xt();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(NM(u,h,t.documentUpdates).next((v=>{p=v.Ls,g=v.ks}))),!s.isEqual(Et.min())){const v=n.hi.getLastRemoteSnapshotVersion(u).next((T=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return et.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function NM(i,t,n){let s=xt(),o=xt();return n.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let h=cr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):lt(gg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:h,ks:o}}))}function DM(i,t){const n=St(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ig),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function MM(i,t){const n=St(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,t).next((u=>u?(o=u,et.resolve(o)):n.hi.allocateTargetId(s).next((h=>(o=new as(t,h,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s}))}async function Ap(i,t,n){const s=St(i),o=s.Fs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Lo(h))throw h;lt(gg,`Failed to update sequence numbers for target ${t}: ${h}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function bT(i,t,n){const s=St(i);let o=Et.min(),u=xt();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,v){const T=St(p),S=T.Ms.get(v);return S!==void 0?et.resolve(T.Fs.get(S)):T.hi.getTargetData(g,v)})(s,h,Si(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,t,n?o:Et.min(),n?u:xt()))).next((m=>(LM(s,v2(t),m),{documents:m,qs:u})))))}function LM(i,t,n){let s=i.xs.get(t)||Et.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.xs.set(t,s)}class wT{constructor(){this.activeTargetIds=b2()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class VM{constructor(){this.Fo=new wT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new wT,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="ConnectivityMonitor";class OT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){lt(CT,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){lt(CT,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function Sp(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="RestConnection",xM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PM{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const h=Sp(),m=this.Go(t,n.toUriEncodedString());lt(Ym,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),v=Co(g);return this.jo(t,m,p,s,v).then((T=>(lt(Ym,`Received RPC '${t}' ${h}: `,T),T)),(T=>{throw ps(Ym,`RPC '${t}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Jo(t,n,s,o,u,h){return this.Wo(t,n,s,o,u)}zo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Go(t,n){const s=xM[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class BM extends PM{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,u){const h=Sp();return new Promise(((m,p)=>{const g=new SS;g.setWithCredentials(!0),g.listenOnce(IS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Eh.NO_ERROR:const T=g.getResponseJson();lt(tn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),m(T);break;case Eh.TIMEOUT:lt(tn,`RPC '${t}' ${h} timed out`),p(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:const S=g.getStatus();if(lt(tn,`RPC '${t}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let b=g.getResponseJson();Array.isArray(b)&&(b=b[0]);const x=b==null?void 0:b.error;if(x&&x.status&&x.message){const z=(function(tt){const nt=tt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(nt)>=0?nt:J.UNKNOWN})(x.status);p(new ot(z,x.message))}else p(new ot(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ot(J.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{c_:t,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{lt(tn,`RPC '${t}' ${h} completed.`)}}));const v=JSON.stringify(o);lt(tn,`RPC '${t}' ${h} sending request:`,o),g.send(n,"POST",v,s,15)}))}P_(t,n,s){const o=Sp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=wS(),m=bS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");lt(tn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const T=h.createWebChannel(v,p);this.T_(T);let S=!1,b=!1;const x=new kM({Ho:M=>{b?lt(tn,`Not sending because RPC '${t}' stream ${o} is closed:`,M):(S||(lt(tn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),lt(tn,`RPC '${t}' stream ${o} sending:`,M),T.send(M))},Yo:()=>T.close()}),z=(M,tt,nt)=>{M.listen(tt,(W=>{try{nt(W)}catch(ht){setTimeout((()=>{throw ht}),0)}}))};return z(T,Hl.EventType.OPEN,(()=>{b||(lt(tn,`RPC '${t}' stream ${o} transport opened.`),x.s_())})),z(T,Hl.EventType.CLOSE,(()=>{b||(b=!0,lt(tn,`RPC '${t}' stream ${o} transport closed`),x.__(),this.I_(T))})),z(T,Hl.EventType.ERROR,(M=>{b||(b=!0,ps(tn,`RPC '${t}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),x.__(new ot(J.UNAVAILABLE,"The operation could not be completed")))})),z(T,Hl.EventType.MESSAGE,(M=>{var tt;if(!b){const nt=M.data[0];zt(!!nt,16349);const W=nt,ht=(W==null?void 0:W.error)||((tt=W[0])===null||tt===void 0?void 0:tt.error);if(ht){lt(tn,`RPC '${t}' stream ${o} received error:`,ht);const Tt=ht.status;let _t=(function(w){const O=Re[w];if(O!==void 0)return cI(O)})(Tt),D=ht.message;_t===void 0&&(_t=J.INTERNAL,D="Unknown error status: "+Tt+" with message "+ht.message),b=!0,x.__(new ot(_t,D)),T.close()}else lt(tn,`RPC '${t}' stream ${o} received:`,nt),x.a_(nt)}})),z(m,RS.STAT_EVENT,(M=>{M.stat===hp.PROXY?lt(tn,`RPC '${t}' stream ${o} detected buffering proxy`):M.stat===hp.NOPROXY&&lt(tn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{x.o_()}),0),x}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((n=>n===t))}}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(i){return new F2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="PersistentStream";class RI{constructor(t,n,s,o,u,h,m,p){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new _g(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{t((()=>{const o=new ot(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return lt(NT,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget((()=>this.b_===t?n():(lt(NT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zM extends RI{constructor(t,n,s,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=K2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Et.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Et.min():h.readTime?Ln(h.readTime):Et.min()})(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=Tp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=gp(p)?{documents:$2(u,p)}:{query:X2(u,p).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=dI(u,h.resumeToken);const g=Ep(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Et.min())>0){m.readTime=Fh(u,h.snapshotVersion.toTimestamp());const g=Ep(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=W2(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=Tp(this.serializer),n.removeTarget=t,this.k_(n)}}class HM extends RI{constructor(t,n,s,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=Q2(t.writeResults,t.commitTime),s=Ln(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=Tp(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>_I(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{}class FM extends jM{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(t,vp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(J.UNKNOWN,u.toString())}))}Jo(t,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Jo(t,vp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(J.UNKNOWN,h.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class GM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ur(n),this._a=!1):lt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class qM{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((h=>{s.enqueueAndForget((async()=>{ma(this)&&(lt(ha,"Restarting streams for network reachability change."),await(async function(p){const g=St(p);g.Ia.add(4),await Au(g),g.Aa.set("Unknown"),g.Ia.delete(4),await pf(g)})(this))}))})),this.Aa=new GM(s,o)}}async function pf(i){if(ma(i))for(const t of i.da)await t(!0)}async function Au(i){for(const t of i.da)await t(!1)}function bI(i,t){const n=St(i);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Tg(n)?vg(n):Vo(n).x_()&&Eg(n,t))}function yg(i,t){const n=St(i),s=Vo(n);n.Ta.delete(t),s.x_()&&wI(n,t),n.Ta.size===0&&(s.x_()?s.B_():ma(n)&&n.Aa.set("Unknown"))}function Eg(i,t){if(i.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Vo(i).H_(t)}function wI(i,t){i.Ra.$e(t),Vo(i).Y_(t)}function vg(i){i.Ra=new B2({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>i.Ta.get(t)||null,lt:()=>i.datastore.serializer.databaseId}),Vo(i).start(),i.Aa.aa()}function Tg(i){return ma(i)&&!Vo(i).M_()&&i.Ta.size>0}function ma(i){return St(i).Ia.size===0}function CI(i){i.Ra=void 0}async function YM(i){i.Aa.set("Online")}async function KM(i){i.Ta.forEach(((t,n)=>{Eg(i,t)}))}async function QM(i,t){CI(i),Tg(i)?(i.Aa.la(t),vg(i)):i.Aa.set("Unknown")}async function $M(i,t,n){if(i.Aa.set("Online"),t instanceof fI&&t.state===2&&t.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))})(i,t)}catch(s){lt(ha,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Yh(i,s)}else if(t instanceof Sh?i.Ra.Ye(t):t instanceof hI?i.Ra.it(t):i.Ra.et(t),!n.isEqual(Et.min()))try{const s=await II(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ta.get(g);v&&u.Ta.set(g,v.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ta.get(p);if(!v)return;u.Ta.set(p,v.withResumeToken($e.EMPTY_BYTE_STRING,v.snapshotVersion)),wI(u,p);const T=new as(v.target,p,g,v.sequenceNumber);Eg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){lt(ha,"Failed to raise snapshot:",s),await Yh(i,s)}}async function Yh(i,t,n){if(!Lo(t))throw t;i.Ia.add(1),await Au(i),i.Aa.set("Offline"),n||(n=()=>II(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{lt(ha,"Retrying IndexedDB access"),await n(),i.Ia.delete(1),await pf(i)}))}function OI(i,t){return t().catch((n=>Yh(i,n,t)))}async function gf(i){const t=St(i),n=vs(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:ig;for(;XM(t);)try{const o=await DM(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,JM(t,o)}catch(o){await Yh(t,o)}NI(t)&&DI(t)}function XM(i){return ma(i)&&i.Pa.length<10}function JM(i,t){i.Pa.push(t);const n=vs(i);n.x_()&&n.Z_&&n.X_(t.mutations)}function NI(i){return ma(i)&&!vs(i).M_()&&i.Pa.length>0}function DI(i){vs(i).start()}async function WM(i){vs(i).na()}async function ZM(i){const t=vs(i);for(const n of i.Pa)t.X_(n.mutations)}async function tL(i,t,n){const s=i.Pa.shift(),o=cg.from(s,t,n);await OI(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await gf(i)}async function eL(i,t){t&&vs(i).Z_&&await(async function(s,o){if((function(h){return uI(h)&&h!==J.ABORTED})(o.code)){const u=s.Pa.shift();vs(s).N_(),await OI(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await gf(s)}})(i,t),NI(i)&&DI(i)}async function DT(i,t){const n=St(i);n.asyncQueue.verifyOperationInProgress(),lt(ha,"RemoteStore received new credentials");const s=ma(n);n.Ia.add(3),await Au(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await pf(n)}async function nL(i,t){const n=St(i);t?(n.Ia.delete(2),await pf(n)):t||(n.Ia.add(2),await Au(n),n.Aa.set("Unknown"))}function Vo(i){return i.Va||(i.Va=(function(n,s,o){const u=St(n);return u.ia(),new zM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:YM.bind(null,i),e_:KM.bind(null,i),n_:QM.bind(null,i),J_:$M.bind(null,i)}),i.da.push((async t=>{t?(i.Va.N_(),Tg(i)?vg(i):i.Aa.set("Unknown")):(await i.Va.stop(),CI(i))}))),i.Va}function vs(i){return i.ma||(i.ma=(function(n,s,o){const u=St(n);return u.ia(),new HM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:WM.bind(null,i),n_:eL.bind(null,i),ea:ZM.bind(null,i),ta:tL.bind(null,i)}),i.da.push((async t=>{t?(i.ma.N_(),await gf(i)):(await i.ma.stop(),i.Pa.length>0&&(lt(ha,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))}))),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const h=Date.now()+s,m=new Ag(t,n,h,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(i,t){if(ur("AsyncQueue",`${t}: ${i}`),Lo(i))return new ot(J.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(t){return new _o(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||mt.comparator(n.key,s.key):(n,s)=>mt.comparator(n.key,s.key),this.keyedMap=jl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof _o)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new _o;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(){this.fa=new ue(mt.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):gt(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal(((n,s)=>{t.push(s)})),t}}class bo{constructor(t,n,s,o,u,h,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new bo(t,n,_o.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class rL{constructor(){this.queries=LT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=St(n),u=o.queries;o.queries=LT(),u.forEach(((h,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function LT(){return new da((i=>XS(i)),lf)}async function MI(i,t){const n=St(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new iL,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Sg(h,`Initialization of query '${ao(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.wa.push(t),t.va(n.onlineState),u.ya&&t.Ca(u.ya)&&Ig(n)}async function LI(i,t){const n=St(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const h=u.wa.indexOf(t);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function sL(i,t){const n=St(i);let s=!1;for(const o of t){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&Ig(n)}function aL(i,t,n){const s=St(i),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(t)}function Ig(i){i.Da.forEach((t=>{t.next()}))}var Ip,VT;(VT=Ip||(Ip={})).Fa="default",VT.Cache="cache";class VI{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new bo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t){this.key=t}}class xI{constructor(t){this.key=t}}class oL{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=xt(),this.mutatedKeys=xt(),this.Xa=JS(t),this.eu=new _o(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new MT,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const S=o.get(v),b=uf(this.query,T)?T:null,x=!!S&&this.mutatedKeys.has(S.key),z=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let M=!1;S&&b?S.data.isEqual(b.data)?x!==z&&(s.track({type:3,doc:b}),M=!0):this.iu(S,b)||(s.track({type:2,doc:b}),M=!0,(p&&this.Xa(b,p)>0||g&&this.Xa(b,g)<0)&&(m=!0)):!S&&b?(s.track({type:0,doc:b}),M=!0):S&&!b&&(s.track({type:1,doc:S}),M=!0,(p||g)&&(m=!0)),M&&(b?(h=h.add(b),u=z?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const h=t.ru.pa();h.sort(((v,T)=>(function(b,x){const z=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{At:M})}};return z(b)-z(x)})(v.type,T.type)||this.Xa(v.doc,T.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new bo(this.query,t.eu,u,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new MT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=xt(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return t.forEach((s=>{this.Za.has(s)||n.push(new xI(s))})),this.Za.forEach((s=>{t.has(s)||n.push(new UI(s))})),n}uu(t){this.Ha=t.qs,this.Za=xt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return bo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Rg="SyncEngine";class lL{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class uL{constructor(t){this.key=t,this.lu=!1}}class cL{constructor(t,n,s,o,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new da((m=>XS(m)),lf),this.Tu=new Map,this.Iu=new Set,this.du=new ue(mt.comparator),this.Eu=new Map,this.Au=new dg,this.Ru={},this.Vu=new Map,this.mu=Ro.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function hL(i,t,n=!0){const s=jI(i);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await PI(s,t,n,!0),o}async function fL(i,t){const n=jI(i);await PI(n,t,!0,!1)}async function PI(i,t,n,s){const o=await MM(i.localStore,Si(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await dL(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&bI(i.remoteStore,o),m}async function dL(i,t,n,s,o){i.gu=(T,S,b)=>(async function(z,M,tt,nt){let W=M.view.nu(tt);W.Ds&&(W=await bT(z.localStore,M.query,!1).then((({documents:D})=>M.view.nu(D,W))));const ht=nt&&nt.targetChanges.get(M.targetId),Tt=nt&&nt.targetMismatches.get(M.targetId)!=null,_t=M.view.applyChanges(W,z.isPrimaryClient,ht,Tt);return xT(z,M.targetId,_t._u),_t.snapshot})(i,T,S,b);const u=await bT(i.localStore,t,!0),h=new oL(t,u.qs),m=h.nu(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);xT(i,n,g._u);const v=new lL(t,n,h);return i.Pu.set(t,v),i.Tu.has(n)?i.Tu.get(n).push(t):i.Tu.set(n,[t]),g.snapshot}async function mL(i,t,n){const s=St(i),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((h=>!lf(h,t)))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ap(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&yg(s.remoteStore,o.targetId),Rp(s,o.targetId)})).catch(Mo)):(Rp(s,o.targetId),await Ap(s.localStore,o.targetId,!0))}async function pL(i,t){const n=St(i),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),yg(n.remoteStore,s.targetId))}async function gL(i,t,n){const s=SL(i);try{const o=await(function(h,m){const p=St(h),g=re.now(),v=m.reduce(((b,x)=>b.add(x.key)),xt());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let x=cr(),z=xt();return p.Os.getEntries(b,v).next((M=>{x=M,x.forEach(((tt,nt)=>{nt.isValidDocument()||(z=z.add(tt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(b,x))).next((M=>{T=M;const tt=[];for(const nt of m){const W=V2(nt,T.get(nt.key).overlayedDocument);W!=null&&tt.push(new Rs(nt.key,W,jS(W.value.mapValue),nn.exists(!0)))}return p.mutationQueue.addMutationBatch(b,g,tt,m)})).next((M=>{S=M;const tt=M.applyToLocalDocumentSet(T,z);return p.documentOverlayCache.saveOverlays(b,M.batchId,tt)}))})).then((()=>({batchId:S.batchId,changes:ZS(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new ue(Nt)),g=g.insert(m,p),h.Ru[h.currentUser.toKey()]=g})(s,o.batchId,n),await Su(s,o.changes),await gf(s.remoteStore)}catch(o){const u=Sg(o,"Failed to persist write");n.reject(u)}}async function kI(i,t){const n=St(i);try{const s=await OM(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const h=n.Eu.get(u);h&&(zt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?zt(h.lu,14607):o.removedDocuments.size>0&&(zt(h.lu,42227),h.lu=!1))})),await Su(n,s,t)}catch(s){await Mo(s)}}function UT(i,t,n){const s=St(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=St(h);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const S of T.wa)S.va(m)&&(g=!0)})),g&&Ig(p)})(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function _L(i,t,n){const s=St(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let h=new ue(mt.comparator);h=h.insert(u,ke.newNoDocument(u,Et.min()));const m=xt().add(u),p=new df(Et.min(),new Map,new ue(Nt),h,m);await kI(s,p),s.du=s.du.remove(u),s.Eu.delete(t),bg(s)}else await Ap(s.localStore,t,!1).then((()=>Rp(s,t,n))).catch(Mo)}async function yL(i,t){const n=St(i),s=t.batch.batchId;try{const o=await CM(n.localStore,t);zI(n,s,null),BI(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Su(n,o)}catch(o){await Mo(o)}}async function EL(i,t,n){const s=St(i);try{const o=await(function(h,m){const p=St(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(zt(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);zI(s,t,n),BI(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Su(s,o)}catch(o){await Mo(o)}}function BI(i,t){(i.Vu.get(t)||[]).forEach((n=>{n.resolve()})),i.Vu.delete(t)}function zI(i,t,n){const s=St(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function Rp(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Tu.get(t))i.Pu.delete(s),n&&i.hu.pu(s,n);i.Tu.delete(t),i.isPrimaryClient&&i.Au.zr(t).forEach((s=>{i.Au.containsKey(s)||HI(i,s)}))}function HI(i,t){i.Iu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&(yg(i.remoteStore,n),i.du=i.du.remove(t),i.Eu.delete(n),bg(i))}function xT(i,t,n){for(const s of n)s instanceof UI?(i.Au.addReference(s.key,t),vL(i,s)):s instanceof xI?(lt(Rg,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,t),i.Au.containsKey(s.key)||HI(i,s.key)):gt(19791,{yu:s})}function vL(i,t){const n=t.key,s=n.path.canonicalString();i.du.get(n)||i.Iu.has(s)||(lt(Rg,"New document in limbo: "+n),i.Iu.add(s),bg(i))}function bg(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Iu.values().next().value;i.Iu.delete(t);const n=new mt(Zt.fromString(t)),s=i.mu.next();i.Eu.set(s,new uL(n)),i.du=i.du.insert(n,s),bI(i.remoteStore,new as(Si(lg(n.path)),s,"TargetPurposeLimboResolution",af.ue))}}async function Su(i,t,n){const s=St(i),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{h.push(s.gu(p,t,n).then((g=>{var v;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=pg.Es(p.targetId,g);u.push(T)}})))})),await Promise.all(h),s.hu.J_(o),await(async function(p,g){const v=St(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>et.forEach(g,(S=>et.forEach(S.Is,(b=>v.persistence.referenceDelegate.addReference(T,S.targetId,b))).next((()=>et.forEach(S.ds,(b=>v.persistence.referenceDelegate.removeReference(T,S.targetId,b)))))))))}catch(T){if(!Lo(T))throw T;lt(gg,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const b=v.Fs.get(S),x=b.snapshotVersion,z=b.withLastLimboFreeSnapshotVersion(x);v.Fs=v.Fs.insert(S,z)}}})(s.localStore,u))}async function TL(i,t){const n=St(i);if(!n.currentUser.isEqual(t)){lt(Rg,"User change. New user:",t.toKey());const s=await SI(n.localStore,t);n.currentUser=t,(function(u,h){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ot(J.CANCELLED,h))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Su(n,s.Bs)}}function AL(i,t){const n=St(i),s=n.Eu.get(t);if(s&&s.lu)return xt().add(s.key);{let o=xt();const u=n.Tu.get(t);if(!u)return o;for(const h of u){const m=n.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function jI(i){const t=St(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=kI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=AL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_L.bind(null,t),t.hu.J_=sL.bind(null,t.eventManager),t.hu.pu=aL.bind(null,t.eventManager),t}function SL(i){const t=St(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EL.bind(null,t),t}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return wM(this.persistence,new IM,t.initialUser,this.serializer)}Du(t){return new AI(mg.Vi,this.serializer)}bu(t){return new VM}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class IL extends Kh{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){zt(this.persistence.referenceDelegate instanceof qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new uM(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new AI((s=>qh.Vi(s,n)),this.serializer)}}class bp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>UT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=TL.bind(null,this.syncEngine),await nL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new rL})()}createDatastore(t){const n=mf(t.databaseInfo.databaseId),s=(function(u){return new BM(u)})(t.databaseInfo);return(function(u,h,m,p){return new FM(u,h,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,h,m){return new qM(s,o,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>UT(this.syncEngine,n,0)),(function(){return OT.C()?new OT:new UM})())}createSyncEngine(t,n){return(function(o,u,h,m,p,g,v){const T=new cL(o,u,h,m,p,g);return v&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=St(o);lt(ha,"RemoteStore shutting down."),u.Ia.add(5),await Au(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}bp.provider={build:()=>new bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):ur("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ot(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const h=St(o),m={documents:u.map((T=>Gh(h.serializer,T)))},p=await h.Jo("BatchGetDocuments",h.serializer.databaseId,Zt.emptyPath(),m,u.length),g=new Map;p.forEach((T=>{const S=Y2(h.serializer,T);g.set(S.key.toString(),S)}));const v=[];return u.forEach((T=>{const S=g.get(T.toString());zt(!!S,55234,{key:T}),v.push(S)})),v})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new ff(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=mt.fromPath(s);this.mutations.push(new lI(o,this.precondition(o)))})),await(async function(s,o){const u=St(s),h={writes:o.map((m=>_I(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,Zt.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw gt(50498,{Wu:t.constructor.name});n=Et.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new ot(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(Et.min())?nn.exists(!1):nn.updateTime(n):nn.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Et.min()))throw new ot(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nn.updateTime(n)}return nn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new _g(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const t=new RL(this.datastore),n=this.Ju(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(t){try{const n=this.updateFunction(t);return!yu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(t){this.Gu>0&&this.Yu(t)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(t)}Yu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!uI(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class wL{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{lt(Ts,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(lt(Ts,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Sg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Qm(i,t){i.asyncQueue.verifyOperationInProgress(),lt(Ts,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await SI(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>{ps("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then((()=>{lt("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{ps("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),i._offlineComponents=t}async function PT(i,t){i.asyncQueue.verifyOperationInProgress();const n=await CL(i);lt(Ts,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((s=>DT(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>DT(t.remoteStore,o))),i._onlineComponents=t}async function CL(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){lt(Ts,"Using user provided OfflineComponentProvider");try{await Qm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ps("Error using user provided cache. Falling back to memory cache: "+n),await Qm(i,new Kh)}}else lt(Ts,"Using default OfflineComponentProvider"),await Qm(i,new IL(void 0));return i._offlineComponents}async function wg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(lt(Ts,"Using user provided OnlineComponentProvider"),await PT(i,i._uninitializedComponentsProvider._online)):(lt(Ts,"Using default OnlineComponentProvider"),await PT(i,new bp))),i._onlineComponents}function OL(i){return wg(i).then((t=>t.syncEngine))}function NL(i){return wg(i).then((t=>t.datastore))}async function wp(i){const t=await wg(i),n=t.eventManager;return n.onListen=hL.bind(null,t.syncEngine),n.onUnlisten=mL.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=fL.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=pL.bind(null,t.syncEngine),n}function DL(i,t,n={}){const s=new sr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new FI({next:S=>{v.Ou(),h.enqueueAndForget((()=>LI(u,T))),S.fromCache&&p.source==="server"?g.reject(new ot(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new VI(m,v,{includeMetadataChanges:!0,ka:!0});return MI(u,T)})(await wp(i),i.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="firestore.googleapis.com",BT=!0;class zT{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qI,this.ssl=BT}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:BT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=TI;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<oM)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}KD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GI((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _f{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new kD;switch(s.type){case"firstParty":return new jD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=kT.get(n);s&&(lt("ComponentProvider","Removing Datastore"),kT.delete(n),s.terminate())})(this),Promise.resolve()}}function ML(i,t,n,s={}){var o;i=$n(i,_f);const u=Co(t),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${t}:${n}`;u&&(UA(`https://${p}`),xA("Firestore",!0)),h.host!==qI&&h.host!==p&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!ms(g,m)&&(i._setSettings(g),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=en.MOCK_USER;else{v=fC(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(S)}i._authCredentials=new BD(new OS(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new pa(this.firestore,t,this._query)}}class me{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new me(this.firestore,t,this._key)}toJSON(){return{type:me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(_u(n,me._jsonSchema))return new me(t,s||null,new mt(Zt.fromString(n.referencePath)))}}me._jsonSchemaVersion="firestore/documentReference/1.0",me._jsonSchema={type:we("string",me._jsonSchemaVersion),referencePath:we("string")};class fs extends pa{constructor(t,n,s){super(t,n,lg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new me(this.firestore,null,new mt(t))}withConverter(t){return new fs(this.firestore,t,this._path)}}function oh(i,t,...n){if(i=Ce(i),DS("collection","path",t),i instanceof _f){const s=Zt.fromString(t,...n);return Zv(s),new fs(i,null,s)}{if(!(i instanceof me||i instanceof fs))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Zt.fromString(t,...n));return Zv(s),new fs(i.firestore,null,s)}}function uo(i,t,...n){if(i=Ce(i),arguments.length===1&&(t=ng.newId()),DS("doc","path",t),i instanceof _f){const s=Zt.fromString(t,...n);return Wv(s),new me(i,null,new mt(s))}{if(!(i instanceof me||i instanceof fs))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Zt.fromString(t,...n));return Wv(s),new me(i.firestore,i instanceof fs?i.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="AsyncQueue";class jT{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new _g(this,"async_queue_retry"),this.oc=()=>{const s=Km();s&&lt(HT,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new sr;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Lo(t))throw t;lt(HT,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((s=>{throw this.tc=s,this.nc=!1,ur("INTERNAL UNHANDLED ERROR: ",FT(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=Ag.createAndSchedule(this,t,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&gt(47125,{hc:FT(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function FT(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class As extends _f{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new jT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new jT(t),this._firestoreClient=void 0,await t}}}function LL(i,t){const n=typeof i=="object"?i:zA(),s=typeof i=="string"?i:Ph,o=Fp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=cC("firestore");u&&ML(o,...u)}return o}function yf(i){if(i._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||VL(i),i._firestoreClient}function VL(i){var t,n,s;const o=i._freezeSettings(),u=(function(m,p,g,v){return new r2(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,GI(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new wL(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dn($e.fromBase64String(t))}catch(n){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Dn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_u(t,Dn._jsonSchema))return Dn.fromBase64String(t.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:we("string",Dn._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(t){if(_u(t,Ii._jsonSchema))return new Ii(t.latitude,t.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:we("string",Ii._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_u(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ri(t.vectorValues);throw new ot(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:we("string",Ri._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=/^__.*__$/;class xL{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Rs(t,this.data,this.fieldMask,n,this.fieldTransforms):new vu(t,this.data,n,this.fieldTransforms)}}class YI{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Rs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function KI(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ec:i})}}class vf{constructor(t,n,s,o,u,h){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new vf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Qh(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(KI(this.Ec)&&UL.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class PL{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||mf(t)}Dc(t,n,s,o=!1){return new vf({Ec:t,methodName:n,bc:s,path:Qe.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tf(i){const t=i._freezeSettings(),n=mf(i._databaseId);return new PL(i._databaseId,!!t.ignoreUndefinedProperties,n)}function QI(i,t,n,s,o,u={}){const h=i.Dc(u.merge||u.mergeFields?2:0,t,n,o);Og("Data must be an object, but it was:",h,s);const m=JI(s,h);let p,g;if(u.merge)p=new Mn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const S=Cp(t,T,n);if(!h.contains(S))throw new ot(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);ZI(v,S)||v.push(S)}p=new Mn(v),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new xL(new fn(m),p,g)}class Ru extends Ef{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ru}}function kL(i,t,n){return new vf({Ec:3,bc:t.settings.bc,methodName:i._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Cg extends Ef{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=kL(this,t,!0),s=this.vc.map((u=>Uo(u,n))),o=new Io(s);return new N2(t.path,o)}isEqual(t){return t instanceof Cg&&ms(this.vc,t.vc)}}function $I(i,t,n,s){const o=i.Dc(1,t,n);Og("Data must be an object, but it was:",o,s);const u=[],h=fn.empty();Is(s,((p,g)=>{const v=Ng(t,p,n);g=Ce(g);const T=o.gc(v);if(g instanceof Ru)u.push(v);else{const S=Uo(g,T);S!=null&&(u.push(v),h.set(v,S))}}));const m=new Mn(u);return new YI(h,m,o.fieldTransforms)}function XI(i,t,n,s,o,u){const h=i.Dc(1,t,n),m=[Cp(t,s,n)],p=[o];if(u.length%2!=0)throw new ot(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Cp(t,u[S])),p.push(u[S+1]);const g=[],v=fn.empty();for(let S=m.length-1;S>=0;--S)if(!ZI(g,m[S])){const b=m[S];let x=p[S];x=Ce(x);const z=h.gc(b);if(x instanceof Ru)g.push(b);else{const M=Uo(x,z);M!=null&&(g.push(b),v.set(b,M))}}const T=new Mn(g);return new YI(v,T,h.fieldTransforms)}function BL(i,t,n,s=!1){return Uo(n,i.Dc(s?4:3,t))}function Uo(i,t){if(WI(i=Ce(i)))return Og("Unsupported field value:",t,i),JI(i,t);if(i instanceof Ef)return(function(s,o){if(!KI(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Uo(m,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=Ce(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return w2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:Fh(o.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Fh(o.serializer,u)}}if(s instanceof Ii)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Dn)return{bytesValue:dI(o.serializer,s._byteString)};if(s instanceof me){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:fg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ri)return(function(h,m){return{mapValue:{fields:{[zS]:{stringValue:HS},[kh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return ug(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${sf(s)}`)})(i,t)}function JI(i,t){const n={};return VS(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Is(i,((s,o)=>{const u=Uo(o,t.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function WI(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof re||i instanceof Ii||i instanceof Dn||i instanceof me||i instanceof Ef||i instanceof Ri)}function Og(i,t,n){if(!WI(n)||!MS(n)){const s=sf(n);throw s==="an object"?t.wc(i+" a custom object"):t.wc(i+" "+s)}}function Cp(i,t,n){if((t=Ce(t))instanceof Iu)return t._internalPath;if(typeof t=="string")return Ng(i,t);throw Qh("Field path arguments must be of type string or ",i,!1,void 0,n)}const zL=new RegExp("[~\\*/\\[\\]]");function Ng(i,t,n){if(t.search(zL)>=0)throw Qh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Iu(...t.split("."))._internalPath}catch{throw Qh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Qh(i,t,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ot(J.INVALID_ARGUMENT,m+i+p)}function ZI(i,t){return i.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Dg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HL extends $h{data(){return super.data()}}function Dg(i,t){return typeof t=="string"?Ng(i,t):t instanceof Iu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ot(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mg{}class jL extends Mg{}function FL(i,t,...n){let s=[];t instanceof Mg&&s.push(t),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Lg)).length,m=u.filter((p=>p instanceof Af)).length;if(h>1||h>0&&m>0)throw new ot(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Af extends jL{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Af(t,n,s)}_apply(t){const n=this._parse(t);return eR(t._query,n),new pa(t.firestore,t.converter,_p(t._query,n))}_parse(t){const n=Tf(t.firestore);return(function(u,h,m,p,g,v,T){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ot(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){YT(T,v);const x=[];for(const z of T)x.push(qT(p,u,z));S={arrayValue:{values:x}}}else S=qT(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||YT(T,v),S=BL(m,h,T,v==="in"||v==="not-in");return be.create(g,v,S)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function GL(i,t,n){const s=t,o=Dg("where",i);return Af._create(o,s,n)}class Lg extends Mg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Lg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:oi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)eR(h,p),h=_p(h,p)})(t._query,n),new pa(t.firestore,t.converter,_p(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function qT(i,t,n){if(typeof(n=Ce(n))=="string"){if(n==="")throw new ot(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$S(t)&&n.indexOf("/")!==-1)throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Zt.fromString(n));if(!mt.isDocumentKey(s))throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return oT(i,new mt(s))}if(n instanceof me)return oT(i,n._key);throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sf(n)}.`)}function YT(i,t){if(!Array.isArray(i)||i.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function eR(i,t){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ot(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class nR{convertValue(t,n="none"){switch(Es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ys(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Is(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[kh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((h=>Ee(h.doubleValue)));return new Ri(u)}convertGeoPoint(t){return new Ii(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=of(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ru(t));default:return null}}convertTimestamp(t){const n=_s(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Zt.fromString(t);zt(vI(s),9688,{name:t});const o=new su(s.get(1),s.get(3)),u=new mt(s.popFirst(5));return o.isEqual(n)||ur(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(i,t,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(t,n):i.toFirestore(t):t,s}class qL extends nR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new me(this.firestore,null,n)}}class ho{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ds extends $h{constructor(t,n,s,o,u,h){super(t,n,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Dg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ds._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",ds._jsonSchema={type:we("string",ds._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Ih extends ds{data(t={}){return super.data(t)}}class aa{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ho(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Ih(this._firestore,this._userDataWriter,s.key,s,new ho(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ho(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ho(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:YL(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=aa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function YL(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:i})}}aa._jsonSchemaVersion="firestore/querySnapshot/1.0",aa._jsonSchema={type:we("string",aa._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class Sf extends nR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new me(this.firestore,null,n)}}function KL(i){i=$n(i,pa);const t=$n(i.firestore,As),n=yf(t),s=new Sf(t);return tR(i._query),DL(n,i._query).then((o=>new aa(t,s,i,o)))}function KT(i,t,n){i=$n(i,me);const s=$n(i.firestore,As),o=iR(i.converter,t,n);return Vg(s,[QI(Tf(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,nn.none())])}function QL(i,t,n,...s){i=$n(i,me);const o=$n(i.firestore,As),u=Tf(o);let h;return h=typeof(t=Ce(t))=="string"||t instanceof Iu?XI(u,"updateDoc",i._key,t,n,s):$I(u,"updateDoc",i._key,t),Vg(o,[h.toMutation(i._key,nn.exists(!0))])}function $L(i){return Vg($n(i.firestore,As),[new ff(i._key,nn.none())])}function $m(i,...t){var n,s,o;i=Ce(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||GT(t[h])||(u=t[h++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(GT(t[h])){const T=t[h];t[h]=(n=T.next)===null||n===void 0?void 0:n.bind(T),t[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),t[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,v;if(i instanceof me)g=$n(i.firestore,As),v=lg(i._key.path),p={next:T=>{t[h]&&t[h](XL(g,i,T))},error:t[h+1],complete:t[h+2]};else{const T=$n(i,pa);g=$n(T.firestore,As),v=T._query;const S=new Sf(g);p={next:b=>{t[h]&&t[h](new aa(g,S,T,b))},error:t[h+1],complete:t[h+2]},tR(i._query)}return(function(S,b,x,z){const M=new FI(z),tt=new VI(b,M,x);return S.asyncQueue.enqueueAndForget((async()=>MI(await wp(S),tt))),()=>{M.Ou(),S.asyncQueue.enqueueAndForget((async()=>LI(await wp(S),tt)))}})(yf(g),v,m,p)}function Vg(i,t){return(function(s,o){const u=new sr;return s.asyncQueue.enqueueAndForget((async()=>gL(await OL(s),o,u))),u.promise})(yf(i),t)}function XL(i,t,n){const s=n.docs.get(t._key),o=new Sf(i);return new ds(i,o,t._key,s,new ho(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL={maxAttempts:5};function Gl(i,t){if((i=Ce(i)).firestore!==t)throw new ot(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Tf(t)}get(t){const n=Gl(t,this._firestore),s=new qL(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return gt(24041);const u=o[0];if(u.isFoundDocument())return new $h(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new $h(this._firestore,s,n._key,null,n.converter);throw gt(18433,{doc:u})}))}set(t,n,s){const o=Gl(t,this._firestore),u=iR(o.converter,n,s),h=QI(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,h),this}update(t,n,s,...o){const u=Gl(t,this._firestore);let h;return h=typeof(n=Ce(n))=="string"||n instanceof Iu?XI(this._dataReader,"Transaction.update",u._key,n,s,o):$I(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,h),this}delete(t){const n=Gl(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL extends WL{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Gl(t,this._firestore),s=new Sf(this._firestore);return super.get(t).then((o=>new ds(this._firestore,s,n._key,o._document,new ho(!1,!1),n.converter)))}}function tV(i,t,n){i=$n(i,As);const s=Object.assign(Object.assign({},JL),n);return(function(u){if(u.maxAttempts<1)throw new ot(J.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,h,m){const p=new sr;return u.asyncQueue.enqueueAndForget((async()=>{const g=await NL(u);new bL(u.asyncQueue,g,m,h,p).zu()})),p.promise})(yf(i),(o=>t(new ZL(i,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(){return new Ru("deleteField")}function nV(...i){return new Cg("arrayUnion",i)}(function(t,n=!0){(function(o){Do=o})(Oo),Eo(new la("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new As(new zD(s.getProvider("auth-internal")),new FD(h,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(g.options.projectId,v)})(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),us(Kv,Qv,t),us(Kv,Qv,"esm2017")})();var iV={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var QT;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(QT||(QT={}));var $T;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})($T||($T={}));var XT;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(XT||(XT={}));var JT;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(JT||(JT={}));var WT;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(WT||(WT={}));var ZT;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(ZT||(ZT={}));var t0;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(t0||(t0={}));var e0;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(e0||(e0={}));var n0;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(n0||(n0={}));var i0;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(i0||(i0={}));var r0;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(r0||(r0={}));var s0;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(s0||(s0={}));var a0;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(a0||(a0={}));var o0;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(o0||(o0={}));var l0;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(l0||(l0={}));var u0;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(u0||(u0={}));var c0;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(c0||(c0={}));var h0;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(h0||(h0={}));var f0;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(f0||(f0={}));var d0;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(d0||(d0={}));var m0;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(m0||(m0={}));var p0;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(p0||(p0={}));var g0;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(g0||(g0={}));var _0;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(_0||(_0={}));var y0;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(y0||(y0={}));var E0;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(E0||(E0={}));var v0;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(v0||(v0={}));var T0;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(T0||(T0={}));var A0;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(A0||(A0={}));var S0;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(S0||(S0={}));var I0;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(I0||(I0={}));var R0;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(R0||(R0={}));var b0;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(b0||(b0={}));var w0;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(w0||(w0={}));var C0;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(C0||(C0={}));var O0;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(O0||(O0={}));var N0;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(N0||(N0={}));var D0;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(D0||(D0={}));var M0;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(M0||(M0={}));var L0;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(L0||(L0={}));var V0;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(V0||(V0={}));var U0;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(U0||(U0={}));var x0;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(x0||(x0={}));var P0;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(P0||(P0={}));var k0;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(k0||(k0={}));var B0;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(B0||(B0={}));var z0;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(z0||(z0={}));var H0;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(H0||(H0={}));var j0;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(j0||(j0={}));var F0;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(F0||(F0={}));var G0;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(G0||(G0={}));var q0;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(q0||(q0={}));var Y0;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Y0||(Y0={}));var K0;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(K0||(K0={}));var Q0;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Q0||(Q0={}));var $0;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})($0||($0={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var X0;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(X0||(X0={}));function Xh(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function J0(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],s=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(i){return this instanceof oe?(this.v=i,this):new oe(i)}function Zl(i,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(i,t||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(b){return function(x){return Promise.resolve(x).then(b,T)}}function m(b,x){s[b]&&(o[b]=function(z){return new Promise(function(M,tt){u.push([b,z,M,tt])>1||p(b,z)})},x&&(o[b]=x(o[b])))}function p(b,x){try{g(s[b](x))}catch(z){S(u[0][3],z)}}function g(b){b.value instanceof oe?Promise.resolve(b.value.v).then(v,T):S(u[0][2],b)}function v(b){p("next",b)}function T(b){p("throw",b)}function S(b,x){b(x),u.shift(),u.length&&p(u[0][0],u[0][1])}}function yo(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],n;return t?t.call(i):(i=typeof J0=="function"?J0(i):i[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(u){n[u]=i[u]&&function(h){return new Promise(function(m,p){h=i[u](h),o(m,p,h.done,h.value)})}}function o(u,h,m,p){Promise.resolve(p).then(function(g){u({value:g,done:m})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let rR=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return rR=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),n=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};const rV=()=>rR();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Op(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Np=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xn extends Error{}class dn extends Xn{constructor(t,n,s,o){super(`${dn.makeMessage(t,n,s)}`),this.status=t,this.headers=o,this.error=n}static makeMessage(t,n,s){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,n,s,o){if(!t||!o)return new If({message:s,cause:Np(n)});const u=n;return t===400?new aR(t,u,s,o):t===401?new oR(t,u,s,o):t===403?new lR(t,u,s,o):t===404?new uR(t,u,s,o):t===409?new cR(t,u,s,o):t===422?new hR(t,u,s,o):t===429?new fR(t,u,s,o):t>=500?new dR(t,u,s,o):new dn(t,u,s,o)}}class Dp extends dn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class If extends dn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class sR extends If{constructor({message:t}={}){super({message:t??"Request timed out."})}}class aR extends dn{}class oR extends dn{}class lR extends dn{}class uR extends dn{}class cR extends dn{}class hR extends dn{}class fR extends dn{}class dR extends dn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sV=/^[a-z][a-z0-9+.-]*:/i,aV=i=>sV.test(i);let Mp=i=>(Mp=Array.isArray,Mp(i));const oV=Mp;let lV=oV;const W0=lV;function uV(i){if(!i)return!0;for(const t in i)return!1;return!0}function cV(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const hV=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Xn(`${i} must be an integer`);if(t<0)throw new Xn(`${i} must be a positive integer`);return t},fV=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dV=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const co="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mV(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const pV=()=>{var i,t,n,s,o;const u=mV();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":co,"X-Stainless-OS":tA(Deno.build.os),"X-Stainless-Arch":Z0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":co,"X-Stainless-OS":tA((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Z0((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const h=gV();return h?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${h.browser}`,"X-Stainless-Runtime-Version":h.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function gV(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of i){const s=n.exec(navigator.userAgent);if(s){const o=s[1]||0,u=s[2]||0,h=s[3]||0;return{browser:t,version:`${o}.${u}.${h}`}}}return null}const Z0=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",tA=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let lh;const _V=()=>lh??(lh=pV());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yV(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function mR(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function EV(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return mR({start(){},async pull(n){const{done:s,value:o}=await t.next();s?n.close():n.enqueue(o)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function pR(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function vV(i){var t,n;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((n=(t=i[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const s=i.getReader(),o=s.cancel();s.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TV=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gR=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Xm(i,t,n){return gR(),new File(i,t??"unknown_file",n)}function AV(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const SV=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _R=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",IV=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&_R(i),RV=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function bV(i,t,n){if(gR(),i=await i,IV(i))return i instanceof File?i:Xm([await i.arrayBuffer()],i.name);if(RV(i)){const o=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Xm(await Lp(o),t,n)}const s=await Lp(i);if(t||(t=AV(i)),!(n!=null&&n.type)){const o=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return Xm(s,t,n)}async function Lp(i){var t,n,s,o,u;let h=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)h.push(i);else if(_R(i))h.push(i instanceof Blob?i:await i.arrayBuffer());else if(SV(i))try{for(var m=!0,p=yo(i),g;g=await p.next(),t=g.done,!t;m=!0){o=g.value,m=!1;const v=o;h.push(...await Lp(v))}}catch(v){n={error:v}}finally{try{!m&&!t&&(s=p.return)&&await s.call(p)}finally{if(n)throw n.error}}else{const v=(u=i==null?void 0:i.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${wV(i)}`)}return h}function wV(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yR{constructor(t){this._client=t}}yR._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ER(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const eA=Object.freeze(Object.create(null)),CV=(i=ER)=>(function(n,...s){if(n.length===1)return n[0];let o=!1;const u=[],h=n.reduce((v,T,S)=>{var b,x,z;/[?#]/.test(T)&&(o=!0);const M=s[S];let tt=(o?encodeURIComponent:i)(""+M);return S!==s.length&&(M==null||typeof M=="object"&&M.toString===((z=Object.getPrototypeOf((x=Object.getPrototypeOf((b=M.hasOwnProperty)!==null&&b!==void 0?b:eA))!==null&&x!==void 0?x:eA))===null||z===void 0?void 0:z.toString))&&(tt=M+"",u.push({start:v.length+T.length,length:tt.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),v+T+(S===s.length?"":tt)},""),m=h.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=p.exec(m))!==null;)u.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(u.sort((v,T)=>v.start-T.start),u.length>0){let v=0;const T=u.reduce((S,b)=>{const x=" ".repeat(b.start-v),z="^".repeat(b.length);return v=b.start+b.length,S+x+z},"");throw new Xn(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${h}
${T}`)}return h}),uh=CV(ER);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vR extends yR{create(t,n){var s;const{api_version:o=this._client.apiVersion}=t,u=Xh(t,["api_version"]);if("model"in u&&"agent_config"in u)throw new Xn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Xn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(uh`/${o}/interactions`,Object.assign(Object.assign({body:u},n),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(uh`/${o}/interactions/${t}`,s)}cancel(t,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(uh`/${o}/interactions/${t}/cancel`,s)}get(t,n={},s){var o;const u=n??{},{api_version:h=this._client.apiVersion}=u,m=Xh(u,["api_version"]);return this._client.get(uh`/${h}/interactions/${t}`,Object.assign(Object.assign({query:m},s),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}vR._key=Object.freeze(["interactions"]);class TR extends vR{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OV(i){let t=0;for(const o of i)t+=o.length;const n=new Uint8Array(t);let s=0;for(const o of i)n.set(o,s),s+=o.length;return n}let ch;function Ug(i){let t;return(ch??(t=new globalThis.TextEncoder,ch=t.encode.bind(t)))(i)}let hh;function nA(i){let t;return(hh??(t=new globalThis.TextDecoder,hh=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rf{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Ug(t):t;this.buffer=OV([this.buffer,n]);const s=[];let o;for(;(o=NV(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){s.push(nA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,h=nA(this.buffer.subarray(0,u));s.push(h),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Rf.NEWLINE_CHARS=new Set([`
`,"\r"]);Rf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function NV(i,t){for(let o=t??0;o<i.length;o++){if(i[o]===10)return{preceding:o,index:o+1,carriage:!1};if(i[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function DV(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jh={off:0,error:200,warn:300,info:400,debug:500},iA=(i,t,n)=>{if(i){if(cV(Jh,i))return i;hn(n).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Jh))}`)}};function ql(){}function fh(i,t,n){return!t||Jh[i]>Jh[n]?ql:t[i].bind(t)}const MV={error:ql,warn:ql,info:ql,debug:ql};let rA=new WeakMap;function hn(i){var t;const n=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!n)return MV;const o=rA.get(n);if(o&&o[0]===s)return o[1];const u={error:fh("error",n,s),warn:fh("warn",n,s),info:fh("info",n,s),debug:fh("debug",n,s)};return rA.set(n,[s,u]),u}const ia=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fo{constructor(t,n,s){this.iterator=t,this.controller=n,this.client=s}static fromSSEResponse(t,n,s){let o=!1;const u=s?hn(s):console;function h(){return Zl(this,arguments,function*(){var p,g,v,T;if(o)throw new Xn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var b=!0,x=yo(LV(t,n)),z;z=yield oe(x.next()),p=z.done,!p;b=!0){T=z.value,b=!1;const M=T;if(!S)if(M.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield oe(JSON.parse(M.data))}catch(tt){throw u.error("Could not parse message into JSON:",M.data),u.error("From chunk:",M.raw),tt}}}catch(M){g={error:M}}finally{try{!b&&!p&&(v=x.return)&&(yield oe(v.call(x)))}finally{if(g)throw g.error}}S=!0}catch(M){if(Op(M))return yield oe(void 0);throw M}finally{S||n.abort()}})}return new fo(h,n,s)}static fromReadableStream(t,n,s){let o=!1;function u(){return Zl(this,arguments,function*(){var p,g,v,T;const S=new Rf,b=pR(t);try{for(var x=!0,z=yo(b),M;M=yield oe(z.next()),p=M.done,!p;x=!0){T=M.value,x=!1;const tt=T;for(const nt of S.decode(tt))yield yield oe(nt)}}catch(tt){g={error:tt}}finally{try{!x&&!p&&(v=z.return)&&(yield oe(v.call(z)))}finally{if(g)throw g.error}}for(const tt of S.flush())yield yield oe(tt)})}function h(){return Zl(this,arguments,function*(){var p,g,v,T;if(o)throw new Xn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var b=!0,x=yo(u()),z;z=yield oe(x.next()),p=z.done,!p;b=!0){T=z.value,b=!1;const M=T;S||M&&(yield yield oe(JSON.parse(M)))}}catch(M){g={error:M}}finally{try{!b&&!p&&(v=x.return)&&(yield oe(v.call(x)))}finally{if(g)throw g.error}}S=!0}catch(M){if(Op(M))return yield oe(void 0);throw M}finally{S||n.abort()}})}return new fo(h,n,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],s=this.iterator(),o=u=>({next:()=>{if(u.length===0){const h=s.next();t.push(h),n.push(h)}return u.shift()}});return[new fo(()=>o(t),this.controller,this.client),new fo(()=>o(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return mR({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:u}=await n.next();if(u)return s.close();const h=Ug(JSON.stringify(o)+`
`);s.enqueue(h)}catch(o){s.error(o)}},async cancel(){var s;await((s=n.return)===null||s===void 0?void 0:s.call(n))}})}}function LV(i,t){return Zl(this,arguments,function*(){var s,o,u,h;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Xn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Xn("Attempted to iterate over a response with no body");const m=new UV,p=new Rf,g=pR(i.body);try{for(var v=!0,T=yo(VV(g)),S;S=yield oe(T.next()),s=S.done,!s;v=!0){h=S.value,v=!1;const b=h;for(const x of p.decode(b)){const z=m.decode(x);z&&(yield yield oe(z))}}}catch(b){o={error:b}}finally{try{!v&&!s&&(u=T.return)&&(yield oe(u.call(T)))}finally{if(o)throw o.error}}for(const b of p.flush()){const x=m.decode(b);x&&(yield yield oe(x))}})}function VV(i){return Zl(this,arguments,function*(){var n,s,o,u;let h=new Uint8Array;try{for(var m=!0,p=yo(i),g;g=yield oe(p.next()),n=g.done,!n;m=!0){u=g.value,m=!1;const v=u;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Ug(v):v;let S=new Uint8Array(h.length+T.length);S.set(h),S.set(T,h.length),h=S;let b;for(;(b=DV(h))!==-1;)yield yield oe(h.slice(0,b)),h=h.slice(b)}}catch(v){s={error:v}}finally{try{!m&&!n&&(o=p.return)&&(yield oe(o.call(p)))}finally{if(s)throw s.error}}h.length>0&&(yield yield oe(h))})}class UV{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,s,o]=xV(t,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function xV(i,t){const n=i.indexOf(t);return n!==-1?[i.substring(0,n),t,i.substring(n+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function PV(i,t){const{response:n,requestLogID:s,retryOfRequestLogID:o,startTime:u}=t,h=await(async()=>{var m;if(t.options.stream)return hn(i).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,i):fo.fromSSEResponse(n,t.controller,i);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const p=n.headers.get("content-type"),g=(m=p==null?void 0:p.split(";")[0])===null||m===void 0?void 0:m.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await n.json():await n.text()})();return hn(i).debug(`[${s}] response parsed`,ia({retryOfRequestLogID:o,url:n.url,status:n.status,body:h,durationMs:Date.now()-u})),h}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xg extends Promise{constructor(t,n,s=PV){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new xg(this.client,this.responsePromise,async(n,s)=>t(await this.parseResponse(n,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AR=Symbol("brand.privateNullableHeaders");function*kV(i){if(!i)return;if(AR in i){const{values:s,nulls:o}=i;yield*s.entries();for(const u of o)yield[u,null];return}let t=!1,n;i instanceof Headers?n=i.entries():W0(i)?n=i:(t=!0,n=Object.entries(i??{}));for(let s of n){const o=s[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const u=W0(s[1])?s[1]:[s[1]];let h=!1;for(const m of u)m!==void 0&&(t&&!h&&(h=!0,yield[o,null]),yield[o,m])}}const zl=i=>{const t=new Headers,n=new Set;for(const s of i){const o=new Set;for(const[u,h]of kV(s)){const m=u.toLowerCase();o.has(m)||(t.delete(u),o.add(m)),h===null?(t.delete(u),n.add(m)):(t.append(u,h),n.delete(m))}}return{[AR]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jm=i=>{var t,n,s,o,u,h;if(typeof globalThis.process<"u")return(s=(n=(t=iV)===null||t===void 0?void 0:t[i])===null||n===void 0?void 0:n.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(h=(u=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||u===void 0?void 0:u.call(o,i))===null||h===void 0?void 0:h.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var SR;class bf{constructor(t){var n,s,o,u,h,m,p,{baseURL:g=Jm("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(n=Jm("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:T="v1beta"}=t,S=Xh(t,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:v,apiVersion:T},S),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(s=b.timeout)!==null&&s!==void 0?s:bf.DEFAULT_TIMEOUT,this.logger=(o=b.logger)!==null&&o!==void 0?o:console;const x="warn";this.logLevel=x,this.logLevel=(h=(u=iA(b.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:iA(Jm("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&h!==void 0?h:x,this.fetchOptions=b.fetchOptions,this.maxRetries=(m=b.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(p=b.fetch)!==null&&p!==void 0?p:yV(),this.encoder=TV,this._options=b,this.apiKey=v,this.apiVersion=T,this.clientAdapter=b.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=zl([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return zl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return zl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new Xn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${co}`}defaultIdempotencyKey(){return`stainless-node-retry-${rV()}`}makeStatusError(t,n,s,o){return dn.generate(t,n,s,o)}buildURL(t,n,s){const o=!this.baseURLOverridden()&&s||this.baseURL,u=aV(t)?new URL(t):new URL(o+(o.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),h=this.defaultQuery();return uV(h)||(n=Object.assign(Object.assign({},h),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(u.search=this.stringifyQuery(n)),u.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:s}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,s){return this.request(Promise.resolve(s).then(o=>Object.assign({method:t,path:n},o)))}request(t,n=null){return new xg(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,s){var o,u,h;const m=await t,p=(o=m.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=p),await this.prepareOptions(m);const{req:g,url:v,timeout:T}=await this.buildRequest(m,{retryCount:p-n});await this.prepareRequest(g,{url:v,options:m});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=s===void 0?"":`, retryOf: ${s}`,x=Date.now();if(hn(this).debug(`[${S}] sending request`,ia({retryOfRequestLogID:s,method:m.method,url:v,options:m,headers:g.headers})),!((u=m.signal)===null||u===void 0)&&u.aborted)throw new Dp;const z=new AbortController,M=await this.fetchWithTimeout(v,g,T,z).catch(Np),tt=Date.now();if(M instanceof globalThis.Error){const W=`retrying, ${n} attempts remaining`;if(!((h=m.signal)===null||h===void 0)&&h.aborted)throw new Dp;const ht=Op(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(n)return hn(this).info(`[${S}] connection ${ht?"timed out":"failed"} - ${W}`),hn(this).debug(`[${S}] connection ${ht?"timed out":"failed"} (${W})`,ia({retryOfRequestLogID:s,url:v,durationMs:tt-x,message:M.message})),this.retryRequest(m,n,s??S);throw hn(this).info(`[${S}] connection ${ht?"timed out":"failed"} - error; no more retries left`),hn(this).debug(`[${S}] connection ${ht?"timed out":"failed"} (error; no more retries left)`,ia({retryOfRequestLogID:s,url:v,durationMs:tt-x,message:M.message})),ht?new sR:new If({cause:M})}const nt=`[${S}${b}] ${g.method} ${v} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${tt-x}ms`;if(!M.ok){const W=await this.shouldRetry(M);if(n&&W){const w=`retrying, ${n} attempts remaining`;return await vV(M.body),hn(this).info(`${nt} - ${w}`),hn(this).debug(`[${S}] response error (${w})`,ia({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,durationMs:tt-x})),this.retryRequest(m,n,s??S,M.headers)}const ht=W?"error; no more retries left":"error; not retryable";hn(this).info(`${nt} - ${ht}`);const Tt=await M.text().catch(w=>Np(w).message),_t=fV(Tt),D=_t?void 0:Tt;throw hn(this).debug(`[${S}] response error (${ht})`,ia({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,message:D,durationMs:Date.now()-x})),this.makeStatusError(M.status,_t,D,M.headers)}return hn(this).info(nt),hn(this).debug(`[${S}] response start`,ia({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,durationMs:tt-x})),{response:M,options:m,controller:z,requestLogID:S,retryOfRequestLogID:s,startTime:x}}async fetchWithTimeout(t,n,s,o){const u=n||{},{signal:h,method:m}=u,p=Xh(u,["signal","method"]);h&&h.addEventListener("abort",()=>o.abort());const g=setTimeout(()=>o.abort(),s),v=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,T=Object.assign(Object.assign(Object.assign({signal:o.signal},v?{duplex:"half"}:{}),{method:"GET"}),p);m&&(T.method=m.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(g)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,s,o){var u;let h;const m=o==null?void 0:o.get("retry-after-ms");if(m){const g=parseFloat(m);Number.isNaN(g)||(h=g)}const p=o==null?void 0:o.get("retry-after");if(p&&!h){const g=parseFloat(p);Number.isNaN(g)?h=Date.parse(p)-Date.now():h=g*1e3}if(!(h&&0<=h&&h<60*1e3)){const g=(u=t.maxRetries)!==null&&u!==void 0?u:this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(n,g)}return await dV(h),this.makeRequest(t,n-1,s)}calculateDefaultRetryTimeoutMillis(t,n){const u=n-t,h=Math.min(.5*Math.pow(2,u),8),m=1-Math.random()*.25;return h*m*1e3}async buildRequest(t,{retryCount:n=0}={}){var s,o,u;const h=Object.assign({},t),{method:m,path:p,query:g,defaultBaseURL:v}=h,T=this.buildURL(p,g,v);"timeout"in h&&hV("timeout",h.timeout),h.timeout=(s=h.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:S,body:b}=this.buildBody({options:h}),x=await this.buildHeaders({options:t,method:m,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:x},h.signal&&{signal:h.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(u=h.fetchOptions)!==null&&u!==void 0?u:{}),url:T,timeout:h.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:s,retryCount:o}){let u={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=t.idempotencyKey);const h=await this.authHeaders(t);let m=zl([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),_V()),this._options.defaultHeaders,s,t.headers,h]);return this.validateHeaders(m),m.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=zl([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:EV(t)}:this.encoder({body:t,headers:s})}}bf.DEFAULT_TIMEOUT=6e4;class Xe extends bf{constructor(){super(...arguments),this.interactions=new TR(this)}}SR=Xe;Xe.GeminiNextGenAPIClient=SR;Xe.GeminiNextGenAPIClientError=Xn;Xe.APIError=dn;Xe.APIConnectionError=If;Xe.APIConnectionTimeoutError=sR;Xe.APIUserAbortError=Dp;Xe.NotFoundError=uR;Xe.ConflictError=cR;Xe.RateLimitError=fR;Xe.BadRequestError=aR;Xe.AuthenticationError=oR;Xe.InternalServerError=dR;Xe.PermissionDeniedError=lR;Xe.UnprocessableEntityError=hR;Xe.toFile=bV;Xe.Interactions=TR;var BV="firebase",zV="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(BV,zV,"app");const HV={apiKey:"AIzaSyCEUaqAGQBy_-tQEjnkNGYMXRk7YRaCAjI",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.firebasestorage.app",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},IR=BA(HV),oa=xD(IR),Wm=new er,ns=LL(IR);function jV(i,t){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(i)}&token=${encodeURIComponent(t)}`}async function FV(i){try{return await navigator.clipboard.writeText(i),!0}catch{return window.prompt("  :",i),!1}}async function Rh(){try{await qN(oa,Wm)}catch(i){const t=i==null?void 0:i.code;if(t==="auth/popup-blocked"||t==="auth/cancelled-popup-request"||t==="auth/popup-closed-by-user"){await kv(oa,Wm);return}await kv(oa,Wm)}}const GV=()=>{const[i]=P1(),t=xp(),n=i.get("listId"),s=i.get("token"),[o,u]=G.useState(oa.currentUser),[h,m]=G.useState(!0),[p,g]=G.useState(!1),[v,T]=G.useState(null);G.useEffect(()=>uS(oa,x=>{u(x),m(!1)}),[]);const S=async()=>{T(null);try{await Rh()}catch(x){T((x==null?void 0:x.message)||" ")}},b=async()=>{if(!n||!s){T("    (listId  token)");return}if(!o){await S();return}g(!0),T(null);try{await tV(ns,async x=>{var W;const z=uo(ns,"lists",n),M=await x.get(z);if(!M.exists())throw new Error("  ");const nt=(W=M.data().pendingInvites)==null?void 0:W[s];if(!nt)throw new Error("  ");if(nt.expiresAt<Date.now())throw new Error("  ");x.update(z,{sharedWith:nV(o.uid),[`pendingInvites.${s}`]:eV()})}),localStorage.setItem("activeListId",n),t("/")}catch(x){T((x==null?void 0:x.message)||"  ")}finally{g(!1)}};return h?at.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:at.jsx(wh,{className:"animate-spin text-indigo-600"})}):at.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center dir-rtl",dir:"rtl",children:at.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[at.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:at.jsx(CA,{className:"w-10 h-10"})}),at.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?at.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,v?at.jsx("p",{className:"text-rose-500 font-bold break-words",children:v}):null,o?at.jsx("button",{onClick:b,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?at.jsx(wh,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):at.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[at.jsx(wA,{className:"w-5 h-5"}),"   "]})]})})},qV=()=>{const[i,t]=G.useState(null),[n,s]=G.useState(null),[o,u]=G.useState([]),[h,m]=G.useState([]),[p,g]=G.useState("list"),[v,T]=G.useState(""),[S,b]=G.useState(!1),[x,z]=G.useState(!1),[M,tt]=G.useState(!1),[nt,W]=G.useState(!0),[ht,Tt]=G.useState(!1);G.useEffect(()=>uS(oa,async O=>{if(t(O),W(!1),!O){s(null),u([]),m([]);return}Tt(!0);const V=FL(oh(ns,"lists"),GL("sharedWith","array-contains",O.uid)),P=await KL(V);if(P.empty){const C=uo(oh(ns,"lists")),$t={id:C.id,title:" ",ownerUid:O.uid,sharedWith:[O.uid],createdAt:Date.now(),updatedAt:Date.now()};await KT(C,$t),s($t),localStorage.setItem("activeListId",C.id)}else{const C=localStorage.getItem("activeListId"),$t=C?P.docs.find(K=>K.id===C)??P.docs[0]:P.docs[0],pe=$t.data();s({...pe,id:$t.id}),localStorage.setItem("activeListId",$t.id)}Tt(!1)}),[]),G.useEffect(()=>{if(!(n!=null&&n.id))return;const O=uo(ns,"lists",n.id),V=oh(O,"items"),P=oh(O,"favorites"),C=$m(O,K=>{K.exists()&&s({...K.data(),id:K.id})}),$t=$m(V,K=>{const rt=K.docs.map(ft=>ft.data());u(rt)}),pe=$m(P,K=>{const rt=K.docs.map(ft=>{const bt=ft.data();return{id:ft.id,name:String((bt==null?void 0:bt.name)||""),createdAt:Number((bt==null?void 0:bt.createdAt)||0)}});rt.sort((ft,bt)=>bt.createdAt-ft.createdAt),m(rt)});return()=>{C(),$t(),pe()}},[n==null?void 0:n.id]),G.useMemo(()=>{const O=new Set;for(const V of h)O.add(V.id);return O},[h]),G.useMemo(()=>o.filter(O=>!O.isPurchased).sort((O,V)=>V.createdAt-O.createdAt),[o]),G.useMemo(()=>o.filter(O=>O.isPurchased).sort((O,V)=>(V.purchasedAt||0)-(O.purchasedAt||0)),[o]);const _t=async O=>{if(O&&O.preventDefault(),!i){await Rh();return}if(!v.trim()||!(n!=null&&n.id))return;const V=crypto.randomUUID(),P={id:V,name:v.trim(),quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await KT(uo(ns,"lists",n.id,"items",V),P),T("")},D=async()=>{if(!(n!=null&&n.id))return;const O=o.map(V=>$L(uo(ns,"lists",n.id,"items",V.id)));await Promise.all(O),z(!1)},R=async()=>{},w=async()=>{if(!i){await Rh();return}if(!(n!=null&&n.id))return;const O=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),V=Date.now()+2880*60*1e3;await QL(uo(ns,"lists",n.id),{[`pendingInvites.${O}`]:{createdAt:Date.now(),expiresAt:V}});const P=jV(n.id,O);await FV(P),b(!0),setTimeout(()=>b(!1),2e3)};return nt?at.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:at.jsx(wh,{className:"animate-spin text-indigo-600"})}):i?ht||!(n!=null&&n.id)?at.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:at.jsx(wh,{className:"animate-spin text-indigo-600"})}):at.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-40 shadow-2xl overflow-hidden dir-rtl",dir:"rtl",children:[at.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-6 py-4 flex items-center justify-between border-b border-slate-100",children:[at.jsxs("div",{className:"flex items-center gap-2",children:[at.jsx("button",{onClick:R,className:`p-2 rounded-full ${M?"bg-indigo-100 animate-pulse":"bg-slate-100 hover:bg-indigo-50 text-indigo-600"}`,title:" AI",children:at.jsx(Z1,{className:"w-5 h-5"})}),at.jsx("button",{onClick:()=>z(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ",children:at.jsx(eC,{className:"w-5 h-5"})}),at.jsx("button",{onClick:w,className:"p-2 text-slate-400 hover:text-indigo-600",title:" ",children:S?at.jsx(Y1,{className:"w-5 h-5 text-emerald-500"}):at.jsx(CA,{className:"w-5 h-5"})})]}),at.jsx("h1",{className:"text-xl font-extrabold text-indigo-600",children:(n==null?void 0:n.title)||" "}),at.jsx("button",{onClick:()=>RN(oa),className:"p-2 rounded-full shadow-lg active:scale-90 transition-transform bg-slate-100 text-slate-600",title:"",children:at.jsx($1,{className:"w-5 h-5"})})]}),at.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:p==="list"?at.jsxs("div",{className:"space-y-6",children:[at.jsxs("form",{onSubmit:_t,className:"relative",children:[at.jsx("input",{value:v,onChange:O=>T(O.target.value),placeholder:"  ?",className:"w-full p-4 pr-4 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),at.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:at.jsx(J1,{className:"w-6 h-6"})})]}),o.length===0?at.jsxs("div",{className:"text-center py-20 opacity-20",children:[at.jsx(W1,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),at.jsx("p",{className:"text-lg font-bold",children:" "})]}):at.jsx("div",{className:"space-y-4",children:at.jsx("div",{className:"space-y-3"})})]}):at.jsx("div",{className:"space-y-6"})}),at.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:at.jsxs("div",{className:"max-w-md mx-auto px-4 pb-3",children:[at.jsx("div",{className:"flex justify-start mb-2",children:at.jsxs("button",{onClick:w,className:"flex items-center justify-center gap-2 bg-emerald-500 text-white py-3 px-6 rounded-full font-black shadow-lg shadow-emerald-200",title:" ",children:[at.jsx(X1,{className:"w-5 h-5"})," "]})}),at.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",children:at.jsxs("div",{className:"flex items-center justify-between px-10 py-3",children:[at.jsxs("button",{onClick:()=>g("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[at.jsx(tC,{className:`w-7 h-7 ${p==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),""]}),at.jsxs("button",{onClick:()=>g("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[at.jsx(Q1,{className:"w-7 h-7"}),""]})]})})]})}),x?at.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:at.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[at.jsxs("div",{className:"flex items-center gap-3",children:[at.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:at.jsx(K1,{className:"w-5 h-5"})}),at.jsxs("div",{className:"text-right",children:[at.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),at.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),at.jsxs("div",{className:"flex gap-3",children:[at.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),at.jsx("button",{onClick:D,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null]}):at.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:at.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[at.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),at.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),at.jsxs("button",{onClick:async()=>{await Rh()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[at.jsx(wA,{className:"w-5 h-5"}),"  "]})]})})},YV=()=>at.jsx(M1,{children:at.jsxs(o1,{children:[at.jsx(tp,{path:"/",element:at.jsx(qV,{})}),at.jsx(tp,{path:"/invite",element:at.jsx(GV,{})})]})}),RR=document.getElementById("root");if(!RR)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",i=>{const t=(i==null?void 0:i.message)||"unknown",n=i==null?void 0:i.error;console.error("WINDOW_ERROR:",t,n),alert("WINDOW_ERROR: "+t)});window.addEventListener("unhandledrejection",i=>{const t=i==null?void 0:i.reason;console.error("UNHANDLED_REJECTION:",t);let n="";try{typeof t=="string"?n=t:t!=null&&t.message?n=t.message:n=JSON.stringify(t)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());cw.createRoot(RR).render(at.jsx(iw.StrictMode,{children:at.jsx(YV,{})}));
