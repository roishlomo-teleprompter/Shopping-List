(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function _A(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gm={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function vA(){if(Gv)return ql;Gv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return ql.Fragment=t,ql.jsx=n,ql.jsxs=n,ql}var Qv;function EA(){return Qv||(Qv=1,gm.exports=vA()),gm.exports}var Q=EA(),ym={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function TA(){if(Yv)return Mt;Yv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function V(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,q={};function at(N,Z,ot){this.props=N,this.context=Z,this.refs=q,this.updater=ot||B}at.prototype.isReactComponent={},at.prototype.setState=function(N,Z){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Z,"setState")},at.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ut(){}ut.prototype=at.prototype;function it(N,Z,ot){this.props=N,this.context=Z,this.refs=q,this.updater=ot||B}var Tt=it.prototype=new ut;Tt.constructor=it,X(Tt,at.prototype),Tt.isPureReactComponent=!0;var Vt=Array.isArray;function wt(){}var x={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(N,Z,ot){var ft=ot.ref;return{$$typeof:r,type:N,key:Z,ref:ft!==void 0?ft:null,props:ot}}function M(N,Z){return R(N.type,Z,N.props)}function k(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function U(N){var Z={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ot){return Z[ot]})}var D=/\/+/g;function we(N,Z){return typeof N=="object"&&N!==null&&N.key!=null?U(""+N.key):Z.toString(36)}function ke(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(wt,wt):(N.status="pending",N.then(function(Z){N.status==="pending"&&(N.status="fulfilled",N.value=Z)},function(Z){N.status==="pending"&&(N.status="rejected",N.reason=Z)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function J(N,Z,ot,ft,vt){var Rt=typeof N;(Rt==="undefined"||Rt==="boolean")&&(N=null);var Ct=!1;if(N===null)Ct=!0;else switch(Rt){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(N.$$typeof){case r:case t:Ct=!0;break;case E:return Ct=N._init,J(Ct(N._payload),Z,ot,ft,vt)}}if(Ct)return vt=vt(N),Ct=ft===""?"."+we(N,0):ft,Vt(vt)?(ot="",Ct!=null&&(ot=Ct.replace(D,"$&/")+"/"),J(vt,Z,ot,"",function(mn){return mn})):vt!=null&&(k(vt)&&(vt=M(vt,ot+(vt.key==null||N&&N.key===vt.key?"":(""+vt.key).replace(D,"$&/")+"/")+Ct)),Z.push(vt)),1;Ct=0;var le=ft===""?".":ft+":";if(Vt(N))for(var me=0;me<N.length;me++)ft=N[me],Rt=le+we(ft,me),Ct+=J(ft,Z,ot,Rt,vt);else if(me=V(N),typeof me=="function")for(N=me.call(N),me=0;!(ft=N.next()).done;)ft=ft.value,Rt=le+we(ft,me++),Ct+=J(ft,Z,ot,Rt,vt);else if(Rt==="object"){if(typeof N.then=="function")return J(ke(N),Z,ot,ft,vt);throw Z=String(N),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function st(N,Z,ot){if(N==null)return N;var ft=[],vt=0;return J(N,ft,"","",function(Rt){return Z.call(ot,Rt,vt++)}),ft}function gt(N){if(N._status===-1){var Z=N._result;Z=Z(),Z.then(function(ot){(N._status===0||N._status===-1)&&(N._status=1,N._result=ot)},function(ot){(N._status===0||N._status===-1)&&(N._status=2,N._result=ot)}),N._status===-1&&(N._status=0,N._result=Z)}if(N._status===1)return N._result.default;throw N._result}var Nt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Bt={map:st,forEach:function(N,Z,ot){st(N,function(){Z.apply(this,arguments)},ot)},count:function(N){var Z=0;return st(N,function(){Z++}),Z},toArray:function(N){return st(N,function(Z){return Z})||[]},only:function(N){if(!k(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Mt.Activity=T,Mt.Children=Bt,Mt.Component=at,Mt.Fragment=n,Mt.Profiler=o,Mt.PureComponent=it,Mt.StrictMode=s,Mt.Suspense=p,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return x.H.useMemoCache(N)}},Mt.cache=function(N){return function(){return N.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(N,Z,ot){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ft=X({},N.props),vt=N.key;if(Z!=null)for(Rt in Z.key!==void 0&&(vt=""+Z.key),Z)!b.call(Z,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&Z.ref===void 0||(ft[Rt]=Z[Rt]);var Rt=arguments.length-2;if(Rt===1)ft.children=ot;else if(1<Rt){for(var Ct=Array(Rt),le=0;le<Rt;le++)Ct[le]=arguments[le+2];ft.children=Ct}return R(N.type,vt,ft)},Mt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Mt.createElement=function(N,Z,ot){var ft,vt={},Rt=null;if(Z!=null)for(ft in Z.key!==void 0&&(Rt=""+Z.key),Z)b.call(Z,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(vt[ft]=Z[ft]);var Ct=arguments.length-2;if(Ct===1)vt.children=ot;else if(1<Ct){for(var le=Array(Ct),me=0;me<Ct;me++)le[me]=arguments[me+2];vt.children=le}if(N&&N.defaultProps)for(ft in Ct=N.defaultProps,Ct)vt[ft]===void 0&&(vt[ft]=Ct[ft]);return R(N,Rt,vt)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(N){return{$$typeof:m,render:N}},Mt.isValidElement=k,Mt.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:gt}},Mt.memo=function(N,Z){return{$$typeof:g,type:N,compare:Z===void 0?null:Z}},Mt.startTransition=function(N){var Z=x.T,ot={};x.T=ot;try{var ft=N(),vt=x.S;vt!==null&&vt(ot,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(wt,Nt)}catch(Rt){Nt(Rt)}finally{Z!==null&&ot.types!==null&&(Z.types=ot.types),x.T=Z}},Mt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Mt.use=function(N){return x.H.use(N)},Mt.useActionState=function(N,Z,ot){return x.H.useActionState(N,Z,ot)},Mt.useCallback=function(N,Z){return x.H.useCallback(N,Z)},Mt.useContext=function(N){return x.H.useContext(N)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(N,Z){return x.H.useDeferredValue(N,Z)},Mt.useEffect=function(N,Z){return x.H.useEffect(N,Z)},Mt.useEffectEvent=function(N){return x.H.useEffectEvent(N)},Mt.useId=function(){return x.H.useId()},Mt.useImperativeHandle=function(N,Z,ot){return x.H.useImperativeHandle(N,Z,ot)},Mt.useInsertionEffect=function(N,Z){return x.H.useInsertionEffect(N,Z)},Mt.useLayoutEffect=function(N,Z){return x.H.useLayoutEffect(N,Z)},Mt.useMemo=function(N,Z){return x.H.useMemo(N,Z)},Mt.useOptimistic=function(N,Z){return x.H.useOptimistic(N,Z)},Mt.useReducer=function(N,Z,ot){return x.H.useReducer(N,Z,ot)},Mt.useRef=function(N){return x.H.useRef(N)},Mt.useState=function(N){return x.H.useState(N)},Mt.useSyncExternalStore=function(N,Z,ot){return x.H.useSyncExternalStore(N,Z,ot)},Mt.useTransition=function(){return x.H.useTransition()},Mt.version="19.2.3",Mt}var Kv;function vp(){return Kv||(Kv=1,ym.exports=TA()),ym.exports}var L=vp();const SA=_A(L);var _m={exports:{}},Hl={},vm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function wA(){return Xv||(Xv=1,(function(r){function t(J,st){var gt=J.length;J.push(st);t:for(;0<gt;){var Nt=gt-1>>>1,Bt=J[Nt];if(0<o(Bt,st))J[Nt]=st,J[gt]=Bt,gt=Nt;else break t}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var st=J[0],gt=J.pop();if(gt!==st){J[0]=gt;t:for(var Nt=0,Bt=J.length,N=Bt>>>1;Nt<N;){var Z=2*(Nt+1)-1,ot=J[Z],ft=Z+1,vt=J[ft];if(0>o(ot,gt))ft<Bt&&0>o(vt,ot)?(J[Nt]=vt,J[ft]=gt,Nt=ft):(J[Nt]=ot,J[Z]=gt,Nt=Z);else if(ft<Bt&&0>o(vt,gt))J[Nt]=vt,J[ft]=gt,Nt=ft;else break t}}return st}function o(J,st){var gt=J.sortIndex-st.sortIndex;return gt!==0?gt:J.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,A=3,V=!1,B=!1,X=!1,q=!1,at=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function Tt(J){for(var st=n(g);st!==null;){if(st.callback===null)s(g);else if(st.startTime<=J)s(g),st.sortIndex=st.expirationTime,t(p,st);else break;st=n(g)}}function Vt(J){if(X=!1,Tt(J),!B)if(n(p)!==null)B=!0,wt||(wt=!0,U());else{var st=n(g);st!==null&&ke(Vt,st.startTime-J)}}var wt=!1,x=-1,b=5,R=-1;function M(){return q?!0:!(r.unstable_now()-R<b)}function k(){if(q=!1,wt){var J=r.unstable_now();R=J;var st=!0;try{t:{B=!1,X&&(X=!1,ut(x),x=-1),V=!0;var gt=A;try{e:{for(Tt(J),T=n(p);T!==null&&!(T.expirationTime>J&&M());){var Nt=T.callback;if(typeof Nt=="function"){T.callback=null,A=T.priorityLevel;var Bt=Nt(T.expirationTime<=J);if(J=r.unstable_now(),typeof Bt=="function"){T.callback=Bt,Tt(J),st=!0;break e}T===n(p)&&s(p),Tt(J)}else s(p);T=n(p)}if(T!==null)st=!0;else{var N=n(g);N!==null&&ke(Vt,N.startTime-J),st=!1}}break t}finally{T=null,A=gt,V=!1}st=void 0}}finally{st?U():wt=!1}}}var U;if(typeof it=="function")U=function(){it(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,we=D.port2;D.port1.onmessage=k,U=function(){we.postMessage(null)}}else U=function(){at(k,0)};function ke(J,st){x=at(function(){J(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(J){switch(A){case 1:case 2:case 3:var st=3;break;default:st=A}var gt=A;A=st;try{return J()}finally{A=gt}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(J,st){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var gt=A;A=J;try{return st()}finally{A=gt}},r.unstable_scheduleCallback=function(J,st,gt){var Nt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Nt+gt:Nt):gt=Nt,J){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=gt+Bt,J={id:E++,callback:st,priorityLevel:J,startTime:gt,expirationTime:Bt,sortIndex:-1},gt>Nt?(J.sortIndex=gt,t(g,J),n(p)===null&&J===n(g)&&(X?(ut(x),x=-1):X=!0,ke(Vt,gt-Nt))):(J.sortIndex=Bt,t(p,J),B||V||(B=!0,wt||(wt=!0,U()))),J},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(J){var st=A;return function(){var gt=A;A=st;try{return J.apply(this,arguments)}finally{A=gt}}}})(Em)),Em}var $v;function AA(){return $v||($v=1,vm.exports=wA()),vm.exports}var Tm={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function bA(){if(Jv)return _n;Jv=1;var r=vp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,_n.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},_n.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},_n.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},_n.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},_n.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_n.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},_n.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_n.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},_n.requestFormReset=function(p){s.d.r(p)},_n.unstable_batchedUpdates=function(p,g){return p(g)},_n.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},_n.useFormStatus=function(){return f.H.useHostTransitionStatus()},_n.version="19.2.3",_n}var Zv;function RA(){if(Zv)return Tm.exports;Zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Tm.exports=bA(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function IA(){if(Wv)return Hl;Wv=1;var r=AA(),t=vp(),n=RA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),it=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),Vt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function we(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case at:return"Profiler";case q:return"StrictMode";case Vt:return"Suspense";case wt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case it:return e.displayName||"Context";case ut:return(e._context.displayName||"Context")+".Consumer";case Tt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return i=e.displayName||null,i!==null?i:we(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return we(e(i))}catch{}}return null}var ke=Array.isArray,J=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Nt=[],Bt=-1;function N(e){return{current:e}}function Z(e){0>Bt||(e.current=Nt[Bt],Nt[Bt]=null,Bt--)}function ot(e,i){Bt++,Nt[Bt]=e.current,e.current=i}var ft=N(null),vt=N(null),Rt=N(null),Ct=N(null);function le(e,i){switch(ot(Rt,i),ot(vt,e),ot(ft,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?mv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=mv(i),e=pv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(ft),ot(ft,e)}function me(){Z(ft),Z(vt),Z(Rt)}function mn(e){e.memoizedState!==null&&ot(Ct,e);var i=ft.current,a=pv(i,e.type);i!==a&&(ot(vt,e),ot(ft,a))}function Bn(e){vt.current===e&&(Z(ft),Z(vt)),Ct.current===e&&(Z(Ct),Ul._currentValue=gt)}var $i,Pr;function qn(e){if($i===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);$i=i&&i[1]||"",Pr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$i+e+Pr}var Ji=!1;function Lr(e,i){if(!e||Ji)return"";Ji=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Y){var F=Y}Reflect.construct(e,[],nt)}else{try{nt.call()}catch(Y){F=Y}e.call(nt.prototype)}}else{try{throw Error()}catch(Y){F=Y}(nt=e())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var C=_.split(`
`),H=S.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===H.length)for(l=C.length-1,h=H.length-1;1<=l&&0<=h&&C[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==H[h]){var W=`
`+C[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=h);break}}}finally{Ji=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?qn(a):""}function Qo(e,i){switch(e.tag){case 26:case 27:case 5:return qn(e.type);case 16:return qn("Lazy");case 13:return e.child!==i&&i!==null?qn("Suspense Fallback"):qn("Suspense");case 19:return qn("SuspenseList");case 0:case 15:return Lr(e.type,!1);case 11:return Lr(e.type.render,!1);case 1:return Lr(e.type,!0);case 31:return qn("Activity");default:return""}}function Na(e){try{var i="",a=null;do i+=Qo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ei=Object.prototype.hasOwnProperty,Ni=r.unstable_scheduleCallback,Ur=r.unstable_cancelCallback,Yo=r.unstable_shouldYield,Zi=r.unstable_requestPaint,Pe=r.unstable_now,ai=r.unstable_getCurrentPriorityLevel,ne=r.unstable_ImmediatePriority,Le=r.unstable_UserBlockingPriority,oi=r.unstable_NormalPriority,zr=r.unstable_LowPriority,Gs=r.unstable_IdlePriority,Ko=r.log,Ti=r.unstable_setDisableYieldValue,pn=null,xe=null;function wn(e){if(typeof Ko=="function"&&Ti(e),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(pn,e)}catch{}}var an=Math.clz32?Math.clz32:Ma,Oa=Math.log,Qs=Math.LN2;function Ma(e){return e>>>=0,e===0?32:31-(Oa(e)/Qs|0)|0}var Wi=256,gn=262144,xn=4194304;function Je(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ne(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=Je(l):(_&=S,_!==0?h=Je(_):a||(a=S&~e,a!==0&&(h=Je(a))))):(S=l&~d,S!==0?h=Je(S):_!==0?h=Je(_):a||(a=l&~e,a!==0&&(h=Je(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function jr(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(){var e=xn;return xn<<=1,(xn&62914560)===0&&(xn=4194304),e}function Si(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Oi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qe(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,C=e.expirationTimes,H=e.hiddenUpdates;for(a=_&~a;0<a;){var W=31-an(a),nt=1<<W;S[W]=0,C[W]=-1;var F=H[W];if(F!==null)for(H[W]=null,W=0;W<F.length;W++){var Y=F[W];Y!==null&&(Y.lane&=-536870913)}a&=~nt}l!==0&&Ys(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Ys(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-an(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Mi(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-an(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Fn(e,i){var a=i&-i;return a=(a&42)!==0?1:Ks(a),(a&(e.suspendedLanes|i))!==0?0:a}function Ks(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wi(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:Uv(e.type))}function Va(e,i){var a=st.p;try{return st.p=e,i()}finally{st.p=a}}var Nn=Math.random().toString(36).slice(2),ie="__reactFiber$"+Nn,I="__reactProps$"+Nn,G="__reactContainer$"+Nn,$="__reactEvents$"+Nn,lt="__reactListeners$"+Nn,pt="__reactHandles$"+Nn,Lt="__reactResources$"+Nn,bt="__reactMarker$"+Nn;function se(e){delete e[ie],delete e[I],delete e[$],delete e[lt],delete e[pt]}function Kt(e){var i=e[ie];if(i)return i;for(var a=e.parentNode;a;){if(i=a[G]||a[ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Sv(e);e!==null;){if(a=e[ie])return a;e=Sv(e)}return i}e=a,a=e.parentNode}return null}function kt(e){if(e=e[ie]||e[G]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Ot(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Ae(e){var i=e[Lt];return i||(i=e[Lt]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ve(e){e[bt]=!0}var Vi=new Set,Gn={};function Ye(e,i){An(e,i),An(e+"Capture",i)}function An(e,i){for(Gn[e]=i,e=0;e<i.length;e++)Vi.add(i[e])}var yf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},$o={};function ku(e){return Ei.call($o,e)?!0:Ei.call(Xo,e)?!1:yf.test(e)?$o[e]=!0:(Xo[e]=!0,!1)}function Br(e,i,a){if(ku(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function qr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function li(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pu(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _f(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ka(e){if(!e._valueTracker){var i=Pu(e)?"checked":"value";e._valueTracker=_f(e,i,""+e[i])}}function Jo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Pu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Pa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var er=/[\n"\\]/g;function be(e){return e.replace(er,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Hr(e,i,a,l,h,d,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+bn(i)):e.value!==""+bn(i)&&(e.value=""+bn(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?La(e,_,bn(i)):a!=null?La(e,_,bn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+bn(S):e.removeAttribute("name")}function $s(e,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){ka(e);return}a=a!=null?""+bn(a):"",i=i!=null?""+bn(i):a,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),ka(e)}function La(e,i,a){i==="number"&&Pa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Zt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+bn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Js(e,i,a){if(i!=null&&(i=""+bn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+bn(a):""}function Fr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ke(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=bn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),ka(e)}function ui(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var vf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||vf.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Lu(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Zo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Zo(e,d,i[d])}function Wo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ki(e){return Tf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ze(){}var Ua=null;function za(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nr=null,Qn=null;function Uu(e){var i=kt(e);if(i&&(e=i.stateNode)){var a=e[I]||null;t:switch(e=i.stateNode,i.type){case"input":if(Hr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+be(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[I]||null;if(!h)throw Error(s(90));Hr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Jo(l)}break t;case"textarea":Js(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Zt(e,!!a.multiple,i,!1)}}}var tl=!1;function zu(e,i,a){if(tl)return e(i,a);tl=!0;try{var l=e(i);return l}finally{if(tl=!1,(nr!==null||Qn!==null)&&(kc(),nr&&(i=nr,e=Qn,Qn=nr=null,Uu(i),e)))for(i=0;i<e.length;i++)Uu(e[i])}}function On(e,i){var a=e.stateNode;if(a===null)return null;var l=a[I]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),el=!1;if(Ai)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){el=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{el=!1}var Yn=null,ja=null,Li=null;function Gr(){if(Li)return Li;var e,i=ja,a=i.length,l,h="value"in Yn?Yn.value:Yn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Li=h.slice(e,1<l?1-l:void 0)}function Zs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Qr(){return!0}function pe(){return!1}function yn(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qr:pe,this.isPropagationStopped=pe,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),i}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=yn(ir),Yr=T({},ir,{view:0,detail:0}),ju=yn(Yr),Kr,Ba,Rn,ta=T({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rn&&(Rn&&e.type==="mousemove"?(Kr=e.screenX-Rn.screenX,Ba=e.screenY-Rn.screenY):Ba=Kr=0,Rn=e),Kr)},movementY:function(e){return"movementY"in e?e.movementY:Ba}}),Bu=yn(ta),ea=T({},ta,{dataTransfer:0}),qu=yn(ea),nl=T({},Yr,{relatedTarget:0}),Xr=yn(nl),Hu=T({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=yn(Hu),Sf=T({},ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fu=yn(Sf),na=T({},ir,{data:0}),il=yn(na),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=sl[e])?!!i[e]:!1}function $r(){return Qu}var Yu=T({},Yr,{key:function(e){if(e.key){var i=Gu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(e){return e.type==="keypress"?Zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ku=yn(Yu),rr=T({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=yn(rr),Xu=T({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),$u=yn(Xu),Ju=T({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ha=yn(Ju),In=T({},ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zu=yn(In),Wu=T({},ir,{newState:0,oldState:0}),Jr=yn(Wu),c=[9,13,27,32],y=Ai&&"CompositionEvent"in window,v=null;Ai&&"documentMode"in document&&(v=document.documentMode);var w=Ai&&"TextEvent"in window&&!v,z=Ai&&(!y||v&&8<v&&11>=v),K=" ",ct=!1;function re(e,i){switch(e){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ue(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zt=!1;function We(e,i){switch(e){case"compositionend":return Ue(i);case"keypress":return i.which!==32?null:(ct=!0,K);case"textInput":return e=i.data,e===K&&ct?null:e;default:return null}}function tn(e,i){if(zt)return e==="compositionend"||!y&&re(e,i)?(e=Gr(),Li=ja=Yn=null,zt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return z&&i.locale!=="ko"?null:i.data;default:return null}}var Zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Zr[e.type]:i==="textarea"}function ia(e,i,a,l){nr?Qn?Qn.push(l):Qn=[l]:nr=l,i=qc(i,"onChange"),0<i.length&&(a=new Ws("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var sr=null,ol=null;function GS(e){lv(e,0)}function tc(e){var i=Ot(e);if(Jo(i))return e}function Ig(e,i){if(e==="change")return i}var Cg=!1;if(Ai){var wf;if(Ai){var Af="oninput"in document;if(!Af){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),Af=typeof Dg.oninput=="function"}wf=Af}else wf=!1;Cg=wf&&(!document.documentMode||9<document.documentMode)}function xg(){sr&&(sr.detachEvent("onpropertychange",Ng),ol=sr=null)}function Ng(e){if(e.propertyName==="value"&&tc(ol)){var i=[];ia(i,ol,e,za(e)),zu(GS,i)}}function QS(e,i,a){e==="focusin"?(xg(),sr=i,ol=a,sr.attachEvent("onpropertychange",Ng)):e==="focusout"&&xg()}function YS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tc(ol)}function KS(e,i){if(e==="click")return tc(i)}function XS(e,i){if(e==="input"||e==="change")return tc(i)}function $S(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Kn=typeof Object.is=="function"?Object.is:$S;function ll(e,i){if(Kn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ei.call(i,h)||!Kn(e[h],i[h]))return!1}return!0}function Og(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mg(e,i){var a=Og(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Og(a)}}function Vg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Vg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function kg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Pa(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Pa(e.document)}return i}function bf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var JS=Ai&&"documentMode"in document&&11>=document.documentMode,Fa=null,Rf=null,ul=null,If=!1;function Pg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||Fa==null||Fa!==Pa(l)||(l=Fa,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=qc(Rf,"onSelect"),0<l.length&&(i=new Ws("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Fa)))}function ra(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ga={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},Cf={},Lg={};Ai&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function sa(e){if(Cf[e])return Cf[e];if(!Ga[e])return e;var i=Ga[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Lg)return Cf[e]=i[a];return e}var Ug=sa("animationend"),zg=sa("animationiteration"),jg=sa("animationstart"),ZS=sa("transitionrun"),WS=sa("transitionstart"),tw=sa("transitioncancel"),Bg=sa("transitionend"),qg=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function bi(e,i){qg.set(e,i),Ye(i,[e])}var ec=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ci=[],Qa=0,xf=0;function nc(){for(var e=Qa,i=xf=Qa=0;i<e;){var a=ci[i];ci[i++]=null;var l=ci[i];ci[i++]=null;var h=ci[i];ci[i++]=null;var d=ci[i];if(ci[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Hg(a,h,d)}}function ic(e,i,a,l){ci[Qa++]=e,ci[Qa++]=i,ci[Qa++]=a,ci[Qa++]=l,xf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Nf(e,i,a,l){return ic(e,i,a,l),rc(e)}function aa(e,i){return ic(e,null,null,i),rc(e)}function Hg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-an(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function rc(e){if(50<Nl)throw Nl=0,jd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ya={};function ew(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(e,i,a,l){return new ew(e,i,a,l)}function Of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ar(e,i){var a=e.alternate;return a===null?(a=Xn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Fg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function sc(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")Of(e)&&(_=1);else if(typeof e=="string")_=aA(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Xn(31,a,i,h),e.elementType=R,e.lanes=d,e;case X:return oa(a.children,h,d,i);case q:_=8,h|=24;break;case at:return e=Xn(12,a,i,h|2),e.elementType=at,e.lanes=d,e;case Vt:return e=Xn(13,a,i,h),e.elementType=Vt,e.lanes=d,e;case wt:return e=Xn(19,a,i,h),e.elementType=wt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:_=10;break t;case ut:_=9;break t;case Tt:_=11;break t;case x:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Xn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function oa(e,i,a,l){return e=Xn(7,e,l,i),e.lanes=a,e}function Mf(e,i,a){return e=Xn(6,e,null,i),e.lanes=a,e}function Gg(e){var i=Xn(18,null,null,0);return i.stateNode=e,i}function Vf(e,i,a){return i=Xn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Qg=new WeakMap;function hi(e,i){if(typeof e=="object"&&e!==null){var a=Qg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Na(i)},Qg.set(e,i),i)}return{value:e,source:i,stack:Na(i)}}var Ka=[],Xa=0,ac=null,cl=0,fi=[],di=0,Wr=null,Ui=1,zi="";function or(e,i){Ka[Xa++]=cl,Ka[Xa++]=ac,ac=e,cl=i}function Yg(e,i,a){fi[di++]=Ui,fi[di++]=zi,fi[di++]=Wr,Wr=e;var l=Ui;e=zi;var h=32-an(l)-1;l&=~(1<<h),a+=1;var d=32-an(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ui=1<<32-an(i)+h|a<<h|l,zi=d+e}else Ui=1<<d|a<<h|l,zi=e}function kf(e){e.return!==null&&(or(e,1),Yg(e,1,0))}function Pf(e){for(;e===ac;)ac=Ka[--Xa],Ka[Xa]=null,cl=Ka[--Xa],Ka[Xa]=null;for(;e===Wr;)Wr=fi[--di],fi[di]=null,zi=fi[--di],fi[di]=null,Ui=fi[--di],fi[di]=null}function Kg(e,i){fi[di++]=Ui,fi[di++]=zi,fi[di++]=Wr,Ui=i.id,zi=i.overflow,Wr=e}var on=null,ge=null,Xt=!1,ts=null,mi=!1,Lf=Error(s(519));function es(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(hi(i,e)),Lf}function Xg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[ie]=e,i[I]=l,a){case"dialog":Ht("cancel",i),Ht("close",i);break;case"iframe":case"object":case"embed":Ht("load",i);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Ht(Ml[a],i);break;case"source":Ht("error",i);break;case"img":case"image":case"link":Ht("error",i),Ht("load",i);break;case"details":Ht("toggle",i);break;case"input":Ht("invalid",i),$s(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ht("invalid",i);break;case"textarea":Ht("invalid",i),Fr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||fv(i.textContent,a)?(l.popover!=null&&(Ht("beforetoggle",i),Ht("toggle",i)),l.onScroll!=null&&Ht("scroll",i),l.onScrollEnd!=null&&Ht("scrollend",i),l.onClick!=null&&(i.onclick=Ze),i=!0):i=!1,i||es(e,!0)}function $g(e){for(on=e.return;on;)switch(on.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:on=on.return}}function $a(e){if(e!==on)return!1;if(!Xt)return $g(e),Xt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||em(e.type,e.memoizedProps)),a=!a),a&&ge&&es(e),$g(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ge=Tv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ge=Tv(e)}else i===27?(i=ge,ps(e.type)?(e=am,am=null,ge=e):ge=i):ge=on?gi(e.stateNode.nextSibling):null;return!0}function la(){ge=on=null,Xt=!1}function Uf(){var e=ts;return e!==null&&(Ln===null?Ln=e:Ln.push.apply(Ln,e),ts=null),e}function hl(e){ts===null?ts=[e]:ts.push(e)}var zf=N(null),ua=null,lr=null;function ns(e,i,a){ot(zf,i._currentValue),i._currentValue=a}function ur(e){e._currentValue=zf.current,Z(zf)}function jf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Bf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var C=0;C<i.length;C++)if(S.context===i[C]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),jf(d.return,a,e),l||(_=null);break t}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),jf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ja(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;Kn(h.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(h===Ct.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ul):e=[Ul])}h=h.return}e!==null&&Bf(i,e,a,l),i.flags|=262144}function oc(e){for(e=e.firstContext;e!==null;){if(!Kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ca(e){ua=e,lr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ln(e){return Jg(ua,e)}function lc(e,i){return ua===null&&ca(e),Jg(e,i)}function Jg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},lr===null){if(e===null)throw Error(s(308));lr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else lr=lr.next=i;return a}var nw=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},iw=r.unstable_scheduleCallback,rw=r.unstable_NormalPriority,ze={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new nw,data:new Map,refCount:0}}function fl(e){e.refCount--,e.refCount===0&&iw(rw,function(){e.controller.abort()})}var dl=null,Hf=0,Za=0,Wa=null;function sw(e,i){if(dl===null){var a=dl=[];Hf=0,Za=Qd(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,i.then(Zg,Zg),i}function Zg(){if(--Hf===0&&dl!==null){Wa!==null&&(Wa.status="fulfilled");var e=dl;dl=null,Za=0,Wa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function aw(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Wg=J.S;J.S=function(e,i){P_=Pe(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&sw(e,i),Wg!==null&&Wg(e,i)};var ha=N(null);function Ff(){var e=ha.current;return e!==null?e:de.pooledCache}function uc(e,i){i===null?ot(ha,ha.current):ot(ha,i.pool)}function ty(){var e=Ff();return e===null?null:{parent:ze._currentValue,pool:e}}var to=Error(s(460)),Gf=Error(s(474)),cc=Error(s(542)),hc={then:function(){}};function ey(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ny(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Ze,Ze),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ry(e),e;default:if(typeof i.status=="string")i.then(Ze,Ze);else{if(e=de,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ry(e),e}throw da=i,to}}function fa(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(da=a,to):a}}var da=null;function iy(){if(da===null)throw Error(s(459));var e=da;return da=null,e}function ry(e){if(e===to||e===cc)throw Error(s(483))}var eo=null,ml=0;function fc(e){var i=ml;return ml+=1,eo===null&&(eo=[]),ny(eo,e,i)}function pl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function dc(e,i){throw i.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function sy(e){function i(P,O){if(e){var j=P.deletions;j===null?(P.deletions=[O],P.flags|=16):j.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=ar(P,O),P.index=0,P.sibling=null,P}function d(P,O,j){return P.index=j,e?(j=P.alternate,j!==null?(j=j.index,j<O?(P.flags|=67108866,O):j):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function _(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function S(P,O,j,tt){return O===null||O.tag!==6?(O=Mf(j,P.mode,tt),O.return=P,O):(O=h(O,j),O.return=P,O)}function C(P,O,j,tt){var Et=j.type;return Et===X?W(P,O,j.props.children,tt,j.key):O!==null&&(O.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===b&&fa(Et)===O.type)?(O=h(O,j.props),pl(O,j),O.return=P,O):(O=sc(j.type,j.key,j.props,null,P.mode,tt),pl(O,j),O.return=P,O)}function H(P,O,j,tt){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Vf(j,P.mode,tt),O.return=P,O):(O=h(O,j.children||[]),O.return=P,O)}function W(P,O,j,tt,Et){return O===null||O.tag!==7?(O=oa(j,P.mode,tt,Et),O.return=P,O):(O=h(O,j),O.return=P,O)}function nt(P,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Mf(""+O,P.mode,j),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return j=sc(O.type,O.key,O.props,null,P.mode,j),pl(j,O),j.return=P,j;case B:return O=Vf(O,P.mode,j),O.return=P,O;case b:return O=fa(O),nt(P,O,j)}if(ke(O)||U(O))return O=oa(O,P.mode,j,null),O.return=P,O;if(typeof O.then=="function")return nt(P,fc(O),j);if(O.$$typeof===it)return nt(P,lc(P,O),j);dc(P,O)}return null}function F(P,O,j,tt){var Et=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return Et!==null?null:S(P,O,""+j,tt);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case V:return j.key===Et?C(P,O,j,tt):null;case B:return j.key===Et?H(P,O,j,tt):null;case b:return j=fa(j),F(P,O,j,tt)}if(ke(j)||U(j))return Et!==null?null:W(P,O,j,tt,null);if(typeof j.then=="function")return F(P,O,fc(j),tt);if(j.$$typeof===it)return F(P,O,lc(P,j),tt);dc(P,j)}return null}function Y(P,O,j,tt,Et){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return P=P.get(j)||null,S(O,P,""+tt,Et);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case V:return P=P.get(tt.key===null?j:tt.key)||null,C(O,P,tt,Et);case B:return P=P.get(tt.key===null?j:tt.key)||null,H(O,P,tt,Et);case b:return tt=fa(tt),Y(P,O,j,tt,Et)}if(ke(tt)||U(tt))return P=P.get(j)||null,W(O,P,tt,Et,null);if(typeof tt.then=="function")return Y(P,O,j,fc(tt),Et);if(tt.$$typeof===it)return Y(P,O,j,lc(O,tt),Et);dc(O,tt)}return null}function mt(P,O,j,tt){for(var Et=null,Wt=null,yt=O,Ut=O=0,Gt=null;yt!==null&&Ut<j.length;Ut++){yt.index>Ut?(Gt=yt,yt=null):Gt=yt.sibling;var te=F(P,yt,j[Ut],tt);if(te===null){yt===null&&(yt=Gt);break}e&&yt&&te.alternate===null&&i(P,yt),O=d(te,O,Ut),Wt===null?Et=te:Wt.sibling=te,Wt=te,yt=Gt}if(Ut===j.length)return a(P,yt),Xt&&or(P,Ut),Et;if(yt===null){for(;Ut<j.length;Ut++)yt=nt(P,j[Ut],tt),yt!==null&&(O=d(yt,O,Ut),Wt===null?Et=yt:Wt.sibling=yt,Wt=yt);return Xt&&or(P,Ut),Et}for(yt=l(yt);Ut<j.length;Ut++)Gt=Y(yt,P,Ut,j[Ut],tt),Gt!==null&&(e&&Gt.alternate!==null&&yt.delete(Gt.key===null?Ut:Gt.key),O=d(Gt,O,Ut),Wt===null?Et=Gt:Wt.sibling=Gt,Wt=Gt);return e&&yt.forEach(function(Es){return i(P,Es)}),Xt&&or(P,Ut),Et}function At(P,O,j,tt){if(j==null)throw Error(s(151));for(var Et=null,Wt=null,yt=O,Ut=O=0,Gt=null,te=j.next();yt!==null&&!te.done;Ut++,te=j.next()){yt.index>Ut?(Gt=yt,yt=null):Gt=yt.sibling;var Es=F(P,yt,te.value,tt);if(Es===null){yt===null&&(yt=Gt);break}e&&yt&&Es.alternate===null&&i(P,yt),O=d(Es,O,Ut),Wt===null?Et=Es:Wt.sibling=Es,Wt=Es,yt=Gt}if(te.done)return a(P,yt),Xt&&or(P,Ut),Et;if(yt===null){for(;!te.done;Ut++,te=j.next())te=nt(P,te.value,tt),te!==null&&(O=d(te,O,Ut),Wt===null?Et=te:Wt.sibling=te,Wt=te);return Xt&&or(P,Ut),Et}for(yt=l(yt);!te.done;Ut++,te=j.next())te=Y(yt,P,Ut,te.value,tt),te!==null&&(e&&te.alternate!==null&&yt.delete(te.key===null?Ut:te.key),O=d(te,O,Ut),Wt===null?Et=te:Wt.sibling=te,Wt=te);return e&&yt.forEach(function(yA){return i(P,yA)}),Xt&&or(P,Ut),Et}function he(P,O,j,tt){if(typeof j=="object"&&j!==null&&j.type===X&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case V:t:{for(var Et=j.key;O!==null;){if(O.key===Et){if(Et=j.type,Et===X){if(O.tag===7){a(P,O.sibling),tt=h(O,j.props.children),tt.return=P,P=tt;break t}}else if(O.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===b&&fa(Et)===O.type){a(P,O.sibling),tt=h(O,j.props),pl(tt,j),tt.return=P,P=tt;break t}a(P,O);break}else i(P,O);O=O.sibling}j.type===X?(tt=oa(j.props.children,P.mode,tt,j.key),tt.return=P,P=tt):(tt=sc(j.type,j.key,j.props,null,P.mode,tt),pl(tt,j),tt.return=P,P=tt)}return _(P);case B:t:{for(Et=j.key;O!==null;){if(O.key===Et)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(P,O.sibling),tt=h(O,j.children||[]),tt.return=P,P=tt;break t}else{a(P,O);break}else i(P,O);O=O.sibling}tt=Vf(j,P.mode,tt),tt.return=P,P=tt}return _(P);case b:return j=fa(j),he(P,O,j,tt)}if(ke(j))return mt(P,O,j,tt);if(U(j)){if(Et=U(j),typeof Et!="function")throw Error(s(150));return j=Et.call(j),At(P,O,j,tt)}if(typeof j.then=="function")return he(P,O,fc(j),tt);if(j.$$typeof===it)return he(P,O,lc(P,j),tt);dc(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(P,O.sibling),tt=h(O,j),tt.return=P,P=tt):(a(P,O),tt=Mf(j,P.mode,tt),tt.return=P,P=tt),_(P)):a(P,O)}return function(P,O,j,tt){try{ml=0;var Et=he(P,O,j,tt);return eo=null,Et}catch(yt){if(yt===to||yt===cc)throw yt;var Wt=Xn(29,yt,null,P.mode);return Wt.lanes=tt,Wt.return=P,Wt}finally{}}}var ma=sy(!0),ay=sy(!1),is=!1;function Qf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ee&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=rc(e),Hg(e,null,a),i}return ic(e,l,i,a),rc(e)}function gl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Mi(e,a)}}function Kf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Xf=!1;function yl(){if(Xf){var e=Wa;if(e!==null)throw e}}function _l(e,i,a,l){Xf=!1;var h=e.updateQueue;is=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var C=S,H=C.next;C.next=null,_===null?d=H:_.next=H,_=C;var W=e.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==_&&(S===null?W.firstBaseUpdate=H:S.next=H,W.lastBaseUpdate=C))}if(d!==null){var nt=h.baseState;_=0,W=H=C=null,S=d;do{var F=S.lane&-536870913,Y=F!==S.lane;if(Y?(Ft&F)===F:(l&F)===F){F!==0&&F===Za&&(Xf=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var mt=e,At=S;F=i;var he=a;switch(At.tag){case 1:if(mt=At.payload,typeof mt=="function"){nt=mt.call(he,nt,F);break t}nt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=At.payload,F=typeof mt=="function"?mt.call(he,nt,F):mt,F==null)break t;nt=T({},nt,F);break t;case 2:is=!0}}F=S.callback,F!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(H=W=Y,C=nt):W=W.next=Y,_|=F;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);W===null&&(C=nt),h.baseState=C,h.firstBaseUpdate=H,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),cs|=_,e.lanes=_,e.memoizedState=nt}}function oy(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function ly(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)oy(a[e],i)}var no=N(null),mc=N(0);function uy(e,i){e=_r,ot(mc,e),ot(no,i),_r=e|i.baseLanes}function $f(){ot(mc,_r),ot(no,no.current)}function Jf(){_r=mc.current,Z(no),Z(mc)}var $n=N(null),pi=null;function as(e){var i=e.alternate;ot(Oe,Oe.current&1),ot($n,e),pi===null&&(i===null||no.current!==null||i.memoizedState!==null)&&(pi=e)}function Zf(e){ot(Oe,Oe.current),ot($n,e),pi===null&&(pi=e)}function cy(e){e.tag===22?(ot(Oe,Oe.current),ot($n,e),pi===null&&(pi=e)):os()}function os(){ot(Oe,Oe.current),ot($n,$n.current)}function Jn(e){Z($n),pi===e&&(pi=null),Z(Oe)}var Oe=N(0);function pc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rm(a)||sm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var cr=0,Pt=null,ue=null,je=null,gc=!1,io=!1,pa=!1,yc=0,vl=0,ro=null,ow=0;function Re(){throw Error(s(321))}function Wf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Kn(e[a],i[a]))return!1;return!0}function td(e,i,a,l,h,d){return cr=d,Pt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=e===null||e.memoizedState===null?Yy:pd,pa=!1,d=a(l,h),pa=!1,io&&(d=fy(i,a,l,h)),hy(e),d}function hy(e){J.H=Sl;var i=ue!==null&&ue.next!==null;if(cr=0,je=ue=Pt=null,gc=!1,vl=0,ro=null,i)throw Error(s(300));e===null||Be||(e=e.dependencies,e!==null&&oc(e)&&(Be=!0))}function fy(e,i,a,l){Pt=e;var h=0;do{if(io&&(ro=null),vl=0,io=!1,25<=h)throw Error(s(301));if(h+=1,je=ue=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=Ky,d=i(a,l)}while(io);return d}function lw(){var e=J.H,i=e.useState()[0];return i=typeof i.then=="function"?El(i):i,e=e.useState()[0],(ue!==null?ue.memoizedState:null)!==e&&(Pt.flags|=1024),i}function ed(){var e=yc!==0;return yc=0,e}function nd(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function id(e){if(gc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}gc=!1}cr=0,je=ue=Pt=null,io=!1,vl=yc=0,ro=null}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Pt.memoizedState=je=e:je=je.next=e,je}function Me(){if(ue===null){var e=Pt.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var i=je===null?Pt.memoizedState:je.next;if(i!==null)je=i,ue=e;else{if(e===null)throw Pt.alternate===null?Error(s(467)):Error(s(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},je===null?Pt.memoizedState=je=e:je=je.next=e}return je}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(e){var i=vl;return vl+=1,ro===null&&(ro=[]),e=ny(ro,e,i),i=Pt,(je===null?i.memoizedState:je.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?Yy:pd),e}function vc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return El(e);if(e.$$typeof===it)return ln(e)}throw Error(s(438,String(e)))}function rd(e){var i=null,a=Pt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Pt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_c(),Pt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=M;return i.index++,a}function hr(e,i){return typeof i=="function"?i(e):i}function Ec(e){var i=Me();return sd(i,ue,e)}function sd(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var S=_=null,C=null,H=i,W=!1;do{var nt=H.lane&-536870913;if(nt!==H.lane?(Ft&nt)===nt:(cr&nt)===nt){var F=H.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),nt===Za&&(W=!0);else if((cr&F)===F){H=H.next,F===Za&&(W=!0);continue}else nt={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(S=C=nt,_=d):C=C.next=nt,Pt.lanes|=F,cs|=F;nt=H.action,pa&&a(d,nt),d=H.hasEagerState?H.eagerState:a(d,nt)}else F={lane:nt,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(S=C=F,_=d):C=C.next=F,Pt.lanes|=nt,cs|=nt;H=H.next}while(H!==null&&H!==i);if(C===null?_=d:C.next=S,!Kn(d,e.memoizedState)&&(Be=!0,W&&(a=Wa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ad(e){var i=Me(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Kn(d,i.memoizedState)||(Be=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function dy(e,i,a){var l=Pt,h=Me(),d=Xt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Kn((ue||h).memoizedState,a);if(_&&(h.memoizedState=a,Be=!0),h=h.queue,ud(gy.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||je!==null&&je.memoizedState.tag&1){if(l.flags|=2048,so(9,{destroy:void 0},py.bind(null,l,h,a,i),null),de===null)throw Error(s(349));d||(cr&127)!==0||my(l,i,a)}return a}function my(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Pt.updateQueue,i===null?(i=_c(),Pt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function py(e,i,a,l){i.value=a,i.getSnapshot=l,yy(i)&&_y(e)}function gy(e,i,a){return a(function(){yy(i)&&_y(e)})}function yy(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Kn(e,a)}catch{return!0}}function _y(e){var i=aa(e,2);i!==null&&Un(i,e,2)}function od(e){var i=Cn();if(typeof e=="function"){var a=e;if(e=a(),pa){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:e},i}function vy(e,i,a,l){return e.baseState=a,sd(e,ue,typeof l=="function"?l:hr)}function uw(e,i,a,l,h){if(wc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};J.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ey(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ey(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=J.T,_={};J.T=_;try{var S=a(h,l),C=J.S;C!==null&&C(_,S),Ty(e,i,S)}catch(H){ld(e,i,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),J.T=d}}else try{d=a(h,l),Ty(e,i,d)}catch(H){ld(e,i,H)}}function Ty(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Sy(e,i,l)},function(l){return ld(e,i,l)}):Sy(e,i,a)}function Sy(e,i,a){i.status="fulfilled",i.value=a,wy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Ey(e,a)))}function ld(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,wy(i),i=i.next;while(i!==l)}e.action=null}function wy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ay(e,i){return i}function by(e,i){if(Xt){var a=de.formState;if(a!==null){t:{var l=Pt;if(Xt){if(ge){e:{for(var h=ge,d=mi;h.nodeType!==8;){if(!d){h=null;break e}if(h=gi(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ge=gi(h.nextSibling),l=h.data==="F!";break t}}es(l)}l=!1}l&&(i=a[0])}}return a=Cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:i},a.queue=l,a=Fy.bind(null,Pt,l),l.dispatch=a,l=od(!1),d=md.bind(null,Pt,!1,l.queue),l=Cn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=uw.bind(null,Pt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Ry(e){var i=Me();return Iy(i,ue,e)}function Iy(e,i,a){if(i=sd(e,i,Ay)[0],e=Ec(hr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=El(i)}catch(_){throw _===to?cc:_}else l=i;i=Me();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Pt.flags|=2048,so(9,{destroy:void 0},cw.bind(null,h,a),null)),[l,d,e]}function cw(e,i){e.action=i}function Cy(e){var i=Me(),a=ue;if(a!==null)return Iy(i,a,e);Me(),i=i.memoizedState,a=Me();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function so(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Pt.updateQueue,i===null&&(i=_c(),Pt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Dy(){return Me().memoizedState}function Tc(e,i,a,l){var h=Cn();Pt.flags|=e,h.memoizedState=so(1|i,{destroy:void 0},a,l===void 0?null:l)}function Sc(e,i,a,l){var h=Me();l=l===void 0?null:l;var d=h.memoizedState.inst;ue!==null&&l!==null&&Wf(l,ue.memoizedState.deps)?h.memoizedState=so(i,d,a,l):(Pt.flags|=e,h.memoizedState=so(1|i,d,a,l))}function xy(e,i){Tc(8390656,8,e,i)}function ud(e,i){Sc(2048,8,e,i)}function hw(e){Pt.flags|=4;var i=Pt.updateQueue;if(i===null)i=_c(),Pt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Ny(e){var i=Me().memoizedState;return hw({ref:i,nextImpl:e}),function(){if((ee&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Oy(e,i){return Sc(4,2,e,i)}function My(e,i){return Sc(4,4,e,i)}function Vy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ky(e,i,a){a=a!=null?a.concat([e]):null,Sc(4,4,Vy.bind(null,i,e),a)}function cd(){}function Py(e,i){var a=Me();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Wf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Ly(e,i){var a=Me();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Wf(i,l[1]))return l[0];if(l=e(),pa){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[l,i],l}function hd(e,i,a){return a===void 0||(cr&1073741824)!==0&&(Ft&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=U_(),Pt.lanes|=e,cs|=e,a)}function Uy(e,i,a,l){return Kn(a,i)?a:no.current!==null?(e=hd(e,a,l),Kn(e,i)||(Be=!0),e):(cr&42)===0||(cr&1073741824)!==0&&(Ft&261930)===0?(Be=!0,e.memoizedState=a):(e=U_(),Pt.lanes|=e,cs|=e,i)}function zy(e,i,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var _=J.T,S={};J.T=S,md(e,!1,i,a);try{var C=h(),H=J.S;if(H!==null&&H(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=aw(C,l);Tl(e,i,W,ti(e))}else Tl(e,i,l,ti(e))}catch(nt){Tl(e,i,{then:function(){},status:"rejected",reason:nt},ti())}finally{st.p=d,_!==null&&S.types!==null&&(_.types=S.types),J.T=_}}function fw(){}function fd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=jy(e).queue;zy(e,h,i,gt,a===null?fw:function(){return By(e),a(l)})}function jy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:gt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function By(e){var i=jy(e);i.next===null&&(i=e.alternate.memoizedState),Tl(e,i.next.queue,{},ti())}function dd(){return ln(Ul)}function qy(){return Me().memoizedState}function Hy(){return Me().memoizedState}function dw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=ti();e=rs(a);var l=ss(i,e,a);l!==null&&(Un(l,i,a),gl(l,i,a)),i={cache:qf()},e.payload=i;return}i=i.return}}function mw(e,i,a){var l=ti();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wc(e)?Gy(i,a):(a=Nf(e,i,a,l),a!==null&&(Un(a,e,l),Qy(a,i,l)))}function Fy(e,i,a){var l=ti();Tl(e,i,a,l)}function Tl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(e))Gy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,Kn(S,_))return ic(e,i,h,0),de===null&&nc(),!1}catch{}finally{}if(a=Nf(e,i,h,l),a!==null)return Un(a,e,l),Qy(a,i,l),!0}return!1}function md(e,i,a,l){if(l={lane:2,revertLane:Qd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wc(e)){if(i)throw Error(s(479))}else i=Nf(e,a,l,2),i!==null&&Un(i,e,2)}function wc(e){var i=e.alternate;return e===Pt||i!==null&&i===Pt}function Gy(e,i){io=gc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Qy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Mi(e,a)}}var Sl={readContext:ln,use:vc,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re,useHostTransitionStatus:Re,useFormState:Re,useActionState:Re,useOptimistic:Re,useMemoCache:Re,useCacheRefresh:Re};Sl.useEffectEvent=Re;var Yy={readContext:ln,use:vc,useCallback:function(e,i){return Cn().memoizedState=[e,i===void 0?null:i],e},useContext:ln,useEffect:xy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Tc(4194308,4,Vy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Tc(4194308,4,e,i)},useInsertionEffect:function(e,i){Tc(4,2,e,i)},useMemo:function(e,i){var a=Cn();i=i===void 0?null:i;var l=e();if(pa){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=Cn();if(a!==void 0){var h=a(i);if(pa){wn(!0);try{a(i)}finally{wn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=mw.bind(null,Pt,e),[l.memoizedState,e]},useRef:function(e){var i=Cn();return e={current:e},i.memoizedState=e},useState:function(e){e=od(e);var i=e.queue,a=Fy.bind(null,Pt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(e,i){var a=Cn();return hd(a,e,i)},useTransition:function(){var e=od(!1);return e=zy.bind(null,Pt,e.queue,!0,!1),Cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Pt,h=Cn();if(Xt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),de===null)throw Error(s(349));(Ft&127)!==0||my(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,xy(gy.bind(null,l,d,e),[e]),l.flags|=2048,so(9,{destroy:void 0},py.bind(null,l,d,a,i),null),a},useId:function(){var e=Cn(),i=de.identifierPrefix;if(Xt){var a=zi,l=Ui;a=(l&~(1<<32-an(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=yc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=ow++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:dd,useFormState:by,useActionState:by,useOptimistic:function(e){var i=Cn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=md.bind(null,Pt,!0,a),a.dispatch=i,[e,i]},useMemoCache:rd,useCacheRefresh:function(){return Cn().memoizedState=dw.bind(null,Pt)},useEffectEvent:function(e){var i=Cn(),a={impl:e};return i.memoizedState=a,function(){if((ee&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},pd={readContext:ln,use:vc,useCallback:Py,useContext:ln,useEffect:ud,useImperativeHandle:ky,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:Ly,useReducer:Ec,useRef:Dy,useState:function(){return Ec(hr)},useDebugValue:cd,useDeferredValue:function(e,i){var a=Me();return Uy(a,ue.memoizedState,e,i)},useTransition:function(){var e=Ec(hr)[0],i=Me().memoizedState;return[typeof e=="boolean"?e:El(e),i]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:dd,useFormState:Ry,useActionState:Ry,useOptimistic:function(e,i){var a=Me();return vy(a,ue,e,i)},useMemoCache:rd,useCacheRefresh:Hy};pd.useEffectEvent=Ny;var Ky={readContext:ln,use:vc,useCallback:Py,useContext:ln,useEffect:ud,useImperativeHandle:ky,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:Ly,useReducer:ad,useRef:Dy,useState:function(){return ad(hr)},useDebugValue:cd,useDeferredValue:function(e,i){var a=Me();return ue===null?hd(a,e,i):Uy(a,ue.memoizedState,e,i)},useTransition:function(){var e=ad(hr)[0],i=Me().memoizedState;return[typeof e=="boolean"?e:El(e),i]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:dd,useFormState:Cy,useActionState:Cy,useOptimistic:function(e,i){var a=Me();return ue!==null?vy(a,ue,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:Hy};Ky.useEffectEvent=Ny;function gd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var yd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=ti(),h=rs(l);h.payload=i,a!=null&&(h.callback=a),i=ss(e,h,l),i!==null&&(Un(i,e,l),gl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=ti(),h=rs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ss(e,h,l),i!==null&&(Un(i,e,l),gl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=ti(),l=rs(a);l.tag=2,i!=null&&(l.callback=i),i=ss(e,l,a),i!==null&&(Un(i,e,a),gl(i,e,a))}};function Xy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!ll(a,l)||!ll(h,d):!0}function $y(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&yd.enqueueReplaceState(i,i.state,null)}function ga(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Jy(e){ec(e)}function Zy(e){console.error(e)}function Wy(e){ec(e)}function Ac(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function t_(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _d(e,i,a){return a=rs(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(e,i)},a}function e_(e){return e=rs(e),e.tag=3,e}function n_(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){t_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){t_(i,a,l),typeof h!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function pw(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ja(i,a,h,!0),a=$n.current,a!==null){switch(a.tag){case 31:case 13:return pi===null?Pc():a.alternate===null&&Ie===0&&(Ie=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===hc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Hd(e,l,h)),!1;case 22:return a.flags|=65536,l===hc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Hd(e,l,h)),!1}throw Error(s(435,a.tag))}return Hd(e,l,h),Pc(),!1}if(Xt)return i=$n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Lf&&(e=Error(s(422),{cause:l}),hl(hi(e,a)))):(l!==Lf&&(i=Error(s(423),{cause:l}),hl(hi(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=hi(l,a),h=_d(e.stateNode,l,h),Kf(e,h),Ie!==4&&(Ie=2)),!1;var d=Error(s(520),{cause:l});if(d=hi(d,a),xl===null?xl=[d]:xl.push(d),Ie!==4&&(Ie=2),i===null)return!0;l=hi(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=_d(a.stateNode,l,e),Kf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(hs===null||!hs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=e_(h),n_(h,e,a,l),Kf(a,h),!1}a=a.return}while(a!==null);return!1}var vd=Error(s(461)),Be=!1;function un(e,i,a,l){i.child=e===null?ay(i,null,a,l):ma(i,e.child,a,l)}function i_(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return ca(i),l=td(e,i,a,_,d,h),S=ed(),e!==null&&!Be?(nd(e,i,h),fr(e,i,h)):(Xt&&S&&kf(i),i.flags|=1,un(e,i,l,h),i.child)}function r_(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Of(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,s_(e,i,d,l,h)):(e=sc(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Id(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(_,l)&&e.ref===i.ref)return fr(e,i,h)}return i.flags|=1,e=ar(d,l),e.ref=i.ref,e.return=i,i.child=e}function s_(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(ll(d,l)&&e.ref===i.ref)if(Be=!1,i.pendingProps=l=d,Id(e,h))(e.flags&131072)!==0&&(Be=!0);else return i.lanes=e.lanes,fr(e,i,h)}return Ed(e,i,a,l,h)}function a_(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return o_(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&uc(i,d!==null?d.cachePool:null),d!==null?uy(i,d):$f(),cy(i);else return l=i.lanes=536870912,o_(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(uc(i,d.cachePool),uy(i,d),os(),i.memoizedState=null):(e!==null&&uc(i,null),$f(),os());return un(e,i,h,a),i.child}function wl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function o_(e,i,a,l,h){var d=Ff();return d=d===null?null:{parent:ze._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&uc(i,null),$f(),cy(i),e!==null&&Ja(e,i,l,!0),i.childLanes=h,null}function bc(e,i){return i=Ic({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function l_(e,i,a){return ma(i,e.child,null,a),e=bc(i,i.pendingProps),e.flags|=2,Jn(i),i.memoizedState=null,e}function gw(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Xt){if(l.mode==="hidden")return e=bc(i,l),i.lanes=536870912,wl(null,e);if(Zf(i),(e=ge)?(e=Ev(e,mi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Wr!==null?{id:Ui,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},a=Gg(e),a.return=i,i.child=a,on=i,ge=null)):e=null,e===null)throw es(i);return i.lanes=536870912,null}return bc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Zf(i),h)if(i.flags&256)i.flags&=-257,i=l_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Be||Ja(e,i,a,!1),h=(a&e.childLanes)!==0,Be||h){if(l=de,l!==null&&(_=Fn(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,aa(e,_),Un(l,e,_),vd;Pc(),i=l_(e,i,a)}else e=d.treeContext,ge=gi(_.nextSibling),on=i,Xt=!0,ts=null,mi=!1,e!==null&&Kg(i,e),i=bc(i,l),i.flags|=4096;return i}return e=ar(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Rc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Ed(e,i,a,l,h){return ca(i),a=td(e,i,a,l,void 0,h),l=ed(),e!==null&&!Be?(nd(e,i,h),fr(e,i,h)):(Xt&&l&&kf(i),i.flags|=1,un(e,i,a,h),i.child)}function u_(e,i,a,l,h,d){return ca(i),i.updateQueue=null,a=fy(i,l,a,h),hy(e),l=ed(),e!==null&&!Be?(nd(e,i,d),fr(e,i,d)):(Xt&&l&&kf(i),i.flags|=1,un(e,i,a,d),i.child)}function c_(e,i,a,l,h){if(ca(i),i.stateNode===null){var d=Ya,_=a.contextType;typeof _=="object"&&_!==null&&(d=ln(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Qf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?ln(_):Ya,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(gd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&yd.enqueueReplaceState(d,d.state,null),_l(i,l,d,h),yl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var S=i.memoizedProps,C=ga(a,S);d.props=C;var H=d.context,W=a.contextType;_=Ya,typeof W=="object"&&W!==null&&(_=ln(W));var nt=a.getDerivedStateFromProps;W=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==_)&&$y(i,d,l,_),is=!1;var F=i.memoizedState;d.state=F,_l(i,l,d,h),yl(),H=i.memoizedState,S||F!==H||is?(typeof nt=="function"&&(gd(i,a,nt,l),H=i.memoizedState),(C=is||Xy(i,a,C,l,F,H,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Yf(e,i),_=i.memoizedProps,W=ga(a,_),d.props=W,nt=i.pendingProps,F=d.context,H=a.contextType,C=Ya,typeof H=="object"&&H!==null&&(C=ln(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==nt||F!==C)&&$y(i,d,l,C),is=!1,F=i.memoizedState,d.state=F,_l(i,l,d,h),yl();var Y=i.memoizedState;_!==nt||F!==Y||is||e!==null&&e.dependencies!==null&&oc(e.dependencies)?(typeof S=="function"&&(gd(i,a,S,l),Y=i.memoizedState),(W=is||Xy(i,a,W,l,F,Y,C)||e!==null&&e.dependencies!==null&&oc(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=C,l=W):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Rc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=ma(i,e.child,null,h),i.child=ma(i,null,a,h)):un(e,i,a,h),i.memoizedState=d.state,e=i.child):e=fr(e,i,h),e}function h_(e,i,a,l){return la(),i.flags|=256,un(e,i,a,l),i.child}var Td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(e){return{baseLanes:e,cachePool:ty()}}function wd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Wn),e}function f_(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Xt){if(h?as(i):os(),(e=ge)?(e=Ev(e,mi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Wr!==null?{id:Ui,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},a=Gg(e),a.return=i,i.child=a,on=i,ge=null)):e=null,e===null)throw es(i);return sm(e)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(os(),h=i.mode,S=Ic({mode:"hidden",children:S},h),l=oa(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Sd(a),l.childLanes=wd(e,_,a),i.memoizedState=Td,wl(null,l)):(as(i),Ad(i,S))}var C=e.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(d)i.flags&256?(as(i),i.flags&=-257,i=bd(e,i,a)):i.memoizedState!==null?(os(),i.child=e.child,i.flags|=128,i=null):(os(),S=l.fallback,h=i.mode,l=Ic({mode:"visible",children:l.children},h),S=oa(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,ma(i,e.child,null,a),l=i.child,l.memoizedState=Sd(a),l.childLanes=wd(e,_,a),i.memoizedState=Td,i=wl(null,l));else if(as(i),sm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,hl({value:l,source:null,stack:null}),i=bd(e,i,a)}else if(Be||Ja(e,i,a,!1),_=(a&e.childLanes)!==0,Be||_){if(_=de,_!==null&&(l=Fn(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,aa(e,l),Un(_,e,l),vd;rm(S)||Pc(),i=bd(e,i,a)}else rm(S)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,ge=gi(S.nextSibling),on=i,Xt=!0,ts=null,mi=!1,e!==null&&Kg(i,e),i=Ad(i,l.children),i.flags|=4096);return i}return h?(os(),S=l.fallback,h=i.mode,C=e.child,H=C.sibling,l=ar(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,H!==null?S=ar(H,S):(S=oa(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,wl(null,l),l=i.child,S=e.child.memoizedState,S===null?S=Sd(a):(h=S.cachePool,h!==null?(C=ze._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ty(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=wd(e,_,a),i.memoizedState=Td,wl(e.child,l)):(as(i),a=e.child,e=a.sibling,a=ar(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Ad(e,i){return i=Ic({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ic(e,i){return e=Xn(22,e,null,i),e.lanes=0,e}function bd(e,i,a){return ma(i,e.child,null,a),e=Ad(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function d_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),jf(e.return,i,a)}function Rd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function m_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Oe.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ot(Oe,_),un(e,i,l,a),l=Xt?cl:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&d_(e,a,i);else if(e.tag===19)d_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&pc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Rd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&pc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Rd(i,!0,a,null,d,l);break;case"together":Rd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function fr(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),cs|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ja(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=ar(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=ar(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Id(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&oc(e)))}function yw(e,i,a){switch(i.tag){case 3:le(i,i.stateNode.containerInfo),ns(i,ze,e.memoizedState.cache),la();break;case 27:case 5:mn(i);break;case 4:le(i,i.stateNode.containerInfo);break;case 10:ns(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Zf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(as(i),i.flags|=128,null):(a&i.child.childLanes)!==0?f_(e,i,a):(as(i),e=fr(e,i,a),e!==null?e.sibling:null);as(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ja(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return m_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(Oe,Oe.current),l)break;return null;case 22:return i.lanes=0,a_(e,i,a,i.pendingProps);case 24:ns(i,ze,e.memoizedState.cache)}return fr(e,i,a)}function p_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Be=!0;else{if(!Id(e,a)&&(i.flags&128)===0)return Be=!1,yw(e,i,a);Be=(e.flags&131072)!==0}else Be=!1,Xt&&(i.flags&1048576)!==0&&Yg(i,cl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=fa(i.elementType),i.type=e,typeof e=="function")Of(e)?(l=ga(e,l),i.tag=1,i=c_(null,i,e,l,a)):(i.tag=0,i=Ed(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===Tt){i.tag=11,i=i_(null,i,e,l,a);break t}else if(h===x){i.tag=14,i=r_(null,i,e,l,a);break t}}throw i=we(e)||e,Error(s(306,i,""))}}return i;case 0:return Ed(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ga(l,i.pendingProps),c_(e,i,l,h,a);case 3:t:{if(le(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Yf(e,i),_l(i,l,null,a);var _=i.memoizedState;if(l=_.cache,ns(i,ze,l),l!==d.cache&&Bf(i,[ze],a,!0),yl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=h_(e,i,l,a);break t}else if(l!==h){h=hi(Error(s(424)),i),hl(h),i=h_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ge=gi(e.firstChild),on=i,Xt=!0,ts=null,mi=!0,a=ay(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(la(),l===h){i=fr(e,i,a);break t}un(e,i,l,a)}i=i.child}return i;case 26:return Rc(e,i),e===null?(a=Rv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Xt||(a=i.type,e=i.pendingProps,l=Hc(Rt.current).createElement(a),l[ie]=i,l[I]=e,cn(l,a,e),ve(l),i.stateNode=l):i.memoizedState=Rv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return mn(i),e===null&&Xt&&(l=i.stateNode=wv(i.type,i.pendingProps,Rt.current),on=i,mi=!0,h=ge,ps(i.type)?(am=h,ge=gi(l.firstChild)):ge=h),un(e,i,i.pendingProps.children,a),Rc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Xt&&((h=l=ge)&&(l=Yw(l,i.type,i.pendingProps,mi),l!==null?(i.stateNode=l,on=i,ge=gi(l.firstChild),mi=!1,h=!0):h=!1),h||es(i)),mn(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,em(h,d)?l=null:_!==null&&em(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=td(e,i,lw,null,null,a),Ul._currentValue=h),Rc(e,i),un(e,i,l,a),i.child;case 6:return e===null&&Xt&&((e=a=ge)&&(a=Kw(a,i.pendingProps,mi),a!==null?(i.stateNode=a,on=i,ge=null,e=!0):e=!1),e||es(i)),null;case 13:return f_(e,i,a);case 4:return le(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ma(i,null,l,a):un(e,i,l,a),i.child;case 11:return i_(e,i,i.type,i.pendingProps,a);case 7:return un(e,i,i.pendingProps,a),i.child;case 8:return un(e,i,i.pendingProps.children,a),i.child;case 12:return un(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ns(i,i.type,l.value),un(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ca(i),h=ln(h),l=l(h),i.flags|=1,un(e,i,l,a),i.child;case 14:return r_(e,i,i.type,i.pendingProps,a);case 15:return s_(e,i,i.type,i.pendingProps,a);case 19:return m_(e,i,a);case 31:return gw(e,i,a);case 22:return a_(e,i,a,i.pendingProps);case 24:return ca(i),l=ln(ze),e===null?(h=Ff(),h===null&&(h=de,d=qf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Qf(i),ns(i,ze,h)):((e.lanes&a)!==0&&(Yf(e,i),_l(i,null,null,a),yl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ns(i,ze,l)):(l=d.cache,ns(i,ze,l),l!==h.cache&&Bf(i,[ze],a,!0))),un(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function dr(e){e.flags|=4}function Cd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(q_())e.flags|=8192;else throw da=hc,Gf}else e.flags&=-16777217}function g_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Nv(i))if(q_())e.flags|=8192;else throw da=hc,Gf}function Cc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?tr():536870912,e.lanes|=i,uo|=i)}function Al(e,i){if(!Xt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ye(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function _w(e,i,a){var l=i.pendingProps;switch(Pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(i),null;case 1:return ye(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ur(ze),me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&($a(i)?dr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Uf())),ye(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(dr(i),d!==null?(ye(i),g_(i,d)):(ye(i),Cd(i,h,null,l,a))):d?d!==e.memoizedState?(dr(i),ye(i),g_(i,d)):(ye(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&dr(i),ye(i),Cd(i,h,e,l,a)),null;case 27:if(Bn(i),a=Rt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&dr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ye(i),null}e=ft.current,$a(i)?Xg(i):(e=wv(h,l,a),i.stateNode=e,dr(i))}return ye(i),null;case 5:if(Bn(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&dr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ye(i),null}if(d=ft.current,$a(i))Xg(i);else{var _=Hc(Rt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[ie]=i,d[I]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(cn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&dr(i)}}return ye(i),Cd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&dr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Rt.current,$a(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=on,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ie]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fv(e.nodeValue,a)),e||es(i,!0)}else e=Hc(e).createTextNode(l),e[ie]=i,i.stateNode=e}return ye(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=$a(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ie]=i}else la(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ye(i),e=!1}else a=Uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Jn(i),i):(Jn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ye(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=$a(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ie]=i}else la(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ye(i),h=!1}else h=Uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Jn(i),i):(Jn(i),null)}return Jn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Cc(i,i.updateQueue),ye(i),null);case 4:return me(),e===null&&$d(i.stateNode.containerInfo),ye(i),null;case 10:return ur(i.type),ye(i),null;case 19:if(Z(Oe),l=i.memoizedState,l===null)return ye(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Al(l,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=pc(e),d!==null){for(i.flags|=128,Al(l,!1),e=d.updateQueue,i.updateQueue=e,Cc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Fg(a,e),a=a.sibling;return ot(Oe,Oe.current&1|2),Xt&&or(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&Pe()>Mc&&(i.flags|=128,h=!0,Al(l,!1),i.lanes=4194304)}else{if(!h)if(e=pc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Cc(i,e),Al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Xt)return ye(i),null}else 2*Pe()-l.renderingStartTime>Mc&&a!==536870912&&(i.flags|=128,h=!0,Al(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Pe(),e.sibling=null,a=Oe.current,ot(Oe,h?a&1|2:a&1),Xt&&or(i,l.treeForkCount),e):(ye(i),null);case 22:case 23:return Jn(i),Jf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ye(i),i.subtreeFlags&6&&(i.flags|=8192)):ye(i),a=i.updateQueue,a!==null&&Cc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&Z(ha),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ur(ze),ye(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function vw(e,i){switch(Pf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ur(ze),me(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Bn(i),null;case 31:if(i.memoizedState!==null){if(Jn(i),i.alternate===null)throw Error(s(340));la()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Jn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));la()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Z(Oe),null;case 4:return me(),null;case 10:return ur(i.type),null;case 22:case 23:return Jn(i),Jf(),e!==null&&Z(ha),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ur(ze),null;case 25:return null;default:return null}}function y_(e,i){switch(Pf(i),i.tag){case 3:ur(ze),me();break;case 26:case 27:case 5:Bn(i);break;case 4:me();break;case 31:i.memoizedState!==null&&Jn(i);break;case 13:Jn(i);break;case 19:Z(Oe);break;case 10:ur(i.type);break;case 22:case 23:Jn(i),Jf(),e!==null&&Z(ha);break;case 24:ur(ze)}}function bl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){oe(i,i.return,S)}}function ls(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var C=a,H=S;try{H()}catch(W){oe(h,C,W)}}}l=l.next}while(l!==d)}}catch(W){oe(i,i.return,W)}}function __(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{ly(i,a)}catch(l){oe(e,e.return,l)}}}function v_(e,i,a){a.props=ga(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){oe(e,i,l)}}function Rl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){oe(e,i,h)}}function ji(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){oe(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){oe(e,i,h)}else a.current=null}function E_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){oe(e,e.return,h)}}function Dd(e,i,a){try{var l=e.stateNode;Bw(l,e.type,a,i),l[I]=i}catch(h){oe(e,e.return,h)}}function T_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ps(e.type)||e.tag===4}function xd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||T_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ps(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ze));else if(l!==4&&(l===27&&ps(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Nd(e,i,a),e=e.sibling;e!==null;)Nd(e,i,a),e=e.sibling}function Dc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&ps(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Dc(e,i,a),e=e.sibling;e!==null;)Dc(e,i,a),e=e.sibling}function S_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);cn(i,l,a),i[ie]=e,i[I]=a}catch(d){oe(e,e.return,d)}}var mr=!1,qe=!1,Od=!1,w_=typeof WeakSet=="function"?WeakSet:Set,en=null;function Ew(e,i){if(e=e.containerInfo,Wd=$c,e=kg(e),bf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,C=-1,H=0,W=0,nt=e,F=null;e:for(;;){for(var Y;nt!==a||h!==0&&nt.nodeType!==3||(S=_+h),nt!==d||l!==0&&nt.nodeType!==3||(C=_+l),nt.nodeType===3&&(_+=nt.nodeValue.length),(Y=nt.firstChild)!==null;)F=nt,nt=Y;for(;;){if(nt===e)break e;if(F===a&&++H===h&&(S=_),F===d&&++W===l&&(C=_),(Y=nt.nextSibling)!==null)break;nt=F,F=nt.parentNode}nt=Y}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:e,selectionRange:a},$c=!1,en=i;en!==null;)if(i=en,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,en=e;else for(;en!==null;){switch(i=en,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var mt=ga(a.type,h);e=l.getSnapshotBeforeUpdate(mt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(At){oe(a,a.return,At)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)im(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":im(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,en=e;break}en=i.return}}function A_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:gr(e,a),l&4&&bl(5,a);break;case 1:if(gr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){oe(a,a.return,_)}else{var h=ga(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){oe(a,a.return,_)}}l&64&&__(a),l&512&&Rl(a,a.return);break;case 3:if(gr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ly(e,i)}catch(_){oe(a,a.return,_)}}break;case 27:i===null&&l&4&&S_(a);case 26:case 5:gr(e,a),i===null&&l&4&&E_(a),l&512&&Rl(a,a.return);break;case 12:gr(e,a);break;case 31:gr(e,a),l&4&&I_(e,a);break;case 13:gr(e,a),l&4&&C_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Dw.bind(null,a),Xw(e,a))));break;case 22:if(l=a.memoizedState!==null||mr,!l){i=i!==null&&i.memoizedState!==null||qe,h=mr;var d=qe;mr=l,(qe=i)&&!d?yr(e,a,(a.subtreeFlags&8772)!==0):gr(e,a),mr=h,qe=d}break;case 30:break;default:gr(e,a)}}function b_(e){var i=e.alternate;i!==null&&(e.alternate=null,b_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&se(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ee=null,Vn=!1;function pr(e,i,a){for(a=a.child;a!==null;)R_(e,i,a),a=a.sibling}function R_(e,i,a){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(pn,a)}catch{}switch(a.tag){case 26:qe||ji(a,i),pr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qe||ji(a,i);var l=Ee,h=Vn;ps(a.type)&&(Ee=a.stateNode,Vn=!1),pr(e,i,a),kl(a.stateNode),Ee=l,Vn=h;break;case 5:qe||ji(a,i);case 6:if(l=Ee,h=Vn,Ee=null,pr(e,i,a),Ee=l,Vn=h,Ee!==null)if(Vn)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(a.stateNode)}catch(d){oe(a,i,d)}else try{Ee.removeChild(a.stateNode)}catch(d){oe(a,i,d)}break;case 18:Ee!==null&&(Vn?(e=Ee,_v(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),_o(e)):_v(Ee,a.stateNode));break;case 4:l=Ee,h=Vn,Ee=a.stateNode.containerInfo,Vn=!0,pr(e,i,a),Ee=l,Vn=h;break;case 0:case 11:case 14:case 15:ls(2,a,i),qe||ls(4,a,i),pr(e,i,a);break;case 1:qe||(ji(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&v_(a,i,l)),pr(e,i,a);break;case 21:pr(e,i,a);break;case 22:qe=(l=qe)||a.memoizedState!==null,pr(e,i,a),qe=l;break;default:pr(e,i,a)}}function I_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{_o(e)}catch(a){oe(i,i.return,a)}}}function C_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_o(e)}catch(a){oe(i,i.return,a)}}function Tw(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new w_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new w_),i;default:throw Error(s(435,e.tag))}}function xc(e,i){var a=Tw(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=xw.bind(null,e,l);l.then(h,h)}})}function kn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(ps(S.type)){Ee=S.stateNode,Vn=!1;break t}break;case 5:Ee=S.stateNode,Vn=!1;break t;case 3:case 4:Ee=S.stateNode.containerInfo,Vn=!0;break t}S=S.return}if(Ee===null)throw Error(s(160));R_(d,_,h),Ee=null,Vn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)D_(i,e),i=i.sibling}var Ri=null;function D_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:kn(i,e),Pn(e),l&4&&(ls(3,e,e.return),bl(3,e),ls(5,e,e.return));break;case 1:kn(i,e),Pn(e),l&512&&(qe||a===null||ji(a,a.return)),l&64&&mr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ri;if(kn(i,e),Pn(e),l&512&&(qe||a===null||ji(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[bt]||d[ie]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),cn(d,l,a),d[ie]=e,ve(d),l=d;break t;case"link":var _=Dv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=h.createElement(l),cn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Dv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=h.createElement(l),cn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ie]=e,ve(d),l=d}e.stateNode=l}else xv(h,e.type,e.stateNode);else e.stateNode=Cv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?xv(h,e.type,e.stateNode):Cv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Dd(e,e.memoizedProps,a.memoizedProps)}break;case 27:kn(i,e),Pn(e),l&512&&(qe||a===null||ji(a,a.return)),a!==null&&l&4&&Dd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(kn(i,e),Pn(e),l&512&&(qe||a===null||ji(a,a.return)),e.flags&32){h=e.stateNode;try{ui(h,"")}catch(mt){oe(e,e.return,mt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Dd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Od=!0);break;case 6:if(kn(i,e),Pn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(mt){oe(e,e.return,mt)}}break;case 3:if(Qc=null,h=Ri,Ri=Fc(i.containerInfo),kn(i,e),Ri=h,Pn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_o(i.containerInfo)}catch(mt){oe(e,e.return,mt)}Od&&(Od=!1,x_(e));break;case 4:l=Ri,Ri=Fc(e.stateNode.containerInfo),kn(i,e),Pn(e),Ri=l;break;case 12:kn(i,e),Pn(e);break;case 31:kn(i,e),Pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xc(e,l)));break;case 13:kn(i,e),Pn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Oc=Pe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xc(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,H=mr,W=qe;if(mr=H||h,qe=W||C,kn(i,e),qe=W,mr=H,Pn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||mr||qe||ya(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=C.stateNode;var nt=C.memoizedProps.style,F=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(mt){oe(C,C.return,mt)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(mt){oe(C,C.return,mt)}}}else if(i.tag===18){if(a===null){C=i;try{var Y=C.stateNode;h?vv(Y,!0):vv(C.stateNode,!1)}catch(mt){oe(C,C.return,mt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xc(e,a))));break;case 19:kn(i,e),Pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xc(e,l)));break;case 30:break;case 21:break;default:kn(i,e),Pn(e)}}function Pn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(T_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=xd(e);Dc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(ui(_,""),a.flags&=-33);var S=xd(e);Dc(e,S,_);break;case 3:case 4:var C=a.stateNode.containerInfo,H=xd(e);Nd(e,H,C);break;default:throw Error(s(161))}}catch(W){oe(e,e.return,W)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function x_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;x_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function gr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)A_(e,i.alternate,i),i=i.sibling}function ya(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ls(4,i,i.return),ya(i);break;case 1:ji(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&v_(i,i.return,a),ya(i);break;case 27:kl(i.stateNode);case 26:case 5:ji(i,i.return),ya(i);break;case 22:i.memoizedState===null&&ya(i);break;case 30:ya(i);break;default:ya(i)}e=e.sibling}}function yr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:yr(h,d,a),bl(4,d);break;case 1:if(yr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){oe(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)oy(C[h],S)}catch(H){oe(l,l.return,H)}}a&&_&64&&__(d),Rl(d,d.return);break;case 27:S_(d);case 26:case 5:yr(h,d,a),a&&l===null&&_&4&&E_(d),Rl(d,d.return);break;case 12:yr(h,d,a);break;case 31:yr(h,d,a),a&&_&4&&I_(h,d);break;case 13:yr(h,d,a),a&&_&4&&C_(h,d);break;case 22:d.memoizedState===null&&yr(h,d,a),Rl(d,d.return);break;case 30:break;default:yr(h,d,a)}i=i.sibling}}function Md(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&fl(a))}function Vd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&fl(e))}function Ii(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N_(e,i,a,l),i=i.sibling}function N_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ii(e,i,a,l),h&2048&&bl(9,i);break;case 1:Ii(e,i,a,l);break;case 3:Ii(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&fl(e)));break;case 12:if(h&2048){Ii(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){oe(i,i.return,C)}}else Ii(e,i,a,l);break;case 31:Ii(e,i,a,l);break;case 13:Ii(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Ii(e,i,a,l):Il(e,i):d._visibility&2?Ii(e,i,a,l):(d._visibility|=2,ao(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Md(_,i);break;case 24:Ii(e,i,a,l),h&2048&&Vd(i.alternate,i);break;default:Ii(e,i,a,l)}}function ao(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,S=a,C=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:ao(d,_,S,C,h),bl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?ao(d,_,S,C,h):Il(d,_):(W._visibility|=2,ao(d,_,S,C,h)),h&&H&2048&&Md(_.alternate,_);break;case 24:ao(d,_,S,C,h),h&&H&2048&&Vd(_.alternate,_);break;default:ao(d,_,S,C,h)}i=i.sibling}}function Il(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Il(a,l),h&2048&&Md(l.alternate,l);break;case 24:Il(a,l),h&2048&&Vd(l.alternate,l);break;default:Il(a,l)}i=i.sibling}}var Cl=8192;function oo(e,i,a){if(e.subtreeFlags&Cl)for(e=e.child;e!==null;)O_(e,i,a),e=e.sibling}function O_(e,i,a){switch(e.tag){case 26:oo(e,i,a),e.flags&Cl&&e.memoizedState!==null&&oA(a,Ri,e.memoizedState,e.memoizedProps);break;case 5:oo(e,i,a);break;case 3:case 4:var l=Ri;Ri=Fc(e.stateNode.containerInfo),oo(e,i,a),Ri=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Cl,Cl=16777216,oo(e,i,a),Cl=l):oo(e,i,a));break;default:oo(e,i,a)}}function M_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Dl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];en=l,k_(l,e)}M_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)V_(e),e=e.sibling}function V_(e){switch(e.tag){case 0:case 11:case 15:Dl(e),e.flags&2048&&ls(9,e,e.return);break;case 3:Dl(e);break;case 12:Dl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Nc(e)):Dl(e);break;default:Dl(e)}}function Nc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];en=l,k_(l,e)}M_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ls(8,i,i.return),Nc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(i));break;default:Nc(i)}e=e.sibling}}function k_(e,i){for(;en!==null;){var a=en;switch(a.tag){case 0:case 11:case 15:ls(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,en=l;else t:for(a=e;en!==null;){l=en;var h=l.sibling,d=l.return;if(b_(l),l===a){en=null;break t}if(h!==null){h.return=d,en=h;break t}en=d}}}var Sw={getCacheForType:function(e){var i=ln(ze),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return ln(ze).controller.signal}},ww=typeof WeakMap=="function"?WeakMap:Map,ee=0,de=null,qt=null,Ft=0,ae=0,Zn=null,us=!1,lo=!1,kd=!1,_r=0,Ie=0,cs=0,_a=0,Pd=0,Wn=0,uo=0,xl=null,Ln=null,Ld=!1,Oc=0,P_=0,Mc=1/0,Vc=null,hs=null,Ke=0,fs=null,co=null,vr=0,Ud=0,zd=null,L_=null,Nl=0,jd=null;function ti(){return(ee&2)!==0&&Ft!==0?Ft&-Ft:J.T!==null?Qd():wi()}function U_(){if(Wn===0)if((Ft&536870912)===0||Xt){var e=gn;gn<<=1,(gn&3932160)===0&&(gn=262144),Wn=e}else Wn=536870912;return e=$n.current,e!==null&&(e.flags|=32),Wn}function Un(e,i,a){(e===de&&(ae===2||ae===9)||e.cancelPendingCommit!==null)&&(ho(e,0),ds(e,Ft,Wn,!1)),Oi(e,a),((ee&2)===0||e!==de)&&(e===de&&((ee&2)===0&&(_a|=a),Ie===4&&ds(e,Ft,Wn,!1)),Bi(e))}function z_(e,i,a){if((ee&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Hn(e,i),h=l?Rw(e,i):qd(e,i,!0),d=l;do{if(h===0){lo&&!l&&ds(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!Aw(a)){h=qd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var S=e;h=xl;var C=S.current.memoizedState.isDehydrated;if(C&&(ho(S,_).flags|=256),_=qd(S,_,!1),_!==2){if(kd&&!C){S.errorRecoveryDisabledLanes|=d,_a|=d,h=4;break t}d=Ln,Ln=h,d!==null&&(Ln===null?Ln=d:Ln.push.apply(Ln,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){ho(e,0),ds(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ds(l,i,Wn,!us);break t;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Oc+300-Pe(),10<h)){if(ds(l,i,Wn,!us),Ne(l,0,!0)!==0)break t;vr=i,l.timeoutHandle=gv(j_.bind(null,l,a,Ln,Vc,Ld,i,Wn,_a,uo,us,d,"Throttled",-0,0),h);break t}j_(l,a,Ln,Vc,Ld,i,Wn,_a,uo,us,d,null,-0,0)}}break}while(!0);Bi(e)}function j_(e,i,a,l,h,d,_,S,C,H,W,nt,F,Y){if(e.timeoutHandle=-1,nt=i.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ze},O_(i,d,nt);var mt=(d&62914560)===d?Oc-Pe():(d&4194048)===d?P_-Pe():0;if(mt=lA(nt,mt),mt!==null){vr=d,e.cancelPendingCommit=mt(K_.bind(null,e,i,d,a,l,h,_,S,C,W,nt,null,F,Y)),ds(e,d,_,!H);return}}K_(e,i,d,a,l,h,_,S,C)}function Aw(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Kn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ds(e,i,a,l){i&=~Pd,i&=~_a,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-an(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Ys(e,a,i)}function kc(){return(ee&6)===0?(Ol(0),!1):!0}function Bd(){if(qt!==null){if(ae===0)var e=qt.return;else e=qt,lr=ua=null,id(e),eo=null,ml=0,e=qt;for(;e!==null;)y_(e.alternate,e),e=e.return;qt=null}}function ho(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Fw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),vr=0,Bd(),de=e,qt=a=ar(e.current,null),Ft=i,ae=0,Zn=null,us=!1,lo=Hn(e,i),kd=!1,uo=Wn=Pd=_a=cs=Ie=0,Ln=xl=null,Ld=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-an(l),d=1<<h;i|=e[h],l&=~d}return _r=i,nc(),a}function B_(e,i){Pt=null,J.H=Sl,i===to||i===cc?(i=iy(),ae=3):i===Gf?(i=iy(),ae=4):ae=i===vd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Zn=i,qt===null&&(Ie=1,Ac(e,hi(i,e.current)))}function q_(){var e=$n.current;return e===null?!0:(Ft&4194048)===Ft?pi===null:(Ft&62914560)===Ft||(Ft&536870912)!==0?e===pi:!1}function H_(){var e=J.H;return J.H=Sl,e===null?Sl:e}function F_(){var e=J.A;return J.A=Sw,e}function Pc(){Ie=4,us||(Ft&4194048)!==Ft&&$n.current!==null||(lo=!0),(cs&134217727)===0&&(_a&134217727)===0||de===null||ds(de,Ft,Wn,!1)}function qd(e,i,a){var l=ee;ee|=2;var h=H_(),d=F_();(de!==e||Ft!==i)&&(Vc=null,ho(e,i)),i=!1;var _=Ie;t:do try{if(ae!==0&&qt!==null){var S=qt,C=Zn;switch(ae){case 8:Bd(),_=6;break t;case 3:case 2:case 9:case 6:$n.current===null&&(i=!0);var H=ae;if(ae=0,Zn=null,fo(e,S,C,H),a&&lo){_=0;break t}break;default:H=ae,ae=0,Zn=null,fo(e,S,C,H)}}bw(),_=Ie;break}catch(W){B_(e,W)}while(!0);return i&&e.shellSuspendCounter++,lr=ua=null,ee=l,J.H=h,J.A=d,qt===null&&(de=null,Ft=0,nc()),_}function bw(){for(;qt!==null;)G_(qt)}function Rw(e,i){var a=ee;ee|=2;var l=H_(),h=F_();de!==e||Ft!==i?(Vc=null,Mc=Pe()+500,ho(e,i)):lo=Hn(e,i);t:do try{if(ae!==0&&qt!==null){i=qt;var d=Zn;e:switch(ae){case 1:ae=0,Zn=null,fo(e,i,d,1);break;case 2:case 9:if(ey(d)){ae=0,Zn=null,Q_(i);break}i=function(){ae!==2&&ae!==9||de!==e||(ae=7),Bi(e)},d.then(i,i);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:ey(d)?(ae=0,Zn=null,Q_(i)):(ae=0,Zn=null,fo(e,i,d,7));break;case 5:var _=null;switch(qt.tag){case 26:_=qt.memoizedState;case 5:case 27:var S=qt;if(_?Nv(_):S.stateNode.complete){ae=0,Zn=null;var C=S.sibling;if(C!==null)qt=C;else{var H=S.return;H!==null?(qt=H,Lc(H)):qt=null}break e}}ae=0,Zn=null,fo(e,i,d,5);break;case 6:ae=0,Zn=null,fo(e,i,d,6);break;case 8:Bd(),Ie=6;break t;default:throw Error(s(462))}}Iw();break}catch(W){B_(e,W)}while(!0);return lr=ua=null,J.H=l,J.A=h,ee=a,qt!==null?0:(de=null,Ft=0,nc(),Ie)}function Iw(){for(;qt!==null&&!Yo();)G_(qt)}function G_(e){var i=p_(e.alternate,e,_r);e.memoizedProps=e.pendingProps,i===null?Lc(e):qt=i}function Q_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=u_(a,i,i.pendingProps,i.type,void 0,Ft);break;case 11:i=u_(a,i,i.pendingProps,i.type.render,i.ref,Ft);break;case 5:id(i);default:y_(a,i),i=qt=Fg(i,_r),i=p_(a,i,_r)}e.memoizedProps=e.pendingProps,i===null?Lc(e):qt=i}function fo(e,i,a,l){lr=ua=null,id(i),eo=null,ml=0;var h=i.return;try{if(pw(e,h,i,a,Ft)){Ie=1,Ac(e,hi(a,e.current)),qt=null;return}}catch(d){if(h!==null)throw qt=h,d;Ie=1,Ac(e,hi(a,e.current)),qt=null;return}i.flags&32768?(Xt||l===1?e=!0:lo||(Ft&536870912)!==0?e=!1:(us=e=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),Y_(i,e)):Lc(i)}function Lc(e){var i=e;do{if((i.flags&32768)!==0){Y_(i,us);return}e=i.return;var a=_w(i.alternate,i,_r);if(a!==null){qt=a;return}if(i=i.sibling,i!==null){qt=i;return}qt=i=e}while(i!==null);Ie===0&&(Ie=5)}function Y_(e,i){do{var a=vw(e.alternate,e);if(a!==null){a.flags&=32767,qt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){qt=e;return}qt=e=a}while(e!==null);Ie=6,qt=null}function K_(e,i,a,l,h,d,_,S,C){e.cancelPendingCommit=null;do Uc();while(Ke!==0);if((ee&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=xf,Qe(e,a,d,_,S,C),e===de&&(qt=de=null,Ft=0),co=i,fs=e,vr=a,Ud=d,zd=h,L_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Nw(oi,function(){return W_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,h=st.p,st.p=2,_=ee,ee|=4;try{Ew(e,i,a)}finally{ee=_,st.p=h,J.T=l}}Ke=1,X_(),$_(),J_()}}function X_(){if(Ke===1){Ke=0;var e=fs,i=co,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=st.p;st.p=2;var h=ee;ee|=4;try{D_(i,e);var d=tm,_=kg(e.containerInfo),S=d.focusedElem,C=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Vg(S.ownerDocument.documentElement,S)){if(C!==null&&bf(S)){var H=C.start,W=C.end;if(W===void 0&&(W=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(W,S.value.length);else{var nt=S.ownerDocument||document,F=nt&&nt.defaultView||window;if(F.getSelection){var Y=F.getSelection(),mt=S.textContent.length,At=Math.min(C.start,mt),he=C.end===void 0?At:Math.min(C.end,mt);!Y.extend&&At>he&&(_=he,he=At,At=_);var P=Mg(S,At),O=Mg(S,he);if(P&&O&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var j=nt.createRange();j.setStart(P.node,P.offset),Y.removeAllRanges(),At>he?(Y.addRange(j),Y.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),Y.addRange(j))}}}}for(nt=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&nt.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<nt.length;S++){var tt=nt[S];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}$c=!!Wd,tm=Wd=null}finally{ee=h,st.p=l,J.T=a}}e.current=i,Ke=2}}function $_(){if(Ke===2){Ke=0;var e=fs,i=co,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=st.p;st.p=2;var h=ee;ee|=4;try{A_(e,i.alternate,i)}finally{ee=h,st.p=l,J.T=a}}Ke=3}}function J_(){if(Ke===4||Ke===3){Ke=0,Zi();var e=fs,i=co,a=vr,l=L_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ke=5:(Ke=0,co=fs=null,Z_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(hs=null),Xs(a),i=i.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(pn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=J.T,h=st.p,st.p=2,J.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{J.T=i,st.p=h}}(vr&3)!==0&&Uc(),Bi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===jd?Nl++:(Nl=0,jd=e):Nl=0,Ol(0)}}function Z_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,fl(i)))}function Uc(){return X_(),$_(),J_(),W_()}function W_(){if(Ke!==5)return!1;var e=fs,i=Ud;Ud=0;var a=Xs(vr),l=J.T,h=st.p;try{st.p=32>a?32:a,J.T=null,a=zd,zd=null;var d=fs,_=vr;if(Ke=0,co=fs=null,vr=0,(ee&6)!==0)throw Error(s(331));var S=ee;if(ee|=4,V_(d.current),N_(d,d.current,_,a),ee=S,Ol(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(pn,d)}catch{}return!0}finally{st.p=h,J.T=l,Z_(e,i)}}function tv(e,i,a){i=hi(a,i),i=_d(e.stateNode,i,2),e=ss(e,i,2),e!==null&&(Oi(e,2),Bi(e))}function oe(e,i,a){if(e.tag===3)tv(e,e,a);else for(;i!==null;){if(i.tag===3){tv(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hs===null||!hs.has(l))){e=hi(a,e),a=e_(2),l=ss(i,a,2),l!==null&&(n_(a,l,i,e),Oi(l,2),Bi(l));break}}i=i.return}}function Hd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new ww;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(kd=!0,h.add(a),e=Cw.bind(null,e,i,a),i.then(e,e))}function Cw(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,de===e&&(Ft&a)===a&&(Ie===4||Ie===3&&(Ft&62914560)===Ft&&300>Pe()-Oc?(ee&2)===0&&ho(e,0):Pd|=a,uo===Ft&&(uo=0)),Bi(e)}function ev(e,i){i===0&&(i=tr()),e=aa(e,i),e!==null&&(Oi(e,i),Bi(e))}function Dw(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),ev(e,a)}function xw(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),ev(e,a)}function Nw(e,i){return Ni(e,i)}var zc=null,mo=null,Fd=!1,jc=!1,Gd=!1,ms=0;function Bi(e){e!==mo&&e.next===null&&(mo===null?zc=mo=e:mo=mo.next=e),jc=!0,Fd||(Fd=!0,Mw())}function Ol(e,i){if(!Gd&&jc){Gd=!0;do for(var a=!1,l=zc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-an(42|e)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,sv(l,d))}else d=Ft,d=Ne(l,l===de?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,sv(l,d));l=l.next}while(a);Gd=!1}}function Ow(){nv()}function nv(){jc=Fd=!1;var e=0;ms!==0&&Hw()&&(e=ms);for(var i=Pe(),a=null,l=zc;l!==null;){var h=l.next,d=iv(l,i);d===0?(l.next=null,a===null?zc=h:a.next=h,h===null&&(mo=a)):(a=l,(e!==0||(d&3)!==0)&&(jc=!0)),l=h}Ke!==0&&Ke!==5||Ol(e),ms!==0&&(ms=0)}function iv(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-an(d),S=1<<_,C=h[_];C===-1?((S&a)===0||(S&l)!==0)&&(h[_]=jr(S,i)):C<=i&&(e.expiredLanes|=S),d&=~S}if(i=de,a=Ft,a=Ne(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(ae===2||ae===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ur(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Ur(l),Xs(a)){case 2:case 8:a=Le;break;case 32:a=oi;break;case 268435456:a=Gs;break;default:a=oi}return l=rv.bind(null,e),a=Ni(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Ur(l),e.callbackPriority=2,e.callbackNode=null,2}function rv(e,i){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Uc()&&e.callbackNode!==a)return null;var l=Ft;return l=Ne(e,e===de?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(z_(e,l,i),iv(e,Pe()),e.callbackNode!=null&&e.callbackNode===a?rv.bind(null,e):null)}function sv(e,i){if(Uc())return null;z_(e,i,!0)}function Mw(){Gw(function(){(ee&6)!==0?Ni(ne,Ow):nv()})}function Qd(){if(ms===0){var e=Za;e===0&&(e=Wi,Wi<<=1,(Wi&261888)===0&&(Wi=256)),ms=e}return ms}function av(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ki(""+e)}function ov(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Vw(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=av((h[I]||null).action),_=l.submitter;_&&(i=(i=_[I]||null)?av(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ws("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ms!==0){var C=_?ov(h,_):new FormData(h);fd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(S.preventDefault(),C=_?ov(h,_):new FormData(h),fd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Yd=0;Yd<Df.length;Yd++){var Kd=Df[Yd],kw=Kd.toLowerCase(),Pw=Kd[0].toUpperCase()+Kd.slice(1);bi(kw,"on"+Pw)}bi(Ug,"onAnimationEnd"),bi(zg,"onAnimationIteration"),bi(jg,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(ZS,"onTransitionRun"),bi(WS,"onTransitionStart"),bi(tw,"onTransitionCancel"),bi(Bg,"onTransitionEnd"),An("onMouseEnter",["mouseout","mouseover"]),An("onMouseLeave",["mouseout","mouseover"]),An("onPointerEnter",["pointerout","pointerover"]),An("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function lv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],C=S.instance,H=S.currentTarget;if(S=S.listener,C!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=H;try{d(h)}catch(W){ec(W)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(S=l[_],C=S.instance,H=S.currentTarget,S=S.listener,C!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=H;try{d(h)}catch(W){ec(W)}h.currentTarget=null,d=C}}}}function Ht(e,i){var a=i[$];a===void 0&&(a=i[$]=new Set);var l=e+"__bubble";a.has(l)||(uv(i,e,2,!1),a.add(l))}function Xd(e,i,a){var l=0;i&&(l|=4),uv(a,e,l,i)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function $d(e){if(!e[Bc]){e[Bc]=!0,Vi.forEach(function(a){a!=="selectionchange"&&(Lw.has(a)||Xd(a,!1,e),Xd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Bc]||(i[Bc]=!0,Xd("selectionchange",!1,i))}}function uv(e,i,a,l){switch(Uv(i)){case 2:var h=hA;break;case 8:h=fA;break;default:h=hm}a=h.bind(null,i,a,e),h=void 0,!el||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Jd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=Kt(S),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue t}S=S.parentNode}}l=l.return}zu(function(){var H=d,W=za(a),nt=[];t:{var F=qg.get(e);if(F!==void 0){var Y=Ws,mt=e;switch(e){case"keypress":if(Zs(a)===0)break t;case"keydown":case"keyup":Y=Ku;break;case"focusin":mt="focus",Y=Xr;break;case"focusout":mt="blur",Y=Xr;break;case"beforeblur":case"afterblur":Y=Xr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=$u;break;case Ug:case zg:case jg:Y=qa;break;case Bg:Y=Ha;break;case"scroll":case"scrollend":Y=ju;break;case"wheel":Y=Zu;break;case"copy":case"cut":case"paste":Y=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=al;break;case"toggle":case"beforetoggle":Y=Jr}var At=(i&4)!==0,he=!At&&(e==="scroll"||e==="scrollend"),P=At?F!==null?F+"Capture":null:F;At=[];for(var O=H,j;O!==null;){var tt=O;if(j=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||j===null||P===null||(tt=On(O,P),tt!=null&&At.push(Vl(O,tt,j))),he)break;O=O.return}0<At.length&&(F=new Y(F,mt,null,a,W),nt.push({event:F,listeners:At}))}}if((i&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&a!==Ua&&(mt=a.relatedTarget||a.fromElement)&&(Kt(mt)||mt[G]))break t;if((Y||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(mt=a.relatedTarget||a.toElement,Y=H,mt=mt?Kt(mt):null,mt!==null&&(he=u(mt),At=mt.tag,mt!==he||At!==5&&At!==27&&At!==6)&&(mt=null)):(Y=null,mt=H),Y!==mt)){if(At=Bu,tt="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(At=al,tt="onPointerLeave",P="onPointerEnter",O="pointer"),he=Y==null?F:Ot(Y),j=mt==null?F:Ot(mt),F=new At(tt,O+"leave",Y,a,W),F.target=he,F.relatedTarget=j,tt=null,Kt(W)===H&&(At=new At(P,O+"enter",mt,a,W),At.target=j,At.relatedTarget=he,tt=At),he=tt,Y&&mt)e:{for(At=Uw,P=Y,O=mt,j=0,tt=P;tt;tt=At(tt))j++;tt=0;for(var Et=O;Et;Et=At(Et))tt++;for(;0<j-tt;)P=At(P),j--;for(;0<tt-j;)O=At(O),tt--;for(;j--;){if(P===O||O!==null&&P===O.alternate){At=P;break e}P=At(P),O=At(O)}At=null}else At=null;Y!==null&&cv(nt,F,Y,At,!1),mt!==null&&he!==null&&cv(nt,he,mt,At,!0)}}t:{if(F=H?Ot(H):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Wt=Ig;else if(Mn(F))if(Cg)Wt=XS;else{Wt=YS;var yt=QS}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Wo(H.elementType)&&(Wt=Ig):Wt=KS;if(Wt&&(Wt=Wt(e,H))){ia(nt,Wt,a,W);break t}yt&&yt(e,F,H),e==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&La(F,"number",F.value)}switch(yt=H?Ot(H):window,e){case"focusin":(Mn(yt)||yt.contentEditable==="true")&&(Fa=yt,Rf=H,ul=null);break;case"focusout":ul=Rf=Fa=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Pg(nt,a,W);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":Pg(nt,a,W)}var Ut;if(y)t:{switch(e){case"compositionstart":var Gt="onCompositionStart";break t;case"compositionend":Gt="onCompositionEnd";break t;case"compositionupdate":Gt="onCompositionUpdate";break t}Gt=void 0}else zt?re(e,a)&&(Gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Gt="onCompositionStart");Gt&&(z&&a.locale!=="ko"&&(zt||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&zt&&(Ut=Gr()):(Yn=W,ja="value"in Yn?Yn.value:Yn.textContent,zt=!0)),yt=qc(H,Gt),0<yt.length&&(Gt=new il(Gt,e,null,a,W),nt.push({event:Gt,listeners:yt}),Ut?Gt.data=Ut:(Ut=Ue(a),Ut!==null&&(Gt.data=Ut)))),(Ut=w?We(e,a):tn(e,a))&&(Gt=qc(H,"onBeforeInput"),0<Gt.length&&(yt=new il("onBeforeInput","beforeinput",null,a,W),nt.push({event:yt,listeners:Gt}),yt.data=Ut)),Vw(nt,e,H,a,W)}lv(nt,i)})}function Vl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function qc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=On(e,a),h!=null&&l.unshift(Vl(e,h,d)),h=On(e,i),h!=null&&l.push(Vl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Uw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cv(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,C=S.alternate,H=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||H===null||(C=H,h?(H=On(a,d),H!=null&&_.unshift(Vl(a,H,C))):h||(H=On(a,d),H!=null&&_.push(Vl(a,H,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var zw=/\r\n?/g,jw=/\u0000|\uFFFD/g;function hv(e){return(typeof e=="string"?e:""+e).replace(zw,`
`).replace(jw,"")}function fv(e,i){return i=hv(i),hv(e)===i}function ce(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ui(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ui(e,""+l);break;case"className":qr(e,"class",l);break;case"tabIndex":qr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(e,a,l);break;case"style":Lu(e,l,d);break;case"data":if(i!=="object"){qr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ki(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ce(e,i,"name",h.name,h,null),ce(e,i,"formEncType",h.formEncType,h,null),ce(e,i,"formMethod",h.formMethod,h,null),ce(e,i,"formTarget",h.formTarget,h,null)):(ce(e,i,"encType",h.encType,h,null),ce(e,i,"method",h.method,h,null),ce(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ki(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ze);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ki(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ht("beforetoggle",e),Ht("toggle",e),Br(e,"popover",l);break;case"xlinkActuate":li(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":li(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":li(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":li(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":li(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":li(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":li(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":li(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":li(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Br(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ef.get(a)||a,Br(e,a,l))}}function Zd(e,i,a,l,h,d){switch(a){case"style":Lu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ui(e,l):(typeof l=="number"||typeof l=="bigint")&&ui(e,""+l);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ze);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gn.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[I]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Br(e,a,l)}}}function cn(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",e),Ht("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ce(e,i,d,_,a,null)}}h&&ce(e,i,"srcSet",a.srcSet,a,null),l&&ce(e,i,"src",a.src,a,null);return;case"input":Ht("invalid",e);var S=d=_=h=null,C=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":_=W;break;case"checked":C=W;break;case"defaultChecked":H=W;break;case"value":d=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:ce(e,i,l,W,a,null)}}$s(e,d,S,C,H,_,h,!1);return;case"select":Ht("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:ce(e,i,h,S,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Zt(e,!!l,i,!1):a!=null&&Zt(e,!!l,a,!0);return;case"textarea":Ht("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ce(e,i,_,S,a,null)}Fr(e,l,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ce(e,i,C,l,a,null)}return;case"dialog":Ht("beforetoggle",e),Ht("toggle",e),Ht("cancel",e),Ht("close",e);break;case"iframe":case"object":Ht("load",e);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Ht(Ml[l],e);break;case"image":Ht("error",e),Ht("load",e);break;case"details":Ht("toggle",e);break;case"embed":case"source":case"link":Ht("error",e),Ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ce(e,i,H,l,a,null)}return;default:if(Wo(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Zd(e,i,W,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&ce(e,i,S,l,a,null))}function Bw(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,C=null,H=null,W=null;for(Y in a){var nt=a[Y];if(a.hasOwnProperty(Y)&&nt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=nt;default:l.hasOwnProperty(Y)||ce(e,i,Y,null,l,nt)}}for(var F in l){var Y=l[F];if(nt=a[F],l.hasOwnProperty(F)&&(Y!=null||nt!=null))switch(F){case"type":d=Y;break;case"name":h=Y;break;case"checked":H=Y;break;case"defaultChecked":W=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==nt&&ce(e,i,F,Y,l,nt)}}Hr(e,_,S,C,H,W,d,h);return;case"select":Y=_=S=F=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Y=C;default:l.hasOwnProperty(d)||ce(e,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==C&&ce(e,i,h,d,l,C)}i=S,a=_,l=Y,F!=null?Zt(e,!!a,F,!1):!!l!=!!a&&(i!=null?Zt(e,!!a,i,!0):Zt(e,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ce(e,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ce(e,i,_,h,l,d)}Js(e,F,Y);return;case"option":for(var mt in a)if(F=a[mt],a.hasOwnProperty(mt)&&F!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":e.selected=!1;break;default:ce(e,i,mt,null,l,F)}for(C in l)if(F=l[C],Y=a[C],l.hasOwnProperty(C)&&F!==Y&&(F!=null||Y!=null))switch(C){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:ce(e,i,C,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)F=a[At],a.hasOwnProperty(At)&&F!=null&&!l.hasOwnProperty(At)&&ce(e,i,At,null,l,F);for(H in l)if(F=l[H],Y=a[H],l.hasOwnProperty(H)&&F!==Y&&(F!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:ce(e,i,H,F,l,Y)}return;default:if(Wo(i)){for(var he in a)F=a[he],a.hasOwnProperty(he)&&F!==void 0&&!l.hasOwnProperty(he)&&Zd(e,i,he,void 0,l,F);for(W in l)F=l[W],Y=a[W],!l.hasOwnProperty(W)||F===Y||F===void 0&&Y===void 0||Zd(e,i,W,F,l,Y);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&ce(e,i,P,null,l,F);for(nt in l)F=l[nt],Y=a[nt],!l.hasOwnProperty(nt)||F===Y||F==null&&Y==null||ce(e,i,nt,F,l,Y)}function dv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&dv(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],H=C.startTime;if(H>S)break;var W=C.transferSize,nt=C.initiatorType;W&&dv(nt)&&(C=C.responseEnd,_+=W*(C<S?1:(S-H)/(C-H)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wd=null,tm=null;function Hc(e){return e.nodeType===9?e:e.ownerDocument}function mv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function em(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nm=null;function Hw(){var e=window.event;return e&&e.type==="popstate"?e===nm?!1:(nm=e,!0):(nm=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,Fw=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,Gw=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(e){return yv.resolve(null).then(e).catch(Qw)}:gv;function Qw(e){setTimeout(function(){throw e})}function ps(e){return e==="head"}function _v(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),_o(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")kl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,kl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[bt]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&kl(e.ownerDocument.body);a=h}while(a);_o(i)}function vv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function im(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),se(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Yw(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[bt])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=gi(e.nextSibling),e===null)break}return null}function Kw(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=gi(e.nextSibling),e===null))return null;return e}function Ev(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=gi(e.nextSibling),e===null))return null;return e}function rm(e){return e.data==="$?"||e.data==="$~"}function sm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Xw(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function gi(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var am=null;function Tv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return gi(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function Sv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function wv(e,i,a){switch(i=Hc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function kl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);se(e)}var yi=new Map,Av=new Set;function Fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Er=st.d;st.d={f:$w,r:Jw,D:Zw,C:Ww,L:tA,m:eA,X:iA,S:nA,M:rA};function $w(){var e=Er.f(),i=kc();return e||i}function Jw(e){var i=kt(e);i!==null&&i.tag===5&&i.type==="form"?By(i):Er.r(e)}var po=typeof document>"u"?null:document;function bv(e,i,a){var l=po;if(l&&typeof i=="string"&&i){var h=be(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Av.has(h)||(Av.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),cn(i,"link",e),ve(i),l.head.appendChild(i)))}}function Zw(e){Er.D(e),bv("dns-prefetch",e,null)}function Ww(e,i){Er.C(e,i),bv("preconnect",e,i)}function tA(e,i,a){Er.L(e,i,a);var l=po;if(l&&e&&i){var h='link[rel="preload"][as="'+be(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+be(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+be(a.imageSizes)+'"]')):h+='[href="'+be(e)+'"]';var d=h;switch(i){case"style":d=go(e);break;case"script":d=yo(e)}yi.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),yi.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Pl(d))||i==="script"&&l.querySelector(Ll(d))||(i=l.createElement("link"),cn(i,"link",e),ve(i),l.head.appendChild(i)))}}function eA(e,i){Er.m(e,i);var a=po;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+be(l)+'"][href="'+be(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=yo(e)}if(!yi.has(d)&&(e=T({rel:"modulepreload",href:e},i),yi.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(d)))return}l=a.createElement("link"),cn(l,"link",e),ve(l),a.head.appendChild(l)}}}function nA(e,i,a){Er.S(e,i,a);var l=po;if(l&&e){var h=Ae(l).hoistableStyles,d=go(e);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Pl(d)))S.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=yi.get(d))&&om(e,a);var C=_=l.createElement("link");ve(C),cn(C,"link",e),C._p=new Promise(function(H,W){C.onload=H,C.onerror=W}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Gc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function iA(e,i){Er.X(e,i);var a=po;if(a&&e){var l=Ae(a).hoistableScripts,h=yo(e),d=l.get(h);d||(d=a.querySelector(Ll(h)),d||(e=T({src:e,async:!0},i),(i=yi.get(h))&&lm(e,i),d=a.createElement("script"),ve(d),cn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function rA(e,i){Er.M(e,i);var a=po;if(a&&e){var l=Ae(a).hoistableScripts,h=yo(e),d=l.get(h);d||(d=a.querySelector(Ll(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=yi.get(h))&&lm(e,i),d=a.createElement("script"),ve(d),cn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Rv(e,i,a,l){var h=(h=Rt.current)?Fc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=go(a.href),a=Ae(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=go(a.href);var d=Ae(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Pl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),yi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},yi.set(e,a),d||sA(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=yo(a),a=Ae(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function go(e){return'href="'+be(e)+'"'}function Pl(e){return'link[rel="stylesheet"]['+e+"]"}function Iv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function sA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),cn(i,"link",a),ve(i),e.head.appendChild(i))}function yo(e){return'[src="'+be(e)+'"]'}function Ll(e){return"script[async]"+e}function Cv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+be(a.href)+'"]');if(l)return i.instance=l,ve(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ve(l),cn(l,"style",h),Gc(l,a.precedence,e),i.instance=l;case"stylesheet":h=go(a.href);var d=e.querySelector(Pl(h));if(d)return i.state.loading|=4,i.instance=d,ve(d),d;l=Iv(a),(h=yi.get(h))&&om(l,h),d=(e.ownerDocument||e).createElement("link"),ve(d);var _=d;return _._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),cn(d,"link",l),i.state.loading|=4,Gc(d,a.precedence,e),i.instance=d;case"script":return d=yo(a.src),(h=e.querySelector(Ll(d)))?(i.instance=h,ve(h),h):(l=a,(h=yi.get(d))&&(l=T({},a),lm(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),cn(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Gc(l,a.precedence,e));return i.instance}function Gc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function om(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function lm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Qc=null;function Dv(e,i,a){if(Qc===null){var l=new Map,h=Qc=new Map;h.set(a,l)}else h=Qc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[bt]||d[ie]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function xv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function aA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Nv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function oA(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=go(l.href),d=i.querySelector(Pl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Yc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,ve(d);return}d=i.ownerDocument||i,l=Iv(l),(h=yi.get(h))&&om(l,h),d=d.createElement("link"),ve(d);var _=d;_._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),cn(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Yc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var um=0;function lA(e,i){return e.stylesheets&&e.count===0&&Xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&um===0&&(um=62500*qw());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>um?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kc=null;function Xc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kc=new Map,i.forEach(uA,e),Kc=null,Yc.call(e))}function uA(e,i){if(!(i.state.loading&4)){var a=Kc.get(e);if(a)var l=a.get(null);else{a=new Map,Kc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Ul={$$typeof:it,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function cA(e,i,a,l,h,d,_,S,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Ov(e,i,a,l,h,d,_,S,C,H,W,nt){return e=new cA(e,i,a,_,C,H,W,nt,S),i=1,d===!0&&(i|=24),d=Xn(3,null,null,i),e.current=d,d.stateNode=e,i=qf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Qf(d),e}function Mv(e){return e?(e=Ya,e):Ya}function Vv(e,i,a,l,h,d){h=Mv(h),l.context===null?l.context=h:l.pendingContext=h,l=rs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ss(e,l,i),a!==null&&(Un(a,e,i),gl(a,e,i))}function kv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function cm(e,i){kv(e,i),(e=e.alternate)&&kv(e,i)}function Pv(e){if(e.tag===13||e.tag===31){var i=aa(e,67108864);i!==null&&Un(i,e,67108864),cm(e,67108864)}}function Lv(e){if(e.tag===13||e.tag===31){var i=ti();i=Ks(i);var a=aa(e,i);a!==null&&Un(a,e,i),cm(e,i)}}var $c=!0;function hA(e,i,a,l){var h=J.T;J.T=null;var d=st.p;try{st.p=2,hm(e,i,a,l)}finally{st.p=d,J.T=h}}function fA(e,i,a,l){var h=J.T;J.T=null;var d=st.p;try{st.p=8,hm(e,i,a,l)}finally{st.p=d,J.T=h}}function hm(e,i,a,l){if($c){var h=fm(l);if(h===null)Jd(e,i,l,Jc,a),zv(e,l);else if(mA(h,e,i,a,l))l.stopPropagation();else if(zv(e,l),i&4&&-1<dA.indexOf(e)){for(;h!==null;){var d=kt(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Je(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var C=1<<31-an(_);S.entanglements[1]|=C,_&=~C}Bi(d),(ee&6)===0&&(Mc=Pe()+500,Ol(0))}}break;case 31:case 13:S=aa(d,2),S!==null&&Un(S,d,2),kc(),cm(d,2)}if(d=fm(l),d===null&&Jd(e,i,l,Jc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Jd(e,i,l,null,a)}}function fm(e){return e=za(e),dm(e)}var Jc=null;function dm(e){if(Jc=null,e=Kt(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Jc=e,null}function Uv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ai()){case ne:return 2;case Le:return 8;case oi:case zr:return 32;case Gs:return 268435456;default:return 32}default:return 32}}var mm=!1,gs=null,ys=null,_s=null,zl=new Map,jl=new Map,vs=[],dA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zv(e,i){switch(e){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(i.pointerId)}}function Bl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=kt(i),i!==null&&Pv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function mA(e,i,a,l,h){switch(i){case"focusin":return gs=Bl(gs,e,i,a,l,h),!0;case"dragenter":return ys=Bl(ys,e,i,a,l,h),!0;case"mouseover":return _s=Bl(_s,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return zl.set(d,Bl(zl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,jl.set(d,Bl(jl.get(d)||null,e,i,a,l,h)),!0}return!1}function jv(e){var i=Kt(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Va(e.priority,function(){Lv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Va(e.priority,function(){Lv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=fm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ua=l,a.target.dispatchEvent(l),Ua=null}else return i=kt(a),i!==null&&Pv(i),e.blockedOn=a,!1;i.shift()}return!0}function Bv(e,i,a){Zc(e)&&a.delete(i)}function pA(){mm=!1,gs!==null&&Zc(gs)&&(gs=null),ys!==null&&Zc(ys)&&(ys=null),_s!==null&&Zc(_s)&&(_s=null),zl.forEach(Bv),jl.forEach(Bv)}function Wc(e,i){e.blockedOn===i&&(e.blockedOn=null,mm||(mm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pA)))}var th=null;function qv(e){th!==e&&(th=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){th===e&&(th=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var d=kt(a);d!==null&&(e.splice(i,3),i-=3,fd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function _o(e){function i(C){return Wc(C,e)}gs!==null&&Wc(gs,e),ys!==null&&Wc(ys,e),_s!==null&&Wc(_s,e),zl.forEach(i),jl.forEach(i);for(var a=0;a<vs.length;a++){var l=vs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<vs.length&&(a=vs[0],a.blockedOn===null);)jv(a),a.blockedOn===null&&vs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[I]||null;if(typeof d=="function")_||qv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[I]||null)S=_.formAction;else if(dm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),qv(a)}}}function Hv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function pm(e){this._internalRoot=e}eh.prototype.render=pm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=ti();Vv(a,l,e,i,null,null)},eh.prototype.unmount=pm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Vv(e.current,2,null,e,null,null),kc(),i[G]=null}};function eh(e){this._internalRoot=e}eh.prototype.unstable_scheduleHydration=function(e){if(e){var i=wi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<vs.length&&i!==0&&i<vs[a].priority;a++);vs.splice(a,0,e),a===0&&jv(e)}};var Fv=t.version;if(Fv!=="19.2.3")throw Error(s(527,Fv,"19.2.3"));st.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var gA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{pn=nh.inject(gA),xe=nh}catch{}}return Hl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Jy,d=Zy,_=Wy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Ov(e,1,!1,null,null,a,l,null,h,d,_,Hv),e[G]=i.current,$d(e),new pm(i)},Hl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Jy,_=Zy,S=Wy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=Ov(e,1,!0,i,a??null,l,h,C,d,_,S,Hv),i.context=Mv(null),a=i.current,l=ti(),l=Ks(l),h=rs(l),h.callback=null,ss(a,h,l),a=l,i.current.lanes=a,Oi(i,a),Bi(i),e[G]=i.current,$d(e),new eh(i)},Hl.version="19.2.3",Hl}var t0;function CA(){if(t0)return _m.exports;t0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_m.exports=IA(),_m.exports}var DA=CA();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var e0="popstate";function xA(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=Ia(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),qm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:su(u))}function s(o,u){si(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return OA(t,n,s,r)}function Te(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function si(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function NA(){return Math.random().toString(36).substring(2,10)}function n0(r,t){return{usr:r.state,key:r.key,idx:t}}function qm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ia(t):t,state:n,key:t&&t.key||s||NA()}}function su({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ia(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function OA(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let q=E(),at=q==null?null:q-g;g=q,p&&p({action:m,location:X.location,delta:at})}function A(q,at){m="PUSH";let ut=qm(X.location,q,at);n&&n(ut,q),g=E()+1;let it=n0(ut,g),Tt=X.createHref(ut);try{f.pushState(it,"",Tt)}catch(Vt){if(Vt instanceof DOMException&&Vt.name==="DataCloneError")throw Vt;o.location.assign(Tt)}u&&p&&p({action:m,location:X.location,delta:1})}function V(q,at){m="REPLACE";let ut=qm(X.location,q,at);n&&n(ut,q),g=E();let it=n0(ut,g),Tt=X.createHref(ut);f.replaceState(it,"",Tt),u&&p&&p({action:m,location:X.location,delta:0})}function B(q){return MA(q)}let X={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(e0,T),p=q,()=>{o.removeEventListener(e0,T),p=null}},createHref(q){return t(o,q)},createURL:B,encodeLocation(q){let at=B(q);return{pathname:at.pathname,search:at.search,hash:at.hash}},push:A,replace:V,go(q){return f.go(q)}};return X}function MA(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Te(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:su(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function jE(r,t,n="/"){return VA(r,t,n,!1)}function VA(r,t,n,s){let o=typeof t=="string"?Ia(t):t,u=Cr(o.pathname||"/",n);if(u==null)return null;let f=BE(r);kA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=QA(u);m=FA(f[p],g,s)}return m}function BE(r,t=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;Te(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=Rr([s,E.relativePath]),A=n.concat(E);f.children&&f.children.length>0&&(Te(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),BE(f.children,t,A,T,p)),!(f.path==null&&!f.index)&&t.push({path:T,score:qA(T,f.index),routesMeta:A})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let g of qE(f.path))u(f,m,!0,g)}),t}function qE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=qE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function kA(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:HA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var PA=/^:[\w-]+$/,LA=3,UA=2,zA=1,jA=10,BA=-2,i0=r=>r==="*";function qA(r,t){let n=r.split("/"),s=n.length;return n.some(i0)&&(s+=BA),t&&(s+=UA),n.filter(o=>!i0(o)).reduce((o,u)=>o+(PA.test(u)?LA:u===""?zA:jA),s)}function HA(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function FA(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:Rr([u,T.pathname]),pathnameBase:$A(Rr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=Rr([u,T.pathnameBase]))}return f}function Ah(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=GA(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},A)=>{if(E==="*"){let B=m[A]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const V=m[A];return T&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function GA(r,t=!1,n=!0){si(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function QA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return si(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Cr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var HE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YA=r=>HE.test(r);function KA(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ia(r):r,u;if(n)if(YA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),si(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=r0(n.substring(1),"/"):u=r0(n,t)}else u=t;return{pathname:u,search:JA(s),hash:ZA(o)}}function r0(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XA(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function FE(r){let t=XA(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function GE(r,t,n,s=!1){let o;typeof r=="string"?o=Ia(r):(o={...r},Te(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),Te(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),Te(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=t.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?t[T]:"/"}let p=KA(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Rr=r=>r.join("/").replace(/\/\/+/g,"/"),$A=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),JA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ZA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,WA=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function tb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function eb(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var QE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function YE(r,t){let n=r;if(typeof n!="string"||!HE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(QE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Cr(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{si(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KE=["POST","PUT","PATCH","DELETE"];new Set(KE);var nb=["GET",...KE];new Set(nb);var Po=L.createContext(null);Po.displayName="DataRouter";var Kh=L.createContext(null);Kh.displayName="DataRouterState";var ib=L.createContext(!1),XE=L.createContext({isTransitioning:!1});XE.displayName="ViewTransition";var rb=L.createContext(new Map);rb.displayName="Fetchers";var sb=L.createContext(null);sb.displayName="Await";var vi=L.createContext(null);vi.displayName="Navigation";var mu=L.createContext(null);mu.displayName="Location";var Vr=L.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var Ep=L.createContext(null);Ep.displayName="RouteError";var $E="REACT_ROUTER_ERROR",ab="REDIRECT",ob="ROUTE_ERROR_RESPONSE";function lb(r){if(r.startsWith(`${$E}:${ab}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function ub(r){if(r.startsWith(`${$E}:${ob}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new WA(t.status,t.statusText,t.data)}catch{}}function cb(r,{relative:t}={}){Te(pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(vi),{hash:o,pathname:u,search:f}=gu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Rr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function pu(){return L.useContext(mu)!=null}function qs(){return Te(pu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(mu).location}var JE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZE(r){L.useContext(vi).static||L.useLayoutEffect(r)}function Tp(){let{isDataRoute:r}=L.useContext(Vr);return r?wb():hb()}function hb(){Te(pu(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Po),{basename:t,navigator:n}=L.useContext(vi),{matches:s}=L.useContext(Vr),{pathname:o}=qs(),u=JSON.stringify(FE(s)),f=L.useRef(!1);return ZE(()=>{f.current=!0}),L.useCallback((p,g={})=>{if(si(f.current,JE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=GE(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Rr([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}L.createContext(null);function gu(r,{relative:t}={}){let{matches:n}=L.useContext(Vr),{pathname:s}=qs(),o=JSON.stringify(FE(n));return L.useMemo(()=>GE(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function fb(r,t){return WE(r,t)}function WE(r,t,n,s,o){var ut;Te(pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(vi),{matches:f}=L.useContext(Vr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let it=T&&T.path||"";eT(g,!T||it.endsWith("*")||it.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${it}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${it}"> to <Route path="${it==="/"?"*":`${it}/*`}">.`)}let A=qs(),V;if(t){let it=typeof t=="string"?Ia(t):t;Te(E==="/"||((ut=it.pathname)==null?void 0:ut.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${it.pathname}" was given in the \`location\` prop.`),V=it}else V=A;let B=V.pathname||"/",X=B;if(E!=="/"){let it=E.replace(/^\//,"").split("/");X="/"+B.replace(/^\//,"").split("/").slice(it.length).join("/")}let q=jE(r,{pathname:X});si(T||q!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),si(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let at=yb(q&&q.map(it=>Object.assign({},it,{params:Object.assign({},p,it.params),pathname:Rr([E,u.encodeLocation?u.encodeLocation(it.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathname]),pathnameBase:it.pathnameBase==="/"?E:Rr([E,u.encodeLocation?u.encodeLocation(it.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathnameBase])})),f,n,s,o);return t&&at?L.createElement(mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},at):at}function db(){let r=Sb(),t=tb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),n?L.createElement("pre",{style:o},n):null,f)}var mb=L.createElement(db,null),tT=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=ub(r.digest);n&&(r=n)}let t=r!==void 0?L.createElement(Vr.Provider,{value:this.props.routeContext},L.createElement(Ep.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?L.createElement(pb,{error:r},t):t}};tT.contextType=ib;var wm=new WeakMap;function pb({children:r,error:t}){let{basename:n}=L.useContext(vi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=lb(t.digest);if(s){let o=wm.get(t);if(o)throw o;let u=YE(s.location,n);if(QE&&!wm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw wm.set(t,f),f}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function gb({routeContext:r,match:t,children:n}){let s=L.useContext(Po);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Vr.Provider,{value:r},n)}function yb(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);Te(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:A,errors:V}=n,B=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!V||V[T.route.id]===void 0);if(T.route.lazy||B){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{var A,V;s(E,{location:n.location,params:((V=(A=n.matches)==null?void 0:A[0])==null?void 0:V.params)??{},unstable_pattern:eb(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,A)=>{let V,B=!1,X=null,q=null;n&&(V=f&&T.route.id?f[T.route.id]:void 0,X=T.route.errorElement||mb,m&&(p<0&&A===0?(eT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,q=null):p===A&&(B=!0,q=T.route.hydrateFallbackElement||null)));let at=t.concat(u.slice(0,A+1)),ut=()=>{let it;return V?it=X:B?it=q:T.route.Component?it=L.createElement(T.route.Component,null):T.route.element?it=T.route.element:it=E,L.createElement(gb,{match:T,routeContext:{outlet:E,matches:at,isDataRoute:n!=null},children:it})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?L.createElement(tT,{location:n.location,revalidation:n.revalidation,component:X,error:V,children:ut(),routeContext:{outlet:null,matches:at,isDataRoute:!0},onError:g}):ut()},null)}function Sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _b(r){let t=L.useContext(Po);return Te(t,Sp(r)),t}function vb(r){let t=L.useContext(Kh);return Te(t,Sp(r)),t}function Eb(r){let t=L.useContext(Vr);return Te(t,Sp(r)),t}function wp(r){let t=Eb(r),n=t.matches[t.matches.length-1];return Te(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Tb(){return wp("useRouteId")}function Sb(){var s;let r=L.useContext(Ep),t=vb("useRouteError"),n=wp("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function wb(){let{router:r}=_b("useNavigate"),t=wp("useNavigate"),n=L.useRef(!1);return ZE(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{si(n.current,JE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var s0={};function eT(r,t,n){!t&&!s0[r]&&(s0[r]=!0,si(!1,n))}L.memo(Ab);function Ab({routes:r,future:t,state:n,onError:s}){return WE(r,void 0,n,s,t)}function Hm(r){Te(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bb({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Te(!pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Ia(n));let{pathname:g="/",search:E="",hash:T="",state:A=null,key:V="default"}=n,B=L.useMemo(()=>{let X=Cr(g,m);return X==null?null:{location:{pathname:X,search:E,hash:T,state:A,key:V},navigationType:s}},[m,g,E,T,A,V,s]);return si(B!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:L.createElement(vi.Provider,{value:p},L.createElement(mu.Provider,{children:t,value:B}))}function Rb({children:r,location:t}){return fb(Fm(r),t)}function Fm(r,t=[]){let n=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let u=[...t,o];if(s.type===L.Fragment){n.push.apply(n,Fm(s.props.children,u));return}Te(s.type===Hm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Te(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Fm(s.props.children,u)),n.push(f)}),n}var fh="get",dh="application/x-www-form-urlencoded";function Xh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Ib(r){return Xh(r)&&r.tagName.toLowerCase()==="button"}function Cb(r){return Xh(r)&&r.tagName.toLowerCase()==="form"}function Db(r){return Xh(r)&&r.tagName.toLowerCase()==="input"}function xb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Nb(r,t){return r.button===0&&(!t||t==="_self")&&!xb(r)}function Gm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((t,n)=>{let s=r[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function Ob(r,t){let n=Gm(r);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var ih=null;function Mb(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var Vb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(r){return r!=null&&!Vb.has(r)?(si(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):r}function kb(r,t){let n,s,o,u,f;if(Cb(r)){let m=r.getAttribute("action");s=m?Cr(m,t):null,n=r.getAttribute("method")||fh,o=Am(r.getAttribute("enctype"))||dh,u=new FormData(r)}else if(Ib(r)||Db(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Cr(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||fh,o=Am(r.getAttribute("formenctype"))||Am(m.getAttribute("enctype"))||dh,u=new FormData(m,r),!Mb()){let{name:g,type:E,value:T}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(Xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fh,s=null,o=dh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ap(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Pb(r,t,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&Cr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Lb(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ub(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function zb(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await Lb(u,n);return f.links?f.links():[]}return[]}));return Hb(s.flat(1).filter(Ub).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function a0(r,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function jb(r,t,{includeHydrateFallback:n}={}){return Bb(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Bb(r){return[...new Set(r)]}function qb(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function Hb(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(qb(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function nT(){let r=L.useContext(Po);return Ap(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Fb(){let r=L.useContext(Kh);return Ap(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var bp=L.createContext(void 0);bp.displayName="FrameworkContext";function iT(){let r=L.useContext(bp);return Ap(r,"You must render this element inside a <HydratedRouter> element"),r}function Gb(r,t){let n=L.useContext(bp),[s,o]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=t,A=L.useRef(null);L.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=at=>{at.forEach(ut=>{f(ut.isIntersecting)})},q=new IntersectionObserver(X,{threshold:.5});return A.current&&q.observe(A.current),()=>{q.disconnect()}}},[r]),L.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let V=()=>{o(!0)},B=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Fl(m,V),onBlur:Fl(p,B),onMouseEnter:Fl(g,V),onMouseLeave:Fl(E,B),onTouchStart:Fl(T,V)}]:[!1,A,{}]}function Fl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Qb({page:r,...t}){let{router:n}=nT(),s=L.useMemo(()=>jE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(Kb,{page:r,matches:s,...t}):null}function Yb(r){let{manifest:t,routeModules:n}=iT(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return zb(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Kb({page:r,matches:t,...n}){let s=qs(),{future:o,manifest:u,routeModules:f}=iT(),{basename:m}=nT(),{loaderData:p,matches:g}=Fb(),E=L.useMemo(()=>a0(r,t,g,u,s,"data"),[r,t,g,u,s]),T=L.useMemo(()=>a0(r,t,g,u,s,"assets"),[r,t,g,u,s]),A=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let X=new Set,q=!1;if(t.forEach(ut=>{var Tt;let it=u.routes[ut.route.id];!it||!it.hasLoader||(!E.some(Vt=>Vt.route.id===ut.route.id)&&ut.route.id in p&&((Tt=f[ut.route.id])!=null&&Tt.shouldRevalidate)||it.hasClientLoader?q=!0:X.add(ut.route.id))}),X.size===0)return[];let at=Pb(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return q&&X.size>0&&at.searchParams.set("_routes",t.filter(ut=>X.has(ut.route.id)).map(ut=>ut.route.id).join(",")),[at.pathname+at.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,t,r,f]),V=L.useMemo(()=>jb(T,u),[T,u]),B=Yb(T);return L.createElement(L.Fragment,null,A.map(X=>L.createElement("link",{key:X,rel:"prefetch",as:"fetch",href:X,...n})),V.map(X=>L.createElement("link",{key:X,rel:"modulepreload",href:X,...n})),B.map(({key:X,link:q})=>L.createElement("link",{key:X,nonce:n.nonce,...q})))}function Xb(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var $b=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$b&&(window.__reactRouterVersion="7.12.0")}catch{}function Jb({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=L.useRef();o.current==null&&(o.current=xA({window:s,v5Compat:!0}));let u=o.current,[f,m]=L.useState({action:u.action,location:u.location}),p=L.useCallback(g=>{n===!1?m(g):L.startTransition(()=>m(g))},[n]);return L.useLayoutEffect(()=>u.listen(p),[u,p]),L.createElement(bb,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var rT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sT=L.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...V},B){let{basename:X,unstable_useTransitions:q}=L.useContext(vi),at=typeof g=="string"&&rT.test(g),ut=YE(g,X);g=ut.to;let it=cb(g,{relative:o}),[Tt,Vt,wt]=Gb(s,V),x=eR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:q});function b(M){t&&t(M),M.defaultPrevented||x(M)}let R=L.createElement("a",{...V,...wt,href:ut.absoluteURL||it,onClick:ut.isExternal||u?t:b,ref:Xb(B,Vt),target:p,"data-discover":!at&&n==="render"?"true":void 0});return Tt&&!at?L.createElement(L.Fragment,null,R,L.createElement(Qb,{page:it})):R});sT.displayName="Link";var Zb=L.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=gu(f,{relative:g.relative}),A=qs(),V=L.useContext(Kh),{navigator:B,basename:X}=L.useContext(vi),q=V!=null&&oR(T)&&m===!0,at=B.encodeLocation?B.encodeLocation(T).pathname:T.pathname,ut=A.pathname,it=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(ut=ut.toLowerCase(),it=it?it.toLowerCase():null,at=at.toLowerCase()),it&&X&&(it=Cr(it,X)||it);const Tt=at!=="/"&&at.endsWith("/")?at.length-1:at.length;let Vt=ut===at||!o&&ut.startsWith(at)&&ut.charAt(Tt)==="/",wt=it!=null&&(it===at||!o&&it.startsWith(at)&&it.charAt(at.length)==="/"),x={isActive:Vt,isPending:wt,isTransitioning:q},b=Vt?t:void 0,R;typeof s=="function"?R=s(x):R=[s,Vt?"active":null,wt?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(x):u;return L.createElement(sT,{...g,"aria-current":b,className:R,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(x):p)});Zb.displayName="NavLink";var Wb=L.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=fh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...V},B)=>{let{unstable_useTransitions:X}=L.useContext(vi),q=sR(),at=aR(m,{relative:g}),ut=f.toLowerCase()==="get"?"get":"post",it=typeof m=="string"&&rT.test(m),Tt=Vt=>{if(p&&p(Vt),Vt.defaultPrevented)return;Vt.preventDefault();let wt=Vt.nativeEvent.submitter,x=(wt==null?void 0:wt.getAttribute("formmethod"))||f,b=()=>q(wt||Vt.currentTarget,{fetcherKey:t,method:x,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A});X&&n!==!1?L.startTransition(()=>b()):b()};return L.createElement("form",{ref:B,method:ut,action:at,onSubmit:s?p:Tt,...V,"data-discover":!it&&r==="render"?"true":void 0})});Wb.displayName="Form";function tR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aT(r){let t=L.useContext(Po);return Te(t,tR(r)),t}function eR(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Tp(),E=qs(),T=gu(r,{relative:u});return L.useCallback(A=>{if(Nb(A,t)){A.preventDefault();let V=n!==void 0?n:su(E)===su(T),B=()=>g(r,{replace:V,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?L.startTransition(()=>B()):B()}},[E,g,T,n,s,t,r,o,u,f,m,p])}function nR(r){si(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=L.useRef(Gm(r)),n=L.useRef(!1),s=qs(),o=L.useMemo(()=>Ob(s.search,n.current?null:t.current),[s.search]),u=Tp(),f=L.useCallback((m,p)=>{const g=Gm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var iR=0,rR=()=>`__${String(++iR)}__`;function sR(){let{router:r}=aT("useSubmit"),{basename:t}=L.useContext(vi),n=Tb(),s=r.fetch,o=r.navigate;return L.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=kb(u,t);if(f.navigate===!1){let A=f.fetcherKey||rR();await s(A,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function aR(r,{relative:t}={}){let{basename:n}=L.useContext(vi),s=L.useContext(Vr);Te(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...gu(r||".",{relative:t})},f=qs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Rr([n,u.pathname])),su(u)}function oR(r,{relative:t}={}){let n=L.useContext(XE);Te(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=aT("useViewTransitionState"),o=gu(r,{relative:t});if(!n.isTransitioning)return!1;let u=Cr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Cr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ah(o.pathname,f)!=null||Ah(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oT=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=L.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>L.createElement("svg",{ref:p,...uR,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:oT("lucide",o),...m},[...f.map(([g,E])=>L.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=(r,t)=>{const n=L.forwardRef(({className:s,...o},u)=>L.createElement(cR,{ref:u,iconNode:t,className:oT(`lucide-${lR(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=Sn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=Sn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=Sn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=Sn("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=Sn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=Sn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=Sn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=Sn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=Sn("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Sn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Sn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=Sn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=Sn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=Sn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=Sn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=Sn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ER=()=>{};var o0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},TR=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},fT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(A=64)),s.push(n[E],n[T],n[A],n[V])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(hT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):TR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new SR;const A=u<<2|m>>4;if(s.push(A),g!==64){const V=m<<4&240|g>>2;if(s.push(V),T!==64){const B=g<<6&192|T;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class SR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wR=function(r){const t=hT(r);return fT.encodeByteArray(t,!0)},Rh=function(r){return wR(r).replace(/\./g,"")},dT=function(r){try{return fT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=()=>AR().__FIREBASE_DEFAULTS__,RR=()=>{if(typeof process>"u"||typeof o0>"u")return;const r=o0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},IR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&dT(r[1]);return t&&JSON.parse(t)},$h=()=>{try{return ER()||bR()||RR()||IR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mT=r=>{var t,n;return(n=(t=$h())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},CR=r=>{const t=mT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},pT=()=>{var r;return(r=$h())===null||r===void 0?void 0:r.config},gT=r=>{var t;return(t=$h())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Rh(JSON.stringify(n)),Rh(JSON.stringify(f)),""].join(".")}const Zl={};function NR(){const r={prod:[],emulator:[]};for(const t of Object.keys(Zl))Zl[t]?r.emulator.push(t):r.prod.push(t);return r}function OR(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let l0=!1;function _T(r,t){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||Zl[r]===t||Zl[r]||l0)return;Zl[r]=t;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=NR().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{l0=!0,f()},A}function E(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=OR(s),V=n("text"),B=document.getElementById(V)||document.createElement("span"),X=n("learnmore"),q=document.getElementById(X)||document.createElement("a"),at=n("preprendIcon"),ut=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const it=A.element;m(it),E(q,X);const Tt=g();p(ut,at),it.append(ut,B,q,Tt),document.body.appendChild(it)}u?(B.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function VR(){var r;const t=(r=$h())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function LR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UR(){const r=Tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function zR(){return!VR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jR(){try{return typeof indexedDB=="object"}catch{return!1}}function BR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="FirebaseError";class kr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=qR,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?HR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new kr(o,m,s)}}function HR(r,t){return r.replace(FR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const FR=/\{\$([^}]+)}/g;function GR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Vs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(u0(u)&&u0(f)){if(!Vs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function u0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function QR(r,t){const n=new YR(r,t);return n.subscribe.bind(n)}class YR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");KR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=bm),o.error===void 0&&(o.error=bm),o.complete===void 0&&(o.complete=bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(r){return r&&r._delegate?r._delegate:r}class wa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new DR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(JR(t))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=va){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=va){return this.instances.has(t)}getOptions(t=va){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$R(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=va){return this.component?this.component.multipleInstances?t:va:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $R(r){return r===va?void 0:r}function JR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new XR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qt||(Qt={}));const WR={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},t2=Qt.INFO,e2={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},n2=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=e2[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rp{constructor(t){this.name=t,this._logLevel=t2,this._logHandler=n2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?WR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...t),this._logHandler(this,Qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...t),this._logHandler(this,Qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...t),this._logHandler(this,Qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...t),this._logHandler(this,Qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...t),this._logHandler(this,Qt.ERROR,...t)}}const i2=(r,t)=>t.some(n=>r instanceof n);let c0,h0;function r2(){return c0||(c0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s2(){return h0||(h0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vT=new WeakMap,Ym=new WeakMap,ET=new WeakMap,Rm=new WeakMap,Ip=new WeakMap;function a2(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Is(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&vT.set(n,r)}).catch(()=>{}),Ip.set(t,r),t}function o2(r){if(Ym.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Ym.set(r,t)}let Km={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Ym.get(r);if(t==="objectStoreNames")return r.objectStoreNames||ET.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function l2(r){Km=r(Km)}function u2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Im(this),t,...n);return ET.set(s,t.sort?t.sort():[t]),Is(s)}:s2().includes(r)?function(...t){return r.apply(Im(this),t),Is(vT.get(this))}:function(...t){return Is(r.apply(Im(this),t))}}function c2(r){return typeof r=="function"?u2(r):(r instanceof IDBTransaction&&o2(r),i2(r,r2())?new Proxy(r,Km):r)}function Is(r){if(r instanceof IDBRequest)return a2(r);if(Rm.has(r))return Rm.get(r);const t=c2(r);return t!==r&&(Rm.set(r,t),Ip.set(t,r)),t}const Im=r=>Ip.get(r);function h2(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Is(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Is(f.result),p.oldVersion,p.newVersion,Is(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const f2=["get","getKey","getAll","getAllKeys","count"],d2=["put","add","delete","clear"],Cm=new Map;function f0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Cm.get(t))return Cm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=d2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||f2.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(t,u),u}l2(r=>({...r,get:(t,n,s)=>f0(t,n)||r.get(t,n,s),has:(t,n)=>!!f0(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function p2(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Xm="@firebase/app",d0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Rp("@firebase/app"),g2="@firebase/app-compat",y2="@firebase/analytics-compat",_2="@firebase/analytics",v2="@firebase/app-check-compat",E2="@firebase/app-check",T2="@firebase/auth",S2="@firebase/auth-compat",w2="@firebase/database",A2="@firebase/data-connect",b2="@firebase/database-compat",R2="@firebase/functions",I2="@firebase/functions-compat",C2="@firebase/installations",D2="@firebase/installations-compat",x2="@firebase/messaging",N2="@firebase/messaging-compat",O2="@firebase/performance",M2="@firebase/performance-compat",V2="@firebase/remote-config",k2="@firebase/remote-config-compat",P2="@firebase/storage",L2="@firebase/storage-compat",U2="@firebase/firestore",z2="@firebase/ai",j2="@firebase/firestore-compat",B2="firebase",q2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="[DEFAULT]",H2={[Xm]:"fire-core",[g2]:"fire-core-compat",[_2]:"fire-analytics",[y2]:"fire-analytics-compat",[E2]:"fire-app-check",[v2]:"fire-app-check-compat",[T2]:"fire-auth",[S2]:"fire-auth-compat",[w2]:"fire-rtdb",[A2]:"fire-data-connect",[b2]:"fire-rtdb-compat",[R2]:"fire-fn",[I2]:"fire-fn-compat",[C2]:"fire-iid",[D2]:"fire-iid-compat",[x2]:"fire-fcm",[N2]:"fire-fcm-compat",[O2]:"fire-perf",[M2]:"fire-perf-compat",[V2]:"fire-rc",[k2]:"fire-rc-compat",[P2]:"fire-gcs",[L2]:"fire-gcs-compat",[U2]:"fire-fst",[j2]:"fire-fst-compat",[z2]:"fire-vertex","fire-js":"fire-js",[B2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map,F2=new Map,Jm=new Map;function m0(r,t){try{r.container.addComponent(t)}catch(n){Dr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Co(r){const t=r.name;if(Jm.has(t))return Dr.debug(`There were multiple attempts to register component ${t}.`),!1;Jm.set(t,r);for(const n of Ih.values())m0(n,r);for(const n of F2.values())m0(n,r);return!0}function Cp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function _i(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new yu("app","Firebase",G2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=q2;function TT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:$m,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Cs.create("bad-app-name",{appName:String(o)});if(n||(n=pT()),!n)throw Cs.create("no-options");const u=Ih.get(o);if(u){if(Vs(n,u.options)&&Vs(s,u.config))return u;throw Cs.create("duplicate-app",{appName:o})}const f=new ZR(o);for(const p of Jm.values())f.addComponent(p);const m=new Q2(n,s,f);return Ih.set(o,m),m}function ST(r=$m){const t=Ih.get(r);if(!t&&r===$m&&pT())return TT();if(!t)throw Cs.create("no-app",{appName:r});return t}function Ds(r,t,n){var s;let o=(s=H2[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Dr.warn(m.join(" "));return}Co(new wa(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="firebase-heartbeat-database",K2=1,au="firebase-heartbeat-store";let Dm=null;function wT(){return Dm||(Dm=h2(Y2,K2,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(r=>{throw Cs.create("idb-open",{originalErrorMessage:r.message})})),Dm}async function X2(r){try{const n=(await wT()).transaction(au),s=await n.objectStore(au).get(AT(r));return await n.done,s}catch(t){if(t instanceof kr)Dr.warn(t.message);else{const n=Cs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Dr.warn(n.message)}}}async function p0(r,t){try{const s=(await wT()).transaction(au,"readwrite");await s.objectStore(au).put(t,AT(r)),await s.done}catch(n){if(n instanceof kr)Dr.warn(n.message);else{const s=Cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dr.warn(s.message)}}}function AT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=1024,J2=30;class Z2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=g0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>J2){const f=eI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Dr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=g0(),{heartbeatsToSend:s,unsentEntries:o}=W2(this._heartbeatsCache.heartbeats),u=Rh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Dr.warn(n),""}}}function g0(){return new Date().toISOString().substring(0,10)}function W2(r,t=$2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),y0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),y0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class tI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jR()?BR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await X2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return p0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return p0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function y0(r){return Rh(JSON.stringify({version:2,heartbeats:r})).length}function eI(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(r){Co(new wa("platform-logger",t=>new m2(t),"PRIVATE")),Co(new wa("heartbeat",t=>new Z2(t),"PRIVATE")),Ds(Xm,d0,r),Ds(Xm,d0,"esm2017"),Ds("fire-js","")}nI("");function Dp(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function bT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iI=bT,RT=new yu("auth","Firebase",bT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Rp("@firebase/auth");function rI(r,...t){Ch.logLevel<=Qt.WARN&&Ch.warn(`Auth (${Uo}): ${r}`,...t)}function mh(r,...t){Ch.logLevel<=Qt.ERROR&&Ch.error(`Auth (${Uo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(r,...t){throw Np(r,...t)}function Di(r,...t){return Np(r,...t)}function xp(r,t,n){const s=Object.assign(Object.assign({},iI()),{[t]:n});return new yu("auth","Firebase",s).create(t,{appName:r.name})}function xs(r){return xp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IT(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Ki(r,"argument-error"),xp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Np(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return RT.create(r,...t)}function Dt(r,t,...n){if(!r)throw Np(t,...n)}function wr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw mh(t),new Error(t)}function xr(r,t){r||wr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function sI(){return _0()==="http:"||_0()==="https:"}function _0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sI()||PR()||"connection"in navigator)?navigator.onLine:!0}function oI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(t,n){this.shortDelay=t,this.longDelay=n,xr(n>t,"Short delay should be less than long delay!"),this.isMobile=MR()||LR()}get(){return aI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(r,t){xr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cI=new vu(3e4,6e4);function Mp(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function zo(r,t,n,s,o={}){return DT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=_u(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:t,headers:p},u);return kR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Lo(r.emulatorConfig.host)&&(g.credentials="include"),CT.fetch()(await xT(r,r.config.apiHost,n,m),g)})}async function DT(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},lI),t);try{const o=new fI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ah(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ah(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw ah(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw xp(r,E,g);Ki(r,E)}}catch(o){if(o instanceof kr)throw o;Ki(r,"network-request-failed",{message:String(o)})}}async function hI(r,t,n,s,o={}){const u=await zo(r,t,n,s,o);return"mfaPendingCredential"in u&&Ki(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function xT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Op(r.config,o):`${r.config.apiScheme}://${o}`;return uI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class fI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Di(this.auth,"network-request-failed")),cI.get())})}}function ah(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Di(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(r,t){return zo(r,"POST","/v1/accounts:delete",t)}async function Dh(r,t){return zo(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function mI(r,t=!1){const n=De(r),s=await n.getIdToken(t),o=Vp(s);Dt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Wl(xm(o.auth_time)),issuedAtTime:Wl(xm(o.iat)),expirationTime:Wl(xm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function xm(r){return Number(r)*1e3}function Vp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=dT(n);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function v0(r){const t=Vp(r);return Dt(t,"internal-error"),Dt(typeof t.exp<"u","internal-error"),Dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof kr&&pI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function pI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(r){var t;const n=r.auth,s=await r.getIdToken(),o=await ou(r,Dh(n,{idToken:s}));Dt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?NT(u.providerUserInfo):[],m=_I(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Wm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,T)}async function yI(r){const t=De(r);await xh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _I(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function NT(r){return r.map(t=>{var{providerId:n}=t,s=Dp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(r,t){const n=await DT(r,{},async()=>{const s=_u({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await xT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Lo(r.emulatorConfig.host)&&(p.credentials="include"),CT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EI(r,t){return zo(r,"POST","/v2/accounts:revokeToken",Mp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Dt(t.idToken,"internal-error"),Dt(typeof t.idToken<"u","internal-error"),Dt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):v0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Dt(t.length!==0,"internal-error");const n=v0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await vI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ao;return s&&(Dt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Dt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Dt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(r,t){Dt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ci{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Dp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Wm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await ou(this,this.stsTokenManager.getToken(this.auth,t));return Dt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return mI(this,t)}reload(){return yI(this)}_assign(t){this!==t&&(Dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ci(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(xs(this.auth));const t=await this.getIdToken();return await ou(this,dI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,g,E;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,B=(f=n.photoURL)!==null&&f!==void 0?f:void 0,X=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,at=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ut=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:it,emailVerified:Tt,isAnonymous:Vt,providerData:wt,stsTokenManager:x}=n;Dt(it&&x,t,"internal-error");const b=Ao.fromJSON(this.name,x);Dt(typeof it=="string",t,"internal-error"),Ts(T,t.name),Ts(A,t.name),Dt(typeof Tt=="boolean",t,"internal-error"),Dt(typeof Vt=="boolean",t,"internal-error"),Ts(V,t.name),Ts(B,t.name),Ts(X,t.name),Ts(q,t.name),Ts(at,t.name),Ts(ut,t.name);const R=new Ci({uid:it,auth:t,email:A,emailVerified:Tt,displayName:T,isAnonymous:Vt,photoURL:B,phoneNumber:V,tenantId:X,stsTokenManager:b,createdAt:at,lastLoginAt:ut});return wt&&Array.isArray(wt)&&(R.providerData=wt.map(M=>Object.assign({},M))),q&&(R._redirectEventId=q),R}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ao;o.updateFromServerResponse(n);const u=new Ci({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await xh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Dt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?NT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ao;m.updateFromIdToken(s);const p=new Ci({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;function Ar(r){xr(r instanceof Function,"Expected a class definition");let t=E0.get(r);return t?(xr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,E0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}OT.type="NONE";const T0=OT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r,t,n){return`firebase:${r}:${t}:${n}`}class bo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Dh(this.auth,{idToken:t}).catch(()=>{});return n?Ci._fromGetAccountInfoResponse(this.auth,n,t):null}return Ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new bo(Ar(T0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ar(T0);const f=ph(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const A=await Dh(t,{idToken:E}).catch(()=>{});if(!A)break;T=await Ci._fromGetAccountInfoResponse(t,A,E)}else T=Ci._fromJSON(t,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new bo(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new bo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(MT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(UT(t))return"Blackberry";if(zT(t))return"Webos";if(VT(t))return"Safari";if((t.includes("chrome/")||kT(t))&&!t.includes("edge/"))return"Chrome";if(LT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function MT(r=Tn()){return/firefox\//i.test(r)}function VT(r=Tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kT(r=Tn()){return/crios\//i.test(r)}function PT(r=Tn()){return/iemobile/i.test(r)}function LT(r=Tn()){return/android/i.test(r)}function UT(r=Tn()){return/blackberry/i.test(r)}function zT(r=Tn()){return/webos/i.test(r)}function kp(r=Tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function TI(r=Tn()){var t;return kp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function SI(){return UR()&&document.documentMode===10}function jT(r=Tn()){return kp(r)||LT(r)||zT(r)||UT(r)||/windows phone/i.test(r)||PT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(r,t=[]){let n;switch(r){case"Browser":n=S0(Tn());break;case"Worker":n=`${S0(Tn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(r,t={}){return zo(r,"GET","/v2/passwordPolicy",Mp(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=6;class RI{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:bI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w0(this),this.idTokenSubscription=new w0(this),this.beforeStateQueue=new wI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await bo.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Dh(this,{idToken:t}),s=await Ci._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(_i(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await xh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=oI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_i(this.app))return Promise.reject(xs(this));const n=t?De(t):null;return n&&Dt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _i(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await AI(this),n=new RI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new yu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await EI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ar(t)||this._popupRedirectResolver;Dt(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=BT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&rI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Eu(r){return De(r)}class w0{constructor(t){this.auth=t,this.observer=null,this.addObserver=QR(n=>this.observer=n)}get next(){return Dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CI(r){Pp=r}function DI(r){return Pp.loadJS(r)}function xI(){return Pp.gapiScript}function NI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(r,t){const n=Cp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Vs(u,t??{}))return o;Ki(o,"already-initialized")}return n.initialize({options:t})}function MI(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ar);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function VI(r,t,n){const s=Eu(r);Dt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=qT(t),{host:f,port:m}=kI(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Dt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Dt(Vs(g,s.config.emulator)&&Vs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Lo(f)?(yT(`${u}//${f}${p}`),_T("Auth",!0)):PI()}function qT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function kI(r){const t=qT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:A0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:A0(f)}}}function A0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function PI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(t){return wr("not implemented")}_linkToIdToken(t,n){return wr("not implemented")}_getReauthenticationResolver(t){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(r,t){return hI(r,"POST","/v1/accounts:signInWithIdp",Mp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="http://localhost";class Aa extends HT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Aa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Dp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Aa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ro(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ro(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ro(t,n)}buildRequest(){const t={requestUri:LI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=_u(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Jh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Tu{constructor(){super("facebook.com")}static credential(t){return Aa._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ss.credentialFromTaggedObject(t)}static credentialFromError(t){return Ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ss.credential(t.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Aa._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Sr.credential(n,s)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Tu{constructor(){super("github.com")}static credential(t){return Aa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ws.credential(t.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Tu{constructor(){super("twitter.com")}static credential(t,n){return Aa._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return As.credentialFromTaggedObject(t)}static credentialFromError(t){return As.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return As.credential(n,s)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Ci._fromIdTokenResponse(t,s,o),f=b0(s);return new Do({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=b0(s);return new Do({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function b0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends kr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Nh(t,n,s,o)}}function FT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,t,s):u})}async function UI(r,t,n=!1){const s=await ou(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Do._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(r,t,n=!1){const{auth:s}=r;if(_i(s.app))return Promise.reject(xs(s));const o="reauthenticate";try{const u=await ou(r,FT(s,o,t,r),n);Dt(u.idToken,s,"internal-error");const f=Vp(u.idToken);Dt(f,s,"internal-error");const{sub:m}=f;return Dt(r.uid===m,s,"user-mismatch"),Do._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ki(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,t,n=!1){if(_i(r.app))return Promise.reject(xs(r));const s="signIn",o=await FT(r,s,t),u=await Do._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r,t){return De(r).setPersistence(t)}function BI(r,t,n,s){return De(r).onIdTokenChanged(t,n,s)}function qI(r,t,n){return De(r).beforeAuthStateChanged(t,n)}function QT(r,t,n,s){return De(r).onAuthStateChanged(t,n,s)}function HI(r){return De(r).signOut()}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=1e3,GI=10;class KT extends YT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);SI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,GI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},FI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}KT.type="LOCAL";const Lp=KT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT extends YT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}XT.type="SESSION";const $T=XT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Zh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await QI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Up("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(){return window}function KI(r){Fi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function XI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $I(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function JI(){return JT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="firebaseLocalStorageDb",ZI=1,Mh="firebaseLocalStorage",WT="fbase_key";class Su{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wh(r,t){return r.transaction([Mh],t?"readwrite":"readonly").objectStore(Mh)}function WI(){const r=indexedDB.deleteDatabase(ZT);return new Su(r).toPromise()}function tp(){const r=indexedDB.open(ZT,ZI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Mh,{keyPath:WT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Mh)?t(s):(s.close(),await WI(),t(await tp()))})})}async function R0(r,t,n){const s=Wh(r,!0).put({[WT]:t,value:n});return new Su(s).toPromise()}async function tC(r,t){const n=Wh(r,!1).get(t),s=await new Su(n).toPromise();return s===void 0?null:s.value}function I0(r,t){const n=Wh(r,!0).delete(t);return new Su(n).toPromise()}const eC=800,nC=3;class t1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>nC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(JI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await XI(),!this.activeServiceWorker)return;this.sender=new YI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$I()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tp();return await R0(t,Oh,"1"),await I0(t,Oh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>R0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>tC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>I0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Wh(o,!1).getAll();return new Su(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t1.type="LOCAL";const iC=t1;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(r,t){return t?Ar(t):(Dt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends HT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ro(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ro(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function rC(r){return jI(r.auth,new jp(r),r.bypassAuthState)}function sC(r){const{auth:t,user:n}=r;return Dt(n,t,"internal-error"),zI(n,new jp(r),r.bypassAuthState)}async function aC(r){const{auth:t,user:n}=r;return Dt(n,t,"internal-error"),UI(n,new jp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return rC;case"linkViaPopup":case"linkViaRedirect":return aC;case"reauthViaPopup":case"reauthViaRedirect":return sC;default:Ki(this.auth,"internal-error")}}resolve(t){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=new vu(2e3,1e4);async function lC(r,t,n){if(_i(r.app))return Promise.reject(Di(r,"operation-not-supported-in-this-environment"));const s=Eu(r);IT(r,t,Jh);const o=zp(s,n);return new Ea(s,"signInViaPopup",t,o).executeNotNull()}class Ea extends e1{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Dt(t,this.auth,"internal-error"),t}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const t=Up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,oC.get())};t()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="pendingRedirect",gh=new Map;class cC extends e1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=gh.get(this.auth._key());if(!t){try{const s=await hC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}gh.set(this.auth._key(),t)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hC(r,t){const n=i1(t),s=n1(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function fC(r,t){return n1(r)._set(i1(t),"true")}function dC(r,t){gh.set(r._key(),t)}function n1(r){return Ar(r._redirectPersistence)}function i1(r){return ph(uC,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(r,t,n){return mC(r,t,n)}async function mC(r,t,n){if(_i(r.app))return Promise.reject(xs(r));const s=Eu(r);IT(r,t,Jh),await s._initializationPromise;const o=zp(s,n);return await fC(o,s),o._openRedirect(s,t,"signInViaRedirect")}async function pC(r,t,n=!1){if(_i(r.app))return Promise.reject(xs(r));const s=Eu(r),o=zp(s,t),f=await new cC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=600*1e3;class yC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_C(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!r1(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Di(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=gC&&this.cachedEventUids.clear(),this.cachedEventUids.has(D0(t))}saveEventToCache(t){this.cachedEventUids.add(D0(t)),this.lastProcessedEventTime=Date.now()}}function D0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function r1({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function _C(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(r,t={}){return zo(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TC=/^https?/;async function SC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await vC(r);for(const n of t)try{if(wC(n))return}catch{}Ki(r,"unauthorized-domain")}function wC(r){const t=Zm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!TC.test(n))return!1;if(EC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new vu(3e4,6e4);function x0(){const r=Fi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function bC(r){return new Promise((t,n)=>{var s,o,u;function f(){x0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{x0(),n(Di(r,"network-request-failed"))},timeout:AC.get()})}if(!((o=(s=Fi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Fi().gapi)===null||u===void 0)&&u.load)f();else{const m=NI("iframefcb");return Fi()[m]=()=>{gapi.load?f():n(Di(r,"network-request-failed"))},DI(`${xI()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw yh=null,t})}let yh=null;function RC(r){return yh=yh||bC(r),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new vu(5e3,15e3),CC="__/auth/iframe",DC="emulator/auth/iframe",xC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OC(r){const t=r.config;Dt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Op(t,DC):`https://${r.config.authDomain}/${CC}`,s={apiKey:t.apiKey,appName:r.name,v:Uo},o=NC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${_u(s).slice(1)}`}async function MC(r){const t=await RC(r),n=Fi().gapi;return Dt(n,r,"internal-error"),t.open({where:document.body,url:OC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Di(r,"network-request-failed"),m=Fi().setTimeout(()=>{u(f)},IC.get());function p(){Fi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kC=500,PC=600,LC="_blank",UC="http://localhost";class N0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zC(r,t,n,s=kC,o=PC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},VC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Tn().toLowerCase();n&&(m=kT(g)?LC:n),MT(g)&&(t=t||UC,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[V,B])=>`${A}${V}=${B},`,"");if(TI(g)&&m!=="_self")return jC(t||"",m),new N0(null);const T=window.open(t||"",m,E);Dt(T,r,"popup-blocked");try{T.focus()}catch{}return new N0(T)}function jC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="__/auth/handler",qC="emulator/auth/handler",HC=encodeURIComponent("fac");async function O0(r,t,n,s,o,u){Dt(r.config.authDomain,r,"auth-domain-config-required"),Dt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Uo,eventId:o};if(t instanceof Jh){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",GR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(t instanceof Tu){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${HC}=${encodeURIComponent(p)}`:"";return`${FC(r)}?${_u(m).slice(1)}${g}`}function FC({config:r}){return r.emulator?Op(r,qC):`https://${r.authDomain}/${BC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class GC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$T,this._completeRedirectFn=pC,this._overrideRedirectResult=dC}async _openPopup(t,n,s,o){var u;xr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await O0(t,n,s,Zm(),o);return zC(t,f,Up())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await O0(t,n,s,Zm(),o);return KI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(xr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await MC(t),s=new yC(t);return n.register("authEvent",o=>(Dt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Nm,{type:Nm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Nm];f!==void 0&&n(!!f),Ki(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return jT()||VT()||kp()}}const QC=GC;var M0="@firebase/auth",V0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XC(r){Co(new wa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Dt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BT(r)},g=new II(s,o,u,p);return MI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Co(new wa("auth-internal",t=>{const n=Eu(t.getProvider("auth").getImmediate());return(s=>new YC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds(M0,V0,KC(r)),Ds(M0,V0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=300,JC=gT("authIdTokenMaxAge")||$C;let k0=null;const ZC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>JC)return;const o=n==null?void 0:n.token;k0!==o&&(k0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function WC(r=ST()){const t=Cp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=OI(r,{popupRedirectResolver:QC,persistence:[iC,Lp,$T]}),s=gT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=ZC(u.toString());qI(n,f,()=>f(n.currentUser)),BI(n,m=>f(m))}}const o=mT("auth");return o&&VI(n,`http://${o}`),n}function tD(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}CI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Di("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",tD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XC("Browser");var P0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,s1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,b){function R(){}R.prototype=b.prototype,x.D=b.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(M,k,U){for(var D=Array(arguments.length-2),we=2;we<arguments.length;we++)D[we-2]=arguments[we];return b.prototype[k].apply(M,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,R){R||(R=0);var M=Array(16);if(typeof b=="string")for(var k=0;16>k;++k)M[k]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(k=0;16>k;++k)M[k]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=x.g[0],R=x.g[1],k=x.g[2];var U=x.g[3],D=b+(U^R&(k^U))+M[0]+3614090360&4294967295;b=R+(D<<7&4294967295|D>>>25),D=U+(k^b&(R^k))+M[1]+3905402710&4294967295,U=b+(D<<12&4294967295|D>>>20),D=k+(R^U&(b^R))+M[2]+606105819&4294967295,k=U+(D<<17&4294967295|D>>>15),D=R+(b^k&(U^b))+M[3]+3250441966&4294967295,R=k+(D<<22&4294967295|D>>>10),D=b+(U^R&(k^U))+M[4]+4118548399&4294967295,b=R+(D<<7&4294967295|D>>>25),D=U+(k^b&(R^k))+M[5]+1200080426&4294967295,U=b+(D<<12&4294967295|D>>>20),D=k+(R^U&(b^R))+M[6]+2821735955&4294967295,k=U+(D<<17&4294967295|D>>>15),D=R+(b^k&(U^b))+M[7]+4249261313&4294967295,R=k+(D<<22&4294967295|D>>>10),D=b+(U^R&(k^U))+M[8]+1770035416&4294967295,b=R+(D<<7&4294967295|D>>>25),D=U+(k^b&(R^k))+M[9]+2336552879&4294967295,U=b+(D<<12&4294967295|D>>>20),D=k+(R^U&(b^R))+M[10]+4294925233&4294967295,k=U+(D<<17&4294967295|D>>>15),D=R+(b^k&(U^b))+M[11]+2304563134&4294967295,R=k+(D<<22&4294967295|D>>>10),D=b+(U^R&(k^U))+M[12]+1804603682&4294967295,b=R+(D<<7&4294967295|D>>>25),D=U+(k^b&(R^k))+M[13]+4254626195&4294967295,U=b+(D<<12&4294967295|D>>>20),D=k+(R^U&(b^R))+M[14]+2792965006&4294967295,k=U+(D<<17&4294967295|D>>>15),D=R+(b^k&(U^b))+M[15]+1236535329&4294967295,R=k+(D<<22&4294967295|D>>>10),D=b+(k^U&(R^k))+M[1]+4129170786&4294967295,b=R+(D<<5&4294967295|D>>>27),D=U+(R^k&(b^R))+M[6]+3225465664&4294967295,U=b+(D<<9&4294967295|D>>>23),D=k+(b^R&(U^b))+M[11]+643717713&4294967295,k=U+(D<<14&4294967295|D>>>18),D=R+(U^b&(k^U))+M[0]+3921069994&4294967295,R=k+(D<<20&4294967295|D>>>12),D=b+(k^U&(R^k))+M[5]+3593408605&4294967295,b=R+(D<<5&4294967295|D>>>27),D=U+(R^k&(b^R))+M[10]+38016083&4294967295,U=b+(D<<9&4294967295|D>>>23),D=k+(b^R&(U^b))+M[15]+3634488961&4294967295,k=U+(D<<14&4294967295|D>>>18),D=R+(U^b&(k^U))+M[4]+3889429448&4294967295,R=k+(D<<20&4294967295|D>>>12),D=b+(k^U&(R^k))+M[9]+568446438&4294967295,b=R+(D<<5&4294967295|D>>>27),D=U+(R^k&(b^R))+M[14]+3275163606&4294967295,U=b+(D<<9&4294967295|D>>>23),D=k+(b^R&(U^b))+M[3]+4107603335&4294967295,k=U+(D<<14&4294967295|D>>>18),D=R+(U^b&(k^U))+M[8]+1163531501&4294967295,R=k+(D<<20&4294967295|D>>>12),D=b+(k^U&(R^k))+M[13]+2850285829&4294967295,b=R+(D<<5&4294967295|D>>>27),D=U+(R^k&(b^R))+M[2]+4243563512&4294967295,U=b+(D<<9&4294967295|D>>>23),D=k+(b^R&(U^b))+M[7]+1735328473&4294967295,k=U+(D<<14&4294967295|D>>>18),D=R+(U^b&(k^U))+M[12]+2368359562&4294967295,R=k+(D<<20&4294967295|D>>>12),D=b+(R^k^U)+M[5]+4294588738&4294967295,b=R+(D<<4&4294967295|D>>>28),D=U+(b^R^k)+M[8]+2272392833&4294967295,U=b+(D<<11&4294967295|D>>>21),D=k+(U^b^R)+M[11]+1839030562&4294967295,k=U+(D<<16&4294967295|D>>>16),D=R+(k^U^b)+M[14]+4259657740&4294967295,R=k+(D<<23&4294967295|D>>>9),D=b+(R^k^U)+M[1]+2763975236&4294967295,b=R+(D<<4&4294967295|D>>>28),D=U+(b^R^k)+M[4]+1272893353&4294967295,U=b+(D<<11&4294967295|D>>>21),D=k+(U^b^R)+M[7]+4139469664&4294967295,k=U+(D<<16&4294967295|D>>>16),D=R+(k^U^b)+M[10]+3200236656&4294967295,R=k+(D<<23&4294967295|D>>>9),D=b+(R^k^U)+M[13]+681279174&4294967295,b=R+(D<<4&4294967295|D>>>28),D=U+(b^R^k)+M[0]+3936430074&4294967295,U=b+(D<<11&4294967295|D>>>21),D=k+(U^b^R)+M[3]+3572445317&4294967295,k=U+(D<<16&4294967295|D>>>16),D=R+(k^U^b)+M[6]+76029189&4294967295,R=k+(D<<23&4294967295|D>>>9),D=b+(R^k^U)+M[9]+3654602809&4294967295,b=R+(D<<4&4294967295|D>>>28),D=U+(b^R^k)+M[12]+3873151461&4294967295,U=b+(D<<11&4294967295|D>>>21),D=k+(U^b^R)+M[15]+530742520&4294967295,k=U+(D<<16&4294967295|D>>>16),D=R+(k^U^b)+M[2]+3299628645&4294967295,R=k+(D<<23&4294967295|D>>>9),D=b+(k^(R|~U))+M[0]+4096336452&4294967295,b=R+(D<<6&4294967295|D>>>26),D=U+(R^(b|~k))+M[7]+1126891415&4294967295,U=b+(D<<10&4294967295|D>>>22),D=k+(b^(U|~R))+M[14]+2878612391&4294967295,k=U+(D<<15&4294967295|D>>>17),D=R+(U^(k|~b))+M[5]+4237533241&4294967295,R=k+(D<<21&4294967295|D>>>11),D=b+(k^(R|~U))+M[12]+1700485571&4294967295,b=R+(D<<6&4294967295|D>>>26),D=U+(R^(b|~k))+M[3]+2399980690&4294967295,U=b+(D<<10&4294967295|D>>>22),D=k+(b^(U|~R))+M[10]+4293915773&4294967295,k=U+(D<<15&4294967295|D>>>17),D=R+(U^(k|~b))+M[1]+2240044497&4294967295,R=k+(D<<21&4294967295|D>>>11),D=b+(k^(R|~U))+M[8]+1873313359&4294967295,b=R+(D<<6&4294967295|D>>>26),D=U+(R^(b|~k))+M[15]+4264355552&4294967295,U=b+(D<<10&4294967295|D>>>22),D=k+(b^(U|~R))+M[6]+2734768916&4294967295,k=U+(D<<15&4294967295|D>>>17),D=R+(U^(k|~b))+M[13]+1309151649&4294967295,R=k+(D<<21&4294967295|D>>>11),D=b+(k^(R|~U))+M[4]+4149444226&4294967295,b=R+(D<<6&4294967295|D>>>26),D=U+(R^(b|~k))+M[11]+3174756917&4294967295,U=b+(D<<10&4294967295|D>>>22),D=k+(b^(U|~R))+M[2]+718787259&4294967295,k=U+(D<<15&4294967295|D>>>17),D=R+(U^(k|~b))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+k&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var R=b-this.blockSize,M=this.B,k=this.h,U=0;U<b;){if(k==0)for(;U<=R;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<b;)if(M[k++]=x.charCodeAt(U++),k==this.blockSize){o(this,M),k=0;break}}else for(;U<b;)if(M[k++]=x[U++],k==this.blockSize){o(this,M),k=0;break}}this.h=k,this.o+=b},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var R=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=R&255,R/=256;for(this.u(x),x=Array(16),b=R=0;4>b;++b)for(var M=0;32>M;M+=8)x[R++]=this.g[b]>>>M&255;return x};function u(x,b){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=b(x)}function f(x,b){this.h=b;for(var R=[],M=!0,k=x.length-1;0<=k;k--){var U=x[k]|0;M&&U==b||(R[k]=U,M=!1)}this.g=R}var m={};function p(x){return-128<=x&&128>x?u(x,function(b){return new f([b|0],0>b?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return q(g(-x));for(var b=[],R=1,M=0;x>=R;M++)b[M]=x/R|0,R*=4294967296;return new f(b,0)}function E(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return q(E(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(b,8)),M=T,k=0;k<x.length;k+=8){var U=Math.min(8,x.length-k),D=parseInt(x.substring(k,k+U),b);8>U?(U=g(Math.pow(b,U)),M=M.j(U).add(g(D))):(M=M.j(R),M=M.add(g(D)))}return M}var T=p(0),A=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(X(this))return-q(this).m();for(var x=0,b=1,R=0;R<this.g.length;R++){var M=this.i(R);x+=(0<=M?M:4294967296+M)*b,b*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(B(this))return"0";if(X(this))return"-"+q(this).toString(x);for(var b=g(Math.pow(x,6)),R=this,M="";;){var k=Tt(R,b).g;R=at(R,k.j(b));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=k,B(R))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function B(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function X(x){return x.h==-1}r.l=function(x){return x=at(this,x),X(x)?-1:B(x)?0:1};function q(x){for(var b=x.g.length,R=[],M=0;M<b;M++)R[M]=~x.g[M];return new f(R,~x.h).add(A)}r.abs=function(){return X(this)?q(this):this},r.add=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],M=0,k=0;k<=b;k++){var U=M+(this.i(k)&65535)+(x.i(k)&65535),D=(U>>>16)+(this.i(k)>>>16)+(x.i(k)>>>16);M=D>>>16,U&=65535,D&=65535,R[k]=D<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function at(x,b){return x.add(q(b))}r.j=function(x){if(B(this)||B(x))return T;if(X(this))return X(x)?q(this).j(q(x)):q(q(this).j(x));if(X(x))return q(this.j(q(x)));if(0>this.l(V)&&0>x.l(V))return g(this.m()*x.m());for(var b=this.g.length+x.g.length,R=[],M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var k=0;k<x.g.length;k++){var U=this.i(M)>>>16,D=this.i(M)&65535,we=x.i(k)>>>16,ke=x.i(k)&65535;R[2*M+2*k]+=D*ke,ut(R,2*M+2*k),R[2*M+2*k+1]+=U*ke,ut(R,2*M+2*k+1),R[2*M+2*k+1]+=D*we,ut(R,2*M+2*k+1),R[2*M+2*k+2]+=U*we,ut(R,2*M+2*k+2)}for(M=0;M<b;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=b;M<2*b;M++)R[M]=0;return new f(R,0)};function ut(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function it(x,b){this.g=x,this.h=b}function Tt(x,b){if(B(b))throw Error("division by zero");if(B(x))return new it(T,T);if(X(x))return b=Tt(q(x),b),new it(q(b.g),q(b.h));if(X(b))return b=Tt(x,q(b)),new it(q(b.g),b.h);if(30<x.g.length){if(X(x)||X(b))throw Error("slowDivide_ only works with positive integers.");for(var R=A,M=b;0>=M.l(x);)R=Vt(R),M=Vt(M);var k=wt(R,1),U=wt(M,1);for(M=wt(M,2),R=wt(R,2);!B(M);){var D=U.add(M);0>=D.l(x)&&(k=k.add(R),U=D),M=wt(M,1),R=wt(R,1)}return b=at(x,k.j(b)),new it(k,b)}for(k=T;0<=x.l(b);){for(R=Math.max(1,Math.floor(x.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=g(R),D=U.j(b);X(D)||0<D.l(x);)R-=M,U=g(R),D=U.j(b);B(U)&&(U=A),k=k.add(U),x=at(x,D)}return new it(k,x)}r.A=function(x){return Tt(this,x).h},r.and=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)&x.i(M);return new f(R,this.h&x.h)},r.or=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)|x.i(M);return new f(R,this.h|x.h)},r.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)^x.i(M);return new f(R,this.h^x.h)};function Vt(x){for(var b=x.g.length+1,R=[],M=0;M<b;M++)R[M]=x.i(M)<<1|x.i(M-1)>>>31;return new f(R,x.h)}function wt(x,b){var R=b>>5;b%=32;for(var M=x.g.length-R,k=[],U=0;U<M;U++)k[U]=0<b?x.i(U+R)>>>b|x.i(U+R+1)<<32-b:x.i(U+R);return new f(k,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,s1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Ns=f}).apply(typeof P0<"u"?P0:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a1,Kl,o1,_h,ep,l1,u1,c1;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in v))break t;v=v[z]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,z={next:function(){if(!w&&v<c.length){var K=v++;return{value:y(K,c[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function A(c,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,A.apply(null,arguments)}function V(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function B(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,z,K){for(var ct=Array(arguments.length-2),re=2;re<arguments.length;re++)ct[re-2]=arguments[re];return y.prototype[z].apply(w,ct)}}function X(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function q(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const z=c.length||0,K=w.length||0;c.length=z+K;for(let ct=0;ct<K;ct++)c[z+ct]=w[ct]}else c.push(w)}}class at{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ut(c){return/^[\s\xa0]*$/.test(c)}function it(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Tt(c){return Tt[" "](c),c}Tt[" "]=function(){};var Vt=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function wt(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function x(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function b(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let v,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(v in w)c[v]=w[v];for(let K=0;K<R.length;K++)v=R[K],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function U(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Nt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class we{constructor(){this.h=this.g=null}add(y,v){const w=ke.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ke=new at(()=>new J,c=>c.reset());class J{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let st,gt=!1,Nt=new we,Bt=()=>{const c=m.Promise.resolve(void 0);st=()=>{c.then(N)}};var N=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){U(v)}var y=ke;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}gt=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var ft=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c})();function vt(c,y){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Vt){t:{try{Tt(y.nodeName);var z=!0;break t}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Rt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&vt.aa.h.call(this)}}B(vt,ot);var Rt={2:"touch",3:"pen",4:"mouse"};vt.prototype.h=function(){vt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),le=0;function me(c,y,v,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=z,this.key=++le,this.da=this.fa=!1}function mn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bn(c){this.src=c,this.g={},this.h=0}Bn.prototype.add=function(c,y,v,w,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ct=Pr(c,y,w,z);return-1<ct?(y=c[ct],v||(y.fa=!1)):(y=new me(y,this.src,K,!!w,z),y.fa=v,c.push(y)),y};function $i(c,y){var v=y.type;if(v in c.g){var w=c.g[v],z=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=z)&&Array.prototype.splice.call(w,z,1),K&&(mn(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Pr(c,y,v,w){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==w)return z}return-1}var qn="closure_lm_"+(1e6*Math.random()|0),Ji={};function Lr(c,y,v,w,z){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Lr(c,y[K],v,w,z);return null}return v=ai(v),c&&c[Ct]?c.K(y,v,g(w)?!!w.capture:!1,z):Qo(c,y,v,!1,w,z)}function Qo(c,y,v,w,z,K){if(!y)throw Error("Invalid event type");var ct=g(z)?!!z.capture:!!z,re=Zi(c);if(re||(c[qn]=re=new Bn(c)),v=re.add(y,v,w,ct,K),v.proxy)return v;if(w=Na(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)ft||(z=ct),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(Ur(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Na(){function c(v){return y.call(c.src,c.listener,v)}const y=Yo;return c}function Ei(c,y,v,w,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ei(c,y[K],v,w,z);else w=g(w)?!!w.capture:!!w,v=ai(v),c&&c[Ct]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],v=Pr(K,v,w,z),-1<v&&(mn(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Zi(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Pr(y,v,w,z)),(v=-1<c?y[c]:null)&&Ni(v))}function Ni(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ct])$i(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(Ur(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=Zi(y))?($i(v,c),v.h==0&&(v.src=null,y[qn]=null)):mn(c)}}}function Ur(c){return c in Ji?Ji[c]:Ji[c]="on"+c}function Yo(c,y){if(c.da)c=!0;else{y=new vt(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&Ni(c),c=v.call(w,y)}return c}function Zi(c){return c=c[qn],c instanceof Bn?c:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ai(c){return typeof c=="function"?c:(c[Pe]||(c[Pe]=function(y){return c.handleEvent(y)}),c[Pe])}function ne(){Z.call(this),this.i=new Bn(this),this.M=this,this.F=null}B(ne,Z),ne.prototype[Ct]=!0,ne.prototype.removeEventListener=function(c,y,v,w){Ei(this,c,y,v,w)};function Le(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new ot(y,c);else if(y instanceof ot)y.target=y.target||c;else{var z=y;y=new ot(w,c),M(y,z)}if(z=!0,v)for(var K=v.length-1;0<=K;K--){var ct=y.g=v[K];z=oi(ct,w,!0,y)&&z}if(ct=y.g=c,z=oi(ct,w,!0,y)&&z,z=oi(ct,w,!1,y)&&z,v)for(K=0;K<v.length;K++)ct=y.g=v[K],z=oi(ct,w,!1,y)&&z}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)mn(v[w]);delete c.g[y],c.h--}}this.F=null},ne.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},ne.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function oi(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,K=0;K<y.length;++K){var ct=y[K];if(ct&&!ct.da&&ct.capture==v){var re=ct.listener,Ue=ct.ha||ct.src;ct.fa&&$i(c.i,ct),z=re.call(Ue,w)!==!1&&z}}return z&&!w.defaultPrevented}function zr(c,y,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Gs(c){c.g=zr(()=>{c.g=null,c.i&&(c.i=!1,Gs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ko extends Z{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Gs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(c){Z.call(this),this.h=c,this.g={}}B(Ti,Z);var pn=[];function xe(c){wt(c.g,function(y,v){this.g.hasOwnProperty(v)&&Ni(y)},c),c.g={}}Ti.prototype.N=function(){Ti.aa.N.call(this),xe(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=m.JSON.stringify,an=m.JSON.parse,Oa=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Qs(){}Qs.prototype.h=null;function Ma(c){return c.h||(c.h=c.i())}function Wi(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){ot.call(this,"d")}B(xn,ot);function Je(){ot.call(this,"c")}B(Je,ot);var Ne={},Hn=null;function jr(){return Hn=Hn||new ne}Ne.La="serverreachability";function tr(c){ot.call(this,Ne.La,c)}B(tr,ot);function Si(c){const y=jr();Le(y,new tr(y))}Ne.STAT_EVENT="statevent";function Oi(c,y){ot.call(this,Ne.STAT_EVENT,c),this.stat=y}B(Oi,ot);function Qe(c){const y=jr();Le(y,new Oi(y,c))}Ne.Ma="timingevent";function Ys(c,y){ot.call(this,Ne.Ma,c),this.size=y}B(Ys,ot);function Mi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function Ks(c,y,v,w,z,K){c.info(function(){if(c.g)if(K)for(var ct="",re=K.split("&"),Ue=0;Ue<re.length;Ue++){var zt=re[Ue].split("=");if(1<zt.length){var We=zt[0];zt=zt[1];var tn=We.split("_");ct=2<=tn.length&&tn[1]=="type"?ct+(We+"="+zt+"&"):ct+(We+"=redacted&")}}else ct=null;else ct=K;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+v+`
`+ct})}function Xs(c,y,v,w,z,K,ct){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+v+`
`+K+" "+ct})}function wi(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Nn(c,v)+(w?" "+w:"")})}function Va(c,y){c.info(function(){return"TIMEOUT: "+y})}Fn.prototype.info=function(){};function Nn(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ct=1;ct<z.length;ct++)z[ct]=""}}}}return wn(v)}catch{return y}}var ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},I={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},G;function $(){}B($,Qs),$.prototype.g=function(){return new XMLHttpRequest},$.prototype.i=function(){return{}},G=new $;function lt(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new Ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Lt={},bt={};function se(c,y,v){c.L=1,c.v=Js(be(y)),c.m=v,c.P=!0,Kt(c,null)}function Kt(c,y){c.F=Date.now(),Ae(c),c.A=be(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),nr(v.i,"t",w),c.C=0,v=c.j.J,c.h=new pt,c.g=$u(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Ko(A(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(pn[0]=z.toString()),z=pn);for(var K=0;K<z.length;K++){var ct=Lr(v,z[K],w||y.handleEvent,!1,y.h||y);if(!ct)break;y.g[ct.key]=ct}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Si(),Ks(c.i,c.u,c.A,c.l,c.R,c.m)}lt.prototype.ca=function(c){c=c.target;const y=this.M;y&&Rn(c)==3?y.j():this.Y(c)},lt.prototype.Y=function(c){try{if(c==this.g)t:{const tn=Rn(this.g);var y=this.g.Ba();const Zr=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||ta(this.g)))){this.J||tn!=4||y==7||(y==8||0>=Zr?Si(3):Si(2)),Vi(this);var v=this.g.Z();this.X=v;e:if(kt(this)){var w=ta(this.g);c="";var z=w.length,K=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ye(this),Gn(this);var ct="";break e}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(K&&y==z-1)});w.length=0,this.h.g+=c,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=v==200,Xs(this.i,this.u,this.A,this.l,this.R,tn,v),this.o){if(this.T&&!this.K){e:{if(this.g){var re,Ue=this.g;if((re=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(re)){var zt=re;break e}}zt=null}if(v=zt)wi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,An(this,v);else{this.o=!1,this.s=3,Qe(12),Ye(this),Gn(this);break t}}if(this.P){v=!0;let Mn;for(;!this.J&&this.C<ct.length;)if(Mn=Ot(this,ct),Mn==bt){tn==4&&(this.s=4,Qe(14),v=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==Lt){this.s=4,Qe(15),wi(this.i,this.l,ct,"[Invalid Chunk]"),v=!1;break}else wi(this.i,this.l,Mn,null),An(this,Mn);if(kt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||ct.length!=0||this.h.h||(this.s=1,Qe(16),v=!1),this.o=this.o&&v,!v)wi(this.i,this.l,ct,"[Invalid Chunked Response]"),Ye(this),Gn(this);else if(0<ct.length&&!this.W){this.W=!0;var We=this.j;We.g==this&&We.ba&&!We.M&&(We.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),sl(We),We.M=!0,Qe(11))}}else wi(this.i,this.l,ct,null),An(this,ct);tn==4&&Ye(this),this.o&&!this.J&&(tn==4?Yu(this.j,this):(this.o=!1,Ae(this)))}else Bu(this.g),v==400&&0<ct.indexOf("Unknown SID")?(this.s=3,Qe(12)):(this.s=0,Qe(13)),Ye(this),Gn(this)}}}catch{}finally{}};function kt(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ot(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?bt:(v=Number(y.substring(v,w)),isNaN(v)?Lt:(w+=1,w+v>y.length?bt:(y=y.slice(w,w+v),c.C=w+v,y)))}lt.prototype.cancel=function(){this.J=!0,Ye(this)};function Ae(c){c.S=Date.now()+c.I,ve(c,c.I)}function ve(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Mi(A(c.ba,c),y)}function Vi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}lt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Va(this.i,this.A),this.L!=2&&(Si(),Qe(17)),Ye(this),this.s=2,Gn(this)):ve(this,this.S-c)};function Gn(c){c.j.G==0||c.J||Yu(c.j,c)}function Ye(c){Vi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,xe(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function An(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Br(v.h,c))){if(!c.K&&Br(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)$r(v),Xr(v);else break t;rl(v),Qe(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Mi(A(v.Za,v),6e3));if(1>=ku(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else rr(v,11)}else if((c.K||v.g==c)&&$r(v),!ut(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let zt=z[y];if(v.T=zt[0],zt=zt[1],v.G==2)if(zt[0]=="c"){v.K=zt[1],v.ia=zt[2];const We=zt[3];We!=null&&(v.la=We,v.j.info("VER="+v.la));const tn=zt[4];tn!=null&&(v.Aa=tn,v.j.info("SVER="+v.Aa));const Zr=zt[5];Zr!=null&&typeof Zr=="number"&&0<Zr&&(w=1.5*Zr,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Mn=c.g;if(Mn){const ia=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var K=w.h;K.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(qr(K,K.h),K.h=null))}if(w.D){const sr=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;sr&&(w.ya=sr,Zt(w.I,w.D,sr))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ct=c;if(w.qa=Xu(w,w.J?w.ia:null,w.W),ct.K){li(w.h,ct);var re=ct,Ue=w.L;Ue&&(re.I=Ue),re.B&&(Vi(re),Ae(re)),w.g=ct}else Gu(w);0<v.i.length&&qa(v)}else zt[0]!="stop"&&zt[0]!="close"||rr(v,7);else v.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?rr(v,7):nl(v):zt[0]!="noop"&&v.l&&v.l.ta(zt),v.v=0)}}Si(4)}catch{}}var yf=class{constructor(c,y){this.g=c,this.map=y}};function Xo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $o(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ku(c){return c.h?1:c.g?c.g.size:0}function Br(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function qr(c,y){c.g?c.g.add(y):c.h=y}function li(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Xo.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return X(c.i)}function Pu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function _f(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function ka(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=_f(c),w=Pu(c),z=w.length,K=0;K<z;K++)y.call(void 0,w[K],v&&v[K],c)}var Jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),z=null;if(0<=w){var K=c[v].substring(0,w);z=c[v].substring(w+1)}else K=c[v];y(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function er(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof er){this.h=c.h,Hr(this,c.j),this.o=c.o,this.g=c.g,$s(this,c.s),this.l=c.l;var y=c.i,v=new ki;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),La(this,v),this.m=c.m}else c&&(y=String(c).match(Jo))?(this.h=!1,Hr(this,y[1]||"",!0),this.o=Fr(y[2]||""),this.g=Fr(y[3]||"",!0),$s(this,y[4]),this.l=Fr(y[5]||"",!0),La(this,y[6]||"",!0),this.m=Fr(y[7]||"")):(this.h=!1,this.i=new ki(null,this.h))}er.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ui(y,Zo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ui(y,Zo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ui(v,v.charAt(0)=="/"?Wo:Lu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ui(v,Tf)),c.join("")};function be(c){return new er(c)}function Hr(c,y,v){c.j=v?Fr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function $s(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function La(c,y,v){y instanceof ki?(c.i=y,Uu(c.i,c.h)):(v||(y=ui(y,Ef)),c.i=new ki(y,c.h))}function Zt(c,y,v){c.i.set(y,v)}function Js(c){return Zt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ui(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,vf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zo=/[#\/\?@]/g,Lu=/[#\?:]/g,Wo=/[#\?]/g,Ef=/[#\?@]/g,Tf=/#/g;function ki(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ze(c){c.g||(c.g=new Map,c.h=0,c.i&&Pa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=ki.prototype,r.add=function(c,y){Ze(this),this.i=null,c=Qn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ua(c,y){Ze(c),y=Qn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function za(c,y){return Ze(c),y=Qn(c,y),c.g.has(y)}r.forEach=function(c,y){Ze(this),this.g.forEach(function(v,w){v.forEach(function(z){c.call(y,z,w,this)},this)},this)},r.na=function(){Ze(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const z=c[w];for(let K=0;K<z.length;K++)v.push(y[w])}return v},r.V=function(c){Ze(this);let y=[];if(typeof c=="string")za(this,c)&&(y=y.concat(this.g.get(Qn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Ze(this),this.i=null,c=Qn(this,c),za(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function nr(c,y,v){Ua(c,y),0<v.length&&(c.i=null,c.g.set(Qn(c,y),X(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const K=encodeURIComponent(String(w)),ct=this.V(w);for(w=0;w<ct.length;w++){var z=K;ct[w]!==""&&(z+="="+encodeURIComponent(String(ct[w]))),c.push(z)}}return this.i=c.join("&")};function Qn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Uu(c,y){y&&!c.j&&(Ze(c),c.i=null,c.g.forEach(function(v,w){var z=w.toLowerCase();w!=z&&(Ua(this,w),nr(this,z,v))},c)),c.j=y}function tl(c,y){const v=new Fn;if(m.Image){const w=new Image;w.onload=V(On,v,"TestLoadImage: loaded",!0,y,w),w.onerror=V(On,v,"TestLoadImage: error",!1,y,w),w.onabort=V(On,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=V(On,v,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function zu(c,y){const v=new Fn,w=new AbortController,z=setTimeout(()=>{w.abort(),On(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(z),K.ok?On(v,"TestPingServer: ok",!0,y):On(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),On(v,"TestPingServer: error",!1,y)})}function On(c,y,v,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(v)}catch{}}function Ai(){this.g=new Oa}function el(c,y,v){const w=v||"";try{ka(c,function(z,K){let ct=z;g(z)&&(ct=wn(z)),y.push(w+K+"="+encodeURIComponent(ct))})}catch(z){throw y.push(w+"type="+encodeURIComponent("_badmap")),z}}function Pi(c){this.l=c.Ub||null,this.j=c.eb||!1}B(Pi,Qs),Pi.prototype.g=function(){return new Yn(this.l,this.j)},Pi.prototype.i=(function(c){return function(){return c}})({});function Yn(c,y){ne.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Yn,ne),r=Yn.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Gr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Li(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ja(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ja(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Li(this):Gr(this),this.readyState==3&&ja(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Li(this))},r.Qa=function(c){this.g&&(this.response=c,Li(this))},r.ga=function(){this.g&&Li(this)};function Li(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Gr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Gr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zs(c){let y="";return wt(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Qr(c,y,v){t:{for(w in v){var w=!1;break t}w=!0}w||(v=Zs(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Zt(c,y,v))}function pe(c){ne.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(pe,ne);var yn=/^https?$/i,ir=["POST","PUT"];r=pe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():G.g(),this.v=this.o?Ma(this.o):Ma(G),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Ws(this,K);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)v.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())v.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ir,y,void 0))||w||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ct]of v)this.g.setRequestHeader(K,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Ws(this,K)}};function Ws(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Yr(c),Kr(c)}function Yr(c){c.A||(c.A=!0,Le(c,"complete"),Le(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Le(this,"complete"),Le(this,"abort"),Kr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kr(this,!0)),pe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ju(this):this.bb())},r.bb=function(){ju(this)};function ju(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)zr(c.Ea,0,c);else if(Le(c,"readystatechange"),Rn(c)==4){c.h=!1;try{const ct=c.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var w;if(w=ct===0){var z=String(c.D).match(Jo)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),w=!yn.test(z?z.toLowerCase():"")}v=w}if(v)Le(c,"complete"),Le(c,"success");else{c.m=6;try{var K=2<Rn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Yr(c)}}finally{Kr(c)}}}}function Kr(c,y){if(c.g){Ba(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Le(c,"ready");try{v.onreadystatechange=w}catch{}}}function Ba(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),an(y)}};function ta(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bu(c){const y={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(ut(c[w]))continue;var v=k(c[w]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[z]||[];y[z]=K,K.push(v)}x(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ea(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function qu(c){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ea("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ea("baseRetryDelayMs",5e3,c),this.cb=ea("retryDelaySeedMs",1e4,c),this.Wa=ea("forwardChannelMaxRetries",2,c),this.wa=ea("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Xo(c&&c.concurrentRequestLimit),this.Da=new Ai,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=qu.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,w){Qe(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Xu(this,null,this.W),qa(this)};function nl(c){if(Hu(c),c.G==3){var y=c.U++,v=be(c.I);if(Zt(v,"SID",c.K),Zt(v,"RID",y),Zt(v,"TYPE","terminate"),na(c,v),y=new lt(c,c.j,y),y.L=2,y.v=Js(be(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=$u(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ae(y)}al(c)}function Xr(c){c.g&&(sl(c),c.g.cancel(),c.g=null)}function Hu(c){Xr(c),c.u&&(m.clearTimeout(c.u),c.u=null),$r(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function qa(c){if(!$o(c.h)&&!c.s){c.s=!0;var y=c.Ga;st||Bt(),gt||(st(),gt=!0),Nt.add(y,c),c.B=0}}function Sf(c,y){return ku(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Mi(A(c.Ga,c,y),Ku(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new lt(this,this.j,c);let K=this.o;if(this.S&&(K?(K=b(K),M(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=il(this,z,y),v=be(this.I),Zt(v,"RID",c),Zt(v,"CVER",22),this.D&&Zt(v,"X-HTTP-Session-Id",this.D),na(this,v),K&&(this.O?y="headers="+encodeURIComponent(String(Zs(K)))+"&"+y:this.m&&Qr(v,this.m,K)),qr(this.h,z),this.Ua&&Zt(v,"TYPE","init"),this.P?(Zt(v,"$req",y),Zt(v,"SID","null"),z.T=!0,se(z,v,null)):se(z,v,y),this.G=2}}else this.G==3&&(c?Fu(this,c):this.i.length==0||$o(this.h)||Fu(this))};function Fu(c,y){var v;y?v=y.l:v=c.U++;const w=be(c.I);Zt(w,"SID",c.K),Zt(w,"RID",v),Zt(w,"AID",c.T),na(c,w),c.m&&c.o&&Qr(w,c.m,c.o),v=new lt(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=il(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),qr(c.h,v),se(v,w,y)}function na(c,y){c.H&&wt(c.H,function(v,w){Zt(y,w,v)}),c.l&&ka({},function(v,w){Zt(y,w,v)})}function il(c,y,v){v=Math.min(c.i.length,v);var w=c.l?A(c.l.Na,c.l,c):null;t:{var z=c.i;let K=-1;for(;;){const ct=["count="+v];K==-1?0<v?(K=z[0].g,ct.push("ofs="+K)):K=0:ct.push("ofs="+K);let re=!0;for(let Ue=0;Ue<v;Ue++){let zt=z[Ue].g;const We=z[Ue].map;if(zt-=K,0>zt)K=Math.max(0,z[Ue].g-100),re=!1;else try{el(We,ct,"req"+zt+"_")}catch{w&&w(We)}}if(re){w=ct.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,w}function Gu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;st||Bt(),gt||(st(),gt=!0),Nt.add(y,c),c.v=0}}function rl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Mi(A(c.Fa,c),Ku(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Mi(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qe(10),Xr(this),Qu(this))};function sl(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Qu(c){c.g=new lt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=be(c.qa);Zt(y,"RID","rpc"),Zt(y,"SID",c.K),Zt(y,"AID",c.T),Zt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Zt(y,"TO",c.ja),Zt(y,"TYPE","xmlhttp"),na(c,y),c.m&&c.o&&Qr(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Js(be(y)),v.m=null,v.P=!0,Kt(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Xr(this),rl(this),Qe(19))};function $r(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Yu(c,y){var v=null;if(c.g==y){$r(c),sl(c),c.g=null;var w=2}else if(Br(c.h,y))v=y.D,li(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;w=jr(),Le(w,new Ys(w,v)),qa(c)}else Gu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(w==1&&Sf(c,y)||w==2&&rl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),z){case 1:rr(c,5);break;case 4:rr(c,10);break;case 3:rr(c,6);break;default:rr(c,2)}}}function Ku(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function rr(c,y){if(c.j.info("Error code "+y),y==2){var v=A(c.fb,c),w=c.Xa;const z=!w;w=new er(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Hr(w,"https"),Js(w),z?tl(w.toString(),v):zu(w.toString(),v)}else Qe(2);c.G=0,c.l&&c.l.sa(y),al(c),Hu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function al(c){if(c.G=0,c.ka=[],c.l){const y=bn(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ka,y),q(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function Xu(c,y,v){var w=v instanceof er?be(v):new er(v);if(w.g!="")y&&(w.g=y+"."+w.g),$s(w,w.s);else{var z=m.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var K=new er(null);w&&Hr(K,w),y&&(K.g=y),z&&$s(K,z),v&&(K.l=v),w=K}return v=c.D,y=c.ya,v&&y&&Zt(w,v,y),Zt(w,"VER",c.la),na(c,w),w}function $u(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new pe(new Pi({eb:v})):new pe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}r=Ju.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ha(){}Ha.prototype.g=function(c,y){return new In(c,y)};function In(c,y){ne.call(this),this.g=new qu(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ut(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ut(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Jr(this)}B(In,ne),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){nl(this.g)},In.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=wn(c),c=v);y.i.push(new yf(y.Ya++,c)),y.G==3&&qa(y)},In.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,In.aa.N.call(this)};function Zu(c){xn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}B(Zu,xn);function Wu(){Je.call(this),this.status=1}B(Wu,Je);function Jr(c){this.g=c}B(Jr,Ju),Jr.prototype.ua=function(){Le(this.g,"a")},Jr.prototype.ta=function(c){Le(this.g,new Zu(c))},Jr.prototype.sa=function(c){Le(this.g,new Wu)},Jr.prototype.ra=function(){Le(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,c1=function(){return new Ha},u1=function(){return jr()},l1=Ne,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,_h=ie,I.COMPLETE="complete",o1=I,Wi.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Kl=Wi,pe.prototype.listenOnce=pe.prototype.L,pe.prototype.getLastError=pe.prototype.Ka,pe.prototype.getLastErrorCode=pe.prototype.Ba,pe.prototype.getStatus=pe.prototype.Z,pe.prototype.getResponseJson=pe.prototype.Oa,pe.prototype.getResponseText=pe.prototype.oa,pe.prototype.send=pe.prototype.ea,pe.prototype.setWithCredentials=pe.prototype.Ha,a1=pe}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const L0="@firebase/firestore",U0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new Rp("@firebase/firestore");function vo(){return ba.logLevel}function dt(r,...t){if(ba.logLevel<=Qt.DEBUG){const n=t.map(Bp);ba.debug(`Firestore (${jo}): ${r}`,...n)}}function Nr(r,...t){if(ba.logLevel<=Qt.ERROR){const n=t.map(Bp);ba.error(`Firestore (${jo}): ${r}`,...n)}}function ks(r,...t){if(ba.logLevel<=Qt.WARN){const n=t.map(Bp);ba.warn(`Firestore (${jo}): ${r}`,...n)}}function Bp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,h1(r,s,n)}function h1(r,t,n){let s=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Nr(s),new Error(s)}function Jt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||h1(t,o,s)}function xt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends kr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(En.UNAUTHENTICATED)))}shutdown(){}}class nD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class iD{constructor(t){this.t=t,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Jt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ir,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ir)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Jt(typeof s.accessToken=="string",31837,{l:s}),new f1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string",2055,{h:t}),new En(t)}}class rD{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sD{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new rD(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aD{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Jt(this.o===void 0,3512);const s=u=>{u.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,dt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new z0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=oD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function jt(r,t){return r<t?-1:r>t?1:0}function np(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return jt(s,o);{const u=d1(),f=lD(u.encode(j0(r,n)),u.encode(j0(t,n)));return f!==0?f:jt(s,o)}}n+=s>65535?2:1}return jt(r.length,t.length)}function j0(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function lD(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return jt(r[n],t[n]);return jt(r.length,t.length)}function xo(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="__name__";class qi{constructor(t,n,s){n===void 0?n=0:n>t.length&&St(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&St(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return qi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof qi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=qi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return jt(t.length,n.length)}static compareSegments(t,n){const s=qi.isNumericId(t),o=qi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?qi.extractNumericId(t).compare(qi.extractNumericId(n)):np(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ns.fromString(t.substring(4,t.length-2))}}class fe extends qi{construct(t,n,s){return new fe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new fe(n)}static emptyPath(){return new fe([])}}const uD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends qi{construct(t,n,s){return new fn(t,n,s)}static isValidIdentifier(t){return uD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B0}static keyField(){return new fn([B0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ht(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ht(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ht(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(fe.fromString(t))}static fromName(t){return new _t(fe.fromString(t).popFirst(5))}static empty(){return new _t(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return fe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new fe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(r,t,n){if(!n)throw new ht(et.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function cD(r,t,n,s){if(t===!0&&s===!0)throw new ht(et.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function q0(r){if(!_t.isDocumentKey(r))throw new ht(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function H0(r){if(_t.isDocumentKey(r))throw new ht(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function p1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function tf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":St(12329,{type:typeof r})}function ii(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tf(r);throw new ht(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(r,t){const n={typeString:r};return t&&(n.value=t),n}function wu(r,t){if(!p1(r))throw new ht(et.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ht(et.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=-62135596800,G0=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(t){return _e.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*G0);return new _e(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<F0)throw new ht(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G0}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(wu(t,_e._jsonSchema))return new _e(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-F0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:Ge("string",_e._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new _e(0,0))}static max(){return new It(new _e(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function hD(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=It.fromTimestamp(s===1e9?new _e(n+1,0):new _e(n,s));return new Ps(o,_t.empty(),t)}function fD(r){return new Ps(r.readTime,r.key,lu)}class Ps{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ps(It.min(),_t.empty(),lu)}static max(){return new Ps(It.max(),_t.empty(),lu)}}function dD(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=_t.comparator(r.documentKey,t.documentKey),n!==0?n:jt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(r){if(r.code!==et.FAILED_PRECONDITION||r.message!==mD)throw r;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new rt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof rt?n:rt.resolve(n)}catch(n){return rt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.reject(n)}static resolve(t){return new rt(((n,s)=>{n(t)}))}static reject(t){return new rt(((n,s)=>{s(t)}))}static waitFor(t){return new rt(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=rt.resolve(!1);for(const s of t)n=n.next((o=>o?rt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new rt(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new rt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function gD(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}ef.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=-1;function Au(r){return r==null}function Vh(r){return r===0&&1/r==-1/0}function yD(r){return typeof r=="number"&&Number.isInteger(r)&&!Vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="";function _D(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Q0(t)),t=vD(r.get(n),t);return Q0(t)}function vD(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case g1:n+="";break;default:n+=u}}return n}function Q0(r){return r+g1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Hs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function y1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t,n){this.comparator=t,this.root=n||hn.EMPTY}insert(t,n){return new Se(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(t){return new Se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lh(this.root,t,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lh(this.root,t,this.comparator,!0)}}class lh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class hn{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??hn.RED,this.left=o??hn.EMPTY,this.right=u??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new hn(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new hn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.comparator=t,this.data=new Se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new K0(this.data.getIterator())}getIteratorFrom(t){return new K0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof $e)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new $e(this.comparator);return n.data=t,n}}class K0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t){this.fields=t,t.sort(fn.comparator)}static empty(){return new ni([])}unionWith(t){let n=new $e(fn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new ni(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return xo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new _1("Invalid base64 string: "+u):u}})(t);return new dn(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new dn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const ED=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(r){if(Jt(!!r,39018),typeof r=="string"){let t=0;const n=ED.exec(r);if(Jt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ve(r.seconds),nanos:Ve(r.nanos)}}function Ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Us(r){return typeof r=="string"?dn.fromBase64String(r):dn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="server_timestamp",E1="__type__",T1="__previous_value__",S1="__local_write_time__";function Fp(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[E1])===null||n===void 0?void 0:n.stringValue)===v1}function nf(r){const t=r.mapValue.fields[T1];return Fp(t)?nf(t):t}function uu(r){const t=Ls(r.mapValue.fields[S1].timestampValue);return new _e(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t,n,s,o,u,f,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const kh="(default)";class cu{constructor(t,n){this.projectId=t,this.database=n||kh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===kh}isEqual(t){return t instanceof cu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="__type__",SD="__max__",uh={mapValue:{}},A1="__vector__",Ph="value";function zs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fp(r)?4:AD(r)?9007199254740991:wD(r)?10:11:St(28295,{value:r})}function Xi(r,t){if(r===t)return!0;const n=zs(r);if(n!==zs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return uu(r).isEqual(uu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ls(o.timestampValue),m=Ls(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Us(o.bytesValue).isEqual(Us(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ve(o.geoPointValue.latitude)===Ve(u.geoPointValue.latitude)&&Ve(o.geoPointValue.longitude)===Ve(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ve(o.integerValue)===Ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ve(o.doubleValue),m=Ve(u.doubleValue);return f===m?Vh(f)===Vh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return xo(r.arrayValue.values||[],t.arrayValue.values||[],Xi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Y0(f)!==Y0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Xi(f[p],m[p])))return!1;return!0})(r,t);default:return St(52216,{left:r})}}function hu(r,t){return(r.values||[]).find((n=>Xi(n,t)))!==void 0}function No(r,t){if(r===t)return 0;const n=zs(r),s=zs(t);if(n!==s)return jt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Ve(u.integerValue||u.doubleValue),p=Ve(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return X0(r.timestampValue,t.timestampValue);case 4:return X0(uu(r),uu(t));case 5:return np(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=Us(u),p=Us(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=jt(m[g],p[g]);if(E!==0)return E}return jt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=jt(Ve(u.latitude),Ve(f.latitude));return m!==0?m:jt(Ve(u.longitude),Ve(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return $0(r.arrayValue,t.arrayValue);case 10:return(function(u,f){var m,p,g,E;const T=u.fields||{},A=f.fields||{},V=(m=T[Ph])===null||m===void 0?void 0:m.arrayValue,B=(p=A[Ph])===null||p===void 0?void 0:p.arrayValue,X=jt(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((E=B==null?void 0:B.values)===null||E===void 0?void 0:E.length)||0);return X!==0?X:$0(V,B)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===uh.mapValue&&f===uh.mapValue)return 0;if(u===uh.mapValue)return 1;if(f===uh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=np(p[T],E[T]);if(A!==0)return A;const V=No(m[p[T]],g[E[T]]);if(V!==0)return V}return jt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw St(23264,{le:n})}}function X0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return jt(r,t);const n=Ls(r),s=Ls(t),o=jt(n.seconds,s.seconds);return o!==0?o:jt(n.nanos,s.nanos)}function $0(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=No(n[o],s[o]);if(u)return u}return jt(n.length,s.length)}function Oo(r){return ip(r)}function ip(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Ls(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Us(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _t.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ip(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${ip(n.fields[f])}`;return o+"}"})(r.mapValue):St(61005,{value:r})}function vh(r){switch(zs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nf(r);return t?16+vh(t):16;case 5:return 2*r.stringValue.length;case 6:return Us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+vh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Hs(s.fields,((u,f)=>{o+=u.length+vh(f)})),o})(r.mapValue);default:throw St(13486,{value:r})}}function J0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function rp(r){return!!r&&"integerValue"in r}function Gp(r){return!!r&&"arrayValue"in r}function Z0(r){return!!r&&"nullValue"in r}function W0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Eh(r){return!!r&&"mapValue"in r}function wD(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[w1])===null||n===void 0?void 0:n.stringValue)===A1}function tu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Hs(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=tu(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tu(r.arrayValue.values[n]);return t}return Object.assign({},r)}function AD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===SD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.value=t}static empty(){return new Dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Eh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=tu(n)}setAll(t){let n=fn.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=tu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Xi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Hs(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Dn(tu(this.value))}}function b1(r){const t=[];return Hs(r.fields,((n,s)=>{const o=new fn([n]);if(Eh(s)){const u=b1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new ni(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new sn(t,0,It.min(),It.min(),It.min(),Dn.empty(),0)}static newFoundDocument(t,n,s,o){return new sn(t,1,n,It.min(),s,o,0)}static newNoDocument(t,n){return new sn(t,2,n,It.min(),It.min(),Dn.empty(),0)}static newUnknownDocument(t,n){return new sn(t,3,n,It.min(),It.min(),Dn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,n){this.position=t,this.inclusive=n}}function tE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=_t.comparator(_t.fromName(f.referenceValue),n.key):s=No(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function eE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Xi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,n="asc"){this.field=t,this.dir=n}}function bD(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{}class Fe extends R1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new ID(t,n,s):n==="array-contains"?new xD(t,s):n==="in"?new ND(t,s):n==="not-in"?new OD(t,s):n==="array-contains-any"?new MD(t,s):new Fe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new CD(t,s):new DD(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(No(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends R1{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new xi(t,n)}matches(t){return I1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function I1(r){return r.op==="and"}function C1(r){return RD(r)&&I1(r)}function RD(r){for(const t of r.filters)if(t instanceof xi)return!1;return!0}function sp(r){if(r instanceof Fe)return r.field.canonicalString()+r.op.toString()+Oo(r.value);if(C1(r))return r.filters.map((t=>sp(t))).join(",");{const t=r.filters.map((n=>sp(n))).join(",");return`${r.op}(${t})`}}function D1(r,t){return r instanceof Fe?(function(s,o){return o instanceof Fe&&s.op===o.op&&s.field.isEqual(o.field)&&Xi(s.value,o.value)})(r,t):r instanceof xi?(function(s,o){return o instanceof xi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&D1(f,o.filters[m])),!0):!1})(r,t):void St(19439)}function x1(r){return r instanceof Fe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`})(r):r instanceof xi?(function(n){return n.op.toString()+" {"+n.getFilters().map(x1).join(" ,")+"}"})(r):"Filter"}class ID extends Fe{constructor(t,n,s){super(t,n,s),this.key=_t.fromName(s.referenceValue)}matches(t){const n=_t.comparator(t.key,this.key);return this.matchesComparison(n)}}class CD extends Fe{constructor(t,n){super(t,"in",n),this.keys=N1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class DD extends Fe{constructor(t,n){super(t,"not-in",n),this.keys=N1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function N1(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>_t.fromName(s.referenceValue)))}class xD extends Fe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Gp(n)&&hu(n.arrayValue,this.value)}}class ND extends Fe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class OD extends Fe{constructor(t,n){super(t,"not-in",n)}matches(t){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hu(this.value.arrayValue,n)}}class MD extends Fe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>hu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function nE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new VD(r,t,n,s,o,u,f)}function Qp(r){const t=xt(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>sp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Au(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Oo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Oo(s))).join(",")),t.Pe=n}return t.Pe}function Yp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!bD(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!D1(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!eE(r.startAt,t.startAt)&&eE(r.endAt,t.endAt)}function ap(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function kD(r,t,n,s,o,u,f,m){return new bu(r,t,n,s,o,u,f,m)}function Kp(r){return new bu(r)}function iE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function O1(r){return r.collectionGroup!==null}function eu(r){const t=xt(r);if(t.Te===null){t.Te=[];const n=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new $e(fn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Te.push(new Uh(u,s))})),n.has(fn.keyField().canonicalString())||t.Te.push(new Uh(fn.keyField(),s))}return t.Te}function Gi(r){const t=xt(r);return t.Ie||(t.Ie=PD(t,eu(r))),t.Ie}function PD(r,t){if(r.limitType==="F")return nE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Uh(o.field,u)}));const n=r.endAt?new Lh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Lh(r.startAt.position,r.startAt.inclusive):null;return nE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function op(r,t){const n=r.filters.concat([t]);return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function lp(r,t,n){return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function rf(r,t){return Yp(Gi(r),Gi(t))&&r.limitType===t.limitType}function M1(r){return`${Qp(Gi(r))}|lt:${r.limitType}`}function Eo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>x1(o))).join(", ")}]`),Au(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Oo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Oo(o))).join(",")),`Target(${s})`})(Gi(r))}; limitType=${r.limitType})`}function sf(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_t.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=tE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,eu(s),o)||s.endAt&&!(function(f,m,p){const g=tE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,eu(s),o))})(r,t)}function LD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function V1(r){return(t,n)=>{let s=!1;for(const o of eu(r)){const u=UD(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function UD(r,t,n){const s=r.field.isKeyField()?_t.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?No(p,g):St(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return St(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Hs(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new Se(_t.comparator);function Or(){return zD}const k1=new Se(_t.comparator);function Xl(...r){let t=k1;for(const n of r)t=t.insert(n.key,n);return t}function P1(r){let t=k1;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ta(){return nu()}function L1(){return nu()}function nu(){return new Ca((r=>r.toString()),((r,t)=>r.isEqual(t)))}const jD=new Se(_t.comparator),BD=new $e(_t.comparator);function Yt(...r){let t=BD;for(const n of r)t=t.add(n);return t}const qD=new $e(jt);function HD(){return qD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(t)?"-0":t}}function U1(r){return{integerValue:""+r}}function z1(r,t){return yD(t)?U1(t):Xp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this._=void 0}}function FD(r,t,n){return r instanceof zh?(function(o,u){const f={fields:{[E1]:{stringValue:v1},[S1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fp(u)&&(u=nf(u)),u&&(f.fields[T1]=u),{mapValue:f}})(n,t):r instanceof Mo?B1(r,t):r instanceof fu?q1(r,t):(function(o,u){const f=j1(o,u),m=rE(f)+rE(o.Ee);return rp(f)&&rp(o.Ee)?U1(m):Xp(o.serializer,m)})(r,t)}function GD(r,t,n){return r instanceof Mo?B1(r,t):r instanceof fu?q1(r,t):n}function j1(r,t){return r instanceof du?(function(s){return rp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class zh extends af{}class Mo extends af{constructor(t){super(),this.elements=t}}function B1(r,t){const n=H1(t);for(const s of r.elements)n.some((o=>Xi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class fu extends af{constructor(t){super(),this.elements=t}}function q1(r,t){let n=H1(t);for(const s of r.elements)n=n.filter((o=>!Xi(o,s)));return{arrayValue:{values:n}}}class du extends af{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function rE(r){return Ve(r.integerValue||r.doubleValue)}function H1(r){return Gp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,n){this.field=t,this.transform=n}}function QD(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Mo&&o instanceof Mo||s instanceof fu&&o instanceof fu?xo(s.elements,o.elements,Xi):s instanceof du&&o instanceof du?Xi(s.Ee,o.Ee):s instanceof zh&&o instanceof zh})(r.transform,t.transform)}class YD{constructor(t,n){this.version=t,this.transformResults=n}}class Xe{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Xe}static exists(t){return new Xe(void 0,t)}static updateTime(t){return new Xe(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Th(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class of{}function G1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Iu(r.key,Xe.none()):new Ru(r.key,r.data,Xe.none());{const n=r.data,s=Dn.empty();let o=new $e(fn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Fs(r.key,s,new ni(o.toArray()),Xe.none())}}function KD(r,t,n){r instanceof Ru?(function(o,u,f){const m=o.value.clone(),p=aE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof Fs?(function(o,u,f){if(!Th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=aE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Q1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function iu(r,t,n,s){return r instanceof Ru?(function(u,f,m,p){if(!Th(u.precondition,f))return m;const g=u.value.clone(),E=oE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,t,n,s):r instanceof Fs?(function(u,f,m,p){if(!Th(u.precondition,f))return m;const g=oE(u.fieldTransforms,p,f),E=f.data;return E.setAll(Q1(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,f,m){return Th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function XD(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=j1(s.transform,o||null);u!=null&&(n===null&&(n=Dn.empty()),n.set(s.field,u))}return n||null}function sE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&xo(s,o,((u,f)=>QD(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ru extends of{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fs extends of{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Q1(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function aE(r,t,n){const s=new Map;Jt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,GD(f,m,n[o]))}return s}function oE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,FD(u,f,t))}return s}class Iu extends of{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y1 extends of{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&KD(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=iu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=iu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=L1();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=G1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(It.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Yt())}isEqual(t){return this.batchId===t.batchId&&xo(this.mutations,t.mutations,((n,s)=>sE(n,s)))&&xo(this.baseMutations,t.baseMutations,((n,s)=>sE(n,s)))}}class $p{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Jt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=(function(){return jD})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new $p(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,$t;function K1(r){switch(r){case et.OK:return St(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return St(15467,{code:r})}}function X1(r){if(r===void 0)return Nr("GRPC error has no .code"),et.UNKNOWN;switch(r){case He.OK:return et.OK;case He.CANCELLED:return et.CANCELLED;case He.UNKNOWN:return et.UNKNOWN;case He.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case He.INTERNAL:return et.INTERNAL;case He.UNAVAILABLE:return et.UNAVAILABLE;case He.UNAUTHENTICATED:return et.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case He.NOT_FOUND:return et.NOT_FOUND;case He.ALREADY_EXISTS:return et.ALREADY_EXISTS;case He.PERMISSION_DENIED:return et.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case He.ABORTED:return et.ABORTED;case He.OUT_OF_RANGE:return et.OUT_OF_RANGE;case He.UNIMPLEMENTED:return et.UNIMPLEMENTED;case He.DATA_LOSS:return et.DATA_LOSS;default:return St(39323,{code:r})}}($t=He||(He={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new Ns([4294967295,4294967295],0);function lE(r){const t=d1().encode(r),n=new s1;return n.update(t),new Uint8Array(n.digest())}function uE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ns([n,s],0),new Ns([o,u],0)]}class Jp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(s<0)throw new $l(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Ns.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(Ns.fromNumber(s)));return o.compare(WD)===1&&(o=new Ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=lE(t),[s,o]=uE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Jp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.fe===0)return;const n=lE(t),[s,o]=uE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Cu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new lf(It.min(),o,new Se(jt),Or(),Yt())}}class Cu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Cu(s,n,Yt(),Yt(),Yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class $1{constructor(t,n){this.targetId=t,this.De=n}}class J1{constructor(t,n,s=dn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class cE{constructor(){this.ve=0,this.Ce=hE(),this.Fe=dn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Yt(),n=Yt(),s=Yt();return this.Ce.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:St(38017,{changeType:u})}})),new Cu(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=hE()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class tx{constructor(t){this.We=t,this.Ge=new Map,this.ze=Or(),this.je=ch(),this.Je=ch(),this.He=new Se(jt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,(n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const u=o.target;if(ap(u))if(s===0){const f=new _t(u.path);this.Xe(n,f,sn.newNoDocument(f,It.min()))}else Jt(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(t),p=m?this.ut(m,t,f):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Us(s).toUint8Array()}catch(p){if(p instanceof _1)return ks("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Jp(f,o,u)}catch(p){return ks(p instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(t){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&ap(m.target)){const p=new _t(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,sn.newNoDocument(p,t))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=Yt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(t)));const o=new lf(t,n,this.He,this.ze,s);return this.ze=Or(),this.je=ch(),this.Je=ch(),this.He=new Se(jt),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new cE,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new $e(jt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new $e(jt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||dt("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new cE),this.We.getRemoteKeysForTarget(t).forEach((n=>{this.Xe(t,n,null)}))}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function ch(){return new Se(_t.comparator)}function hE(){return new Se(_t.comparator)}const ex={asc:"ASCENDING",desc:"DESCENDING"},nx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ix={and:"AND",or:"OR"};class rx{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function up(r,t){return r.useProto3Json||Au(t)?t:{value:t}}function jh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Z1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function sx(r,t){return jh(r,t.toTimestamp())}function ri(r){return Jt(!!r,49232),It.fromTimestamp((function(n){const s=Ls(n);return new _e(s.seconds,s.nanos)})(r))}function Zp(r,t){return cp(r,t).canonicalString()}function cp(r,t){const n=(function(o){return new fe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function W1(r){const t=fe.fromString(r);return Jt(sS(t),10190,{key:t.toString()}),t}function Bh(r,t){return Zp(r.databaseId,t.path)}function ru(r,t){const n=W1(t);if(n.get(1)!==r.databaseId.projectId)throw new ht(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ht(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _t(eS(n))}function tS(r,t){return Zp(r.databaseId,t)}function ax(r){const t=W1(r);return t.length===4?fe.emptyPath():eS(t)}function hp(r){return new fe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function eS(r){return Jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function fE(r,t,n){return{name:Bh(r,t),fields:n.value.mapValue.fields}}function ox(r,t){return"found"in t?(function(s,o){Jt(!!o.found,43571),o.found.name,o.found.updateTime;const u=ru(s,o.found.name),f=ri(o.found.updateTime),m=o.found.createTime?ri(o.found.createTime):It.min(),p=new Dn({mapValue:{fields:o.found.fields}});return sn.newFoundDocument(u,f,m,p)})(r,t):"missing"in t?(function(s,o){Jt(!!o.missing,3894),Jt(!!o.readTime,22933);const u=ru(s,o.missing),f=ri(o.readTime);return sn.newNoDocument(u,f)})(r,t):St(7234,{result:t})}function lx(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Jt(E===void 0||typeof E=="string",58123),dn.fromBase64String(E||"")):(Jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),dn.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?et.UNKNOWN:X1(g.code);return new ht(E,g.message||"")})(f);n=new J1(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=ru(r,s.document.name),u=ri(s.document.updateTime),f=s.document.createTime?ri(s.document.createTime):It.min(),m=new Dn({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Sh(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=ru(r,s.document),u=s.readTime?ri(s.readTime):It.min(),f=sn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Sh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=ru(r,s.document),u=s.removedTargetIds||[];n=new Sh([],u,o,null)}else{if(!("filter"in t))return St(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new ZD(o,u),m=s.targetId;n=new $1(m,f)}}return n}function nS(r,t){let n;if(t instanceof Ru)n={update:fE(r,t.key,t.value)};else if(t instanceof Iu)n={delete:Bh(r,t.key)};else if(t instanceof Fs)n={update:fE(r,t.key,t.data),updateMask:yx(t.fieldMask)};else{if(!(t instanceof Y1))return St(16599,{Rt:t.type});n={verify:Bh(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof zh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Mo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof du)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw St(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:sx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:St(27497)})(r,t.precondition)),n}function ux(r,t){return r&&r.length>0?(Jt(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?ri(o.updateTime):ri(u);return f.isEqual(It.min())&&(f=ri(u)),new YD(f,o.transformResults||[])})(n,t)))):[]}function cx(r,t){return{documents:[tS(r,t.path)]}}function hx(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=tS(r,o);const u=(function(g){if(g.length!==0)return rS(xi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:To(A.field),direction:mx(A.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=up(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{Vt:n,parent:o}}function fx(r){let t=ax(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Jt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const A=iS(T);return A instanceof xi&&C1(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((A=>(function(B){return new Uh(So(B.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Au(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,V=T.values||[];return new Lh(V,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,V=T.values||[];return new Lh(V,A)})(n.endAt)),kD(t,o,f,u,m,"F",p,g)}function dx(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function iS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=So(n.unaryFilter.field);return Fe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=So(n.unaryFilter.field);return Fe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=So(n.unaryFilter.field);return Fe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=So(n.unaryFilter.field);return Fe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Fe.create(So(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return xi.create(n.compositeFilter.filters.map((s=>iS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(n.compositeFilter.op))})(r):St(30097,{filter:r})}function mx(r){return ex[r]}function px(r){return nx[r]}function gx(r){return ix[r]}function To(r){return{fieldPath:r.canonicalString()}}function So(r){return fn.fromServerFormat(r.fieldPath)}function rS(r){return r instanceof Fe?(function(n){if(n.op==="=="){if(W0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(Z0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(Z0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:px(n.op),value:n.value}}})(r):r instanceof xi?(function(n){const s=n.getFilters().map((o=>rS(o)));return s.length===1?s[0]:{compositeFilter:{op:gx(n.op),filters:s}}})(r):St(54877,{filter:r})}function yx(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function sS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(t,n,s,o,u=It.min(),f=It.min(),m=dn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new bs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t){this.gt=t}}function vx(r){const t=fx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.Dn=new Tx}addToCollectionParentIndex(t,n){return this.Dn.add(n),rt.resolve()}getCollectionParents(t,n){return rt.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return rt.resolve()}deleteFieldIndex(t,n){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,n){return rt.resolve()}getDocumentsMatchingTarget(t,n){return rt.resolve(null)}getIndexType(t,n){return rt.resolve(0)}getFieldIndexes(t,n){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,n){return rt.resolve(Ps.min())}getMinOffsetFromCollectionGroup(t,n){return rt.resolve(Ps.min())}updateCollectionGroup(t,n,s){return rt.resolve()}updateIndexEntries(t,n){return rt.resolve()}}class Tx{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new $e(fe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new $e(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aS=41943040;class jn{static withCacheSize(t){return new jn(t,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(aS,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Vo(0)}static ur(){return new Vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="LruGarbageCollector",Sx=1048576;function pE([r,t],[n,s]){const o=jt(r,n);return o===0?jt(t,s):o}class wx{constructor(t){this.Tr=t,this.buffer=new $e(pE),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();pE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ax{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){dt(mE,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qo(n)?dt(mE,"Ignoring IndexedDB error during garbage collection: ",n):await Bo(n)}await this.Rr(3e5)}))}}class bx{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return rt.resolve(ef.ue);const s=new wx(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(dE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dE):this.pr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),vo()<=Qt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function Rx(r,t){return new bx(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.changes=new Ca((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?rt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&iu(s.mutation,o,ni.empty(),_e.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Yt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Yt()){const o=Ta();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Xl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Ta();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Yt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=Or();const f=nu(),m=(function(){return nu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Fs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),iu(E.mutation,g,E.mutation.getFieldMask(),_e.now())):f.set(g.key,ni.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>{var T;return m.set(g,new Cx(E,(T=f.get(g))!==null&&T!==void 0?T:null))})),m)))}recalculateAndSaveOverlays(t,n){const s=nu();let o=new Se(((f,m)=>f-m)),u=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||ni.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Yt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=L1();E.forEach((A=>{if(!u.has(A)){const V=G1(n.get(A),s.get(A));V!==null&&T.set(A,V),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,T))}return rt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return _t.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):O1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):rt.resolve(Ta());let m=lu,p=u;return f.next((g=>rt.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?rt.resolve():this.remoteDocumentCache.getEntry(t,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Yt()))).next((E=>({batchId:m,changes:P1(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new _t(n)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Xl();return this.indexManager.getCollectionParents(t,u).next((m=>rt.forEach(m,(p=>{const g=(function(T,A){return new bu(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((E=>{E.forEach(((T,A)=>{f=f.insert(T,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,sn.newInvalidDocument(E)))}));let m=Xl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&iu(E.mutation,g,ni.empty(),_e.now()),sf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return rt.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}})(n)),rt.resolve()}getNamedQuery(t,n){return rt.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:vx(o.bundledQuery),readTime:ri(o.readTime)}})(n)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.overlays=new Se(_t.comparator),this.kr=new Map}getOverlay(t,n){return rt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ta();return rt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.wt(t,n,u)})),rt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),rt.resolve()}getOverlaysForCollection(t,n,s){const o=Ta(),u=n.length+1,f=new _t(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return rt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new Se(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ta(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ta(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return rt.resolve(m)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new JD(n,s));let u=this.kr.get(n);u===void 0&&(u=Yt(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this.qr=new $e(rn.Qr),this.$r=new $e(rn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new rn(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new rn(t,n))}Gr(t,n){t.forEach((s=>this.removeReference(s,n)))}zr(t){const n=new _t(new fe([])),s=new rn(n,t),o=new rn(n,t+1),u=[];return this.$r.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new _t(new fe([])),s=new rn(n,t),o=new rn(n,t+1);let u=Yt();return this.$r.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new rn(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class rn{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return _t.comparator(t.key,n.key)||jt(t.Hr,n.Hr)}static Ur(t,n){return jt(t.Hr,n.Hr)||_t.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new $e(rn.Qr)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new $D(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new rn(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return rt.resolve(f)}lookupMutationBatch(t,n){return rt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return rt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?Hp:this.er-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new rn(n,0),o=new rn(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),rt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new $e(jt);return n.forEach((o=>{const u=new rn(o,0),f=new rn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),rt.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;_t.isDocumentKey(u)||(u=u.child(""));const f=new rn(new _t(u),0);let m=new $e(jt);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),f),rt.resolve(this.ei(m))}ei(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Jt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return rt.forEach(n.mutations,(o=>{const u=new rn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Yr=s}))}rr(t){}containsKey(t,n){const s=new rn(n,0),o=this.Yr.firstAfterOrEqual(s);return rt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(t){this.ni=t,this.docs=(function(){return new Se(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return rt.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(t,n){let s=Or();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),rt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Or();const f=n.path,m=new _t(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||dD(fD(E),s)<=0||(o.has(E.key)||sf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return rt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){St(9500)}ri(t,n){return rt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new kx(this)}getSize(t){return rt.resolve(this.size)}}class kx extends Ix{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)})),rt.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(t){this.persistence=t,this.ii=new Ca((n=>Qp(n)),Yp),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.si=0,this.oi=new Wp,this.targetCount=0,this._i=Vo.ar()}forEachTarget(t,n){return this.ii.forEach(((s,o)=>n(o))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),rt.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Vo(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,rt.resolve()}updateTargetData(t,n){return this.hr(n),rt.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),rt.waitFor(u).next((()=>o))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return rt.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),rt.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),rt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),rt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return rt.resolve(s)}containsKey(t,n){return rt.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t,n){this.ai={},this.overlays={},this.ui=new ef(0),this.ci=!1,this.ci=!0,this.li=new Ox,this.referenceDelegate=t(this),this.hi=new Px(this),this.indexManager=new Ex,this.remoteDocumentCache=(function(o){return new Vx(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new _x(n),this.Ti=new xx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Nx,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new Mx(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){dt("MemoryPersistence","Starting transaction:",t);const o=new Lx(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return rt.or(Object.values(this.ai).map((s=>()=>s.containsKey(t,n))))}}class Lx extends pD{constructor(t){super(),this.currentSequenceNumber=t}}class tg{constructor(t){this.persistence=t,this.Ai=new Wp,this.Ri=null}static Vi(t){return new tg(t)}get mi(){if(this.Ri)return this.Ri;throw St(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),rt.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),rt.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),rt.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.mi,(s=>{const o=_t.fromPath(s);return this.fi(t,o).next((u=>{u||n.removeEntry(o,It.min())}))})).next((()=>(this.Ri=null,n.apply(t))))}updateLimboDocument(t,n){return this.fi(t,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(t){return 0}fi(t,n){return rt.or([()=>rt.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class qh{constructor(t,n){this.persistence=t,this.gi=new Ca((s=>_D(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Rx(this,n)}static Vi(t,n){return new qh(t,n)}Ii(){}di(t){return rt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}yr(t){let n=0;return this.gr(t,(s=>{n++})).next((()=>n))}gr(t,n){return rt.forEach(this.gi,((s,o)=>this.Sr(t,s,o).next((u=>u?rt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,(f=>this.Sr(t,f,n).next((m=>{m||(s++,u.removeEntry(f,It.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),rt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),rt.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),rt.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=vh(t.data.value)),n}Sr(t,n,s){return rt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return rt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=Yt(),o=Yt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new eg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return zR()?8:gD(Tn())>0?6:4})()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ps(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new Ux;return this.ws(t,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(t,n,f,m.size)}))})).next((()=>u.result))}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(vo()<=Qt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),rt.resolve()):(vo()<=Qt.DEBUG&&dt("QueryEngine","Query:",Eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(vo()<=Qt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Gi(n))):rt.resolve())}ps(t,n){if(iE(n))return rt.resolve(null);let s=Gi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=lp(n,null,"F"),s=Gi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Yt(...u);return this.gs.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,f,p.readTime)?this.ps(t,lp(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ys(t,n,s,o){return iE(n)||o.isEqual(It.min())?rt.resolve(null):this.gs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?rt.resolve(null):(vo()<=Qt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(n)),this.vs(t,f,n,hD(o,lu)).next((m=>m)))}))}bs(t,n){let s=new $e(V1(t));return n.forEach(((o,u)=>{sf(t,u)&&(s=s.add(u))})),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,n,s){return vo()<=Qt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.gs.getDocumentsMatchingQuery(t,n,Ps.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="LocalStore",jx=3e8;class Bx{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new Se(jt),this.Ms=new Ca((u=>Qp(u)),Yp),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Dx(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Fs)))}}function qx(r,t,n,s){return new Bx(r,t,n,s)}async function lS(r,t){const n=xt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Yt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function Hx(r,t){const n=xt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,A=T.keys();let V=rt.resolve();return A.forEach((B=>{V=V.next((()=>E.getEntry(p,B))).next((X=>{const q=g.docVersions.get(B);Jt(q!==null,48541),X.version.compareTo(q)<0&&(T.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),E.addEntry(X)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Yt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function uS(r){const t=xt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.hi.getLastRemoteSnapshotVersion(n)))}function Fx(r,t){const n=xt(r),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];t.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.hi.addMatchingKeys(u,E.addedDocuments,T))));let V=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?V=V.withResumeToken(dn.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(T,V),(function(X,q,at){return X.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=jx?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(A,V,E)&&m.push(n.hi.updateTargetData(u,V))}));let p=Or(),g=Yt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(Gx(u,f,t.documentUpdates).next((E=>{p=E.Ls,g=E.ks}))),!s.isEqual(It.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next((T=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return rt.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function Gx(r,t,n){let s=Yt(),o=Yt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=Or();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(It.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):dt(ng,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:f,ks:o}}))}function Qx(r,t){const n=xt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Hp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function Yx(r,t){const n=xt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,t).next((u=>u?(o=u,rt.resolve(o)):n.hi.allocateTargetId(s).next((f=>(o=new bs(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s}))}async function fp(r,t,n){const s=xt(r),o=s.Fs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!qo(f))throw f;dt(ng,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function gE(r,t,n){const s=xt(r);let o=It.min(),u=Yt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=xt(p),A=T.Ms.get(E);return A!==void 0?rt.resolve(T.Fs.get(A)):T.hi.getTargetData(g,E)})(s,f,Gi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:It.min(),n?u:Yt()))).next((m=>(Kx(s,LD(t),m),{documents:m,qs:u})))))}function Kx(r,t,n){let s=r.xs.get(t)||It.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(t,s)}class yE{constructor(){this.activeTargetIds=HD()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Xx{constructor(){this.Fo=new yE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new yE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="ConnectivityMonitor";class vE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){dt(_E,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){dt(_E,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function dp(){return hh===null?hh=(function(){return 268435456+Math.round(2147483648*Math.random())})():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="RestConnection",Jx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zx{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=dp(),m=this.Go(t,n.toUriEncodedString());dt(Om,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=Lo(g);return this.jo(t,m,p,s,E).then((T=>(dt(Om,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw ks(Om,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}zo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Go(t,n){const s=Jx[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class tN extends Zx{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,u){const f=dp();return new Promise(((m,p)=>{const g=new a1;g.setWithCredentials(!0),g.listenOnce(o1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case _h.NO_ERROR:const T=g.getResponseJson();dt(vn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case _h.TIMEOUT:dt(vn,`RPC '${t}' ${f} timed out`),p(new ht(et.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const A=g.getStatus();if(dt(vn,`RPC '${t}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const B=V==null?void 0:V.error;if(B&&B.status&&B.message){const X=(function(at){const ut=at.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(ut)>=0?ut:et.UNKNOWN})(B.status);p(new ht(X,B.message))}else p(new ht(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ht(et.UNAVAILABLE,"Connection failed."));break;default:St(9055,{c_:t,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{dt(vn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);dt(vn,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}P_(t,n,s){const o=dp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=c1(),m=u1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");dt(vn,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.T_(T);let A=!1,V=!1;const B=new Wx({Ho:q=>{V?dt(vn,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(A||(dt(vn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),A=!0),dt(vn,`RPC '${t}' stream ${o} sending:`,q),T.send(q))},Yo:()=>T.close()}),X=(q,at,ut)=>{q.listen(at,(it=>{try{ut(it)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return X(T,Kl.EventType.OPEN,(()=>{V||(dt(vn,`RPC '${t}' stream ${o} transport opened.`),B.s_())})),X(T,Kl.EventType.CLOSE,(()=>{V||(V=!0,dt(vn,`RPC '${t}' stream ${o} transport closed`),B.__(),this.I_(T))})),X(T,Kl.EventType.ERROR,(q=>{V||(V=!0,ks(vn,`RPC '${t}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),B.__(new ht(et.UNAVAILABLE,"The operation could not be completed")))})),X(T,Kl.EventType.MESSAGE,(q=>{var at;if(!V){const ut=q.data[0];Jt(!!ut,16349);const it=ut,Tt=(it==null?void 0:it.error)||((at=it[0])===null||at===void 0?void 0:at.error);if(Tt){dt(vn,`RPC '${t}' stream ${o} received error:`,Tt);const Vt=Tt.status;let wt=(function(R){const M=He[R];if(M!==void 0)return X1(M)})(Vt),x=Tt.message;wt===void 0&&(wt=et.INTERNAL,x="Unknown error status: "+Vt+" with message "+Tt.message),V=!0,B.__(new ht(wt,x)),T.close()}else dt(vn,`RPC '${t}' stream ${o} received:`,ut),B.a_(ut)}})),X(m,l1.STAT_EVENT,(q=>{q.stat===ep.PROXY?dt(vn,`RPC '${t}' stream ${o} detected buffering proxy`):q.stat===ep.NOPROXY&&dt(vn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.o_()}),0),B}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((n=>n===t))}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(r){return new rx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&dt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="PersistentStream";class cS{constructor(t,n,s,o,u,f,m,p){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ig(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{t((()=>{const o=new ht(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return dt(EE,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget((()=>this.b_===t?n():(dt(EE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eN extends cS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=lx(this.serializer,t),s=(function(u){if(!("targetChange"in u))return It.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?It.min():f.readTime?ri(f.readTime):It.min()})(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=hp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=ap(p)?{documents:cx(u,p)}:{query:hx(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Z1(u,f.resumeToken);const g=up(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(It.min())>0){m.readTime=jh(u,f.snapshotVersion.toTimestamp());const g=up(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=dx(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=hp(this.serializer),n.removeTarget=t,this.k_(n)}}class nN extends cS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return Jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=ux(t.writeResults,t.commitTime),s=ri(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=hp(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>nS(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{}class rN extends iN{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ht(et.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,cp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(et.UNKNOWN,u.toString())}))}Jo(t,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(t,cp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(et.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class sN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Nr(n),this._a=!1):dt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="RemoteStore";class aN{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{Da(this)&&(dt(Ra,"Restarting streams for network reachability change."),await(async function(p){const g=xt(p);g.Ia.add(4),await Du(g),g.Aa.set("Unknown"),g.Ia.delete(4),await cf(g)})(this))}))})),this.Aa=new sN(s,o)}}async function cf(r){if(Da(r))for(const t of r.da)await t(!0)}async function Du(r){for(const t of r.da)await t(!1)}function hS(r,t){const n=xt(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),og(n)?ag(n):Ho(n).x_()&&sg(n,t))}function rg(r,t){const n=xt(r),s=Ho(n);n.Ta.delete(t),s.x_()&&fS(n,t),n.Ta.size===0&&(s.x_()?s.B_():Da(n)&&n.Aa.set("Unknown"))}function sg(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ho(r).H_(t)}function fS(r,t){r.Ra.$e(t),Ho(r).Y_(t)}function ag(r){r.Ra=new tx({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),Ho(r).start(),r.Aa.aa()}function og(r){return Da(r)&&!Ho(r).M_()&&r.Ta.size>0}function Da(r){return xt(r).Ia.size===0}function dS(r){r.Ra=void 0}async function oN(r){r.Aa.set("Online")}async function lN(r){r.Ta.forEach(((t,n)=>{sg(r,t)}))}async function uN(r,t){dS(r),og(r)?(r.Aa.la(t),ag(r)):r.Aa.set("Unknown")}async function cN(r,t,n){if(r.Aa.set("Online"),t instanceof J1&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))})(r,t)}catch(s){dt(Ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Hh(r,s)}else if(t instanceof Sh?r.Ra.Ye(t):t instanceof $1?r.Ra.it(t):r.Ra.et(t),!n.isEqual(It.min()))try{const s=await uS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(dn.EMPTY_BYTE_STRING,E.snapshotVersion)),fS(u,p);const T=new bs(E.target,p,g,E.sequenceNumber);sg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){dt(Ra,"Failed to raise snapshot:",s),await Hh(r,s)}}async function Hh(r,t,n){if(!qo(t))throw t;r.Ia.add(1),await Du(r),r.Aa.set("Offline"),n||(n=()=>uS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{dt(Ra,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await cf(r)}))}function mS(r,t){return t().catch((n=>Hh(r,n,t)))}async function hf(r){const t=xt(r),n=js(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Hp;for(;hN(t);)try{const o=await Qx(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,fN(t,o)}catch(o){await Hh(t,o)}pS(t)&&gS(t)}function hN(r){return Da(r)&&r.Pa.length<10}function fN(r,t){r.Pa.push(t);const n=js(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function pS(r){return Da(r)&&!js(r).M_()&&r.Pa.length>0}function gS(r){js(r).start()}async function dN(r){js(r).na()}async function mN(r){const t=js(r);for(const n of r.Pa)t.X_(n.mutations)}async function pN(r,t,n){const s=r.Pa.shift(),o=$p.from(s,t,n);await mS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await hf(r)}async function gN(r,t){t&&js(r).Z_&&await(async function(s,o){if((function(f){return K1(f)&&f!==et.ABORTED})(o.code)){const u=s.Pa.shift();js(s).N_(),await mS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await hf(s)}})(r,t),pS(r)&&gS(r)}async function TE(r,t){const n=xt(r);n.asyncQueue.verifyOperationInProgress(),dt(Ra,"RemoteStore received new credentials");const s=Da(n);n.Ia.add(3),await Du(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await cf(n)}async function yN(r,t){const n=xt(r);t?(n.Ia.delete(2),await cf(n)):t||(n.Ia.add(2),await Du(n),n.Aa.set("Unknown"))}function Ho(r){return r.Va||(r.Va=(function(n,s,o){const u=xt(n);return u.ia(),new eN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:oN.bind(null,r),e_:lN.bind(null,r),n_:uN.bind(null,r),J_:cN.bind(null,r)}),r.da.push((async t=>{t?(r.Va.N_(),og(r)?ag(r):r.Aa.set("Unknown")):(await r.Va.stop(),dS(r))}))),r.Va}function js(r){return r.ma||(r.ma=(function(n,s,o){const u=xt(n);return u.ia(),new nN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:dN.bind(null,r),n_:gN.bind(null,r),ea:mN.bind(null,r),ta:pN.bind(null,r)}),r.da.push((async t=>{t?(r.ma.N_(),await hf(r)):(await r.ma.stop(),r.Pa.length>0&&(dt(Ra,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new lg(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(r,t){if(Nr("AsyncQueue",`${t}: ${r}`),qo(r))return new ht(et.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{static emptySet(t){return new Io(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||_t.comparator(n.key,s.key):(n,s)=>_t.comparator(n.key,s.key),this.keyedMap=Xl(),this.sortedSet=new Se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Io)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Io;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.fa=new Se(_t.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):St(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal(((n,s)=>{t.push(s)})),t}}class ko{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new ko(t,n,Io.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class vN{constructor(){this.queries=wE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=xt(n),u=o.queries;o.queries=wE(),u.forEach(((f,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ht(et.ABORTED,"Firestore shutting down"))}}function wE(){return new Ca((r=>M1(r)),rf)}async function yS(r,t){const n=xt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new _N,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ug(f,`Initialization of query '${Eo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.wa.push(t),t.va(n.onlineState),u.ya&&t.Ca(u.ya)&&cg(n)}async function _S(r,t){const n=xt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(t);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function EN(r,t){const n=xt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&cg(n)}function TN(r,t,n){const s=xt(r),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(t)}function cg(r){r.Da.forEach((t=>{t.next()}))}var mp,AE;(AE=mp||(mp={})).Fa="default",AE.Cache="cache";class vS{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new ko(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=ko.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t){this.key=t}}class TS{constructor(t){this.key=t}}class SN{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Yt(),this.mutatedKeys=Yt(),this.Xa=V1(t),this.eu=new Io(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new SE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const A=o.get(E),V=sf(this.query,T)?T:null,B=!!A&&this.mutatedKeys.has(A.key),X=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let q=!1;A&&V?A.data.isEqual(V.data)?B!==X&&(s.track({type:3,doc:V}),q=!0):this.iu(A,V)||(s.track({type:2,doc:V}),q=!0,(p&&this.Xa(V,p)>0||g&&this.Xa(V,g)<0)&&(m=!0)):!A&&V?(s.track({type:0,doc:V}),q=!0):A&&!V&&(s.track({type:1,doc:A}),q=!0,(p||g)&&(m=!0)),q&&(V?(f=f.add(V),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const f=t.ru.pa();f.sort(((E,T)=>(function(V,B){const X=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{At:q})}};return X(V)-X(B)})(E.type,T.type)||this.Xa(E.doc,T.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new ko(this.query,t.eu,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new SE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Yt(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return t.forEach((s=>{this.Za.has(s)||n.push(new TS(s))})),this.Za.forEach((s=>{t.has(s)||n.push(new ES(s))})),n}uu(t){this.Ha=t.qs,this.Za=Yt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return ko.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const hg="SyncEngine";class wN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class AN{constructor(t){this.key=t,this.lu=!1}}class bN{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Ca((m=>M1(m)),rf),this.Tu=new Map,this.Iu=new Set,this.du=new Se(_t.comparator),this.Eu=new Map,this.Au=new Wp,this.Ru={},this.Vu=new Map,this.mu=Vo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function RN(r,t,n=!0){const s=IS(r);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await SS(s,t,n,!0),o}async function IN(r,t){const n=IS(r);await SS(n,t,!0,!1)}async function SS(r,t,n,s){const o=await Yx(r.localStore,Gi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await CN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&hS(r.remoteStore,o),m}async function CN(r,t,n,s,o){r.gu=(T,A,V)=>(async function(X,q,at,ut){let it=q.view.nu(at);it.Ds&&(it=await gE(X.localStore,q.query,!1).then((({documents:x})=>q.view.nu(x,it))));const Tt=ut&&ut.targetChanges.get(q.targetId),Vt=ut&&ut.targetMismatches.get(q.targetId)!=null,wt=q.view.applyChanges(it,X.isPrimaryClient,Tt,Vt);return RE(X,q.targetId,wt._u),wt.snapshot})(r,T,A,V);const u=await gE(r.localStore,t,!0),f=new SN(t,u.qs),m=f.nu(u.documents),p=Cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);RE(r,n,g._u);const E=new wN(t,n,f);return r.Pu.set(t,E),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),g.snapshot}async function DN(r,t,n){const s=xt(r),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((f=>!rf(f,t)))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&rg(s.remoteStore,o.targetId),pp(s,o.targetId)})).catch(Bo)):(pp(s,o.targetId),await fp(s.localStore,o.targetId,!0))}async function xN(r,t){const n=xt(r),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),rg(n.remoteStore,s.targetId))}async function NN(r,t,n){const s=UN(r);try{const o=await(function(f,m){const p=xt(f),g=_e.now(),E=m.reduce(((V,B)=>V.add(B.key)),Yt());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let B=Or(),X=Yt();return p.Os.getEntries(V,E).next((q=>{B=q,B.forEach(((at,ut)=>{ut.isValidDocument()||(X=X.add(at))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,B))).next((q=>{T=q;const at=[];for(const ut of m){const it=XD(ut,T.get(ut.key).overlayedDocument);it!=null&&at.push(new Fs(ut.key,it,b1(it.value.mapValue),Xe.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,at,m)})).next((q=>{A=q;const at=q.applyToLocalDocumentSet(T,X);return p.documentOverlayCache.saveOverlays(V,q.batchId,at)}))})).then((()=>({batchId:A.batchId,changes:P1(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new Se(jt)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g})(s,o.batchId,n),await xu(s,o.changes),await hf(s.remoteStore)}catch(o){const u=ug(o,"Failed to persist write");n.reject(u)}}async function wS(r,t){const n=xt(r);try{const s=await Fx(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&(Jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?Jt(f.lu,14607):o.removedDocuments.size>0&&(Jt(f.lu,42227),f.lu=!1))})),await xu(n,s,t)}catch(s){await Bo(s)}}function bE(r,t,n){const s=xt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=xt(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const A of T.wa)A.va(m)&&(g=!0)})),g&&cg(p)})(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function ON(r,t,n){const s=xt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let f=new Se(_t.comparator);f=f.insert(u,sn.newNoDocument(u,It.min()));const m=Yt().add(u),p=new lf(It.min(),new Map,new Se(jt),f,m);await wS(s,p),s.du=s.du.remove(u),s.Eu.delete(t),fg(s)}else await fp(s.localStore,t,!1).then((()=>pp(s,t,n))).catch(Bo)}async function MN(r,t){const n=xt(r),s=t.batch.batchId;try{const o=await Hx(n.localStore,t);bS(n,s,null),AS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xu(n,o)}catch(o){await Bo(o)}}async function VN(r,t,n){const s=xt(r);try{const o=await(function(f,m){const p=xt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Jt(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,t);bS(s,t,n),AS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await xu(s,o)}catch(o){await Bo(o)}}function AS(r,t){(r.Vu.get(t)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(t)}function bS(r,t,n){const s=xt(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function pp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach((s=>{r.Au.containsKey(s)||RS(r,s)}))}function RS(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(rg(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),fg(r))}function RE(r,t,n){for(const s of n)s instanceof ES?(r.Au.addReference(s.key,t),kN(r,s)):s instanceof TS?(dt(hg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||RS(r,s.key)):St(19791,{yu:s})}function kN(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(dt(hg,"New document in limbo: "+n),r.Iu.add(s),fg(r))}function fg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new _t(fe.fromString(t)),s=r.mu.next();r.Eu.set(s,new AN(n)),r.du=r.du.insert(n,s),hS(r.remoteStore,new bs(Gi(Kp(n.path)),s,"TargetPurposeLimboResolution",ef.ue))}}async function xu(r,t,n){const s=xt(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{f.push(s.gu(p,t,n).then((g=>{var E;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=eg.Es(p.targetId,g);u.push(T)}})))})),await Promise.all(f),s.hu.J_(o),await(async function(p,g){const E=xt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>rt.forEach(g,(A=>rt.forEach(A.Is,(V=>E.persistence.referenceDelegate.addReference(T,A.targetId,V))).next((()=>rt.forEach(A.ds,(V=>E.persistence.referenceDelegate.removeReference(T,A.targetId,V)))))))))}catch(T){if(!qo(T))throw T;dt(ng,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const V=E.Fs.get(A),B=V.snapshotVersion,X=V.withLastLimboFreeSnapshotVersion(B);E.Fs=E.Fs.insert(A,X)}}})(s.localStore,u))}async function PN(r,t){const n=xt(r);if(!n.currentUser.isEqual(t)){dt(hg,"User change. New user:",t.toKey());const s=await lS(n.localStore,t);n.currentUser=t,(function(u,f){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ht(et.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await xu(n,s.Bs)}}function LN(r,t){const n=xt(r),s=n.Eu.get(t);if(s&&s.lu)return Yt().add(s.key);{let o=Yt();const u=n.Tu.get(t);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function IS(r){const t=xt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=wS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ON.bind(null,t),t.hu.J_=EN.bind(null,t.eventManager),t.hu.pu=TN.bind(null,t.eventManager),t}function UN(r){const t=xt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VN.bind(null,t),t}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=uf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return qx(this.persistence,new zx,t.initialUser,this.serializer)}Du(t){return new oS(tg.Vi,this.serializer)}bu(t){return new Xx}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class zN extends Fh{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){Jt(this.persistence.referenceDelegate instanceof qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ax(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new oS((s=>qh.Vi(s,n)),this.serializer)}}class gp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>bE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=PN.bind(null,this.syncEngine),await yN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new vN})()}createDatastore(t){const n=uf(t.databaseInfo.databaseId),s=(function(u){return new tN(u)})(t.databaseInfo);return(function(u,f,m,p){return new rN(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new aN(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>bE(this.syncEngine,n,0)),(function(){return vE.C()?new vE:new $x})())}createSyncEngine(t,n){return(function(o,u,f,m,p,g,E){const T=new bN(o,u,f,m,p,g);return E&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=xt(o);dt(Ra,"RemoteStore shutting down."),u.Ia.add(5),await Du(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gp.provider={build:()=>new gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Nr("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ht(et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=xt(o),m={documents:u.map((T=>Bh(f.serializer,T)))},p=await f.Jo("BatchGetDocuments",f.serializer.databaseId,fe.emptyPath(),m,u.length),g=new Map;p.forEach((T=>{const A=ox(f.serializer,T);g.set(A.key.toString(),A)}));const E=[];return u.forEach((T=>{const A=g.get(T.toString());Jt(!!A,55234,{key:T}),E.push(A)})),E})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Iu(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=_t.fromPath(s);this.mutations.push(new Y1(o,this.precondition(o)))})),await(async function(s,o){const u=xt(s),f={writes:o.map((m=>nS(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,fe.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw St(50498,{Wu:t.constructor.name});n=It.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new ht(et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(It.min())?Xe.exists(!1):Xe.updateTime(n):Xe.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(It.min()))throw new ht(et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xe.updateTime(n)}return Xe.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new ig(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const t=new jN(this.datastore),n=this.Ju(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(t){try{const n=this.updateFunction(t);return!Au(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(t){this.Gu>0&&this.Yu(t)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(t)}Yu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!K1(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="FirestoreClient";class qN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=qp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{dt(Bs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(dt(Bs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=ug(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Vm(r,t){r.asyncQueue.verifyOperationInProgress(),dt(Bs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await lS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>{ks("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{dt("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{ks("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=t}async function IE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await HN(r);dt(Bs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>TE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>TE(t.remoteStore,o))),r._onlineComponents=t}async function HN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){dt(Bs,"Using user provided OfflineComponentProvider");try{await Vm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ks("Error using user provided cache. Falling back to memory cache: "+n),await Vm(r,new Fh)}}else dt(Bs,"Using default OfflineComponentProvider"),await Vm(r,new zN(void 0));return r._offlineComponents}async function dg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(dt(Bs,"Using user provided OnlineComponentProvider"),await IE(r,r._uninitializedComponentsProvider._online)):(dt(Bs,"Using default OnlineComponentProvider"),await IE(r,new gp))),r._onlineComponents}function FN(r){return dg(r).then((t=>t.syncEngine))}function GN(r){return dg(r).then((t=>t.datastore))}async function yp(r){const t=await dg(r),n=t.eventManager;return n.onListen=RN.bind(null,t.syncEngine),n.onUnlisten=DN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=IN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=xN.bind(null,t.syncEngine),n}function QN(r,t,n={}){const s=new Ir;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new CS({next:A=>{E.Ou(),f.enqueueAndForget((()=>_S(u,T))),A.fromCache&&p.source==="server"?g.reject(new ht(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new vS(m,E,{includeMetadataChanges:!0,ka:!0});return yS(u,T)})(await yp(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="firestore.googleapis.com",DE=!0;class xE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ht(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xS,this.ssl=DE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:DE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Sx)throw new ht(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}cD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DS((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ff{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new eD;switch(s.type){case"firstParty":return new sD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=CE.get(n);s&&(dt("ComponentProvider","Removing Datastore"),CE.delete(n),s.terminate())})(this),Promise.resolve()}}function YN(r,t,n,s={}){var o;r=ii(r,ff);const u=Lo(t),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;u&&(yT(`https://${p}`),_T("Firestore",!0)),f.host!==xS&&f.host!==p&&ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Vs(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=En.MOCK_USER;else{E=xR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ht(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new En(A)}r._authCredentials=new nD(new f1(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new xa(this.firestore,t,this._query)}}class Ce{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(wu(n,Ce._jsonSchema))return new Ce(t,s||null,new _t(fe.fromString(n.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Ge("string",Ce._jsonSchemaVersion),referencePath:Ge("string")};class Os extends xa{constructor(t,n,s){super(t,n,Kp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new _t(t))}withConverter(t){return new Os(this.firestore,t,this._path)}}function Gl(r,t,...n){if(r=De(r),m1("collection","path",t),r instanceof ff){const s=fe.fromString(t,...n);return H0(s),new Os(r,null,s)}{if(!(r instanceof Ce||r instanceof Os))throw new ht(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(fe.fromString(t,...n));return H0(s),new Os(r.firestore,null,s)}}function zn(r,t,...n){if(r=De(r),arguments.length===1&&(t=qp.newId()),m1("doc","path",t),r instanceof ff){const s=fe.fromString(t,...n);return q0(s),new Ce(r,null,new _t(s))}{if(!(r instanceof Ce||r instanceof Os))throw new ht(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(fe.fromString(t,...n));return q0(s),new Ce(r.firestore,r instanceof Os?r.converter:null,new _t(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="AsyncQueue";class OE{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ig(this,"async_queue_retry"),this.oc=()=>{const s=Mm();s&&dt(NE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Ir;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!qo(t))throw t;dt(NE,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((s=>{throw this.tc=s,this.nc=!1,Nr("INTERNAL UNHANDLED ERROR: ",ME(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=lg.createAndSchedule(this,t,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&St(47125,{hc:ME(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function ME(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Mr extends ff{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new OE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new OE(t),this._firestoreClient=void 0,await t}}}function KN(r,t){const n=typeof r=="object"?r:ST(),s=typeof r=="string"?r:kh,o=Cp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=CR("firestore");u&&YN(o,...u)}return o}function Nu(r){if(r._terminated)throw new ht(et.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||XN(r),r._firestoreClient}function XN(r){var t,n,s;const o=r._freezeSettings(),u=(function(m,p,g,E){return new TD(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,DS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new qN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ei(dn.fromBase64String(t))}catch(n){throw new ht(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ei(dn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(wu(t,ei._jsonSchema))return ei.fromBase64String(t.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:Ge("string",ei._jsonSchemaVersion),bytes:Ge("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(t){if(wu(t,Qi._jsonSchema))return new Qi(t.latitude,t.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Ge("string",Qi._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(wu(t,Yi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Yi(t.vectorValues);throw new ht(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:Ge("string",Yi._jsonSchemaVersion),vectorValues:Ge("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=/^__.*__$/;class JN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Fs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(t,this.data,n,this.fieldTransforms)}}class NS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Fs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function OS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ec:r})}}class df{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new df(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Gh(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(OS(this.Ec)&&$N.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class ZN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||uf(t)}Dc(t,n,s,o=!1){return new df({Ec:t,methodName:n,bc:s,path:fn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mu(r){const t=r._freezeSettings(),n=uf(r._databaseId);return new ZN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function mg(r,t,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,t,n,o);vg("Data must be an object, but it was:",f,s);const m=MS(s,f);let p,g;if(u.merge)p=new ni(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=_p(t,T,n);if(!f.contains(A))throw new ht(et.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);kS(E,A)||E.push(A)}p=new ni(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new JN(new Dn(m),p,g)}class Vu extends Ou{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Vu}}function WN(r,t,n){return new df({Ec:3,bc:t.settings.bc,methodName:r._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class pg extends Ou{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=WN(this,t,!0),s=this.vc.map((u=>Go(u,n))),o=new Mo(s);return new F1(t.path,o)}isEqual(t){return t instanceof pg&&Vs(this.vc,t.vc)}}class gg extends Ou{constructor(t,n){super(t),this.Cc=n}_toFieldTransform(t){const n=new du(t.serializer,z1(t.serializer,this.Cc));return new F1(t.path,n)}isEqual(t){return t instanceof gg&&this.Cc===t.Cc}}function yg(r,t,n,s){const o=r.Dc(1,t,n);vg("Data must be an object, but it was:",o,s);const u=[],f=Dn.empty();Hs(s,((p,g)=>{const E=Eg(t,p,n);g=De(g);const T=o.gc(E);if(g instanceof Vu)u.push(E);else{const A=Go(g,T);A!=null&&(u.push(E),f.set(E,A))}}));const m=new ni(u);return new NS(f,m,o.fieldTransforms)}function _g(r,t,n,s,o,u){const f=r.Dc(1,t,n),m=[_p(t,s,n)],p=[o];if(u.length%2!=0)throw new ht(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(_p(t,u[A])),p.push(u[A+1]);const g=[],E=Dn.empty();for(let A=m.length-1;A>=0;--A)if(!kS(g,m[A])){const V=m[A];let B=p[A];B=De(B);const X=f.gc(V);if(B instanceof Vu)g.push(V);else{const q=Go(B,X);q!=null&&(g.push(V),E.set(V,q))}}const T=new ni(g);return new NS(E,T,f.fieldTransforms)}function tO(r,t,n,s=!1){return Go(n,r.Dc(s?4:3,t))}function Go(r,t){if(VS(r=De(r)))return vg("Unsupported field value:",t,r),MS(r,t);if(r instanceof Ou)return(function(s,o){if(!OS(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Go(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=De(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return z1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=_e.fromDate(s);return{timestampValue:jh(o.serializer,u)}}if(s instanceof _e){const u=new _e(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(s instanceof Qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ei)return{bytesValue:Z1(o.serializer,s._byteString)};if(s instanceof Ce){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Yi)return(function(f,m){return{mapValue:{fields:{[w1]:{stringValue:A1},[Ph]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return Xp(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${tf(s)}`)})(r,t)}function MS(r,t){const n={};return y1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hs(r,((s,o)=>{const u=Go(o,t.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function VS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _e||r instanceof Qi||r instanceof ei||r instanceof Ce||r instanceof Ou||r instanceof Yi)}function vg(r,t,n){if(!VS(n)||!p1(n)){const s=tf(n);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function _p(r,t,n){if((t=De(t))instanceof Fo)return t._internalPath;if(typeof t=="string")return Eg(r,t);throw Gh("Field path arguments must be of type string or ",r,!1,void 0,n)}const eO=new RegExp("[~\\*/\\[\\]]");function Eg(r,t,n){if(t.search(eO)>=0)throw Gh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Fo(...t.split("."))._internalPath}catch{throw Gh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Gh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ht(et.INVALID_ARGUMENT,m+r+p)}function kS(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Tg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nO extends Qh{data(){return super.data()}}function Tg(r,t){return typeof t=="string"?Eg(r,t):t instanceof Fo?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class iO extends Sg{}function rO(r,t,...n){let s=[];t instanceof Sg&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof wg)).length,m=u.filter((p=>p instanceof mf)).length;if(f>1||f>0&&m>0)throw new ht(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class mf extends iO{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new mf(t,n,s)}_apply(t){const n=this._parse(t);return LS(t._query,n),new xa(t.firestore,t.converter,op(t._query,n))}_parse(t){const n=Mu(t.firestore);return(function(u,f,m,p,g,E,T){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ht(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){PE(T,E);const B=[];for(const X of T)B.push(kE(p,u,X));A={arrayValue:{values:B}}}else A=kE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||PE(T,E),A=tO(m,f,T,E==="in"||E==="not-in");return Fe.create(g,E,A)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function sO(r,t,n){const s=t,o=Tg("where",r);return mf._create(o,s,n)}class wg extends Sg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new wg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:xi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)LS(f,p),f=op(f,p)})(t._query,n),new xa(t.firestore,t.converter,op(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kE(r,t,n){if(typeof(n=De(n))=="string"){if(n==="")throw new ht(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O1(t)&&n.indexOf("/")!==-1)throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(fe.fromString(n));if(!_t.isDocumentKey(s))throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return J0(r,new _t(s))}if(n instanceof Ce)return J0(r,n._key);throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(n)}.`)}function PE(r,t){if(!Array.isArray(r)||r.length===0)throw new ht(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function LS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ht(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class US{convertValue(t,n="none"){switch(zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Us(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Hs(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Ph].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>Ve(f.doubleValue)));return new Yi(u)}convertGeoPoint(t){return new Qi(Ve(t.latitude),Ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=nf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uu(t));default:return null}}convertTimestamp(t){const n=Ls(t);return new _e(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=fe.fromString(t);Jt(sS(s),9688,{name:t});const o=new cu(s.get(1),s.get(3)),u=new _t(s.popFirst(5));return o.isEqual(n)||Nr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class aO extends US{constructor(t){super(),this.firestore=t}convertBytes(t){return new ei(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,n)}}class wo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ms extends Qh{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Tg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ms._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ms._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ms._jsonSchema={type:Ge("string",Ms._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class wh extends Ms{data(t={}){return super.data(t)}}class Sa{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new wo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new wh(this._firestore,this._userDataWriter,s.key,s,new wo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new wo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new wo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:oO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Sa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=qp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function oO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:r})}}Sa._jsonSchemaVersion="firestore/querySnapshot/1.0",Sa._jsonSchema={type:Ge("string",Sa._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class pf extends US{constructor(t){super(),this.firestore=t}convertBytes(t){return new ei(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,n)}}function LE(r){r=ii(r,xa);const t=ii(r.firestore,Mr),n=Nu(t),s=new pf(t);return PS(r._query),QN(n,r._query).then((o=>new Sa(t,s,r,o)))}function Ql(r,t,n){r=ii(r,Ce);const s=ii(r.firestore,Mr),o=Ag(r.converter,t,n);return gf(s,[mg(Mu(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Xe.none())])}function Yl(r,t,n,...s){r=ii(r,Ce);const o=ii(r.firestore,Mr),u=Mu(o);let f;return f=typeof(t=De(t))=="string"||t instanceof Fo?_g(u,"updateDoc",r._key,t,n,s):yg(u,"updateDoc",r._key,t),gf(o,[f.toMutation(r._key,Xe.exists(!0))])}function km(r){return gf(ii(r.firestore,Mr),[new Iu(r._key,Xe.none())])}function Pm(r,...t){var n,s,o;r=De(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||VE(t[f])||(u=t[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(VE(t[f])){const T=t[f];t[f]=(n=T.next)===null||n===void 0?void 0:n.bind(T),t[f+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),t[f+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,E;if(r instanceof Ce)g=ii(r.firestore,Mr),E=Kp(r._key.path),p={next:T=>{t[f]&&t[f](lO(g,r,T))},error:t[f+1],complete:t[f+2]};else{const T=ii(r,xa);g=ii(T.firestore,Mr),E=T._query;const A=new pf(g);p={next:V=>{t[f]&&t[f](new Sa(g,A,T,V))},error:t[f+1],complete:t[f+2]},PS(r._query)}return(function(A,V,B,X){const q=new CS(X),at=new vS(V,q,B);return A.asyncQueue.enqueueAndForget((async()=>yS(await yp(A),at))),()=>{q.Ou(),A.asyncQueue.enqueueAndForget((async()=>_S(await yp(A),at)))}})(Nu(g),E,m,p)}function gf(r,t){return(function(s,o){const u=new Ir;return s.asyncQueue.enqueueAndForget((async()=>NN(await FN(s),o,u))),u.promise})(Nu(r),t)}function lO(r,t,n){const s=n.docs.get(t._key),o=new pf(r);return new Ms(r,o,t._key,s,new wo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Mu(t)}set(t,n,s){this._verifyNotCommitted();const o=Rs(t,this._firestore),u=Ag(o.converter,n,s),f=mg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,Xe.none())),this}update(t,n,s,...o){this._verifyNotCommitted();const u=Rs(t,this._firestore);let f;return f=typeof(n=De(n))=="string"||n instanceof Fo?_g(this._dataReader,"WriteBatch.update",u._key,n,s,o):yg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,Xe.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Rs(t,this._firestore);return this._mutations=this._mutations.concat(new Iu(n._key,Xe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ht(et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rs(r,t){if((r=De(r)).firestore!==t)throw new ht(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Mu(t)}get(t){const n=Rs(t,this._firestore),s=new aO(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return St(24041);const u=o[0];if(u.isFoundDocument())return new Qh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Qh(this._firestore,s,n._key,null,n.converter);throw St(18433,{doc:u})}))}set(t,n,s){const o=Rs(t,this._firestore),u=Ag(o.converter,n,s),f=mg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(t,n,s,...o){const u=Rs(t,this._firestore);let f;return f=typeof(n=De(n))=="string"||n instanceof Fo?_g(this._dataReader,"Transaction.update",u._key,n,s,o):yg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(t){const n=Rs(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO extends hO{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Rs(t,this._firestore),s=new pf(this._firestore);return super.get(t).then((o=>new Ms(this._firestore,s,n._key,o._document,new wo(!1,!1),n.converter)))}}function dO(r,t,n){r=ii(r,Mr);const s=Object.assign(Object.assign({},uO),n);return(function(u){if(u.maxAttempts<1)throw new ht(et.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Ir;return u.asyncQueue.enqueueAndForget((async()=>{const g=await GN(u);new BN(u.asyncQueue,g,m,f,p).zu()})),p.promise})(Nu(r),(o=>t(new fO(r,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(){return new Vu("deleteField")}function pO(...r){return new pg("arrayUnion",r)}function gO(r){return new gg("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(r){return Nu(r=ii(r,Mr)),new cO(r,(t=>gf(r,t)))}(function(t,n=!0){(function(o){jo=o})(Uo),Co(new wa("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Mr(new iD(s.getProvider("auth-internal")),new aD(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ht(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(g.options.projectId,E)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ds(L0,U0,t),Ds(L0,U0,"esm2017")})();var _O="firebase",vO="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(_O,vO,"app");const EO={apiKey:"AIzaSyCEUaqAGQBy_-tQEjnkNGYMXRk7YRaCAjI",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.firebasestorage.app",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},zS=TT(EO),br=WC(zS),Lm=new Sr,nn=KN(zS),TO=({className:r})=>Q.jsxs("span",{className:"relative inline-block "+(r||""),children:[Q.jsx(lT,{className:"w-5 h-5"}),Q.jsx("span",{className:"absolute -right-1 -top-1",children:Q.jsx(Qm,{className:"w-3.5 h-3.5"})})]});(async()=>{try{await GT(br,Lp)}catch{}})();function SO(r,t){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(r)}&token=${encodeURIComponent(t)}`}async function wO(r){try{return await navigator.clipboard.writeText(r),!0}catch{return window.prompt("  :",r),!1}}async function Jl(){try{try{await GT(br,Lp)}catch{return[]}await lC(br,Lm)}catch(r){const t=r==null?void 0:r.code;if(t==="auth/popup-blocked"||t==="auth/cancelled-popup-request"||t==="auth/popup-closed-by-user"){await C0(br,Lm);return}await C0(br,Lm)}}function AO(r){const t=encodeURIComponent(r);window.open(`https://wa.me/?text=${t}`,"_blank")}const bO=()=>{const[r]=nR(),t=Tp(),n=r.get("listId"),s=r.get("token"),[o,u]=L.useState(br.currentUser),[f,m]=L.useState(!0),[p,g]=L.useState(!1),[E,T]=L.useState(null);L.useEffect(()=>QT(br,B=>{u(B),m(!1)}),[]);const A=async()=>{T(null);try{await Jl()}catch(B){T((B==null?void 0:B.message)||" ")}},V=async()=>{if(!n||!s){T("    (listId  token)");return}if(!o){await A();return}g(!0),T(null);try{await dO(nn,async B=>{var it;const X=zn(nn,"lists",n),q=await B.get(X);if(!q.exists())throw new Error("  ");const ut=(it=q.data().pendingInvites)==null?void 0:it[s];if(!ut)throw new Error("  ");if(ut.expiresAt<Date.now())throw new Error("  ");B.update(X,{sharedWith:pO(o.uid),[`pendingInvites.${s}`]:mO()})}),localStorage.setItem("activeListId",n),t("/")}catch(B){T((B==null?void 0:B.message)||"  ")}finally{g(!1)}};return f?Q.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif'},children:[Q.jsx("style",{children:`
        html, body, #root {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        *, *::before, *::after,
        input, button, select, textarea, option, label {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        input::placeholder, textarea::placeholder {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
      `}),Q.jsx(bh,{className:"animate-spin text-indigo-600"})]}):Q.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:Q.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[Q.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:Q.jsx(cT,{className:"w-10 h-10"})}),Q.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?Q.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,E?Q.jsx("p",{className:"text-rose-500 font-bold break-words",children:E}):null,o?Q.jsx("button",{onClick:V,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?Q.jsx(bh,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):Q.jsxs("button",{onClick:A,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[Q.jsx(uT,{className:"w-4 h-4"}),"   "]})]})})},jS={:1,:1,:2,:2,:2,:2,:2,:3,:3,:4,:4,:5,:5,:6,:6,:7,:7,:8,:9,:9,:10,:10},Tr=r=>(r||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),BS=r=>(r||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\b\b/g,",").replace(/\b\b/g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim();function Yh(r){return r?/^\d+$/.test(r)?!0:jS[r]!=null:!1}function RO(r){if(!r)return null;if(/^\d+$/.test(r))return Number(r);const t=jS[r];return t??null}const IO=new Set(["","","","","","","","","","","","","","","","","","","","","","","",""]);function CO(r){return IO.has(r)}const Um=new Set([" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","' "," "," "," "]),zm=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),jm=new Set(["","","","","","","","","","","","",""]);function DO(r){const t=[];let n=0;const s=o=>o&&o.startsWith("")&&o.length>1?o.slice(1):o;for(;n<r.length;){const o=r[n],u=n+1<r.length?r[n+1]:"";if(o&&u&&!Yh(o)&&!Yh(u)){const f=`${o} ${u}`,m=s(u),p=`${o} ${m}`;if(Um.has(f)||Um.has(p)){t.push(Um.has(f)?f:p),n+=2;continue}if(zm.has(u)||zm.has(m)){t.push(zm.has(u)?f:p),n+=2;continue}if(jm.has(u)||jm.has(m)){t.push(jm.has(u)?f:p),n+=2;continue}}t.push(o),n+=1}return t}function xO(r){const t=Tr(r);if(!t)return[];let n=t.split(" ").filter(Boolean);if(n=DO(n),n.length===0)return[];const s=[];let o=1,u=[];const f=p=>{const g=u.join(" ").trim();if(g){const E=Math.max(1,Number(p??o??1));s.push({name:g,qty:E})}o=1,u=[]},m=p=>p+1<n.length?n[p+1]:"";for(let p=0;p<n.length;p++){const g=n[p];if(Yh(g)){const T=Math.max(1,RO(g)||1),A=m(p);if(u.length===0){o=T;continue}if(!A){f(T);continue}f(),o=T;continue}u.push(g);const E=m(p);u.length===1&&CO(u[0])||g===""||g===""||E===""||E===""||Yh(E)||f()}return u.length>0&&f(),s.map(p=>({name:p.name.replace(/\s+/g," ").trim(),qty:Math.max(1,Number(p.qty||1))})).filter(p=>p.name.length>0)}function NO(r){const t=BS(r),n=Tr(t);if(!n)return[];const o=n.replace(/\s+\s+/g,",").replace(/\s+\s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+\s+/g,",").split(/,|\n/).map(f=>f.trim()).filter(Boolean),u=[];for(const f of o){const m=xO(f);for(const p of m)u.push(p)}return u}const OO=["","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","'"," "," "," ","","","","","","",""," "," ","",""," ","","","","","",""," ",""," "," "," "," "," "," ","",""," "];function Hi(r){return r.trim().replace(/\s+/g," ").replace(/[]/g,'"').replace(/[]/g,"'").toLowerCase()}const qS="shopping_list_item_history_v1",HS="shopping_list_hidden_suggestions_v1",MO=1440*60*1e3;function bg(){try{const r=localStorage.getItem(HS);if(!r)return{};const t=JSON.parse(r);if(!t||typeof t!="object"||Array.isArray(t))return{};const n={};for(const[s,o]of Object.entries(t))typeof s=="string"&&typeof o=="number"&&Number.isFinite(o)&&(n[s]=o);return n}catch{return{}}}function Rg(r){try{localStorage.setItem(HS,JSON.stringify(r))}catch{}}function UE(){const r=bg(),t=Date.now(),n=[];let s=!1;for(const[o,u]of Object.entries(r)){if(typeof u!="number"||!Number.isFinite(u)){delete r[o],s=!0;continue}u>t?n.push(o):(delete r[o],s=!0)}return s&&Rg(r),n}function VO(r){const t=bg();t[r]=Date.now()+MO,Rg(t)}function Bm(r){try{const t=bg();t[r]&&(delete t[r],Rg(t))}catch{}}function kO(){try{const r=localStorage.getItem(qS);if(!r)return{};const t=JSON.parse(r);return!t||typeof t!="object"?{}:t}catch{return{}}}function zE(r){try{localStorage.setItem(qS,JSON.stringify(r))}catch{}}function PO(r){const t=r.query,n=Hi(t),s=r.limit??8;if(!n)return[];const o=new Map,u=(g,E)=>{const T=g.trim();if(!T)return;const A=Hi(T);if(!A||r.hiddenKeys.has(A))return;const V=o.get(A);if(V){V.sources.add(E);return}o.set(A,{name:T,key:A,sources:new Set([E])})};for(const g of r.favorites)u(g,"favorite");for(const g of r.items)u(g.name,"items");for(const[g,E]of Object.entries(r.history)){u((E==null?void 0:E.name)||g,"history");const T=o.get(g);T&&(T.history=E)}for(const g of OO)u(g,"static");const f=Array.from(o.values()),m=new Map;for(const g of r.items){const E=Hi(g.name);E&&(m.has(E)||m.set(E,{id:g.id,quantity:g.quantity}))}const p=g=>{const E=g.key,T=E.startsWith(n),A=!T&&E.includes(n);if(!T&&!A)return-1/0;let V=T?120:70;if(g.sources.has("favorite")&&(V+=45),g.sources.has("history")&&(V+=35),g.sources.has("items")&&(V+=20),g.sources.has("static")&&(V+=10),g.history){const B=Math.max(0,g.history.count||0),X=Math.max(0,g.history.lastUsed||0);V+=Math.min(30,Math.log2(B+1)*8);const q=(Date.now()-X)/(1e3*60*60*24),at=Math.max(0,20-q);V+=Math.min(20,at)}return V};return f.map(g=>({c:g,s:p(g)})).filter(g=>Number.isFinite(g.s)).sort((g,E)=>E.s-g.s).slice(0,s).map(g=>{const E=m.get(g.c.key);return{name:g.c.name,key:g.c.key,canHide:g.c.sources.has("history")&&!g.c.sources.has("favorite"),isInList:!!E,itemId:E==null?void 0:E.id,currentQty:E==null?void 0:E.quantity}})}const LO=()=>{const[r,t]=L.useState(null),[n,s]=L.useState(null),[o,u]=L.useState([]),[f,m]=L.useState([]),[p,g]=L.useState("list"),[E,T]=L.useState(""),A=L.useRef(null),[V,B]=L.useState(!1),[X,q]=L.useState(-1),at=L.useRef({}),ut=L.useRef(null);L.useEffect(()=>{at.current=kO()},[]);const[it,Tt]=L.useState(!1),[Vt,wt]=L.useState(!1),[x,b]=L.useState(!0),[R,M]=L.useState(!1),[k,U]=L.useState(!1),[D]=L.useState("hold_to_talk"),[we,ke]=L.useState(""),[J,st]=L.useState(null),gt=L.useRef(null),Nt=L.useRef(!1),Bt=L.useRef([]),N=L.useRef(""),Z=L.useRef(!1),ot=L.useRef(null),ft=L.useRef(null),vt=L.useRef(!1),Rt=L.useRef(null),[Ct,le]=L.useState({id:null,dx:0}),me=70,mn=110,Bn=I=>{const G=I;return G?!!G.closest("button, input, textarea, select, a, [data-noswipe='true']"):!1},$i=I=>G=>{Bn(G.target)||(vt.current=!1,ot.current={x:G.clientX,y:G.clientY,id:I,pointerId:G.pointerId},ft.current={x:G.clientX,y:G.clientY},le({id:I,dx:0}))},Pr=I=>G=>{const $=ot.current;if(!$||$.id!==I||$.pointerId!==G.pointerId)return;ft.current={x:G.clientX,y:G.clientY};const lt=G.clientX-$.x,pt=Math.max(-mn,Math.min(mn,lt));if(!Rt.current&&Math.abs(lt)>10&&Math.abs(lt)>=Math.abs(G.clientY-$.y))try{G.currentTarget.setPointerCapture(G.pointerId),Rt.current={el:G.currentTarget,pointerId:G.pointerId}}catch{}le({id:I,dx:pt})},qn=I=>async G=>{const $=ot.current,lt=ft.current;ot.current=null;try{Rt.current&&Rt.current.el.releasePointerCapture($.pointerId)}catch{}if(Rt.current=null,ft.current=null,!$||$.id!==I){le({id:null,dx:0});return}const pt=(lt==null?void 0:lt.x)??G.clientX,Lt=(lt==null?void 0:lt.y)??G.clientY,bt=pt-$.x,se=Lt-$.y;if(le({id:null,dx:0}),!(Math.abs(bt)<me||Math.abs(bt)<Math.abs(se))){vt.current=!0;try{bt<0?await xe(I):await wn(I)}finally{window.setTimeout(()=>{vt.current=!1},0)}}},Ji=I=>G=>{if(Bn(G.target))return;const $=G.touches[0];$&&(vt.current=!1,ot.current={x:$.clientX,y:$.clientY,id:I,pointerId:-1},ft.current={x:$.clientX,y:$.clientY},le({id:I,dx:0}))},Lr=I=>G=>{const $=ot.current;if(!$||$.id!==I)return;const lt=G.touches[0];if(!lt)return;ft.current={x:lt.clientX,y:lt.clientY};const pt=lt.clientX-$.x,Lt=lt.clientY-$.y;if(Math.abs(pt)<6||Math.abs(pt)<Math.abs(Lt))return;try{G.preventDefault()}catch{}const bt=Math.max(-mn,Math.min(mn,pt));le({id:I,dx:bt})},Qo=I=>async G=>{const $=ot.current,lt=ft.current;if(ot.current=null,ft.current=null,!$||$.id!==I){le({id:null,dx:0});return}const pt=lt?lt.x-$.x:0;if(Math.abs(pt)<me){le({id:null,dx:0});return}vt.current=!0,pt<0?await xe(I):await wn(I),le({id:null,dx:0})},Na=()=>{ot.current=null,ft.current=null;try{Rt.current&&Rt.current.el.releasePointerCapture(Rt.current.pointerId)}catch{}Rt.current=null,le({id:null,dx:0})},Ei=L.useRef(null),Ni=L.useRef([]);L.useEffect(()=>{Ei.current=(n==null?void 0:n.id)??null},[n==null?void 0:n.id]),L.useEffect(()=>{Ni.current=o},[o]),L.useEffect(()=>{if(!J)return;const I=setTimeout(()=>st(null),2500);return()=>clearTimeout(I)},[J]),L.useEffect(()=>QT(br,async I=>{if(t(I),b(!1),!I){s(null),u([]),m([]);return}M(!0);const G=rO(Gl(nn,"lists"),sO("sharedWith","array-contains",I.uid)),$=await LE(G);if($.empty){const lt=zn(Gl(nn,"lists")),pt={id:lt.id,title:" ",ownerUid:I.uid,sharedWith:[I.uid],createdAt:Date.now(),updatedAt:Date.now()};await Ql(lt,pt),s(pt),localStorage.setItem("activeListId",lt.id)}else{const lt=localStorage.getItem("activeListId"),pt=lt?$.docs.find(bt=>bt.id===lt)??$.docs[0]:$.docs[0],Lt=pt.data();s({...Lt,id:pt.id}),localStorage.setItem("activeListId",pt.id)}M(!1)}),[]),L.useEffect(()=>{if(!(n!=null&&n.id))return;const I=zn(nn,"lists",n.id),G=Gl(I,"items"),$=Gl(I,"favorites"),lt=Pm(I,bt=>{bt.exists()&&s({...bt.data(),id:bt.id})}),pt=Pm(G,bt=>{const se=bt.docs.map(Kt=>Kt.data());u(se)}),Lt=Pm($,bt=>{const se=bt.docs.map(Kt=>{const kt=Kt.data();return{id:Kt.id,name:String((kt==null?void 0:kt.name)||""),createdAt:Number((kt==null?void 0:kt.createdAt)||0)}});se.sort((Kt,kt)=>kt.createdAt-Kt.createdAt),m(se)});return()=>{lt(),pt(),Lt()}},[n==null?void 0:n.id]);const Ur=L.useMemo(()=>{const I=new Set;for(const G of f)I.add(G.id);return I},[f]),Yo=L.useMemo(()=>o.filter(I=>!I.isPurchased).sort((I,G)=>G.createdAt-I.createdAt),[o]),Zi=L.useMemo(()=>o.filter(I=>I.isPurchased).sort((I,G)=>(G.purchasedAt||0)-(I.purchasedAt||0)),[o]),Pe=I=>{const G=I.trim();if(!G)return;const $=Hi(G);if(!$)return;const lt=at.current[$],pt={name:G,count:((lt==null?void 0:lt.count)||0)+1,lastUsed:Date.now()};at.current={...at.current,[$]:pt},zE(at.current)},ai=L.useRef(new Set);L.useEffect(()=>{ai.current=new Set(UE())},[]);const ne=L.useMemo(()=>{const I=new Set(UE());return ai.current=I,PO({query:E,favorites:f.map(G=>G.name),items:o,history:at.current,hiddenKeys:I,limit:8})},[E,f,o]),Le=()=>{ut.current&&window.clearTimeout(ut.current),ut.current=window.setTimeout(()=>{B(!1),q(-1)},120)},oi=()=>{ut.current&&window.clearTimeout(ut.current),B(!0)},zr=async I=>{if(I.isInList&&I.itemId){const G=(I.currentQty??1)+1;await pn(I.itemId,1);const $=I.key||Hi(I.name);$&&(Bm($),ai.current.delete($)),st(`  -   -${G}`),T(""),q(-1),B(!1),window.requestAnimationFrame(()=>{var lt;return(lt=A.current)==null?void 0:lt.focus()});return}T(I.name),q(-1),B(!1),window.requestAnimationFrame(()=>{var G;return(G=A.current)==null?void 0:G.focus()})},Gs=I=>{const G=I.key||Hi(I.name);if(!G)return;const $={...at.current};$[G]&&(delete $[G],at.current=$,zE($));const lt=new Set(ai.current);lt.add(G),ai.current=lt,VO(G),B(!1),q(-1),window.requestAnimationFrame(()=>{var pt;return(pt=A.current)==null?void 0:pt.focus()})},Ko=async I=>{if(I&&I.preventDefault(),!r){await Jl();return}if(!(n!=null&&n.id))return;const G=E.trim();if(!G)return;const $=Hi(G),lt=o.find(bt=>Hi(bt.name)===$);if(lt){await pn(lt.id,1),$&&(Bm($),ai.current.delete($)),Pe(lt.name),T(""),B(!1),q(-1);return}const pt=crypto.randomUUID(),Lt={id:pt,name:G,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Ql(zn(nn,"lists",n.id,"items",pt),Lt),$&&(Bm($),ai.current.delete($)),Pe(G),T(""),B(!1),q(-1)},Ti=async I=>{if(!(n!=null&&n.id))return;const G=o.find(lt=>lt.id===I);if(!G)return;const $=!G.isPurchased;await Yl(zn(nn,"lists",n.id,"items",I),{isPurchased:$,purchasedAt:$?Date.now():null})},pn=async(I,G)=>{if(!(n!=null&&n.id))return;if(G>0){await Yl(zn(nn,"lists",n.id,"items",I),{quantity:gO(G)});return}const $=o.find(lt=>lt.id===I);$&&await Yl(zn(nn,"lists",n.id,"items",I),{quantity:Math.max(1,$.quantity+G)})},xe=async I=>{n!=null&&n.id&&await km(zn(nn,"lists",n.id,"items",I))},wn=async I=>{if(!(n!=null&&n.id))return;const G=zn(nn,"lists",n.id,"favorites",I);if(Ur.has(I))await km(G);else{const $=o.find(lt=>lt.id===I);await Ql(G,{name:($==null?void 0:$.name)||"",createdAt:Date.now()})}},an=async I=>{n!=null&&n.id&&await km(zn(nn,"lists",n.id,"favorites",I))},Oa=async()=>{const I=Ei.current||(n==null?void 0:n.id);if(!I)return;const G=Gl(nn,"lists",I,"items"),$=await LE(G);if($.empty){wt(!1);return}const lt=$.docs;let pt=0;for(;pt<lt.length;){const Lt=yO(nn),bt=lt.slice(pt,pt+450);for(const se of bt)Lt.delete(se.ref);await Lt.commit(),pt+=bt.length}wt(!1)},Qs=async()=>{if(!r)return await Jl(),null;if(!(n!=null&&n.id))return null;const I=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),G=Date.now()+2880*60*1e3;return await Yl(zn(nn,"lists",n.id),{[`pendingInvites.${I}`]:{createdAt:Date.now(),expiresAt:G}}),SO(n.id,I)},Ma=async()=>{const I=await Qs();if(I){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:" ",text:"   ",url:I});return}}catch{return[]}await wO(I),Tt(!0),setTimeout(()=>Tt(!1),2e3)}},Wi=()=>{const I=(n==null?void 0:n.title)||" ",G=o.filter(Ot=>!Ot.isPurchased),$="",lt="",pt="",Lt="",bt=G.length>0?G.map(Ot=>(Ot.quantity||1)<=1?`${$}${Ot.name}${lt}`:`${$}${Ot.name} X ${pt}${Ot.quantity}${Lt}${lt}`).join(`
`):`${$}(  )${lt}`,kt=`${`*${I}:*`}

${bt}

   `;AO(kt)},gn=L.useRef(null),xn=L.useRef(null),Je=L.useRef(null),[Ne,Hn]=L.useState({id:null,dx:0,rawDx:0}),jr=60,tr=110,Si=async I=>{if(!(n!=null&&n.id))return;const G=Hi(I.name),$=o.find(lt=>!lt.isPurchased&&Hi(lt.name)===G);if($)await pn($.id,1);else{const lt=crypto.randomUUID(),pt={id:lt,name:I.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Ql(zn(nn,"lists",n.id,"items",lt),pt)}},Oi=I=>G=>{Bn(G.target)||(gn.current={x:G.clientX,y:G.clientY,id:I,pointerId:G.pointerId},xn.current={x:G.clientX,y:G.clientY},Hn({id:I,dx:0,rawDx:0}))},Qe=I=>G=>{const $=gn.current;if(!$||$.id!==I)return;xn.current={x:G.clientX,y:G.clientY};const lt=G.clientX-$.x,pt=G.clientY-$.y;if(!Je.current&&Math.abs(lt)>10&&Math.abs(pt)<=Math.abs(lt)*1.2)try{G.currentTarget.setPointerCapture(G.pointerId),Je.current={el:G.currentTarget,pointerId:G.pointerId}}catch{}if(Math.abs(pt)>Math.abs(lt)*1.6)return;const Lt=Math.max(-tr,Math.min(tr,lt));Hn({id:I,dx:Lt,rawDx:lt})},Ys=I=>async G=>{const $=gn.current,lt=xn.current;gn.current=null;try{Je.current&&$&&Je.current.el.releasePointerCapture($.pointerId)}catch{}if(Je.current=null,xn.current=null,Hn({id:null,dx:0,rawDx:0}),!$||$.id!==I)return;const pt=(lt==null?void 0:lt.x)??G.clientX,Lt=(lt==null?void 0:lt.y)??G.clientY,bt=pt-$.x,se=Lt-$.y;if(Math.abs(bt)<jr||Math.abs(se)>Math.abs(bt)*1.6)return;const Kt=f.find(kt=>kt.id===I);bt>0?Kt&&await Si(Kt):(await an(I),st(" "))},Mi=()=>{gn.current=null,xn.current=null,Je.current=null,Hn({id:null,dx:0,rawDx:0})},Fn=I=>{const G=Tr(I),$=o.find(pt=>Tr(pt.name)===G);return $||o.find(pt=>Tr(pt.name).includes(G)||G.includes(Tr(pt.name)))||null},Ks=async(I,G)=>{const $=Ei.current||(n==null?void 0:n.id);if(!$)return;const lt=Ni.current||o,pt=I.trim();if(!pt)return;const Lt=lt.find(Kt=>!Kt.isPurchased&&Tr(Kt.name)===Tr(pt));if(Lt){await Yl(zn(nn,"lists",$,"items",Lt.id),{quantity:G});return}const bt=crypto.randomUUID(),se={id:bt,name:pt,quantity:G,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Ql(zn(nn,"lists",$,"items",bt),se)},Xs=I=>/(|||||||||)\s*(\s*)?(\s*)?(\s*)?(|)?/.test(I)||/^(||)$/.test(I)||I.includes("")&&I.includes("")&&(I.includes("")||I.includes(""))||I.includes("")&&(I.includes("")||I.includes("")),wi=async I=>{if(!(Ei.current||(n==null?void 0:n.id)))return;const $=Tr(I);if(!$)return;if(Xs($)){await Oa(),st(" ");return}if(/^(|||)\s+/.test($)){const kt=$.replace(/^(|||)\s+/,"").trim(),Ot=Fn(kt);if(!Ot){st("   ");return}await xe(Ot.id),st(`: ${Ot.name}`);return}const lt=$.match(/^(||)\s+(.+)\s+(||)$/);if(lt){const kt=lt[2].trim(),Ot=Fn(kt);if(!Ot){st("   ");return}Ot.isPurchased||await Ti(Ot.id),st(` : ${Ot.name}`);return}const pt=$.match(/^(||)\s+(.+)$/);if(pt){const kt=pt[2].trim(),Ot=Fn(kt);return Ot?(await pn(Ot.id,1),st(`: ${Ot.name}`)):st("   ")}const Lt=$.match(/^(||)\s+(.+)$/);if(Lt){const kt=Lt[2].trim(),Ot=Fn(kt);return Ot?(await pn(Ot.id,-1),st(`: ${Ot.name}`)):st("   ")}const bt=$.match(/^(|||)(?:\s+)?\s+(.+)$/),se=bt?bt[2]:$,Kt=NO(se);if(Kt.length!==0){for(const kt of Kt)await Ks(kt.name,kt.qty);if(Kt.length===1){const kt=Kt[0];st(kt.qty>1?`: ${kt.name} x${kt.qty}`:`: ${kt.name}`)}else st(` ${Kt.length} `)}},Va=()=>{const I=window.SpeechRecognition||window.webkitSpeechRecognition;return I||null},Nn=()=>{const I=Va();if(!I){alert("    .  Chrome  Edge.");return}if(!r){st("    "),Jl();return}if(Bt.current=[],N.current="",Z.current=!1,Nt.current=!0,ke(""),U(!0),st("  -   "),gt.current){try{gt.current.stop()}catch{}gt.current=null}const G=new I;gt.current=G,G.lang="he-IL",G.interimResults=!0,G.maxAlternatives=1,G.continuous=!0;const $=3e3,lt=9e4;let pt=!1,Lt=Date.now(),bt=null,se=null;const Kt=()=>{bt!=null&&window.clearTimeout(bt),se!=null&&window.clearTimeout(se),bt=null,se=null},kt=()=>{Nt.current&&pt&&(bt!=null&&window.clearTimeout(bt),bt=window.setTimeout(()=>{if(!Nt.current)return;Date.now()-Lt>=$&&ie()},$+50))};se=window.setTimeout(()=>{Nt.current&&(st("     - ..."),ie())},lt),G.onstart=()=>{},G.onaudiostart=()=>{},G.onspeechstart=()=>{},G.onresult=Ot=>{try{let Ae="";for(let Vi=Ot.resultIndex;Vi<Ot.results.length;Vi++){const Gn=Ot.results[Vi],Ye=Gn==null?void 0:Gn[0],An=BS(String((Ye==null?void 0:Ye.transcript)||""));An&&(Gn.isFinal?(Bt.current.push(An),N.current=""):(Ae=An,N.current=An))}const ve=Ae||(Bt.current.length?Bt.current[Bt.current.length-1]:"");ve&&ke(ve),pt=!0,Lt=Date.now(),kt()}catch{}},G.onerror=Ot=>{const Ae=String((Ot==null?void 0:Ot.error)||"");console.warn("Speech error:",Ae,Ot),Ae!=="no-speech"&&(Kt(),clearVoiceTimers(),U(!1),Nt.current=!1,Ae==="not-allowed"||Ae==="service-not-allowed"?alert("  .     ."):st(Ae==="audio-capture"?"   (    )":` : ${Ae||"unknown"}`))},G.onend=()=>{if(!Nt.current){Kt();return}kt(),!Z.current&&(Z.current=!0,setTimeout(()=>{if(!Nt.current){Z.current=!1,Kt();return}try{G.start()}catch{}finally{Z.current=!1}},180))};try{G.start(),kt()}catch(Ot){console.error(Ot),Kt(),clearVoiceTimers(),U(!1),Nt.current=!1,st("   ")}},ie=async()=>{var lt,pt;if(!Nt.current)return;Nt.current=!1,U(!1);try{(pt=(lt=gt.current)==null?void 0:lt.stop)==null||pt.call(lt)}catch{return[]}const I=Bt.current.join(" ").trim(),G=(N.current||"").trim(),$=`${I} ${G}`.replace(/\s+/g," ").trim();if(Bt.current=[],N.current="",!$){st("   -  ");return}st("...");try{await wi($)}catch(Lt){console.error(Lt),st(`: ${String((Lt==null?void 0:Lt.message)||Lt||"")}`)}};return L.useEffect(()=>()=>{var I,G;try{Nt.current=!1,(G=(I=gt.current)==null?void 0:I.stop)==null||G.call(I)}catch{}},[]),x?Q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:Q.jsx(bh,{className:"animate-spin text-indigo-600"})}):r?R||!(n!=null&&n.id)?Q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:Q.jsx(bh,{className:"animate-spin text-indigo-600"})}):Q.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[Q.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-6 py-4 items-center justify-between border-b border-slate-100 relative grid grid-cols-3 items-center",children:[Q.jsxs("div",{className:"flex items-center gap-2 justify-start",children:[Q.jsx("button",{onClick:()=>wt(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ",children:Q.jsx(sh,{className:"w-5 h-5"})}),Q.jsx("button",{onClick:Ma,className:"p-2 text-slate-400 hover:text-indigo-600",title:" ",children:it?Q.jsx(hR,{className:"w-5 h-5 text-emerald-500"}):Q.jsx(cT,{className:"w-5 h-5"})})]}),Q.jsx("h1",{className:"text-xl font-bold text-indigo-600 leading-none text-center justify-self-center whitespace-nowrap",children:(n==null?void 0:n.title)||" "}),Q.jsx("button",{onClick:()=>HI(br),className:"justify-self-end w-9 h-9 min-w-0 p-0 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:"",children:Q.jsx(mR,{className:"w-4 h-4"})})]}),Q.jsx("div",{className:"px-5 pt-3",children:Q.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[Q.jsx("div",{className:"text-[11px] font-black text-slate-400",children:k?"  -    ":" :    ,  "}),we?Q.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[": ",we]}):null,Q.jsx("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:': "    " | " " | " "'})]})}),Q.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:p==="list"?Q.jsxs(Q.Fragment,{children:[Q.jsxs("form",{onSubmit:Ko,className:"relative",children:[Q.jsx("input",{ref:A,value:E,onFocus:oi,onBlur:Le,onKeyDown:I=>{if(V){if(I.key==="Escape"){I.preventDefault(),B(!1),q(-1);return}if(I.key==="ArrowDown"){if(I.preventDefault(),ne.length===0)return;q(G=>{const $=G+1;return $>=ne.length?0:$});return}if(I.key==="ArrowUp"){if(I.preventDefault(),ne.length===0)return;q(G=>{const $=G-1;return $<0?ne.length-1:$});return}if(I.key==="Tab"){if(ne.length===0)return;I.preventDefault(),zr(ne[Math.max(0,X>=0?X:0)]);return}if(I.key==="Enter"&&ne.length>0){I.preventDefault();const G=X>=0?X:0;zr(ne[G]);return}}},onChange:I=>{T(I.target.value),oi(),q(-1)},placeholder:"  ?",className:"w-full p-4 pr-12 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),Q.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:Q.jsx(Qm,{className:"w-6 h-6"})}),V&&E.trim()&&ne.length>0?Q.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 z-50 bg-white border border-slate-200 rounded-2xl shadow-lg overflow-hidden",dir:"rtl",onMouseDown:I=>{I.preventDefault()},onPointerDown:I=>{I.preventDefault()},children:ne.map((I,G)=>Q.jsxs("div",{className:"w-full flex items-stretch justify-between gap-2 hover:bg-slate-50 transition-colors "+(G===X?"bg-slate-100":""),children:[Q.jsxs("button",{type:"button",className:"flex-1 text-right px-4 py-3 flex items-center justify-between",onPointerDown:$=>{$.preventDefault(),zr(I)},title:"",children:[Q.jsx("span",{className:"font-semibold text-slate-700",children:I.name}),I.isInList?Q.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:["",typeof I.currentQty=="number"?` (${I.currentQty})`:""]}):Q.jsx("span",{className:"text-xs text-slate-400",children:"Tab"})]}),I.canHide?Q.jsx("button",{type:"button",className:"px-3 text-slate-400 hover:text-slate-700",onPointerDown:$=>{$.preventDefault(),$.stopPropagation(),Gs(I)},title:" ","aria-label":" ",children:""}):null]},I.key+"-"+G))}):null]}),o.length===0?Q.jsxs("div",{className:"text-center py-20 opacity-20",children:[Q.jsx(vR,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),Q.jsx("p",{className:"text-lg font-bold",children:" "})]}):Q.jsx("div",{className:"space-y-4",children:Q.jsxs("div",{className:"space-y-3",children:[Yo.map(I=>Q.jsxs("div",{className:"relative overflow-hidden flex items-center justify-between p-3 bg-white rounded-2xl border border-slate-100 shadow-sm select-none",dir:"rtl",onPointerDown:$i(I.id),onPointerMove:Pr(I.id),onPointerUp:qn(I.id),onPointerCancel:Na,onTouchStart:Ji(I.id),onTouchMove:Lr(I.id),onTouchEnd:Qo(I.id),style:{touchAction:"pan-y"},children:[Q.jsx("div",{className:`absolute inset-0 ${Ct.id===I.id?Ct.dx>0?"bg-emerald-50":Ct.dx<0?"bg-rose-50":"bg-transparent":"bg-transparent"}`,style:{opacity:Ct.id===I.id?Math.min(1,Math.abs(Ct.dx)/mn):0}}),Q.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full",style:{transform:Ct.id===I.id?`translateX(${Ct.dx}px)`:void 0,transition:Ct.id===I.id?"none":"transform 120ms ease-out"},children:[Q.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>{vt.current||Ti(I.id)},children:I.name}),Q.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100","data-noswipe":"true",children:[Q.jsx("button",{onClick:()=>pn(I.id,-1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:Q.jsx(_R,{className:"w-3 h-3"})}),Q.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:I.quantity}),Q.jsx("button",{onClick:()=>pn(I.id,1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:Q.jsx(Qm,{className:"w-3 h-3"})})]})]}),Ct.id===I.id&&Ct.dx>12?Q.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center text-emerald-600 pointer-events-none",children:Q.jsx(rh,{className:"w-5 h-5 fill-emerald-600"})}):null,Ct.id===I.id&&Ct.dx<-12?Q.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center text-rose-600 pointer-events-none",children:Q.jsx(sh,{className:"w-5 h-5"})}):null]},I.id)),Zi.length>0?Q.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[Q.jsxs("h3",{className:"text-lg font-bold text-slate-700 text-right mb-2",children:[" (",Zi.length,")"]}),Zi.map(I=>Q.jsx("div",{className:"flex items-center justify-between p-3 bg-slate-100/50 rounded-2xl opacity-60 grayscale transition-all",dir:"rtl",children:Q.jsxs("div",{className:"flex items-center justify-between w-full",children:[Q.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-start cursor-pointer",onClick:()=>Ti(I.id),style:{direction:"rtl",unicodeBidi:"plaintext"},children:[Q.jsx(dR,{className:"w-6 h-6 text-emerald-500 flex-shrink-0"}),Q.jsx("span",{className:"text-base font-bold text-slate-500 line-through truncate text-left",children:Q.jsxs("span",{className:"flex gap-1",children:[Q.jsx("span",{children:I.name}),(I.quantity||1)>1&&Q.jsxs(Q.Fragment,{children:[Q.jsx("span",{children:"x"}),Q.jsx("span",{children:I.quantity})]})]})})]}),Q.jsx("button",{onClick:()=>xe(I.id),className:"p-2 text-slate-300",title:"",children:Q.jsx(sh,{className:"w-4 h-4"})})]})},I.id))]}):null]})})]}):Q.jsxs("div",{className:"space-y-6",children:[Q.jsxs("div",{className:"text-right",children:[Q.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),Q.jsx("p",{className:"text-sm text-slate-400 font-bold",children:Q.jsx("span",{className:"font-semibold",children:"  "})})]}),f.length===0?Q.jsxs("div",{className:"text-center py-20 opacity-20",children:[Q.jsx(rh,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),Q.jsx("p",{className:"font-bold",children:"  "})]}):Q.jsx("div",{className:"grid grid-cols-1 gap-3",children:f.map(I=>Q.jsxs("div",{className:"relative overflow-hidden rounded-2xl select-none",dir:"ltr",onPointerDown:Oi(I.id),onPointerMove:Qe(I.id),onPointerUp:Ys(I.id),onPointerCancel:Mi,style:{touchAction:"pan-y"},children:[Q.jsx("div",{className:`absolute inset-0 ${Ne.id===I.id?Ne.rawDx>0?"bg-emerald-50":Ne.rawDx<0?"bg-rose-50":"bg-transparent":"bg-transparent"}`,style:{opacity:Ne.id===I.id?Math.min(1,Math.abs(Ne.rawDx)/tr):0}}),Q.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 pointer-events-none",children:[Q.jsx("div",{className:"flex items-center gap-2 text-emerald-600",children:Q.jsx(TO,{className:"w-6 h-6"})}),Q.jsx("div",{className:"flex items-center gap-2 text-rose-600",children:Q.jsx(sh,{className:"w-5 h-5"})})]}),Q.jsxs("div",{className:"relative z-10 flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-100 shadow-sm",style:{transform:Ne.id===I.id?`translateX(${Ne.dx}px)`:void 0,transition:Ne.id===I.id?"none":"transform 160ms ease-out"},children:[Q.jsx("div",{className:"flex items-center gap-2"}),Q.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate px-3 text-base",style:{direction:"rtl",unicodeBidi:"plaintext"},children:I.name}),Q.jsx(rh,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]})]},I.id))})]})}),Q.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:Q.jsxs("div",{className:"max-w-md mx-auto px-4 pb-3",children:[Q.jsx("div",{className:"flex justify-start mb-2",dir:"ltr",children:Q.jsx("button",{onClick:Wi,className:"w-14 h-14 rounded-full bg-emerald-500 text-white flex items-center justify-center shadow-lg shadow-emerald-200 active:scale-95 transition-transform",title:"  ",children:Q.jsx(pR,{className:"w-6 h-6"})})}),Q.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:Q.jsxs("div",{className:"relative flex items-center justify-between px-10 pt-9 pb-3",children:[Q.jsxs("button",{onClick:()=>g("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[Q.jsx(rh,{className:`w-7 h-7 ${p==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),"",Q.jsx("button",{onPointerDown:I=>{I.preventDefault(),Nn()},onPointerUp:I=>{I.preventDefault(),ie()},onPointerCancel:I=>{I.preventDefault(),ie()},onPointerLeave:I=>{Nt.current&&(I.preventDefault(),ie())},onTouchStart:I=>{I.preventDefault(),Nn()},onTouchEnd:I=>{I.preventDefault(),ie()},onMouseDown:I=>{I.preventDefault(),Nn()},onMouseUp:I=>{I.preventDefault(),ie()},style:{touchAction:"none"},className:`absolute left-1/2 -translate-x-1/2 -top-8 w-16 h-16 rounded-full border-4 border-white shadow-xl flex items-center justify-center ${k?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:k?"  -   ":"   ",children:k?Q.jsx(gR,{className:"w-7 h-7"}):Q.jsx(yR,{className:"w-7 h-7"})})]}),Q.jsxs("button",{onClick:()=>g("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[Q.jsx(lT,{className:"w-7 h-7"}),""]})]})})]})}),Vt?Q.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:Q.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[Q.jsxs("div",{className:"flex items-center gap-3",children:[Q.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:Q.jsx(fR,{className:"w-5 h-5"})}),Q.jsxs("div",{className:"text-right",children:[Q.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),Q.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),Q.jsxs("div",{className:"flex gap-3",children:[Q.jsx("button",{onClick:()=>wt(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),Q.jsx("button",{onClick:Oa,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null,J?Q.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50",children:J}):null]}):Q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:Q.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[Q.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),Q.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),Q.jsxs("button",{onClick:async()=>{await Jl()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[Q.jsx(uT,{className:"w-4 h-4"}),"  "]})]})})},UO=()=>Q.jsx(Jb,{children:Q.jsxs(Rb,{children:[Q.jsx(Hm,{path:"/",element:Q.jsx(LO,{})}),Q.jsx(Hm,{path:"/invite",element:Q.jsx(bO,{})})]})}),FS=document.getElementById("root");if(!FS)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",r=>{const t=(r==null?void 0:r.message)||"unknown",n=r==null?void 0:r.error;console.error("WINDOW_ERROR:",t,n),alert("WINDOW_ERROR: "+t)});window.addEventListener("unhandledrejection",r=>{const t=r==null?void 0:r.reason;console.error("UNHANDLED_REJECTION:",t);let n="";try{typeof t=="string"?n=t:t!=null&&t.message?n=t.message:n=JSON.stringify(t)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());DA.createRoot(FS).render(Q.jsx(SA.StrictMode,{children:Q.jsx(UO,{})}));
