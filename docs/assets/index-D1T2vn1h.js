(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function mA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gm={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function pA(){if(qv)return ql;qv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return ql.Fragment=t,ql.jsx=n,ql.jsxs=n,ql}var Hv;function gA(){return Hv||(Hv=1,gm.exports=pA()),gm.exports}var G=gA(),ym={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function yA(){if(Fv)return Ot;Fv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function V(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,q={};function at(N,J,ot){this.props=N,this.context=J,this.refs=q,this.updater=ot||B}at.prototype.isReactComponent={},at.prototype.setState=function(N,J){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,J,"setState")},at.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function lt(){}lt.prototype=at.prototype;function it(N,J,ot){this.props=N,this.context=J,this.refs=q,this.updater=ot||B}var Tt=it.prototype=new lt;Tt.constructor=it,X(Tt,at.prototype),Tt.isPureReactComponent=!0;var Mt=Array.isArray;function wt(){}var x={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(N,J,ot){var ft=ot.ref;return{$$typeof:r,type:N,key:J,ref:ft!==void 0?ft:null,props:ot}}function M(N,J){return R(N.type,J,N.props)}function k(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function U(N){var J={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ot){return J[ot]})}var D=/\/+/g;function we(N,J){return typeof N=="object"&&N!==null&&N.key!=null?U(""+N.key):J.toString(36)}function ke(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(wt,wt):(N.status="pending",N.then(function(J){N.status==="pending"&&(N.status="fulfilled",N.value=J)},function(J){N.status==="pending"&&(N.status="rejected",N.reason=J)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function $(N,J,ot,ft,vt){var bt=typeof N;(bt==="undefined"||bt==="boolean")&&(N=null);var Ct=!1;if(N===null)Ct=!0;else switch(bt){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(N.$$typeof){case r:case t:Ct=!0;break;case E:return Ct=N._init,$(Ct(N._payload),J,ot,ft,vt)}}if(Ct)return vt=vt(N),Ct=ft===""?"."+we(N,0):ft,Mt(vt)?(ot="",Ct!=null&&(ot=Ct.replace(D,"$&/")+"/"),$(vt,J,ot,"",function(mn){return mn})):vt!=null&&(k(vt)&&(vt=M(vt,ot+(vt.key==null||N&&N.key===vt.key?"":(""+vt.key).replace(D,"$&/")+"/")+Ct)),J.push(vt)),1;Ct=0;var oe=ft===""?".":ft+":";if(Mt(N))for(var me=0;me<N.length;me++)ft=N[me],bt=oe+we(ft,me),Ct+=$(ft,J,ot,bt,vt);else if(me=V(N),typeof me=="function")for(N=me.call(N),me=0;!(ft=N.next()).done;)ft=ft.value,bt=oe+we(ft,me++),Ct+=$(ft,J,ot,bt,vt);else if(bt==="object"){if(typeof N.then=="function")return $(ke(N),J,ot,ft,vt);throw J=String(N),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function st(N,J,ot){if(N==null)return N;var ft=[],vt=0;return $(N,ft,"","",function(bt){return J.call(ot,bt,vt++)}),ft}function gt(N){if(N._status===-1){var J=N._result;J=J(),J.then(function(ot){(N._status===0||N._status===-1)&&(N._status=1,N._result=ot)},function(ot){(N._status===0||N._status===-1)&&(N._status=2,N._result=ot)}),N._status===-1&&(N._status=0,N._result=J)}if(N._status===1)return N._result.default;throw N._result}var Nt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Bt={map:st,forEach:function(N,J,ot){st(N,function(){J.apply(this,arguments)},ot)},count:function(N){var J=0;return st(N,function(){J++}),J},toArray:function(N){return st(N,function(J){return J})||[]},only:function(N){if(!k(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ot.Activity=T,Ot.Children=Bt,Ot.Component=at,Ot.Fragment=n,Ot.Profiler=o,Ot.PureComponent=it,Ot.StrictMode=s,Ot.Suspense=p,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(N){return x.H.useMemoCache(N)}},Ot.cache=function(N){return function(){return N.apply(null,arguments)}},Ot.cacheSignal=function(){return null},Ot.cloneElement=function(N,J,ot){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ft=X({},N.props),vt=N.key;if(J!=null)for(bt in J.key!==void 0&&(vt=""+J.key),J)!b.call(J,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&J.ref===void 0||(ft[bt]=J[bt]);var bt=arguments.length-2;if(bt===1)ft.children=ot;else if(1<bt){for(var Ct=Array(bt),oe=0;oe<bt;oe++)Ct[oe]=arguments[oe+2];ft.children=Ct}return R(N.type,vt,ft)},Ot.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ot.createElement=function(N,J,ot){var ft,vt={},bt=null;if(J!=null)for(ft in J.key!==void 0&&(bt=""+J.key),J)b.call(J,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(vt[ft]=J[ft]);var Ct=arguments.length-2;if(Ct===1)vt.children=ot;else if(1<Ct){for(var oe=Array(Ct),me=0;me<Ct;me++)oe[me]=arguments[me+2];vt.children=oe}if(N&&N.defaultProps)for(ft in Ct=N.defaultProps,Ct)vt[ft]===void 0&&(vt[ft]=Ct[ft]);return R(N,bt,vt)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(N){return{$$typeof:m,render:N}},Ot.isValidElement=k,Ot.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:gt}},Ot.memo=function(N,J){return{$$typeof:g,type:N,compare:J===void 0?null:J}},Ot.startTransition=function(N){var J=x.T,ot={};x.T=ot;try{var ft=N(),vt=x.S;vt!==null&&vt(ot,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(wt,Nt)}catch(bt){Nt(bt)}finally{J!==null&&ot.types!==null&&(J.types=ot.types),x.T=J}},Ot.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ot.use=function(N){return x.H.use(N)},Ot.useActionState=function(N,J,ot){return x.H.useActionState(N,J,ot)},Ot.useCallback=function(N,J){return x.H.useCallback(N,J)},Ot.useContext=function(N){return x.H.useContext(N)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(N,J){return x.H.useDeferredValue(N,J)},Ot.useEffect=function(N,J){return x.H.useEffect(N,J)},Ot.useEffectEvent=function(N){return x.H.useEffectEvent(N)},Ot.useId=function(){return x.H.useId()},Ot.useImperativeHandle=function(N,J,ot){return x.H.useImperativeHandle(N,J,ot)},Ot.useInsertionEffect=function(N,J){return x.H.useInsertionEffect(N,J)},Ot.useLayoutEffect=function(N,J){return x.H.useLayoutEffect(N,J)},Ot.useMemo=function(N,J){return x.H.useMemo(N,J)},Ot.useOptimistic=function(N,J){return x.H.useOptimistic(N,J)},Ot.useReducer=function(N,J,ot){return x.H.useReducer(N,J,ot)},Ot.useRef=function(N){return x.H.useRef(N)},Ot.useState=function(N){return x.H.useState(N)},Ot.useSyncExternalStore=function(N,J,ot){return x.H.useSyncExternalStore(N,J,ot)},Ot.useTransition=function(){return x.H.useTransition()},Ot.version="19.2.3",Ot}var Gv;function _p(){return Gv||(Gv=1,ym.exports=yA()),ym.exports}var L=_p();const _A=mA(L);var _m={exports:{}},Hl={},vm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function vA(){return Qv||(Qv=1,(function(r){function t($,st){var gt=$.length;$.push(st);t:for(;0<gt;){var Nt=gt-1>>>1,Bt=$[Nt];if(0<o(Bt,st))$[Nt]=st,$[gt]=Bt,gt=Nt;else break t}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var st=$[0],gt=$.pop();if(gt!==st){$[0]=gt;t:for(var Nt=0,Bt=$.length,N=Bt>>>1;Nt<N;){var J=2*(Nt+1)-1,ot=$[J],ft=J+1,vt=$[ft];if(0>o(ot,gt))ft<Bt&&0>o(vt,ot)?($[Nt]=vt,$[ft]=gt,Nt=ft):($[Nt]=ot,$[J]=gt,Nt=J);else if(ft<Bt&&0>o(vt,gt))$[Nt]=vt,$[ft]=gt,Nt=ft;else break t}}return st}function o($,st){var gt=$.sortIndex-st.sortIndex;return gt!==0?gt:$.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,A=3,V=!1,B=!1,X=!1,q=!1,at=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function Tt($){for(var st=n(g);st!==null;){if(st.callback===null)s(g);else if(st.startTime<=$)s(g),st.sortIndex=st.expirationTime,t(p,st);else break;st=n(g)}}function Mt($){if(X=!1,Tt($),!B)if(n(p)!==null)B=!0,wt||(wt=!0,U());else{var st=n(g);st!==null&&ke(Mt,st.startTime-$)}}var wt=!1,x=-1,b=5,R=-1;function M(){return q?!0:!(r.unstable_now()-R<b)}function k(){if(q=!1,wt){var $=r.unstable_now();R=$;var st=!0;try{t:{B=!1,X&&(X=!1,lt(x),x=-1),V=!0;var gt=A;try{e:{for(Tt($),T=n(p);T!==null&&!(T.expirationTime>$&&M());){var Nt=T.callback;if(typeof Nt=="function"){T.callback=null,A=T.priorityLevel;var Bt=Nt(T.expirationTime<=$);if($=r.unstable_now(),typeof Bt=="function"){T.callback=Bt,Tt($),st=!0;break e}T===n(p)&&s(p),Tt($)}else s(p);T=n(p)}if(T!==null)st=!0;else{var N=n(g);N!==null&&ke(Mt,N.startTime-$),st=!1}}break t}finally{T=null,A=gt,V=!1}st=void 0}}finally{st?U():wt=!1}}}var U;if(typeof it=="function")U=function(){it(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,we=D.port2;D.port1.onmessage=k,U=function(){we.postMessage(null)}}else U=function(){at(k,0)};function ke($,st){x=at(function(){$(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function($){switch(A){case 1:case 2:case 3:var st=3;break;default:st=A}var gt=A;A=st;try{return $()}finally{A=gt}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function($,st){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var gt=A;A=$;try{return st()}finally{A=gt}},r.unstable_scheduleCallback=function($,st,gt){var Nt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Nt+gt:Nt):gt=Nt,$){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=gt+Bt,$={id:E++,callback:st,priorityLevel:$,startTime:gt,expirationTime:Bt,sortIndex:-1},gt>Nt?($.sortIndex=gt,t(g,$),n(p)===null&&$===n(g)&&(X?(lt(x),x=-1):X=!0,ke(Mt,gt-Nt))):($.sortIndex=Bt,t(p,$),B||V||(B=!0,wt||(wt=!0,U()))),$},r.unstable_shouldYield=M,r.unstable_wrapCallback=function($){var st=A;return function(){var gt=A;A=st;try{return $.apply(this,arguments)}finally{A=gt}}}})(Em)),Em}var Yv;function EA(){return Yv||(Yv=1,vm.exports=vA()),vm.exports}var Tm={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function TA(){if(Kv)return _n;Kv=1;var r=_p();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,_n.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},_n.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},_n.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},_n.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},_n.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_n.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},_n.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_n.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},_n.requestFormReset=function(p){s.d.r(p)},_n.unstable_batchedUpdates=function(p,g){return p(g)},_n.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},_n.useFormStatus=function(){return f.H.useHostTransitionStatus()},_n.version="19.2.3",_n}var Xv;function SA(){if(Xv)return Tm.exports;Xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Tm.exports=TA(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function wA(){if($v)return Hl;$v=1;var r=EA(),t=_p(),n=SA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),lt=Symbol.for("react.consumer"),it=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),Mt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function we(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case at:return"Profiler";case q:return"StrictMode";case Mt:return"Suspense";case wt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case it:return e.displayName||"Context";case lt:return(e._context.displayName||"Context")+".Consumer";case Tt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return i=e.displayName||null,i!==null?i:we(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return we(e(i))}catch{}}return null}var ke=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Nt=[],Bt=-1;function N(e){return{current:e}}function J(e){0>Bt||(e.current=Nt[Bt],Nt[Bt]=null,Bt--)}function ot(e,i){Bt++,Nt[Bt]=e.current,e.current=i}var ft=N(null),vt=N(null),bt=N(null),Ct=N(null);function oe(e,i){switch(ot(bt,i),ot(vt,e),ot(ft,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?hv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=hv(i),e=fv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ft),ot(ft,e)}function me(){J(ft),J(vt),J(bt)}function mn(e){e.memoizedState!==null&&ot(Ct,e);var i=ft.current,a=fv(i,e.type);i!==a&&(ot(vt,e),ot(ft,a))}function Bn(e){vt.current===e&&(J(ft),J(vt)),Ct.current===e&&(J(Ct),Ul._currentValue=gt)}var Ki,Pr;function qn(e){if(Ki===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ki=i&&i[1]||"",Pr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ki+e+Pr}var Xi=!1;function Lr(e,i){if(!e||Xi)return"";Xi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Y){var F=Y}Reflect.construct(e,[],nt)}else{try{nt.call()}catch(Y){F=Y}e.call(nt.prototype)}}else{try{throw Error()}catch(Y){F=Y}(nt=e())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var I=_.split(`
`),H=S.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===H.length)for(l=I.length-1,h=H.length-1;1<=l&&0<=h&&I[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==H[h]){var Z=`
`+I[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=h);break}}}finally{Xi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?qn(a):""}function Qo(e,i){switch(e.tag){case 26:case 27:case 5:return qn(e.type);case 16:return qn("Lazy");case 13:return e.child!==i&&i!==null?qn("Suspense Fallback"):qn("Suspense");case 19:return qn("SuspenseList");case 0:case 15:return Lr(e.type,!1);case 11:return Lr(e.type.render,!1);case 1:return Lr(e.type,!0);case 31:return qn("Activity");default:return""}}function Na(e){try{var i="",a=null;do i+=Qo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vi=Object.prototype.hasOwnProperty,xi=r.unstable_scheduleCallback,Ur=r.unstable_cancelCallback,Yo=r.unstable_shouldYield,$i=r.unstable_requestPaint,Pe=r.unstable_now,Ji=r.unstable_getCurrentPriorityLevel,ne=r.unstable_ImmediatePriority,Le=r.unstable_UserBlockingPriority,ai=r.unstable_NormalPriority,zr=r.unstable_LowPriority,Gs=r.unstable_IdlePriority,Ko=r.log,Ei=r.unstable_setDisableYieldValue,pn=null,De=null;function wn(e){if(typeof Ko=="function"&&Ei(e),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(pn,e)}catch{}}var an=Math.clz32?Math.clz32:Ma,Oa=Math.log,Qs=Math.LN2;function Ma(e){return e>>>=0,e===0?32:31-(Oa(e)/Qs|0)|0}var Zi=256,gn=262144,xn=4194304;function Je(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=Je(l):(_&=S,_!==0?h=Je(_):a||(a=S&~e,a!==0&&(h=Je(a))))):(S=l&~d,S!==0?h=Je(S):_!==0?h=Je(_):a||(a=l&~e,a!==0&&(h=Je(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function jr(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wi(){var e=xn;return xn<<=1,(xn&62914560)===0&&(xn=4194304),e}function Ti(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ni(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qe(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,I=e.expirationTimes,H=e.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-an(a),nt=1<<Z;S[Z]=0,I[Z]=-1;var F=H[Z];if(F!==null)for(H[Z]=null,Z=0;Z<F.length;Z++){var Y=F[Z];Y!==null&&(Y.lane&=-536870913)}a&=~nt}l!==0&&Ys(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Ys(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-an(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Oi(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-an(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Fn(e,i){var a=i&-i;return a=(a&42)!==0?1:Ks(a),(a&(e.suspendedLanes|i))!==0?0:a}function Ks(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Si(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:kv(e.type))}function Va(e,i){var a=st.p;try{return st.p=e,i()}finally{st.p=a}}var Nn=Math.random().toString(36).slice(2),ie="__reactFiber$"+Nn,C="__reactProps$"+Nn,Q="__reactContainer$"+Nn,W="__reactEvents$"+Nn,ut="__reactListeners$"+Nn,pt="__reactHandles$"+Nn,Ut="__reactResources$"+Nn,Rt="__reactMarker$"+Nn;function le(e){delete e[ie],delete e[C],delete e[W],delete e[ut],delete e[pt]}function Xt(e){var i=e[ie];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Q]||a[ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=vv(e);e!==null;){if(a=e[ie])return a;e=vv(e)}return i}e=a,a=e.parentNode}return null}function kt(e){if(e=e[ie]||e[Q]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Vt(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Ne(e){var i=e[Ut];return i||(i=e[Ut]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ve(e){e[Rt]=!0}var Mi=new Set,Gn={};function Ye(e,i){An(e,i),An(e+"Capture",i)}function An(e,i){for(Gn[e]=i,e=0;e<i.length;e++)Mi.add(i[e])}var yf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},$o={};function ku(e){return vi.call($o,e)?!0:vi.call(Xo,e)?!1:yf.test(e)?$o[e]=!0:(Xo[e]=!0,!1)}function Br(e,i,a){if(ku(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function qr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function oi(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pu(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _f(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ka(e){if(!e._valueTracker){var i=Pu(e)?"checked":"value";e._valueTracker=_f(e,i,""+e[i])}}function Jo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Pu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Pa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tr=/[\n"\\]/g;function Ae(e){return e.replace(tr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Hr(e,i,a,l,h,d,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+bn(i)):e.value!==""+bn(i)&&(e.value=""+bn(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?La(e,_,bn(i)):a!=null?La(e,_,bn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+bn(S):e.removeAttribute("name")}function $s(e,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){ka(e);return}a=a!=null?""+bn(a):"",i=i!=null?""+bn(i):a,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),ka(e)}function La(e,i,a){i==="number"&&Pa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Zt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+bn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Js(e,i,a){if(i!=null&&(i=""+bn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+bn(a):""}function Fr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ke(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=bn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),ka(e)}function li(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var vf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||vf.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Lu(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Zo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Zo(e,d,i[d])}function Wo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(e){return Tf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ze(){}var Ua=null;function za(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var er=null,Qn=null;function Uu(e){var i=kt(e);if(i&&(e=i.stateNode)){var a=e[C]||null;t:switch(e=i.stateNode,i.type){case"input":if(Hr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ae(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[C]||null;if(!h)throw Error(s(90));Hr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Jo(l)}break t;case"textarea":Js(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Zt(e,!!a.multiple,i,!1)}}}var tl=!1;function zu(e,i,a){if(tl)return e(i,a);tl=!0;try{var l=e(i);return l}finally{if(tl=!1,(er!==null||Qn!==null)&&(kc(),er&&(i=er,e=Qn,Qn=er=null,Uu(i),e)))for(i=0;i<e.length;i++)Uu(e[i])}}function On(e,i){var a=e.stateNode;if(a===null)return null;var l=a[C]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),el=!1;if(wi)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){el=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{el=!1}var Yn=null,ja=null,Pi=null;function Gr(){if(Pi)return Pi;var e,i=ja,a=i.length,l,h="value"in Yn?Yn.value:Yn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Pi=h.slice(e,1<l?1-l:void 0)}function Zs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Qr(){return!0}function pe(){return!1}function yn(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qr:pe,this.isPropagationStopped=pe,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),i}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=yn(nr),Yr=T({},nr,{view:0,detail:0}),ju=yn(Yr),Kr,Ba,Rn,ta=T({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rn&&(Rn&&e.type==="mousemove"?(Kr=e.screenX-Rn.screenX,Ba=e.screenY-Rn.screenY):Ba=Kr=0,Rn=e),Kr)},movementY:function(e){return"movementY"in e?e.movementY:Ba}}),Bu=yn(ta),ea=T({},ta,{dataTransfer:0}),qu=yn(ea),nl=T({},Yr,{relatedTarget:0}),Xr=yn(nl),Hu=T({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=yn(Hu),Sf=T({},nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fu=yn(Sf),na=T({},nr,{data:0}),il=yn(na),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=sl[e])?!!i[e]:!1}function $r(){return Qu}var Yu=T({},Yr,{key:function(e){if(e.key){var i=Gu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(e){return e.type==="keypress"?Zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ku=yn(Yu),ir=T({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=yn(ir),Xu=T({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),$u=yn(Xu),Ju=T({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ha=yn(Ju),In=T({},ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zu=yn(In),Wu=T({},nr,{newState:0,oldState:0}),Jr=yn(Wu),c=[9,13,27,32],y=wi&&"CompositionEvent"in window,v=null;wi&&"documentMode"in document&&(v=document.documentMode);var w=wi&&"TextEvent"in window&&!v,z=wi&&(!y||v&&8<v&&11>=v),K=" ",ct=!1;function re(e,i){switch(e){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ue(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zt=!1;function We(e,i){switch(e){case"compositionend":return Ue(i);case"keypress":return i.which!==32?null:(ct=!0,K);case"textInput":return e=i.data,e===K&&ct?null:e;default:return null}}function tn(e,i){if(zt)return e==="compositionend"||!y&&re(e,i)?(e=Gr(),Pi=ja=Yn=null,zt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return z&&i.locale!=="ko"?null:i.data;default:return null}}var Zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Zr[e.type]:i==="textarea"}function ia(e,i,a,l){er?Qn?Qn.push(l):Qn=[l]:er=l,i=qc(i,"onChange"),0<i.length&&(a=new Ws("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var rr=null,ol=null;function BS(e){sv(e,0)}function tc(e){var i=Vt(e);if(Jo(i))return e}function Ag(e,i){if(e==="change")return i}var bg=!1;if(wi){var wf;if(wi){var Af="oninput"in document;if(!Af){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Af=typeof Rg.oninput=="function"}wf=Af}else wf=!1;bg=wf&&(!document.documentMode||9<document.documentMode)}function Ig(){rr&&(rr.detachEvent("onpropertychange",Cg),ol=rr=null)}function Cg(e){if(e.propertyName==="value"&&tc(ol)){var i=[];ia(i,ol,e,za(e)),zu(BS,i)}}function qS(e,i,a){e==="focusin"?(Ig(),rr=i,ol=a,rr.attachEvent("onpropertychange",Cg)):e==="focusout"&&Ig()}function HS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tc(ol)}function FS(e,i){if(e==="click")return tc(i)}function GS(e,i){if(e==="input"||e==="change")return tc(i)}function QS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Kn=typeof Object.is=="function"?Object.is:QS;function ll(e,i){if(Kn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vi.call(i,h)||!Kn(e[h],i[h]))return!1}return!0}function Dg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xg(e,i){var a=Dg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Dg(a)}}function Ng(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Ng(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Pa(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Pa(e.document)}return i}function bf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var YS=wi&&"documentMode"in document&&11>=document.documentMode,Fa=null,Rf=null,ul=null,If=!1;function Mg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||Fa==null||Fa!==Pa(l)||(l=Fa,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=qc(Rf,"onSelect"),0<l.length&&(i=new Ws("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Fa)))}function ra(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ga={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},Cf={},Vg={};wi&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function sa(e){if(Cf[e])return Cf[e];if(!Ga[e])return e;var i=Ga[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Vg)return Cf[e]=i[a];return e}var kg=sa("animationend"),Pg=sa("animationiteration"),Lg=sa("animationstart"),KS=sa("transitionrun"),XS=sa("transitionstart"),$S=sa("transitioncancel"),Ug=sa("transitionend"),zg=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function Ai(e,i){zg.set(e,i),Ye(i,[e])}var ec=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ui=[],Qa=0,xf=0;function nc(){for(var e=Qa,i=xf=Qa=0;i<e;){var a=ui[i];ui[i++]=null;var l=ui[i];ui[i++]=null;var h=ui[i];ui[i++]=null;var d=ui[i];if(ui[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&jg(a,h,d)}}function ic(e,i,a,l){ui[Qa++]=e,ui[Qa++]=i,ui[Qa++]=a,ui[Qa++]=l,xf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Nf(e,i,a,l){return ic(e,i,a,l),rc(e)}function aa(e,i){return ic(e,null,null,i),rc(e)}function jg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-an(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function rc(e){if(50<Nl)throw Nl=0,jd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ya={};function JS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(e,i,a,l){return new JS(e,i,a,l)}function Of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sr(e,i){var a=e.alternate;return a===null?(a=Xn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Bg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function sc(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")Of(e)&&(_=1);else if(typeof e=="string")_=nA(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Xn(31,a,i,h),e.elementType=R,e.lanes=d,e;case X:return oa(a.children,h,d,i);case q:_=8,h|=24;break;case at:return e=Xn(12,a,i,h|2),e.elementType=at,e.lanes=d,e;case Mt:return e=Xn(13,a,i,h),e.elementType=Mt,e.lanes=d,e;case wt:return e=Xn(19,a,i,h),e.elementType=wt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:_=10;break t;case lt:_=9;break t;case Tt:_=11;break t;case x:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Xn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function oa(e,i,a,l){return e=Xn(7,e,l,i),e.lanes=a,e}function Mf(e,i,a){return e=Xn(6,e,null,i),e.lanes=a,e}function qg(e){var i=Xn(18,null,null,0);return i.stateNode=e,i}function Vf(e,i,a){return i=Xn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Hg=new WeakMap;function ci(e,i){if(typeof e=="object"&&e!==null){var a=Hg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Na(i)},Hg.set(e,i),i)}return{value:e,source:i,stack:Na(i)}}var Ka=[],Xa=0,ac=null,cl=0,hi=[],fi=0,Wr=null,Li=1,Ui="";function ar(e,i){Ka[Xa++]=cl,Ka[Xa++]=ac,ac=e,cl=i}function Fg(e,i,a){hi[fi++]=Li,hi[fi++]=Ui,hi[fi++]=Wr,Wr=e;var l=Li;e=Ui;var h=32-an(l)-1;l&=~(1<<h),a+=1;var d=32-an(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Li=1<<32-an(i)+h|a<<h|l,Ui=d+e}else Li=1<<d|a<<h|l,Ui=e}function kf(e){e.return!==null&&(ar(e,1),Fg(e,1,0))}function Pf(e){for(;e===ac;)ac=Ka[--Xa],Ka[Xa]=null,cl=Ka[--Xa],Ka[Xa]=null;for(;e===Wr;)Wr=hi[--fi],hi[fi]=null,Ui=hi[--fi],hi[fi]=null,Li=hi[--fi],hi[fi]=null}function Gg(e,i){hi[fi++]=Li,hi[fi++]=Ui,hi[fi++]=Wr,Li=i.id,Ui=i.overflow,Wr=e}var on=null,ge=null,Kt=!1,ts=null,di=!1,Lf=Error(s(519));function es(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(ci(i,e)),Lf}function Qg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[ie]=e,i[C]=l,a){case"dialog":Ht("cancel",i),Ht("close",i);break;case"iframe":case"object":case"embed":Ht("load",i);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Ht(Ml[a],i);break;case"source":Ht("error",i);break;case"img":case"image":case"link":Ht("error",i),Ht("load",i);break;case"details":Ht("toggle",i);break;case"input":Ht("invalid",i),$s(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ht("invalid",i);break;case"textarea":Ht("invalid",i),Fr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||uv(i.textContent,a)?(l.popover!=null&&(Ht("beforetoggle",i),Ht("toggle",i)),l.onScroll!=null&&Ht("scroll",i),l.onScrollEnd!=null&&Ht("scrollend",i),l.onClick!=null&&(i.onclick=Ze),i=!0):i=!1,i||es(e,!0)}function Yg(e){for(on=e.return;on;)switch(on.tag){case 5:case 31:case 13:di=!1;return;case 27:case 3:di=!0;return;default:on=on.return}}function $a(e){if(e!==on)return!1;if(!Kt)return Yg(e),Kt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||em(e.type,e.memoizedProps)),a=!a),a&&ge&&es(e),Yg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ge=_v(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ge=_v(e)}else i===27?(i=ge,ps(e.type)?(e=am,am=null,ge=e):ge=i):ge=on?pi(e.stateNode.nextSibling):null;return!0}function la(){ge=on=null,Kt=!1}function Uf(){var e=ts;return e!==null&&(Ln===null?Ln=e:Ln.push.apply(Ln,e),ts=null),e}function hl(e){ts===null?ts=[e]:ts.push(e)}var zf=N(null),ua=null,or=null;function ns(e,i,a){ot(zf,i._currentValue),i._currentValue=a}function lr(e){e._currentValue=zf.current,J(zf)}function jf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Bf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var I=0;I<i.length;I++)if(S.context===i[I]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),jf(d.return,a,e),l||(_=null);break t}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),jf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ja(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;Kn(h.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(h===Ct.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ul):e=[Ul])}h=h.return}e!==null&&Bf(i,e,a,l),i.flags|=262144}function oc(e){for(e=e.firstContext;e!==null;){if(!Kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ca(e){ua=e,or=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ln(e){return Kg(ua,e)}function lc(e,i){return ua===null&&ca(e),Kg(e,i)}function Kg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},or===null){if(e===null)throw Error(s(308));or=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else or=or.next=i;return a}var ZS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},WS=r.unstable_scheduleCallback,tw=r.unstable_NormalPriority,ze={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new ZS,data:new Map,refCount:0}}function fl(e){e.refCount--,e.refCount===0&&WS(tw,function(){e.controller.abort()})}var dl=null,Hf=0,Za=0,Wa=null;function ew(e,i){if(dl===null){var a=dl=[];Hf=0,Za=Qd(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,i.then(Xg,Xg),i}function Xg(){if(--Hf===0&&dl!==null){Wa!==null&&(Wa.status="fulfilled");var e=dl;dl=null,Za=0,Wa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function nw(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var $g=$.S;$.S=function(e,i){M_=Pe(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ew(e,i),$g!==null&&$g(e,i)};var ha=N(null);function Ff(){var e=ha.current;return e!==null?e:de.pooledCache}function uc(e,i){i===null?ot(ha,ha.current):ot(ha,i.pool)}function Jg(){var e=Ff();return e===null?null:{parent:ze._currentValue,pool:e}}var to=Error(s(460)),Gf=Error(s(474)),cc=Error(s(542)),hc={then:function(){}};function Zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Ze,Ze),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ey(e),e;default:if(typeof i.status=="string")i.then(Ze,Ze);else{if(e=de,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ey(e),e}throw da=i,to}}function fa(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(da=a,to):a}}var da=null;function ty(){if(da===null)throw Error(s(459));var e=da;return da=null,e}function ey(e){if(e===to||e===cc)throw Error(s(483))}var eo=null,ml=0;function fc(e){var i=ml;return ml+=1,eo===null&&(eo=[]),Wg(eo,e,i)}function pl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function dc(e,i){throw i.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function ny(e){function i(P,O){if(e){var j=P.deletions;j===null?(P.deletions=[O],P.flags|=16):j.push(O)}}function a(P,O){if(!e)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=sr(P,O),P.index=0,P.sibling=null,P}function d(P,O,j){return P.index=j,e?(j=P.alternate,j!==null?(j=j.index,j<O?(P.flags|=67108866,O):j):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function _(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function S(P,O,j,tt){return O===null||O.tag!==6?(O=Mf(j,P.mode,tt),O.return=P,O):(O=h(O,j),O.return=P,O)}function I(P,O,j,tt){var Et=j.type;return Et===X?Z(P,O,j.props.children,tt,j.key):O!==null&&(O.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===b&&fa(Et)===O.type)?(O=h(O,j.props),pl(O,j),O.return=P,O):(O=sc(j.type,j.key,j.props,null,P.mode,tt),pl(O,j),O.return=P,O)}function H(P,O,j,tt){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Vf(j,P.mode,tt),O.return=P,O):(O=h(O,j.children||[]),O.return=P,O)}function Z(P,O,j,tt,Et){return O===null||O.tag!==7?(O=oa(j,P.mode,tt,Et),O.return=P,O):(O=h(O,j),O.return=P,O)}function nt(P,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Mf(""+O,P.mode,j),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return j=sc(O.type,O.key,O.props,null,P.mode,j),pl(j,O),j.return=P,j;case B:return O=Vf(O,P.mode,j),O.return=P,O;case b:return O=fa(O),nt(P,O,j)}if(ke(O)||U(O))return O=oa(O,P.mode,j,null),O.return=P,O;if(typeof O.then=="function")return nt(P,fc(O),j);if(O.$$typeof===it)return nt(P,lc(P,O),j);dc(P,O)}return null}function F(P,O,j,tt){var Et=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return Et!==null?null:S(P,O,""+j,tt);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case V:return j.key===Et?I(P,O,j,tt):null;case B:return j.key===Et?H(P,O,j,tt):null;case b:return j=fa(j),F(P,O,j,tt)}if(ke(j)||U(j))return Et!==null?null:Z(P,O,j,tt,null);if(typeof j.then=="function")return F(P,O,fc(j),tt);if(j.$$typeof===it)return F(P,O,lc(P,j),tt);dc(P,j)}return null}function Y(P,O,j,tt,Et){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return P=P.get(j)||null,S(O,P,""+tt,Et);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case V:return P=P.get(tt.key===null?j:tt.key)||null,I(O,P,tt,Et);case B:return P=P.get(tt.key===null?j:tt.key)||null,H(O,P,tt,Et);case b:return tt=fa(tt),Y(P,O,j,tt,Et)}if(ke(tt)||U(tt))return P=P.get(j)||null,Z(O,P,tt,Et,null);if(typeof tt.then=="function")return Y(P,O,j,fc(tt),Et);if(tt.$$typeof===it)return Y(P,O,j,lc(O,tt),Et);dc(O,tt)}return null}function mt(P,O,j,tt){for(var Et=null,Wt=null,yt=O,Lt=O=0,Gt=null;yt!==null&&Lt<j.length;Lt++){yt.index>Lt?(Gt=yt,yt=null):Gt=yt.sibling;var te=F(P,yt,j[Lt],tt);if(te===null){yt===null&&(yt=Gt);break}e&&yt&&te.alternate===null&&i(P,yt),O=d(te,O,Lt),Wt===null?Et=te:Wt.sibling=te,Wt=te,yt=Gt}if(Lt===j.length)return a(P,yt),Kt&&ar(P,Lt),Et;if(yt===null){for(;Lt<j.length;Lt++)yt=nt(P,j[Lt],tt),yt!==null&&(O=d(yt,O,Lt),Wt===null?Et=yt:Wt.sibling=yt,Wt=yt);return Kt&&ar(P,Lt),Et}for(yt=l(yt);Lt<j.length;Lt++)Gt=Y(yt,P,Lt,j[Lt],tt),Gt!==null&&(e&&Gt.alternate!==null&&yt.delete(Gt.key===null?Lt:Gt.key),O=d(Gt,O,Lt),Wt===null?Et=Gt:Wt.sibling=Gt,Wt=Gt);return e&&yt.forEach(function(Es){return i(P,Es)}),Kt&&ar(P,Lt),Et}function At(P,O,j,tt){if(j==null)throw Error(s(151));for(var Et=null,Wt=null,yt=O,Lt=O=0,Gt=null,te=j.next();yt!==null&&!te.done;Lt++,te=j.next()){yt.index>Lt?(Gt=yt,yt=null):Gt=yt.sibling;var Es=F(P,yt,te.value,tt);if(Es===null){yt===null&&(yt=Gt);break}e&&yt&&Es.alternate===null&&i(P,yt),O=d(Es,O,Lt),Wt===null?Et=Es:Wt.sibling=Es,Wt=Es,yt=Gt}if(te.done)return a(P,yt),Kt&&ar(P,Lt),Et;if(yt===null){for(;!te.done;Lt++,te=j.next())te=nt(P,te.value,tt),te!==null&&(O=d(te,O,Lt),Wt===null?Et=te:Wt.sibling=te,Wt=te);return Kt&&ar(P,Lt),Et}for(yt=l(yt);!te.done;Lt++,te=j.next())te=Y(yt,P,Lt,te.value,tt),te!==null&&(e&&te.alternate!==null&&yt.delete(te.key===null?Lt:te.key),O=d(te,O,Lt),Wt===null?Et=te:Wt.sibling=te,Wt=te);return e&&yt.forEach(function(dA){return i(P,dA)}),Kt&&ar(P,Lt),Et}function he(P,O,j,tt){if(typeof j=="object"&&j!==null&&j.type===X&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case V:t:{for(var Et=j.key;O!==null;){if(O.key===Et){if(Et=j.type,Et===X){if(O.tag===7){a(P,O.sibling),tt=h(O,j.props.children),tt.return=P,P=tt;break t}}else if(O.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===b&&fa(Et)===O.type){a(P,O.sibling),tt=h(O,j.props),pl(tt,j),tt.return=P,P=tt;break t}a(P,O);break}else i(P,O);O=O.sibling}j.type===X?(tt=oa(j.props.children,P.mode,tt,j.key),tt.return=P,P=tt):(tt=sc(j.type,j.key,j.props,null,P.mode,tt),pl(tt,j),tt.return=P,P=tt)}return _(P);case B:t:{for(Et=j.key;O!==null;){if(O.key===Et)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(P,O.sibling),tt=h(O,j.children||[]),tt.return=P,P=tt;break t}else{a(P,O);break}else i(P,O);O=O.sibling}tt=Vf(j,P.mode,tt),tt.return=P,P=tt}return _(P);case b:return j=fa(j),he(P,O,j,tt)}if(ke(j))return mt(P,O,j,tt);if(U(j)){if(Et=U(j),typeof Et!="function")throw Error(s(150));return j=Et.call(j),At(P,O,j,tt)}if(typeof j.then=="function")return he(P,O,fc(j),tt);if(j.$$typeof===it)return he(P,O,lc(P,j),tt);dc(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(P,O.sibling),tt=h(O,j),tt.return=P,P=tt):(a(P,O),tt=Mf(j,P.mode,tt),tt.return=P,P=tt),_(P)):a(P,O)}return function(P,O,j,tt){try{ml=0;var Et=he(P,O,j,tt);return eo=null,Et}catch(yt){if(yt===to||yt===cc)throw yt;var Wt=Xn(29,yt,null,P.mode);return Wt.lanes=tt,Wt.return=P,Wt}finally{}}}var ma=ny(!0),iy=ny(!1),is=!1;function Qf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ee&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=rc(e),jg(e,null,a),i}return ic(e,l,i,a),rc(e)}function gl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Oi(e,a)}}function Kf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Xf=!1;function yl(){if(Xf){var e=Wa;if(e!==null)throw e}}function _l(e,i,a,l){Xf=!1;var h=e.updateQueue;is=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var I=S,H=I.next;I.next=null,_===null?d=H:_.next=H,_=I;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=H:S.next=H,Z.lastBaseUpdate=I))}if(d!==null){var nt=h.baseState;_=0,Z=H=I=null,S=d;do{var F=S.lane&-536870913,Y=F!==S.lane;if(Y?(Ft&F)===F:(l&F)===F){F!==0&&F===Za&&(Xf=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var mt=e,At=S;F=i;var he=a;switch(At.tag){case 1:if(mt=At.payload,typeof mt=="function"){nt=mt.call(he,nt,F);break t}nt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=At.payload,F=typeof mt=="function"?mt.call(he,nt,F):mt,F==null)break t;nt=T({},nt,F);break t;case 2:is=!0}}F=S.callback,F!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(H=Z=Y,I=nt):Z=Z.next=Y,_|=F;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Z===null&&(I=nt),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),cs|=_,e.lanes=_,e.memoizedState=nt}}function ry(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function sy(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ry(a[e],i)}var no=N(null),mc=N(0);function ay(e,i){e=yr,ot(mc,e),ot(no,i),yr=e|i.baseLanes}function $f(){ot(mc,yr),ot(no,no.current)}function Jf(){yr=mc.current,J(no),J(mc)}var $n=N(null),mi=null;function as(e){var i=e.alternate;ot(Oe,Oe.current&1),ot($n,e),mi===null&&(i===null||no.current!==null||i.memoizedState!==null)&&(mi=e)}function Zf(e){ot(Oe,Oe.current),ot($n,e),mi===null&&(mi=e)}function oy(e){e.tag===22?(ot(Oe,Oe.current),ot($n,e),mi===null&&(mi=e)):os()}function os(){ot(Oe,Oe.current),ot($n,$n.current)}function Jn(e){J($n),mi===e&&(mi=null),J(Oe)}var Oe=N(0);function pc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rm(a)||sm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ur=0,Pt=null,ue=null,je=null,gc=!1,io=!1,pa=!1,yc=0,vl=0,ro=null,iw=0;function be(){throw Error(s(321))}function Wf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Kn(e[a],i[a]))return!1;return!0}function td(e,i,a,l,h,d){return ur=d,Pt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=e===null||e.memoizedState===null?Fy:pd,pa=!1,d=a(l,h),pa=!1,io&&(d=uy(i,a,l,h)),ly(e),d}function ly(e){$.H=Sl;var i=ue!==null&&ue.next!==null;if(ur=0,je=ue=Pt=null,gc=!1,vl=0,ro=null,i)throw Error(s(300));e===null||Be||(e=e.dependencies,e!==null&&oc(e)&&(Be=!0))}function uy(e,i,a,l){Pt=e;var h=0;do{if(io&&(ro=null),vl=0,io=!1,25<=h)throw Error(s(301));if(h+=1,je=ue=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=Gy,d=i(a,l)}while(io);return d}function rw(){var e=$.H,i=e.useState()[0];return i=typeof i.then=="function"?El(i):i,e=e.useState()[0],(ue!==null?ue.memoizedState:null)!==e&&(Pt.flags|=1024),i}function ed(){var e=yc!==0;return yc=0,e}function nd(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function id(e){if(gc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}gc=!1}ur=0,je=ue=Pt=null,io=!1,vl=yc=0,ro=null}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Pt.memoizedState=je=e:je=je.next=e,je}function Me(){if(ue===null){var e=Pt.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var i=je===null?Pt.memoizedState:je.next;if(i!==null)je=i,ue=e;else{if(e===null)throw Pt.alternate===null?Error(s(467)):Error(s(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},je===null?Pt.memoizedState=je=e:je=je.next=e}return je}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(e){var i=vl;return vl+=1,ro===null&&(ro=[]),e=Wg(ro,e,i),i=Pt,(je===null?i.memoizedState:je.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Fy:pd),e}function vc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return El(e);if(e.$$typeof===it)return ln(e)}throw Error(s(438,String(e)))}function rd(e){var i=null,a=Pt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Pt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_c(),Pt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=M;return i.index++,a}function cr(e,i){return typeof i=="function"?i(e):i}function Ec(e){var i=Me();return sd(i,ue,e)}function sd(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var S=_=null,I=null,H=i,Z=!1;do{var nt=H.lane&-536870913;if(nt!==H.lane?(Ft&nt)===nt:(ur&nt)===nt){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),nt===Za&&(Z=!0);else if((ur&F)===F){H=H.next,F===Za&&(Z=!0);continue}else nt={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(S=I=nt,_=d):I=I.next=nt,Pt.lanes|=F,cs|=F;nt=H.action,pa&&a(d,nt),d=H.hasEagerState?H.eagerState:a(d,nt)}else F={lane:nt,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(S=I=F,_=d):I=I.next=F,Pt.lanes|=nt,cs|=nt;H=H.next}while(H!==null&&H!==i);if(I===null?_=d:I.next=S,!Kn(d,e.memoizedState)&&(Be=!0,Z&&(a=Wa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ad(e){var i=Me(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Kn(d,i.memoizedState)||(Be=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function cy(e,i,a){var l=Pt,h=Me(),d=Kt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Kn((ue||h).memoizedState,a);if(_&&(h.memoizedState=a,Be=!0),h=h.queue,ud(dy.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||je!==null&&je.memoizedState.tag&1){if(l.flags|=2048,so(9,{destroy:void 0},fy.bind(null,l,h,a,i),null),de===null)throw Error(s(349));d||(ur&127)!==0||hy(l,i,a)}return a}function hy(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Pt.updateQueue,i===null?(i=_c(),Pt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function fy(e,i,a,l){i.value=a,i.getSnapshot=l,my(i)&&py(e)}function dy(e,i,a){return a(function(){my(i)&&py(e)})}function my(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Kn(e,a)}catch{return!0}}function py(e){var i=aa(e,2);i!==null&&Un(i,e,2)}function od(e){var i=Cn();if(typeof e=="function"){var a=e;if(e=a(),pa){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:e},i}function gy(e,i,a,l){return e.baseState=a,sd(e,ue,typeof l=="function"?l:cr)}function sw(e,i,a,l,h){if(wc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,yy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function yy(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var S=a(h,l),I=$.S;I!==null&&I(_,S),_y(e,i,S)}catch(H){ld(e,i,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(h,l),_y(e,i,d)}catch(H){ld(e,i,H)}}function _y(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){vy(e,i,l)},function(l){return ld(e,i,l)}):vy(e,i,a)}function vy(e,i,a){i.status="fulfilled",i.value=a,Ey(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,yy(e,a)))}function ld(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ey(i),i=i.next;while(i!==l)}e.action=null}function Ey(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ty(e,i){return i}function Sy(e,i){if(Kt){var a=de.formState;if(a!==null){t:{var l=Pt;if(Kt){if(ge){e:{for(var h=ge,d=di;h.nodeType!==8;){if(!d){h=null;break e}if(h=pi(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ge=pi(h.nextSibling),l=h.data==="F!";break t}}es(l)}l=!1}l&&(i=a[0])}}return a=Cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ty,lastRenderedState:i},a.queue=l,a=By.bind(null,Pt,l),l.dispatch=a,l=od(!1),d=md.bind(null,Pt,!1,l.queue),l=Cn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=sw.bind(null,Pt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function wy(e){var i=Me();return Ay(i,ue,e)}function Ay(e,i,a){if(i=sd(e,i,Ty)[0],e=Ec(cr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=El(i)}catch(_){throw _===to?cc:_}else l=i;i=Me();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Pt.flags|=2048,so(9,{destroy:void 0},aw.bind(null,h,a),null)),[l,d,e]}function aw(e,i){e.action=i}function by(e){var i=Me(),a=ue;if(a!==null)return Ay(i,a,e);Me(),i=i.memoizedState,a=Me();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function so(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Pt.updateQueue,i===null&&(i=_c(),Pt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Ry(){return Me().memoizedState}function Tc(e,i,a,l){var h=Cn();Pt.flags|=e,h.memoizedState=so(1|i,{destroy:void 0},a,l===void 0?null:l)}function Sc(e,i,a,l){var h=Me();l=l===void 0?null:l;var d=h.memoizedState.inst;ue!==null&&l!==null&&Wf(l,ue.memoizedState.deps)?h.memoizedState=so(i,d,a,l):(Pt.flags|=e,h.memoizedState=so(1|i,d,a,l))}function Iy(e,i){Tc(8390656,8,e,i)}function ud(e,i){Sc(2048,8,e,i)}function ow(e){Pt.flags|=4;var i=Pt.updateQueue;if(i===null)i=_c(),Pt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Cy(e){var i=Me().memoizedState;return ow({ref:i,nextImpl:e}),function(){if((ee&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Dy(e,i){return Sc(4,2,e,i)}function xy(e,i){return Sc(4,4,e,i)}function Ny(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Oy(e,i,a){a=a!=null?a.concat([e]):null,Sc(4,4,Ny.bind(null,i,e),a)}function cd(){}function My(e,i){var a=Me();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Wf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Vy(e,i){var a=Me();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Wf(i,l[1]))return l[0];if(l=e(),pa){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[l,i],l}function hd(e,i,a){return a===void 0||(ur&1073741824)!==0&&(Ft&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=k_(),Pt.lanes|=e,cs|=e,a)}function ky(e,i,a,l){return Kn(a,i)?a:no.current!==null?(e=hd(e,a,l),Kn(e,i)||(Be=!0),e):(ur&42)===0||(ur&1073741824)!==0&&(Ft&261930)===0?(Be=!0,e.memoizedState=a):(e=k_(),Pt.lanes|=e,cs|=e,i)}function Py(e,i,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var _=$.T,S={};$.T=S,md(e,!1,i,a);try{var I=h(),H=$.S;if(H!==null&&H(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=nw(I,l);Tl(e,i,Z,ti(e))}else Tl(e,i,l,ti(e))}catch(nt){Tl(e,i,{then:function(){},status:"rejected",reason:nt},ti())}finally{st.p=d,_!==null&&S.types!==null&&(_.types=S.types),$.T=_}}function lw(){}function fd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Ly(e).queue;Py(e,h,i,gt,a===null?lw:function(){return Uy(e),a(l)})}function Ly(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:gt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Uy(e){var i=Ly(e);i.next===null&&(i=e.alternate.memoizedState),Tl(e,i.next.queue,{},ti())}function dd(){return ln(Ul)}function zy(){return Me().memoizedState}function jy(){return Me().memoizedState}function uw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=ti();e=rs(a);var l=ss(i,e,a);l!==null&&(Un(l,i,a),gl(l,i,a)),i={cache:qf()},e.payload=i;return}i=i.return}}function cw(e,i,a){var l=ti();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wc(e)?qy(i,a):(a=Nf(e,i,a,l),a!==null&&(Un(a,e,l),Hy(a,i,l)))}function By(e,i,a){var l=ti();Tl(e,i,a,l)}function Tl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(e))qy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,Kn(S,_))return ic(e,i,h,0),de===null&&nc(),!1}catch{}finally{}if(a=Nf(e,i,h,l),a!==null)return Un(a,e,l),Hy(a,i,l),!0}return!1}function md(e,i,a,l){if(l={lane:2,revertLane:Qd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wc(e)){if(i)throw Error(s(479))}else i=Nf(e,a,l,2),i!==null&&Un(i,e,2)}function wc(e){var i=e.alternate;return e===Pt||i!==null&&i===Pt}function qy(e,i){io=gc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Hy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Oi(e,a)}}var Sl={readContext:ln,use:vc,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be};Sl.useEffectEvent=be;var Fy={readContext:ln,use:vc,useCallback:function(e,i){return Cn().memoizedState=[e,i===void 0?null:i],e},useContext:ln,useEffect:Iy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Tc(4194308,4,Ny.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Tc(4194308,4,e,i)},useInsertionEffect:function(e,i){Tc(4,2,e,i)},useMemo:function(e,i){var a=Cn();i=i===void 0?null:i;var l=e();if(pa){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=Cn();if(a!==void 0){var h=a(i);if(pa){wn(!0);try{a(i)}finally{wn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=cw.bind(null,Pt,e),[l.memoizedState,e]},useRef:function(e){var i=Cn();return e={current:e},i.memoizedState=e},useState:function(e){e=od(e);var i=e.queue,a=By.bind(null,Pt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(e,i){var a=Cn();return hd(a,e,i)},useTransition:function(){var e=od(!1);return e=Py.bind(null,Pt,e.queue,!0,!1),Cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Pt,h=Cn();if(Kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),de===null)throw Error(s(349));(Ft&127)!==0||hy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Iy(dy.bind(null,l,d,e),[e]),l.flags|=2048,so(9,{destroy:void 0},fy.bind(null,l,d,a,i),null),a},useId:function(){var e=Cn(),i=de.identifierPrefix;if(Kt){var a=Ui,l=Li;a=(l&~(1<<32-an(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=yc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=iw++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:dd,useFormState:Sy,useActionState:Sy,useOptimistic:function(e){var i=Cn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=md.bind(null,Pt,!0,a),a.dispatch=i,[e,i]},useMemoCache:rd,useCacheRefresh:function(){return Cn().memoizedState=uw.bind(null,Pt)},useEffectEvent:function(e){var i=Cn(),a={impl:e};return i.memoizedState=a,function(){if((ee&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},pd={readContext:ln,use:vc,useCallback:My,useContext:ln,useEffect:ud,useImperativeHandle:Oy,useInsertionEffect:Dy,useLayoutEffect:xy,useMemo:Vy,useReducer:Ec,useRef:Ry,useState:function(){return Ec(cr)},useDebugValue:cd,useDeferredValue:function(e,i){var a=Me();return ky(a,ue.memoizedState,e,i)},useTransition:function(){var e=Ec(cr)[0],i=Me().memoizedState;return[typeof e=="boolean"?e:El(e),i]},useSyncExternalStore:cy,useId:zy,useHostTransitionStatus:dd,useFormState:wy,useActionState:wy,useOptimistic:function(e,i){var a=Me();return gy(a,ue,e,i)},useMemoCache:rd,useCacheRefresh:jy};pd.useEffectEvent=Cy;var Gy={readContext:ln,use:vc,useCallback:My,useContext:ln,useEffect:ud,useImperativeHandle:Oy,useInsertionEffect:Dy,useLayoutEffect:xy,useMemo:Vy,useReducer:ad,useRef:Ry,useState:function(){return ad(cr)},useDebugValue:cd,useDeferredValue:function(e,i){var a=Me();return ue===null?hd(a,e,i):ky(a,ue.memoizedState,e,i)},useTransition:function(){var e=ad(cr)[0],i=Me().memoizedState;return[typeof e=="boolean"?e:El(e),i]},useSyncExternalStore:cy,useId:zy,useHostTransitionStatus:dd,useFormState:by,useActionState:by,useOptimistic:function(e,i){var a=Me();return ue!==null?gy(a,ue,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:jy};Gy.useEffectEvent=Cy;function gd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var yd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=ti(),h=rs(l);h.payload=i,a!=null&&(h.callback=a),i=ss(e,h,l),i!==null&&(Un(i,e,l),gl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=ti(),h=rs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ss(e,h,l),i!==null&&(Un(i,e,l),gl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=ti(),l=rs(a);l.tag=2,i!=null&&(l.callback=i),i=ss(e,l,a),i!==null&&(Un(i,e,a),gl(i,e,a))}};function Qy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!ll(a,l)||!ll(h,d):!0}function Yy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&yd.enqueueReplaceState(i,i.state,null)}function ga(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Ky(e){ec(e)}function Xy(e){console.error(e)}function $y(e){ec(e)}function Ac(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Jy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _d(e,i,a){return a=rs(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(e,i)},a}function Zy(e){return e=rs(e),e.tag=3,e}function Wy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Jy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Jy(i,a,l),typeof h!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function hw(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ja(i,a,h,!0),a=$n.current,a!==null){switch(a.tag){case 31:case 13:return mi===null?Pc():a.alternate===null&&Re===0&&(Re=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===hc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Hd(e,l,h)),!1;case 22:return a.flags|=65536,l===hc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Hd(e,l,h)),!1}throw Error(s(435,a.tag))}return Hd(e,l,h),Pc(),!1}if(Kt)return i=$n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Lf&&(e=Error(s(422),{cause:l}),hl(ci(e,a)))):(l!==Lf&&(i=Error(s(423),{cause:l}),hl(ci(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=ci(l,a),h=_d(e.stateNode,l,h),Kf(e,h),Re!==4&&(Re=2)),!1;var d=Error(s(520),{cause:l});if(d=ci(d,a),xl===null?xl=[d]:xl.push(d),Re!==4&&(Re=2),i===null)return!0;l=ci(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=_d(a.stateNode,l,e),Kf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(hs===null||!hs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Zy(h),Wy(h,e,a,l),Kf(a,h),!1}a=a.return}while(a!==null);return!1}var vd=Error(s(461)),Be=!1;function un(e,i,a,l){i.child=e===null?iy(i,null,a,l):ma(i,e.child,a,l)}function t_(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return ca(i),l=td(e,i,a,_,d,h),S=ed(),e!==null&&!Be?(nd(e,i,h),hr(e,i,h)):(Kt&&S&&kf(i),i.flags|=1,un(e,i,l,h),i.child)}function e_(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Of(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,n_(e,i,d,l,h)):(e=sc(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Id(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(_,l)&&e.ref===i.ref)return hr(e,i,h)}return i.flags|=1,e=sr(d,l),e.ref=i.ref,e.return=i,i.child=e}function n_(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(ll(d,l)&&e.ref===i.ref)if(Be=!1,i.pendingProps=l=d,Id(e,h))(e.flags&131072)!==0&&(Be=!0);else return i.lanes=e.lanes,hr(e,i,h)}return Ed(e,i,a,l,h)}function i_(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return r_(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&uc(i,d!==null?d.cachePool:null),d!==null?ay(i,d):$f(),oy(i);else return l=i.lanes=536870912,r_(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(uc(i,d.cachePool),ay(i,d),os(),i.memoizedState=null):(e!==null&&uc(i,null),$f(),os());return un(e,i,h,a),i.child}function wl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function r_(e,i,a,l,h){var d=Ff();return d=d===null?null:{parent:ze._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&uc(i,null),$f(),oy(i),e!==null&&Ja(e,i,l,!0),i.childLanes=h,null}function bc(e,i){return i=Ic({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function s_(e,i,a){return ma(i,e.child,null,a),e=bc(i,i.pendingProps),e.flags|=2,Jn(i),i.memoizedState=null,e}function fw(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Kt){if(l.mode==="hidden")return e=bc(i,l),i.lanes=536870912,wl(null,e);if(Zf(i),(e=ge)?(e=yv(e,di),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Wr!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=qg(e),a.return=i,i.child=a,on=i,ge=null)):e=null,e===null)throw es(i);return i.lanes=536870912,null}return bc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Zf(i),h)if(i.flags&256)i.flags&=-257,i=s_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Be||Ja(e,i,a,!1),h=(a&e.childLanes)!==0,Be||h){if(l=de,l!==null&&(_=Fn(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,aa(e,_),Un(l,e,_),vd;Pc(),i=s_(e,i,a)}else e=d.treeContext,ge=pi(_.nextSibling),on=i,Kt=!0,ts=null,di=!1,e!==null&&Gg(i,e),i=bc(i,l),i.flags|=4096;return i}return e=sr(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Rc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Ed(e,i,a,l,h){return ca(i),a=td(e,i,a,l,void 0,h),l=ed(),e!==null&&!Be?(nd(e,i,h),hr(e,i,h)):(Kt&&l&&kf(i),i.flags|=1,un(e,i,a,h),i.child)}function a_(e,i,a,l,h,d){return ca(i),i.updateQueue=null,a=uy(i,l,a,h),ly(e),l=ed(),e!==null&&!Be?(nd(e,i,d),hr(e,i,d)):(Kt&&l&&kf(i),i.flags|=1,un(e,i,a,d),i.child)}function o_(e,i,a,l,h){if(ca(i),i.stateNode===null){var d=Ya,_=a.contextType;typeof _=="object"&&_!==null&&(d=ln(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Qf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?ln(_):Ya,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(gd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&yd.enqueueReplaceState(d,d.state,null),_l(i,l,d,h),yl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var S=i.memoizedProps,I=ga(a,S);d.props=I;var H=d.context,Z=a.contextType;_=Ya,typeof Z=="object"&&Z!==null&&(_=ln(Z));var nt=a.getDerivedStateFromProps;Z=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==_)&&Yy(i,d,l,_),is=!1;var F=i.memoizedState;d.state=F,_l(i,l,d,h),yl(),H=i.memoizedState,S||F!==H||is?(typeof nt=="function"&&(gd(i,a,nt,l),H=i.memoizedState),(I=is||Qy(i,a,I,l,F,H,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Yf(e,i),_=i.memoizedProps,Z=ga(a,_),d.props=Z,nt=i.pendingProps,F=d.context,H=a.contextType,I=Ya,typeof H=="object"&&H!==null&&(I=ln(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==nt||F!==I)&&Yy(i,d,l,I),is=!1,F=i.memoizedState,d.state=F,_l(i,l,d,h),yl();var Y=i.memoizedState;_!==nt||F!==Y||is||e!==null&&e.dependencies!==null&&oc(e.dependencies)?(typeof S=="function"&&(gd(i,a,S,l),Y=i.memoizedState),(Z=is||Qy(i,a,Z,l,F,Y,I)||e!==null&&e.dependencies!==null&&oc(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=I,l=Z):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Rc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=ma(i,e.child,null,h),i.child=ma(i,null,a,h)):un(e,i,a,h),i.memoizedState=d.state,e=i.child):e=hr(e,i,h),e}function l_(e,i,a,l){return la(),i.flags|=256,un(e,i,a,l),i.child}var Td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(e){return{baseLanes:e,cachePool:Jg()}}function wd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Wn),e}function u_(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Kt){if(h?as(i):os(),(e=ge)?(e=yv(e,di),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Wr!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=qg(e),a.return=i,i.child=a,on=i,ge=null)):e=null,e===null)throw es(i);return sm(e)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(os(),h=i.mode,S=Ic({mode:"hidden",children:S},h),l=oa(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Sd(a),l.childLanes=wd(e,_,a),i.memoizedState=Td,wl(null,l)):(as(i),Ad(i,S))}var I=e.memoizedState;if(I!==null&&(S=I.dehydrated,S!==null)){if(d)i.flags&256?(as(i),i.flags&=-257,i=bd(e,i,a)):i.memoizedState!==null?(os(),i.child=e.child,i.flags|=128,i=null):(os(),S=l.fallback,h=i.mode,l=Ic({mode:"visible",children:l.children},h),S=oa(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,ma(i,e.child,null,a),l=i.child,l.memoizedState=Sd(a),l.childLanes=wd(e,_,a),i.memoizedState=Td,i=wl(null,l));else if(as(i),sm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,hl({value:l,source:null,stack:null}),i=bd(e,i,a)}else if(Be||Ja(e,i,a,!1),_=(a&e.childLanes)!==0,Be||_){if(_=de,_!==null&&(l=Fn(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,aa(e,l),Un(_,e,l),vd;rm(S)||Pc(),i=bd(e,i,a)}else rm(S)?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,ge=pi(S.nextSibling),on=i,Kt=!0,ts=null,di=!1,e!==null&&Gg(i,e),i=Ad(i,l.children),i.flags|=4096);return i}return h?(os(),S=l.fallback,h=i.mode,I=e.child,H=I.sibling,l=sr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?S=sr(H,S):(S=oa(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,wl(null,l),l=i.child,S=e.child.memoizedState,S===null?S=Sd(a):(h=S.cachePool,h!==null?(I=ze._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Jg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=wd(e,_,a),i.memoizedState=Td,wl(e.child,l)):(as(i),a=e.child,e=a.sibling,a=sr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Ad(e,i){return i=Ic({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ic(e,i){return e=Xn(22,e,null,i),e.lanes=0,e}function bd(e,i,a){return ma(i,e.child,null,a),e=Ad(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function c_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),jf(e.return,i,a)}function Rd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function h_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Oe.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ot(Oe,_),un(e,i,l,a),l=Kt?cl:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&c_(e,a,i);else if(e.tag===19)c_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&pc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Rd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&pc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Rd(i,!0,a,null,d,l);break;case"together":Rd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function hr(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),cs|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ja(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=sr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=sr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Id(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&oc(e)))}function dw(e,i,a){switch(i.tag){case 3:oe(i,i.stateNode.containerInfo),ns(i,ze,e.memoizedState.cache),la();break;case 27:case 5:mn(i);break;case 4:oe(i,i.stateNode.containerInfo);break;case 10:ns(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Zf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(as(i),i.flags|=128,null):(a&i.child.childLanes)!==0?u_(e,i,a):(as(i),e=hr(e,i,a),e!==null?e.sibling:null);as(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ja(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return h_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(Oe,Oe.current),l)break;return null;case 22:return i.lanes=0,i_(e,i,a,i.pendingProps);case 24:ns(i,ze,e.memoizedState.cache)}return hr(e,i,a)}function f_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Be=!0;else{if(!Id(e,a)&&(i.flags&128)===0)return Be=!1,dw(e,i,a);Be=(e.flags&131072)!==0}else Be=!1,Kt&&(i.flags&1048576)!==0&&Fg(i,cl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=fa(i.elementType),i.type=e,typeof e=="function")Of(e)?(l=ga(e,l),i.tag=1,i=o_(null,i,e,l,a)):(i.tag=0,i=Ed(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===Tt){i.tag=11,i=t_(null,i,e,l,a);break t}else if(h===x){i.tag=14,i=e_(null,i,e,l,a);break t}}throw i=we(e)||e,Error(s(306,i,""))}}return i;case 0:return Ed(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ga(l,i.pendingProps),o_(e,i,l,h,a);case 3:t:{if(oe(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Yf(e,i),_l(i,l,null,a);var _=i.memoizedState;if(l=_.cache,ns(i,ze,l),l!==d.cache&&Bf(i,[ze],a,!0),yl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=l_(e,i,l,a);break t}else if(l!==h){h=ci(Error(s(424)),i),hl(h),i=l_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ge=pi(e.firstChild),on=i,Kt=!0,ts=null,di=!0,a=iy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(la(),l===h){i=hr(e,i,a);break t}un(e,i,l,a)}i=i.child}return i;case 26:return Rc(e,i),e===null?(a=wv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Kt||(a=i.type,e=i.pendingProps,l=Hc(bt.current).createElement(a),l[ie]=i,l[C]=e,cn(l,a,e),ve(l),i.stateNode=l):i.memoizedState=wv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return mn(i),e===null&&Kt&&(l=i.stateNode=Ev(i.type,i.pendingProps,bt.current),on=i,di=!0,h=ge,ps(i.type)?(am=h,ge=pi(l.firstChild)):ge=h),un(e,i,i.pendingProps.children,a),Rc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Kt&&((h=l=ge)&&(l=Hw(l,i.type,i.pendingProps,di),l!==null?(i.stateNode=l,on=i,ge=pi(l.firstChild),di=!1,h=!0):h=!1),h||es(i)),mn(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,em(h,d)?l=null:_!==null&&em(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=td(e,i,rw,null,null,a),Ul._currentValue=h),Rc(e,i),un(e,i,l,a),i.child;case 6:return e===null&&Kt&&((e=a=ge)&&(a=Fw(a,i.pendingProps,di),a!==null?(i.stateNode=a,on=i,ge=null,e=!0):e=!1),e||es(i)),null;case 13:return u_(e,i,a);case 4:return oe(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ma(i,null,l,a):un(e,i,l,a),i.child;case 11:return t_(e,i,i.type,i.pendingProps,a);case 7:return un(e,i,i.pendingProps,a),i.child;case 8:return un(e,i,i.pendingProps.children,a),i.child;case 12:return un(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ns(i,i.type,l.value),un(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ca(i),h=ln(h),l=l(h),i.flags|=1,un(e,i,l,a),i.child;case 14:return e_(e,i,i.type,i.pendingProps,a);case 15:return n_(e,i,i.type,i.pendingProps,a);case 19:return h_(e,i,a);case 31:return fw(e,i,a);case 22:return i_(e,i,a,i.pendingProps);case 24:return ca(i),l=ln(ze),e===null?(h=Ff(),h===null&&(h=de,d=qf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Qf(i),ns(i,ze,h)):((e.lanes&a)!==0&&(Yf(e,i),_l(i,null,null,a),yl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ns(i,ze,l)):(l=d.cache,ns(i,ze,l),l!==h.cache&&Bf(i,[ze],a,!0))),un(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function fr(e){e.flags|=4}function Cd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(z_())e.flags|=8192;else throw da=hc,Gf}else e.flags&=-16777217}function d_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cv(i))if(z_())e.flags|=8192;else throw da=hc,Gf}function Cc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Wi():536870912,e.lanes|=i,uo|=i)}function Al(e,i){if(!Kt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ye(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function mw(e,i,a){var l=i.pendingProps;switch(Pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(i),null;case 1:return ye(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),lr(ze),me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&($a(i)?fr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Uf())),ye(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(fr(i),d!==null?(ye(i),d_(i,d)):(ye(i),Cd(i,h,null,l,a))):d?d!==e.memoizedState?(fr(i),ye(i),d_(i,d)):(ye(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&fr(i),ye(i),Cd(i,h,e,l,a)),null;case 27:if(Bn(i),a=bt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&fr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ye(i),null}e=ft.current,$a(i)?Qg(i):(e=Ev(h,l,a),i.stateNode=e,fr(i))}return ye(i),null;case 5:if(Bn(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&fr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ye(i),null}if(d=ft.current,$a(i))Qg(i);else{var _=Hc(bt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[ie]=i,d[C]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(cn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&fr(i)}}return ye(i),Cd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&fr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=bt.current,$a(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=on,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ie]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||uv(e.nodeValue,a)),e||es(i,!0)}else e=Hc(e).createTextNode(l),e[ie]=i,i.stateNode=e}return ye(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=$a(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ie]=i}else la(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ye(i),e=!1}else a=Uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Jn(i),i):(Jn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ye(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=$a(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ie]=i}else la(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ye(i),h=!1}else h=Uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Jn(i),i):(Jn(i),null)}return Jn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Cc(i,i.updateQueue),ye(i),null);case 4:return me(),e===null&&$d(i.stateNode.containerInfo),ye(i),null;case 10:return lr(i.type),ye(i),null;case 19:if(J(Oe),l=i.memoizedState,l===null)return ye(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Al(l,!1);else{if(Re!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=pc(e),d!==null){for(i.flags|=128,Al(l,!1),e=d.updateQueue,i.updateQueue=e,Cc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Bg(a,e),a=a.sibling;return ot(Oe,Oe.current&1|2),Kt&&ar(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&Pe()>Mc&&(i.flags|=128,h=!0,Al(l,!1),i.lanes=4194304)}else{if(!h)if(e=pc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Cc(i,e),Al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Kt)return ye(i),null}else 2*Pe()-l.renderingStartTime>Mc&&a!==536870912&&(i.flags|=128,h=!0,Al(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Pe(),e.sibling=null,a=Oe.current,ot(Oe,h?a&1|2:a&1),Kt&&ar(i,l.treeForkCount),e):(ye(i),null);case 22:case 23:return Jn(i),Jf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ye(i),i.subtreeFlags&6&&(i.flags|=8192)):ye(i),a=i.updateQueue,a!==null&&Cc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&J(ha),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),lr(ze),ye(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function pw(e,i){switch(Pf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return lr(ze),me(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Bn(i),null;case 31:if(i.memoizedState!==null){if(Jn(i),i.alternate===null)throw Error(s(340));la()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Jn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));la()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return J(Oe),null;case 4:return me(),null;case 10:return lr(i.type),null;case 22:case 23:return Jn(i),Jf(),e!==null&&J(ha),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return lr(ze),null;case 25:return null;default:return null}}function m_(e,i){switch(Pf(i),i.tag){case 3:lr(ze),me();break;case 26:case 27:case 5:Bn(i);break;case 4:me();break;case 31:i.memoizedState!==null&&Jn(i);break;case 13:Jn(i);break;case 19:J(Oe);break;case 10:lr(i.type);break;case 22:case 23:Jn(i),Jf(),e!==null&&J(ha);break;case 24:lr(ze)}}function bl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){ae(i,i.return,S)}}function ls(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var I=a,H=S;try{H()}catch(Z){ae(h,I,Z)}}}l=l.next}while(l!==d)}}catch(Z){ae(i,i.return,Z)}}function p_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{sy(i,a)}catch(l){ae(e,e.return,l)}}}function g_(e,i,a){a.props=ga(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ae(e,i,l)}}function Rl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){ae(e,i,h)}}function zi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ae(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ae(e,i,h)}else a.current=null}function y_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ae(e,e.return,h)}}function Dd(e,i,a){try{var l=e.stateNode;Lw(l,e.type,a,i),l[C]=i}catch(h){ae(e,e.return,h)}}function __(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ps(e.type)||e.tag===4}function xd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||__(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ps(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ze));else if(l!==4&&(l===27&&ps(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Nd(e,i,a),e=e.sibling;e!==null;)Nd(e,i,a),e=e.sibling}function Dc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&ps(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Dc(e,i,a),e=e.sibling;e!==null;)Dc(e,i,a),e=e.sibling}function v_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);cn(i,l,a),i[ie]=e,i[C]=a}catch(d){ae(e,e.return,d)}}var dr=!1,qe=!1,Od=!1,E_=typeof WeakSet=="function"?WeakSet:Set,en=null;function gw(e,i){if(e=e.containerInfo,Wd=$c,e=Og(e),bf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,I=-1,H=0,Z=0,nt=e,F=null;e:for(;;){for(var Y;nt!==a||h!==0&&nt.nodeType!==3||(S=_+h),nt!==d||l!==0&&nt.nodeType!==3||(I=_+l),nt.nodeType===3&&(_+=nt.nodeValue.length),(Y=nt.firstChild)!==null;)F=nt,nt=Y;for(;;){if(nt===e)break e;if(F===a&&++H===h&&(S=_),F===d&&++Z===l&&(I=_),(Y=nt.nextSibling)!==null)break;nt=F,F=nt.parentNode}nt=Y}a=S===-1||I===-1?null:{start:S,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:e,selectionRange:a},$c=!1,en=i;en!==null;)if(i=en,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,en=e;else for(;en!==null;){switch(i=en,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var mt=ga(a.type,h);e=l.getSnapshotBeforeUpdate(mt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(At){ae(a,a.return,At)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)im(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":im(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,en=e;break}en=i.return}}function T_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:pr(e,a),l&4&&bl(5,a);break;case 1:if(pr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){ae(a,a.return,_)}else{var h=ga(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){ae(a,a.return,_)}}l&64&&p_(a),l&512&&Rl(a,a.return);break;case 3:if(pr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{sy(e,i)}catch(_){ae(a,a.return,_)}}break;case 27:i===null&&l&4&&v_(a);case 26:case 5:pr(e,a),i===null&&l&4&&y_(a),l&512&&Rl(a,a.return);break;case 12:pr(e,a);break;case 31:pr(e,a),l&4&&A_(e,a);break;case 13:pr(e,a),l&4&&b_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=bw.bind(null,a),Gw(e,a))));break;case 22:if(l=a.memoizedState!==null||dr,!l){i=i!==null&&i.memoizedState!==null||qe,h=dr;var d=qe;dr=l,(qe=i)&&!d?gr(e,a,(a.subtreeFlags&8772)!==0):pr(e,a),dr=h,qe=d}break;case 30:break;default:pr(e,a)}}function S_(e){var i=e.alternate;i!==null&&(e.alternate=null,S_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&le(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ee=null,Vn=!1;function mr(e,i,a){for(a=a.child;a!==null;)w_(e,i,a),a=a.sibling}function w_(e,i,a){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(pn,a)}catch{}switch(a.tag){case 26:qe||zi(a,i),mr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qe||zi(a,i);var l=Ee,h=Vn;ps(a.type)&&(Ee=a.stateNode,Vn=!1),mr(e,i,a),kl(a.stateNode),Ee=l,Vn=h;break;case 5:qe||zi(a,i);case 6:if(l=Ee,h=Vn,Ee=null,mr(e,i,a),Ee=l,Vn=h,Ee!==null)if(Vn)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(a.stateNode)}catch(d){ae(a,i,d)}else try{Ee.removeChild(a.stateNode)}catch(d){ae(a,i,d)}break;case 18:Ee!==null&&(Vn?(e=Ee,pv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),_o(e)):pv(Ee,a.stateNode));break;case 4:l=Ee,h=Vn,Ee=a.stateNode.containerInfo,Vn=!0,mr(e,i,a),Ee=l,Vn=h;break;case 0:case 11:case 14:case 15:ls(2,a,i),qe||ls(4,a,i),mr(e,i,a);break;case 1:qe||(zi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&g_(a,i,l)),mr(e,i,a);break;case 21:mr(e,i,a);break;case 22:qe=(l=qe)||a.memoizedState!==null,mr(e,i,a),qe=l;break;default:mr(e,i,a)}}function A_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{_o(e)}catch(a){ae(i,i.return,a)}}}function b_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_o(e)}catch(a){ae(i,i.return,a)}}function yw(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new E_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new E_),i;default:throw Error(s(435,e.tag))}}function xc(e,i){var a=yw(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Rw.bind(null,e,l);l.then(h,h)}})}function kn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(ps(S.type)){Ee=S.stateNode,Vn=!1;break t}break;case 5:Ee=S.stateNode,Vn=!1;break t;case 3:case 4:Ee=S.stateNode.containerInfo,Vn=!0;break t}S=S.return}if(Ee===null)throw Error(s(160));w_(d,_,h),Ee=null,Vn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)R_(i,e),i=i.sibling}var bi=null;function R_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:kn(i,e),Pn(e),l&4&&(ls(3,e,e.return),bl(3,e),ls(5,e,e.return));break;case 1:kn(i,e),Pn(e),l&512&&(qe||a===null||zi(a,a.return)),l&64&&dr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=bi;if(kn(i,e),Pn(e),l&512&&(qe||a===null||zi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Rt]||d[ie]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),cn(d,l,a),d[ie]=e,ve(d),l=d;break t;case"link":var _=Rv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=h.createElement(l),cn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Rv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=h.createElement(l),cn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ie]=e,ve(d),l=d}e.stateNode=l}else Iv(h,e.type,e.stateNode);else e.stateNode=bv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Iv(h,e.type,e.stateNode):bv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Dd(e,e.memoizedProps,a.memoizedProps)}break;case 27:kn(i,e),Pn(e),l&512&&(qe||a===null||zi(a,a.return)),a!==null&&l&4&&Dd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(kn(i,e),Pn(e),l&512&&(qe||a===null||zi(a,a.return)),e.flags&32){h=e.stateNode;try{li(h,"")}catch(mt){ae(e,e.return,mt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Dd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Od=!0);break;case 6:if(kn(i,e),Pn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(mt){ae(e,e.return,mt)}}break;case 3:if(Qc=null,h=bi,bi=Fc(i.containerInfo),kn(i,e),bi=h,Pn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_o(i.containerInfo)}catch(mt){ae(e,e.return,mt)}Od&&(Od=!1,I_(e));break;case 4:l=bi,bi=Fc(e.stateNode.containerInfo),kn(i,e),Pn(e),bi=l;break;case 12:kn(i,e),Pn(e);break;case 31:kn(i,e),Pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xc(e,l)));break;case 13:kn(i,e),Pn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Oc=Pe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xc(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=dr,Z=qe;if(dr=H||h,qe=Z||I,kn(i,e),qe=Z,dr=H,Pn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||dr||qe||ya(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=I.stateNode;var nt=I.memoizedProps.style,F=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(mt){ae(I,I.return,mt)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(mt){ae(I,I.return,mt)}}}else if(i.tag===18){if(a===null){I=i;try{var Y=I.stateNode;h?gv(Y,!0):gv(I.stateNode,!1)}catch(mt){ae(I,I.return,mt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xc(e,a))));break;case 19:kn(i,e),Pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,xc(e,l)));break;case 30:break;case 21:break;default:kn(i,e),Pn(e)}}function Pn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(__(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=xd(e);Dc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(li(_,""),a.flags&=-33);var S=xd(e);Dc(e,S,_);break;case 3:case 4:var I=a.stateNode.containerInfo,H=xd(e);Nd(e,H,I);break;default:throw Error(s(161))}}catch(Z){ae(e,e.return,Z)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function I_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;I_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function pr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)T_(e,i.alternate,i),i=i.sibling}function ya(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ls(4,i,i.return),ya(i);break;case 1:zi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&g_(i,i.return,a),ya(i);break;case 27:kl(i.stateNode);case 26:case 5:zi(i,i.return),ya(i);break;case 22:i.memoizedState===null&&ya(i);break;case 30:ya(i);break;default:ya(i)}e=e.sibling}}function gr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:gr(h,d,a),bl(4,d);break;case 1:if(gr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){ae(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ry(I[h],S)}catch(H){ae(l,l.return,H)}}a&&_&64&&p_(d),Rl(d,d.return);break;case 27:v_(d);case 26:case 5:gr(h,d,a),a&&l===null&&_&4&&y_(d),Rl(d,d.return);break;case 12:gr(h,d,a);break;case 31:gr(h,d,a),a&&_&4&&A_(h,d);break;case 13:gr(h,d,a),a&&_&4&&b_(h,d);break;case 22:d.memoizedState===null&&gr(h,d,a),Rl(d,d.return);break;case 30:break;default:gr(h,d,a)}i=i.sibling}}function Md(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&fl(a))}function Vd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&fl(e))}function Ri(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)C_(e,i,a,l),i=i.sibling}function C_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ri(e,i,a,l),h&2048&&bl(9,i);break;case 1:Ri(e,i,a,l);break;case 3:Ri(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&fl(e)));break;case 12:if(h&2048){Ri(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ae(i,i.return,I)}}else Ri(e,i,a,l);break;case 31:Ri(e,i,a,l);break;case 13:Ri(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Ri(e,i,a,l):Il(e,i):d._visibility&2?Ri(e,i,a,l):(d._visibility|=2,ao(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Md(_,i);break;case 24:Ri(e,i,a,l),h&2048&&Vd(i.alternate,i);break;default:Ri(e,i,a,l)}}function ao(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,S=a,I=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:ao(d,_,S,I,h),bl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?ao(d,_,S,I,h):Il(d,_):(Z._visibility|=2,ao(d,_,S,I,h)),h&&H&2048&&Md(_.alternate,_);break;case 24:ao(d,_,S,I,h),h&&H&2048&&Vd(_.alternate,_);break;default:ao(d,_,S,I,h)}i=i.sibling}}function Il(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Il(a,l),h&2048&&Md(l.alternate,l);break;case 24:Il(a,l),h&2048&&Vd(l.alternate,l);break;default:Il(a,l)}i=i.sibling}}var Cl=8192;function oo(e,i,a){if(e.subtreeFlags&Cl)for(e=e.child;e!==null;)D_(e,i,a),e=e.sibling}function D_(e,i,a){switch(e.tag){case 26:oo(e,i,a),e.flags&Cl&&e.memoizedState!==null&&iA(a,bi,e.memoizedState,e.memoizedProps);break;case 5:oo(e,i,a);break;case 3:case 4:var l=bi;bi=Fc(e.stateNode.containerInfo),oo(e,i,a),bi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Cl,Cl=16777216,oo(e,i,a),Cl=l):oo(e,i,a));break;default:oo(e,i,a)}}function x_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Dl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];en=l,O_(l,e)}x_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)N_(e),e=e.sibling}function N_(e){switch(e.tag){case 0:case 11:case 15:Dl(e),e.flags&2048&&ls(9,e,e.return);break;case 3:Dl(e);break;case 12:Dl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Nc(e)):Dl(e);break;default:Dl(e)}}function Nc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];en=l,O_(l,e)}x_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ls(8,i,i.return),Nc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(i));break;default:Nc(i)}e=e.sibling}}function O_(e,i){for(;en!==null;){var a=en;switch(a.tag){case 0:case 11:case 15:ls(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,en=l;else t:for(a=e;en!==null;){l=en;var h=l.sibling,d=l.return;if(S_(l),l===a){en=null;break t}if(h!==null){h.return=d,en=h;break t}en=d}}}var _w={getCacheForType:function(e){var i=ln(ze),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return ln(ze).controller.signal}},vw=typeof WeakMap=="function"?WeakMap:Map,ee=0,de=null,qt=null,Ft=0,se=0,Zn=null,us=!1,lo=!1,kd=!1,yr=0,Re=0,cs=0,_a=0,Pd=0,Wn=0,uo=0,xl=null,Ln=null,Ld=!1,Oc=0,M_=0,Mc=1/0,Vc=null,hs=null,Ke=0,fs=null,co=null,_r=0,Ud=0,zd=null,V_=null,Nl=0,jd=null;function ti(){return(ee&2)!==0&&Ft!==0?Ft&-Ft:$.T!==null?Qd():Si()}function k_(){if(Wn===0)if((Ft&536870912)===0||Kt){var e=gn;gn<<=1,(gn&3932160)===0&&(gn=262144),Wn=e}else Wn=536870912;return e=$n.current,e!==null&&(e.flags|=32),Wn}function Un(e,i,a){(e===de&&(se===2||se===9)||e.cancelPendingCommit!==null)&&(ho(e,0),ds(e,Ft,Wn,!1)),Ni(e,a),((ee&2)===0||e!==de)&&(e===de&&((ee&2)===0&&(_a|=a),Re===4&&ds(e,Ft,Wn,!1)),ji(e))}function P_(e,i,a){if((ee&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Hn(e,i),h=l?Sw(e,i):qd(e,i,!0),d=l;do{if(h===0){lo&&!l&&ds(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!Ew(a)){h=qd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var S=e;h=xl;var I=S.current.memoizedState.isDehydrated;if(I&&(ho(S,_).flags|=256),_=qd(S,_,!1),_!==2){if(kd&&!I){S.errorRecoveryDisabledLanes|=d,_a|=d,h=4;break t}d=Ln,Ln=h,d!==null&&(Ln===null?Ln=d:Ln.push.apply(Ln,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){ho(e,0),ds(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ds(l,i,Wn,!us);break t;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Oc+300-Pe(),10<h)){if(ds(l,i,Wn,!us),xe(l,0,!0)!==0)break t;_r=i,l.timeoutHandle=dv(L_.bind(null,l,a,Ln,Vc,Ld,i,Wn,_a,uo,us,d,"Throttled",-0,0),h);break t}L_(l,a,Ln,Vc,Ld,i,Wn,_a,uo,us,d,null,-0,0)}}break}while(!0);ji(e)}function L_(e,i,a,l,h,d,_,S,I,H,Z,nt,F,Y){if(e.timeoutHandle=-1,nt=i.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ze},D_(i,d,nt);var mt=(d&62914560)===d?Oc-Pe():(d&4194048)===d?M_-Pe():0;if(mt=rA(nt,mt),mt!==null){_r=d,e.cancelPendingCommit=mt(G_.bind(null,e,i,d,a,l,h,_,S,I,Z,nt,null,F,Y)),ds(e,d,_,!H);return}}G_(e,i,d,a,l,h,_,S,I)}function Ew(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Kn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ds(e,i,a,l){i&=~Pd,i&=~_a,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-an(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Ys(e,a,i)}function kc(){return(ee&6)===0?(Ol(0),!1):!0}function Bd(){if(qt!==null){if(se===0)var e=qt.return;else e=qt,or=ua=null,id(e),eo=null,ml=0,e=qt;for(;e!==null;)m_(e.alternate,e),e=e.return;qt=null}}function ho(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,jw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),_r=0,Bd(),de=e,qt=a=sr(e.current,null),Ft=i,se=0,Zn=null,us=!1,lo=Hn(e,i),kd=!1,uo=Wn=Pd=_a=cs=Re=0,Ln=xl=null,Ld=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-an(l),d=1<<h;i|=e[h],l&=~d}return yr=i,nc(),a}function U_(e,i){Pt=null,$.H=Sl,i===to||i===cc?(i=ty(),se=3):i===Gf?(i=ty(),se=4):se=i===vd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Zn=i,qt===null&&(Re=1,Ac(e,ci(i,e.current)))}function z_(){var e=$n.current;return e===null?!0:(Ft&4194048)===Ft?mi===null:(Ft&62914560)===Ft||(Ft&536870912)!==0?e===mi:!1}function j_(){var e=$.H;return $.H=Sl,e===null?Sl:e}function B_(){var e=$.A;return $.A=_w,e}function Pc(){Re=4,us||(Ft&4194048)!==Ft&&$n.current!==null||(lo=!0),(cs&134217727)===0&&(_a&134217727)===0||de===null||ds(de,Ft,Wn,!1)}function qd(e,i,a){var l=ee;ee|=2;var h=j_(),d=B_();(de!==e||Ft!==i)&&(Vc=null,ho(e,i)),i=!1;var _=Re;t:do try{if(se!==0&&qt!==null){var S=qt,I=Zn;switch(se){case 8:Bd(),_=6;break t;case 3:case 2:case 9:case 6:$n.current===null&&(i=!0);var H=se;if(se=0,Zn=null,fo(e,S,I,H),a&&lo){_=0;break t}break;default:H=se,se=0,Zn=null,fo(e,S,I,H)}}Tw(),_=Re;break}catch(Z){U_(e,Z)}while(!0);return i&&e.shellSuspendCounter++,or=ua=null,ee=l,$.H=h,$.A=d,qt===null&&(de=null,Ft=0,nc()),_}function Tw(){for(;qt!==null;)q_(qt)}function Sw(e,i){var a=ee;ee|=2;var l=j_(),h=B_();de!==e||Ft!==i?(Vc=null,Mc=Pe()+500,ho(e,i)):lo=Hn(e,i);t:do try{if(se!==0&&qt!==null){i=qt;var d=Zn;e:switch(se){case 1:se=0,Zn=null,fo(e,i,d,1);break;case 2:case 9:if(Zg(d)){se=0,Zn=null,H_(i);break}i=function(){se!==2&&se!==9||de!==e||(se=7),ji(e)},d.then(i,i);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:Zg(d)?(se=0,Zn=null,H_(i)):(se=0,Zn=null,fo(e,i,d,7));break;case 5:var _=null;switch(qt.tag){case 26:_=qt.memoizedState;case 5:case 27:var S=qt;if(_?Cv(_):S.stateNode.complete){se=0,Zn=null;var I=S.sibling;if(I!==null)qt=I;else{var H=S.return;H!==null?(qt=H,Lc(H)):qt=null}break e}}se=0,Zn=null,fo(e,i,d,5);break;case 6:se=0,Zn=null,fo(e,i,d,6);break;case 8:Bd(),Re=6;break t;default:throw Error(s(462))}}ww();break}catch(Z){U_(e,Z)}while(!0);return or=ua=null,$.H=l,$.A=h,ee=a,qt!==null?0:(de=null,Ft=0,nc(),Re)}function ww(){for(;qt!==null&&!Yo();)q_(qt)}function q_(e){var i=f_(e.alternate,e,yr);e.memoizedProps=e.pendingProps,i===null?Lc(e):qt=i}function H_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=a_(a,i,i.pendingProps,i.type,void 0,Ft);break;case 11:i=a_(a,i,i.pendingProps,i.type.render,i.ref,Ft);break;case 5:id(i);default:m_(a,i),i=qt=Bg(i,yr),i=f_(a,i,yr)}e.memoizedProps=e.pendingProps,i===null?Lc(e):qt=i}function fo(e,i,a,l){or=ua=null,id(i),eo=null,ml=0;var h=i.return;try{if(hw(e,h,i,a,Ft)){Re=1,Ac(e,ci(a,e.current)),qt=null;return}}catch(d){if(h!==null)throw qt=h,d;Re=1,Ac(e,ci(a,e.current)),qt=null;return}i.flags&32768?(Kt||l===1?e=!0:lo||(Ft&536870912)!==0?e=!1:(us=e=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),F_(i,e)):Lc(i)}function Lc(e){var i=e;do{if((i.flags&32768)!==0){F_(i,us);return}e=i.return;var a=mw(i.alternate,i,yr);if(a!==null){qt=a;return}if(i=i.sibling,i!==null){qt=i;return}qt=i=e}while(i!==null);Re===0&&(Re=5)}function F_(e,i){do{var a=pw(e.alternate,e);if(a!==null){a.flags&=32767,qt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){qt=e;return}qt=e=a}while(e!==null);Re=6,qt=null}function G_(e,i,a,l,h,d,_,S,I){e.cancelPendingCommit=null;do Uc();while(Ke!==0);if((ee&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=xf,Qe(e,a,d,_,S,I),e===de&&(qt=de=null,Ft=0),co=i,fs=e,_r=a,Ud=d,zd=h,V_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Iw(ai,function(){return $_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=st.p,st.p=2,_=ee,ee|=4;try{gw(e,i,a)}finally{ee=_,st.p=h,$.T=l}}Ke=1,Q_(),Y_(),K_()}}function Q_(){if(Ke===1){Ke=0;var e=fs,i=co,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=st.p;st.p=2;var h=ee;ee|=4;try{R_(i,e);var d=tm,_=Og(e.containerInfo),S=d.focusedElem,I=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Ng(S.ownerDocument.documentElement,S)){if(I!==null&&bf(S)){var H=I.start,Z=I.end;if(Z===void 0&&(Z=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(Z,S.value.length);else{var nt=S.ownerDocument||document,F=nt&&nt.defaultView||window;if(F.getSelection){var Y=F.getSelection(),mt=S.textContent.length,At=Math.min(I.start,mt),he=I.end===void 0?At:Math.min(I.end,mt);!Y.extend&&At>he&&(_=he,he=At,At=_);var P=xg(S,At),O=xg(S,he);if(P&&O&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var j=nt.createRange();j.setStart(P.node,P.offset),Y.removeAllRanges(),At>he?(Y.addRange(j),Y.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),Y.addRange(j))}}}}for(nt=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&nt.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<nt.length;S++){var tt=nt[S];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}$c=!!Wd,tm=Wd=null}finally{ee=h,st.p=l,$.T=a}}e.current=i,Ke=2}}function Y_(){if(Ke===2){Ke=0;var e=fs,i=co,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=st.p;st.p=2;var h=ee;ee|=4;try{T_(e,i.alternate,i)}finally{ee=h,st.p=l,$.T=a}}Ke=3}}function K_(){if(Ke===4||Ke===3){Ke=0,$i();var e=fs,i=co,a=_r,l=V_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ke=5:(Ke=0,co=fs=null,X_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(hs=null),Xs(a),i=i.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(pn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=st.p,st.p=2,$.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{$.T=i,st.p=h}}(_r&3)!==0&&Uc(),ji(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===jd?Nl++:(Nl=0,jd=e):Nl=0,Ol(0)}}function X_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,fl(i)))}function Uc(){return Q_(),Y_(),K_(),$_()}function $_(){if(Ke!==5)return!1;var e=fs,i=Ud;Ud=0;var a=Xs(_r),l=$.T,h=st.p;try{st.p=32>a?32:a,$.T=null,a=zd,zd=null;var d=fs,_=_r;if(Ke=0,co=fs=null,_r=0,(ee&6)!==0)throw Error(s(331));var S=ee;if(ee|=4,N_(d.current),C_(d,d.current,_,a),ee=S,Ol(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(pn,d)}catch{}return!0}finally{st.p=h,$.T=l,X_(e,i)}}function J_(e,i,a){i=ci(a,i),i=_d(e.stateNode,i,2),e=ss(e,i,2),e!==null&&(Ni(e,2),ji(e))}function ae(e,i,a){if(e.tag===3)J_(e,e,a);else for(;i!==null;){if(i.tag===3){J_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hs===null||!hs.has(l))){e=ci(a,e),a=Zy(2),l=ss(i,a,2),l!==null&&(Wy(a,l,i,e),Ni(l,2),ji(l));break}}i=i.return}}function Hd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new vw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(kd=!0,h.add(a),e=Aw.bind(null,e,i,a),i.then(e,e))}function Aw(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,de===e&&(Ft&a)===a&&(Re===4||Re===3&&(Ft&62914560)===Ft&&300>Pe()-Oc?(ee&2)===0&&ho(e,0):Pd|=a,uo===Ft&&(uo=0)),ji(e)}function Z_(e,i){i===0&&(i=Wi()),e=aa(e,i),e!==null&&(Ni(e,i),ji(e))}function bw(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Z_(e,a)}function Rw(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Z_(e,a)}function Iw(e,i){return xi(e,i)}var zc=null,mo=null,Fd=!1,jc=!1,Gd=!1,ms=0;function ji(e){e!==mo&&e.next===null&&(mo===null?zc=mo=e:mo=mo.next=e),jc=!0,Fd||(Fd=!0,Dw())}function Ol(e,i){if(!Gd&&jc){Gd=!0;do for(var a=!1,l=zc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-an(42|e)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,nv(l,d))}else d=Ft,d=xe(l,l===de?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,nv(l,d));l=l.next}while(a);Gd=!1}}function Cw(){W_()}function W_(){jc=Fd=!1;var e=0;ms!==0&&zw()&&(e=ms);for(var i=Pe(),a=null,l=zc;l!==null;){var h=l.next,d=tv(l,i);d===0?(l.next=null,a===null?zc=h:a.next=h,h===null&&(mo=a)):(a=l,(e!==0||(d&3)!==0)&&(jc=!0)),l=h}Ke!==0&&Ke!==5||Ol(e),ms!==0&&(ms=0)}function tv(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-an(d),S=1<<_,I=h[_];I===-1?((S&a)===0||(S&l)!==0)&&(h[_]=jr(S,i)):I<=i&&(e.expiredLanes|=S),d&=~S}if(i=de,a=Ft,a=xe(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(se===2||se===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ur(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Ur(l),Xs(a)){case 2:case 8:a=Le;break;case 32:a=ai;break;case 268435456:a=Gs;break;default:a=ai}return l=ev.bind(null,e),a=xi(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Ur(l),e.callbackPriority=2,e.callbackNode=null,2}function ev(e,i){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Uc()&&e.callbackNode!==a)return null;var l=Ft;return l=xe(e,e===de?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(P_(e,l,i),tv(e,Pe()),e.callbackNode!=null&&e.callbackNode===a?ev.bind(null,e):null)}function nv(e,i){if(Uc())return null;P_(e,i,!0)}function Dw(){Bw(function(){(ee&6)!==0?xi(ne,Cw):W_()})}function Qd(){if(ms===0){var e=Za;e===0&&(e=Zi,Zi<<=1,(Zi&261888)===0&&(Zi=256)),ms=e}return ms}function iv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vi(""+e)}function rv(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function xw(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=iv((h[C]||null).action),_=l.submitter;_&&(i=(i=_[C]||null)?iv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ws("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ms!==0){var I=_?rv(h,_):new FormData(h);fd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(S.preventDefault(),I=_?rv(h,_):new FormData(h),fd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Yd=0;Yd<Df.length;Yd++){var Kd=Df[Yd],Nw=Kd.toLowerCase(),Ow=Kd[0].toUpperCase()+Kd.slice(1);Ai(Nw,"on"+Ow)}Ai(kg,"onAnimationEnd"),Ai(Pg,"onAnimationIteration"),Ai(Lg,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(KS,"onTransitionRun"),Ai(XS,"onTransitionStart"),Ai($S,"onTransitionCancel"),Ai(Ug,"onTransitionEnd"),An("onMouseEnter",["mouseout","mouseover"]),An("onMouseLeave",["mouseout","mouseover"]),An("onPointerEnter",["pointerout","pointerover"]),An("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function sv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],I=S.instance,H=S.currentTarget;if(S=S.listener,I!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=H;try{d(h)}catch(Z){ec(Z)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(S=l[_],I=S.instance,H=S.currentTarget,S=S.listener,I!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=H;try{d(h)}catch(Z){ec(Z)}h.currentTarget=null,d=I}}}}function Ht(e,i){var a=i[W];a===void 0&&(a=i[W]=new Set);var l=e+"__bubble";a.has(l)||(av(i,e,2,!1),a.add(l))}function Xd(e,i,a){var l=0;i&&(l|=4),av(a,e,l,i)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function $d(e){if(!e[Bc]){e[Bc]=!0,Mi.forEach(function(a){a!=="selectionchange"&&(Mw.has(a)||Xd(a,!1,e),Xd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Bc]||(i[Bc]=!0,Xd("selectionchange",!1,i))}}function av(e,i,a,l){switch(kv(i)){case 2:var h=oA;break;case 8:h=lA;break;default:h=hm}a=h.bind(null,i,a,e),h=void 0,!el||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Jd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=Xt(S),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue t}S=S.parentNode}}l=l.return}zu(function(){var H=d,Z=za(a),nt=[];t:{var F=zg.get(e);if(F!==void 0){var Y=Ws,mt=e;switch(e){case"keypress":if(Zs(a)===0)break t;case"keydown":case"keyup":Y=Ku;break;case"focusin":mt="focus",Y=Xr;break;case"focusout":mt="blur",Y=Xr;break;case"beforeblur":case"afterblur":Y=Xr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=$u;break;case kg:case Pg:case Lg:Y=qa;break;case Ug:Y=Ha;break;case"scroll":case"scrollend":Y=ju;break;case"wheel":Y=Zu;break;case"copy":case"cut":case"paste":Y=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=al;break;case"toggle":case"beforetoggle":Y=Jr}var At=(i&4)!==0,he=!At&&(e==="scroll"||e==="scrollend"),P=At?F!==null?F+"Capture":null:F;At=[];for(var O=H,j;O!==null;){var tt=O;if(j=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||j===null||P===null||(tt=On(O,P),tt!=null&&At.push(Vl(O,tt,j))),he)break;O=O.return}0<At.length&&(F=new Y(F,mt,null,a,Z),nt.push({event:F,listeners:At}))}}if((i&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",F&&a!==Ua&&(mt=a.relatedTarget||a.fromElement)&&(Xt(mt)||mt[Q]))break t;if((Y||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(mt=a.relatedTarget||a.toElement,Y=H,mt=mt?Xt(mt):null,mt!==null&&(he=u(mt),At=mt.tag,mt!==he||At!==5&&At!==27&&At!==6)&&(mt=null)):(Y=null,mt=H),Y!==mt)){if(At=Bu,tt="onMouseLeave",P="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(At=al,tt="onPointerLeave",P="onPointerEnter",O="pointer"),he=Y==null?F:Vt(Y),j=mt==null?F:Vt(mt),F=new At(tt,O+"leave",Y,a,Z),F.target=he,F.relatedTarget=j,tt=null,Xt(Z)===H&&(At=new At(P,O+"enter",mt,a,Z),At.target=j,At.relatedTarget=he,tt=At),he=tt,Y&&mt)e:{for(At=Vw,P=Y,O=mt,j=0,tt=P;tt;tt=At(tt))j++;tt=0;for(var Et=O;Et;Et=At(Et))tt++;for(;0<j-tt;)P=At(P),j--;for(;0<tt-j;)O=At(O),tt--;for(;j--;){if(P===O||O!==null&&P===O.alternate){At=P;break e}P=At(P),O=At(O)}At=null}else At=null;Y!==null&&ov(nt,F,Y,At,!1),mt!==null&&he!==null&&ov(nt,he,mt,At,!0)}}t:{if(F=H?Vt(H):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Wt=Ag;else if(Mn(F))if(bg)Wt=GS;else{Wt=HS;var yt=qS}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Wo(H.elementType)&&(Wt=Ag):Wt=FS;if(Wt&&(Wt=Wt(e,H))){ia(nt,Wt,a,Z);break t}yt&&yt(e,F,H),e==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&La(F,"number",F.value)}switch(yt=H?Vt(H):window,e){case"focusin":(Mn(yt)||yt.contentEditable==="true")&&(Fa=yt,Rf=H,ul=null);break;case"focusout":ul=Rf=Fa=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Mg(nt,a,Z);break;case"selectionchange":if(YS)break;case"keydown":case"keyup":Mg(nt,a,Z)}var Lt;if(y)t:{switch(e){case"compositionstart":var Gt="onCompositionStart";break t;case"compositionend":Gt="onCompositionEnd";break t;case"compositionupdate":Gt="onCompositionUpdate";break t}Gt=void 0}else zt?re(e,a)&&(Gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Gt="onCompositionStart");Gt&&(z&&a.locale!=="ko"&&(zt||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&zt&&(Lt=Gr()):(Yn=Z,ja="value"in Yn?Yn.value:Yn.textContent,zt=!0)),yt=qc(H,Gt),0<yt.length&&(Gt=new il(Gt,e,null,a,Z),nt.push({event:Gt,listeners:yt}),Lt?Gt.data=Lt:(Lt=Ue(a),Lt!==null&&(Gt.data=Lt)))),(Lt=w?We(e,a):tn(e,a))&&(Gt=qc(H,"onBeforeInput"),0<Gt.length&&(yt=new il("onBeforeInput","beforeinput",null,a,Z),nt.push({event:yt,listeners:Gt}),yt.data=Lt)),xw(nt,e,H,a,Z)}sv(nt,i)})}function Vl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function qc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=On(e,a),h!=null&&l.unshift(Vl(e,h,d)),h=On(e,i),h!=null&&l.push(Vl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Vw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ov(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,I=S.alternate,H=S.stateNode;if(S=S.tag,I!==null&&I===l)break;S!==5&&S!==26&&S!==27||H===null||(I=H,h?(H=On(a,d),H!=null&&_.unshift(Vl(a,H,I))):h||(H=On(a,d),H!=null&&_.push(Vl(a,H,I)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var kw=/\r\n?/g,Pw=/\u0000|\uFFFD/g;function lv(e){return(typeof e=="string"?e:""+e).replace(kw,`
`).replace(Pw,"")}function uv(e,i){return i=lv(i),lv(e)===i}function ce(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||li(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&li(e,""+l);break;case"className":qr(e,"class",l);break;case"tabIndex":qr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(e,a,l);break;case"style":Lu(e,l,d);break;case"data":if(i!=="object"){qr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Vi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ce(e,i,"name",h.name,h,null),ce(e,i,"formEncType",h.formEncType,h,null),ce(e,i,"formMethod",h.formMethod,h,null),ce(e,i,"formTarget",h.formTarget,h,null)):(ce(e,i,"encType",h.encType,h,null),ce(e,i,"method",h.method,h,null),ce(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Vi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ze);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Vi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ht("beforetoggle",e),Ht("toggle",e),Br(e,"popover",l);break;case"xlinkActuate":oi(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":oi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":oi(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":oi(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":oi(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":oi(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":oi(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":oi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":oi(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Br(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ef.get(a)||a,Br(e,a,l))}}function Zd(e,i,a,l,h,d){switch(a){case"style":Lu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?li(e,l):(typeof l=="number"||typeof l=="bigint")&&li(e,""+l);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ze);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gn.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[C]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Br(e,a,l)}}}function cn(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",e),Ht("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ce(e,i,d,_,a,null)}}h&&ce(e,i,"srcSet",a.srcSet,a,null),l&&ce(e,i,"src",a.src,a,null);return;case"input":Ht("invalid",e);var S=d=_=h=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":I=Z;break;case"defaultChecked":H=Z;break;case"value":d=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:ce(e,i,l,Z,a,null)}}$s(e,d,S,I,H,_,h,!1);return;case"select":Ht("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:ce(e,i,h,S,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Zt(e,!!l,i,!1):a!=null&&Zt(e,!!l,a,!0);return;case"textarea":Ht("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ce(e,i,_,S,a,null)}Fr(e,l,h,d);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ce(e,i,I,l,a,null)}return;case"dialog":Ht("beforetoggle",e),Ht("toggle",e),Ht("cancel",e),Ht("close",e);break;case"iframe":case"object":Ht("load",e);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Ht(Ml[l],e);break;case"image":Ht("error",e),Ht("load",e);break;case"details":Ht("toggle",e);break;case"embed":case"source":case"link":Ht("error",e),Ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ce(e,i,H,l,a,null)}return;default:if(Wo(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Zd(e,i,Z,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&ce(e,i,S,l,a,null))}function Lw(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,I=null,H=null,Z=null;for(Y in a){var nt=a[Y];if(a.hasOwnProperty(Y)&&nt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=nt;default:l.hasOwnProperty(Y)||ce(e,i,Y,null,l,nt)}}for(var F in l){var Y=l[F];if(nt=a[F],l.hasOwnProperty(F)&&(Y!=null||nt!=null))switch(F){case"type":d=Y;break;case"name":h=Y;break;case"checked":H=Y;break;case"defaultChecked":Z=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==nt&&ce(e,i,F,Y,l,nt)}}Hr(e,_,S,I,H,Z,d,h);return;case"select":Y=_=S=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(d)||ce(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==I&&ce(e,i,h,d,l,I)}i=S,a=_,l=Y,F!=null?Zt(e,!!a,F,!1):!!l!=!!a&&(i!=null?Zt(e,!!a,i,!0):Zt(e,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ce(e,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ce(e,i,_,h,l,d)}Js(e,F,Y);return;case"option":for(var mt in a)if(F=a[mt],a.hasOwnProperty(mt)&&F!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":e.selected=!1;break;default:ce(e,i,mt,null,l,F)}for(I in l)if(F=l[I],Y=a[I],l.hasOwnProperty(I)&&F!==Y&&(F!=null||Y!=null))switch(I){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:ce(e,i,I,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)F=a[At],a.hasOwnProperty(At)&&F!=null&&!l.hasOwnProperty(At)&&ce(e,i,At,null,l,F);for(H in l)if(F=l[H],Y=a[H],l.hasOwnProperty(H)&&F!==Y&&(F!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:ce(e,i,H,F,l,Y)}return;default:if(Wo(i)){for(var he in a)F=a[he],a.hasOwnProperty(he)&&F!==void 0&&!l.hasOwnProperty(he)&&Zd(e,i,he,void 0,l,F);for(Z in l)F=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||F===Y||F===void 0&&Y===void 0||Zd(e,i,Z,F,l,Y);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&ce(e,i,P,null,l,F);for(nt in l)F=l[nt],Y=a[nt],!l.hasOwnProperty(nt)||F===Y||F==null&&Y==null||ce(e,i,nt,F,l,Y)}function cv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Uw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&cv(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],H=I.startTime;if(H>S)break;var Z=I.transferSize,nt=I.initiatorType;Z&&cv(nt)&&(I=I.responseEnd,_+=Z*(I<S?1:(S-H)/(I-H)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wd=null,tm=null;function Hc(e){return e.nodeType===9?e:e.ownerDocument}function hv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function em(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nm=null;function zw(){var e=window.event;return e&&e.type==="popstate"?e===nm?!1:(nm=e,!0):(nm=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,jw=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,Bw=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(e){return mv.resolve(null).then(e).catch(qw)}:dv;function qw(e){setTimeout(function(){throw e})}function ps(e){return e==="head"}function pv(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),_o(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")kl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,kl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[Rt]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&kl(e.ownerDocument.body);a=h}while(a);_o(i)}function gv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function im(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),le(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Hw(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Rt])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=pi(e.nextSibling),e===null)break}return null}function Fw(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=pi(e.nextSibling),e===null))return null;return e}function yv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=pi(e.nextSibling),e===null))return null;return e}function rm(e){return e.data==="$?"||e.data==="$~"}function sm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Gw(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function pi(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var am=null;function _v(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return pi(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function vv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function Ev(e,i,a){switch(i=Hc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function kl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);le(e)}var gi=new Map,Tv=new Set;function Fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vr=st.d;st.d={f:Qw,r:Yw,D:Kw,C:Xw,L:$w,m:Jw,X:Ww,S:Zw,M:tA};function Qw(){var e=vr.f(),i=kc();return e||i}function Yw(e){var i=kt(e);i!==null&&i.tag===5&&i.type==="form"?Uy(i):vr.r(e)}var po=typeof document>"u"?null:document;function Sv(e,i,a){var l=po;if(l&&typeof i=="string"&&i){var h=Ae(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Tv.has(h)||(Tv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),cn(i,"link",e),ve(i),l.head.appendChild(i)))}}function Kw(e){vr.D(e),Sv("dns-prefetch",e,null)}function Xw(e,i){vr.C(e,i),Sv("preconnect",e,i)}function $w(e,i,a){vr.L(e,i,a);var l=po;if(l&&e&&i){var h='link[rel="preload"][as="'+Ae(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ae(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ae(a.imageSizes)+'"]')):h+='[href="'+Ae(e)+'"]';var d=h;switch(i){case"style":d=go(e);break;case"script":d=yo(e)}gi.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),gi.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Pl(d))||i==="script"&&l.querySelector(Ll(d))||(i=l.createElement("link"),cn(i,"link",e),ve(i),l.head.appendChild(i)))}}function Jw(e,i){vr.m(e,i);var a=po;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ae(l)+'"][href="'+Ae(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=yo(e)}if(!gi.has(d)&&(e=T({rel:"modulepreload",href:e},i),gi.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(d)))return}l=a.createElement("link"),cn(l,"link",e),ve(l),a.head.appendChild(l)}}}function Zw(e,i,a){vr.S(e,i,a);var l=po;if(l&&e){var h=Ne(l).hoistableStyles,d=go(e);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Pl(d)))S.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=gi.get(d))&&om(e,a);var I=_=l.createElement("link");ve(I),cn(I,"link",e),I._p=new Promise(function(H,Z){I.onload=H,I.onerror=Z}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Gc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function Ww(e,i){vr.X(e,i);var a=po;if(a&&e){var l=Ne(a).hoistableScripts,h=yo(e),d=l.get(h);d||(d=a.querySelector(Ll(h)),d||(e=T({src:e,async:!0},i),(i=gi.get(h))&&lm(e,i),d=a.createElement("script"),ve(d),cn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function tA(e,i){vr.M(e,i);var a=po;if(a&&e){var l=Ne(a).hoistableScripts,h=yo(e),d=l.get(h);d||(d=a.querySelector(Ll(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=gi.get(h))&&lm(e,i),d=a.createElement("script"),ve(d),cn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function wv(e,i,a,l){var h=(h=bt.current)?Fc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=go(a.href),a=Ne(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=go(a.href);var d=Ne(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Pl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),gi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gi.set(e,a),d||eA(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=yo(a),a=Ne(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function go(e){return'href="'+Ae(e)+'"'}function Pl(e){return'link[rel="stylesheet"]['+e+"]"}function Av(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function eA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),cn(i,"link",a),ve(i),e.head.appendChild(i))}function yo(e){return'[src="'+Ae(e)+'"]'}function Ll(e){return"script[async]"+e}function bv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Ae(a.href)+'"]');if(l)return i.instance=l,ve(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ve(l),cn(l,"style",h),Gc(l,a.precedence,e),i.instance=l;case"stylesheet":h=go(a.href);var d=e.querySelector(Pl(h));if(d)return i.state.loading|=4,i.instance=d,ve(d),d;l=Av(a),(h=gi.get(h))&&om(l,h),d=(e.ownerDocument||e).createElement("link"),ve(d);var _=d;return _._p=new Promise(function(S,I){_.onload=S,_.onerror=I}),cn(d,"link",l),i.state.loading|=4,Gc(d,a.precedence,e),i.instance=d;case"script":return d=yo(a.src),(h=e.querySelector(Ll(d)))?(i.instance=h,ve(h),h):(l=a,(h=gi.get(d))&&(l=T({},a),lm(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),cn(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Gc(l,a.precedence,e));return i.instance}function Gc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function om(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function lm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Qc=null;function Rv(e,i,a){if(Qc===null){var l=new Map,h=Qc=new Map;h.set(a,l)}else h=Qc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Rt]||d[ie]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Iv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function nA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Cv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iA(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=go(l.href),d=i.querySelector(Pl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Yc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,ve(d);return}d=i.ownerDocument||i,l=Av(l),(h=gi.get(h))&&om(l,h),d=d.createElement("link"),ve(d);var _=d;_._p=new Promise(function(S,I){_.onload=S,_.onerror=I}),cn(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Yc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var um=0;function rA(e,i){return e.stylesheets&&e.count===0&&Xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&um===0&&(um=62500*Uw());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>um?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kc=null;function Xc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kc=new Map,i.forEach(sA,e),Kc=null,Yc.call(e))}function sA(e,i){if(!(i.state.loading&4)){var a=Kc.get(e);if(a)var l=a.get(null);else{a=new Map,Kc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Ul={$$typeof:it,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function aA(e,i,a,l,h,d,_,S,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Dv(e,i,a,l,h,d,_,S,I,H,Z,nt){return e=new aA(e,i,a,_,I,H,Z,nt,S),i=1,d===!0&&(i|=24),d=Xn(3,null,null,i),e.current=d,d.stateNode=e,i=qf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Qf(d),e}function xv(e){return e?(e=Ya,e):Ya}function Nv(e,i,a,l,h,d){h=xv(h),l.context===null?l.context=h:l.pendingContext=h,l=rs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ss(e,l,i),a!==null&&(Un(a,e,i),gl(a,e,i))}function Ov(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function cm(e,i){Ov(e,i),(e=e.alternate)&&Ov(e,i)}function Mv(e){if(e.tag===13||e.tag===31){var i=aa(e,67108864);i!==null&&Un(i,e,67108864),cm(e,67108864)}}function Vv(e){if(e.tag===13||e.tag===31){var i=ti();i=Ks(i);var a=aa(e,i);a!==null&&Un(a,e,i),cm(e,i)}}var $c=!0;function oA(e,i,a,l){var h=$.T;$.T=null;var d=st.p;try{st.p=2,hm(e,i,a,l)}finally{st.p=d,$.T=h}}function lA(e,i,a,l){var h=$.T;$.T=null;var d=st.p;try{st.p=8,hm(e,i,a,l)}finally{st.p=d,$.T=h}}function hm(e,i,a,l){if($c){var h=fm(l);if(h===null)Jd(e,i,l,Jc,a),Pv(e,l);else if(cA(h,e,i,a,l))l.stopPropagation();else if(Pv(e,l),i&4&&-1<uA.indexOf(e)){for(;h!==null;){var d=kt(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Je(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var I=1<<31-an(_);S.entanglements[1]|=I,_&=~I}ji(d),(ee&6)===0&&(Mc=Pe()+500,Ol(0))}}break;case 31:case 13:S=aa(d,2),S!==null&&Un(S,d,2),kc(),cm(d,2)}if(d=fm(l),d===null&&Jd(e,i,l,Jc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Jd(e,i,l,null,a)}}function fm(e){return e=za(e),dm(e)}var Jc=null;function dm(e){if(Jc=null,e=Xt(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Jc=e,null}function kv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ji()){case ne:return 2;case Le:return 8;case ai:case zr:return 32;case Gs:return 268435456;default:return 32}default:return 32}}var mm=!1,gs=null,ys=null,_s=null,zl=new Map,jl=new Map,vs=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pv(e,i){switch(e){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(i.pointerId)}}function Bl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=kt(i),i!==null&&Mv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function cA(e,i,a,l,h){switch(i){case"focusin":return gs=Bl(gs,e,i,a,l,h),!0;case"dragenter":return ys=Bl(ys,e,i,a,l,h),!0;case"mouseover":return _s=Bl(_s,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return zl.set(d,Bl(zl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,jl.set(d,Bl(jl.get(d)||null,e,i,a,l,h)),!0}return!1}function Lv(e){var i=Xt(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Va(e.priority,function(){Vv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Va(e.priority,function(){Vv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=fm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ua=l,a.target.dispatchEvent(l),Ua=null}else return i=kt(a),i!==null&&Mv(i),e.blockedOn=a,!1;i.shift()}return!0}function Uv(e,i,a){Zc(e)&&a.delete(i)}function hA(){mm=!1,gs!==null&&Zc(gs)&&(gs=null),ys!==null&&Zc(ys)&&(ys=null),_s!==null&&Zc(_s)&&(_s=null),zl.forEach(Uv),jl.forEach(Uv)}function Wc(e,i){e.blockedOn===i&&(e.blockedOn=null,mm||(mm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hA)))}var th=null;function zv(e){th!==e&&(th=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){th===e&&(th=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var d=kt(a);d!==null&&(e.splice(i,3),i-=3,fd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function _o(e){function i(I){return Wc(I,e)}gs!==null&&Wc(gs,e),ys!==null&&Wc(ys,e),_s!==null&&Wc(_s,e),zl.forEach(i),jl.forEach(i);for(var a=0;a<vs.length;a++){var l=vs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<vs.length&&(a=vs[0],a.blockedOn===null);)Lv(a),a.blockedOn===null&&vs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[C]||null;if(typeof d=="function")_||zv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[C]||null)S=_.formAction;else if(dm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),zv(a)}}}function jv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function pm(e){this._internalRoot=e}eh.prototype.render=pm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=ti();Nv(a,l,e,i,null,null)},eh.prototype.unmount=pm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Nv(e.current,2,null,e,null,null),kc(),i[Q]=null}};function eh(e){this._internalRoot=e}eh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Si();e={blockedOn:null,target:e,priority:i};for(var a=0;a<vs.length&&i!==0&&i<vs[a].priority;a++);vs.splice(a,0,e),a===0&&Lv(e)}};var Bv=t.version;if(Bv!=="19.2.3")throw Error(s(527,Bv,"19.2.3"));st.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var fA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{pn=nh.inject(fA),De=nh}catch{}}return Hl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Ky,d=Xy,_=$y;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Dv(e,1,!1,null,null,a,l,null,h,d,_,jv),e[Q]=i.current,$d(e),new pm(i)},Hl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Ky,_=Xy,S=$y,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=Dv(e,1,!0,i,a??null,l,h,I,d,_,S,jv),i.context=xv(null),a=i.current,l=ti(),l=Ks(l),h=rs(l),h.callback=null,ss(a,h,l),a=l,i.current.lanes=a,Ni(i,a),ji(i),e[Q]=i.current,$d(e),new eh(i)},Hl.version="19.2.3",Hl}var Jv;function AA(){if(Jv)return _m.exports;Jv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_m.exports=wA(),_m.exports}var bA=AA();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zv="popstate";function RA(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=Ia(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Bm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:su(u))}function s(o,u){si(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return CA(t,n,s,r)}function Te(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function si(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IA(){return Math.random().toString(36).substring(2,10)}function Wv(r,t){return{usr:r.state,key:r.key,idx:t}}function Bm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ia(t):t,state:n,key:t&&t.key||s||IA()}}function su({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ia(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function CA(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let q=E(),at=q==null?null:q-g;g=q,p&&p({action:m,location:X.location,delta:at})}function A(q,at){m="PUSH";let lt=Bm(X.location,q,at);n&&n(lt,q),g=E()+1;let it=Wv(lt,g),Tt=X.createHref(lt);try{f.pushState(it,"",Tt)}catch(Mt){if(Mt instanceof DOMException&&Mt.name==="DataCloneError")throw Mt;o.location.assign(Tt)}u&&p&&p({action:m,location:X.location,delta:1})}function V(q,at){m="REPLACE";let lt=Bm(X.location,q,at);n&&n(lt,q),g=E();let it=Wv(lt,g),Tt=X.createHref(lt);f.replaceState(it,"",Tt),u&&p&&p({action:m,location:X.location,delta:0})}function B(q){return DA(q)}let X={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Zv,T),p=q,()=>{o.removeEventListener(Zv,T),p=null}},createHref(q){return t(o,q)},createURL:B,encodeLocation(q){let at=B(q);return{pathname:at.pathname,search:at.search,hash:at.hash}},push:A,replace:V,go(q){return f.go(q)}};return X}function DA(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Te(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:su(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function PE(r,t,n="/"){return xA(r,t,n,!1)}function xA(r,t,n,s){let o=typeof t=="string"?Ia(t):t,u=Cr(o.pathname||"/",n);if(u==null)return null;let f=LE(r);NA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=qA(u);m=jA(f[p],g,s)}return m}function LE(r,t=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;Te(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=Rr([s,E.relativePath]),A=n.concat(E);f.children&&f.children.length>0&&(Te(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),LE(f.children,t,A,T,p)),!(f.path==null&&!f.index)&&t.push({path:T,score:UA(T,f.index),routesMeta:A})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let g of UE(f.path))u(f,m,!0,g)}),t}function UE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=UE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function NA(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:zA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var OA=/^:[\w-]+$/,MA=3,VA=2,kA=1,PA=10,LA=-2,t0=r=>r==="*";function UA(r,t){let n=r.split("/"),s=n.length;return n.some(t0)&&(s+=LA),t&&(s+=VA),n.filter(o=>!t0(o)).reduce((o,u)=>o+(OA.test(u)?MA:u===""?kA:PA),s)}function zA(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function jA(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:Rr([u,T.pathname]),pathnameBase:QA(Rr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=Rr([u,T.pathnameBase]))}return f}function Ah(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=BA(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},A)=>{if(E==="*"){let B=m[A]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const V=m[A];return T&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function BA(r,t=!1,n=!0){si(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function qA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return si(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Cr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var zE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HA=r=>zE.test(r);function FA(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ia(r):r,u;if(n)if(HA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),si(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=e0(n.substring(1),"/"):u=e0(n,t)}else u=t;return{pathname:u,search:YA(s),hash:KA(o)}}function e0(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GA(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jE(r){let t=GA(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function BE(r,t,n,s=!1){let o;typeof r=="string"?o=Ia(r):(o={...r},Te(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),Te(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),Te(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=t.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?t[T]:"/"}let p=FA(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Rr=r=>r.join("/").replace(/\/\/+/g,"/"),QA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),YA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,KA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,XA=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function $A(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function JA(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var qE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function HE(r,t){let n=r;if(typeof n!="string"||!zE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(qE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Cr(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{si(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var FE=["POST","PUT","PATCH","DELETE"];new Set(FE);var ZA=["GET",...FE];new Set(ZA);var Po=L.createContext(null);Po.displayName="DataRouter";var Kh=L.createContext(null);Kh.displayName="DataRouterState";var WA=L.createContext(!1),GE=L.createContext({isTransitioning:!1});GE.displayName="ViewTransition";var tb=L.createContext(new Map);tb.displayName="Fetchers";var eb=L.createContext(null);eb.displayName="Await";var _i=L.createContext(null);_i.displayName="Navigation";var mu=L.createContext(null);mu.displayName="Location";var Vr=L.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var vp=L.createContext(null);vp.displayName="RouteError";var QE="REACT_ROUTER_ERROR",nb="REDIRECT",ib="ROUTE_ERROR_RESPONSE";function rb(r){if(r.startsWith(`${QE}:${nb}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function sb(r){if(r.startsWith(`${QE}:${ib}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new XA(t.status,t.statusText,t.data)}catch{}}function ab(r,{relative:t}={}){Te(pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(_i),{hash:o,pathname:u,search:f}=gu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Rr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function pu(){return L.useContext(mu)!=null}function qs(){return Te(pu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(mu).location}var YE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KE(r){L.useContext(_i).static||L.useLayoutEffect(r)}function Ep(){let{isDataRoute:r}=L.useContext(Vr);return r?vb():ob()}function ob(){Te(pu(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Po),{basename:t,navigator:n}=L.useContext(_i),{matches:s}=L.useContext(Vr),{pathname:o}=qs(),u=JSON.stringify(jE(s)),f=L.useRef(!1);return KE(()=>{f.current=!0}),L.useCallback((p,g={})=>{if(si(f.current,YE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=BE(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Rr([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}L.createContext(null);function gu(r,{relative:t}={}){let{matches:n}=L.useContext(Vr),{pathname:s}=qs(),o=JSON.stringify(jE(n));return L.useMemo(()=>BE(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function lb(r,t){return XE(r,t)}function XE(r,t,n,s,o){var lt;Te(pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(_i),{matches:f}=L.useContext(Vr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let it=T&&T.path||"";JE(g,!T||it.endsWith("*")||it.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${it}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${it}"> to <Route path="${it==="/"?"*":`${it}/*`}">.`)}let A=qs(),V;if(t){let it=typeof t=="string"?Ia(t):t;Te(E==="/"||((lt=it.pathname)==null?void 0:lt.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${it.pathname}" was given in the \`location\` prop.`),V=it}else V=A;let B=V.pathname||"/",X=B;if(E!=="/"){let it=E.replace(/^\//,"").split("/");X="/"+B.replace(/^\//,"").split("/").slice(it.length).join("/")}let q=PE(r,{pathname:X});si(T||q!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),si(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let at=db(q&&q.map(it=>Object.assign({},it,{params:Object.assign({},p,it.params),pathname:Rr([E,u.encodeLocation?u.encodeLocation(it.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathname]),pathnameBase:it.pathnameBase==="/"?E:Rr([E,u.encodeLocation?u.encodeLocation(it.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathnameBase])})),f,n,s,o);return t&&at?L.createElement(mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},at):at}function ub(){let r=_b(),t=$A(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),n?L.createElement("pre",{style:o},n):null,f)}var cb=L.createElement(ub,null),$E=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=sb(r.digest);n&&(r=n)}let t=r!==void 0?L.createElement(Vr.Provider,{value:this.props.routeContext},L.createElement(vp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?L.createElement(hb,{error:r},t):t}};$E.contextType=WA;var wm=new WeakMap;function hb({children:r,error:t}){let{basename:n}=L.useContext(_i);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=rb(t.digest);if(s){let o=wm.get(t);if(o)throw o;let u=HE(s.location,n);if(qE&&!wm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw wm.set(t,f),f}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function fb({routeContext:r,match:t,children:n}){let s=L.useContext(Po);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Vr.Provider,{value:r},n)}function db(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);Te(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:A,errors:V}=n,B=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!V||V[T.route.id]===void 0);if(T.route.lazy||B){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{var A,V;s(E,{location:n.location,params:((V=(A=n.matches)==null?void 0:A[0])==null?void 0:V.params)??{},unstable_pattern:JA(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,A)=>{let V,B=!1,X=null,q=null;n&&(V=f&&T.route.id?f[T.route.id]:void 0,X=T.route.errorElement||cb,m&&(p<0&&A===0?(JE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,q=null):p===A&&(B=!0,q=T.route.hydrateFallbackElement||null)));let at=t.concat(u.slice(0,A+1)),lt=()=>{let it;return V?it=X:B?it=q:T.route.Component?it=L.createElement(T.route.Component,null):T.route.element?it=T.route.element:it=E,L.createElement(fb,{match:T,routeContext:{outlet:E,matches:at,isDataRoute:n!=null},children:it})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?L.createElement($E,{location:n.location,revalidation:n.revalidation,component:X,error:V,children:lt(),routeContext:{outlet:null,matches:at,isDataRoute:!0},onError:g}):lt()},null)}function Tp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mb(r){let t=L.useContext(Po);return Te(t,Tp(r)),t}function pb(r){let t=L.useContext(Kh);return Te(t,Tp(r)),t}function gb(r){let t=L.useContext(Vr);return Te(t,Tp(r)),t}function Sp(r){let t=gb(r),n=t.matches[t.matches.length-1];return Te(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function yb(){return Sp("useRouteId")}function _b(){var s;let r=L.useContext(vp),t=pb("useRouteError"),n=Sp("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function vb(){let{router:r}=mb("useNavigate"),t=Sp("useNavigate"),n=L.useRef(!1);return KE(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{si(n.current,YE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var n0={};function JE(r,t,n){!t&&!n0[r]&&(n0[r]=!0,si(!1,n))}L.memo(Eb);function Eb({routes:r,future:t,state:n,onError:s}){return XE(r,void 0,n,s,t)}function qm(r){Te(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tb({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Te(!pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Ia(n));let{pathname:g="/",search:E="",hash:T="",state:A=null,key:V="default"}=n,B=L.useMemo(()=>{let X=Cr(g,m);return X==null?null:{location:{pathname:X,search:E,hash:T,state:A,key:V},navigationType:s}},[m,g,E,T,A,V,s]);return si(B!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:L.createElement(_i.Provider,{value:p},L.createElement(mu.Provider,{children:t,value:B}))}function Sb({children:r,location:t}){return lb(Hm(r),t)}function Hm(r,t=[]){let n=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let u=[...t,o];if(s.type===L.Fragment){n.push.apply(n,Hm(s.props.children,u));return}Te(s.type===qm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Te(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Hm(s.props.children,u)),n.push(f)}),n}var fh="get",dh="application/x-www-form-urlencoded";function Xh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function wb(r){return Xh(r)&&r.tagName.toLowerCase()==="button"}function Ab(r){return Xh(r)&&r.tagName.toLowerCase()==="form"}function bb(r){return Xh(r)&&r.tagName.toLowerCase()==="input"}function Rb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ib(r,t){return r.button===0&&(!t||t==="_self")&&!Rb(r)}function Fm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((t,n)=>{let s=r[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function Cb(r,t){let n=Fm(r);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var ih=null;function Db(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var xb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(r){return r!=null&&!xb.has(r)?(si(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):r}function Nb(r,t){let n,s,o,u,f;if(Ab(r)){let m=r.getAttribute("action");s=m?Cr(m,t):null,n=r.getAttribute("method")||fh,o=Am(r.getAttribute("enctype"))||dh,u=new FormData(r)}else if(wb(r)||bb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Cr(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||fh,o=Am(r.getAttribute("formenctype"))||Am(m.getAttribute("enctype"))||dh,u=new FormData(m,r),!Db()){let{name:g,type:E,value:T}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(Xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fh,s=null,o=dh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Ob(r,t,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&Cr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Mb(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function kb(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await Mb(u,n);return f.links?f.links():[]}return[]}));return zb(s.flat(1).filter(Vb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function i0(r,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Pb(r,t,{includeHydrateFallback:n}={}){return Lb(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Lb(r){return[...new Set(r)]}function Ub(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function zb(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(Ub(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function ZE(){let r=L.useContext(Po);return wp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function jb(){let r=L.useContext(Kh);return wp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ap=L.createContext(void 0);Ap.displayName="FrameworkContext";function WE(){let r=L.useContext(Ap);return wp(r,"You must render this element inside a <HydratedRouter> element"),r}function Bb(r,t){let n=L.useContext(Ap),[s,o]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=t,A=L.useRef(null);L.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=at=>{at.forEach(lt=>{f(lt.isIntersecting)})},q=new IntersectionObserver(X,{threshold:.5});return A.current&&q.observe(A.current),()=>{q.disconnect()}}},[r]),L.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let V=()=>{o(!0)},B=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Fl(m,V),onBlur:Fl(p,B),onMouseEnter:Fl(g,V),onMouseLeave:Fl(E,B),onTouchStart:Fl(T,V)}]:[!1,A,{}]}function Fl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function qb({page:r,...t}){let{router:n}=ZE(),s=L.useMemo(()=>PE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(Fb,{page:r,matches:s,...t}):null}function Hb(r){let{manifest:t,routeModules:n}=WE(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return kb(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Fb({page:r,matches:t,...n}){let s=qs(),{future:o,manifest:u,routeModules:f}=WE(),{basename:m}=ZE(),{loaderData:p,matches:g}=jb(),E=L.useMemo(()=>i0(r,t,g,u,s,"data"),[r,t,g,u,s]),T=L.useMemo(()=>i0(r,t,g,u,s,"assets"),[r,t,g,u,s]),A=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let X=new Set,q=!1;if(t.forEach(lt=>{var Tt;let it=u.routes[lt.route.id];!it||!it.hasLoader||(!E.some(Mt=>Mt.route.id===lt.route.id)&&lt.route.id in p&&((Tt=f[lt.route.id])!=null&&Tt.shouldRevalidate)||it.hasClientLoader?q=!0:X.add(lt.route.id))}),X.size===0)return[];let at=Ob(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return q&&X.size>0&&at.searchParams.set("_routes",t.filter(lt=>X.has(lt.route.id)).map(lt=>lt.route.id).join(",")),[at.pathname+at.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,t,r,f]),V=L.useMemo(()=>Pb(T,u),[T,u]),B=Hb(T);return L.createElement(L.Fragment,null,A.map(X=>L.createElement("link",{key:X,rel:"prefetch",as:"fetch",href:X,...n})),V.map(X=>L.createElement("link",{key:X,rel:"modulepreload",href:X,...n})),B.map(({key:X,link:q})=>L.createElement("link",{key:X,nonce:n.nonce,...q})))}function Gb(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Qb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qb&&(window.__reactRouterVersion="7.12.0")}catch{}function Yb({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=L.useRef();o.current==null&&(o.current=RA({window:s,v5Compat:!0}));let u=o.current,[f,m]=L.useState({action:u.action,location:u.location}),p=L.useCallback(g=>{n===!1?m(g):L.startTransition(()=>m(g))},[n]);return L.useLayoutEffect(()=>u.listen(p),[u,p]),L.createElement(Tb,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var tT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eT=L.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...V},B){let{basename:X,unstable_useTransitions:q}=L.useContext(_i),at=typeof g=="string"&&tT.test(g),lt=HE(g,X);g=lt.to;let it=ab(g,{relative:o}),[Tt,Mt,wt]=Bb(s,V),x=Jb(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:q});function b(M){t&&t(M),M.defaultPrevented||x(M)}let R=L.createElement("a",{...V,...wt,href:lt.absoluteURL||it,onClick:lt.isExternal||u?t:b,ref:Gb(B,Mt),target:p,"data-discover":!at&&n==="render"?"true":void 0});return Tt&&!at?L.createElement(L.Fragment,null,R,L.createElement(qb,{page:it})):R});eT.displayName="Link";var Kb=L.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=gu(f,{relative:g.relative}),A=qs(),V=L.useContext(Kh),{navigator:B,basename:X}=L.useContext(_i),q=V!=null&&iR(T)&&m===!0,at=B.encodeLocation?B.encodeLocation(T).pathname:T.pathname,lt=A.pathname,it=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(lt=lt.toLowerCase(),it=it?it.toLowerCase():null,at=at.toLowerCase()),it&&X&&(it=Cr(it,X)||it);const Tt=at!=="/"&&at.endsWith("/")?at.length-1:at.length;let Mt=lt===at||!o&&lt.startsWith(at)&&lt.charAt(Tt)==="/",wt=it!=null&&(it===at||!o&&it.startsWith(at)&&it.charAt(at.length)==="/"),x={isActive:Mt,isPending:wt,isTransitioning:q},b=Mt?t:void 0,R;typeof s=="function"?R=s(x):R=[s,Mt?"active":null,wt?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(x):u;return L.createElement(eT,{...g,"aria-current":b,className:R,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(x):p)});Kb.displayName="NavLink";var Xb=L.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=fh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...V},B)=>{let{unstable_useTransitions:X}=L.useContext(_i),q=eR(),at=nR(m,{relative:g}),lt=f.toLowerCase()==="get"?"get":"post",it=typeof m=="string"&&tT.test(m),Tt=Mt=>{if(p&&p(Mt),Mt.defaultPrevented)return;Mt.preventDefault();let wt=Mt.nativeEvent.submitter,x=(wt==null?void 0:wt.getAttribute("formmethod"))||f,b=()=>q(wt||Mt.currentTarget,{fetcherKey:t,method:x,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A});X&&n!==!1?L.startTransition(()=>b()):b()};return L.createElement("form",{ref:B,method:lt,action:at,onSubmit:s?p:Tt,...V,"data-discover":!it&&r==="render"?"true":void 0})});Xb.displayName="Form";function $b(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nT(r){let t=L.useContext(Po);return Te(t,$b(r)),t}function Jb(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Ep(),E=qs(),T=gu(r,{relative:u});return L.useCallback(A=>{if(Ib(A,t)){A.preventDefault();let V=n!==void 0?n:su(E)===su(T),B=()=>g(r,{replace:V,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?L.startTransition(()=>B()):B()}},[E,g,T,n,s,t,r,o,u,f,m,p])}function Zb(r){si(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=L.useRef(Fm(r)),n=L.useRef(!1),s=qs(),o=L.useMemo(()=>Cb(s.search,n.current?null:t.current),[s.search]),u=Ep(),f=L.useCallback((m,p)=>{const g=Fm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var Wb=0,tR=()=>`__${String(++Wb)}__`;function eR(){let{router:r}=nT("useSubmit"),{basename:t}=L.useContext(_i),n=yb(),s=r.fetch,o=r.navigate;return L.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=Nb(u,t);if(f.navigate===!1){let A=f.fetcherKey||tR();await s(A,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function nR(r,{relative:t}={}){let{basename:n}=L.useContext(_i),s=L.useContext(Vr);Te(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...gu(r||".",{relative:t})},f=qs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Rr([n,u.pathname])),su(u)}function iR(r,{relative:t}={}){let n=L.useContext(GE);Te(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=nT("useViewTransitionState"),o=gu(r,{relative:t});if(!n.isTransitioning)return!1;let u=Cr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Cr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ah(o.pathname,f)!=null||Ah(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iT=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=L.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>L.createElement("svg",{ref:p,...sR,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:iT("lucide",o),...m},[...f.map(([g,E])=>L.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=(r,t)=>{const n=L.forwardRef(({className:s,...o},u)=>L.createElement(aR,{ref:u,iconNode:t,className:iT(`lucide-${rR(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=Sn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=Sn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=Sn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=Sn("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=Sn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=Sn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=Sn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=Sn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=Sn("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=Sn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=Sn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=Sn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=Sn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=Sn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=Sn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=Sn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),gR=()=>{};var r0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},yR=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(A=64)),s.push(n[E],n[T],n[A],n[V])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(oT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):yR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new _R;const A=u<<2|m>>4;if(s.push(A),g!==64){const V=m<<4&240|g>>2;if(s.push(V),T!==64){const B=g<<6&192|T;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _R extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vR=function(r){const t=oT(r);return lT.encodeByteArray(t,!0)},Rh=function(r){return vR(r).replace(/\./g,"")},uT=function(r){try{return lT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=()=>ER().__FIREBASE_DEFAULTS__,SR=()=>{if(typeof process>"u"||typeof r0>"u")return;const r=r0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&uT(r[1]);return t&&JSON.parse(t)},$h=()=>{try{return gR()||TR()||SR()||wR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},cT=r=>{var t,n;return(n=(t=$h())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},AR=r=>{const t=cT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},hT=()=>{var r;return(r=$h())===null||r===void 0?void 0:r.config},fT=r=>{var t;return(t=$h())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Rh(JSON.stringify(n)),Rh(JSON.stringify(f)),""].join(".")}const Zl={};function IR(){const r={prod:[],emulator:[]};for(const t of Object.keys(Zl))Zl[t]?r.emulator.push(t):r.prod.push(t);return r}function CR(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let s0=!1;function mT(r,t){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||Zl[r]===t||Zl[r]||s0)return;Zl[r]=t;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=IR().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{s0=!0,f()},A}function E(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=CR(s),V=n("text"),B=document.getElementById(V)||document.createElement("span"),X=n("learnmore"),q=document.getElementById(X)||document.createElement("a"),at=n("preprendIcon"),lt=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const it=A.element;m(it),E(q,X);const Tt=g();p(lt,at),it.append(lt,B,q,Tt),document.body.appendChild(it)}u?(B.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function xR(){var r;const t=(r=$h())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function MR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VR(){const r=Tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function kR(){return!xR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PR(){try{return typeof indexedDB=="object"}catch{return!1}}function LR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="FirebaseError";class kr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=UR,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?zR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new kr(o,m,s)}}function zR(r,t){return r.replace(jR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const jR=/\{\$([^}]+)}/g;function BR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Vs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(a0(u)&&a0(f)){if(!Vs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function a0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function qR(r,t){const n=new HR(r,t);return n.subscribe.bind(n)}class HR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");FR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=bm),o.error===void 0&&(o.error=bm),o.complete===void 0&&(o.complete=bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r){return r&&r._delegate?r._delegate:r}class wa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new bR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YR(t))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=va){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=va){return this.instances.has(t)}getOptions(t=va){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=va){return this.component?this.component.multipleInstances?t:va:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QR(r){return r===va?void 0:r}function YR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new GR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qt||(Qt={}));const XR={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},$R=Qt.INFO,JR={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},ZR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=JR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bp{constructor(t){this.name=t,this._logLevel=$R,this._logHandler=ZR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...t),this._logHandler(this,Qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...t),this._logHandler(this,Qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...t),this._logHandler(this,Qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...t),this._logHandler(this,Qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...t),this._logHandler(this,Qt.ERROR,...t)}}const WR=(r,t)=>t.some(n=>r instanceof n);let o0,l0;function t2(){return o0||(o0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e2(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,Qm=new WeakMap,gT=new WeakMap,Rm=new WeakMap,Rp=new WeakMap;function n2(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Is(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&pT.set(n,r)}).catch(()=>{}),Rp.set(t,r),t}function i2(r){if(Qm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Qm.set(r,t)}let Ym={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Qm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||gT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function r2(r){Ym=r(Ym)}function s2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Im(this),t,...n);return gT.set(s,t.sort?t.sort():[t]),Is(s)}:e2().includes(r)?function(...t){return r.apply(Im(this),t),Is(pT.get(this))}:function(...t){return Is(r.apply(Im(this),t))}}function a2(r){return typeof r=="function"?s2(r):(r instanceof IDBTransaction&&i2(r),WR(r,t2())?new Proxy(r,Ym):r)}function Is(r){if(r instanceof IDBRequest)return n2(r);if(Rm.has(r))return Rm.get(r);const t=a2(r);return t!==r&&(Rm.set(r,t),Rp.set(t,r)),t}const Im=r=>Rp.get(r);function o2(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Is(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Is(f.result),p.oldVersion,p.newVersion,Is(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const l2=["get","getKey","getAll","getAllKeys","count"],u2=["put","add","delete","clear"],Cm=new Map;function u0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Cm.get(t))return Cm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=u2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||l2.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(t,u),u}r2(r=>({...r,get:(t,n,s)=>u0(t,n)||r.get(t,n,s),has:(t,n)=>!!u0(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function h2(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Km="@firebase/app",c0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new bp("@firebase/app"),f2="@firebase/app-compat",d2="@firebase/analytics-compat",m2="@firebase/analytics",p2="@firebase/app-check-compat",g2="@firebase/app-check",y2="@firebase/auth",_2="@firebase/auth-compat",v2="@firebase/database",E2="@firebase/data-connect",T2="@firebase/database-compat",S2="@firebase/functions",w2="@firebase/functions-compat",A2="@firebase/installations",b2="@firebase/installations-compat",R2="@firebase/messaging",I2="@firebase/messaging-compat",C2="@firebase/performance",D2="@firebase/performance-compat",x2="@firebase/remote-config",N2="@firebase/remote-config-compat",O2="@firebase/storage",M2="@firebase/storage-compat",V2="@firebase/firestore",k2="@firebase/ai",P2="@firebase/firestore-compat",L2="firebase",U2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",z2={[Km]:"fire-core",[f2]:"fire-core-compat",[m2]:"fire-analytics",[d2]:"fire-analytics-compat",[g2]:"fire-app-check",[p2]:"fire-app-check-compat",[y2]:"fire-auth",[_2]:"fire-auth-compat",[v2]:"fire-rtdb",[E2]:"fire-data-connect",[T2]:"fire-rtdb-compat",[S2]:"fire-fn",[w2]:"fire-fn-compat",[A2]:"fire-iid",[b2]:"fire-iid-compat",[R2]:"fire-fcm",[I2]:"fire-fcm-compat",[C2]:"fire-perf",[D2]:"fire-perf-compat",[x2]:"fire-rc",[N2]:"fire-rc-compat",[O2]:"fire-gcs",[M2]:"fire-gcs-compat",[V2]:"fire-fst",[P2]:"fire-fst-compat",[k2]:"fire-vertex","fire-js":"fire-js",[L2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map,j2=new Map,$m=new Map;function h0(r,t){try{r.container.addComponent(t)}catch(n){Dr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Co(r){const t=r.name;if($m.has(t))return Dr.debug(`There were multiple attempts to register component ${t}.`),!1;$m.set(t,r);for(const n of Ih.values())h0(n,r);for(const n of j2.values())h0(n,r);return!0}function Ip(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function yi(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new yu("app","Firebase",B2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=U2;function yT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Xm,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Cs.create("bad-app-name",{appName:String(o)});if(n||(n=hT()),!n)throw Cs.create("no-options");const u=Ih.get(o);if(u){if(Vs(n,u.options)&&Vs(s,u.config))return u;throw Cs.create("duplicate-app",{appName:o})}const f=new KR(o);for(const p of $m.values())f.addComponent(p);const m=new q2(n,s,f);return Ih.set(o,m),m}function _T(r=Xm){const t=Ih.get(r);if(!t&&r===Xm&&hT())return yT();if(!t)throw Cs.create("no-app",{appName:r});return t}function Ds(r,t,n){var s;let o=(s=z2[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Dr.warn(m.join(" "));return}Co(new wa(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="firebase-heartbeat-database",F2=1,au="firebase-heartbeat-store";let Dm=null;function vT(){return Dm||(Dm=o2(H2,F2,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(r=>{throw Cs.create("idb-open",{originalErrorMessage:r.message})})),Dm}async function G2(r){try{const n=(await vT()).transaction(au),s=await n.objectStore(au).get(ET(r));return await n.done,s}catch(t){if(t instanceof kr)Dr.warn(t.message);else{const n=Cs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Dr.warn(n.message)}}}async function f0(r,t){try{const s=(await vT()).transaction(au,"readwrite");await s.objectStore(au).put(t,ET(r)),await s.done}catch(n){if(n instanceof kr)Dr.warn(n.message);else{const s=Cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dr.warn(s.message)}}}function ET(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=1024,Y2=30;class K2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=d0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Y2){const f=J2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Dr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=d0(),{heartbeatsToSend:s,unsentEntries:o}=X2(this._heartbeatsCache.heartbeats),u=Rh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Dr.warn(n),""}}}function d0(){return new Date().toISOString().substring(0,10)}function X2(r,t=Q2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),m0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),m0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PR()?LR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return f0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return f0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function m0(r){return Rh(JSON.stringify({version:2,heartbeats:r})).length}function J2(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(r){Co(new wa("platform-logger",t=>new c2(t),"PRIVATE")),Co(new wa("heartbeat",t=>new K2(t),"PRIVATE")),Ds(Km,c0,r),Ds(Km,c0,"esm2017"),Ds("fire-js","")}Z2("");function Cp(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W2=TT,ST=new yu("auth","Firebase",TT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new bp("@firebase/auth");function tI(r,...t){Ch.logLevel<=Qt.WARN&&Ch.warn(`Auth (${Uo}): ${r}`,...t)}function mh(r,...t){Ch.logLevel<=Qt.ERROR&&Ch.error(`Auth (${Uo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(r,...t){throw xp(r,...t)}function Ci(r,...t){return xp(r,...t)}function Dp(r,t,n){const s=Object.assign(Object.assign({},W2()),{[t]:n});return new yu("auth","Firebase",s).create(t,{appName:r.name})}function xs(r){return Dp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wT(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Qi(r,"argument-error"),Dp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ST.create(r,...t)}function Dt(r,t,...n){if(!r)throw xp(t,...n)}function wr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw mh(t),new Error(t)}function xr(r,t){r||wr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function eI(){return p0()==="http:"||p0()==="https:"}function p0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eI()||OR()||"connection"in navigator)?navigator.onLine:!0}function iI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(t,n){this.shortDelay=t,this.longDelay=n,xr(n>t,"Short delay should be less than long delay!"),this.isMobile=DR()||MR()}get(){return nI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(r,t){xr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aI=new vu(3e4,6e4);function Op(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function zo(r,t,n,s,o={}){return bT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=_u(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:t,headers:p},u);return NR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Lo(r.emulatorConfig.host)&&(g.credentials="include"),AT.fetch()(await RT(r,r.config.apiHost,n,m),g)})}async function bT(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},rI),t);try{const o=new lI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ah(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ah(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw ah(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Dp(r,E,g);Qi(r,E)}}catch(o){if(o instanceof kr)throw o;Qi(r,"network-request-failed",{message:String(o)})}}async function oI(r,t,n,s,o={}){const u=await zo(r,t,n,s,o);return"mfaPendingCredential"in u&&Qi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function RT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Np(r.config,o):`${r.config.apiScheme}://${o}`;return sI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class lI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),aI.get())})}}function ah(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ci(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(r,t){return zo(r,"POST","/v1/accounts:delete",t)}async function Dh(r,t){return zo(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cI(r,t=!1){const n=Ce(r),s=await n.getIdToken(t),o=Mp(s);Dt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Wl(xm(o.auth_time)),issuedAtTime:Wl(xm(o.iat)),expirationTime:Wl(xm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function xm(r){return Number(r)*1e3}function Mp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=uT(n);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function g0(r){const t=Mp(r);return Dt(t,"internal-error"),Dt(typeof t.exp<"u","internal-error"),Dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof kr&&hI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function hI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(r){var t;const n=r.auth,s=await r.getIdToken(),o=await ou(r,Dh(n,{idToken:s}));Dt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?IT(u.providerUserInfo):[],m=mI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Zm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,T)}async function dI(r){const t=Ce(r);await xh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mI(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function IT(r){return r.map(t=>{var{providerId:n}=t,s=Cp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(r,t){const n=await bT(r,{},async()=>{const s=_u({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await RT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Lo(r.emulatorConfig.host)&&(p.credentials="include"),AT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gI(r,t){return zo(r,"POST","/v2/accounts:revokeToken",Op(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Dt(t.idToken,"internal-error"),Dt(typeof t.idToken<"u","internal-error"),Dt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):g0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Dt(t.length!==0,"internal-error");const n=g0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await pI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ao;return s&&(Dt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Dt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Dt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(r,t){Dt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ii{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Cp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Zm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await ou(this,this.stsTokenManager.getToken(this.auth,t));return Dt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return cI(this,t)}reload(){return dI(this)}_assign(t){this!==t&&(Dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ii(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(xs(this.auth));const t=await this.getIdToken();return await ou(this,uI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,g,E;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,B=(f=n.photoURL)!==null&&f!==void 0?f:void 0,X=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,at=(g=n.createdAt)!==null&&g!==void 0?g:void 0,lt=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:it,emailVerified:Tt,isAnonymous:Mt,providerData:wt,stsTokenManager:x}=n;Dt(it&&x,t,"internal-error");const b=Ao.fromJSON(this.name,x);Dt(typeof it=="string",t,"internal-error"),Ts(T,t.name),Ts(A,t.name),Dt(typeof Tt=="boolean",t,"internal-error"),Dt(typeof Mt=="boolean",t,"internal-error"),Ts(V,t.name),Ts(B,t.name),Ts(X,t.name),Ts(q,t.name),Ts(at,t.name),Ts(lt,t.name);const R=new Ii({uid:it,auth:t,email:A,emailVerified:Tt,displayName:T,isAnonymous:Mt,photoURL:B,phoneNumber:V,tenantId:X,stsTokenManager:b,createdAt:at,lastLoginAt:lt});return wt&&Array.isArray(wt)&&(R.providerData=wt.map(M=>Object.assign({},M))),q&&(R._redirectEventId=q),R}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ao;o.updateFromServerResponse(n);const u=new Ii({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await xh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Dt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?IT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ao;m.updateFromIdToken(s);const p=new Ii({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;function Ar(r){xr(r instanceof Function,"Expected a class definition");let t=y0.get(r);return t?(xr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,y0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}CT.type="NONE";const _0=CT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r,t,n){return`firebase:${r}:${t}:${n}`}class bo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Dh(this.auth,{idToken:t}).catch(()=>{});return n?Ii._fromGetAccountInfoResponse(this.auth,n,t):null}return Ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new bo(Ar(_0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ar(_0);const f=ph(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const A=await Dh(t,{idToken:E}).catch(()=>{});if(!A)break;T=await Ii._fromGetAccountInfoResponse(t,A,E)}else T=Ii._fromJSON(t,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new bo(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new bo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(OT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(DT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(VT(t))return"Blackberry";if(kT(t))return"Webos";if(xT(t))return"Safari";if((t.includes("chrome/")||NT(t))&&!t.includes("edge/"))return"Chrome";if(MT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function DT(r=Tn()){return/firefox\//i.test(r)}function xT(r=Tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function NT(r=Tn()){return/crios\//i.test(r)}function OT(r=Tn()){return/iemobile/i.test(r)}function MT(r=Tn()){return/android/i.test(r)}function VT(r=Tn()){return/blackberry/i.test(r)}function kT(r=Tn()){return/webos/i.test(r)}function Vp(r=Tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function yI(r=Tn()){var t;return Vp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function _I(){return VR()&&document.documentMode===10}function PT(r=Tn()){return Vp(r)||MT(r)||kT(r)||VT(r)||/windows phone/i.test(r)||OT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(r,t=[]){let n;switch(r){case"Browser":n=v0(Tn());break;case"Worker":n=`${v0(Tn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(r,t={}){return zo(r,"GET","/v2/passwordPolicy",Op(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=6;class SI{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:TI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E0(this),this.idTokenSubscription=new E0(this),this.beforeStateQueue=new vI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ST,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await bo.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Dh(this,{idToken:t}),s=await Ii._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(yi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await xh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=iI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(yi(this.app))return Promise.reject(xs(this));const n=t?Ce(t):null;return n&&Dt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return yi(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await EI(this),n=new SI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new yu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await gI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ar(t)||this._popupRedirectResolver;Dt(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=LT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&tI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Eu(r){return Ce(r)}class E0{constructor(t){this.auth=t,this.observer=null,this.addObserver=qR(n=>this.observer=n)}get next(){return Dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AI(r){kp=r}function bI(r){return kp.loadJS(r)}function RI(){return kp.gapiScript}function II(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(r,t){const n=Ip(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Vs(u,t??{}))return o;Qi(o,"already-initialized")}return n.initialize({options:t})}function DI(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ar);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function xI(r,t,n){const s=Eu(r);Dt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=UT(t),{host:f,port:m}=NI(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Dt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Dt(Vs(g,s.config.emulator)&&Vs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Lo(f)?(dT(`${u}//${f}${p}`),mT("Auth",!0)):OI()}function UT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function NI(r){const t=UT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:T0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:T0(f)}}}function T0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function OI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(t){return wr("not implemented")}_linkToIdToken(t,n){return wr("not implemented")}_getReauthenticationResolver(t){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(r,t){return oI(r,"POST","/v1/accounts:signInWithIdp",Op(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="http://localhost";class Aa extends zT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Aa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Cp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Aa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ro(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ro(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ro(t,n)}buildRequest(){const t={requestUri:MI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=_u(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Jh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Tu{constructor(){super("facebook.com")}static credential(t){return Aa._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ss.credentialFromTaggedObject(t)}static credentialFromError(t){return Ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ss.credential(t.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Aa._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Sr.credential(n,s)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Tu{constructor(){super("github.com")}static credential(t){return Aa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ws.credential(t.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Tu{constructor(){super("twitter.com")}static credential(t,n){return Aa._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return As.credentialFromTaggedObject(t)}static credentialFromError(t){return As.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return As.credential(n,s)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Ii._fromIdTokenResponse(t,s,o),f=S0(s);return new Do({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=S0(s);return new Do({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function S0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends kr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Nh(t,n,s,o)}}function jT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,t,s):u})}async function VI(r,t,n=!1){const s=await ou(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Do._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(r,t,n=!1){const{auth:s}=r;if(yi(s.app))return Promise.reject(xs(s));const o="reauthenticate";try{const u=await ou(r,jT(s,o,t,r),n);Dt(u.idToken,s,"internal-error");const f=Mp(u.idToken);Dt(f,s,"internal-error");const{sub:m}=f;return Dt(r.uid===m,s,"user-mismatch"),Do._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(r,t,n=!1){if(yi(r.app))return Promise.reject(xs(r));const s="signIn",o=await jT(r,s,t),u=await Do._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(r,t){return Ce(r).setPersistence(t)}function LI(r,t,n,s){return Ce(r).onIdTokenChanged(t,n,s)}function UI(r,t,n){return Ce(r).beforeAuthStateChanged(t,n)}function qT(r,t,n,s){return Ce(r).onAuthStateChanged(t,n,s)}function zI(r){return Ce(r).signOut()}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=1e3,BI=10;class FT extends HT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);_I()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,BI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},jI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}FT.type="LOCAL";const Pp=FT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT extends HT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}GT.type="SESSION";const QT=GT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Zh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await qI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Lp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return window}function FI(r){qi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function GI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function YI(){return YT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firebaseLocalStorageDb",KI=1,Mh="firebaseLocalStorage",XT="fbase_key";class Su{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wh(r,t){return r.transaction([Mh],t?"readwrite":"readonly").objectStore(Mh)}function XI(){const r=indexedDB.deleteDatabase(KT);return new Su(r).toPromise()}function Wm(){const r=indexedDB.open(KT,KI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Mh,{keyPath:XT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Mh)?t(s):(s.close(),await XI(),t(await Wm()))})})}async function w0(r,t,n){const s=Wh(r,!0).put({[XT]:t,value:n});return new Su(s).toPromise()}async function $I(r,t){const n=Wh(r,!1).get(t),s=await new Su(n).toPromise();return s===void 0?null:s.value}function A0(r,t){const n=Wh(r,!0).delete(t);return new Su(n).toPromise()}const JI=800,ZI=3;class $T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>ZI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(YI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await GI(),!this.activeServiceWorker)return;this.sender=new HI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||QI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wm();return await w0(t,Oh,"1"),await A0(t,Oh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>w0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>$I(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>A0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Wh(o,!1).getAll();return new Su(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$T.type="LOCAL";const WI=$T;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(r,t){return t?Ar(t):(Dt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends zT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ro(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ro(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function tC(r){return PI(r.auth,new zp(r),r.bypassAuthState)}function eC(r){const{auth:t,user:n}=r;return Dt(n,t,"internal-error"),kI(n,new zp(r),r.bypassAuthState)}async function nC(r){const{auth:t,user:n}=r;return Dt(n,t,"internal-error"),VI(n,new zp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tC;case"linkViaPopup":case"linkViaRedirect":return nC;case"reauthViaPopup":case"reauthViaRedirect":return eC;default:Qi(this.auth,"internal-error")}}resolve(t){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new vu(2e3,1e4);async function rC(r,t,n){if(yi(r.app))return Promise.reject(Ci(r,"operation-not-supported-in-this-environment"));const s=Eu(r);wT(r,t,Jh);const o=Up(s,n);return new Ea(s,"signInViaPopup",t,o).executeNotNull()}class Ea extends JT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Dt(t,this.auth,"internal-error"),t}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const t=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iC.get())};t()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="pendingRedirect",gh=new Map;class aC extends JT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=gh.get(this.auth._key());if(!t){try{const s=await oC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}gh.set(this.auth._key(),t)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oC(r,t){const n=WT(t),s=ZT(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function lC(r,t){return ZT(r)._set(WT(t),"true")}function uC(r,t){gh.set(r._key(),t)}function ZT(r){return Ar(r._redirectPersistence)}function WT(r){return ph(sC,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(r,t,n){return cC(r,t,n)}async function cC(r,t,n){if(yi(r.app))return Promise.reject(xs(r));const s=Eu(r);wT(r,t,Jh),await s._initializationPromise;const o=Up(s,n);return await lC(o,s),o._openRedirect(s,t,"signInViaRedirect")}async function hC(r,t,n=!1){if(yi(r.app))return Promise.reject(xs(r));const s=Eu(r),o=Up(s,t),f=await new aC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=600*1e3;class dC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!t1(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fC&&this.cachedEventUids.clear(),this.cachedEventUids.has(R0(t))}saveEventToCache(t){this.cachedEventUids.add(R0(t)),this.lastProcessedEventTime=Date.now()}}function R0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function t1({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(r,t={}){return zo(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yC=/^https?/;async function _C(r){if(r.config.emulator)return;const{authorizedDomains:t}=await pC(r);for(const n of t)try{if(vC(n))return}catch{}Qi(r,"unauthorized-domain")}function vC(r){const t=Jm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!yC.test(n))return!1;if(gC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new vu(3e4,6e4);function I0(){const r=qi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function TC(r){return new Promise((t,n)=>{var s,o,u;function f(){I0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{I0(),n(Ci(r,"network-request-failed"))},timeout:EC.get()})}if(!((o=(s=qi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=qi().gapi)===null||u===void 0)&&u.load)f();else{const m=II("iframefcb");return qi()[m]=()=>{gapi.load?f():n(Ci(r,"network-request-failed"))},bI(`${RI()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw yh=null,t})}let yh=null;function SC(r){return yh=yh||TC(r),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new vu(5e3,15e3),AC="__/auth/iframe",bC="emulator/auth/iframe",RC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CC(r){const t=r.config;Dt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Np(t,bC):`https://${r.config.authDomain}/${AC}`,s={apiKey:t.apiKey,appName:r.name,v:Uo},o=IC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${_u(s).slice(1)}`}async function DC(r){const t=await SC(r),n=qi().gapi;return Dt(n,r,"internal-error"),t.open({where:document.body,url:CC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ci(r,"network-request-failed"),m=qi().setTimeout(()=>{u(f)},wC.get());function p(){qi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NC=500,OC=600,MC="_blank",VC="http://localhost";class C0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kC(r,t,n,s=NC,o=OC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},xC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Tn().toLowerCase();n&&(m=NT(g)?MC:n),DT(g)&&(t=t||VC,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[V,B])=>`${A}${V}=${B},`,"");if(yI(g)&&m!=="_self")return PC(t||"",m),new C0(null);const T=window.open(t||"",m,E);Dt(T,r,"popup-blocked");try{T.focus()}catch{}return new C0(T)}function PC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="__/auth/handler",UC="emulator/auth/handler",zC=encodeURIComponent("fac");async function D0(r,t,n,s,o,u){Dt(r.config.authDomain,r,"auth-domain-config-required"),Dt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Uo,eventId:o};if(t instanceof Jh){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",BR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(t instanceof Tu){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${zC}=${encodeURIComponent(p)}`:"";return`${jC(r)}?${_u(m).slice(1)}${g}`}function jC({config:r}){return r.emulator?Np(r,UC):`https://${r.authDomain}/${LC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class BC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QT,this._completeRedirectFn=hC,this._overrideRedirectResult=uC}async _openPopup(t,n,s,o){var u;xr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await D0(t,n,s,Jm(),o);return kC(t,f,Lp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await D0(t,n,s,Jm(),o);return FI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(xr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await DC(t),s=new dC(t);return n.register("authEvent",o=>(Dt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Nm,{type:Nm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Nm];f!==void 0&&n(!!f),Qi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_C(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return PT()||xT()||Vp()}}const qC=BC;var x0="@firebase/auth",N0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GC(r){Co(new wa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Dt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LT(r)},g=new wI(s,o,u,p);return DI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Co(new wa("auth-internal",t=>{const n=Eu(t.getProvider("auth").getImmediate());return(s=>new HC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds(x0,N0,FC(r)),Ds(x0,N0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=300,YC=fT("authIdTokenMaxAge")||QC;let O0=null;const KC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>YC)return;const o=n==null?void 0:n.token;O0!==o&&(O0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function XC(r=_T()){const t=Ip(r,"auth");if(t.isInitialized())return t.getImmediate();const n=CI(r,{popupRedirectResolver:qC,persistence:[WI,Pp,QT]}),s=fT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=KC(u.toString());UI(n,f,()=>f(n.currentUser)),LI(n,m=>f(m))}}const o=cT("auth");return o&&xI(n,`http://${o}`),n}function $C(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}AI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",$C().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GC("Browser");var M0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,e1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,b){function R(){}R.prototype=b.prototype,x.D=b.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(M,k,U){for(var D=Array(arguments.length-2),we=2;we<arguments.length;we++)D[we-2]=arguments[we];return b.prototype[k].apply(M,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,R){R||(R=0);var M=Array(16);if(typeof b=="string")for(var k=0;16>k;++k)M[k]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(k=0;16>k;++k)M[k]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=x.g[0],R=x.g[1],k=x.g[2];var U=x.g[3],D=b+(U^R&(k^U))+M[0]+3614090360&4294967295;b=R+(D<<7&4294967295|D>>>25),D=U+(k^b&(R^k))+M[1]+3905402710&4294967295,U=b+(D<<12&4294967295|D>>>20),D=k+(R^U&(b^R))+M[2]+606105819&4294967295,k=U+(D<<17&4294967295|D>>>15),D=R+(b^k&(U^b))+M[3]+3250441966&4294967295,R=k+(D<<22&4294967295|D>>>10),D=b+(U^R&(k^U))+M[4]+4118548399&4294967295,b=R+(D<<7&4294967295|D>>>25),D=U+(k^b&(R^k))+M[5]+1200080426&4294967295,U=b+(D<<12&4294967295|D>>>20),D=k+(R^U&(b^R))+M[6]+2821735955&4294967295,k=U+(D<<17&4294967295|D>>>15),D=R+(b^k&(U^b))+M[7]+4249261313&4294967295,R=k+(D<<22&4294967295|D>>>10),D=b+(U^R&(k^U))+M[8]+1770035416&4294967295,b=R+(D<<7&4294967295|D>>>25),D=U+(k^b&(R^k))+M[9]+2336552879&4294967295,U=b+(D<<12&4294967295|D>>>20),D=k+(R^U&(b^R))+M[10]+4294925233&4294967295,k=U+(D<<17&4294967295|D>>>15),D=R+(b^k&(U^b))+M[11]+2304563134&4294967295,R=k+(D<<22&4294967295|D>>>10),D=b+(U^R&(k^U))+M[12]+1804603682&4294967295,b=R+(D<<7&4294967295|D>>>25),D=U+(k^b&(R^k))+M[13]+4254626195&4294967295,U=b+(D<<12&4294967295|D>>>20),D=k+(R^U&(b^R))+M[14]+2792965006&4294967295,k=U+(D<<17&4294967295|D>>>15),D=R+(b^k&(U^b))+M[15]+1236535329&4294967295,R=k+(D<<22&4294967295|D>>>10),D=b+(k^U&(R^k))+M[1]+4129170786&4294967295,b=R+(D<<5&4294967295|D>>>27),D=U+(R^k&(b^R))+M[6]+3225465664&4294967295,U=b+(D<<9&4294967295|D>>>23),D=k+(b^R&(U^b))+M[11]+643717713&4294967295,k=U+(D<<14&4294967295|D>>>18),D=R+(U^b&(k^U))+M[0]+3921069994&4294967295,R=k+(D<<20&4294967295|D>>>12),D=b+(k^U&(R^k))+M[5]+3593408605&4294967295,b=R+(D<<5&4294967295|D>>>27),D=U+(R^k&(b^R))+M[10]+38016083&4294967295,U=b+(D<<9&4294967295|D>>>23),D=k+(b^R&(U^b))+M[15]+3634488961&4294967295,k=U+(D<<14&4294967295|D>>>18),D=R+(U^b&(k^U))+M[4]+3889429448&4294967295,R=k+(D<<20&4294967295|D>>>12),D=b+(k^U&(R^k))+M[9]+568446438&4294967295,b=R+(D<<5&4294967295|D>>>27),D=U+(R^k&(b^R))+M[14]+3275163606&4294967295,U=b+(D<<9&4294967295|D>>>23),D=k+(b^R&(U^b))+M[3]+4107603335&4294967295,k=U+(D<<14&4294967295|D>>>18),D=R+(U^b&(k^U))+M[8]+1163531501&4294967295,R=k+(D<<20&4294967295|D>>>12),D=b+(k^U&(R^k))+M[13]+2850285829&4294967295,b=R+(D<<5&4294967295|D>>>27),D=U+(R^k&(b^R))+M[2]+4243563512&4294967295,U=b+(D<<9&4294967295|D>>>23),D=k+(b^R&(U^b))+M[7]+1735328473&4294967295,k=U+(D<<14&4294967295|D>>>18),D=R+(U^b&(k^U))+M[12]+2368359562&4294967295,R=k+(D<<20&4294967295|D>>>12),D=b+(R^k^U)+M[5]+4294588738&4294967295,b=R+(D<<4&4294967295|D>>>28),D=U+(b^R^k)+M[8]+2272392833&4294967295,U=b+(D<<11&4294967295|D>>>21),D=k+(U^b^R)+M[11]+1839030562&4294967295,k=U+(D<<16&4294967295|D>>>16),D=R+(k^U^b)+M[14]+4259657740&4294967295,R=k+(D<<23&4294967295|D>>>9),D=b+(R^k^U)+M[1]+2763975236&4294967295,b=R+(D<<4&4294967295|D>>>28),D=U+(b^R^k)+M[4]+1272893353&4294967295,U=b+(D<<11&4294967295|D>>>21),D=k+(U^b^R)+M[7]+4139469664&4294967295,k=U+(D<<16&4294967295|D>>>16),D=R+(k^U^b)+M[10]+3200236656&4294967295,R=k+(D<<23&4294967295|D>>>9),D=b+(R^k^U)+M[13]+681279174&4294967295,b=R+(D<<4&4294967295|D>>>28),D=U+(b^R^k)+M[0]+3936430074&4294967295,U=b+(D<<11&4294967295|D>>>21),D=k+(U^b^R)+M[3]+3572445317&4294967295,k=U+(D<<16&4294967295|D>>>16),D=R+(k^U^b)+M[6]+76029189&4294967295,R=k+(D<<23&4294967295|D>>>9),D=b+(R^k^U)+M[9]+3654602809&4294967295,b=R+(D<<4&4294967295|D>>>28),D=U+(b^R^k)+M[12]+3873151461&4294967295,U=b+(D<<11&4294967295|D>>>21),D=k+(U^b^R)+M[15]+530742520&4294967295,k=U+(D<<16&4294967295|D>>>16),D=R+(k^U^b)+M[2]+3299628645&4294967295,R=k+(D<<23&4294967295|D>>>9),D=b+(k^(R|~U))+M[0]+4096336452&4294967295,b=R+(D<<6&4294967295|D>>>26),D=U+(R^(b|~k))+M[7]+1126891415&4294967295,U=b+(D<<10&4294967295|D>>>22),D=k+(b^(U|~R))+M[14]+2878612391&4294967295,k=U+(D<<15&4294967295|D>>>17),D=R+(U^(k|~b))+M[5]+4237533241&4294967295,R=k+(D<<21&4294967295|D>>>11),D=b+(k^(R|~U))+M[12]+1700485571&4294967295,b=R+(D<<6&4294967295|D>>>26),D=U+(R^(b|~k))+M[3]+2399980690&4294967295,U=b+(D<<10&4294967295|D>>>22),D=k+(b^(U|~R))+M[10]+4293915773&4294967295,k=U+(D<<15&4294967295|D>>>17),D=R+(U^(k|~b))+M[1]+2240044497&4294967295,R=k+(D<<21&4294967295|D>>>11),D=b+(k^(R|~U))+M[8]+1873313359&4294967295,b=R+(D<<6&4294967295|D>>>26),D=U+(R^(b|~k))+M[15]+4264355552&4294967295,U=b+(D<<10&4294967295|D>>>22),D=k+(b^(U|~R))+M[6]+2734768916&4294967295,k=U+(D<<15&4294967295|D>>>17),D=R+(U^(k|~b))+M[13]+1309151649&4294967295,R=k+(D<<21&4294967295|D>>>11),D=b+(k^(R|~U))+M[4]+4149444226&4294967295,b=R+(D<<6&4294967295|D>>>26),D=U+(R^(b|~k))+M[11]+3174756917&4294967295,U=b+(D<<10&4294967295|D>>>22),D=k+(b^(U|~R))+M[2]+718787259&4294967295,k=U+(D<<15&4294967295|D>>>17),D=R+(U^(k|~b))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+k&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var R=b-this.blockSize,M=this.B,k=this.h,U=0;U<b;){if(k==0)for(;U<=R;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<b;)if(M[k++]=x.charCodeAt(U++),k==this.blockSize){o(this,M),k=0;break}}else for(;U<b;)if(M[k++]=x[U++],k==this.blockSize){o(this,M),k=0;break}}this.h=k,this.o+=b},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var R=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=R&255,R/=256;for(this.u(x),x=Array(16),b=R=0;4>b;++b)for(var M=0;32>M;M+=8)x[R++]=this.g[b]>>>M&255;return x};function u(x,b){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=b(x)}function f(x,b){this.h=b;for(var R=[],M=!0,k=x.length-1;0<=k;k--){var U=x[k]|0;M&&U==b||(R[k]=U,M=!1)}this.g=R}var m={};function p(x){return-128<=x&&128>x?u(x,function(b){return new f([b|0],0>b?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return q(g(-x));for(var b=[],R=1,M=0;x>=R;M++)b[M]=x/R|0,R*=4294967296;return new f(b,0)}function E(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return q(E(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(b,8)),M=T,k=0;k<x.length;k+=8){var U=Math.min(8,x.length-k),D=parseInt(x.substring(k,k+U),b);8>U?(U=g(Math.pow(b,U)),M=M.j(U).add(g(D))):(M=M.j(R),M=M.add(g(D)))}return M}var T=p(0),A=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(X(this))return-q(this).m();for(var x=0,b=1,R=0;R<this.g.length;R++){var M=this.i(R);x+=(0<=M?M:4294967296+M)*b,b*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(B(this))return"0";if(X(this))return"-"+q(this).toString(x);for(var b=g(Math.pow(x,6)),R=this,M="";;){var k=Tt(R,b).g;R=at(R,k.j(b));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=k,B(R))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function B(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function X(x){return x.h==-1}r.l=function(x){return x=at(this,x),X(x)?-1:B(x)?0:1};function q(x){for(var b=x.g.length,R=[],M=0;M<b;M++)R[M]=~x.g[M];return new f(R,~x.h).add(A)}r.abs=function(){return X(this)?q(this):this},r.add=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],M=0,k=0;k<=b;k++){var U=M+(this.i(k)&65535)+(x.i(k)&65535),D=(U>>>16)+(this.i(k)>>>16)+(x.i(k)>>>16);M=D>>>16,U&=65535,D&=65535,R[k]=D<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function at(x,b){return x.add(q(b))}r.j=function(x){if(B(this)||B(x))return T;if(X(this))return X(x)?q(this).j(q(x)):q(q(this).j(x));if(X(x))return q(this.j(q(x)));if(0>this.l(V)&&0>x.l(V))return g(this.m()*x.m());for(var b=this.g.length+x.g.length,R=[],M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var k=0;k<x.g.length;k++){var U=this.i(M)>>>16,D=this.i(M)&65535,we=x.i(k)>>>16,ke=x.i(k)&65535;R[2*M+2*k]+=D*ke,lt(R,2*M+2*k),R[2*M+2*k+1]+=U*ke,lt(R,2*M+2*k+1),R[2*M+2*k+1]+=D*we,lt(R,2*M+2*k+1),R[2*M+2*k+2]+=U*we,lt(R,2*M+2*k+2)}for(M=0;M<b;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=b;M<2*b;M++)R[M]=0;return new f(R,0)};function lt(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function it(x,b){this.g=x,this.h=b}function Tt(x,b){if(B(b))throw Error("division by zero");if(B(x))return new it(T,T);if(X(x))return b=Tt(q(x),b),new it(q(b.g),q(b.h));if(X(b))return b=Tt(x,q(b)),new it(q(b.g),b.h);if(30<x.g.length){if(X(x)||X(b))throw Error("slowDivide_ only works with positive integers.");for(var R=A,M=b;0>=M.l(x);)R=Mt(R),M=Mt(M);var k=wt(R,1),U=wt(M,1);for(M=wt(M,2),R=wt(R,2);!B(M);){var D=U.add(M);0>=D.l(x)&&(k=k.add(R),U=D),M=wt(M,1),R=wt(R,1)}return b=at(x,k.j(b)),new it(k,b)}for(k=T;0<=x.l(b);){for(R=Math.max(1,Math.floor(x.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=g(R),D=U.j(b);X(D)||0<D.l(x);)R-=M,U=g(R),D=U.j(b);B(U)&&(U=A),k=k.add(U),x=at(x,D)}return new it(k,x)}r.A=function(x){return Tt(this,x).h},r.and=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)&x.i(M);return new f(R,this.h&x.h)},r.or=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)|x.i(M);return new f(R,this.h|x.h)},r.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],M=0;M<b;M++)R[M]=this.i(M)^x.i(M);return new f(R,this.h^x.h)};function Mt(x){for(var b=x.g.length+1,R=[],M=0;M<b;M++)R[M]=x.i(M)<<1|x.i(M-1)>>>31;return new f(R,x.h)}function wt(x,b){var R=b>>5;b%=32;for(var M=x.g.length-R,k=[],U=0;U<M;U++)k[U]=0<b?x.i(U+R)>>>b|x.i(U+R+1)<<32-b:x.i(U+R);return new f(k,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,e1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Ns=f}).apply(typeof M0<"u"?M0:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n1,Kl,i1,_h,tp,r1,s1,a1;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in v))break t;v=v[z]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,z={next:function(){if(!w&&v<c.length){var K=v++;return{value:y(K,c[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function A(c,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,A.apply(null,arguments)}function V(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function B(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,z,K){for(var ct=Array(arguments.length-2),re=2;re<arguments.length;re++)ct[re-2]=arguments[re];return y.prototype[z].apply(w,ct)}}function X(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function q(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const z=c.length||0,K=w.length||0;c.length=z+K;for(let ct=0;ct<K;ct++)c[z+ct]=w[ct]}else c.push(w)}}class at{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function lt(c){return/^[\s\xa0]*$/.test(c)}function it(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Tt(c){return Tt[" "](c),c}Tt[" "]=function(){};var Mt=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function wt(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function x(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function b(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let v,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(v in w)c[v]=w[v];for(let K=0;K<R.length;K++)v=R[K],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function U(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Nt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class we{constructor(){this.h=this.g=null}add(y,v){const w=ke.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ke=new at(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let st,gt=!1,Nt=new we,Bt=()=>{const c=m.Promise.resolve(void 0);st=()=>{c.then(N)}};var N=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){U(v)}var y=ke;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}gt=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var ft=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c})();function vt(c,y){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Mt){t:{try{Tt(y.nodeName);var z=!0;break t}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:bt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&vt.aa.h.call(this)}}B(vt,ot);var bt={2:"touch",3:"pen",4:"mouse"};vt.prototype.h=function(){vt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),oe=0;function me(c,y,v,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=z,this.key=++oe,this.da=this.fa=!1}function mn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bn(c){this.src=c,this.g={},this.h=0}Bn.prototype.add=function(c,y,v,w,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ct=Pr(c,y,w,z);return-1<ct?(y=c[ct],v||(y.fa=!1)):(y=new me(y,this.src,K,!!w,z),y.fa=v,c.push(y)),y};function Ki(c,y){var v=y.type;if(v in c.g){var w=c.g[v],z=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=z)&&Array.prototype.splice.call(w,z,1),K&&(mn(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Pr(c,y,v,w){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==w)return z}return-1}var qn="closure_lm_"+(1e6*Math.random()|0),Xi={};function Lr(c,y,v,w,z){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Lr(c,y[K],v,w,z);return null}return v=Ji(v),c&&c[Ct]?c.K(y,v,g(w)?!!w.capture:!1,z):Qo(c,y,v,!1,w,z)}function Qo(c,y,v,w,z,K){if(!y)throw Error("Invalid event type");var ct=g(z)?!!z.capture:!!z,re=$i(c);if(re||(c[qn]=re=new Bn(c)),v=re.add(y,v,w,ct,K),v.proxy)return v;if(w=Na(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)ft||(z=ct),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(Ur(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Na(){function c(v){return y.call(c.src,c.listener,v)}const y=Yo;return c}function vi(c,y,v,w,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)vi(c,y[K],v,w,z);else w=g(w)?!!w.capture:!!w,v=Ji(v),c&&c[Ct]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],v=Pr(K,v,w,z),-1<v&&(mn(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=$i(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Pr(y,v,w,z)),(v=-1<c?y[c]:null)&&xi(v))}function xi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ct])Ki(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(Ur(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=$i(y))?(Ki(v,c),v.h==0&&(v.src=null,y[qn]=null)):mn(c)}}}function Ur(c){return c in Xi?Xi[c]:Xi[c]="on"+c}function Yo(c,y){if(c.da)c=!0;else{y=new vt(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&xi(c),c=v.call(w,y)}return c}function $i(c){return c=c[qn],c instanceof Bn?c:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ji(c){return typeof c=="function"?c:(c[Pe]||(c[Pe]=function(y){return c.handleEvent(y)}),c[Pe])}function ne(){J.call(this),this.i=new Bn(this),this.M=this,this.F=null}B(ne,J),ne.prototype[Ct]=!0,ne.prototype.removeEventListener=function(c,y,v,w){vi(this,c,y,v,w)};function Le(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new ot(y,c);else if(y instanceof ot)y.target=y.target||c;else{var z=y;y=new ot(w,c),M(y,z)}if(z=!0,v)for(var K=v.length-1;0<=K;K--){var ct=y.g=v[K];z=ai(ct,w,!0,y)&&z}if(ct=y.g=c,z=ai(ct,w,!0,y)&&z,z=ai(ct,w,!1,y)&&z,v)for(K=0;K<v.length;K++)ct=y.g=v[K],z=ai(ct,w,!1,y)&&z}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)mn(v[w]);delete c.g[y],c.h--}}this.F=null},ne.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},ne.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function ai(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,K=0;K<y.length;++K){var ct=y[K];if(ct&&!ct.da&&ct.capture==v){var re=ct.listener,Ue=ct.ha||ct.src;ct.fa&&Ki(c.i,ct),z=re.call(Ue,w)!==!1&&z}}return z&&!w.defaultPrevented}function zr(c,y,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Gs(c){c.g=zr(()=>{c.g=null,c.i&&(c.i=!1,Gs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ko extends J{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Gs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(c){J.call(this),this.h=c,this.g={}}B(Ei,J);var pn=[];function De(c){wt(c.g,function(y,v){this.g.hasOwnProperty(v)&&xi(y)},c),c.g={}}Ei.prototype.N=function(){Ei.aa.N.call(this),De(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=m.JSON.stringify,an=m.JSON.parse,Oa=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Qs(){}Qs.prototype.h=null;function Ma(c){return c.h||(c.h=c.i())}function Zi(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){ot.call(this,"d")}B(xn,ot);function Je(){ot.call(this,"c")}B(Je,ot);var xe={},Hn=null;function jr(){return Hn=Hn||new ne}xe.La="serverreachability";function Wi(c){ot.call(this,xe.La,c)}B(Wi,ot);function Ti(c){const y=jr();Le(y,new Wi(y))}xe.STAT_EVENT="statevent";function Ni(c,y){ot.call(this,xe.STAT_EVENT,c),this.stat=y}B(Ni,ot);function Qe(c){const y=jr();Le(y,new Ni(y,c))}xe.Ma="timingevent";function Ys(c,y){ot.call(this,xe.Ma,c),this.size=y}B(Ys,ot);function Oi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function Ks(c,y,v,w,z,K){c.info(function(){if(c.g)if(K)for(var ct="",re=K.split("&"),Ue=0;Ue<re.length;Ue++){var zt=re[Ue].split("=");if(1<zt.length){var We=zt[0];zt=zt[1];var tn=We.split("_");ct=2<=tn.length&&tn[1]=="type"?ct+(We+"="+zt+"&"):ct+(We+"=redacted&")}}else ct=null;else ct=K;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+v+`
`+ct})}function Xs(c,y,v,w,z,K,ct){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+v+`
`+K+" "+ct})}function Si(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Nn(c,v)+(w?" "+w:"")})}function Va(c,y){c.info(function(){return"TIMEOUT: "+y})}Fn.prototype.info=function(){};function Nn(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ct=1;ct<z.length;ct++)z[ct]=""}}}}return wn(v)}catch{return y}}var ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},C={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Q;function W(){}B(W,Qs),W.prototype.g=function(){return new XMLHttpRequest},W.prototype.i=function(){return{}},Q=new W;function ut(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new Ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Ut={},Rt={};function le(c,y,v){c.L=1,c.v=Js(Ae(y)),c.m=v,c.P=!0,Xt(c,null)}function Xt(c,y){c.F=Date.now(),Ne(c),c.A=Ae(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),er(v.i,"t",w),c.C=0,v=c.j.J,c.h=new pt,c.g=$u(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Ko(A(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(pn[0]=z.toString()),z=pn);for(var K=0;K<z.length;K++){var ct=Lr(v,z[K],w||y.handleEvent,!1,y.h||y);if(!ct)break;y.g[ct.key]=ct}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ti(),Ks(c.i,c.u,c.A,c.l,c.R,c.m)}ut.prototype.ca=function(c){c=c.target;const y=this.M;y&&Rn(c)==3?y.j():this.Y(c)},ut.prototype.Y=function(c){try{if(c==this.g)t:{const tn=Rn(this.g);var y=this.g.Ba();const Zr=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||ta(this.g)))){this.J||tn!=4||y==7||(y==8||0>=Zr?Ti(3):Ti(2)),Mi(this);var v=this.g.Z();this.X=v;e:if(kt(this)){var w=ta(this.g);c="";var z=w.length,K=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ye(this),Gn(this);var ct="";break e}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(K&&y==z-1)});w.length=0,this.h.g+=c,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=v==200,Xs(this.i,this.u,this.A,this.l,this.R,tn,v),this.o){if(this.T&&!this.K){e:{if(this.g){var re,Ue=this.g;if((re=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(re)){var zt=re;break e}}zt=null}if(v=zt)Si(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,An(this,v);else{this.o=!1,this.s=3,Qe(12),Ye(this),Gn(this);break t}}if(this.P){v=!0;let Mn;for(;!this.J&&this.C<ct.length;)if(Mn=Vt(this,ct),Mn==Rt){tn==4&&(this.s=4,Qe(14),v=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==Ut){this.s=4,Qe(15),Si(this.i,this.l,ct,"[Invalid Chunk]"),v=!1;break}else Si(this.i,this.l,Mn,null),An(this,Mn);if(kt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||ct.length!=0||this.h.h||(this.s=1,Qe(16),v=!1),this.o=this.o&&v,!v)Si(this.i,this.l,ct,"[Invalid Chunked Response]"),Ye(this),Gn(this);else if(0<ct.length&&!this.W){this.W=!0;var We=this.j;We.g==this&&We.ba&&!We.M&&(We.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),sl(We),We.M=!0,Qe(11))}}else Si(this.i,this.l,ct,null),An(this,ct);tn==4&&Ye(this),this.o&&!this.J&&(tn==4?Yu(this.j,this):(this.o=!1,Ne(this)))}else Bu(this.g),v==400&&0<ct.indexOf("Unknown SID")?(this.s=3,Qe(12)):(this.s=0,Qe(13)),Ye(this),Gn(this)}}}catch{}finally{}};function kt(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vt(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?Rt:(v=Number(y.substring(v,w)),isNaN(v)?Ut:(w+=1,w+v>y.length?Rt:(y=y.slice(w,w+v),c.C=w+v,y)))}ut.prototype.cancel=function(){this.J=!0,Ye(this)};function Ne(c){c.S=Date.now()+c.I,ve(c,c.I)}function ve(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Oi(A(c.ba,c),y)}function Mi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ut.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Va(this.i,this.A),this.L!=2&&(Ti(),Qe(17)),Ye(this),this.s=2,Gn(this)):ve(this,this.S-c)};function Gn(c){c.j.G==0||c.J||Yu(c.j,c)}function Ye(c){Mi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,De(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function An(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Br(v.h,c))){if(!c.K&&Br(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)$r(v),Xr(v);else break t;rl(v),Qe(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Oi(A(v.Za,v),6e3));if(1>=ku(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ir(v,11)}else if((c.K||v.g==c)&&$r(v),!lt(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let zt=z[y];if(v.T=zt[0],zt=zt[1],v.G==2)if(zt[0]=="c"){v.K=zt[1],v.ia=zt[2];const We=zt[3];We!=null&&(v.la=We,v.j.info("VER="+v.la));const tn=zt[4];tn!=null&&(v.Aa=tn,v.j.info("SVER="+v.Aa));const Zr=zt[5];Zr!=null&&typeof Zr=="number"&&0<Zr&&(w=1.5*Zr,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Mn=c.g;if(Mn){const ia=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var K=w.h;K.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(qr(K,K.h),K.h=null))}if(w.D){const rr=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;rr&&(w.ya=rr,Zt(w.I,w.D,rr))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ct=c;if(w.qa=Xu(w,w.J?w.ia:null,w.W),ct.K){oi(w.h,ct);var re=ct,Ue=w.L;Ue&&(re.I=Ue),re.B&&(Mi(re),Ne(re)),w.g=ct}else Gu(w);0<v.i.length&&qa(v)}else zt[0]!="stop"&&zt[0]!="close"||ir(v,7);else v.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?ir(v,7):nl(v):zt[0]!="noop"&&v.l&&v.l.ta(zt),v.v=0)}}Ti(4)}catch{}}var yf=class{constructor(c,y){this.g=c,this.map=y}};function Xo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $o(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ku(c){return c.h?1:c.g?c.g.size:0}function Br(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function qr(c,y){c.g?c.g.add(y):c.h=y}function oi(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Xo.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return X(c.i)}function Pu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function _f(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function ka(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=_f(c),w=Pu(c),z=w.length,K=0;K<z;K++)y.call(void 0,w[K],v&&v[K],c)}var Jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),z=null;if(0<=w){var K=c[v].substring(0,w);z=c[v].substring(w+1)}else K=c[v];y(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function tr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof tr){this.h=c.h,Hr(this,c.j),this.o=c.o,this.g=c.g,$s(this,c.s),this.l=c.l;var y=c.i,v=new Vi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),La(this,v),this.m=c.m}else c&&(y=String(c).match(Jo))?(this.h=!1,Hr(this,y[1]||"",!0),this.o=Fr(y[2]||""),this.g=Fr(y[3]||"",!0),$s(this,y[4]),this.l=Fr(y[5]||"",!0),La(this,y[6]||"",!0),this.m=Fr(y[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}tr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(li(y,Zo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(li(y,Zo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(li(v,v.charAt(0)=="/"?Wo:Lu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",li(v,Tf)),c.join("")};function Ae(c){return new tr(c)}function Hr(c,y,v){c.j=v?Fr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function $s(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function La(c,y,v){y instanceof Vi?(c.i=y,Uu(c.i,c.h)):(v||(y=li(y,Ef)),c.i=new Vi(y,c.h))}function Zt(c,y,v){c.i.set(y,v)}function Js(c){return Zt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function li(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,vf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zo=/[#\/\?@]/g,Lu=/[#\?:]/g,Wo=/[#\?]/g,Ef=/[#\?@]/g,Tf=/#/g;function Vi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ze(c){c.g||(c.g=new Map,c.h=0,c.i&&Pa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Vi.prototype,r.add=function(c,y){Ze(this),this.i=null,c=Qn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ua(c,y){Ze(c),y=Qn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function za(c,y){return Ze(c),y=Qn(c,y),c.g.has(y)}r.forEach=function(c,y){Ze(this),this.g.forEach(function(v,w){v.forEach(function(z){c.call(y,z,w,this)},this)},this)},r.na=function(){Ze(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const z=c[w];for(let K=0;K<z.length;K++)v.push(y[w])}return v},r.V=function(c){Ze(this);let y=[];if(typeof c=="string")za(this,c)&&(y=y.concat(this.g.get(Qn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Ze(this),this.i=null,c=Qn(this,c),za(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function er(c,y,v){Ua(c,y),0<v.length&&(c.i=null,c.g.set(Qn(c,y),X(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const K=encodeURIComponent(String(w)),ct=this.V(w);for(w=0;w<ct.length;w++){var z=K;ct[w]!==""&&(z+="="+encodeURIComponent(String(ct[w]))),c.push(z)}}return this.i=c.join("&")};function Qn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Uu(c,y){y&&!c.j&&(Ze(c),c.i=null,c.g.forEach(function(v,w){var z=w.toLowerCase();w!=z&&(Ua(this,w),er(this,z,v))},c)),c.j=y}function tl(c,y){const v=new Fn;if(m.Image){const w=new Image;w.onload=V(On,v,"TestLoadImage: loaded",!0,y,w),w.onerror=V(On,v,"TestLoadImage: error",!1,y,w),w.onabort=V(On,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=V(On,v,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function zu(c,y){const v=new Fn,w=new AbortController,z=setTimeout(()=>{w.abort(),On(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(z),K.ok?On(v,"TestPingServer: ok",!0,y):On(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),On(v,"TestPingServer: error",!1,y)})}function On(c,y,v,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(v)}catch{}}function wi(){this.g=new Oa}function el(c,y,v){const w=v||"";try{ka(c,function(z,K){let ct=z;g(z)&&(ct=wn(z)),y.push(w+K+"="+encodeURIComponent(ct))})}catch(z){throw y.push(w+"type="+encodeURIComponent("_badmap")),z}}function ki(c){this.l=c.Ub||null,this.j=c.eb||!1}B(ki,Qs),ki.prototype.g=function(){return new Yn(this.l,this.j)},ki.prototype.i=(function(c){return function(){return c}})({});function Yn(c,y){ne.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Yn,ne),r=Yn.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Gr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ja(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ja(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Pi(this):Gr(this),this.readyState==3&&ja(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Pi(this))},r.Qa=function(c){this.g&&(this.response=c,Pi(this))},r.ga=function(){this.g&&Pi(this)};function Pi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Gr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Gr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zs(c){let y="";return wt(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Qr(c,y,v){t:{for(w in v){var w=!1;break t}w=!0}w||(v=Zs(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Zt(c,y,v))}function pe(c){ne.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(pe,ne);var yn=/^https?$/i,nr=["POST","PUT"];r=pe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Q.g(),this.v=this.o?Ma(this.o):Ma(Q),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Ws(this,K);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)v.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())v.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(nr,y,void 0))||w||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ct]of v)this.g.setRequestHeader(K,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Ws(this,K)}};function Ws(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Yr(c),Kr(c)}function Yr(c){c.A||(c.A=!0,Le(c,"complete"),Le(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Le(this,"complete"),Le(this,"abort"),Kr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kr(this,!0)),pe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ju(this):this.bb())},r.bb=function(){ju(this)};function ju(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)zr(c.Ea,0,c);else if(Le(c,"readystatechange"),Rn(c)==4){c.h=!1;try{const ct=c.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var w;if(w=ct===0){var z=String(c.D).match(Jo)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),w=!yn.test(z?z.toLowerCase():"")}v=w}if(v)Le(c,"complete"),Le(c,"success");else{c.m=6;try{var K=2<Rn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Yr(c)}}finally{Kr(c)}}}}function Kr(c,y){if(c.g){Ba(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Le(c,"ready");try{v.onreadystatechange=w}catch{}}}function Ba(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),an(y)}};function ta(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bu(c){const y={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(lt(c[w]))continue;var v=k(c[w]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[z]||[];y[z]=K,K.push(v)}x(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ea(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function qu(c){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ea("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ea("baseRetryDelayMs",5e3,c),this.cb=ea("retryDelaySeedMs",1e4,c),this.Wa=ea("forwardChannelMaxRetries",2,c),this.wa=ea("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Xo(c&&c.concurrentRequestLimit),this.Da=new wi,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=qu.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,w){Qe(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Xu(this,null,this.W),qa(this)};function nl(c){if(Hu(c),c.G==3){var y=c.U++,v=Ae(c.I);if(Zt(v,"SID",c.K),Zt(v,"RID",y),Zt(v,"TYPE","terminate"),na(c,v),y=new ut(c,c.j,y),y.L=2,y.v=Js(Ae(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=$u(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ne(y)}al(c)}function Xr(c){c.g&&(sl(c),c.g.cancel(),c.g=null)}function Hu(c){Xr(c),c.u&&(m.clearTimeout(c.u),c.u=null),$r(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function qa(c){if(!$o(c.h)&&!c.s){c.s=!0;var y=c.Ga;st||Bt(),gt||(st(),gt=!0),Nt.add(y,c),c.B=0}}function Sf(c,y){return ku(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Oi(A(c.Ga,c,y),Ku(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new ut(this,this.j,c);let K=this.o;if(this.S&&(K?(K=b(K),M(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=il(this,z,y),v=Ae(this.I),Zt(v,"RID",c),Zt(v,"CVER",22),this.D&&Zt(v,"X-HTTP-Session-Id",this.D),na(this,v),K&&(this.O?y="headers="+encodeURIComponent(String(Zs(K)))+"&"+y:this.m&&Qr(v,this.m,K)),qr(this.h,z),this.Ua&&Zt(v,"TYPE","init"),this.P?(Zt(v,"$req",y),Zt(v,"SID","null"),z.T=!0,le(z,v,null)):le(z,v,y),this.G=2}}else this.G==3&&(c?Fu(this,c):this.i.length==0||$o(this.h)||Fu(this))};function Fu(c,y){var v;y?v=y.l:v=c.U++;const w=Ae(c.I);Zt(w,"SID",c.K),Zt(w,"RID",v),Zt(w,"AID",c.T),na(c,w),c.m&&c.o&&Qr(w,c.m,c.o),v=new ut(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=il(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),qr(c.h,v),le(v,w,y)}function na(c,y){c.H&&wt(c.H,function(v,w){Zt(y,w,v)}),c.l&&ka({},function(v,w){Zt(y,w,v)})}function il(c,y,v){v=Math.min(c.i.length,v);var w=c.l?A(c.l.Na,c.l,c):null;t:{var z=c.i;let K=-1;for(;;){const ct=["count="+v];K==-1?0<v?(K=z[0].g,ct.push("ofs="+K)):K=0:ct.push("ofs="+K);let re=!0;for(let Ue=0;Ue<v;Ue++){let zt=z[Ue].g;const We=z[Ue].map;if(zt-=K,0>zt)K=Math.max(0,z[Ue].g-100),re=!1;else try{el(We,ct,"req"+zt+"_")}catch{w&&w(We)}}if(re){w=ct.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,w}function Gu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;st||Bt(),gt||(st(),gt=!0),Nt.add(y,c),c.v=0}}function rl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Oi(A(c.Fa,c),Ku(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Oi(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qe(10),Xr(this),Qu(this))};function sl(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Qu(c){c.g=new ut(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Ae(c.qa);Zt(y,"RID","rpc"),Zt(y,"SID",c.K),Zt(y,"AID",c.T),Zt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Zt(y,"TO",c.ja),Zt(y,"TYPE","xmlhttp"),na(c,y),c.m&&c.o&&Qr(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Js(Ae(y)),v.m=null,v.P=!0,Xt(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Xr(this),rl(this),Qe(19))};function $r(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Yu(c,y){var v=null;if(c.g==y){$r(c),sl(c),c.g=null;var w=2}else if(Br(c.h,y))v=y.D,oi(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;w=jr(),Le(w,new Ys(w,v)),qa(c)}else Gu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(w==1&&Sf(c,y)||w==2&&rl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),z){case 1:ir(c,5);break;case 4:ir(c,10);break;case 3:ir(c,6);break;default:ir(c,2)}}}function Ku(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function ir(c,y){if(c.j.info("Error code "+y),y==2){var v=A(c.fb,c),w=c.Xa;const z=!w;w=new tr(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Hr(w,"https"),Js(w),z?tl(w.toString(),v):zu(w.toString(),v)}else Qe(2);c.G=0,c.l&&c.l.sa(y),al(c),Hu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function al(c){if(c.G=0,c.ka=[],c.l){const y=bn(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ka,y),q(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function Xu(c,y,v){var w=v instanceof tr?Ae(v):new tr(v);if(w.g!="")y&&(w.g=y+"."+w.g),$s(w,w.s);else{var z=m.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var K=new tr(null);w&&Hr(K,w),y&&(K.g=y),z&&$s(K,z),v&&(K.l=v),w=K}return v=c.D,y=c.ya,v&&y&&Zt(w,v,y),Zt(w,"VER",c.la),na(c,w),w}function $u(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new pe(new ki({eb:v})):new pe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}r=Ju.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ha(){}Ha.prototype.g=function(c,y){return new In(c,y)};function In(c,y){ne.call(this),this.g=new qu(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!lt(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!lt(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Jr(this)}B(In,ne),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){nl(this.g)},In.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=wn(c),c=v);y.i.push(new yf(y.Ya++,c)),y.G==3&&qa(y)},In.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,In.aa.N.call(this)};function Zu(c){xn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}B(Zu,xn);function Wu(){Je.call(this),this.status=1}B(Wu,Je);function Jr(c){this.g=c}B(Jr,Ju),Jr.prototype.ua=function(){Le(this.g,"a")},Jr.prototype.ta=function(c){Le(this.g,new Zu(c))},Jr.prototype.sa=function(c){Le(this.g,new Wu)},Jr.prototype.ra=function(){Le(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,a1=function(){return new Ha},s1=function(){return jr()},r1=xe,tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,_h=ie,C.COMPLETE="complete",i1=C,Zi.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Kl=Zi,pe.prototype.listenOnce=pe.prototype.L,pe.prototype.getLastError=pe.prototype.Ka,pe.prototype.getLastErrorCode=pe.prototype.Ba,pe.prototype.getStatus=pe.prototype.Z,pe.prototype.getResponseJson=pe.prototype.Oa,pe.prototype.getResponseText=pe.prototype.oa,pe.prototype.send=pe.prototype.ea,pe.prototype.setWithCredentials=pe.prototype.Ha,n1=pe}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const V0="@firebase/firestore",k0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new bp("@firebase/firestore");function vo(){return ba.logLevel}function dt(r,...t){if(ba.logLevel<=Qt.DEBUG){const n=t.map(jp);ba.debug(`Firestore (${jo}): ${r}`,...n)}}function Nr(r,...t){if(ba.logLevel<=Qt.ERROR){const n=t.map(jp);ba.error(`Firestore (${jo}): ${r}`,...n)}}function ks(r,...t){if(ba.logLevel<=Qt.WARN){const n=t.map(jp);ba.warn(`Firestore (${jo}): ${r}`,...n)}}function jp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,o1(r,s,n)}function o1(r,t,n){let s=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Nr(s),new Error(s)}function Jt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||o1(t,o,s)}function xt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends kr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class JC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(En.UNAUTHENTICATED)))}shutdown(){}}class ZC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WC{constructor(t){this.t=t,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Jt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ir,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ir)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Jt(typeof s.accessToken=="string",31837,{l:s}),new l1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string",2055,{h:t}),new En(t)}}class tD{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eD{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new tD(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class P0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nD{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Jt(this.o===void 0,3512);const s=u=>{u.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,dt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new P0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new P0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=iD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function jt(r,t){return r<t?-1:r>t?1:0}function ep(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return jt(s,o);{const u=u1(),f=rD(u.encode(L0(r,n)),u.encode(L0(t,n)));return f!==0?f:jt(s,o)}}n+=s>65535?2:1}return jt(r.length,t.length)}function L0(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function rD(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return jt(r[n],t[n]);return jt(r.length,t.length)}function xo(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="__name__";class Bi{constructor(t,n,s){n===void 0?n=0:n>t.length&&St(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&St(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Bi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Bi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Bi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return jt(t.length,n.length)}static compareSegments(t,n){const s=Bi.isNumericId(t),o=Bi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Bi.extractNumericId(t).compare(Bi.extractNumericId(n)):ep(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ns.fromString(t.substring(4,t.length-2))}}class fe extends Bi{construct(t,n,s){return new fe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new fe(n)}static emptyPath(){return new fe([])}}const sD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Bi{construct(t,n,s){return new fn(t,n,s)}static isValidIdentifier(t){return sD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U0}static keyField(){return new fn([U0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ht(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ht(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ht(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(fe.fromString(t))}static fromName(t){return new _t(fe.fromString(t).popFirst(5))}static empty(){return new _t(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return fe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new fe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(r,t,n){if(!n)throw new ht(et.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function aD(r,t,n,s){if(t===!0&&s===!0)throw new ht(et.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function z0(r){if(!_t.isDocumentKey(r))throw new ht(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function j0(r){if(_t.isDocumentKey(r))throw new ht(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function h1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function tf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":St(12329,{type:typeof r})}function ii(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tf(r);throw new ht(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(r,t){const n={typeString:r};return t&&(n.value=t),n}function wu(r,t){if(!h1(r))throw new ht(et.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ht(et.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=-62135596800,q0=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(t){return _e.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*q0);return new _e(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<B0)throw new ht(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q0}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(wu(t,_e._jsonSchema))return new _e(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-B0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:Ge("string",_e._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new _e(0,0))}static max(){return new It(new _e(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function oD(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=It.fromTimestamp(s===1e9?new _e(n+1,0):new _e(n,s));return new Ps(o,_t.empty(),t)}function lD(r){return new Ps(r.readTime,r.key,lu)}class Ps{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ps(It.min(),_t.empty(),lu)}static max(){return new Ps(It.max(),_t.empty(),lu)}}function uD(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=_t.comparator(r.documentKey,t.documentKey),n!==0?n:jt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(r){if(r.code!==et.FAILED_PRECONDITION||r.message!==cD)throw r;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new rt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof rt?n:rt.resolve(n)}catch(n){return rt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):rt.reject(n)}static resolve(t){return new rt(((n,s)=>{n(t)}))}static reject(t){return new rt(((n,s)=>{s(t)}))}static waitFor(t){return new rt(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=rt.resolve(!1);for(const s of t)n=n.next((o=>o?rt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new rt(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new rt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function fD(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}ef.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=-1;function Au(r){return r==null}function Vh(r){return r===0&&1/r==-1/0}function dD(r){return typeof r=="number"&&Number.isInteger(r)&&!Vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="";function mD(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=H0(t)),t=pD(r.get(n),t);return H0(t)}function pD(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case f1:n+="";break;default:n+=u}}return n}function H0(r){return r+f1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Hs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function d1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t,n){this.comparator=t,this.root=n||hn.EMPTY}insert(t,n){return new Se(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(t){return new Se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lh(this.root,t,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lh(this.root,t,this.comparator,!0)}}class lh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class hn{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??hn.RED,this.left=o??hn.EMPTY,this.right=u??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new hn(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new hn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.comparator=t,this.data=new Se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new G0(this.data.getIterator())}getIteratorFrom(t){return new G0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof $e)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new $e(this.comparator);return n.data=t,n}}class G0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t){this.fields=t,t.sort(fn.comparator)}static empty(){return new ni([])}unionWith(t){let n=new $e(fn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new ni(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return xo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new m1("Invalid base64 string: "+u):u}})(t);return new dn(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new dn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const gD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(r){if(Jt(!!r,39018),typeof r=="string"){let t=0;const n=gD.exec(r);if(Jt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ve(r.seconds),nanos:Ve(r.nanos)}}function Ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Us(r){return typeof r=="string"?dn.fromBase64String(r):dn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="server_timestamp",g1="__type__",y1="__previous_value__",_1="__local_write_time__";function Hp(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[g1])===null||n===void 0?void 0:n.stringValue)===p1}function nf(r){const t=r.mapValue.fields[y1];return Hp(t)?nf(t):t}function uu(r){const t=Ls(r.mapValue.fields[_1].timestampValue);return new _e(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t,n,s,o,u,f,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const kh="(default)";class cu{constructor(t,n){this.projectId=t,this.database=n||kh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===kh}isEqual(t){return t instanceof cu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="__type__",_D="__max__",uh={mapValue:{}},E1="__vector__",Ph="value";function zs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hp(r)?4:ED(r)?9007199254740991:vD(r)?10:11:St(28295,{value:r})}function Yi(r,t){if(r===t)return!0;const n=zs(r);if(n!==zs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return uu(r).isEqual(uu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ls(o.timestampValue),m=Ls(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Us(o.bytesValue).isEqual(Us(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ve(o.geoPointValue.latitude)===Ve(u.geoPointValue.latitude)&&Ve(o.geoPointValue.longitude)===Ve(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ve(o.integerValue)===Ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ve(o.doubleValue),m=Ve(u.doubleValue);return f===m?Vh(f)===Vh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return xo(r.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(F0(f)!==F0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Yi(f[p],m[p])))return!1;return!0})(r,t);default:return St(52216,{left:r})}}function hu(r,t){return(r.values||[]).find((n=>Yi(n,t)))!==void 0}function No(r,t){if(r===t)return 0;const n=zs(r),s=zs(t);if(n!==s)return jt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Ve(u.integerValue||u.doubleValue),p=Ve(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return Q0(r.timestampValue,t.timestampValue);case 4:return Q0(uu(r),uu(t));case 5:return ep(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=Us(u),p=Us(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=jt(m[g],p[g]);if(E!==0)return E}return jt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=jt(Ve(u.latitude),Ve(f.latitude));return m!==0?m:jt(Ve(u.longitude),Ve(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Y0(r.arrayValue,t.arrayValue);case 10:return(function(u,f){var m,p,g,E;const T=u.fields||{},A=f.fields||{},V=(m=T[Ph])===null||m===void 0?void 0:m.arrayValue,B=(p=A[Ph])===null||p===void 0?void 0:p.arrayValue,X=jt(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((E=B==null?void 0:B.values)===null||E===void 0?void 0:E.length)||0);return X!==0?X:Y0(V,B)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===uh.mapValue&&f===uh.mapValue)return 0;if(u===uh.mapValue)return 1;if(f===uh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=ep(p[T],E[T]);if(A!==0)return A;const V=No(m[p[T]],g[E[T]]);if(V!==0)return V}return jt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw St(23264,{le:n})}}function Q0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return jt(r,t);const n=Ls(r),s=Ls(t),o=jt(n.seconds,s.seconds);return o!==0?o:jt(n.nanos,s.nanos)}function Y0(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=No(n[o],s[o]);if(u)return u}return jt(n.length,s.length)}function Oo(r){return np(r)}function np(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Ls(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Us(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _t.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=np(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${np(n.fields[f])}`;return o+"}"})(r.mapValue):St(61005,{value:r})}function vh(r){switch(zs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nf(r);return t?16+vh(t):16;case 5:return 2*r.stringValue.length;case 6:return Us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+vh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Hs(s.fields,((u,f)=>{o+=u.length+vh(f)})),o})(r.mapValue);default:throw St(13486,{value:r})}}function K0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function ip(r){return!!r&&"integerValue"in r}function Fp(r){return!!r&&"arrayValue"in r}function X0(r){return!!r&&"nullValue"in r}function $0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Eh(r){return!!r&&"mapValue"in r}function vD(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[v1])===null||n===void 0?void 0:n.stringValue)===E1}function tu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Hs(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=tu(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tu(r.arrayValue.values[n]);return t}return Object.assign({},r)}function ED(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===_D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.value=t}static empty(){return new Dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Eh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=tu(n)}setAll(t){let n=fn.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=tu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Yi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Hs(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Dn(tu(this.value))}}function T1(r){const t=[];return Hs(r.fields,((n,s)=>{const o=new fn([n]);if(Eh(s)){const u=T1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new ni(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new sn(t,0,It.min(),It.min(),It.min(),Dn.empty(),0)}static newFoundDocument(t,n,s,o){return new sn(t,1,n,It.min(),s,o,0)}static newNoDocument(t,n){return new sn(t,2,n,It.min(),It.min(),Dn.empty(),0)}static newUnknownDocument(t,n){return new sn(t,3,n,It.min(),It.min(),Dn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,n){this.position=t,this.inclusive=n}}function J0(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=_t.comparator(_t.fromName(f.referenceValue),n.key):s=No(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Z0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Yi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,n="asc"){this.field=t,this.dir=n}}function TD(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{}class Fe extends S1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new wD(t,n,s):n==="array-contains"?new RD(t,s):n==="in"?new ID(t,s):n==="not-in"?new CD(t,s):n==="array-contains-any"?new DD(t,s):new Fe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new AD(t,s):new bD(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(No(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends S1{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new Di(t,n)}matches(t){return w1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function w1(r){return r.op==="and"}function A1(r){return SD(r)&&w1(r)}function SD(r){for(const t of r.filters)if(t instanceof Di)return!1;return!0}function rp(r){if(r instanceof Fe)return r.field.canonicalString()+r.op.toString()+Oo(r.value);if(A1(r))return r.filters.map((t=>rp(t))).join(",");{const t=r.filters.map((n=>rp(n))).join(",");return`${r.op}(${t})`}}function b1(r,t){return r instanceof Fe?(function(s,o){return o instanceof Fe&&s.op===o.op&&s.field.isEqual(o.field)&&Yi(s.value,o.value)})(r,t):r instanceof Di?(function(s,o){return o instanceof Di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&b1(f,o.filters[m])),!0):!1})(r,t):void St(19439)}function R1(r){return r instanceof Fe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`})(r):r instanceof Di?(function(n){return n.op.toString()+" {"+n.getFilters().map(R1).join(" ,")+"}"})(r):"Filter"}class wD extends Fe{constructor(t,n,s){super(t,n,s),this.key=_t.fromName(s.referenceValue)}matches(t){const n=_t.comparator(t.key,this.key);return this.matchesComparison(n)}}class AD extends Fe{constructor(t,n){super(t,"in",n),this.keys=I1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class bD extends Fe{constructor(t,n){super(t,"not-in",n),this.keys=I1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function I1(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>_t.fromName(s.referenceValue)))}class RD extends Fe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Fp(n)&&hu(n.arrayValue,this.value)}}class ID extends Fe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class CD extends Fe{constructor(t,n){super(t,"not-in",n)}matches(t){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hu(this.value.arrayValue,n)}}class DD extends Fe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Fp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>hu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function W0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new xD(r,t,n,s,o,u,f)}function Gp(r){const t=xt(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>rp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Au(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Oo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Oo(s))).join(",")),t.Pe=n}return t.Pe}function Qp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!TD(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!b1(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Z0(r.startAt,t.startAt)&&Z0(r.endAt,t.endAt)}function sp(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function ND(r,t,n,s,o,u,f,m){return new bu(r,t,n,s,o,u,f,m)}function Yp(r){return new bu(r)}function tE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function C1(r){return r.collectionGroup!==null}function eu(r){const t=xt(r);if(t.Te===null){t.Te=[];const n=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new $e(fn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Te.push(new Uh(u,s))})),n.has(fn.keyField().canonicalString())||t.Te.push(new Uh(fn.keyField(),s))}return t.Te}function Hi(r){const t=xt(r);return t.Ie||(t.Ie=OD(t,eu(r))),t.Ie}function OD(r,t){if(r.limitType==="F")return W0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Uh(o.field,u)}));const n=r.endAt?new Lh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Lh(r.startAt.position,r.startAt.inclusive):null;return W0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function ap(r,t){const n=r.filters.concat([t]);return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function op(r,t,n){return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function rf(r,t){return Qp(Hi(r),Hi(t))&&r.limitType===t.limitType}function D1(r){return`${Gp(Hi(r))}|lt:${r.limitType}`}function Eo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>R1(o))).join(", ")}]`),Au(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Oo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Oo(o))).join(",")),`Target(${s})`})(Hi(r))}; limitType=${r.limitType})`}function sf(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_t.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=J0(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,eu(s),o)||s.endAt&&!(function(f,m,p){const g=J0(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,eu(s),o))})(r,t)}function MD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function x1(r){return(t,n)=>{let s=!1;for(const o of eu(r)){const u=VD(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function VD(r,t,n){const s=r.field.isKeyField()?_t.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?No(p,g):St(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return St(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Hs(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return d1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Se(_t.comparator);function Or(){return kD}const N1=new Se(_t.comparator);function Xl(...r){let t=N1;for(const n of r)t=t.insert(n.key,n);return t}function O1(r){let t=N1;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ta(){return nu()}function M1(){return nu()}function nu(){return new Ca((r=>r.toString()),((r,t)=>r.isEqual(t)))}const PD=new Se(_t.comparator),LD=new $e(_t.comparator);function Yt(...r){let t=LD;for(const n of r)t=t.add(n);return t}const UD=new $e(jt);function zD(){return UD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(t)?"-0":t}}function V1(r){return{integerValue:""+r}}function k1(r,t){return dD(t)?V1(t):Kp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this._=void 0}}function jD(r,t,n){return r instanceof zh?(function(o,u){const f={fields:{[g1]:{stringValue:p1},[_1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Hp(u)&&(u=nf(u)),u&&(f.fields[y1]=u),{mapValue:f}})(n,t):r instanceof Mo?L1(r,t):r instanceof fu?U1(r,t):(function(o,u){const f=P1(o,u),m=eE(f)+eE(o.Ee);return ip(f)&&ip(o.Ee)?V1(m):Kp(o.serializer,m)})(r,t)}function BD(r,t,n){return r instanceof Mo?L1(r,t):r instanceof fu?U1(r,t):n}function P1(r,t){return r instanceof du?(function(s){return ip(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class zh extends af{}class Mo extends af{constructor(t){super(),this.elements=t}}function L1(r,t){const n=z1(t);for(const s of r.elements)n.some((o=>Yi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class fu extends af{constructor(t){super(),this.elements=t}}function U1(r,t){let n=z1(t);for(const s of r.elements)n=n.filter((o=>!Yi(o,s)));return{arrayValue:{values:n}}}class du extends af{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function eE(r){return Ve(r.integerValue||r.doubleValue)}function z1(r){return Fp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,n){this.field=t,this.transform=n}}function qD(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Mo&&o instanceof Mo||s instanceof fu&&o instanceof fu?xo(s.elements,o.elements,Yi):s instanceof du&&o instanceof du?Yi(s.Ee,o.Ee):s instanceof zh&&o instanceof zh})(r.transform,t.transform)}class HD{constructor(t,n){this.version=t,this.transformResults=n}}class Xe{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Xe}static exists(t){return new Xe(void 0,t)}static updateTime(t){return new Xe(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Th(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class of{}function B1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Iu(r.key,Xe.none()):new Ru(r.key,r.data,Xe.none());{const n=r.data,s=Dn.empty();let o=new $e(fn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Fs(r.key,s,new ni(o.toArray()),Xe.none())}}function FD(r,t,n){r instanceof Ru?(function(o,u,f){const m=o.value.clone(),p=iE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof Fs?(function(o,u,f){if(!Th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=iE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(q1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function iu(r,t,n,s){return r instanceof Ru?(function(u,f,m,p){if(!Th(u.precondition,f))return m;const g=u.value.clone(),E=rE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,t,n,s):r instanceof Fs?(function(u,f,m,p){if(!Th(u.precondition,f))return m;const g=rE(u.fieldTransforms,p,f),E=f.data;return E.setAll(q1(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,f,m){return Th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function GD(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=P1(s.transform,o||null);u!=null&&(n===null&&(n=Dn.empty()),n.set(s.field,u))}return n||null}function nE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&xo(s,o,((u,f)=>qD(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ru extends of{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fs extends of{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function q1(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function iE(r,t,n){const s=new Map;Jt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,BD(f,m,n[o]))}return s}function rE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,jD(u,f,t))}return s}class Iu extends of{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H1 extends of{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&FD(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=iu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=iu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=M1();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=B1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(It.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Yt())}isEqual(t){return this.batchId===t.batchId&&xo(this.mutations,t.mutations,((n,s)=>nE(n,s)))&&xo(this.baseMutations,t.baseMutations,((n,s)=>nE(n,s)))}}class Xp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Jt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=(function(){return PD})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Xp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,$t;function F1(r){switch(r){case et.OK:return St(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return St(15467,{code:r})}}function G1(r){if(r===void 0)return Nr("GRPC error has no .code"),et.UNKNOWN;switch(r){case He.OK:return et.OK;case He.CANCELLED:return et.CANCELLED;case He.UNKNOWN:return et.UNKNOWN;case He.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case He.INTERNAL:return et.INTERNAL;case He.UNAVAILABLE:return et.UNAVAILABLE;case He.UNAUTHENTICATED:return et.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case He.NOT_FOUND:return et.NOT_FOUND;case He.ALREADY_EXISTS:return et.ALREADY_EXISTS;case He.PERMISSION_DENIED:return et.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case He.ABORTED:return et.ABORTED;case He.OUT_OF_RANGE:return et.OUT_OF_RANGE;case He.UNIMPLEMENTED:return et.UNIMPLEMENTED;case He.DATA_LOSS:return et.DATA_LOSS;default:return St(39323,{code:r})}}($t=He||(He={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new Ns([4294967295,4294967295],0);function sE(r){const t=u1().encode(r),n=new e1;return n.update(t),new Uint8Array(n.digest())}function aE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ns([n,s],0),new Ns([o,u],0)]}class $p{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(s<0)throw new $l(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Ns.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(Ns.fromNumber(s)));return o.compare(XD)===1&&(o=new Ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=sE(t),[s,o]=aE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new $p(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.fe===0)return;const n=sE(t),[s,o]=aE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Cu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new lf(It.min(),o,new Se(jt),Or(),Yt())}}class Cu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Cu(s,n,Yt(),Yt(),Yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class Q1{constructor(t,n){this.targetId=t,this.De=n}}class Y1{constructor(t,n,s=dn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class oE{constructor(){this.ve=0,this.Ce=lE(),this.Fe=dn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Yt(),n=Yt(),s=Yt();return this.Ce.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:St(38017,{changeType:u})}})),new Cu(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=lE()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class $D{constructor(t){this.We=t,this.Ge=new Map,this.ze=Or(),this.je=ch(),this.Je=ch(),this.He=new Se(jt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,(n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const u=o.target;if(sp(u))if(s===0){const f=new _t(u.path);this.Xe(n,f,sn.newNoDocument(f,It.min()))}else Jt(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(t),p=m?this.ut(m,t,f):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Us(s).toUint8Array()}catch(p){if(p instanceof m1)return ks("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new $p(f,o,u)}catch(p){return ks(p instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(t){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&sp(m.target)){const p=new _t(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,sn.newNoDocument(p,t))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=Yt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(t)));const o=new lf(t,n,this.He,this.ze,s);return this.ze=Or(),this.je=ch(),this.Je=ch(),this.He=new Se(jt),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new oE,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new $e(jt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new $e(jt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||dt("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new oE),this.We.getRemoteKeysForTarget(t).forEach((n=>{this.Xe(t,n,null)}))}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function ch(){return new Se(_t.comparator)}function lE(){return new Se(_t.comparator)}const JD={asc:"ASCENDING",desc:"DESCENDING"},ZD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WD={and:"AND",or:"OR"};class tx{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function lp(r,t){return r.useProto3Json||Au(t)?t:{value:t}}function jh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function K1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function ex(r,t){return jh(r,t.toTimestamp())}function ri(r){return Jt(!!r,49232),It.fromTimestamp((function(n){const s=Ls(n);return new _e(s.seconds,s.nanos)})(r))}function Jp(r,t){return up(r,t).canonicalString()}function up(r,t){const n=(function(o){return new fe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function X1(r){const t=fe.fromString(r);return Jt(eS(t),10190,{key:t.toString()}),t}function Bh(r,t){return Jp(r.databaseId,t.path)}function ru(r,t){const n=X1(t);if(n.get(1)!==r.databaseId.projectId)throw new ht(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ht(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _t(J1(n))}function $1(r,t){return Jp(r.databaseId,t)}function nx(r){const t=X1(r);return t.length===4?fe.emptyPath():J1(t)}function cp(r){return new fe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function J1(r){return Jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function uE(r,t,n){return{name:Bh(r,t),fields:n.value.mapValue.fields}}function ix(r,t){return"found"in t?(function(s,o){Jt(!!o.found,43571),o.found.name,o.found.updateTime;const u=ru(s,o.found.name),f=ri(o.found.updateTime),m=o.found.createTime?ri(o.found.createTime):It.min(),p=new Dn({mapValue:{fields:o.found.fields}});return sn.newFoundDocument(u,f,m,p)})(r,t):"missing"in t?(function(s,o){Jt(!!o.missing,3894),Jt(!!o.readTime,22933);const u=ru(s,o.missing),f=ri(o.readTime);return sn.newNoDocument(u,f)})(r,t):St(7234,{result:t})}function rx(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Jt(E===void 0||typeof E=="string",58123),dn.fromBase64String(E||"")):(Jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),dn.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?et.UNKNOWN:G1(g.code);return new ht(E,g.message||"")})(f);n=new Y1(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=ru(r,s.document.name),u=ri(s.document.updateTime),f=s.document.createTime?ri(s.document.createTime):It.min(),m=new Dn({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Sh(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=ru(r,s.document),u=s.readTime?ri(s.readTime):It.min(),f=sn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Sh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=ru(r,s.document),u=s.removedTargetIds||[];n=new Sh([],u,o,null)}else{if(!("filter"in t))return St(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new KD(o,u),m=s.targetId;n=new Q1(m,f)}}return n}function Z1(r,t){let n;if(t instanceof Ru)n={update:uE(r,t.key,t.value)};else if(t instanceof Iu)n={delete:Bh(r,t.key)};else if(t instanceof Fs)n={update:uE(r,t.key,t.data),updateMask:dx(t.fieldMask)};else{if(!(t instanceof H1))return St(16599,{Rt:t.type});n={verify:Bh(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof zh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Mo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof du)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw St(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ex(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:St(27497)})(r,t.precondition)),n}function sx(r,t){return r&&r.length>0?(Jt(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?ri(o.updateTime):ri(u);return f.isEqual(It.min())&&(f=ri(u)),new HD(f,o.transformResults||[])})(n,t)))):[]}function ax(r,t){return{documents:[$1(r,t.path)]}}function ox(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=$1(r,o);const u=(function(g){if(g.length!==0)return tS(Di.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:To(A.field),direction:cx(A.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=lp(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{Vt:n,parent:o}}function lx(r){let t=nx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Jt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const A=W1(T);return A instanceof Di&&A1(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((A=>(function(B){return new Uh(So(B.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Au(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,V=T.values||[];return new Lh(V,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,V=T.values||[];return new Lh(V,A)})(n.endAt)),ND(t,o,f,u,m,"F",p,g)}function ux(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function W1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=So(n.unaryFilter.field);return Fe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=So(n.unaryFilter.field);return Fe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=So(n.unaryFilter.field);return Fe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=So(n.unaryFilter.field);return Fe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Fe.create(So(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Di.create(n.compositeFilter.filters.map((s=>W1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(n.compositeFilter.op))})(r):St(30097,{filter:r})}function cx(r){return JD[r]}function hx(r){return ZD[r]}function fx(r){return WD[r]}function To(r){return{fieldPath:r.canonicalString()}}function So(r){return fn.fromServerFormat(r.fieldPath)}function tS(r){return r instanceof Fe?(function(n){if(n.op==="=="){if($0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(X0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(X0(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:hx(n.op),value:n.value}}})(r):r instanceof Di?(function(n){const s=n.getFilters().map((o=>tS(o)));return s.length===1?s[0]:{compositeFilter:{op:fx(n.op),filters:s}}})(r):St(54877,{filter:r})}function dx(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function eS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(t,n,s,o,u=It.min(),f=It.min(),m=dn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new bs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(t){this.gt=t}}function px(r){const t=lx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?op(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.Dn=new yx}addToCollectionParentIndex(t,n){return this.Dn.add(n),rt.resolve()}getCollectionParents(t,n){return rt.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return rt.resolve()}deleteFieldIndex(t,n){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,n){return rt.resolve()}getDocumentsMatchingTarget(t,n){return rt.resolve(null)}getIndexType(t,n){return rt.resolve(0)}getFieldIndexes(t,n){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,n){return rt.resolve(Ps.min())}getMinOffsetFromCollectionGroup(t,n){return rt.resolve(Ps.min())}updateCollectionGroup(t,n,s){return rt.resolve()}updateIndexEntries(t,n){return rt.resolve()}}class yx{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new $e(fe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new $e(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nS=41943040;class jn{static withCacheSize(t){return new jn(t,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(nS,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Vo(0)}static ur(){return new Vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="LruGarbageCollector",_x=1048576;function fE([r,t],[n,s]){const o=jt(r,n);return o===0?jt(t,s):o}class vx{constructor(t){this.Tr=t,this.buffer=new $e(fE),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();fE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ex{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){dt(hE,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qo(n)?dt(hE,"Ignoring IndexedDB error during garbage collection: ",n):await Bo(n)}await this.Rr(3e5)}))}}class Tx{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return rt.resolve(ef.ue);const s=new vx(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(cE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cE):this.pr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),vo()<=Qt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function Sx(r,t){return new Tx(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.changes=new Ca((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?rt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&iu(s.mutation,o,ni.empty(),_e.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Yt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Yt()){const o=Ta();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Xl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Ta();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Yt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=Or();const f=nu(),m=(function(){return nu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Fs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),iu(E.mutation,g,E.mutation.getFieldMask(),_e.now())):f.set(g.key,ni.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>{var T;return m.set(g,new Ax(E,(T=f.get(g))!==null&&T!==void 0?T:null))})),m)))}recalculateAndSaveOverlays(t,n){const s=nu();let o=new Se(((f,m)=>f-m)),u=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||ni.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Yt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=M1();E.forEach((A=>{if(!u.has(A)){const V=B1(n.get(A),s.get(A));V!==null&&T.set(A,V),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,T))}return rt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return _t.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):C1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):rt.resolve(Ta());let m=lu,p=u;return f.next((g=>rt.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?rt.resolve():this.remoteDocumentCache.getEntry(t,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Yt()))).next((E=>({batchId:m,changes:O1(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new _t(n)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Xl();return this.indexManager.getCollectionParents(t,u).next((m=>rt.forEach(m,(p=>{const g=(function(T,A){return new bu(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((E=>{E.forEach(((T,A)=>{f=f.insert(T,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,sn.newInvalidDocument(E)))}));let m=Xl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&iu(E.mutation,g,ni.empty(),_e.now()),sf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return rt.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}})(n)),rt.resolve()}getNamedQuery(t,n){return rt.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:px(o.bundledQuery),readTime:ri(o.readTime)}})(n)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.overlays=new Se(_t.comparator),this.kr=new Map}getOverlay(t,n){return rt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ta();return rt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.wt(t,n,u)})),rt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),rt.resolve()}getOverlaysForCollection(t,n,s){const o=Ta(),u=n.length+1,f=new _t(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return rt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new Se(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ta(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ta(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return rt.resolve(m)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new YD(n,s));let u=this.kr.get(n);u===void 0&&(u=Yt(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.qr=new $e(rn.Qr),this.$r=new $e(rn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new rn(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new rn(t,n))}Gr(t,n){t.forEach((s=>this.removeReference(s,n)))}zr(t){const n=new _t(new fe([])),s=new rn(n,t),o=new rn(n,t+1),u=[];return this.$r.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new _t(new fe([])),s=new rn(n,t),o=new rn(n,t+1);let u=Yt();return this.$r.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new rn(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class rn{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return _t.comparator(t.key,n.key)||jt(t.Hr,n.Hr)}static Ur(t,n){return jt(t.Hr,n.Hr)||_t.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new $e(rn.Qr)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new QD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new rn(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return rt.resolve(f)}lookupMutationBatch(t,n){return rt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return rt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?qp:this.er-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new rn(n,0),o=new rn(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),rt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new $e(jt);return n.forEach((o=>{const u=new rn(o,0),f=new rn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),rt.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;_t.isDocumentKey(u)||(u=u.child(""));const f=new rn(new _t(u),0);let m=new $e(jt);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),f),rt.resolve(this.ei(m))}ei(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Jt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return rt.forEach(n.mutations,(o=>{const u=new rn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Yr=s}))}rr(t){}containsKey(t,n){const s=new rn(n,0),o=this.Yr.firstAfterOrEqual(s);return rt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t){this.ni=t,this.docs=(function(){return new Se(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return rt.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(t,n){let s=Or();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),rt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Or();const f=n.path,m=new _t(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||uD(lD(E),s)<=0||(o.has(E.key)||sf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return rt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){St(9500)}ri(t,n){return rt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new Nx(this)}getSize(t){return rt.resolve(this.size)}}class Nx extends wx{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)})),rt.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t){this.persistence=t,this.ii=new Ca((n=>Gp(n)),Qp),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.si=0,this.oi=new Zp,this.targetCount=0,this._i=Vo.ar()}forEachTarget(t,n){return this.ii.forEach(((s,o)=>n(o))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),rt.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Vo(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,rt.resolve()}updateTargetData(t,n){return this.hr(n),rt.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),rt.waitFor(u).next((()=>o))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return rt.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),rt.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),rt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),rt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return rt.resolve(s)}containsKey(t,n){return rt.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(t,n){this.ai={},this.overlays={},this.ui=new ef(0),this.ci=!1,this.ci=!0,this.li=new Cx,this.referenceDelegate=t(this),this.hi=new Ox(this),this.indexManager=new gx,this.remoteDocumentCache=(function(o){return new xx(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new mx(n),this.Ti=new Rx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Ix,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new Dx(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){dt("MemoryPersistence","Starting transaction:",t);const o=new Mx(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return rt.or(Object.values(this.ai).map((s=>()=>s.containsKey(t,n))))}}class Mx extends hD{constructor(t){super(),this.currentSequenceNumber=t}}class Wp{constructor(t){this.persistence=t,this.Ai=new Zp,this.Ri=null}static Vi(t){return new Wp(t)}get mi(){if(this.Ri)return this.Ri;throw St(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),rt.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),rt.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),rt.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.mi,(s=>{const o=_t.fromPath(s);return this.fi(t,o).next((u=>{u||n.removeEntry(o,It.min())}))})).next((()=>(this.Ri=null,n.apply(t))))}updateLimboDocument(t,n){return this.fi(t,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(t){return 0}fi(t,n){return rt.or([()=>rt.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class qh{constructor(t,n){this.persistence=t,this.gi=new Ca((s=>mD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Sx(this,n)}static Vi(t,n){return new qh(t,n)}Ii(){}di(t){return rt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}yr(t){let n=0;return this.gr(t,(s=>{n++})).next((()=>n))}gr(t,n){return rt.forEach(this.gi,((s,o)=>this.Sr(t,s,o).next((u=>u?rt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,(f=>this.Sr(t,f,n).next((m=>{m||(s++,u.removeEntry(f,It.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),rt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),rt.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),rt.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=vh(t.data.value)),n}Sr(t,n,s){return rt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return rt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=Yt(),o=Yt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new tg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return kR()?8:fD(Tn())>0?6:4})()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ps(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new Vx;return this.ws(t,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(t,n,f,m.size)}))})).next((()=>u.result))}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(vo()<=Qt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),rt.resolve()):(vo()<=Qt.DEBUG&&dt("QueryEngine","Query:",Eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(vo()<=Qt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Hi(n))):rt.resolve())}ps(t,n){if(tE(n))return rt.resolve(null);let s=Hi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=op(n,null,"F"),s=Hi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Yt(...u);return this.gs.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,f,p.readTime)?this.ps(t,op(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ys(t,n,s,o){return tE(n)||o.isEqual(It.min())?rt.resolve(null):this.gs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?rt.resolve(null):(vo()<=Qt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(n)),this.vs(t,f,n,oD(o,lu)).next((m=>m)))}))}bs(t,n){let s=new $e(x1(t));return n.forEach(((o,u)=>{sf(t,u)&&(s=s.add(u))})),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,n,s){return vo()<=Qt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.gs.getDocumentsMatchingQuery(t,n,Ps.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="LocalStore",Px=3e8;class Lx{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new Se(jt),this.Ms=new Ca((u=>Gp(u)),Qp),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new bx(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Fs)))}}function Ux(r,t,n,s){return new Lx(r,t,n,s)}async function rS(r,t){const n=xt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Yt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function zx(r,t){const n=xt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,A=T.keys();let V=rt.resolve();return A.forEach((B=>{V=V.next((()=>E.getEntry(p,B))).next((X=>{const q=g.docVersions.get(B);Jt(q!==null,48541),X.version.compareTo(q)<0&&(T.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),E.addEntry(X)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Yt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function sS(r){const t=xt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.hi.getLastRemoteSnapshotVersion(n)))}function jx(r,t){const n=xt(r),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];t.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.hi.addMatchingKeys(u,E.addedDocuments,T))));let V=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?V=V.withResumeToken(dn.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(T,V),(function(X,q,at){return X.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=Px?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(A,V,E)&&m.push(n.hi.updateTargetData(u,V))}));let p=Or(),g=Yt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(Bx(u,f,t.documentUpdates).next((E=>{p=E.Ls,g=E.ks}))),!s.isEqual(It.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next((T=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return rt.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function Bx(r,t,n){let s=Yt(),o=Yt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=Or();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(It.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):dt(eg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:f,ks:o}}))}function qx(r,t){const n=xt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=qp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function Hx(r,t){const n=xt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,t).next((u=>u?(o=u,rt.resolve(o)):n.hi.allocateTargetId(s).next((f=>(o=new bs(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s}))}async function hp(r,t,n){const s=xt(r),o=s.Fs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!qo(f))throw f;dt(eg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function dE(r,t,n){const s=xt(r);let o=It.min(),u=Yt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=xt(p),A=T.Ms.get(E);return A!==void 0?rt.resolve(T.Fs.get(A)):T.hi.getTargetData(g,E)})(s,f,Hi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:It.min(),n?u:Yt()))).next((m=>(Fx(s,MD(t),m),{documents:m,qs:u})))))}function Fx(r,t,n){let s=r.xs.get(t)||It.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(t,s)}class mE{constructor(){this.activeTargetIds=zD()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Gx{constructor(){this.Fo=new mE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new mE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="ConnectivityMonitor";class gE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){dt(pE,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){dt(pE,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function fp(){return hh===null?hh=(function(){return 268435456+Math.round(2147483648*Math.random())})():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="RestConnection",Yx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kx{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=fp(),m=this.Go(t,n.toUriEncodedString());dt(Om,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=Lo(g);return this.jo(t,m,p,s,E).then((T=>(dt(Om,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw ks(Om,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}zo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Go(t,n){const s=Yx[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class $x extends Kx{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,u){const f=fp();return new Promise(((m,p)=>{const g=new n1;g.setWithCredentials(!0),g.listenOnce(i1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case _h.NO_ERROR:const T=g.getResponseJson();dt(vn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case _h.TIMEOUT:dt(vn,`RPC '${t}' ${f} timed out`),p(new ht(et.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const A=g.getStatus();if(dt(vn,`RPC '${t}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const B=V==null?void 0:V.error;if(B&&B.status&&B.message){const X=(function(at){const lt=at.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(lt)>=0?lt:et.UNKNOWN})(B.status);p(new ht(X,B.message))}else p(new ht(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ht(et.UNAVAILABLE,"Connection failed."));break;default:St(9055,{c_:t,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{dt(vn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);dt(vn,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}P_(t,n,s){const o=fp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=a1(),m=s1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");dt(vn,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.T_(T);let A=!1,V=!1;const B=new Xx({Ho:q=>{V?dt(vn,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(A||(dt(vn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),A=!0),dt(vn,`RPC '${t}' stream ${o} sending:`,q),T.send(q))},Yo:()=>T.close()}),X=(q,at,lt)=>{q.listen(at,(it=>{try{lt(it)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return X(T,Kl.EventType.OPEN,(()=>{V||(dt(vn,`RPC '${t}' stream ${o} transport opened.`),B.s_())})),X(T,Kl.EventType.CLOSE,(()=>{V||(V=!0,dt(vn,`RPC '${t}' stream ${o} transport closed`),B.__(),this.I_(T))})),X(T,Kl.EventType.ERROR,(q=>{V||(V=!0,ks(vn,`RPC '${t}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),B.__(new ht(et.UNAVAILABLE,"The operation could not be completed")))})),X(T,Kl.EventType.MESSAGE,(q=>{var at;if(!V){const lt=q.data[0];Jt(!!lt,16349);const it=lt,Tt=(it==null?void 0:it.error)||((at=it[0])===null||at===void 0?void 0:at.error);if(Tt){dt(vn,`RPC '${t}' stream ${o} received error:`,Tt);const Mt=Tt.status;let wt=(function(R){const M=He[R];if(M!==void 0)return G1(M)})(Mt),x=Tt.message;wt===void 0&&(wt=et.INTERNAL,x="Unknown error status: "+Mt+" with message "+Tt.message),V=!0,B.__(new ht(wt,x)),T.close()}else dt(vn,`RPC '${t}' stream ${o} received:`,lt),B.a_(lt)}})),X(m,r1.STAT_EVENT,(q=>{q.stat===tp.PROXY?dt(vn,`RPC '${t}' stream ${o} detected buffering proxy`):q.stat===tp.NOPROXY&&dt(vn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.o_()}),0),B}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((n=>n===t))}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(r){return new tx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&dt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="PersistentStream";class aS{constructor(t,n,s,o,u,f,m,p){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ng(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{t((()=>{const o=new ht(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return dt(yE,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget((()=>this.b_===t?n():(dt(yE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jx extends aS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=rx(this.serializer,t),s=(function(u){if(!("targetChange"in u))return It.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?It.min():f.readTime?ri(f.readTime):It.min()})(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=cp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=sp(p)?{documents:ax(u,p)}:{query:ox(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=K1(u,f.resumeToken);const g=lp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(It.min())>0){m.readTime=jh(u,f.snapshotVersion.toTimestamp());const g=lp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=ux(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=cp(this.serializer),n.removeTarget=t,this.k_(n)}}class Zx extends aS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return Jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=sx(t.writeResults,t.commitTime),s=ri(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=cp(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>Z1(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{}class tN extends Wx{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ht(et.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,up(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(et.UNKNOWN,u.toString())}))}Jo(t,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(t,up(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(et.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class eN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Nr(n),this._a=!1):dt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="RemoteStore";class nN{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{Da(this)&&(dt(Ra,"Restarting streams for network reachability change."),await(async function(p){const g=xt(p);g.Ia.add(4),await Du(g),g.Aa.set("Unknown"),g.Ia.delete(4),await cf(g)})(this))}))})),this.Aa=new eN(s,o)}}async function cf(r){if(Da(r))for(const t of r.da)await t(!0)}async function Du(r){for(const t of r.da)await t(!1)}function oS(r,t){const n=xt(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),ag(n)?sg(n):Ho(n).x_()&&rg(n,t))}function ig(r,t){const n=xt(r),s=Ho(n);n.Ta.delete(t),s.x_()&&lS(n,t),n.Ta.size===0&&(s.x_()?s.B_():Da(n)&&n.Aa.set("Unknown"))}function rg(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ho(r).H_(t)}function lS(r,t){r.Ra.$e(t),Ho(r).Y_(t)}function sg(r){r.Ra=new $D({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),Ho(r).start(),r.Aa.aa()}function ag(r){return Da(r)&&!Ho(r).M_()&&r.Ta.size>0}function Da(r){return xt(r).Ia.size===0}function uS(r){r.Ra=void 0}async function iN(r){r.Aa.set("Online")}async function rN(r){r.Ta.forEach(((t,n)=>{rg(r,t)}))}async function sN(r,t){uS(r),ag(r)?(r.Aa.la(t),sg(r)):r.Aa.set("Unknown")}async function aN(r,t,n){if(r.Aa.set("Online"),t instanceof Y1&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))})(r,t)}catch(s){dt(Ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Hh(r,s)}else if(t instanceof Sh?r.Ra.Ye(t):t instanceof Q1?r.Ra.it(t):r.Ra.et(t),!n.isEqual(It.min()))try{const s=await sS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(dn.EMPTY_BYTE_STRING,E.snapshotVersion)),lS(u,p);const T=new bs(E.target,p,g,E.sequenceNumber);rg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){dt(Ra,"Failed to raise snapshot:",s),await Hh(r,s)}}async function Hh(r,t,n){if(!qo(t))throw t;r.Ia.add(1),await Du(r),r.Aa.set("Offline"),n||(n=()=>sS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{dt(Ra,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await cf(r)}))}function cS(r,t){return t().catch((n=>Hh(r,n,t)))}async function hf(r){const t=xt(r),n=js(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:qp;for(;oN(t);)try{const o=await qx(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,lN(t,o)}catch(o){await Hh(t,o)}hS(t)&&fS(t)}function oN(r){return Da(r)&&r.Pa.length<10}function lN(r,t){r.Pa.push(t);const n=js(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function hS(r){return Da(r)&&!js(r).M_()&&r.Pa.length>0}function fS(r){js(r).start()}async function uN(r){js(r).na()}async function cN(r){const t=js(r);for(const n of r.Pa)t.X_(n.mutations)}async function hN(r,t,n){const s=r.Pa.shift(),o=Xp.from(s,t,n);await cS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await hf(r)}async function fN(r,t){t&&js(r).Z_&&await(async function(s,o){if((function(f){return F1(f)&&f!==et.ABORTED})(o.code)){const u=s.Pa.shift();js(s).N_(),await cS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await hf(s)}})(r,t),hS(r)&&fS(r)}async function _E(r,t){const n=xt(r);n.asyncQueue.verifyOperationInProgress(),dt(Ra,"RemoteStore received new credentials");const s=Da(n);n.Ia.add(3),await Du(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await cf(n)}async function dN(r,t){const n=xt(r);t?(n.Ia.delete(2),await cf(n)):t||(n.Ia.add(2),await Du(n),n.Aa.set("Unknown"))}function Ho(r){return r.Va||(r.Va=(function(n,s,o){const u=xt(n);return u.ia(),new Jx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:iN.bind(null,r),e_:rN.bind(null,r),n_:sN.bind(null,r),J_:aN.bind(null,r)}),r.da.push((async t=>{t?(r.Va.N_(),ag(r)?sg(r):r.Aa.set("Unknown")):(await r.Va.stop(),uS(r))}))),r.Va}function js(r){return r.ma||(r.ma=(function(n,s,o){const u=xt(n);return u.ia(),new Zx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:uN.bind(null,r),n_:fN.bind(null,r),ea:cN.bind(null,r),ta:hN.bind(null,r)}),r.da.push((async t=>{t?(r.ma.N_(),await hf(r)):(await r.ma.stop(),r.Pa.length>0&&(dt(Ra,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new og(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(r,t){if(Nr("AsyncQueue",`${t}: ${r}`),qo(r))return new ht(et.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{static emptySet(t){return new Io(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||_t.comparator(n.key,s.key):(n,s)=>_t.comparator(n.key,s.key),this.keyedMap=Xl(),this.sortedSet=new Se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Io)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Io;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.fa=new Se(_t.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):St(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal(((n,s)=>{t.push(s)})),t}}class ko{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new ko(t,n,Io.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class pN{constructor(){this.queries=EE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=xt(n),u=o.queries;o.queries=EE(),u.forEach(((f,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ht(et.ABORTED,"Firestore shutting down"))}}function EE(){return new Ca((r=>D1(r)),rf)}async function dS(r,t){const n=xt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new mN,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=lg(f,`Initialization of query '${Eo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.wa.push(t),t.va(n.onlineState),u.ya&&t.Ca(u.ya)&&ug(n)}async function mS(r,t){const n=xt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(t);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function gN(r,t){const n=xt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&ug(n)}function yN(r,t,n){const s=xt(r),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(t)}function ug(r){r.Da.forEach((t=>{t.next()}))}var dp,TE;(TE=dp||(dp={})).Fa="default",TE.Cache="cache";class pS{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new ko(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=ko.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t){this.key=t}}class yS{constructor(t){this.key=t}}class _N{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Yt(),this.mutatedKeys=Yt(),this.Xa=x1(t),this.eu=new Io(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new vE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const A=o.get(E),V=sf(this.query,T)?T:null,B=!!A&&this.mutatedKeys.has(A.key),X=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let q=!1;A&&V?A.data.isEqual(V.data)?B!==X&&(s.track({type:3,doc:V}),q=!0):this.iu(A,V)||(s.track({type:2,doc:V}),q=!0,(p&&this.Xa(V,p)>0||g&&this.Xa(V,g)<0)&&(m=!0)):!A&&V?(s.track({type:0,doc:V}),q=!0):A&&!V&&(s.track({type:1,doc:A}),q=!0,(p||g)&&(m=!0)),q&&(V?(f=f.add(V),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const f=t.ru.pa();f.sort(((E,T)=>(function(V,B){const X=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{At:q})}};return X(V)-X(B)})(E.type,T.type)||this.Xa(E.doc,T.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new ko(this.query,t.eu,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new vE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Yt(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return t.forEach((s=>{this.Za.has(s)||n.push(new yS(s))})),this.Za.forEach((s=>{t.has(s)||n.push(new gS(s))})),n}uu(t){this.Ha=t.qs,this.Za=Yt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return ko.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const cg="SyncEngine";class vN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class EN{constructor(t){this.key=t,this.lu=!1}}class TN{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Ca((m=>D1(m)),rf),this.Tu=new Map,this.Iu=new Set,this.du=new Se(_t.comparator),this.Eu=new Map,this.Au=new Zp,this.Ru={},this.Vu=new Map,this.mu=Vo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function SN(r,t,n=!0){const s=wS(r);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await _S(s,t,n,!0),o}async function wN(r,t){const n=wS(r);await _S(n,t,!0,!1)}async function _S(r,t,n,s){const o=await Hx(r.localStore,Hi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await AN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&oS(r.remoteStore,o),m}async function AN(r,t,n,s,o){r.gu=(T,A,V)=>(async function(X,q,at,lt){let it=q.view.nu(at);it.Ds&&(it=await dE(X.localStore,q.query,!1).then((({documents:x})=>q.view.nu(x,it))));const Tt=lt&&lt.targetChanges.get(q.targetId),Mt=lt&&lt.targetMismatches.get(q.targetId)!=null,wt=q.view.applyChanges(it,X.isPrimaryClient,Tt,Mt);return wE(X,q.targetId,wt._u),wt.snapshot})(r,T,A,V);const u=await dE(r.localStore,t,!0),f=new _N(t,u.qs),m=f.nu(u.documents),p=Cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);wE(r,n,g._u);const E=new vN(t,n,f);return r.Pu.set(t,E),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),g.snapshot}async function bN(r,t,n){const s=xt(r),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((f=>!rf(f,t)))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ig(s.remoteStore,o.targetId),mp(s,o.targetId)})).catch(Bo)):(mp(s,o.targetId),await hp(s.localStore,o.targetId,!0))}async function RN(r,t){const n=xt(r),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ig(n.remoteStore,s.targetId))}async function IN(r,t,n){const s=VN(r);try{const o=await(function(f,m){const p=xt(f),g=_e.now(),E=m.reduce(((V,B)=>V.add(B.key)),Yt());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let B=Or(),X=Yt();return p.Os.getEntries(V,E).next((q=>{B=q,B.forEach(((at,lt)=>{lt.isValidDocument()||(X=X.add(at))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,B))).next((q=>{T=q;const at=[];for(const lt of m){const it=GD(lt,T.get(lt.key).overlayedDocument);it!=null&&at.push(new Fs(lt.key,it,T1(it.value.mapValue),Xe.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,at,m)})).next((q=>{A=q;const at=q.applyToLocalDocumentSet(T,X);return p.documentOverlayCache.saveOverlays(V,q.batchId,at)}))})).then((()=>({batchId:A.batchId,changes:O1(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new Se(jt)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g})(s,o.batchId,n),await xu(s,o.changes),await hf(s.remoteStore)}catch(o){const u=lg(o,"Failed to persist write");n.reject(u)}}async function vS(r,t){const n=xt(r);try{const s=await jx(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&(Jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?Jt(f.lu,14607):o.removedDocuments.size>0&&(Jt(f.lu,42227),f.lu=!1))})),await xu(n,s,t)}catch(s){await Bo(s)}}function SE(r,t,n){const s=xt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=xt(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const A of T.wa)A.va(m)&&(g=!0)})),g&&ug(p)})(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function CN(r,t,n){const s=xt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let f=new Se(_t.comparator);f=f.insert(u,sn.newNoDocument(u,It.min()));const m=Yt().add(u),p=new lf(It.min(),new Map,new Se(jt),f,m);await vS(s,p),s.du=s.du.remove(u),s.Eu.delete(t),hg(s)}else await hp(s.localStore,t,!1).then((()=>mp(s,t,n))).catch(Bo)}async function DN(r,t){const n=xt(r),s=t.batch.batchId;try{const o=await zx(n.localStore,t);TS(n,s,null),ES(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xu(n,o)}catch(o){await Bo(o)}}async function xN(r,t,n){const s=xt(r);try{const o=await(function(f,m){const p=xt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Jt(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,t);TS(s,t,n),ES(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await xu(s,o)}catch(o){await Bo(o)}}function ES(r,t){(r.Vu.get(t)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(t)}function TS(r,t,n){const s=xt(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function mp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach((s=>{r.Au.containsKey(s)||SS(r,s)}))}function SS(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(ig(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),hg(r))}function wE(r,t,n){for(const s of n)s instanceof gS?(r.Au.addReference(s.key,t),NN(r,s)):s instanceof yS?(dt(cg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||SS(r,s.key)):St(19791,{yu:s})}function NN(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(dt(cg,"New document in limbo: "+n),r.Iu.add(s),hg(r))}function hg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new _t(fe.fromString(t)),s=r.mu.next();r.Eu.set(s,new EN(n)),r.du=r.du.insert(n,s),oS(r.remoteStore,new bs(Hi(Yp(n.path)),s,"TargetPurposeLimboResolution",ef.ue))}}async function xu(r,t,n){const s=xt(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{f.push(s.gu(p,t,n).then((g=>{var E;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=tg.Es(p.targetId,g);u.push(T)}})))})),await Promise.all(f),s.hu.J_(o),await(async function(p,g){const E=xt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>rt.forEach(g,(A=>rt.forEach(A.Is,(V=>E.persistence.referenceDelegate.addReference(T,A.targetId,V))).next((()=>rt.forEach(A.ds,(V=>E.persistence.referenceDelegate.removeReference(T,A.targetId,V)))))))))}catch(T){if(!qo(T))throw T;dt(eg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const V=E.Fs.get(A),B=V.snapshotVersion,X=V.withLastLimboFreeSnapshotVersion(B);E.Fs=E.Fs.insert(A,X)}}})(s.localStore,u))}async function ON(r,t){const n=xt(r);if(!n.currentUser.isEqual(t)){dt(cg,"User change. New user:",t.toKey());const s=await rS(n.localStore,t);n.currentUser=t,(function(u,f){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ht(et.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await xu(n,s.Bs)}}function MN(r,t){const n=xt(r),s=n.Eu.get(t);if(s&&s.lu)return Yt().add(s.key);{let o=Yt();const u=n.Tu.get(t);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function wS(r){const t=xt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=vS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=MN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CN.bind(null,t),t.hu.J_=gN.bind(null,t.eventManager),t.hu.pu=yN.bind(null,t.eventManager),t}function VN(r){const t=xt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xN.bind(null,t),t}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=uf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return Ux(this.persistence,new kx,t.initialUser,this.serializer)}Du(t){return new iS(Wp.Vi,this.serializer)}bu(t){return new Gx}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class kN extends Fh{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){Jt(this.persistence.referenceDelegate instanceof qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ex(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new iS((s=>qh.Vi(s,n)),this.serializer)}}class pp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>SE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ON.bind(null,this.syncEngine),await dN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new pN})()}createDatastore(t){const n=uf(t.databaseInfo.databaseId),s=(function(u){return new $x(u)})(t.databaseInfo);return(function(u,f,m,p){return new tN(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new nN(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>SE(this.syncEngine,n,0)),(function(){return gE.C()?new gE:new Qx})())}createSyncEngine(t,n){return(function(o,u,f,m,p,g,E){const T=new TN(o,u,f,m,p,g);return E&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=xt(o);dt(Ra,"RemoteStore shutting down."),u.Ia.add(5),await Du(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Nr("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ht(et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=xt(o),m={documents:u.map((T=>Bh(f.serializer,T)))},p=await f.Jo("BatchGetDocuments",f.serializer.databaseId,fe.emptyPath(),m,u.length),g=new Map;p.forEach((T=>{const A=ix(f.serializer,T);g.set(A.key.toString(),A)}));const E=[];return u.forEach((T=>{const A=g.get(T.toString());Jt(!!A,55234,{key:T}),E.push(A)})),E})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Iu(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=_t.fromPath(s);this.mutations.push(new H1(o,this.precondition(o)))})),await(async function(s,o){const u=xt(s),f={writes:o.map((m=>Z1(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,fe.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw St(50498,{Wu:t.constructor.name});n=It.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new ht(et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(It.min())?Xe.exists(!1):Xe.updateTime(n):Xe.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(It.min()))throw new ht(et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xe.updateTime(n)}return Xe.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new ng(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const t=new PN(this.datastore),n=this.Ju(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(t){try{const n=this.updateFunction(t);return!Au(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(t){this.Gu>0&&this.Yu(t)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(t)}Yu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!F1(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="FirestoreClient";class UN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=Bp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{dt(Bs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(dt(Bs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=lg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Vm(r,t){r.asyncQueue.verifyOperationInProgress(),dt(Bs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await rS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>{ks("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{dt("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{ks("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=t}async function AE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await zN(r);dt(Bs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>_E(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>_E(t.remoteStore,o))),r._onlineComponents=t}async function zN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){dt(Bs,"Using user provided OfflineComponentProvider");try{await Vm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ks("Error using user provided cache. Falling back to memory cache: "+n),await Vm(r,new Fh)}}else dt(Bs,"Using default OfflineComponentProvider"),await Vm(r,new kN(void 0));return r._offlineComponents}async function fg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(dt(Bs,"Using user provided OnlineComponentProvider"),await AE(r,r._uninitializedComponentsProvider._online)):(dt(Bs,"Using default OnlineComponentProvider"),await AE(r,new pp))),r._onlineComponents}function jN(r){return fg(r).then((t=>t.syncEngine))}function BN(r){return fg(r).then((t=>t.datastore))}async function gp(r){const t=await fg(r),n=t.eventManager;return n.onListen=SN.bind(null,t.syncEngine),n.onUnlisten=bN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=wN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=RN.bind(null,t.syncEngine),n}function qN(r,t,n={}){const s=new Ir;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new AS({next:A=>{E.Ou(),f.enqueueAndForget((()=>mS(u,T))),A.fromCache&&p.source==="server"?g.reject(new ht(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new pS(m,E,{includeMetadataChanges:!0,ka:!0});return dS(u,T)})(await gp(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firestore.googleapis.com",RE=!0;class IE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ht(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RS,this.ssl=RE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:RE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=nS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_x)throw new ht(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bS((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ht(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ff{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new JC;switch(s.type){case"firstParty":return new eD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=bE.get(n);s&&(dt("ComponentProvider","Removing Datastore"),bE.delete(n),s.terminate())})(this),Promise.resolve()}}function HN(r,t,n,s={}){var o;r=ii(r,ff);const u=Lo(t),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;u&&(dT(`https://${p}`),mT("Firestore",!0)),f.host!==RS&&f.host!==p&&ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Vs(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=En.MOCK_USER;else{E=RR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ht(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new En(A)}r._authCredentials=new ZC(new l1(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new xa(this.firestore,t,this._query)}}class Ie{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(wu(n,Ie._jsonSchema))return new Ie(t,s||null,new _t(fe.fromString(n.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Ge("string",Ie._jsonSchemaVersion),referencePath:Ge("string")};class Os extends xa{constructor(t,n,s){super(t,n,Yp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new _t(t))}withConverter(t){return new Os(this.firestore,t,this._path)}}function Gl(r,t,...n){if(r=Ce(r),c1("collection","path",t),r instanceof ff){const s=fe.fromString(t,...n);return j0(s),new Os(r,null,s)}{if(!(r instanceof Ie||r instanceof Os))throw new ht(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(fe.fromString(t,...n));return j0(s),new Os(r.firestore,null,s)}}function zn(r,t,...n){if(r=Ce(r),arguments.length===1&&(t=Bp.newId()),c1("doc","path",t),r instanceof ff){const s=fe.fromString(t,...n);return z0(s),new Ie(r,null,new _t(s))}{if(!(r instanceof Ie||r instanceof Os))throw new ht(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(fe.fromString(t,...n));return z0(s),new Ie(r.firestore,r instanceof Os?r.converter:null,new _t(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="AsyncQueue";class DE{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ng(this,"async_queue_retry"),this.oc=()=>{const s=Mm();s&&dt(CE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Ir;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!qo(t))throw t;dt(CE,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((s=>{throw this.tc=s,this.nc=!1,Nr("INTERNAL UNHANDLED ERROR: ",xE(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=og.createAndSchedule(this,t,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&St(47125,{hc:xE(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function xE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Mr extends ff{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new DE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new DE(t),this._firestoreClient=void 0,await t}}}function FN(r,t){const n=typeof r=="object"?r:_T(),s=typeof r=="string"?r:kh,o=Ip(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=AR("firestore");u&&HN(o,...u)}return o}function Nu(r){if(r._terminated)throw new ht(et.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GN(r),r._firestoreClient}function GN(r){var t,n,s;const o=r._freezeSettings(),u=(function(m,p,g,E){return new yD(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,bS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new UN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ei(dn.fromBase64String(t))}catch(n){throw new ht(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ei(dn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(wu(t,ei._jsonSchema))return ei.fromBase64String(t.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:Ge("string",ei._jsonSchemaVersion),bytes:Ge("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(t){if(wu(t,Fi._jsonSchema))return new Fi(t.latitude,t.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Ge("string",Fi._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(wu(t,Gi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Gi(t.vectorValues);throw new ht(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:Ge("string",Gi._jsonSchemaVersion),vectorValues:Ge("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^__.*__$/;class YN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Fs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(t,this.data,n,this.fieldTransforms)}}class IS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Fs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function CS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ec:r})}}class df{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new df(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Gh(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(CS(this.Ec)&&QN.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class KN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||uf(t)}Dc(t,n,s,o=!1){return new df({Ec:t,methodName:n,bc:s,path:fn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mu(r){const t=r._freezeSettings(),n=uf(r._databaseId);return new KN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function dg(r,t,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,t,n,o);_g("Data must be an object, but it was:",f,s);const m=DS(s,f);let p,g;if(u.merge)p=new ni(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=yp(t,T,n);if(!f.contains(A))throw new ht(et.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);NS(E,A)||E.push(A)}p=new ni(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new YN(new Dn(m),p,g)}class Vu extends Ou{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Vu}}function XN(r,t,n){return new df({Ec:3,bc:t.settings.bc,methodName:r._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class mg extends Ou{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=XN(this,t,!0),s=this.vc.map((u=>Go(u,n))),o=new Mo(s);return new j1(t.path,o)}isEqual(t){return t instanceof mg&&Vs(this.vc,t.vc)}}class pg extends Ou{constructor(t,n){super(t),this.Cc=n}_toFieldTransform(t){const n=new du(t.serializer,k1(t.serializer,this.Cc));return new j1(t.path,n)}isEqual(t){return t instanceof pg&&this.Cc===t.Cc}}function gg(r,t,n,s){const o=r.Dc(1,t,n);_g("Data must be an object, but it was:",o,s);const u=[],f=Dn.empty();Hs(s,((p,g)=>{const E=vg(t,p,n);g=Ce(g);const T=o.gc(E);if(g instanceof Vu)u.push(E);else{const A=Go(g,T);A!=null&&(u.push(E),f.set(E,A))}}));const m=new ni(u);return new IS(f,m,o.fieldTransforms)}function yg(r,t,n,s,o,u){const f=r.Dc(1,t,n),m=[yp(t,s,n)],p=[o];if(u.length%2!=0)throw new ht(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(yp(t,u[A])),p.push(u[A+1]);const g=[],E=Dn.empty();for(let A=m.length-1;A>=0;--A)if(!NS(g,m[A])){const V=m[A];let B=p[A];B=Ce(B);const X=f.gc(V);if(B instanceof Vu)g.push(V);else{const q=Go(B,X);q!=null&&(g.push(V),E.set(V,q))}}const T=new ni(g);return new IS(E,T,f.fieldTransforms)}function $N(r,t,n,s=!1){return Go(n,r.Dc(s?4:3,t))}function Go(r,t){if(xS(r=Ce(r)))return _g("Unsupported field value:",t,r),DS(r,t);if(r instanceof Ou)return(function(s,o){if(!CS(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Go(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Ce(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return k1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=_e.fromDate(s);return{timestampValue:jh(o.serializer,u)}}if(s instanceof _e){const u=new _e(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(s instanceof Fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ei)return{bytesValue:K1(o.serializer,s._byteString)};if(s instanceof Ie){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gi)return(function(f,m){return{mapValue:{fields:{[v1]:{stringValue:E1},[Ph]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return Kp(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${tf(s)}`)})(r,t)}function DS(r,t){const n={};return d1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hs(r,((s,o)=>{const u=Go(o,t.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function xS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _e||r instanceof Fi||r instanceof ei||r instanceof Ie||r instanceof Ou||r instanceof Gi)}function _g(r,t,n){if(!xS(n)||!h1(n)){const s=tf(n);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function yp(r,t,n){if((t=Ce(t))instanceof Fo)return t._internalPath;if(typeof t=="string")return vg(r,t);throw Gh("Field path arguments must be of type string or ",r,!1,void 0,n)}const JN=new RegExp("[~\\*/\\[\\]]");function vg(r,t,n){if(t.search(JN)>=0)throw Gh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Fo(...t.split("."))._internalPath}catch{throw Gh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Gh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ht(et.INVALID_ARGUMENT,m+r+p)}function NS(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ZN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Eg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZN extends Qh{data(){return super.data()}}function Eg(r,t){return typeof t=="string"?vg(r,t):t instanceof Fo?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class WN extends Tg{}function tO(r,t,...n){let s=[];t instanceof Tg&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Sg)).length,m=u.filter((p=>p instanceof mf)).length;if(f>1||f>0&&m>0)throw new ht(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class mf extends WN{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new mf(t,n,s)}_apply(t){const n=this._parse(t);return MS(t._query,n),new xa(t.firestore,t.converter,ap(t._query,n))}_parse(t){const n=Mu(t.firestore);return(function(u,f,m,p,g,E,T){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ht(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){ME(T,E);const B=[];for(const X of T)B.push(OE(p,u,X));A={arrayValue:{values:B}}}else A=OE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||ME(T,E),A=$N(m,f,T,E==="in"||E==="not-in");return Fe.create(g,E,A)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function eO(r,t,n){const s=t,o=Eg("where",r);return mf._create(o,s,n)}class Sg extends Tg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Sg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Di.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)MS(f,p),f=ap(f,p)})(t._query,n),new xa(t.firestore,t.converter,ap(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function OE(r,t,n){if(typeof(n=Ce(n))=="string"){if(n==="")throw new ht(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C1(t)&&n.indexOf("/")!==-1)throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(fe.fromString(n));if(!_t.isDocumentKey(s))throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return K0(r,new _t(s))}if(n instanceof Ie)return K0(r,n._key);throw new ht(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(n)}.`)}function ME(r,t){if(!Array.isArray(r)||r.length===0)throw new ht(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function MS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ht(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class VS{convertValue(t,n="none"){switch(zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Us(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Hs(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Ph].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>Ve(f.doubleValue)));return new Gi(u)}convertGeoPoint(t){return new Fi(Ve(t.latitude),Ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=nf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uu(t));default:return null}}convertTimestamp(t){const n=Ls(t);return new _e(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=fe.fromString(t);Jt(eS(s),9688,{name:t});const o=new cu(s.get(1),s.get(3)),u=new _t(s.popFirst(5));return o.isEqual(n)||Nr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class nO extends VS{constructor(t){super(),this.firestore=t}convertBytes(t){return new ei(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,n)}}class wo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ms extends Qh{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Eg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ms._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ms._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ms._jsonSchema={type:Ge("string",Ms._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class wh extends Ms{data(t={}){return super.data(t)}}class Sa{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new wo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new wh(this._firestore,this._userDataWriter,s.key,s,new wo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new wo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new wo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:iO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Sa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Bp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function iO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:r})}}Sa._jsonSchemaVersion="firestore/querySnapshot/1.0",Sa._jsonSchema={type:Ge("string",Sa._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class pf extends VS{constructor(t){super(),this.firestore=t}convertBytes(t){return new ei(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,n)}}function VE(r){r=ii(r,xa);const t=ii(r.firestore,Mr),n=Nu(t),s=new pf(t);return OS(r._query),qN(n,r._query).then((o=>new Sa(t,s,r,o)))}function Ql(r,t,n){r=ii(r,Ie);const s=ii(r.firestore,Mr),o=wg(r.converter,t,n);return gf(s,[dg(Mu(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Xe.none())])}function Yl(r,t,n,...s){r=ii(r,Ie);const o=ii(r.firestore,Mr),u=Mu(o);let f;return f=typeof(t=Ce(t))=="string"||t instanceof Fo?yg(u,"updateDoc",r._key,t,n,s):gg(u,"updateDoc",r._key,t),gf(o,[f.toMutation(r._key,Xe.exists(!0))])}function km(r){return gf(ii(r.firestore,Mr),[new Iu(r._key,Xe.none())])}function Pm(r,...t){var n,s,o;r=Ce(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||NE(t[f])||(u=t[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(NE(t[f])){const T=t[f];t[f]=(n=T.next)===null||n===void 0?void 0:n.bind(T),t[f+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),t[f+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,E;if(r instanceof Ie)g=ii(r.firestore,Mr),E=Yp(r._key.path),p={next:T=>{t[f]&&t[f](rO(g,r,T))},error:t[f+1],complete:t[f+2]};else{const T=ii(r,xa);g=ii(T.firestore,Mr),E=T._query;const A=new pf(g);p={next:V=>{t[f]&&t[f](new Sa(g,A,T,V))},error:t[f+1],complete:t[f+2]},OS(r._query)}return(function(A,V,B,X){const q=new AS(X),at=new pS(V,q,B);return A.asyncQueue.enqueueAndForget((async()=>dS(await gp(A),at))),()=>{q.Ou(),A.asyncQueue.enqueueAndForget((async()=>mS(await gp(A),at)))}})(Nu(g),E,m,p)}function gf(r,t){return(function(s,o){const u=new Ir;return s.asyncQueue.enqueueAndForget((async()=>IN(await jN(s),o,u))),u.promise})(Nu(r),t)}function rO(r,t,n){const s=n.docs.get(t._key),o=new pf(r);return new Ms(r,o,t._key,s,new wo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Mu(t)}set(t,n,s){this._verifyNotCommitted();const o=Rs(t,this._firestore),u=wg(o.converter,n,s),f=dg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,Xe.none())),this}update(t,n,s,...o){this._verifyNotCommitted();const u=Rs(t,this._firestore);let f;return f=typeof(n=Ce(n))=="string"||n instanceof Fo?yg(this._dataReader,"WriteBatch.update",u._key,n,s,o):gg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,Xe.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Rs(t,this._firestore);return this._mutations=this._mutations.concat(new Iu(n._key,Xe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ht(et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rs(r,t){if((r=Ce(r)).firestore!==t)throw new ht(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Mu(t)}get(t){const n=Rs(t,this._firestore),s=new nO(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return St(24041);const u=o[0];if(u.isFoundDocument())return new Qh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Qh(this._firestore,s,n._key,null,n.converter);throw St(18433,{doc:u})}))}set(t,n,s){const o=Rs(t,this._firestore),u=wg(o.converter,n,s),f=dg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(t,n,s,...o){const u=Rs(t,this._firestore);let f;return f=typeof(n=Ce(n))=="string"||n instanceof Fo?yg(this._dataReader,"Transaction.update",u._key,n,s,o):gg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(t){const n=Rs(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO extends oO{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Rs(t,this._firestore),s=new pf(this._firestore);return super.get(t).then((o=>new Ms(this._firestore,s,n._key,o._document,new wo(!1,!1),n.converter)))}}function uO(r,t,n){r=ii(r,Mr);const s=Object.assign(Object.assign({},sO),n);return(function(u){if(u.maxAttempts<1)throw new ht(et.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Ir;return u.asyncQueue.enqueueAndForget((async()=>{const g=await BN(u);new LN(u.asyncQueue,g,m,f,p).zu()})),p.promise})(Nu(r),(o=>t(new lO(r,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(){return new Vu("deleteField")}function hO(...r){return new mg("arrayUnion",r)}function fO(r){return new pg("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(r){return Nu(r=ii(r,Mr)),new aO(r,(t=>gf(r,t)))}(function(t,n=!0){(function(o){jo=o})(Uo),Co(new wa("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Mr(new WC(s.getProvider("auth-internal")),new nD(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ht(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(g.options.projectId,E)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ds(V0,k0,t),Ds(V0,k0,"esm2017")})();var mO="firebase",pO="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(mO,pO,"app");const gO={apiKey:"AIzaSyCEUaqAGQBy_-tQEjnkNGYMXRk7YRaCAjI",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.firebasestorage.app",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},kS=yT(gO),br=XC(kS),Lm=new Sr,nn=FN(kS),yO=({className:r})=>G.jsxs("span",{className:"relative inline-block "+(r||""),children:[G.jsx(rT,{className:"w-5 h-5"}),G.jsx("span",{className:"absolute -right-1 -top-1",children:G.jsx(Gm,{className:"w-3.5 h-3.5"})})]});(async()=>{try{await BT(br,Pp)}catch{}})();function _O(r,t){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(r)}&token=${encodeURIComponent(t)}`}async function vO(r){try{return await navigator.clipboard.writeText(r),!0}catch{return window.prompt("  :",r),!1}}async function Jl(){try{try{await BT(br,Pp)}catch{}await rC(br,Lm)}catch(r){const t=r==null?void 0:r.code;if(t==="auth/popup-blocked"||t==="auth/cancelled-popup-request"||t==="auth/popup-closed-by-user"){await b0(br,Lm);return}await b0(br,Lm)}}function EO(r){const t=encodeURIComponent(r);window.open(`https://wa.me/?text=${t}`,"_blank")}const TO=()=>{const[r]=Zb(),t=Ep(),n=r.get("listId"),s=r.get("token"),[o,u]=L.useState(br.currentUser),[f,m]=L.useState(!0),[p,g]=L.useState(!1),[E,T]=L.useState(null);L.useEffect(()=>qT(br,B=>{u(B),m(!1)}),[]);const A=async()=>{T(null);try{await Jl()}catch(B){T((B==null?void 0:B.message)||" ")}},V=async()=>{if(!n||!s){T("    (listId  token)");return}if(!o){await A();return}g(!0),T(null);try{await uO(nn,async B=>{var it;const X=zn(nn,"lists",n),q=await B.get(X);if(!q.exists())throw new Error("  ");const lt=(it=q.data().pendingInvites)==null?void 0:it[s];if(!lt)throw new Error("  ");if(lt.expiresAt<Date.now())throw new Error("  ");B.update(X,{sharedWith:hO(o.uid),[`pendingInvites.${s}`]:cO()})}),localStorage.setItem("activeListId",n),t("/")}catch(B){T((B==null?void 0:B.message)||"  ")}finally{g(!1)}};return f?G.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif'},children:[G.jsx("style",{children:`
        html, body, #root {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        *, *::before, *::after,
        input, button, select, textarea, option, label {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        input::placeholder, textarea::placeholder {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
      `}),G.jsx(bh,{className:"animate-spin text-indigo-600"})]}):G.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:G.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[G.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:G.jsx(aT,{className:"w-10 h-10"})}),G.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?G.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,E?G.jsx("p",{className:"text-rose-500 font-bold break-words",children:E}):null,o?G.jsx("button",{onClick:V,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?G.jsx(bh,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):G.jsxs("button",{onClick:A,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[G.jsx(sT,{className:"w-4 h-4"}),"   "]})]})})},PS={:1,:1,:2,:2,:2,:2,:2,:3,:3,:4,:4,:5,:5,:6,:6,:7,:7,:8,:9,:9,:10,:10},Er=r=>(r||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),LS=r=>(r||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\b\b/g,",").replace(/\b\b/g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim();function Yh(r){return r?/^\d+$/.test(r)?!0:PS[r]!=null:!1}function SO(r){if(!r)return null;if(/^\d+$/.test(r))return Number(r);const t=PS[r];return t??null}const wO=new Set(["","","","","","","","","","","","","","","","","","","","","","","",""]);function AO(r){return wO.has(r)}const Um=new Set([" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","' "," "," "," "]),zm=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),jm=new Set(["","","","","","","","","","","","",""]);function bO(r){const t=[];let n=0;const s=o=>o&&o.startsWith("")&&o.length>1?o.slice(1):o;for(;n<r.length;){const o=r[n],u=n+1<r.length?r[n+1]:"";if(o&&u&&!Yh(o)&&!Yh(u)){const f=`${o} ${u}`,m=s(u),p=`${o} ${m}`;if(Um.has(f)||Um.has(p)){t.push(Um.has(f)?f:p),n+=2;continue}if(zm.has(u)||zm.has(m)){t.push(zm.has(u)?f:p),n+=2;continue}if(jm.has(u)||jm.has(m)){t.push(jm.has(u)?f:p),n+=2;continue}}t.push(o),n+=1}return t}function RO(r){const t=Er(r);if(!t)return[];let n=t.split(" ").filter(Boolean);if(n=bO(n),n.length===0)return[];const s=[];let o=1,u=[];const f=p=>{const g=u.join(" ").trim();if(g){const E=Math.max(1,Number(p??o??1));s.push({name:g,qty:E})}o=1,u=[]},m=p=>p+1<n.length?n[p+1]:"";for(let p=0;p<n.length;p++){const g=n[p];if(Yh(g)){const T=Math.max(1,SO(g)||1),A=m(p);if(u.length===0){o=T;continue}if(!A){f(T);continue}f(),o=T;continue}u.push(g);const E=m(p);u.length===1&&AO(u[0])||g===""||g===""||E===""||E===""||Yh(E)||f()}return u.length>0&&f(),s.map(p=>({name:p.name.replace(/\s+/g," ").trim(),qty:Math.max(1,Number(p.qty||1))})).filter(p=>p.name.length>0)}function IO(r){const t=LS(r),n=Er(t);if(!n)return[];const o=n.replace(/\s+\s+/g,",").replace(/\s+\s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+\s+/g,",").split(/,|\n/).map(f=>f.trim()).filter(Boolean),u=[];for(const f of o){const m=RO(f);for(const p of m)u.push(p)}return u}const CO=["","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","'"," "," "," ","","","","","","",""," "," ","",""," ","","","","","",""," ",""," "," "," "," "," "," ","",""," "];function Tr(r){return r.trim().replace(/\s+/g," ").replace(/[]/g,'"').replace(/[]/g,"'").toLowerCase()}const US="shopping_list_item_history_v1",zS="shopping_list_hidden_suggestions_v1";function DO(){try{const r=localStorage.getItem(zS);if(!r)return[];const t=JSON.parse(r);return Array.isArray(t)?t.filter(n=>typeof n=="string"):[]}catch{return[]}}function xO(r){try{localStorage.setItem(zS,JSON.stringify(r))}catch{}}function NO(){try{const r=localStorage.getItem(US);if(!r)return{};const t=JSON.parse(r);return!t||typeof t!="object"?{}:t}catch{return{}}}function kE(r){try{localStorage.setItem(US,JSON.stringify(r))}catch{}}function OO(r){const t=r.query,n=Tr(t),s=r.limit??8;if(!n)return[];const o=new Map,u=(g,E)=>{const T=g.trim();if(!T)return;const A=Tr(T);if(!A||r.hiddenKeys.has(A))return;const V=o.get(A);if(V){V.sources.add(E);return}o.set(A,{name:T,key:A,sources:new Set([E])})};for(const g of r.favorites)u(g,"favorite");for(const g of r.items)u(g.name,"items");for(const[g,E]of Object.entries(r.history)){u((E==null?void 0:E.name)||g,"history");const T=o.get(g);T&&(T.history=E)}for(const g of CO)u(g,"static");const f=Array.from(o.values()),m=new Map;for(const g of r.items){const E=Tr(g.name);E&&(m.has(E)||m.set(E,{id:g.id,quantity:g.quantity}))}const p=g=>{const E=g.key,T=E.startsWith(n),A=!T&&E.includes(n);if(!T&&!A)return-1/0;let V=T?120:70;if(g.sources.has("favorite")&&(V+=45),g.sources.has("history")&&(V+=35),g.sources.has("items")&&(V+=20),g.sources.has("static")&&(V+=10),g.history){const B=Math.max(0,g.history.count||0),X=Math.max(0,g.history.lastUsed||0);V+=Math.min(30,Math.log2(B+1)*8);const q=(Date.now()-X)/(1e3*60*60*24),at=Math.max(0,20-q);V+=Math.min(20,at)}return V};return f.map(g=>({c:g,s:p(g)})).filter(g=>Number.isFinite(g.s)).sort((g,E)=>E.s-g.s).slice(0,s).map(g=>{const E=m.get(g.c.key);return{name:g.c.name,key:g.c.key,canHide:g.c.sources.has("history")&&!g.c.sources.has("favorite"),isInList:!!E,itemId:E==null?void 0:E.id,currentQty:E==null?void 0:E.quantity}})}const MO=()=>{const[r,t]=L.useState(null),[n,s]=L.useState(null),[o,u]=L.useState([]),[f,m]=L.useState([]),[p,g]=L.useState("list"),[E,T]=L.useState(""),A=L.useRef(null),[V,B]=L.useState(!1),[X,q]=L.useState(-1),at=L.useRef({}),lt=L.useRef(null);L.useEffect(()=>{at.current=NO()},[]);const[it,Tt]=L.useState(!1),[Mt,wt]=L.useState(!1),[x,b]=L.useState(!0),[R,M]=L.useState(!1),[k,U]=L.useState(!1),[D]=L.useState("hold_to_talk"),[we,ke]=L.useState(""),[$,st]=L.useState(null),gt=L.useRef(null),Nt=L.useRef(!1),Bt=L.useRef([]),N=L.useRef(""),J=L.useRef(!1),ot=L.useRef(null),ft=L.useRef(null),vt=L.useRef(!1),bt=L.useRef(null),[Ct,oe]=L.useState({id:null,dx:0}),me=70,mn=110,Bn=C=>{const Q=C;return Q?!!Q.closest("button, input, textarea, select, a, [data-noswipe='true']"):!1},Ki=C=>Q=>{Bn(Q.target)||(vt.current=!1,ot.current={x:Q.clientX,y:Q.clientY,id:C,pointerId:Q.pointerId},ft.current={x:Q.clientX,y:Q.clientY},oe({id:C,dx:0}))},Pr=C=>Q=>{const W=ot.current;if(!W||W.id!==C||W.pointerId!==Q.pointerId)return;ft.current={x:Q.clientX,y:Q.clientY};const ut=Q.clientX-W.x,pt=Math.max(-mn,Math.min(mn,ut));if(!bt.current&&Math.abs(ut)>10&&Math.abs(ut)>=Math.abs(Q.clientY-W.y))try{Q.currentTarget.setPointerCapture(Q.pointerId),bt.current={el:Q.currentTarget,pointerId:Q.pointerId}}catch{}oe({id:C,dx:pt})},qn=C=>async Q=>{const W=ot.current,ut=ft.current;ot.current=null;try{bt.current&&bt.current.el.releasePointerCapture(W.pointerId)}catch{}if(bt.current=null,ft.current=null,!W||W.id!==C){oe({id:null,dx:0});return}const pt=(ut==null?void 0:ut.x)??Q.clientX,Ut=(ut==null?void 0:ut.y)??Q.clientY,Rt=pt-W.x,le=Ut-W.y;if(oe({id:null,dx:0}),!(Math.abs(Rt)<me||Math.abs(Rt)<Math.abs(le))){vt.current=!0;try{Rt<0?await De(C):await wn(C)}finally{window.setTimeout(()=>{vt.current=!1},0)}}},Xi=C=>Q=>{if(Bn(Q.target))return;const W=Q.touches[0];W&&(vt.current=!1,ot.current={x:W.clientX,y:W.clientY,id:C,pointerId:-1},ft.current={x:W.clientX,y:W.clientY},oe({id:C,dx:0}))},Lr=C=>Q=>{const W=ot.current;if(!W||W.id!==C)return;const ut=Q.touches[0];if(!ut)return;ft.current={x:ut.clientX,y:ut.clientY};const pt=ut.clientX-W.x,Ut=ut.clientY-W.y;if(Math.abs(pt)<6||Math.abs(pt)<Math.abs(Ut))return;try{Q.preventDefault()}catch{}const Rt=Math.max(-mn,Math.min(mn,pt));oe({id:C,dx:Rt})},Qo=C=>async Q=>{const W=ot.current,ut=ft.current;if(ot.current=null,ft.current=null,!W||W.id!==C){oe({id:null,dx:0});return}const pt=ut?ut.x-W.x:0;if(Math.abs(pt)<me){oe({id:null,dx:0});return}vt.current=!0,pt<0?await De(C):await wn(C),oe({id:null,dx:0})},Na=()=>{ot.current=null,ft.current=null;try{bt.current&&bt.current.el.releasePointerCapture(bt.current.pointerId)}catch{}bt.current=null,oe({id:null,dx:0})},vi=L.useRef(null),xi=L.useRef([]);L.useEffect(()=>{vi.current=(n==null?void 0:n.id)??null},[n==null?void 0:n.id]),L.useEffect(()=>{xi.current=o},[o]),L.useEffect(()=>{if(!$)return;const C=setTimeout(()=>st(null),2500);return()=>clearTimeout(C)},[$]),L.useEffect(()=>qT(br,async C=>{if(t(C),b(!1),!C){s(null),u([]),m([]);return}M(!0);const Q=tO(Gl(nn,"lists"),eO("sharedWith","array-contains",C.uid)),W=await VE(Q);if(W.empty){const ut=zn(Gl(nn,"lists")),pt={id:ut.id,title:" ",ownerUid:C.uid,sharedWith:[C.uid],createdAt:Date.now(),updatedAt:Date.now()};await Ql(ut,pt),s(pt),localStorage.setItem("activeListId",ut.id)}else{const ut=localStorage.getItem("activeListId"),pt=ut?W.docs.find(Rt=>Rt.id===ut)??W.docs[0]:W.docs[0],Ut=pt.data();s({...Ut,id:pt.id}),localStorage.setItem("activeListId",pt.id)}M(!1)}),[]),L.useEffect(()=>{if(!(n!=null&&n.id))return;const C=zn(nn,"lists",n.id),Q=Gl(C,"items"),W=Gl(C,"favorites"),ut=Pm(C,Rt=>{Rt.exists()&&s({...Rt.data(),id:Rt.id})}),pt=Pm(Q,Rt=>{const le=Rt.docs.map(Xt=>Xt.data());u(le)}),Ut=Pm(W,Rt=>{const le=Rt.docs.map(Xt=>{const kt=Xt.data();return{id:Xt.id,name:String((kt==null?void 0:kt.name)||""),createdAt:Number((kt==null?void 0:kt.createdAt)||0)}});le.sort((Xt,kt)=>kt.createdAt-Xt.createdAt),m(le)});return()=>{ut(),pt(),Ut()}},[n==null?void 0:n.id]);const Ur=L.useMemo(()=>{const C=new Set;for(const Q of f)C.add(Q.id);return C},[f]),Yo=L.useMemo(()=>o.filter(C=>!C.isPurchased).sort((C,Q)=>Q.createdAt-C.createdAt),[o]),$i=L.useMemo(()=>o.filter(C=>C.isPurchased).sort((C,Q)=>(Q.purchasedAt||0)-(C.purchasedAt||0)),[o]),Pe=C=>{const Q=C.trim();if(!Q)return;const W=Tr(Q);if(!W)return;const ut=at.current[W],pt={name:Q,count:((ut==null?void 0:ut.count)||0)+1,lastUsed:Date.now()};at.current={...at.current,[W]:pt},kE(at.current)},Ji=L.useRef(new Set);L.useEffect(()=>{Ji.current=new Set(DO())},[]);const ne=L.useMemo(()=>OO({query:E,favorites:f.map(C=>C.name),items:o,history:at.current,hiddenKeys:Ji.current,limit:8}),[E,f,o]),Le=()=>{lt.current&&window.clearTimeout(lt.current),lt.current=window.setTimeout(()=>{B(!1),q(-1)},120)},ai=()=>{lt.current&&window.clearTimeout(lt.current),B(!0)},zr=async C=>{if(C.isInList&&C.itemId){const Q=(C.currentQty??1)+1;await pn(C.itemId,1),st(`  -   -${Q}`),T(""),q(-1),B(!1),window.requestAnimationFrame(()=>{var W;return(W=A.current)==null?void 0:W.focus()});return}T(C.name),q(-1),B(!1),window.requestAnimationFrame(()=>{var Q;return(Q=A.current)==null?void 0:Q.focus()})},Gs=C=>{const Q=C.key||Tr(C.name);if(!Q)return;const W={...at.current};W[Q]&&(delete W[Q],at.current=W,kE(W));const ut=new Set(Ji.current);ut.add(Q),Ji.current=ut,xO(Array.from(ut)),B(!1),q(-1),window.requestAnimationFrame(()=>{var pt;return(pt=A.current)==null?void 0:pt.focus()})},Ko=async C=>{if(C&&C.preventDefault(),!r){await Jl();return}if(!(n!=null&&n.id))return;const Q=E.trim();if(!Q)return;const W=Tr(Q),ut=o.find(Rt=>Tr(Rt.name)===W);if(ut){await pn(ut.id,1),Pe(ut.name),T(""),B(!1),q(-1);return}const pt=crypto.randomUUID(),Ut={id:pt,name:Q,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Ql(zn(nn,"lists",n.id,"items",pt),Ut),Pe(Q),T(""),B(!1),q(-1)},Ei=async C=>{if(!(n!=null&&n.id))return;const Q=o.find(ut=>ut.id===C);if(!Q)return;const W=!Q.isPurchased;await Yl(zn(nn,"lists",n.id,"items",C),{isPurchased:W,purchasedAt:W?Date.now():null})},pn=async(C,Q)=>{if(!(n!=null&&n.id))return;if(Q>0){await Yl(zn(nn,"lists",n.id,"items",C),{quantity:fO(Q)});return}const W=o.find(ut=>ut.id===C);W&&await Yl(zn(nn,"lists",n.id,"items",C),{quantity:Math.max(1,W.quantity+Q)})},De=async C=>{n!=null&&n.id&&await km(zn(nn,"lists",n.id,"items",C))},wn=async C=>{if(!(n!=null&&n.id))return;const Q=zn(nn,"lists",n.id,"favorites",C);if(Ur.has(C))await km(Q);else{const W=o.find(ut=>ut.id===C);await Ql(Q,{name:(W==null?void 0:W.name)||"",createdAt:Date.now()})}},an=async C=>{n!=null&&n.id&&await km(zn(nn,"lists",n.id,"favorites",C))},Oa=async()=>{const C=vi.current||(n==null?void 0:n.id);if(!C)return;const Q=Gl(nn,"lists",C,"items"),W=await VE(Q);if(W.empty){wt(!1);return}const ut=W.docs;let pt=0;for(;pt<ut.length;){const Ut=dO(nn),Rt=ut.slice(pt,pt+450);for(const le of Rt)Ut.delete(le.ref);await Ut.commit(),pt+=Rt.length}wt(!1)},Qs=async()=>{if(!r)return await Jl(),null;if(!(n!=null&&n.id))return null;const C=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),Q=Date.now()+2880*60*1e3;return await Yl(zn(nn,"lists",n.id),{[`pendingInvites.${C}`]:{createdAt:Date.now(),expiresAt:Q}}),_O(n.id,C)},Ma=async()=>{const C=await Qs();if(C){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:" ",text:"   ",url:C});return}}catch{}await vO(C),Tt(!0),setTimeout(()=>Tt(!1),2e3)}},Zi=()=>{const C=(n==null?void 0:n.title)||" ",Q=o.filter(Vt=>!Vt.isPurchased),W="",ut="",pt="",Ut="",Rt=Q.length>0?Q.map(Vt=>(Vt.quantity||1)<=1?`${W}${Vt.name}${ut}`:`${W}${Vt.name} X ${pt}${Vt.quantity}${Ut}${ut}`).join(`
`):`${W}(  )${ut}`,kt=`${`*${C}:*`}

${Rt}

   `;EO(kt)},gn=L.useRef(null),xn=L.useRef(null),Je=L.useRef(null),[xe,Hn]=L.useState({id:null,dx:0,rawDx:0}),jr=60,Wi=110,Ti=async C=>{if(!(n!=null&&n.id))return;const Q=Tr(C.name),W=o.find(ut=>!ut.isPurchased&&Tr(ut.name)===Q);if(W)await pn(W.id,1);else{const ut=crypto.randomUUID(),pt={id:ut,name:C.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Ql(zn(nn,"lists",n.id,"items",ut),pt)}},Ni=C=>Q=>{Bn(Q.target)||(gn.current={x:Q.clientX,y:Q.clientY,id:C,pointerId:Q.pointerId},xn.current={x:Q.clientX,y:Q.clientY},Hn({id:C,dx:0,rawDx:0}))},Qe=C=>Q=>{const W=gn.current;if(!W||W.id!==C)return;xn.current={x:Q.clientX,y:Q.clientY};const ut=Q.clientX-W.x,pt=Q.clientY-W.y;if(!Je.current&&Math.abs(ut)>10&&Math.abs(pt)<=Math.abs(ut)*1.2)try{Q.currentTarget.setPointerCapture(Q.pointerId),Je.current={el:Q.currentTarget,pointerId:Q.pointerId}}catch{}if(Math.abs(pt)>Math.abs(ut)*1.6)return;const Ut=Math.max(-Wi,Math.min(Wi,ut));Hn({id:C,dx:Ut,rawDx:ut})},Ys=C=>async Q=>{const W=gn.current,ut=xn.current;gn.current=null;try{Je.current&&W&&Je.current.el.releasePointerCapture(W.pointerId)}catch{}if(Je.current=null,xn.current=null,Hn({id:null,dx:0,rawDx:0}),!W||W.id!==C)return;const pt=(ut==null?void 0:ut.x)??Q.clientX,Ut=(ut==null?void 0:ut.y)??Q.clientY,Rt=pt-W.x,le=Ut-W.y;if(Math.abs(Rt)<jr||Math.abs(le)>Math.abs(Rt)*1.6)return;const Xt=f.find(kt=>kt.id===C);Rt>0?Xt&&await Ti(Xt):(await an(C),st(" "))},Oi=()=>{gn.current=null,xn.current=null,Je.current=null,Hn({id:null,dx:0,rawDx:0})},Fn=C=>{const Q=Er(C),W=o.find(pt=>Er(pt.name)===Q);return W||o.find(pt=>Er(pt.name).includes(Q)||Q.includes(Er(pt.name)))||null},Ks=async(C,Q)=>{const W=vi.current||(n==null?void 0:n.id);if(!W)return;const ut=xi.current||o,pt=C.trim();if(!pt)return;const Ut=ut.find(Xt=>!Xt.isPurchased&&Er(Xt.name)===Er(pt));if(Ut){await Yl(zn(nn,"lists",W,"items",Ut.id),{quantity:Q});return}const Rt=crypto.randomUUID(),le={id:Rt,name:pt,quantity:Q,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Ql(zn(nn,"lists",W,"items",Rt),le)},Xs=C=>/(|||||||||)\s*(\s*)?(\s*)?(\s*)?(|)?/.test(C)||/^(||)$/.test(C)||C.includes("")&&C.includes("")&&(C.includes("")||C.includes(""))||C.includes("")&&(C.includes("")||C.includes("")),Si=async C=>{if(!(vi.current||(n==null?void 0:n.id)))return;const W=Er(C);if(!W)return;if(Xs(W)){await Oa(),st(" ");return}if(/^(|||)\s+/.test(W)){const kt=W.replace(/^(|||)\s+/,"").trim(),Vt=Fn(kt);if(!Vt){st("   ");return}await De(Vt.id),st(`: ${Vt.name}`);return}const ut=W.match(/^(||)\s+(.+)\s+(||)$/);if(ut){const kt=ut[2].trim(),Vt=Fn(kt);if(!Vt){st("   ");return}Vt.isPurchased||await Ei(Vt.id),st(` : ${Vt.name}`);return}const pt=W.match(/^(||)\s+(.+)$/);if(pt){const kt=pt[2].trim(),Vt=Fn(kt);return Vt?(await pn(Vt.id,1),st(`: ${Vt.name}`)):st("   ")}const Ut=W.match(/^(||)\s+(.+)$/);if(Ut){const kt=Ut[2].trim(),Vt=Fn(kt);return Vt?(await pn(Vt.id,-1),st(`: ${Vt.name}`)):st("   ")}const Rt=W.match(/^(|||)(?:\s+)?\s+(.+)$/),le=Rt?Rt[2]:W,Xt=IO(le);if(Xt.length!==0){for(const kt of Xt)await Ks(kt.name,kt.qty);if(Xt.length===1){const kt=Xt[0];st(kt.qty>1?`: ${kt.name} x${kt.qty}`:`: ${kt.name}`)}else st(` ${Xt.length} `)}},Va=()=>{const C=window.SpeechRecognition||window.webkitSpeechRecognition;return C||null},Nn=()=>{const C=Va();if(!C){alert("    .  Chrome  Edge.");return}if(!r){st("    "),Jl();return}if(Bt.current=[],N.current="",J.current=!1,Nt.current=!0,ke(""),U(!0),st("  -   "),gt.current){try{gt.current.stop()}catch{}gt.current=null}const Q=new C;gt.current=Q,Q.lang="he-IL",Q.interimResults=!0,Q.maxAlternatives=1,Q.continuous=!0;const W=3e3,ut=9e4;let pt=!1,Ut=Date.now(),Rt=null,le=null;const Xt=()=>{Rt!=null&&window.clearTimeout(Rt),le!=null&&window.clearTimeout(le),Rt=null,le=null},kt=()=>{Nt.current&&pt&&(Rt!=null&&window.clearTimeout(Rt),Rt=window.setTimeout(()=>{if(!Nt.current)return;Date.now()-Ut>=W&&ie()},W+50))};le=window.setTimeout(()=>{Nt.current&&(st("     - ..."),ie())},ut),Q.onstart=()=>{},Q.onaudiostart=()=>{},Q.onspeechstart=()=>{},Q.onresult=Vt=>{try{let Ne="";for(let Mi=Vt.resultIndex;Mi<Vt.results.length;Mi++){const Gn=Vt.results[Mi],Ye=Gn==null?void 0:Gn[0],An=LS(String((Ye==null?void 0:Ye.transcript)||""));An&&(Gn.isFinal?(Bt.current.push(An),N.current=""):(Ne=An,N.current=An))}const ve=Ne||(Bt.current.length?Bt.current[Bt.current.length-1]:"");ve&&ke(ve),pt=!0,Ut=Date.now(),kt()}catch{}},Q.onerror=Vt=>{const Ne=String((Vt==null?void 0:Vt.error)||"");console.warn("Speech error:",Ne,Vt),Ne!=="no-speech"&&(Xt(),clearVoiceTimers(),U(!1),Nt.current=!1,Ne==="not-allowed"||Ne==="service-not-allowed"?alert("  .     ."):st(Ne==="audio-capture"?"   (    )":` : ${Ne||"unknown"}`))},Q.onend=()=>{if(!Nt.current){Xt();return}kt(),!J.current&&(J.current=!0,setTimeout(()=>{if(!Nt.current){J.current=!1,Xt();return}try{Q.start()}catch{}finally{J.current=!1}},180))};try{Q.start(),kt()}catch(Vt){console.error(Vt),Xt(),clearVoiceTimers(),U(!1),Nt.current=!1,st("   ")}},ie=async()=>{var ut,pt;if(!Nt.current)return;Nt.current=!1,U(!1);try{(pt=(ut=gt.current)==null?void 0:ut.stop)==null||pt.call(ut)}catch{}const C=Bt.current.join(" ").trim(),Q=(N.current||"").trim(),W=`${C} ${Q}`.replace(/\s+/g," ").trim();if(Bt.current=[],N.current="",!W){st("   -  ");return}st("...");try{await Si(W)}catch(Ut){console.error(Ut),st(`: ${String((Ut==null?void 0:Ut.message)||Ut||"")}`)}};return L.useEffect(()=>()=>{var C,Q;try{Nt.current=!1,(Q=(C=gt.current)==null?void 0:C.stop)==null||Q.call(C)}catch{}},[]),x?G.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:G.jsx(bh,{className:"animate-spin text-indigo-600"})}):r?R||!(n!=null&&n.id)?G.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:G.jsx(bh,{className:"animate-spin text-indigo-600"})}):G.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[G.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-6 py-4 items-center justify-between border-b border-slate-100 relative grid grid-cols-3 items-center",children:[G.jsxs("div",{className:"flex items-center gap-2 justify-start",children:[G.jsx("button",{onClick:()=>wt(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ",children:G.jsx(sh,{className:"w-5 h-5"})}),G.jsx("button",{onClick:Ma,className:"p-2 text-slate-400 hover:text-indigo-600",title:" ",children:it?G.jsx(oR,{className:"w-5 h-5 text-emerald-500"}):G.jsx(aT,{className:"w-5 h-5"})})]}),G.jsx("h1",{className:"text-xl font-bold text-indigo-600 leading-none text-center justify-self-center whitespace-nowrap",children:(n==null?void 0:n.title)||" "}),G.jsx("button",{onClick:()=>zI(br),className:"justify-self-end w-9 h-9 min-w-0 p-0 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:"",children:G.jsx(cR,{className:"w-4 h-4"})})]}),G.jsx("div",{className:"px-5 pt-3",children:G.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[G.jsx("div",{className:"text-[11px] font-black text-slate-400",children:k?"  -    ":" :    ,  "}),we?G.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[": ",we]}):null,G.jsx("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:': "    " | " " | " "'})]})}),G.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:p==="list"?G.jsxs(G.Fragment,{children:[G.jsxs("form",{onSubmit:Ko,className:"relative",children:[G.jsx("input",{ref:A,value:E,onFocus:ai,onBlur:Le,onKeyDown:C=>{if(V){if(C.key==="Escape"){C.preventDefault(),B(!1),q(-1);return}if(C.key==="ArrowDown"){if(C.preventDefault(),ne.length===0)return;q(Q=>{const W=Q+1;return W>=ne.length?0:W});return}if(C.key==="ArrowUp"){if(C.preventDefault(),ne.length===0)return;q(Q=>{const W=Q-1;return W<0?ne.length-1:W});return}if(C.key==="Tab"){if(ne.length===0)return;C.preventDefault(),zr(ne[Math.max(0,X>=0?X:0)]);return}if(C.key==="Enter"&&ne.length>0){C.preventDefault();const Q=X>=0?X:0;zr(ne[Q]);return}}},onChange:C=>{T(C.target.value),ai(),q(-1)},placeholder:"  ?",className:"w-full p-4 pr-12 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),G.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:G.jsx(Gm,{className:"w-6 h-6"})}),V&&E.trim()&&ne.length>0?G.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 z-50 bg-white border border-slate-200 rounded-2xl shadow-lg overflow-hidden",dir:"rtl",onMouseDown:C=>{C.preventDefault()},onPointerDown:C=>{C.preventDefault()},children:ne.map((C,Q)=>G.jsxs("div",{className:"w-full flex items-stretch justify-between gap-2 hover:bg-slate-50 transition-colors "+(Q===X?"bg-slate-100":""),children:[G.jsxs("button",{type:"button",className:"flex-1 text-right px-4 py-3 flex items-center justify-between",onPointerDown:W=>{W.preventDefault(),zr(C)},title:"",children:[G.jsx("span",{className:"font-semibold text-slate-700",children:C.name}),C.isInList?G.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:["",typeof C.currentQty=="number"?` (${C.currentQty})`:""]}):G.jsx("span",{className:"text-xs text-slate-400",children:"Tab"})]}),C.canHide?G.jsx("button",{type:"button",className:"px-3 text-slate-400 hover:text-slate-700",onPointerDown:W=>{W.preventDefault(),W.stopPropagation(),Gs(C)},title:" ","aria-label":" ",children:""}):null]},C.key+"-"+Q))}):null]}),o.length===0?G.jsxs("div",{className:"text-center py-20 opacity-20",children:[G.jsx(pR,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),G.jsx("p",{className:"text-lg font-bold",children:" "})]}):G.jsx("div",{className:"space-y-4",children:G.jsxs("div",{className:"space-y-3",children:[Yo.map(C=>G.jsxs("div",{className:"relative overflow-hidden flex items-center justify-between p-3 bg-white rounded-2xl border border-slate-100 shadow-sm select-none",dir:"rtl",onPointerDown:Ki(C.id),onPointerMove:Pr(C.id),onPointerUp:qn(C.id),onPointerCancel:Na,onTouchStart:Xi(C.id),onTouchMove:Lr(C.id),onTouchEnd:Qo(C.id),style:{touchAction:"pan-y"},children:[G.jsx("div",{className:`absolute inset-0 ${Ct.id===C.id?Ct.dx>0?"bg-emerald-50":Ct.dx<0?"bg-rose-50":"bg-transparent":"bg-transparent"}`,style:{opacity:Ct.id===C.id?Math.min(1,Math.abs(Ct.dx)/mn):0}}),G.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full",style:{transform:Ct.id===C.id?`translateX(${Ct.dx}px)`:void 0,transition:Ct.id===C.id?"none":"transform 120ms ease-out"},children:[G.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>{vt.current||Ei(C.id)},children:C.name}),G.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100","data-noswipe":"true",children:[G.jsx("button",{onClick:()=>pn(C.id,-1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:G.jsx(mR,{className:"w-3 h-3"})}),G.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:C.quantity}),G.jsx("button",{onClick:()=>pn(C.id,1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:G.jsx(Gm,{className:"w-3 h-3"})})]})]}),Ct.id===C.id&&Ct.dx>12?G.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center text-emerald-600 pointer-events-none",children:G.jsx(rh,{className:"w-5 h-5 fill-emerald-600"})}):null,Ct.id===C.id&&Ct.dx<-12?G.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center text-rose-600 pointer-events-none",children:G.jsx(sh,{className:"w-5 h-5"})}):null]},C.id)),$i.length>0?G.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[G.jsxs("h3",{className:"text-lg font-bold text-slate-700 text-right mb-2",children:[" (",$i.length,")"]}),$i.map(C=>G.jsx("div",{className:"flex items-center justify-between p-3 bg-slate-100/50 rounded-2xl opacity-60 grayscale transition-all",dir:"rtl",children:G.jsxs("div",{className:"flex items-center justify-between w-full",children:[G.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-start cursor-pointer",onClick:()=>Ei(C.id),style:{direction:"rtl",unicodeBidi:"plaintext"},children:[G.jsx(uR,{className:"w-6 h-6 text-emerald-500 flex-shrink-0"}),G.jsx("span",{className:"text-base font-bold text-slate-500 line-through truncate text-left",children:G.jsxs("span",{className:"flex gap-1",children:[G.jsx("span",{children:C.name}),(C.quantity||1)>1&&G.jsxs(G.Fragment,{children:[G.jsx("span",{children:"x"}),G.jsx("span",{children:C.quantity})]})]})})]}),G.jsx("button",{onClick:()=>De(C.id),className:"p-2 text-slate-300",title:"",children:G.jsx(sh,{className:"w-4 h-4"})})]})},C.id))]}):null]})})]}):G.jsxs("div",{className:"space-y-6",children:[G.jsxs("div",{className:"text-right",children:[G.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),G.jsx("p",{className:"text-sm text-slate-400 font-bold",children:G.jsx("span",{className:"font-semibold",children:"  "})})]}),f.length===0?G.jsxs("div",{className:"text-center py-20 opacity-20",children:[G.jsx(rh,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),G.jsx("p",{className:"font-bold",children:"  "})]}):G.jsx("div",{className:"grid grid-cols-1 gap-3",children:f.map(C=>G.jsxs("div",{className:"relative overflow-hidden rounded-2xl select-none",dir:"ltr",onPointerDown:Ni(C.id),onPointerMove:Qe(C.id),onPointerUp:Ys(C.id),onPointerCancel:Oi,style:{touchAction:"pan-y"},children:[G.jsx("div",{className:`absolute inset-0 ${xe.id===C.id?xe.rawDx>0?"bg-emerald-50":xe.rawDx<0?"bg-rose-50":"bg-transparent":"bg-transparent"}`,style:{opacity:xe.id===C.id?Math.min(1,Math.abs(xe.rawDx)/Wi):0}}),G.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 pointer-events-none",children:[G.jsx("div",{className:"flex items-center gap-2 text-emerald-600",children:G.jsx(yO,{className:"w-6 h-6"})}),G.jsx("div",{className:"flex items-center gap-2 text-rose-600",children:G.jsx(sh,{className:"w-5 h-5"})})]}),G.jsxs("div",{className:"relative z-10 flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-100 shadow-sm",style:{transform:xe.id===C.id?`translateX(${xe.dx}px)`:void 0,transition:xe.id===C.id?"none":"transform 160ms ease-out"},children:[G.jsx("div",{className:"flex items-center gap-2"}),G.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate px-3 text-base",style:{direction:"rtl",unicodeBidi:"plaintext"},children:C.name}),G.jsx(rh,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]})]},C.id))})]})}),G.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:G.jsxs("div",{className:"max-w-md mx-auto px-4 pb-3",children:[G.jsx("div",{className:"flex justify-start mb-2",dir:"ltr",children:G.jsx("button",{onClick:Zi,className:"w-14 h-14 rounded-full bg-emerald-500 text-white flex items-center justify-center shadow-lg shadow-emerald-200 active:scale-95 transition-transform",title:"  ",children:G.jsx(hR,{className:"w-6 h-6"})})}),G.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:G.jsxs("div",{className:"relative flex items-center justify-between px-10 pt-9 pb-3",children:[G.jsxs("button",{onClick:()=>g("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[G.jsx(rh,{className:`w-7 h-7 ${p==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),"",G.jsx("button",{onPointerDown:C=>{C.preventDefault(),Nn()},onPointerUp:C=>{C.preventDefault(),ie()},onPointerCancel:C=>{C.preventDefault(),ie()},onPointerLeave:C=>{Nt.current&&(C.preventDefault(),ie())},onTouchStart:C=>{C.preventDefault(),Nn()},onTouchEnd:C=>{C.preventDefault(),ie()},onMouseDown:C=>{C.preventDefault(),Nn()},onMouseUp:C=>{C.preventDefault(),ie()},style:{touchAction:"none"},className:`absolute left-1/2 -translate-x-1/2 -top-8 w-16 h-16 rounded-full border-4 border-white shadow-xl flex items-center justify-center ${k?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:k?"  -   ":"   ",children:k?G.jsx(fR,{className:"w-7 h-7"}):G.jsx(dR,{className:"w-7 h-7"})})]}),G.jsxs("button",{onClick:()=>g("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[G.jsx(rT,{className:"w-7 h-7"}),""]})]})})]})}),Mt?G.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:G.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[G.jsxs("div",{className:"flex items-center gap-3",children:[G.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:G.jsx(lR,{className:"w-5 h-5"})}),G.jsxs("div",{className:"text-right",children:[G.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),G.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),G.jsxs("div",{className:"flex gap-3",children:[G.jsx("button",{onClick:()=>wt(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),G.jsx("button",{onClick:Oa,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null,$?G.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50",children:$}):null]}):G.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:G.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[G.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),G.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),G.jsxs("button",{onClick:async()=>{await Jl()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[G.jsx(sT,{className:"w-4 h-4"}),"  "]})]})})},VO=()=>G.jsx(Yb,{children:G.jsxs(Sb,{children:[G.jsx(qm,{path:"/",element:G.jsx(MO,{})}),G.jsx(qm,{path:"/invite",element:G.jsx(TO,{})})]})}),jS=document.getElementById("root");if(!jS)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",r=>{const t=(r==null?void 0:r.message)||"unknown",n=r==null?void 0:r.error;console.error("WINDOW_ERROR:",t,n),alert("WINDOW_ERROR: "+t)});window.addEventListener("unhandledrejection",r=>{const t=r==null?void 0:r.reason;console.error("UNHANDLED_REJECTION:",t);let n="";try{typeof t=="string"?n=t:t!=null&&t.message?n=t.message:n=JSON.stringify(t)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());bA.createRoot(jS).render(G.jsx(_A.StrictMode,{children:G.jsx(VO,{})}));
