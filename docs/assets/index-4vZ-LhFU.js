(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function hw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Um={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function fw(){if(fv)return Yl;fv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Yl.Fragment=t,Yl.jsx=n,Yl.jsxs=n,Yl}var dv;function dw(){return dv||(dv=1,Um.exports=fw()),Um.exports}var X=dw(),Pm={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function mw(){if(mv)return Ot;mv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,D={};function nt(L,Q,st){this.props=L,this.context=Q,this.refs=D,this.updater=st||V}nt.prototype.isReactComponent={},nt.prototype.setState=function(L,Q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Q,"setState")},nt.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function rt(){}rt.prototype=nt.prototype;function tt(L,Q,st){this.props=L,this.context=Q,this.refs=D,this.updater=st||V}var mt=tt.prototype=new rt;mt.constructor=tt,z(mt,nt.prototype),mt.isPureReactComponent=!0;var Rt=Array.isArray;function vt(){}var O={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function w(L,Q,st){var ht=st.ref;return{$$typeof:i,type:L,key:Q,ref:ht!==void 0?ht:null,props:st}}function x(L,Q){return w(L.type,Q,L.props)}function P(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function U(L){var Q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(st){return Q[st]})}var C=/\/+/g;function ee(L,Q){return typeof L=="object"&&L!==null&&L.key!=null?U(""+L.key):Q.toString(36)}function fe(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(vt,vt):(L.status="pending",L.then(function(Q){L.status==="pending"&&(L.status="fulfilled",L.value=Q)},function(Q){L.status==="pending"&&(L.status="rejected",L.reason=Q)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function K(L,Q,st,ht,Tt){var Dt=typeof L;(Dt==="undefined"||Dt==="boolean")&&(L=null);var Pt=!1;if(L===null)Pt=!0;else switch(Dt){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(L.$$typeof){case i:case t:Pt=!0;break;case v:return Pt=L._init,K(Pt(L._payload),Q,st,ht,Tt)}}if(Pt)return Tt=Tt(L),Pt=ht===""?"."+ee(L,0):ht,Rt(Tt)?(st="",Pt!=null&&(st=Pt.replace(C,"$&/")+"/"),K(Tt,Q,st,"",function(Qn){return Qn})):Tt!=null&&(P(Tt)&&(Tt=x(Tt,st+(Tt.key==null||L&&L.key===Tt.key?"":(""+Tt.key).replace(C,"$&/")+"/")+Pt)),Q.push(Tt)),1;Pt=0;var ze=ht===""?".":ht+":";if(Rt(L))for(var ce=0;ce<L.length;ce++)ht=L[ce],Dt=ze+ee(ht,ce),Pt+=K(ht,Q,st,Dt,Tt);else if(ce=b(L),typeof ce=="function")for(L=ce.call(L),ce=0;!(ht=L.next()).done;)ht=ht.value,Dt=ze+ee(ht,ce++),Pt+=K(ht,Q,st,Dt,Tt);else if(Dt==="object"){if(typeof L.then=="function")return K(fe(L),Q,st,ht,Tt);throw Q=String(L),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function at(L,Q,st){if(L==null)return L;var ht=[],Tt=0;return K(L,ht,"","",function(Dt){return Q.call(st,Dt,Tt++)}),ht}function _t(L){if(L._status===-1){var Q=L._result;Q=Q(),Q.then(function(st){(L._status===0||L._status===-1)&&(L._status=1,L._result=st)},function(st){(L._status===0||L._status===-1)&&(L._status=2,L._result=st)}),L._status===-1&&(L._status=0,L._result=Q)}if(L._status===1)return L._result.default;throw L._result}var Gt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Yt={map:at,forEach:function(L,Q,st){at(L,function(){Q.apply(this,arguments)},st)},count:function(L){var Q=0;return at(L,function(){Q++}),Q},toArray:function(L){return at(L,function(Q){return Q})||[]},only:function(L){if(!P(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ot.Activity=T,Ot.Children=Yt,Ot.Component=nt,Ot.Fragment=n,Ot.Profiler=o,Ot.PureComponent=tt,Ot.StrictMode=s,Ot.Suspense=p,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(L){return O.H.useMemoCache(L)}},Ot.cache=function(L){return function(){return L.apply(null,arguments)}},Ot.cacheSignal=function(){return null},Ot.cloneElement=function(L,Q,st){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ht=z({},L.props),Tt=L.key;if(Q!=null)for(Dt in Q.key!==void 0&&(Tt=""+Q.key),Q)!R.call(Q,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&Q.ref===void 0||(ht[Dt]=Q[Dt]);var Dt=arguments.length-2;if(Dt===1)ht.children=st;else if(1<Dt){for(var Pt=Array(Dt),ze=0;ze<Dt;ze++)Pt[ze]=arguments[ze+2];ht.children=Pt}return w(L.type,Tt,ht)},Ot.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},Ot.createElement=function(L,Q,st){var ht,Tt={},Dt=null;if(Q!=null)for(ht in Q.key!==void 0&&(Dt=""+Q.key),Q)R.call(Q,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(Tt[ht]=Q[ht]);var Pt=arguments.length-2;if(Pt===1)Tt.children=st;else if(1<Pt){for(var ze=Array(Pt),ce=0;ce<Pt;ce++)ze[ce]=arguments[ce+2];Tt.children=ze}if(L&&L.defaultProps)for(ht in Pt=L.defaultProps,Pt)Tt[ht]===void 0&&(Tt[ht]=Pt[ht]);return w(L,Dt,Tt)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(L){return{$$typeof:m,render:L}},Ot.isValidElement=P,Ot.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:_t}},Ot.memo=function(L,Q){return{$$typeof:g,type:L,compare:Q===void 0?null:Q}},Ot.startTransition=function(L){var Q=O.T,st={};O.T=st;try{var ht=L(),Tt=O.S;Tt!==null&&Tt(st,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(vt,Gt)}catch(Dt){Gt(Dt)}finally{Q!==null&&st.types!==null&&(Q.types=st.types),O.T=Q}},Ot.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ot.use=function(L){return O.H.use(L)},Ot.useActionState=function(L,Q,st){return O.H.useActionState(L,Q,st)},Ot.useCallback=function(L,Q){return O.H.useCallback(L,Q)},Ot.useContext=function(L){return O.H.useContext(L)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(L,Q){return O.H.useDeferredValue(L,Q)},Ot.useEffect=function(L,Q){return O.H.useEffect(L,Q)},Ot.useEffectEvent=function(L){return O.H.useEffectEvent(L)},Ot.useId=function(){return O.H.useId()},Ot.useImperativeHandle=function(L,Q,st){return O.H.useImperativeHandle(L,Q,st)},Ot.useInsertionEffect=function(L,Q){return O.H.useInsertionEffect(L,Q)},Ot.useLayoutEffect=function(L,Q){return O.H.useLayoutEffect(L,Q)},Ot.useMemo=function(L,Q){return O.H.useMemo(L,Q)},Ot.useOptimistic=function(L,Q){return O.H.useOptimistic(L,Q)},Ot.useReducer=function(L,Q,st){return O.H.useReducer(L,Q,st)},Ot.useRef=function(L){return O.H.useRef(L)},Ot.useState=function(L){return O.H.useState(L)},Ot.useSyncExternalStore=function(L,Q,st){return O.H.useSyncExternalStore(L,Q,st)},Ot.useTransition=function(){return O.H.useTransition()},Ot.version="19.2.3",Ot}var pv;function jp(){return pv||(pv=1,Pm.exports=mw()),Pm.exports}var j=jp();const pw=hw(j);var km={exports:{}},Kl={},Bm={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function gw(){return gv||(gv=1,(function(i){function t(K,at){var _t=K.length;K.push(at);t:for(;0<_t;){var Gt=_t-1>>>1,Yt=K[Gt];if(0<o(Yt,at))K[Gt]=at,K[_t]=Yt,_t=Gt;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var at=K[0],_t=K.pop();if(_t!==at){K[0]=_t;t:for(var Gt=0,Yt=K.length,L=Yt>>>1;Gt<L;){var Q=2*(Gt+1)-1,st=K[Q],ht=Q+1,Tt=K[ht];if(0>o(st,_t))ht<Yt&&0>o(Tt,st)?(K[Gt]=Tt,K[ht]=_t,Gt=ht):(K[Gt]=st,K[Q]=_t,Gt=Q);else if(ht<Yt&&0>o(Tt,_t))K[Gt]=Tt,K[ht]=_t,Gt=ht;else break t}}return at}function o(K,at){var _t=K.sortIndex-at.sortIndex;return _t!==0?_t:K.id-at.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,T=null,S=3,b=!1,V=!1,z=!1,D=!1,nt=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function mt(K){for(var at=n(g);at!==null;){if(at.callback===null)s(g);else if(at.startTime<=K)s(g),at.sortIndex=at.expirationTime,t(p,at);else break;at=n(g)}}function Rt(K){if(z=!1,mt(K),!V)if(n(p)!==null)V=!0,vt||(vt=!0,U());else{var at=n(g);at!==null&&fe(Rt,at.startTime-K)}}var vt=!1,O=-1,R=5,w=-1;function x(){return D?!0:!(i.unstable_now()-w<R)}function P(){if(D=!1,vt){var K=i.unstable_now();w=K;var at=!0;try{t:{V=!1,z&&(z=!1,rt(O),O=-1),b=!0;var _t=S;try{e:{for(mt(K),T=n(p);T!==null&&!(T.expirationTime>K&&x());){var Gt=T.callback;if(typeof Gt=="function"){T.callback=null,S=T.priorityLevel;var Yt=Gt(T.expirationTime<=K);if(K=i.unstable_now(),typeof Yt=="function"){T.callback=Yt,mt(K),at=!0;break e}T===n(p)&&s(p),mt(K)}else s(p);T=n(p)}if(T!==null)at=!0;else{var L=n(g);L!==null&&fe(Rt,L.startTime-K),at=!1}}break t}finally{T=null,S=_t,b=!1}at=void 0}}finally{at?U():vt=!1}}}var U;if(typeof tt=="function")U=function(){tt(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ee=C.port2;C.port1.onmessage=P,U=function(){ee.postMessage(null)}}else U=function(){nt(P,0)};function fe(K,at){O=nt(function(){K(i.unstable_now())},at)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(K){switch(S){case 1:case 2:case 3:var at=3;break;default:at=S}var _t=S;S=at;try{return K()}finally{S=_t}},i.unstable_requestPaint=function(){D=!0},i.unstable_runWithPriority=function(K,at){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var _t=S;S=K;try{return at()}finally{S=_t}},i.unstable_scheduleCallback=function(K,at,_t){var Gt=i.unstable_now();switch(typeof _t=="object"&&_t!==null?(_t=_t.delay,_t=typeof _t=="number"&&0<_t?Gt+_t:Gt):_t=Gt,K){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=_t+Yt,K={id:v++,callback:at,priorityLevel:K,startTime:_t,expirationTime:Yt,sortIndex:-1},_t>Gt?(K.sortIndex=_t,t(g,K),n(p)===null&&K===n(g)&&(z?(rt(O),O=-1):z=!0,fe(Rt,_t-Gt))):(K.sortIndex=Yt,t(p,K),V||b||(V=!0,vt||(vt=!0,U()))),K},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(K){var at=S;return function(){var _t=S;S=at;try{return K.apply(this,arguments)}finally{S=_t}}}})(zm)),zm}var _v;function _w(){return _v||(_v=1,Bm.exports=gw()),Bm.exports}var jm={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function yw(){if(yv)return hn;yv=1;var i=jp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},hn.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},hn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},hn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},hn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:b}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},hn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},hn.requestFormReset=function(p){s.d.r(p)},hn.unstable_batchedUpdates=function(p,g){return p(g)},hn.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},hn.useFormStatus=function(){return h.H.useHostTransitionStatus()},hn.version="19.2.3",hn}var Ev;function Ew(){if(Ev)return jm.exports;Ev=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),jm.exports=yw(),jm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function vw(){if(vv)return Kl;vv=1;var i=_w(),t=jp(),n=Ew();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var y=!1,A=f.child;A;){if(A===a){y=!0,a=f,l=d;break}if(A===l){y=!0,l=f,a=d;break}A=A.sibling}if(!y){for(A=d.child;A;){if(A===a){y=!0,a=d,l=f;break}if(A===l){y=!0,l=d,a=f;break}A=A.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function v(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=v(e),r!==null)return r;e=e.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case nt:return"Profiler";case D:return"StrictMode";case Rt:return"Suspense";case vt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case tt:return e.displayName||"Context";case rt:return(e._context.displayName||"Context")+".Consumer";case mt:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return r=e.displayName||null,r!==null?r:ee(e.type)||"Memo";case R:r=e._payload,e=e._init;try{return ee(e(r))}catch{}}return null}var fe=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t={pending:!1,data:null,method:null,action:null},Gt=[],Yt=-1;function L(e){return{current:e}}function Q(e){0>Yt||(e.current=Gt[Yt],Gt[Yt]=null,Yt--)}function st(e,r){Yt++,Gt[Yt]=e.current,e.current=r}var ht=L(null),Tt=L(null),Dt=L(null),Pt=L(null);function ze(e,r){switch(st(Dt,r),st(Tt,e),st(ht,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?VE(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=VE(r),e=UE(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(ht),st(ht,e)}function ce(){Q(ht),Q(Tt),Q(Dt)}function Qn(e){e.memoizedState!==null&&st(Pt,e);var r=ht.current,a=UE(r,e.type);r!==a&&(st(Tt,e),st(ht,a))}function hi(e){Tt.current===e&&(Q(ht),Q(Tt)),Pt.current===e&&(Q(Pt),Hl._currentValue=_t)}var Hi,Nr;function ln(e){if(Hi===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Hi=r&&r[1]||"",Nr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hi+e+Nr}var Fi=!1;function Or(e,r){if(!e||Fi)return"";Fi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(q){var G=q}Reflect.construct(e,[],et)}else{try{et.call()}catch(q){G=q}e.call(et.prototype)}}else{try{throw Error()}catch(q){G=q}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(q){if(q&&G&&typeof q.stack=="string")return[q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],A=d[1];if(y&&A){var N=y.split(`
`),F=A.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===F.length)for(l=N.length-1,f=F.length-1;1<=l&&0<=f&&N[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==F[f]){var $=`
`+N[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=f);break}}}finally{Fi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ln(a):""}function Yo(e,r){switch(e.tag){case 26:case 27:case 5:return ln(e.type);case 16:return ln("Lazy");case 13:return e.child!==r&&r!==null?ln("Suspense Fallback"):ln("Suspense");case 19:return ln("SuspenseList");case 0:case 15:return Or(e.type,!1);case 11:return Or(e.type.render,!1);case 1:return Or(e.type,!0);case 31:return ln("Activity");default:return""}}function Na(e){try{var r="",a=null;do r+=Yo(e,a),a=e,e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ti=Object.prototype.hasOwnProperty,xn=i.unstable_scheduleCallback,J=i.unstable_cancelCallback,dt=i.unstable_shouldYield,ut=i.unstable_requestPaint,pt=i.unstable_now,Ut=i.unstable_getCurrentPriorityLevel,Ct=i.unstable_ImmediatePriority,Nt=i.unstable_UserBlockingPriority,de=i.unstable_NormalPriority,he=i.unstable_LowPriority,Qt=i.unstable_IdlePriority,le=i.log,Fs=i.unstable_setDisableYieldValue,Dr=null,un=null;function Xn(e){if(typeof le=="function"&&Fs(e),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(Dr,e)}catch{}}var gn=Math.clz32?Math.clz32:zu,Uf=Math.log,Ko=Math.LN2;function zu(e){return e>>>=0,e===0?32:31-(Uf(e)/Ko|0)|0}var Gs=256,Ai=262144,Mr=4194304;function fi(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Jn(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=fi(l):(y&=A,y!==0?f=fi(y):a||(a=A&~e,a!==0&&(f=fi(a))))):(A=l&~d,A!==0?f=fi(A):y!==0?f=fi(y):a||(a=l&~e,a!==0&&(f=fi(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function xr(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Oa(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $o(){var e=Mr;return Mr<<=1,(Mr&62914560)===0&&(Mr=4194304),e}function Gi(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Lr(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xe(e,r,a,l,f,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,N=e.expirationTimes,F=e.hiddenUpdates;for(a=y&~a;0<a;){var $=31-gn(a),et=1<<$;A[$]=0,N[$]=-1;var G=F[$];if(G!==null)for(F[$]=null,$=0;$<G.length;$++){var q=G[$];q!==null&&(q.lane&=-536870913)}a&=~et}l!==0&&Qo(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~r))}function Qo(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-gn(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Vr(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-gn(a),f=1<<l;f&r|e[l]&r&&(e[l]|=r),a&=~f}}function Ur(e,r){var a=r&-r;return a=(a&42)!==0?1:Xo(a),(a&(e.suspendedLanes|r))!==0?0:a}function Xo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Jo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qi(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:sv(e.type))}function ju(e,r){var a=at.p;try{return at.p=e,r()}finally{at.p=a}}var Si=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Si,Je="__reactProps$"+Si,Ii="__reactContainer$"+Si,Pr="__reactEvents$"+Si,Ri="__reactListeners$"+Si,Hu="__reactHandles$"+Si,Wo="__reactResources$"+Si,Yi="__reactMarker$"+Si;function qs(e){delete e[Ae],delete e[Je],delete e[Pr],delete e[Ri],delete e[Hu]}function Ki(e){var r=e[Ae];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Ii]||a[Ae]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=FE(e);e!==null;){if(a=e[Ae])return a;e=FE(e)}return r}e=a,a=e.parentNode}return null}function $i(e){if(e=e[Ae]||e[Ii]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function Ys(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function di(e){var r=e[Wo];return r||(r=e[Wo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ce(e){e[Yi]=!0}var Da=new Set,kr={};function _n(e,r){bi(e,r),bi(e+"Capture",r)}function bi(e,r){for(kr[e]=r,e=0;e<r.length;e++)Da.add(r[e])}var Pf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},tl={};function Fu(e){return Ti.call(tl,e)?!0:Ti.call(Zo,e)?!1:Pf.test(e)?tl[e]=!0:(Zo[e]=!0,!1)}function Br(e,r,a){if(Fu(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function zr(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function Wn(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}function yn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gu(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function kf(e,r,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Ma(e){if(!e._valueTracker){var r=Gu(e)?"checked":"value";e._valueTracker=kf(e,r,""+e[r])}}function el(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=Gu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qi=/[\n"\\]/g;function Se(e){return e.replace(Qi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function jr(e,r,a,l,f,d,y,A){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),r!=null?y==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+yn(r)):e.value!==""+yn(r)&&(e.value=""+yn(r)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),r!=null?La(e,y,yn(r)):a!=null?La(e,y,yn(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+yn(A):e.removeAttribute("name")}function Ks(e,r,a,l,f,d,y,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ma(e);return}a=a!=null?""+yn(a):"",r=r!=null?""+yn(r):a,A||r===e.value||(e.value=r),e.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Ma(e)}function La(e,r,a){r==="number"&&xa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Xt(e,r,a,l){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+yn(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function $s(e,r,a){if(r!=null&&(r=""+yn(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+yn(a):""}function Hr(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(fe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=yn(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Ma(e)}function Zn(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Bf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||Bf.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function qu(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&nl(e,f,l)}else for(var d in r)r.hasOwnProperty(d)&&nl(e,d,r[d])}function il(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wi(e){return jf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ge(){}var Va=null;function Ua(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xi=null,Ln=null;function Yu(e){var r=$i(e);if(r&&(e=r.stateNode)){var a=e[Je]||null;t:switch(e=r.stateNode,r.type){case"input":if(jr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Se(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var f=l[Je]||null;if(!f)throw Error(s(90));jr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&el(l)}break t;case"textarea":$s(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Xt(e,!!a.multiple,r,!1)}}}var rl=!1;function Ku(e,r,a){if(rl)return e(r,a);rl=!0;try{var l=e(r);return l}finally{if(rl=!1,(Xi!==null||Ln!==null)&&(Fc(),Xi&&(r=Xi,e=Ln,Ln=Xi=null,Yu(r),e)))for(r=0;r<e.length;r++)Yu(e[r])}}function Rn(e,r){var a=e.stateNode;if(a===null)return null;var l=a[Je]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=!1;if(mi)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){sl=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{sl=!1}var Vn=null,Pa=null,Ni=null;function Fr(){if(Ni)return Ni;var e,r=Pa,a=r.length,l,f="value"in Vn?Vn.value:Vn.textContent,d=f.length;for(e=0;e<a&&r[e]===f[e];e++);var y=a-e;for(l=1;l<=y&&r[a-l]===f[d-l];l++);return Ni=f.slice(e,1<l?1-l:void 0)}function Qs(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Gr(){return!0}function me(){return!1}function cn(e){function r(a,l,f,d,y){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gr:me,this.isPropagationStopped=me,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),r}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=cn(Ji),qr=T({},Ji,{view:0,detail:0}),$u=cn(qr),Yr,ka,En,Js=T({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==En&&(En&&e.type==="mousemove"?(Yr=e.screenX-En.screenX,ka=e.screenY-En.screenY):ka=Yr=0,En=e),Yr)},movementY:function(e){return"movementY"in e?e.movementY:ka}}),Qu=cn(Js),Ws=T({},Js,{dataTransfer:0}),Xu=cn(Ws),al=T({},qr,{relatedTarget:0}),Kr=cn(al),Ju=T({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Ba=cn(Ju),Hf=T({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wu=cn(Hf),Zs=T({},Ji,{data:0}),ol=cn(Zs),Zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ll={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ul={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tc(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=ul[e])?!!r[e]:!1}function $r(){return tc}var ec=T({},qr,{key:function(e){if(e.key){var r=Zu[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ll[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(e){return e.type==="keypress"?Qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nc=cn(ec),Wi=T({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=cn(Wi),ic=T({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),rc=cn(ic),sc=T({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),za=cn(sc),vn=T({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ac=cn(vn),oc=T({},Ji,{newState:0,oldState:0}),Qr=cn(oc),c=[9,13,27,32],_=mi&&"CompositionEvent"in window,E=null;mi&&"documentMode"in document&&(E=document.documentMode);var I=mi&&"TextEvent"in window&&!E,B=mi&&(!_||E&&8<E&&11>=E),Y=" ",ot=!1;function te(e,r){switch(e){case"keyup":return c.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Me(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lt=!1;function qe(e,r){switch(e){case"compositionend":return Me(r);case"keypress":return r.which!==32?null:(ot=!0,Y);case"textInput":return e=r.data,e===Y&&ot?null:e;default:return null}}function Ye(e,r){if(Lt)return e==="compositionend"||!_&&te(e,r)?(e=Fr(),Ni=Pa=Vn=null,Lt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return B&&r.locale!=="ko"?null:r.data;default:return null}}var Xr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bn(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Xr[e.type]:r==="textarea"}function ta(e,r,a,l){Xi?Ln?Ln.push(l):Ln=[l]:Xi=l,r=Xc(r,"onChange"),0<r.length&&(a=new Xs("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var Zi=null,hl=null;function kR(e){NE(e,0)}function lc(e){var r=Ys(e);if(el(r))return e}function $g(e,r){if(e==="change")return r}var Qg=!1;if(mi){var Ff;if(mi){var Gf="oninput"in document;if(!Gf){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),Gf=typeof Xg.oninput=="function"}Ff=Gf}else Ff=!1;Qg=Ff&&(!document.documentMode||9<document.documentMode)}function Jg(){Zi&&(Zi.detachEvent("onpropertychange",Wg),hl=Zi=null)}function Wg(e){if(e.propertyName==="value"&&lc(hl)){var r=[];ta(r,hl,e,Ua(e)),Ku(kR,r)}}function BR(e,r,a){e==="focusin"?(Jg(),Zi=r,hl=a,Zi.attachEvent("onpropertychange",Wg)):e==="focusout"&&Jg()}function zR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lc(hl)}function jR(e,r){if(e==="click")return lc(r)}function HR(e,r){if(e==="input"||e==="change")return lc(r)}function FR(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Un=typeof Object.is=="function"?Object.is:FR;function fl(e,r){if(Un(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ti.call(r,f)||!Un(e[f],r[f]))return!1}return!0}function Zg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function t_(e,r){var a=Zg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Zg(a)}}function e_(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?e_(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function n_(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=xa(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=xa(e.document)}return r}function qf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var GR=mi&&"documentMode"in document&&11>=document.documentMode,ja=null,Yf=null,dl=null,Kf=!1;function i_(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kf||ja==null||ja!==xa(l)||(l=ja,"selectionStart"in l&&qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Xc(Yf,"onSelect"),0<l.length&&(r=new Xs("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=ja)))}function ea(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Ha={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},$f={},r_={};mi&&(r_=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function na(e){if($f[e])return $f[e];if(!Ha[e])return e;var r=Ha[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in r_)return $f[e]=r[a];return e}var s_=na("animationend"),a_=na("animationiteration"),o_=na("animationstart"),qR=na("transitionrun"),YR=na("transitionstart"),KR=na("transitioncancel"),l_=na("transitionend"),u_=new Map,Qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qf.push("scrollEnd");function pi(e,r){u_.set(e,r),_n(r,[e])}var uc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ti=[],Fa=0,Xf=0;function cc(){for(var e=Fa,r=Xf=Fa=0;r<e;){var a=ti[r];ti[r++]=null;var l=ti[r];ti[r++]=null;var f=ti[r];ti[r++]=null;var d=ti[r];if(ti[r++]=null,l!==null&&f!==null){var y=l.pending;y===null?f.next=f:(f.next=y.next,y.next=f),l.pending=f}d!==0&&c_(a,f,d)}}function hc(e,r,a,l){ti[Fa++]=e,ti[Fa++]=r,ti[Fa++]=a,ti[Fa++]=l,Xf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Jf(e,r,a,l){return hc(e,r,a,l),fc(e)}function ia(e,r){return hc(e,null,null,r),fc(e)}function c_(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-gn(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function fc(e){if(50<Vl)throw Vl=0,am=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Ga={};function $R(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(e,r,a,l){return new $R(e,r,a,l)}function Wf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tr(e,r){var a=e.alternate;return a===null?(a=Pn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function h_(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function dc(e,r,a,l,f,d){var y=0;if(l=e,typeof e=="function")Wf(e)&&(y=1);else if(typeof e=="string")y=Zb(e,a,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=Pn(31,a,r,f),e.elementType=w,e.lanes=d,e;case z:return ra(a.children,f,d,r);case D:y=8,f|=24;break;case nt:return e=Pn(12,a,r,f|2),e.elementType=nt,e.lanes=d,e;case Rt:return e=Pn(13,a,r,f),e.elementType=Rt,e.lanes=d,e;case vt:return e=Pn(19,a,r,f),e.elementType=vt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tt:y=10;break t;case rt:y=9;break t;case mt:y=11;break t;case O:y=14;break t;case R:y=16,l=null;break t}y=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=Pn(y,a,r,f),r.elementType=e,r.type=l,r.lanes=d,r}function ra(e,r,a,l){return e=Pn(7,e,l,r),e.lanes=a,e}function Zf(e,r,a){return e=Pn(6,e,null,r),e.lanes=a,e}function f_(e){var r=Pn(18,null,null,0);return r.stateNode=e,r}function td(e,r,a){return r=Pn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var d_=new WeakMap;function ei(e,r){if(typeof e=="object"&&e!==null){var a=d_.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Na(r)},d_.set(e,r),r)}return{value:e,source:r,stack:Na(r)}}var qa=[],Ya=0,mc=null,ml=0,ni=[],ii=0,Jr=null,Oi=1,Di="";function er(e,r){qa[Ya++]=ml,qa[Ya++]=mc,mc=e,ml=r}function m_(e,r,a){ni[ii++]=Oi,ni[ii++]=Di,ni[ii++]=Jr,Jr=e;var l=Oi;e=Di;var f=32-gn(l)-1;l&=~(1<<f),a+=1;var d=32-gn(r)+f;if(30<d){var y=f-f%5;d=(l&(1<<y)-1).toString(32),l>>=y,f-=y,Oi=1<<32-gn(r)+f|a<<f|l,Di=d+e}else Oi=1<<d|a<<f|l,Di=e}function ed(e){e.return!==null&&(er(e,1),m_(e,1,0))}function nd(e){for(;e===mc;)mc=qa[--Ya],qa[Ya]=null,ml=qa[--Ya],qa[Ya]=null;for(;e===Jr;)Jr=ni[--ii],ni[ii]=null,Di=ni[--ii],ni[ii]=null,Oi=ni[--ii],ni[ii]=null}function p_(e,r){ni[ii++]=Oi,ni[ii++]=Di,ni[ii++]=Jr,Oi=r.id,Di=r.overflow,Jr=e}var We=null,pe=null,qt=!1,Wr=null,ri=!1,id=Error(s(519));function Zr(e){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(ei(r,e)),id}function g_(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[Ae]=e,r[Je]=l,a){case"dialog":Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":case"embed":Bt("load",r);break;case"video":case"audio":for(a=0;a<Pl.length;a++)Bt(Pl[a],r);break;case"source":Bt("error",r);break;case"img":case"image":case"link":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"input":Bt("invalid",r),Ks(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Bt("invalid",r);break;case"textarea":Bt("invalid",r),Hr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||xE(r.textContent,a)?(l.popover!=null&&(Bt("beforetoggle",r),Bt("toggle",r)),l.onScroll!=null&&Bt("scroll",r),l.onScrollEnd!=null&&Bt("scrollend",r),l.onClick!=null&&(r.onclick=Ge),r=!0):r=!1,r||Zr(e,!0)}function __(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:We=We.return}}function Ka(e){if(e!==We)return!1;if(!qt)return __(e),qt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Tm(e.type,e.memoizedProps)),a=!a),a&&pe&&Zr(e),__(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));pe=HE(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));pe=HE(e)}else r===27?(r=pe,ds(e.type)?(e=bm,bm=null,pe=e):pe=r):pe=We?ai(e.stateNode.nextSibling):null;return!0}function sa(){pe=We=null,qt=!1}function rd(){var e=Wr;return e!==null&&(On===null?On=e:On.push.apply(On,e),Wr=null),e}function pl(e){Wr===null?Wr=[e]:Wr.push(e)}var sd=L(null),aa=null,nr=null;function ts(e,r,a){st(sd,r._currentValue),r._currentValue=a}function ir(e){e._currentValue=sd.current,Q(sd)}function ad(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function od(e,r,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var y=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var N=0;N<r.length;N++)if(A.context===r[N]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),ad(d.return,a,e),l||(y=null);break t}d=A.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),ad(y,a,e),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===e){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function $a(e,r,a,l){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var A=f.type;Un(f.pendingProps.value,y.value)||(e!==null?e.push(A):e=[A])}}else if(f===Pt.current){if(y=f.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Hl):e=[Hl])}f=f.return}e!==null&&od(r,e,a,l),r.flags|=262144}function pc(e){for(e=e.firstContext;e!==null;){if(!Un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function oa(e){aa=e,nr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return y_(aa,e)}function gc(e,r){return aa===null&&oa(e),y_(e,r)}function y_(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},nr===null){if(e===null)throw Error(s(308));nr=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else nr=nr.next=r;return a}var QR=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},XR=i.unstable_scheduleCallback,JR=i.unstable_NormalPriority,xe={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new QR,data:new Map,refCount:0}}function gl(e){e.refCount--,e.refCount===0&&XR(JR,function(){e.controller.abort()})}var _l=null,ud=0,Qa=0,Xa=null;function WR(e,r){if(_l===null){var a=_l=[];ud=0,Qa=fm(),Xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ud++,r.then(E_,E_),r}function E_(){if(--ud===0&&_l!==null){Xa!==null&&(Xa.status="fulfilled");var e=_l;_l=null,Qa=0,Xa=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function ZR(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var v_=K.S;K.S=function(e,r){iE=pt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&WR(e,r),v_!==null&&v_(e,r)};var la=L(null);function cd(){var e=la.current;return e!==null?e:ue.pooledCache}function _c(e,r){r===null?st(la,la.current):st(la,r.pool)}function T_(){var e=cd();return e===null?null:{parent:xe._currentValue,pool:e}}var Ja=Error(s(460)),hd=Error(s(474)),yc=Error(s(542)),Ec={then:function(){}};function A_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function S_(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(Ge,Ge),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,R_(e),e;default:if(typeof r.status=="string")r.then(Ge,Ge);else{if(e=ue,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,R_(e),e}throw ca=r,Ja}}function ua(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ca=a,Ja):a}}var ca=null;function I_(){if(ca===null)throw Error(s(459));var e=ca;return ca=null,e}function R_(e){if(e===Ja||e===yc)throw Error(s(483))}var Wa=null,yl=0;function vc(e){var r=yl;return yl+=1,Wa===null&&(Wa=[]),S_(Wa,e,r)}function El(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function Tc(e,r){throw r.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function b_(e){function r(k,M){if(e){var H=k.deletions;H===null?(k.deletions=[M],k.flags|=16):H.push(M)}}function a(k,M){if(!e)return null;for(;M!==null;)r(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function f(k,M){return k=tr(k,M),k.index=0,k.sibling=null,k}function d(k,M,H){return k.index=H,e?(H=k.alternate,H!==null?(H=H.index,H<M?(k.flags|=67108866,M):H):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function A(k,M,H,W){return M===null||M.tag!==6?(M=Zf(H,k.mode,W),M.return=k,M):(M=f(M,H),M.return=k,M)}function N(k,M,H,W){var Et=H.type;return Et===z?$(k,M,H.props.children,W,H.key):M!==null&&(M.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&ua(Et)===M.type)?(M=f(M,H.props),El(M,H),M.return=k,M):(M=dc(H.type,H.key,H.props,null,k.mode,W),El(M,H),M.return=k,M)}function F(k,M,H,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=td(H,k.mode,W),M.return=k,M):(M=f(M,H.children||[]),M.return=k,M)}function $(k,M,H,W,Et){return M===null||M.tag!==7?(M=ra(H,k.mode,W,Et),M.return=k,M):(M=f(M,H),M.return=k,M)}function et(k,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Zf(""+M,k.mode,H),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return H=dc(M.type,M.key,M.props,null,k.mode,H),El(H,M),H.return=k,H;case V:return M=td(M,k.mode,H),M.return=k,M;case R:return M=ua(M),et(k,M,H)}if(fe(M)||U(M))return M=ra(M,k.mode,H,null),M.return=k,M;if(typeof M.then=="function")return et(k,vc(M),H);if(M.$$typeof===tt)return et(k,gc(k,M),H);Tc(k,M)}return null}function G(k,M,H,W){var Et=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Et!==null?null:A(k,M,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===Et?N(k,M,H,W):null;case V:return H.key===Et?F(k,M,H,W):null;case R:return H=ua(H),G(k,M,H,W)}if(fe(H)||U(H))return Et!==null?null:$(k,M,H,W,null);if(typeof H.then=="function")return G(k,M,vc(H),W);if(H.$$typeof===tt)return G(k,M,gc(k,H),W);Tc(k,H)}return null}function q(k,M,H,W,Et){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(H)||null,A(M,k,""+W,Et);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return k=k.get(W.key===null?H:W.key)||null,N(M,k,W,Et);case V:return k=k.get(W.key===null?H:W.key)||null,F(M,k,W,Et);case R:return W=ua(W),q(k,M,H,W,Et)}if(fe(W)||U(W))return k=k.get(H)||null,$(M,k,W,Et,null);if(typeof W.then=="function")return q(k,M,H,vc(W),Et);if(W.$$typeof===tt)return q(k,M,H,gc(M,W),Et);Tc(M,W)}return null}function ft(k,M,H,W){for(var Et=null,Jt=null,gt=M,xt=M=0,jt=null;gt!==null&&xt<H.length;xt++){gt.index>xt?(jt=gt,gt=null):jt=gt.sibling;var Wt=G(k,gt,H[xt],W);if(Wt===null){gt===null&&(gt=jt);break}e&&gt&&Wt.alternate===null&&r(k,gt),M=d(Wt,M,xt),Jt===null?Et=Wt:Jt.sibling=Wt,Jt=Wt,gt=jt}if(xt===H.length)return a(k,gt),qt&&er(k,xt),Et;if(gt===null){for(;xt<H.length;xt++)gt=et(k,H[xt],W),gt!==null&&(M=d(gt,M,xt),Jt===null?Et=gt:Jt.sibling=gt,Jt=gt);return qt&&er(k,xt),Et}for(gt=l(gt);xt<H.length;xt++)jt=q(gt,k,xt,H[xt],W),jt!==null&&(e&&jt.alternate!==null&&gt.delete(jt.key===null?xt:jt.key),M=d(jt,M,xt),Jt===null?Et=jt:Jt.sibling=jt,Jt=jt);return e&&gt.forEach(function(ys){return r(k,ys)}),qt&&er(k,xt),Et}function St(k,M,H,W){if(H==null)throw Error(s(151));for(var Et=null,Jt=null,gt=M,xt=M=0,jt=null,Wt=H.next();gt!==null&&!Wt.done;xt++,Wt=H.next()){gt.index>xt?(jt=gt,gt=null):jt=gt.sibling;var ys=G(k,gt,Wt.value,W);if(ys===null){gt===null&&(gt=jt);break}e&&gt&&ys.alternate===null&&r(k,gt),M=d(ys,M,xt),Jt===null?Et=ys:Jt.sibling=ys,Jt=ys,gt=jt}if(Wt.done)return a(k,gt),qt&&er(k,xt),Et;if(gt===null){for(;!Wt.done;xt++,Wt=H.next())Wt=et(k,Wt.value,W),Wt!==null&&(M=d(Wt,M,xt),Jt===null?Et=Wt:Jt.sibling=Wt,Jt=Wt);return qt&&er(k,xt),Et}for(gt=l(gt);!Wt.done;xt++,Wt=H.next())Wt=q(gt,k,xt,Wt.value,W),Wt!==null&&(e&&Wt.alternate!==null&&gt.delete(Wt.key===null?xt:Wt.key),M=d(Wt,M,xt),Jt===null?Et=Wt:Jt.sibling=Wt,Jt=Wt);return e&&gt.forEach(function(cw){return r(k,cw)}),qt&&er(k,xt),Et}function ae(k,M,H,W){if(typeof H=="object"&&H!==null&&H.type===z&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:t:{for(var Et=H.key;M!==null;){if(M.key===Et){if(Et=H.type,Et===z){if(M.tag===7){a(k,M.sibling),W=f(M,H.props.children),W.return=k,k=W;break t}}else if(M.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&ua(Et)===M.type){a(k,M.sibling),W=f(M,H.props),El(W,H),W.return=k,k=W;break t}a(k,M);break}else r(k,M);M=M.sibling}H.type===z?(W=ra(H.props.children,k.mode,W,H.key),W.return=k,k=W):(W=dc(H.type,H.key,H.props,null,k.mode,W),El(W,H),W.return=k,k=W)}return y(k);case V:t:{for(Et=H.key;M!==null;){if(M.key===Et)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(k,M.sibling),W=f(M,H.children||[]),W.return=k,k=W;break t}else{a(k,M);break}else r(k,M);M=M.sibling}W=td(H,k.mode,W),W.return=k,k=W}return y(k);case R:return H=ua(H),ae(k,M,H,W)}if(fe(H))return ft(k,M,H,W);if(U(H)){if(Et=U(H),typeof Et!="function")throw Error(s(150));return H=Et.call(H),St(k,M,H,W)}if(typeof H.then=="function")return ae(k,M,vc(H),W);if(H.$$typeof===tt)return ae(k,M,gc(k,H),W);Tc(k,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(a(k,M.sibling),W=f(M,H),W.return=k,k=W):(a(k,M),W=Zf(H,k.mode,W),W.return=k,k=W),y(k)):a(k,M)}return function(k,M,H,W){try{yl=0;var Et=ae(k,M,H,W);return Wa=null,Et}catch(gt){if(gt===Ja||gt===yc)throw gt;var Jt=Pn(29,gt,null,k.mode);return Jt.lanes=W,Jt.return=k,Jt}finally{}}}var ha=b_(!0),w_=b_(!1),es=!1;function fd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ns(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function is(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=fc(e),c_(e,null,a),r}return hc(e,l,r,a),fc(e)}function vl(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Vr(e,a)}}function md(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var pd=!1;function Tl(){if(pd){var e=Xa;if(e!==null)throw e}}function Al(e,r,a,l){pd=!1;var f=e.updateQueue;es=!1;var d=f.firstBaseUpdate,y=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var N=A,F=N.next;N.next=null,y===null?d=F:y.next=F,y=N;var $=e.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==y&&(A===null?$.firstBaseUpdate=F:A.next=F,$.lastBaseUpdate=N))}if(d!==null){var et=f.baseState;y=0,$=F=N=null,A=d;do{var G=A.lane&-536870913,q=G!==A.lane;if(q?(zt&G)===G:(l&G)===G){G!==0&&G===Qa&&(pd=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var ft=e,St=A;G=r;var ae=a;switch(St.tag){case 1:if(ft=St.payload,typeof ft=="function"){et=ft.call(ae,et,G);break t}et=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=St.payload,G=typeof ft=="function"?ft.call(ae,et,G):ft,G==null)break t;et=T({},et,G);break t;case 2:es=!0}}G=A.callback,G!==null&&(e.flags|=64,q&&(e.flags|=8192),q=f.callbacks,q===null?f.callbacks=[G]:q.push(G))}else q={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(F=$=q,N=et):$=$.next=q,y|=G;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;q=A,A=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);$===null&&(N=et),f.baseState=N,f.firstBaseUpdate=F,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),ls|=y,e.lanes=y,e.memoizedState=et}}function C_(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function N_(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)C_(a[e],r)}var Za=L(null),Ac=L(0);function O_(e,r){e=fr,st(Ac,e),st(Za,r),fr=e|r.baseLanes}function gd(){st(Ac,fr),st(Za,Za.current)}function _d(){fr=Ac.current,Q(Za),Q(Ac)}var kn=L(null),si=null;function rs(e){var r=e.alternate;st(Ne,Ne.current&1),st(kn,e),si===null&&(r===null||Za.current!==null||r.memoizedState!==null)&&(si=e)}function yd(e){st(Ne,Ne.current),st(kn,e),si===null&&(si=e)}function D_(e){e.tag===22?(st(Ne,Ne.current),st(kn,e),si===null&&(si=e)):ss()}function ss(){st(Ne,Ne.current),st(kn,kn.current)}function Bn(e){Q(kn),si===e&&(si=null),Q(Ne)}var Ne=L(0);function Sc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Im(a)||Rm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var rr=0,Mt=null,re=null,Le=null,Ic=!1,to=!1,fa=!1,Rc=0,Sl=0,eo=null,tb=0;function Ie(){throw Error(s(321))}function Ed(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!Un(e[a],r[a]))return!1;return!0}function vd(e,r,a,l,f,d){return rr=d,Mt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=e===null||e.memoizedState===null?my:Vd,fa=!1,d=a(l,f),fa=!1,to&&(d=x_(r,a,l,f)),M_(e),d}function M_(e){K.H=bl;var r=re!==null&&re.next!==null;if(rr=0,Le=re=Mt=null,Ic=!1,Sl=0,eo=null,r)throw Error(s(300));e===null||Ve||(e=e.dependencies,e!==null&&pc(e)&&(Ve=!0))}function x_(e,r,a,l){Mt=e;var f=0;do{if(to&&(eo=null),Sl=0,to=!1,25<=f)throw Error(s(301));if(f+=1,Le=re=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=py,d=r(a,l)}while(to);return d}function eb(){var e=K.H,r=e.useState()[0];return r=typeof r.then=="function"?Il(r):r,e=e.useState()[0],(re!==null?re.memoizedState:null)!==e&&(Mt.flags|=1024),r}function Td(){var e=Rc!==0;return Rc=0,e}function Ad(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function Sd(e){if(Ic){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}Ic=!1}rr=0,Le=re=Mt=null,to=!1,Sl=Rc=0,eo=null}function Tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Mt.memoizedState=Le=e:Le=Le.next=e,Le}function Oe(){if(re===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var r=Le===null?Mt.memoizedState:Le.next;if(r!==null)Le=r,re=e;else{if(e===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Le===null?Mt.memoizedState=Le=e:Le=Le.next=e}return Le}function bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(e){var r=Sl;return Sl+=1,eo===null&&(eo=[]),e=S_(eo,e,r),r=Mt,(Le===null?r.memoizedState:Le.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?my:Vd),e}function wc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Il(e);if(e.$$typeof===tt)return Ze(e)}throw Error(s(438,String(e)))}function Id(e){var r=null,a=Mt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=bc(),Mt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=x;return r.index++,a}function sr(e,r){return typeof r=="function"?r(e):r}function Cc(e){var r=Oe();return Rd(r,re,e)}function Rd(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var y=f.next;f.next=d.next,d.next=y}r.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var A=y=null,N=null,F=r,$=!1;do{var et=F.lane&-536870913;if(et!==F.lane?(zt&et)===et:(rr&et)===et){var G=F.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),et===Qa&&($=!0);else if((rr&G)===G){F=F.next,G===Qa&&($=!0);continue}else et={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(A=N=et,y=d):N=N.next=et,Mt.lanes|=G,ls|=G;et=F.action,fa&&a(d,et),d=F.hasEagerState?F.eagerState:a(d,et)}else G={lane:et,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(A=N=G,y=d):N=N.next=G,Mt.lanes|=et,ls|=et;F=F.next}while(F!==null&&F!==r);if(N===null?y=d:N.next=A,!Un(d,e.memoizedState)&&(Ve=!0,$&&(a=Xa,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function bd(e){var r=Oe(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var y=f=f.next;do d=e(d,y.action),y=y.next;while(y!==f);Un(d,r.memoizedState)||(Ve=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function L_(e,r,a){var l=Mt,f=Oe(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var y=!Un((re||f).memoizedState,a);if(y&&(f.memoizedState=a,Ve=!0),f=f.queue,Nd(P_.bind(null,l,f,e),[e]),f.getSnapshot!==r||y||Le!==null&&Le.memoizedState.tag&1){if(l.flags|=2048,no(9,{destroy:void 0},U_.bind(null,l,f,a,r),null),ue===null)throw Error(s(349));d||(rr&127)!==0||V_(l,r,a)}return a}function V_(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Mt.updateQueue,r===null?(r=bc(),Mt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function U_(e,r,a,l){r.value=a,r.getSnapshot=l,k_(r)&&B_(e)}function P_(e,r,a){return a(function(){k_(r)&&B_(e)})}function k_(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!Un(e,a)}catch{return!0}}function B_(e){var r=ia(e,2);r!==null&&Dn(r,e,2)}function wd(e){var r=Tn();if(typeof e=="function"){var a=e;if(e=a(),fa){Xn(!0);try{a()}finally{Xn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:e},r}function z_(e,r,a,l){return e.baseState=a,Rd(e,re,typeof l=="function"?l:sr)}function nb(e,r,a,l,f){if(Dc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,j_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function j_(e,r){var a=r.action,l=r.payload,f=e.state;if(r.isTransition){var d=K.T,y={};K.T=y;try{var A=a(f,l),N=K.S;N!==null&&N(y,A),H_(e,r,A)}catch(F){Cd(e,r,F)}finally{d!==null&&y.types!==null&&(d.types=y.types),K.T=d}}else try{d=a(f,l),H_(e,r,d)}catch(F){Cd(e,r,F)}}function H_(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){F_(e,r,l)},function(l){return Cd(e,r,l)}):F_(e,r,a)}function F_(e,r,a){r.status="fulfilled",r.value=a,G_(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,j_(e,a)))}function Cd(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,G_(r),r=r.next;while(r!==l)}e.action=null}function G_(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function q_(e,r){return r}function Y_(e,r){if(qt){var a=ue.formState;if(a!==null){t:{var l=Mt;if(qt){if(pe){e:{for(var f=pe,d=ri;f.nodeType!==8;){if(!d){f=null;break e}if(f=ai(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){pe=ai(f.nextSibling),l=f.data==="F!";break t}}Zr(l)}l=!1}l&&(r=a[0])}}return a=Tn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q_,lastRenderedState:r},a.queue=l,a=hy.bind(null,Mt,l),l.dispatch=a,l=wd(!1),d=Ld.bind(null,Mt,!1,l.queue),l=Tn(),f={state:r,dispatch:null,action:e,pending:null},l.queue=f,a=nb.bind(null,Mt,f,d,a),f.dispatch=a,l.memoizedState=e,[r,a,!1]}function K_(e){var r=Oe();return $_(r,re,e)}function $_(e,r,a){if(r=Rd(e,r,q_)[0],e=Cc(sr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Il(r)}catch(y){throw y===Ja?yc:y}else l=r;r=Oe();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Mt.flags|=2048,no(9,{destroy:void 0},ib.bind(null,f,a),null)),[l,d,e]}function ib(e,r){e.action=r}function Q_(e){var r=Oe(),a=re;if(a!==null)return $_(r,a,e);Oe(),r=r.memoizedState,a=Oe();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function no(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=Mt.updateQueue,r===null&&(r=bc(),Mt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function X_(){return Oe().memoizedState}function Nc(e,r,a,l){var f=Tn();Mt.flags|=e,f.memoizedState=no(1|r,{destroy:void 0},a,l===void 0?null:l)}function Oc(e,r,a,l){var f=Oe();l=l===void 0?null:l;var d=f.memoizedState.inst;re!==null&&l!==null&&Ed(l,re.memoizedState.deps)?f.memoizedState=no(r,d,a,l):(Mt.flags|=e,f.memoizedState=no(1|r,d,a,l))}function J_(e,r){Nc(8390656,8,e,r)}function Nd(e,r){Oc(2048,8,e,r)}function rb(e){Mt.flags|=4;var r=Mt.updateQueue;if(r===null)r=bc(),Mt.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function W_(e){var r=Oe().memoizedState;return rb({ref:r,nextImpl:e}),function(){if((Zt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Z_(e,r){return Oc(4,2,e,r)}function ty(e,r){return Oc(4,4,e,r)}function ey(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function ny(e,r,a){a=a!=null?a.concat([e]):null,Oc(4,4,ey.bind(null,r,e),a)}function Od(){}function iy(e,r){var a=Oe();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Ed(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function ry(e,r){var a=Oe();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Ed(r,l[1]))return l[0];if(l=e(),fa){Xn(!0);try{e()}finally{Xn(!1)}}return a.memoizedState=[l,r],l}function Dd(e,r,a){return a===void 0||(rr&1073741824)!==0&&(zt&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=sE(),Mt.lanes|=e,ls|=e,a)}function sy(e,r,a,l){return Un(a,r)?a:Za.current!==null?(e=Dd(e,a,l),Un(e,r)||(Ve=!0),e):(rr&42)===0||(rr&1073741824)!==0&&(zt&261930)===0?(Ve=!0,e.memoizedState=a):(e=sE(),Mt.lanes|=e,ls|=e,r)}function ay(e,r,a,l,f){var d=at.p;at.p=d!==0&&8>d?d:8;var y=K.T,A={};K.T=A,Ld(e,!1,r,a);try{var N=f(),F=K.S;if(F!==null&&F(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=ZR(N,l);Rl(e,r,$,Hn(e))}else Rl(e,r,l,Hn(e))}catch(et){Rl(e,r,{then:function(){},status:"rejected",reason:et},Hn())}finally{at.p=d,y!==null&&A.types!==null&&(y.types=A.types),K.T=y}}function sb(){}function Md(e,r,a,l){if(e.tag!==5)throw Error(s(476));var f=oy(e).queue;ay(e,f,r,_t,a===null?sb:function(){return ly(e),a(l)})}function oy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:_t,baseState:_t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:_t},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function ly(e){var r=oy(e);r.next===null&&(r=e.alternate.memoizedState),Rl(e,r.next.queue,{},Hn())}function xd(){return Ze(Hl)}function uy(){return Oe().memoizedState}function cy(){return Oe().memoizedState}function ab(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=Hn();e=ns(a);var l=is(r,e,a);l!==null&&(Dn(l,r,a),vl(l,r,a)),r={cache:ld()},e.payload=r;return}r=r.return}}function ob(e,r,a){var l=Hn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Dc(e)?fy(r,a):(a=Jf(e,r,a,l),a!==null&&(Dn(a,e,l),dy(a,r,l)))}function hy(e,r,a){var l=Hn();Rl(e,r,a,l)}function Rl(e,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dc(e))fy(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var y=r.lastRenderedState,A=d(y,a);if(f.hasEagerState=!0,f.eagerState=A,Un(A,y))return hc(e,r,f,0),ue===null&&cc(),!1}catch{}finally{}if(a=Jf(e,r,f,l),a!==null)return Dn(a,e,l),dy(a,r,l),!0}return!1}function Ld(e,r,a,l){if(l={lane:2,revertLane:fm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Dc(e)){if(r)throw Error(s(479))}else r=Jf(e,a,l,2),r!==null&&Dn(r,e,2)}function Dc(e){var r=e.alternate;return e===Mt||r!==null&&r===Mt}function fy(e,r){to=Ic=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function dy(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Vr(e,a)}}var bl={readContext:Ze,use:wc,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};bl.useEffectEvent=Ie;var my={readContext:Ze,use:wc,useCallback:function(e,r){return Tn().memoizedState=[e,r===void 0?null:r],e},useContext:Ze,useEffect:J_,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,Nc(4194308,4,ey.bind(null,r,e),a)},useLayoutEffect:function(e,r){return Nc(4194308,4,e,r)},useInsertionEffect:function(e,r){Nc(4,2,e,r)},useMemo:function(e,r){var a=Tn();r=r===void 0?null:r;var l=e();if(fa){Xn(!0);try{e()}finally{Xn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=Tn();if(a!==void 0){var f=a(r);if(fa){Xn(!0);try{a(r)}finally{Xn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=ob.bind(null,Mt,e),[l.memoizedState,e]},useRef:function(e){var r=Tn();return e={current:e},r.memoizedState=e},useState:function(e){e=wd(e);var r=e.queue,a=hy.bind(null,Mt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:Od,useDeferredValue:function(e,r){var a=Tn();return Dd(a,e,r)},useTransition:function(){var e=wd(!1);return e=ay.bind(null,Mt,e.queue,!0,!1),Tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=Mt,f=Tn();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ue===null)throw Error(s(349));(zt&127)!==0||V_(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,J_(P_.bind(null,l,d,e),[e]),l.flags|=2048,no(9,{destroy:void 0},U_.bind(null,l,d,a,r),null),a},useId:function(){var e=Tn(),r=ue.identifierPrefix;if(qt){var a=Di,l=Oi;a=(l&~(1<<32-gn(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Rc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=tb++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:xd,useFormState:Y_,useActionState:Y_,useOptimistic:function(e){var r=Tn();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ld.bind(null,Mt,!0,a),a.dispatch=r,[e,r]},useMemoCache:Id,useCacheRefresh:function(){return Tn().memoizedState=ab.bind(null,Mt)},useEffectEvent:function(e){var r=Tn(),a={impl:e};return r.memoizedState=a,function(){if((Zt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Vd={readContext:Ze,use:wc,useCallback:iy,useContext:Ze,useEffect:Nd,useImperativeHandle:ny,useInsertionEffect:Z_,useLayoutEffect:ty,useMemo:ry,useReducer:Cc,useRef:X_,useState:function(){return Cc(sr)},useDebugValue:Od,useDeferredValue:function(e,r){var a=Oe();return sy(a,re.memoizedState,e,r)},useTransition:function(){var e=Cc(sr)[0],r=Oe().memoizedState;return[typeof e=="boolean"?e:Il(e),r]},useSyncExternalStore:L_,useId:uy,useHostTransitionStatus:xd,useFormState:K_,useActionState:K_,useOptimistic:function(e,r){var a=Oe();return z_(a,re,e,r)},useMemoCache:Id,useCacheRefresh:cy};Vd.useEffectEvent=W_;var py={readContext:Ze,use:wc,useCallback:iy,useContext:Ze,useEffect:Nd,useImperativeHandle:ny,useInsertionEffect:Z_,useLayoutEffect:ty,useMemo:ry,useReducer:bd,useRef:X_,useState:function(){return bd(sr)},useDebugValue:Od,useDeferredValue:function(e,r){var a=Oe();return re===null?Dd(a,e,r):sy(a,re.memoizedState,e,r)},useTransition:function(){var e=bd(sr)[0],r=Oe().memoizedState;return[typeof e=="boolean"?e:Il(e),r]},useSyncExternalStore:L_,useId:uy,useHostTransitionStatus:xd,useFormState:Q_,useActionState:Q_,useOptimistic:function(e,r){var a=Oe();return re!==null?z_(a,re,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Id,useCacheRefresh:cy};py.useEffectEvent=W_;function Ud(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Pd={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=Hn(),f=ns(l);f.payload=r,a!=null&&(f.callback=a),r=is(e,f,l),r!==null&&(Dn(r,e,l),vl(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=Hn(),f=ns(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=is(e,f,l),r!==null&&(Dn(r,e,l),vl(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=Hn(),l=ns(a);l.tag=2,r!=null&&(l.callback=r),r=is(e,l,a),r!==null&&(Dn(r,e,a),vl(r,e,a))}};function gy(e,r,a,l,f,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):r.prototype&&r.prototype.isPureReactComponent?!fl(a,l)||!fl(f,d):!0}function _y(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&Pd.enqueueReplaceState(r,r.state,null)}function da(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function yy(e){uc(e)}function Ey(e){console.error(e)}function vy(e){uc(e)}function Mc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Ty(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function kd(e,r,a){return a=ns(a),a.tag=3,a.payload={element:null},a.callback=function(){Mc(e,r)},a}function Ay(e){return e=ns(e),e.tag=3,e}function Sy(e,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){Ty(r,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Ty(r,a,l),typeof f!="function"&&(us===null?us=new Set([this]):us.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function lb(e,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&$a(r,a,f,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return si===null?Gc():a.alternate===null&&Re===0&&(Re=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ec?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),um(e,l,f)),!1;case 22:return a.flags|=65536,l===Ec?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),um(e,l,f)),!1}throw Error(s(435,a.tag))}return um(e,l,f),Gc(),!1}if(qt)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==id&&(e=Error(s(422),{cause:l}),pl(ei(e,a)))):(l!==id&&(r=Error(s(423),{cause:l}),pl(ei(r,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=ei(l,a),f=kd(e.stateNode,l,f),md(e,f),Re!==4&&(Re=2)),!1;var d=Error(s(520),{cause:l});if(d=ei(d,a),Ll===null?Ll=[d]:Ll.push(d),Re!==4&&(Re=2),r===null)return!0;l=ei(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=kd(a.stateNode,l,e),md(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(us===null||!us.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ay(f),Sy(f,e,a,l),md(a,f),!1}a=a.return}while(a!==null);return!1}var Bd=Error(s(461)),Ve=!1;function tn(e,r,a,l){r.child=e===null?w_(r,null,a,l):ha(r,e.child,a,l)}function Iy(e,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var y={};for(var A in l)A!=="ref"&&(y[A]=l[A])}else y=l;return oa(r),l=vd(e,r,a,y,d,f),A=Td(),e!==null&&!Ve?(Ad(e,r,f),ar(e,r,f)):(qt&&A&&ed(r),r.flags|=1,tn(e,r,l,f),r.child)}function Ry(e,r,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!Wf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,by(e,r,d,l,f)):(e=dc(a.type,null,l,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!Kd(e,f)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(y,l)&&e.ref===r.ref)return ar(e,r,f)}return r.flags|=1,e=tr(d,l),e.ref=r.ref,e.return=r,r.child=e}function by(e,r,a,l,f){if(e!==null){var d=e.memoizedProps;if(fl(d,l)&&e.ref===r.ref)if(Ve=!1,r.pendingProps=l=d,Kd(e,f))(e.flags&131072)!==0&&(Ve=!0);else return r.lanes=e.lanes,ar(e,r,f)}return zd(e,r,a,l,f)}function wy(e,r,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=r.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return Cy(e,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&_c(r,d!==null?d.cachePool:null),d!==null?O_(r,d):gd(),D_(r);else return l=r.lanes=536870912,Cy(e,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(_c(r,d.cachePool),O_(r,d),ss(),r.memoizedState=null):(e!==null&&_c(r,null),gd(),ss());return tn(e,r,f,a),r.child}function wl(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Cy(e,r,a,l,f){var d=cd();return d=d===null?null:{parent:xe._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},e!==null&&_c(r,null),gd(),D_(r),e!==null&&$a(e,r,l,!0),r.childLanes=f,null}function xc(e,r){return r=Vc({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function Ny(e,r,a){return ha(r,e.child,null,a),e=xc(r,r.pendingProps),e.flags|=2,Bn(r),r.memoizedState=null,e}function ub(e,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(qt){if(l.mode==="hidden")return e=xc(r,l),r.lanes=536870912,wl(null,e);if(yd(r),(e=pe)?(e=jE(e,ri),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Jr!==null?{id:Oi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=f_(e),a.return=r,r.child=a,We=r,pe=null)):e=null,e===null)throw Zr(r);return r.lanes=536870912,null}return xc(r,l)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(yd(r),f)if(r.flags&256)r.flags&=-257,r=Ny(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ve||$a(e,r,a,!1),f=(a&e.childLanes)!==0,Ve||f){if(l=ue,l!==null&&(y=Ur(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,ia(e,y),Dn(l,e,y),Bd;Gc(),r=Ny(e,r,a)}else e=d.treeContext,pe=ai(y.nextSibling),We=r,qt=!0,Wr=null,ri=!1,e!==null&&p_(r,e),r=xc(r,l),r.flags|=4096;return r}return e=tr(e.child,{mode:l.mode,children:l.children}),e.ref=r.ref,r.child=e,e.return=r,e}function Lc(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function zd(e,r,a,l,f){return oa(r),a=vd(e,r,a,l,void 0,f),l=Td(),e!==null&&!Ve?(Ad(e,r,f),ar(e,r,f)):(qt&&l&&ed(r),r.flags|=1,tn(e,r,a,f),r.child)}function Oy(e,r,a,l,f,d){return oa(r),r.updateQueue=null,a=x_(r,l,a,f),M_(e),l=Td(),e!==null&&!Ve?(Ad(e,r,d),ar(e,r,d)):(qt&&l&&ed(r),r.flags|=1,tn(e,r,a,d),r.child)}function Dy(e,r,a,l,f){if(oa(r),r.stateNode===null){var d=Ga,y=a.contextType;typeof y=="object"&&y!==null&&(d=Ze(y)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Pd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},fd(r),y=a.contextType,d.context=typeof y=="object"&&y!==null?Ze(y):Ga,d.state=r.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Ud(r,a,y,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Pd.enqueueReplaceState(d,d.state,null),Al(r,l,d,f),Tl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var A=r.memoizedProps,N=da(a,A);d.props=N;var F=d.context,$=a.contextType;y=Ga,typeof $=="object"&&$!==null&&(y=Ze($));var et=a.getDerivedStateFromProps;$=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||F!==y)&&_y(r,d,l,y),es=!1;var G=r.memoizedState;d.state=G,Al(r,l,d,f),Tl(),F=r.memoizedState,A||G!==F||es?(typeof et=="function"&&(Ud(r,a,et,l),F=r.memoizedState),(N=es||gy(r,a,N,l,G,F,y))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=y,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,dd(e,r),y=r.memoizedProps,$=da(a,y),d.props=$,et=r.pendingProps,G=d.context,F=a.contextType,N=Ga,typeof F=="object"&&F!==null&&(N=Ze(F)),A=a.getDerivedStateFromProps,(F=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==et||G!==N)&&_y(r,d,l,N),es=!1,G=r.memoizedState,d.state=G,Al(r,l,d,f),Tl();var q=r.memoizedState;y!==et||G!==q||es||e!==null&&e.dependencies!==null&&pc(e.dependencies)?(typeof A=="function"&&(Ud(r,a,A,l),q=r.memoizedState),($=es||gy(r,a,$,l,G,q,N)||e!==null&&e.dependencies!==null&&pc(e.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,Lc(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=ha(r,e.child,null,f),r.child=ha(r,null,a,f)):tn(e,r,a,f),r.memoizedState=d.state,e=r.child):e=ar(e,r,f),e}function My(e,r,a,l){return sa(),r.flags|=256,tn(e,r,a,l),r.child}var jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(e){return{baseLanes:e,cachePool:T_()}}function Fd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=jn),e}function xy(e,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(Ne.current&2)!==0),y&&(f=!0,r.flags&=-129),y=(r.flags&32)!==0,r.flags&=-33,e===null){if(qt){if(f?rs(r):ss(),(e=pe)?(e=jE(e,ri),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Jr!==null?{id:Oi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=f_(e),a.return=r,r.child=a,We=r,pe=null)):e=null,e===null)throw Zr(r);return Rm(e)?r.lanes=32:r.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(ss(),f=r.mode,A=Vc({mode:"hidden",children:A},f),l=ra(l,f,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,l=r.child,l.memoizedState=Hd(a),l.childLanes=Fd(e,y,a),r.memoizedState=jd,wl(null,l)):(rs(r),Gd(r,A))}var N=e.memoizedState;if(N!==null&&(A=N.dehydrated,A!==null)){if(d)r.flags&256?(rs(r),r.flags&=-257,r=qd(e,r,a)):r.memoizedState!==null?(ss(),r.child=e.child,r.flags|=128,r=null):(ss(),A=l.fallback,f=r.mode,l=Vc({mode:"visible",children:l.children},f),A=ra(A,f,a,null),A.flags|=2,l.return=r,A.return=r,l.sibling=A,r.child=l,ha(r,e.child,null,a),l=r.child,l.memoizedState=Hd(a),l.childLanes=Fd(e,y,a),r.memoizedState=jd,r=wl(null,l));else if(rs(r),Rm(A)){if(y=A.nextSibling&&A.nextSibling.dataset,y)var F=y.dgst;y=F,l=Error(s(419)),l.stack="",l.digest=y,pl({value:l,source:null,stack:null}),r=qd(e,r,a)}else if(Ve||$a(e,r,a,!1),y=(a&e.childLanes)!==0,Ve||y){if(y=ue,y!==null&&(l=Ur(y,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,ia(e,l),Dn(y,e,l),Bd;Im(A)||Gc(),r=qd(e,r,a)}else Im(A)?(r.flags|=192,r.child=e.child,r=null):(e=N.treeContext,pe=ai(A.nextSibling),We=r,qt=!0,Wr=null,ri=!1,e!==null&&p_(r,e),r=Gd(r,l.children),r.flags|=4096);return r}return f?(ss(),A=l.fallback,f=r.mode,N=e.child,F=N.sibling,l=tr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?A=tr(F,A):(A=ra(A,f,a,null),A.flags|=2),A.return=r,l.return=r,l.sibling=A,r.child=l,wl(null,l),l=r.child,A=e.child.memoizedState,A===null?A=Hd(a):(f=A.cachePool,f!==null?(N=xe._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=T_(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Fd(e,y,a),r.memoizedState=jd,wl(e.child,l)):(rs(r),a=e.child,e=a.sibling,a=tr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(y=r.deletions,y===null?(r.deletions=[e],r.flags|=16):y.push(e)),r.child=a,r.memoizedState=null,a)}function Gd(e,r){return r=Vc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Vc(e,r){return e=Pn(22,e,null,r),e.lanes=0,e}function qd(e,r,a){return ha(r,e.child,null,a),e=Gd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Ly(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),ad(e.return,r,a)}function Yd(e,r,a,l,f,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=f,y.treeForkCount=d)}function Vy(e,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var y=Ne.current,A=(y&2)!==0;if(A?(y=y&1|2,r.flags|=128):y&=1,st(Ne,y),tn(e,r,l,a),l=qt?ml:0,!A&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ly(e,a,r);else if(e.tag===19)Ly(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&Sc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Yd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&Sc(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Yd(r,!0,a,null,d,l);break;case"together":Yd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ar(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),ls|=r.lanes,(a&r.childLanes)===0)if(e!==null){if($a(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=tr(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=tr(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Kd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&pc(e)))}function cb(e,r,a){switch(r.tag){case 3:ze(r,r.stateNode.containerInfo),ts(r,xe,e.memoizedState.cache),sa();break;case 27:case 5:Qn(r);break;case 4:ze(r,r.stateNode.containerInfo);break;case 10:ts(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,yd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(rs(r),r.flags|=128,null):(a&r.child.childLanes)!==0?xy(e,r,a):(rs(r),e=ar(e,r,a),e!==null?e.sibling:null);rs(r);break;case 19:var f=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||($a(e,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Vy(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(Ne,Ne.current),l)break;return null;case 22:return r.lanes=0,wy(e,r,a,r.pendingProps);case 24:ts(r,xe,e.memoizedState.cache)}return ar(e,r,a)}function Uy(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Ve=!0;else{if(!Kd(e,a)&&(r.flags&128)===0)return Ve=!1,cb(e,r,a);Ve=(e.flags&131072)!==0}else Ve=!1,qt&&(r.flags&1048576)!==0&&m_(r,ml,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(e=ua(r.elementType),r.type=e,typeof e=="function")Wf(e)?(l=da(e,l),r.tag=1,r=Dy(null,r,e,l,a)):(r.tag=0,r=zd(null,r,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===mt){r.tag=11,r=Iy(null,r,e,l,a);break t}else if(f===O){r.tag=14,r=Ry(null,r,e,l,a);break t}}throw r=ee(e)||e,Error(s(306,r,""))}}return r;case 0:return zd(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=da(l,r.pendingProps),Dy(e,r,l,f,a);case 3:t:{if(ze(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,dd(e,r),Al(r,l,null,a);var y=r.memoizedState;if(l=y.cache,ts(r,xe,l),l!==d.cache&&od(r,[xe],a,!0),Tl(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=My(e,r,l,a);break t}else if(l!==f){f=ei(Error(s(424)),r),pl(f),r=My(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pe=ai(e.firstChild),We=r,qt=!0,Wr=null,ri=!0,a=w_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(sa(),l===f){r=ar(e,r,a);break t}tn(e,r,l,a)}r=r.child}return r;case 26:return Lc(e,r),e===null?(a=KE(r.type,null,r.pendingProps,null))?r.memoizedState=a:qt||(a=r.type,e=r.pendingProps,l=Jc(Dt.current).createElement(a),l[Ae]=r,l[Je]=e,en(l,a,e),Ce(l),r.stateNode=l):r.memoizedState=KE(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Qn(r),e===null&&qt&&(l=r.stateNode=GE(r.type,r.pendingProps,Dt.current),We=r,ri=!0,f=pe,ds(r.type)?(bm=f,pe=ai(l.firstChild)):pe=f),tn(e,r,r.pendingProps.children,a),Lc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&qt&&((f=l=pe)&&(l=zb(l,r.type,r.pendingProps,ri),l!==null?(r.stateNode=l,We=r,pe=ai(l.firstChild),ri=!1,f=!0):f=!1),f||Zr(r)),Qn(r),f=r.type,d=r.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,Tm(f,d)?l=null:y!==null&&Tm(f,y)&&(r.flags|=32),r.memoizedState!==null&&(f=vd(e,r,eb,null,null,a),Hl._currentValue=f),Lc(e,r),tn(e,r,l,a),r.child;case 6:return e===null&&qt&&((e=a=pe)&&(a=jb(a,r.pendingProps,ri),a!==null?(r.stateNode=a,We=r,pe=null,e=!0):e=!1),e||Zr(r)),null;case 13:return xy(e,r,a);case 4:return ze(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=ha(r,null,l,a):tn(e,r,l,a),r.child;case 11:return Iy(e,r,r.type,r.pendingProps,a);case 7:return tn(e,r,r.pendingProps,a),r.child;case 8:return tn(e,r,r.pendingProps.children,a),r.child;case 12:return tn(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ts(r,r.type,l.value),tn(e,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,oa(r),f=Ze(f),l=l(f),r.flags|=1,tn(e,r,l,a),r.child;case 14:return Ry(e,r,r.type,r.pendingProps,a);case 15:return by(e,r,r.type,r.pendingProps,a);case 19:return Vy(e,r,a);case 31:return ub(e,r,a);case 22:return wy(e,r,a,r.pendingProps);case 24:return oa(r),l=Ze(xe),e===null?(f=cd(),f===null&&(f=ue,d=ld(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},fd(r),ts(r,xe,f)):((e.lanes&a)!==0&&(dd(e,r),Al(r,null,null,a),Tl()),f=e.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ts(r,xe,l)):(l=d.cache,ts(r,xe,l),l!==f.cache&&od(r,[xe],a,!0))),tn(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function or(e){e.flags|=4}function $d(e,r,a,l,f){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(uE())e.flags|=8192;else throw ca=Ec,hd}else e.flags&=-16777217}function Py(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!WE(r))if(uE())e.flags|=8192;else throw ca=Ec,hd}function Uc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?$o():536870912,e.lanes|=r,ao|=r)}function Cl(e,r){if(!qt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ge(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function hb(e,r,a){var l=r.pendingProps;switch(nd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(r),null;case 1:return ge(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ir(xe),ce(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ka(r)?or(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,rd())),ge(r),null;case 26:var f=r.type,d=r.memoizedState;return e===null?(or(r),d!==null?(ge(r),Py(r,d)):(ge(r),$d(r,f,null,l,a))):d?d!==e.memoizedState?(or(r),ge(r),Py(r,d)):(ge(r),r.flags&=-16777217):(e=e.memoizedProps,e!==l&&or(r),ge(r),$d(r,f,e,l,a)),null;case 27:if(hi(r),a=Dt.current,f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&or(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ge(r),null}e=ht.current,Ka(r)?g_(r):(e=GE(f,l,a),r.stateNode=e,or(r))}return ge(r),null;case 5:if(hi(r),f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&or(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ge(r),null}if(d=ht.current,Ka(r))g_(r);else{var y=Jc(Dt.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(f,{is:l.is}):y.createElement(f)}}d[Ae]=r,d[Je]=l;t:for(y=r.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===r)break t;for(;y.sibling===null;){if(y.return===null||y.return===r)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}r.stateNode=d;t:switch(en(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&or(r)}}return ge(r),$d(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&or(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=Dt.current,Ka(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,f=We,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Ae]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||xE(e.nodeValue,a)),e||Zr(r,!0)}else e=Jc(e).createTextNode(l),e[Ae]=r,r.stateNode=e}return ge(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(l=Ka(r),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ae]=r}else sa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ge(r),e=!1}else a=rd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(Bn(r),r):(Bn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ge(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ka(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ae]=r}else sa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ge(r),f=!1}else f=rd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Bn(r),r):(Bn(r),null)}return Bn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),Uc(r,r.updateQueue),ge(r),null);case 4:return ce(),e===null&&gm(r.stateNode.containerInfo),ge(r),null;case 10:return ir(r.type),ge(r),null;case 19:if(Q(Ne),l=r.memoizedState,l===null)return ge(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Cl(l,!1);else{if(Re!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=Sc(e),d!==null){for(r.flags|=128,Cl(l,!1),e=d.updateQueue,r.updateQueue=e,Uc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)h_(a,e),a=a.sibling;return st(Ne,Ne.current&1|2),qt&&er(r,l.treeForkCount),r.child}e=e.sibling}l.tail!==null&&pt()>jc&&(r.flags|=128,f=!0,Cl(l,!1),r.lanes=4194304)}else{if(!f)if(e=Sc(d),e!==null){if(r.flags|=128,f=!0,e=e.updateQueue,r.updateQueue=e,Uc(r,e),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qt)return ge(r),null}else 2*pt()-l.renderingStartTime>jc&&a!==536870912&&(r.flags|=128,f=!0,Cl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(e=l.last,e!==null?e.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=pt(),e.sibling=null,a=Ne.current,st(Ne,f?a&1|2:a&1),qt&&er(r,l.treeForkCount),e):(ge(r),null);case 22:case 23:return Bn(r),_d(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ge(r),r.subtreeFlags&6&&(r.flags|=8192)):ge(r),a=r.updateQueue,a!==null&&Uc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&Q(la),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ir(xe),ge(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function fb(e,r){switch(nd(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return ir(xe),ce(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return hi(r),null;case 31:if(r.memoizedState!==null){if(Bn(r),r.alternate===null)throw Error(s(340));sa()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(Bn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));sa()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Q(Ne),null;case 4:return ce(),null;case 10:return ir(r.type),null;case 22:case 23:return Bn(r),_d(),e!==null&&Q(la),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return ir(xe),null;case 25:return null;default:return null}}function ky(e,r){switch(nd(r),r.tag){case 3:ir(xe),ce();break;case 26:case 27:case 5:hi(r);break;case 4:ce();break;case 31:r.memoizedState!==null&&Bn(r);break;case 13:Bn(r);break;case 19:Q(Ne);break;case 10:ir(r.type);break;case 22:case 23:Bn(r),_d(),e!==null&&Q(la);break;case 24:ir(xe)}}function Nl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==f)}}catch(A){ie(r,r.return,A)}}function as(e,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var y=l.inst,A=y.destroy;if(A!==void 0){y.destroy=void 0,f=r;var N=a,F=A;try{F()}catch($){ie(f,N,$)}}}l=l.next}while(l!==d)}}catch($){ie(r,r.return,$)}}function By(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{N_(r,a)}catch(l){ie(e,e.return,l)}}}function zy(e,r,a){a.props=da(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ie(e,r,l)}}function Ol(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){ie(e,r,f)}}function Mi(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ie(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ie(e,r,f)}else a.current=null}function jy(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ie(e,e.return,f)}}function Qd(e,r,a){try{var l=e.stateNode;Lb(l,e.type,a,r),l[Je]=r}catch(f){ie(e,e.return,f)}}function Hy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ds(e.type)||e.tag===4}function Xd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jd(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ge));else if(l!==4&&(l===27&&ds(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Jd(e,r,a),e=e.sibling;e!==null;)Jd(e,r,a),e=e.sibling}function Pc(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&ds(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Pc(e,r,a),e=e.sibling;e!==null;)Pc(e,r,a),e=e.sibling}function Fy(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);en(r,l,a),r[Ae]=e,r[Je]=a}catch(d){ie(e,e.return,d)}}var lr=!1,Ue=!1,Wd=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function db(e,r){if(e=e.containerInfo,Em=rh,e=n_(e),qf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var y=0,A=-1,N=-1,F=0,$=0,et=e,G=null;e:for(;;){for(var q;et!==a||f!==0&&et.nodeType!==3||(A=y+f),et!==d||l!==0&&et.nodeType!==3||(N=y+l),et.nodeType===3&&(y+=et.nodeValue.length),(q=et.firstChild)!==null;)G=et,et=q;for(;;){if(et===e)break e;if(G===a&&++F===f&&(A=y),G===d&&++$===l&&(N=y),(q=et.nextSibling)!==null)break;et=G,G=et.parentNode}et=q}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(vm={focusedElem:e,selectionRange:a},rh=!1,Ke=r;Ke!==null;)if(r=Ke,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Ke=e;else for(;Ke!==null;){switch(r=Ke,d=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ft=da(a.type,f);e=l.getSnapshotBeforeUpdate(ft,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(St){ie(a,a.return,St)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)Sm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,Ke=e;break}Ke=r.return}}function qy(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:cr(e,a),l&4&&Nl(5,a);break;case 1:if(cr(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(y){ie(a,a.return,y)}else{var f=da(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(y){ie(a,a.return,y)}}l&64&&By(a),l&512&&Ol(a,a.return);break;case 3:if(cr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{N_(e,r)}catch(y){ie(a,a.return,y)}}break;case 27:r===null&&l&4&&Fy(a);case 26:case 5:cr(e,a),r===null&&l&4&&jy(a),l&512&&Ol(a,a.return);break;case 12:cr(e,a);break;case 31:cr(e,a),l&4&&$y(e,a);break;case 13:cr(e,a),l&4&&Qy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Ab.bind(null,a),Hb(e,a))));break;case 22:if(l=a.memoizedState!==null||lr,!l){r=r!==null&&r.memoizedState!==null||Ue,f=lr;var d=Ue;lr=l,(Ue=r)&&!d?hr(e,a,(a.subtreeFlags&8772)!==0):cr(e,a),lr=f,Ue=d}break;case 30:break;default:cr(e,a)}}function Yy(e){var r=e.alternate;r!==null&&(e.alternate=null,Yy(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&qs(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,wn=!1;function ur(e,r,a){for(a=a.child;a!==null;)Ky(e,r,a),a=a.sibling}function Ky(e,r,a){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Dr,a)}catch{}switch(a.tag){case 26:Ue||Mi(a,r),ur(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ue||Mi(a,r);var l=ye,f=wn;ds(a.type)&&(ye=a.stateNode,wn=!1),ur(e,r,a),Bl(a.stateNode),ye=l,wn=f;break;case 5:Ue||Mi(a,r);case 6:if(l=ye,f=wn,ye=null,ur(e,r,a),ye=l,wn=f,ye!==null)if(wn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(a.stateNode)}catch(d){ie(a,r,d)}else try{ye.removeChild(a.stateNode)}catch(d){ie(a,r,d)}break;case 18:ye!==null&&(wn?(e=ye,BE(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),po(e)):BE(ye,a.stateNode));break;case 4:l=ye,f=wn,ye=a.stateNode.containerInfo,wn=!0,ur(e,r,a),ye=l,wn=f;break;case 0:case 11:case 14:case 15:as(2,a,r),Ue||as(4,a,r),ur(e,r,a);break;case 1:Ue||(Mi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&zy(a,r,l)),ur(e,r,a);break;case 21:ur(e,r,a);break;case 22:Ue=(l=Ue)||a.memoizedState!==null,ur(e,r,a),Ue=l;break;default:ur(e,r,a)}}function $y(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{po(e)}catch(a){ie(r,r.return,a)}}}function Qy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{po(e)}catch(a){ie(r,r.return,a)}}function mb(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new Gy),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new Gy),r;default:throw Error(s(435,e.tag))}}function kc(e,r){var a=mb(e);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=Sb.bind(null,e,l);l.then(f,f)}})}function Cn(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,y=r,A=y;t:for(;A!==null;){switch(A.tag){case 27:if(ds(A.type)){ye=A.stateNode,wn=!1;break t}break;case 5:ye=A.stateNode,wn=!1;break t;case 3:case 4:ye=A.stateNode.containerInfo,wn=!0;break t}A=A.return}if(ye===null)throw Error(s(160));Ky(d,y,f),ye=null,wn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Xy(r,e),r=r.sibling}var gi=null;function Xy(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Cn(r,e),Nn(e),l&4&&(as(3,e,e.return),Nl(3,e),as(5,e,e.return));break;case 1:Cn(r,e),Nn(e),l&512&&(Ue||a===null||Mi(a,a.return)),l&64&&lr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=gi;if(Cn(r,e),Nn(e),l&512&&(Ue||a===null||Mi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Yi]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),en(d,l,a),d[Ae]=e,Ce(d),l=d;break t;case"link":var y=XE("link","href",f).get(l+(a.href||""));if(y){for(var A=0;A<y.length;A++)if(d=y[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(A,1);break e}}d=f.createElement(l),en(d,l,a),f.head.appendChild(d);break;case"meta":if(y=XE("meta","content",f).get(l+(a.content||""))){for(A=0;A<y.length;A++)if(d=y[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(A,1);break e}}d=f.createElement(l),en(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ae]=e,Ce(d),l=d}e.stateNode=l}else JE(f,e.type,e.stateNode);else e.stateNode=QE(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?JE(f,e.type,e.stateNode):QE(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Qd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Cn(r,e),Nn(e),l&512&&(Ue||a===null||Mi(a,a.return)),a!==null&&l&4&&Qd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Cn(r,e),Nn(e),l&512&&(Ue||a===null||Mi(a,a.return)),e.flags&32){f=e.stateNode;try{Zn(f,"")}catch(ft){ie(e,e.return,ft)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Qd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Wd=!0);break;case 6:if(Cn(r,e),Nn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ft){ie(e,e.return,ft)}}break;case 3:if(th=null,f=gi,gi=Wc(r.containerInfo),Cn(r,e),gi=f,Nn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{po(r.containerInfo)}catch(ft){ie(e,e.return,ft)}Wd&&(Wd=!1,Jy(e));break;case 4:l=gi,gi=Wc(e.stateNode.containerInfo),Cn(r,e),Nn(e),gi=l;break;case 12:Cn(r,e),Nn(e);break;case 31:Cn(r,e),Nn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,kc(e,l)));break;case 13:Cn(r,e),Nn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zc=pt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,kc(e,l)));break;case 22:f=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=lr,$=Ue;if(lr=F||f,Ue=$||N,Cn(r,e),Ue=$,lr=F,Nn(e),l&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||lr||Ue||ma(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=N.stateNode;var et=N.memoizedProps.style,G=et!=null&&et.hasOwnProperty("display")?et.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ft){ie(N,N.return,ft)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(ft){ie(N,N.return,ft)}}}else if(r.tag===18){if(a===null){N=r;try{var q=N.stateNode;f?zE(q,!0):zE(N.stateNode,!1)}catch(ft){ie(N,N.return,ft)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kc(e,a))));break;case 19:Cn(r,e),Nn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,kc(e,l)));break;case 30:break;case 21:break;default:Cn(r,e),Nn(e)}}function Nn(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(Hy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Xd(e);Pc(e,d,f);break;case 5:var y=a.stateNode;a.flags&32&&(Zn(y,""),a.flags&=-33);var A=Xd(e);Pc(e,A,y);break;case 3:case 4:var N=a.stateNode.containerInfo,F=Xd(e);Jd(e,F,N);break;default:throw Error(s(161))}}catch($){ie(e,e.return,$)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Jy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Jy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function cr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)qy(e,r.alternate,r),r=r.sibling}function ma(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:as(4,r,r.return),ma(r);break;case 1:Mi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&zy(r,r.return,a),ma(r);break;case 27:Bl(r.stateNode);case 26:case 5:Mi(r,r.return),ma(r);break;case 22:r.memoizedState===null&&ma(r);break;case 30:ma(r);break;default:ma(r)}e=e.sibling}}function hr(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=e,d=r,y=d.flags;switch(d.tag){case 0:case 11:case 15:hr(f,d,a),Nl(4,d);break;case 1:if(hr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){ie(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)C_(N[f],A)}catch(F){ie(l,l.return,F)}}a&&y&64&&By(d),Ol(d,d.return);break;case 27:Fy(d);case 26:case 5:hr(f,d,a),a&&l===null&&y&4&&jy(d),Ol(d,d.return);break;case 12:hr(f,d,a);break;case 31:hr(f,d,a),a&&y&4&&$y(f,d);break;case 13:hr(f,d,a),a&&y&4&&Qy(f,d);break;case 22:d.memoizedState===null&&hr(f,d,a),Ol(d,d.return);break;case 30:break;default:hr(f,d,a)}r=r.sibling}}function Zd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&gl(a))}function tm(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&gl(e))}function _i(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Wy(e,r,a,l),r=r.sibling}function Wy(e,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:_i(e,r,a,l),f&2048&&Nl(9,r);break;case 1:_i(e,r,a,l);break;case 3:_i(e,r,a,l),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&gl(e)));break;case 12:if(f&2048){_i(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,y=d.id,A=d.onPostCommit;typeof A=="function"&&A(y,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){ie(r,r.return,N)}}else _i(e,r,a,l);break;case 31:_i(e,r,a,l);break;case 13:_i(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,y=r.alternate,r.memoizedState!==null?d._visibility&2?_i(e,r,a,l):Dl(e,r):d._visibility&2?_i(e,r,a,l):(d._visibility|=2,io(e,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Zd(y,r);break;case 24:_i(e,r,a,l),f&2048&&tm(r.alternate,r);break;default:_i(e,r,a,l)}}function io(e,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=e,y=r,A=a,N=l,F=y.flags;switch(y.tag){case 0:case 11:case 15:io(d,y,A,N,f),Nl(8,y);break;case 23:break;case 22:var $=y.stateNode;y.memoizedState!==null?$._visibility&2?io(d,y,A,N,f):Dl(d,y):($._visibility|=2,io(d,y,A,N,f)),f&&F&2048&&Zd(y.alternate,y);break;case 24:io(d,y,A,N,f),f&&F&2048&&tm(y.alternate,y);break;default:io(d,y,A,N,f)}r=r.sibling}}function Dl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,f=l.flags;switch(l.tag){case 22:Dl(a,l),f&2048&&Zd(l.alternate,l);break;case 24:Dl(a,l),f&2048&&tm(l.alternate,l);break;default:Dl(a,l)}r=r.sibling}}var Ml=8192;function ro(e,r,a){if(e.subtreeFlags&Ml)for(e=e.child;e!==null;)Zy(e,r,a),e=e.sibling}function Zy(e,r,a){switch(e.tag){case 26:ro(e,r,a),e.flags&Ml&&e.memoizedState!==null&&tw(a,gi,e.memoizedState,e.memoizedProps);break;case 5:ro(e,r,a);break;case 3:case 4:var l=gi;gi=Wc(e.stateNode.containerInfo),ro(e,r,a),gi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ml,Ml=16777216,ro(e,r,a),Ml=l):ro(e,r,a));break;default:ro(e,r,a)}}function tE(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function xl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ke=l,nE(l,e)}tE(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)eE(e),e=e.sibling}function eE(e){switch(e.tag){case 0:case 11:case 15:xl(e),e.flags&2048&&as(9,e,e.return);break;case 3:xl(e);break;case 12:xl(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Bc(e)):xl(e);break;default:xl(e)}}function Bc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ke=l,nE(l,e)}tE(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:as(8,r,r.return),Bc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Bc(r));break;default:Bc(r)}e=e.sibling}}function nE(e,r){for(;Ke!==null;){var a=Ke;switch(a.tag){case 0:case 11:case 15:as(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ke=l;else t:for(a=e;Ke!==null;){l=Ke;var f=l.sibling,d=l.return;if(Yy(l),l===a){Ke=null;break t}if(f!==null){f.return=d,Ke=f;break t}Ke=d}}}var pb={getCacheForType:function(e){var r=Ze(xe),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return Ze(xe).controller.signal}},gb=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ue=null,kt=null,zt=0,ne=0,zn=null,os=!1,so=!1,em=!1,fr=0,Re=0,ls=0,pa=0,nm=0,jn=0,ao=0,Ll=null,On=null,im=!1,zc=0,iE=0,jc=1/0,Hc=null,us=null,je=0,cs=null,oo=null,dr=0,rm=0,sm=null,rE=null,Vl=0,am=null;function Hn(){return(Zt&2)!==0&&zt!==0?zt&-zt:K.T!==null?fm():qi()}function sE(){if(jn===0)if((zt&536870912)===0||qt){var e=Ai;Ai<<=1,(Ai&3932160)===0&&(Ai=262144),jn=e}else jn=536870912;return e=kn.current,e!==null&&(e.flags|=32),jn}function Dn(e,r,a){(e===ue&&(ne===2||ne===9)||e.cancelPendingCommit!==null)&&(lo(e,0),hs(e,zt,jn,!1)),Lr(e,a),((Zt&2)===0||e!==ue)&&(e===ue&&((Zt&2)===0&&(pa|=a),Re===4&&hs(e,zt,jn,!1)),xi(e))}function aE(e,r,a){if((Zt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&e.expiredLanes)===0||xr(e,r),f=l?Eb(e,r):lm(e,r,!0),d=l;do{if(f===0){so&&!l&&hs(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!_b(a)){f=lm(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){r=y;t:{var A=e;f=Ll;var N=A.current.memoizedState.isDehydrated;if(N&&(lo(A,y).flags|=256),y=lm(A,y,!1),y!==2){if(em&&!N){A.errorRecoveryDisabledLanes|=d,pa|=d,f=4;break t}d=On,On=f,d!==null&&(On===null?On=d:On.push.apply(On,d))}f=y}if(d=!1,f!==2)continue}}if(f===1){lo(e,0),hs(e,r,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:hs(l,r,jn,!os);break t;case 2:On=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=zc+300-pt(),10<f)){if(hs(l,r,jn,!os),Jn(l,0,!0)!==0)break t;dr=r,l.timeoutHandle=PE(oE.bind(null,l,a,On,Hc,im,r,jn,pa,ao,os,d,"Throttled",-0,0),f);break t}oE(l,a,On,Hc,im,r,jn,pa,ao,os,d,null,-0,0)}}break}while(!0);xi(e)}function oE(e,r,a,l,f,d,y,A,N,F,$,et,G,q){if(e.timeoutHandle=-1,et=r.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ge},Zy(r,d,et);var ft=(d&62914560)===d?zc-pt():(d&4194048)===d?iE-pt():0;if(ft=ew(et,ft),ft!==null){dr=d,e.cancelPendingCommit=ft(pE.bind(null,e,r,d,a,l,f,y,A,N,$,et,null,G,q)),hs(e,d,y,!F);return}}pE(e,r,d,a,l,f,y,A,N)}function _b(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Un(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function hs(e,r,a,l){r&=~nm,r&=~pa,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var f=r;0<f;){var d=31-gn(f),y=1<<d;l[d]=-1,f&=~y}a!==0&&Qo(e,a,r)}function Fc(){return(Zt&6)===0?(Ul(0),!1):!0}function om(){if(kt!==null){if(ne===0)var e=kt.return;else e=kt,nr=aa=null,Sd(e),Wa=null,yl=0,e=kt;for(;e!==null;)ky(e.alternate,e),e=e.return;kt=null}}function lo(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Pb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),dr=0,om(),ue=e,kt=a=tr(e.current,null),zt=r,ne=0,zn=null,os=!1,so=xr(e,r),em=!1,ao=jn=nm=pa=ls=Re=0,On=Ll=null,im=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var f=31-gn(l),d=1<<f;r|=e[f],l&=~d}return fr=r,cc(),a}function lE(e,r){Mt=null,K.H=bl,r===Ja||r===yc?(r=I_(),ne=3):r===hd?(r=I_(),ne=4):ne=r===Bd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,zn=r,kt===null&&(Re=1,Mc(e,ei(r,e.current)))}function uE(){var e=kn.current;return e===null?!0:(zt&4194048)===zt?si===null:(zt&62914560)===zt||(zt&536870912)!==0?e===si:!1}function cE(){var e=K.H;return K.H=bl,e===null?bl:e}function hE(){var e=K.A;return K.A=pb,e}function Gc(){Re=4,os||(zt&4194048)!==zt&&kn.current!==null||(so=!0),(ls&134217727)===0&&(pa&134217727)===0||ue===null||hs(ue,zt,jn,!1)}function lm(e,r,a){var l=Zt;Zt|=2;var f=cE(),d=hE();(ue!==e||zt!==r)&&(Hc=null,lo(e,r)),r=!1;var y=Re;t:do try{if(ne!==0&&kt!==null){var A=kt,N=zn;switch(ne){case 8:om(),y=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var F=ne;if(ne=0,zn=null,uo(e,A,N,F),a&&so){y=0;break t}break;default:F=ne,ne=0,zn=null,uo(e,A,N,F)}}yb(),y=Re;break}catch($){lE(e,$)}while(!0);return r&&e.shellSuspendCounter++,nr=aa=null,Zt=l,K.H=f,K.A=d,kt===null&&(ue=null,zt=0,cc()),y}function yb(){for(;kt!==null;)fE(kt)}function Eb(e,r){var a=Zt;Zt|=2;var l=cE(),f=hE();ue!==e||zt!==r?(Hc=null,jc=pt()+500,lo(e,r)):so=xr(e,r);t:do try{if(ne!==0&&kt!==null){r=kt;var d=zn;e:switch(ne){case 1:ne=0,zn=null,uo(e,r,d,1);break;case 2:case 9:if(A_(d)){ne=0,zn=null,dE(r);break}r=function(){ne!==2&&ne!==9||ue!==e||(ne=7),xi(e)},d.then(r,r);break t;case 3:ne=7;break t;case 4:ne=5;break t;case 7:A_(d)?(ne=0,zn=null,dE(r)):(ne=0,zn=null,uo(e,r,d,7));break;case 5:var y=null;switch(kt.tag){case 26:y=kt.memoizedState;case 5:case 27:var A=kt;if(y?WE(y):A.stateNode.complete){ne=0,zn=null;var N=A.sibling;if(N!==null)kt=N;else{var F=A.return;F!==null?(kt=F,qc(F)):kt=null}break e}}ne=0,zn=null,uo(e,r,d,5);break;case 6:ne=0,zn=null,uo(e,r,d,6);break;case 8:om(),Re=6;break t;default:throw Error(s(462))}}vb();break}catch($){lE(e,$)}while(!0);return nr=aa=null,K.H=l,K.A=f,Zt=a,kt!==null?0:(ue=null,zt=0,cc(),Re)}function vb(){for(;kt!==null&&!dt();)fE(kt)}function fE(e){var r=Uy(e.alternate,e,fr);e.memoizedProps=e.pendingProps,r===null?qc(e):kt=r}function dE(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Oy(a,r,r.pendingProps,r.type,void 0,zt);break;case 11:r=Oy(a,r,r.pendingProps,r.type.render,r.ref,zt);break;case 5:Sd(r);default:ky(a,r),r=kt=h_(r,fr),r=Uy(a,r,fr)}e.memoizedProps=e.pendingProps,r===null?qc(e):kt=r}function uo(e,r,a,l){nr=aa=null,Sd(r),Wa=null,yl=0;var f=r.return;try{if(lb(e,f,r,a,zt)){Re=1,Mc(e,ei(a,e.current)),kt=null;return}}catch(d){if(f!==null)throw kt=f,d;Re=1,Mc(e,ei(a,e.current)),kt=null;return}r.flags&32768?(qt||l===1?e=!0:so||(zt&536870912)!==0?e=!1:(os=e=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),mE(r,e)):qc(r)}function qc(e){var r=e;do{if((r.flags&32768)!==0){mE(r,os);return}e=r.return;var a=hb(r.alternate,r,fr);if(a!==null){kt=a;return}if(r=r.sibling,r!==null){kt=r;return}kt=r=e}while(r!==null);Re===0&&(Re=5)}function mE(e,r){do{var a=fb(e.alternate,e);if(a!==null){a.flags&=32767,kt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){kt=e;return}kt=e=a}while(e!==null);Re=6,kt=null}function pE(e,r,a,l,f,d,y,A,N){e.cancelPendingCommit=null;do Yc();while(je!==0);if((Zt&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Xf,Xe(e,a,d,y,A,N),e===ue&&(kt=ue=null,zt=0),oo=r,cs=e,dr=a,rm=d,sm=f,rE=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ib(de,function(){return vE(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=at.p,at.p=2,y=Zt,Zt|=4;try{db(e,r,a)}finally{Zt=y,at.p=f,K.T=l}}je=1,gE(),_E(),yE()}}function gE(){if(je===1){je=0;var e=cs,r=oo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=at.p;at.p=2;var f=Zt;Zt|=4;try{Xy(r,e);var d=vm,y=n_(e.containerInfo),A=d.focusedElem,N=d.selectionRange;if(y!==A&&A&&A.ownerDocument&&e_(A.ownerDocument.documentElement,A)){if(N!==null&&qf(A)){var F=N.start,$=N.end;if($===void 0&&($=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min($,A.value.length);else{var et=A.ownerDocument||document,G=et&&et.defaultView||window;if(G.getSelection){var q=G.getSelection(),ft=A.textContent.length,St=Math.min(N.start,ft),ae=N.end===void 0?St:Math.min(N.end,ft);!q.extend&&St>ae&&(y=ae,ae=St,St=y);var k=t_(A,St),M=t_(A,ae);if(k&&M&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var H=et.createRange();H.setStart(k.node,k.offset),q.removeAllRanges(),St>ae?(q.addRange(H),q.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),q.addRange(H))}}}}for(et=[],q=A;q=q.parentNode;)q.nodeType===1&&et.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<et.length;A++){var W=et[A];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}rh=!!Em,vm=Em=null}finally{Zt=f,at.p=l,K.T=a}}e.current=r,je=2}}function _E(){if(je===2){je=0;var e=cs,r=oo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=at.p;at.p=2;var f=Zt;Zt|=4;try{qy(e,r.alternate,r)}finally{Zt=f,at.p=l,K.T=a}}je=3}}function yE(){if(je===4||je===3){je=0,ut();var e=cs,r=oo,a=dr,l=rE;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?je=5:(je=0,oo=cs=null,EE(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(us=null),Jo(a),r=r.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Dr,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,f=at.p,at.p=2,K.T=null;try{for(var d=e.onRecoverableError,y=0;y<l.length;y++){var A=l[y];d(A.value,{componentStack:A.stack})}}finally{K.T=r,at.p=f}}(dr&3)!==0&&Yc(),xi(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===am?Vl++:(Vl=0,am=e):Vl=0,Ul(0)}}function EE(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,gl(r)))}function Yc(){return gE(),_E(),yE(),vE()}function vE(){if(je!==5)return!1;var e=cs,r=rm;rm=0;var a=Jo(dr),l=K.T,f=at.p;try{at.p=32>a?32:a,K.T=null,a=sm,sm=null;var d=cs,y=dr;if(je=0,oo=cs=null,dr=0,(Zt&6)!==0)throw Error(s(331));var A=Zt;if(Zt|=4,eE(d.current),Wy(d,d.current,y,a),Zt=A,Ul(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Dr,d)}catch{}return!0}finally{at.p=f,K.T=l,EE(e,r)}}function TE(e,r,a){r=ei(a,r),r=kd(e.stateNode,r,2),e=is(e,r,2),e!==null&&(Lr(e,2),xi(e))}function ie(e,r,a){if(e.tag===3)TE(e,e,a);else for(;r!==null;){if(r.tag===3){TE(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(us===null||!us.has(l))){e=ei(a,e),a=Ay(2),l=is(r,a,2),l!==null&&(Sy(a,l,r,e),Lr(l,2),xi(l));break}}r=r.return}}function um(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new gb;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(em=!0,f.add(a),e=Tb.bind(null,e,r,a),r.then(e,e))}function Tb(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ue===e&&(zt&a)===a&&(Re===4||Re===3&&(zt&62914560)===zt&&300>pt()-zc?(Zt&2)===0&&lo(e,0):nm|=a,ao===zt&&(ao=0)),xi(e)}function AE(e,r){r===0&&(r=$o()),e=ia(e,r),e!==null&&(Lr(e,r),xi(e))}function Ab(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),AE(e,a)}function Sb(e,r){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),AE(e,a)}function Ib(e,r){return xn(e,r)}var Kc=null,co=null,cm=!1,$c=!1,hm=!1,fs=0;function xi(e){e!==co&&e.next===null&&(co===null?Kc=co=e:co=co.next=e),$c=!0,cm||(cm=!0,bb())}function Ul(e,r){if(!hm&&$c){hm=!0;do for(var a=!1,l=Kc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var y=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-gn(42|e)+1)-1,d&=f&~(y&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,bE(l,d))}else d=zt,d=Jn(l,l===ue?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||xr(l,d)||(a=!0,bE(l,d));l=l.next}while(a);hm=!1}}function Rb(){SE()}function SE(){$c=cm=!1;var e=0;fs!==0&&Ub()&&(e=fs);for(var r=pt(),a=null,l=Kc;l!==null;){var f=l.next,d=IE(l,r);d===0?(l.next=null,a===null?Kc=f:a.next=f,f===null&&(co=a)):(a=l,(e!==0||(d&3)!==0)&&($c=!0)),l=f}je!==0&&je!==5||Ul(e),fs!==0&&(fs=0)}function IE(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-gn(d),A=1<<y,N=f[y];N===-1?((A&a)===0||(A&l)!==0)&&(f[y]=Oa(A,r)):N<=r&&(e.expiredLanes|=A),d&=~A}if(r=ue,a=zt,a=Jn(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(ne===2||ne===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&J(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||xr(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&J(l),Jo(a)){case 2:case 8:a=Nt;break;case 32:a=de;break;case 268435456:a=Qt;break;default:a=de}return l=RE.bind(null,e),a=xn(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&J(l),e.callbackPriority=2,e.callbackNode=null,2}function RE(e,r){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Yc()&&e.callbackNode!==a)return null;var l=zt;return l=Jn(e,e===ue?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(aE(e,l,r),IE(e,pt()),e.callbackNode!=null&&e.callbackNode===a?RE.bind(null,e):null)}function bE(e,r){if(Yc())return null;aE(e,r,!0)}function bb(){kb(function(){(Zt&6)!==0?xn(Ct,Rb):SE()})}function fm(){if(fs===0){var e=Qa;e===0&&(e=Gs,Gs<<=1,(Gs&261888)===0&&(Gs=256)),fs=e}return fs}function wE(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wi(""+e)}function CE(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function wb(e,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=wE((f[Je]||null).action),y=l.submitter;y&&(r=(r=y[Je]||null)?wE(r.formAction):y.getAttribute("formAction"),r!==null&&(d=r,y=null));var A=new Xs("action","action",null,l,f);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fs!==0){var N=y?CE(f,y):new FormData(f);Md(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(A.preventDefault(),N=y?CE(f,y):new FormData(f),Md(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var dm=0;dm<Qf.length;dm++){var mm=Qf[dm],Cb=mm.toLowerCase(),Nb=mm[0].toUpperCase()+mm.slice(1);pi(Cb,"on"+Nb)}pi(s_,"onAnimationEnd"),pi(a_,"onAnimationIteration"),pi(o_,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(qR,"onTransitionRun"),pi(YR,"onTransitionStart"),pi(KR,"onTransitionCancel"),pi(l_,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function NE(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var y=l.length-1;0<=y;y--){var A=l[y],N=A.instance,F=A.currentTarget;if(A=A.listener,N!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=F;try{d(f)}catch($){uc($)}f.currentTarget=null,d=N}else for(y=0;y<l.length;y++){if(A=l[y],N=A.instance,F=A.currentTarget,A=A.listener,N!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=F;try{d(f)}catch($){uc($)}f.currentTarget=null,d=N}}}}function Bt(e,r){var a=r[Pr];a===void 0&&(a=r[Pr]=new Set);var l=e+"__bubble";a.has(l)||(OE(r,e,2,!1),a.add(l))}function pm(e,r,a){var l=0;r&&(l|=4),OE(a,e,l,r)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function gm(e){if(!e[Qc]){e[Qc]=!0,Da.forEach(function(a){a!=="selectionchange"&&(Ob.has(a)||pm(a,!1,e),pm(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Qc]||(r[Qc]=!0,pm("selectionchange",!1,r))}}function OE(e,r,a,l){switch(sv(r)){case 2:var f=rw;break;case 8:f=sw;break;default:f=Dm}a=f.bind(null,r,a,e),f=void 0,!sl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function _m(e,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var A=l.stateNode.containerInfo;if(A===f)break;if(y===4)for(y=l.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;A!==null;){if(y=Ki(A),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){l=d=y;continue t}A=A.parentNode}}l=l.return}Ku(function(){var F=d,$=Ua(a),et=[];t:{var G=u_.get(e);if(G!==void 0){var q=Xs,ft=e;switch(e){case"keypress":if(Qs(a)===0)break t;case"keydown":case"keyup":q=nc;break;case"focusin":ft="focus",q=Kr;break;case"focusout":ft="blur",q=Kr;break;case"beforeblur":case"afterblur":q=Kr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=rc;break;case s_:case a_:case o_:q=Ba;break;case l_:q=za;break;case"scroll":case"scrollend":q=$u;break;case"wheel":q=ac;break;case"copy":case"cut":case"paste":q=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=cl;break;case"toggle":case"beforetoggle":q=Qr}var St=(r&4)!==0,ae=!St&&(e==="scroll"||e==="scrollend"),k=St?G!==null?G+"Capture":null:G;St=[];for(var M=F,H;M!==null;){var W=M;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||k===null||(W=Rn(M,k),W!=null&&St.push(kl(M,W,H))),ae)break;M=M.return}0<St.length&&(G=new q(G,ft,null,a,$),et.push({event:G,listeners:St}))}}if((r&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",G&&a!==Va&&(ft=a.relatedTarget||a.fromElement)&&(Ki(ft)||ft[Ii]))break t;if((q||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,q?(ft=a.relatedTarget||a.toElement,q=F,ft=ft?Ki(ft):null,ft!==null&&(ae=u(ft),St=ft.tag,ft!==ae||St!==5&&St!==27&&St!==6)&&(ft=null)):(q=null,ft=F),q!==ft)){if(St=Qu,W="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(St=cl,W="onPointerLeave",k="onPointerEnter",M="pointer"),ae=q==null?G:Ys(q),H=ft==null?G:Ys(ft),G=new St(W,M+"leave",q,a,$),G.target=ae,G.relatedTarget=H,W=null,Ki($)===F&&(St=new St(k,M+"enter",ft,a,$),St.target=H,St.relatedTarget=ae,W=St),ae=W,q&&ft)e:{for(St=Db,k=q,M=ft,H=0,W=k;W;W=St(W))H++;W=0;for(var Et=M;Et;Et=St(Et))W++;for(;0<H-W;)k=St(k),H--;for(;0<W-H;)M=St(M),W--;for(;H--;){if(k===M||M!==null&&k===M.alternate){St=k;break e}k=St(k),M=St(M)}St=null}else St=null;q!==null&&DE(et,G,q,St,!1),ft!==null&&ae!==null&&DE(et,ae,ft,St,!0)}}t:{if(G=F?Ys(F):window,q=G.nodeName&&G.nodeName.toLowerCase(),q==="select"||q==="input"&&G.type==="file")var Jt=$g;else if(bn(G))if(Qg)Jt=HR;else{Jt=zR;var gt=BR}else q=G.nodeName,!q||q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&il(F.elementType)&&(Jt=$g):Jt=jR;if(Jt&&(Jt=Jt(e,F))){ta(et,Jt,a,$);break t}gt&&gt(e,G,F),e==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&La(G,"number",G.value)}switch(gt=F?Ys(F):window,e){case"focusin":(bn(gt)||gt.contentEditable==="true")&&(ja=gt,Yf=F,dl=null);break;case"focusout":dl=Yf=ja=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,i_(et,a,$);break;case"selectionchange":if(GR)break;case"keydown":case"keyup":i_(et,a,$)}var xt;if(_)t:{switch(e){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else Lt?te(e,a)&&(jt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(jt="onCompositionStart");jt&&(B&&a.locale!=="ko"&&(Lt||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Lt&&(xt=Fr()):(Vn=$,Pa="value"in Vn?Vn.value:Vn.textContent,Lt=!0)),gt=Xc(F,jt),0<gt.length&&(jt=new ol(jt,e,null,a,$),et.push({event:jt,listeners:gt}),xt?jt.data=xt:(xt=Me(a),xt!==null&&(jt.data=xt)))),(xt=I?qe(e,a):Ye(e,a))&&(jt=Xc(F,"onBeforeInput"),0<jt.length&&(gt=new ol("onBeforeInput","beforeinput",null,a,$),et.push({event:gt,listeners:jt}),gt.data=xt)),wb(et,e,F,a,$)}NE(et,r)})}function kl(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Xc(e,r){for(var a=r+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Rn(e,a),f!=null&&l.unshift(kl(e,f,d)),f=Rn(e,r),f!=null&&l.push(kl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function Db(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function DE(e,r,a,l,f){for(var d=r._reactName,y=[];a!==null&&a!==l;){var A=a,N=A.alternate,F=A.stateNode;if(A=A.tag,N!==null&&N===l)break;A!==5&&A!==26&&A!==27||F===null||(N=F,f?(F=Rn(a,d),F!=null&&y.unshift(kl(a,F,N))):f||(F=Rn(a,d),F!=null&&y.push(kl(a,F,N)))),a=a.return}y.length!==0&&e.push({event:r,listeners:y})}var Mb=/\r\n?/g,xb=/\u0000|\uFFFD/g;function ME(e){return(typeof e=="string"?e:""+e).replace(Mb,`
`).replace(xb,"")}function xE(e,r){return r=ME(r),ME(e)===r}function se(e,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Zn(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Zn(e,""+l);break;case"className":zr(e,"class",l);break;case"tabIndex":zr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zr(e,a,l);break;case"style":qu(e,l,d);break;case"data":if(r!=="object"){zr(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=wi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&se(e,r,"name",f.name,f,null),se(e,r,"formEncType",f.formEncType,f,null),se(e,r,"formMethod",f.formMethod,f,null),se(e,r,"formTarget",f.formTarget,f,null)):(se(e,r,"encType",f.encType,f,null),se(e,r,"method",f.method,f,null),se(e,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=wi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ge);break;case"onScroll":l!=null&&Bt("scroll",e);break;case"onScrollEnd":l!=null&&Bt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=wi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Bt("beforetoggle",e),Bt("toggle",e),Br(e,"popover",l);break;case"xlinkActuate":Wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Wn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Wn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Wn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Wn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Br(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zf.get(a)||a,Br(e,a,l))}}function ym(e,r,a,l,f,d){switch(a){case"style":qu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Zn(e,l):(typeof l=="number"||typeof l=="bigint")&&Zn(e,""+l);break;case"onScroll":l!=null&&Bt("scroll",e);break;case"onScrollEnd":l!=null&&Bt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ge);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=e[Je]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Br(e,a,l)}}}function en(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",e),Bt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:se(e,r,d,y,a,null)}}f&&se(e,r,"srcSet",a.srcSet,a,null),l&&se(e,r,"src",a.src,a,null);return;case"input":Bt("invalid",e);var A=d=y=f=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":y=$;break;case"checked":N=$;break;case"defaultChecked":F=$;break;case"value":d=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:se(e,r,l,$,a,null)}}Ks(e,d,A,N,F,y,f,!1);return;case"select":Bt("invalid",e),l=y=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":y=A;break;case"multiple":l=A;default:se(e,r,f,A,a,null)}r=d,a=y,e.multiple=!!l,r!=null?Xt(e,!!l,r,!1):a!=null&&Xt(e,!!l,a,!0);return;case"textarea":Bt("invalid",e),d=f=l=null;for(y in a)if(a.hasOwnProperty(y)&&(A=a[y],A!=null))switch(y){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:se(e,r,y,A,a,null)}Hr(e,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:se(e,r,N,l,a,null)}return;case"dialog":Bt("beforetoggle",e),Bt("toggle",e),Bt("cancel",e),Bt("close",e);break;case"iframe":case"object":Bt("load",e);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Bt(Pl[l],e);break;case"image":Bt("error",e),Bt("load",e);break;case"details":Bt("toggle",e);break;case"embed":case"source":case"link":Bt("error",e),Bt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:se(e,r,F,l,a,null)}return;default:if(il(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&ym(e,r,$,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&se(e,r,A,l,a,null))}function Lb(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,y=null,A=null,N=null,F=null,$=null;for(q in a){var et=a[q];if(a.hasOwnProperty(q)&&et!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":N=et;default:l.hasOwnProperty(q)||se(e,r,q,null,l,et)}}for(var G in l){var q=l[G];if(et=a[G],l.hasOwnProperty(G)&&(q!=null||et!=null))switch(G){case"type":d=q;break;case"name":f=q;break;case"checked":F=q;break;case"defaultChecked":$=q;break;case"value":y=q;break;case"defaultValue":A=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:q!==et&&se(e,r,G,q,l,et)}}jr(e,y,A,N,F,$,d,f);return;case"select":q=y=A=G=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":q=N;default:l.hasOwnProperty(d)||se(e,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":G=d;break;case"defaultValue":A=d;break;case"multiple":y=d;default:d!==N&&se(e,r,f,d,l,N)}r=A,a=y,l=q,G!=null?Xt(e,!!a,G,!1):!!l!=!!a&&(r!=null?Xt(e,!!a,r,!0):Xt(e,!!a,a?[]:"",!1));return;case"textarea":q=G=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:se(e,r,A,null,l,f)}for(y in l)if(f=l[y],d=a[y],l.hasOwnProperty(y)&&(f!=null||d!=null))switch(y){case"value":G=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&se(e,r,y,f,l,d)}$s(e,G,q);return;case"option":for(var ft in a)if(G=a[ft],a.hasOwnProperty(ft)&&G!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":e.selected=!1;break;default:se(e,r,ft,null,l,G)}for(N in l)if(G=l[N],q=a[N],l.hasOwnProperty(N)&&G!==q&&(G!=null||q!=null))switch(N){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:se(e,r,N,G,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in a)G=a[St],a.hasOwnProperty(St)&&G!=null&&!l.hasOwnProperty(St)&&se(e,r,St,null,l,G);for(F in l)if(G=l[F],q=a[F],l.hasOwnProperty(F)&&G!==q&&(G!=null||q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:se(e,r,F,G,l,q)}return;default:if(il(r)){for(var ae in a)G=a[ae],a.hasOwnProperty(ae)&&G!==void 0&&!l.hasOwnProperty(ae)&&ym(e,r,ae,void 0,l,G);for($ in l)G=l[$],q=a[$],!l.hasOwnProperty($)||G===q||G===void 0&&q===void 0||ym(e,r,$,G,l,q);return}}for(var k in a)G=a[k],a.hasOwnProperty(k)&&G!=null&&!l.hasOwnProperty(k)&&se(e,r,k,null,l,G);for(et in l)G=l[et],q=a[et],!l.hasOwnProperty(et)||G===q||G==null&&q==null||se(e,r,et,G,l,q)}function LE(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,y=f.initiatorType,A=f.duration;if(d&&A&&LE(y)){for(y=0,A=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],F=N.startTime;if(F>A)break;var $=N.transferSize,et=N.initiatorType;$&&LE(et)&&(N=N.responseEnd,y+=$*(N<A?1:(A-F)/(N-F)))}if(--l,r+=8*(d+y)/(f.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Em=null,vm=null;function Jc(e){return e.nodeType===9?e:e.ownerDocument}function VE(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function UE(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Tm(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Am=null;function Ub(){var e=window.event;return e&&e.type==="popstate"?e===Am?!1:(Am=e,!0):(Am=null,!1)}var PE=typeof setTimeout=="function"?setTimeout:void 0,Pb=typeof clearTimeout=="function"?clearTimeout:void 0,kE=typeof Promise=="function"?Promise:void 0,kb=typeof queueMicrotask=="function"?queueMicrotask:typeof kE<"u"?function(e){return kE.resolve(null).then(e).catch(Bb)}:PE;function Bb(e){setTimeout(function(){throw e})}function ds(e){return e==="head"}function BE(e,r){var a=r,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),po(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Bl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Bl(a);for(var d=a.firstChild;d;){var y=d.nextSibling,A=d.nodeName;d[Yi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&Bl(e.ownerDocument.body);a=f}while(a);po(r)}function zE(e,r){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Sm(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sm(a),qs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function zb(e,r,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Yi])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ai(e.nextSibling),e===null)break}return null}function jb(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ai(e.nextSibling),e===null))return null;return e}function jE(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=ai(e.nextSibling),e===null))return null;return e}function Im(e){return e.data==="$?"||e.data==="$~"}function Rm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hb(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ai(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var bm=null;function HE(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return ai(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function FE(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function GE(e,r,a){switch(r=Jc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Bl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);qs(e)}var oi=new Map,qE=new Set;function Wc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mr=at.d;at.d={f:Fb,r:Gb,D:qb,C:Yb,L:Kb,m:$b,X:Xb,S:Qb,M:Jb};function Fb(){var e=mr.f(),r=Fc();return e||r}function Gb(e){var r=$i(e);r!==null&&r.tag===5&&r.type==="form"?ly(r):mr.r(e)}var ho=typeof document>"u"?null:document;function YE(e,r,a){var l=ho;if(l&&typeof r=="string"&&r){var f=Se(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),qE.has(f)||(qE.add(f),e={rel:e,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),en(r,"link",e),Ce(r),l.head.appendChild(r)))}}function qb(e){mr.D(e),YE("dns-prefetch",e,null)}function Yb(e,r){mr.C(e,r),YE("preconnect",e,r)}function Kb(e,r,a){mr.L(e,r,a);var l=ho;if(l&&e&&r){var f='link[rel="preload"][as="'+Se(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Se(a.imageSizes)+'"]')):f+='[href="'+Se(e)+'"]';var d=f;switch(r){case"style":d=fo(e);break;case"script":d=mo(e)}oi.has(d)||(e=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),oi.set(d,e),l.querySelector(f)!==null||r==="style"&&l.querySelector(zl(d))||r==="script"&&l.querySelector(jl(d))||(r=l.createElement("link"),en(r,"link",e),Ce(r),l.head.appendChild(r)))}}function $b(e,r){mr.m(e,r);var a=ho;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Se(l)+'"][href="'+Se(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=mo(e)}if(!oi.has(d)&&(e=T({rel:"modulepreload",href:e},r),oi.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(d)))return}l=a.createElement("link"),en(l,"link",e),Ce(l),a.head.appendChild(l)}}}function Qb(e,r,a){mr.S(e,r,a);var l=ho;if(l&&e){var f=di(l).hoistableStyles,d=fo(e);r=r||"default";var y=f.get(d);if(!y){var A={loading:0,preload:null};if(y=l.querySelector(zl(d)))A.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":r},a),(a=oi.get(d))&&wm(e,a);var N=y=l.createElement("link");Ce(N),en(N,"link",e),N._p=new Promise(function(F,$){N.onload=F,N.onerror=$}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Zc(y,r,l)}y={type:"stylesheet",instance:y,count:1,state:A},f.set(d,y)}}}function Xb(e,r){mr.X(e,r);var a=ho;if(a&&e){var l=di(a).hoistableScripts,f=mo(e),d=l.get(f);d||(d=a.querySelector(jl(f)),d||(e=T({src:e,async:!0},r),(r=oi.get(f))&&Cm(e,r),d=a.createElement("script"),Ce(d),en(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Jb(e,r){mr.M(e,r);var a=ho;if(a&&e){var l=di(a).hoistableScripts,f=mo(e),d=l.get(f);d||(d=a.querySelector(jl(f)),d||(e=T({src:e,async:!0,type:"module"},r),(r=oi.get(f))&&Cm(e,r),d=a.createElement("script"),Ce(d),en(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function KE(e,r,a,l){var f=(f=Dt.current)?Wc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=fo(a.href),a=di(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=fo(a.href);var d=di(f).hoistableStyles,y=d.get(e);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=f.querySelector(zl(e)))&&!d._p&&(y.instance=d,y.state.loading=5),oi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},oi.set(e,a),d||Wb(f,e,a,y.state))),r&&l===null)throw Error(s(528,""));return y}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=mo(a),a=di(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function fo(e){return'href="'+Se(e)+'"'}function zl(e){return'link[rel="stylesheet"]['+e+"]"}function $E(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Wb(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),en(r,"link",a),Ce(r),e.head.appendChild(r))}function mo(e){return'[src="'+Se(e)+'"]'}function jl(e){return"script[async]"+e}function QE(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+Se(a.href)+'"]');if(l)return r.instance=l,Ce(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ce(l),en(l,"style",f),Zc(l,a.precedence,e),r.instance=l;case"stylesheet":f=fo(a.href);var d=e.querySelector(zl(f));if(d)return r.state.loading|=4,r.instance=d,Ce(d),d;l=$E(a),(f=oi.get(f))&&wm(l,f),d=(e.ownerDocument||e).createElement("link"),Ce(d);var y=d;return y._p=new Promise(function(A,N){y.onload=A,y.onerror=N}),en(d,"link",l),r.state.loading|=4,Zc(d,a.precedence,e),r.instance=d;case"script":return d=mo(a.src),(f=e.querySelector(jl(d)))?(r.instance=f,Ce(f),f):(l=a,(f=oi.get(d))&&(l=T({},a),Cm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ce(f),en(f,"link",l),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Zc(l,a.precedence,e));return r.instance}function Zc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,y=0;y<l.length;y++){var A=l[y];if(A.dataset.precedence===r)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function wm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function Cm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var th=null;function XE(e,r,a){if(th===null){var l=new Map,f=th=new Map;f.set(a,l)}else f=th,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[Yi]||d[Ae]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(r)||"";y=e+y;var A=l.get(y);A?A.push(d):l.set(y,[d])}}return l}function JE(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function Zb(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function WE(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function tw(e,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=fo(l.href),d=r.querySelector(zl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=eh.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=d,Ce(d);return}d=r.ownerDocument||r,l=$E(l),(f=oi.get(f))&&wm(l,f),d=d.createElement("link"),Ce(d);var y=d;y._p=new Promise(function(A,N){y.onload=A,y.onerror=N}),en(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=eh.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var Nm=0;function ew(e,r){return e.stylesheets&&e.count===0&&ih(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&ih(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+r);0<e.imgBytes&&Nm===0&&(Nm=62500*Vb());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ih(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Nm?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ih(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var nh=null;function ih(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,nh=new Map,r.forEach(nw,e),nh=null,eh.call(e))}function nw(e,r){if(!(r.state.loading&4)){var a=nh.get(e);if(a)var l=a.get(null);else{a=new Map,nh.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var y=f[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}f=r.instance,y=f.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,f),a.set(y,f),this.count++,l=eh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var Hl={$$typeof:tt,Provider:null,Consumer:null,_currentValue:_t,_currentValue2:_t,_threadCount:0};function iw(e,r,a,l,f,d,y,A,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function ZE(e,r,a,l,f,d,y,A,N,F,$,et){return e=new iw(e,r,a,y,N,F,$,et,A),r=1,d===!0&&(r|=24),d=Pn(3,null,null,r),e.current=d,d.stateNode=e,r=ld(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},fd(d),e}function tv(e){return e?(e=Ga,e):Ga}function ev(e,r,a,l,f,d){f=tv(f),l.context===null?l.context=f:l.pendingContext=f,l=ns(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=is(e,l,r),a!==null&&(Dn(a,e,r),vl(a,e,r))}function nv(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Om(e,r){nv(e,r),(e=e.alternate)&&nv(e,r)}function iv(e){if(e.tag===13||e.tag===31){var r=ia(e,67108864);r!==null&&Dn(r,e,67108864),Om(e,67108864)}}function rv(e){if(e.tag===13||e.tag===31){var r=Hn();r=Xo(r);var a=ia(e,r);a!==null&&Dn(a,e,r),Om(e,r)}}var rh=!0;function rw(e,r,a,l){var f=K.T;K.T=null;var d=at.p;try{at.p=2,Dm(e,r,a,l)}finally{at.p=d,K.T=f}}function sw(e,r,a,l){var f=K.T;K.T=null;var d=at.p;try{at.p=8,Dm(e,r,a,l)}finally{at.p=d,K.T=f}}function Dm(e,r,a,l){if(rh){var f=Mm(l);if(f===null)_m(e,r,l,sh,a),av(e,l);else if(ow(f,e,r,a,l))l.stopPropagation();else if(av(e,l),r&4&&-1<aw.indexOf(e)){for(;f!==null;){var d=$i(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=fi(d.pendingLanes);if(y!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;y;){var N=1<<31-gn(y);A.entanglements[1]|=N,y&=~N}xi(d),(Zt&6)===0&&(jc=pt()+500,Ul(0))}}break;case 31:case 13:A=ia(d,2),A!==null&&Dn(A,d,2),Fc(),Om(d,2)}if(d=Mm(l),d===null&&_m(e,r,l,sh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else _m(e,r,l,null,a)}}function Mm(e){return e=Ua(e),xm(e)}var sh=null;function xm(e){if(sh=null,e=Ki(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=h(r),e!==null)return e;e=null}else if(a===31){if(e=m(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return sh=e,null}function sv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ut()){case Ct:return 2;case Nt:return 8;case de:case he:return 32;case Qt:return 268435456;default:return 32}default:return 32}}var Lm=!1,ms=null,ps=null,gs=null,Fl=new Map,Gl=new Map,_s=[],aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function av(e,r){switch(e){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Fl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(r.pointerId)}}function ql(e,r,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=$i(r),r!==null&&iv(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function ow(e,r,a,l,f){switch(r){case"focusin":return ms=ql(ms,e,r,a,l,f),!0;case"dragenter":return ps=ql(ps,e,r,a,l,f),!0;case"mouseover":return gs=ql(gs,e,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Fl.set(d,ql(Fl.get(d)||null,e,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Gl.set(d,ql(Gl.get(d)||null,e,r,a,l,f)),!0}return!1}function ov(e){var r=Ki(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){e.blockedOn=r,ju(e.priority,function(){rv(a)});return}}else if(r===31){if(r=m(a),r!==null){e.blockedOn=r,ju(e.priority,function(){rv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ah(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=Mm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Va=l,a.target.dispatchEvent(l),Va=null}else return r=$i(a),r!==null&&iv(r),e.blockedOn=a,!1;r.shift()}return!0}function lv(e,r,a){ah(e)&&a.delete(r)}function lw(){Lm=!1,ms!==null&&ah(ms)&&(ms=null),ps!==null&&ah(ps)&&(ps=null),gs!==null&&ah(gs)&&(gs=null),Fl.forEach(lv),Gl.forEach(lv)}function oh(e,r){e.blockedOn===r&&(e.blockedOn=null,Lm||(Lm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,lw)))}var lh=null;function uv(e){lh!==e&&(lh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){lh===e&&(lh=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],f=e[r+2];if(typeof l!="function"){if(xm(l||a)===null)continue;break}var d=$i(a);d!==null&&(e.splice(r,3),r-=3,Md(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function po(e){function r(N){return oh(N,e)}ms!==null&&oh(ms,e),ps!==null&&oh(ps,e),gs!==null&&oh(gs,e),Fl.forEach(r),Gl.forEach(r);for(var a=0;a<_s.length;a++){var l=_s[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<_s.length&&(a=_s[0],a.blockedOn===null);)ov(a),a.blockedOn===null&&_s.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],y=f[Je]||null;if(typeof d=="function")y||uv(a);else if(y){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,y=d[Je]||null)A=y.formAction;else if(xm(f)!==null)continue}else A=y.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),uv(a)}}}function cv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Vm(e){this._internalRoot=e}uh.prototype.render=Vm.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Hn();ev(a,l,e,r,null,null)},uh.prototype.unmount=Vm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;ev(e.current,2,null,e,null,null),Fc(),r[Ii]=null}};function uh(e){this._internalRoot=e}uh.prototype.unstable_scheduleHydration=function(e){if(e){var r=qi();e={blockedOn:null,target:e,priority:r};for(var a=0;a<_s.length&&r!==0&&r<_s[a].priority;a++);_s.splice(a,0,e),a===0&&ov(e)}};var hv=t.version;if(hv!=="19.2.3")throw Error(s(527,hv,"19.2.3"));at.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(r),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var uw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Dr=ch.inject(uw),un=ch}catch{}}return Kl.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",f=yy,d=Ey,y=vy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),r=ZE(e,1,!1,null,null,a,l,null,f,d,y,cv),e[Ii]=r.current,gm(e),new Vm(r)},Kl.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=yy,y=Ey,A=vy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=ZE(e,1,!0,r,a??null,l,f,N,d,y,A,cv),r.context=tv(null),a=r.current,l=Hn(),l=Xo(l),f=ns(l),f.callback=null,is(a,f,l),a=l,r.current.lanes=a,Lr(r,a),xi(r),e[Ii]=r.current,gm(e),new uh(r)},Kl.version="19.2.3",Kl}var Tv;function Tw(){if(Tv)return km.exports;Tv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),km.exports=vw(),km.exports}var Aw=Tw();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Av="popstate";function Sw(i={}){function t(o,u){let{pathname:h="/",search:m="",hash:p=""}=Ra(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),ap("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:fu(u))}function s(o,u){$n(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Rw(t,n,s,i)}function ve(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function $n(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Iw(){return Math.random().toString(36).substring(2,10)}function Sv(i,t){return{usr:i.state,key:i.key,idx:t}}function ap(i,t,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Ra(t):t,state:n,key:t&&t.key||s||Iw()}}function fu({pathname:i="/",search:t="",hash:n=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ra(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function Rw(i,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function T(){m="POP";let D=v(),nt=D==null?null:D-g;g=D,p&&p({action:m,location:z.location,delta:nt})}function S(D,nt){m="PUSH";let rt=ap(z.location,D,nt);n&&n(rt,D),g=v()+1;let tt=Sv(rt,g),mt=z.createHref(rt);try{h.pushState(tt,"",mt)}catch(Rt){if(Rt instanceof DOMException&&Rt.name==="DataCloneError")throw Rt;o.location.assign(mt)}u&&p&&p({action:m,location:z.location,delta:1})}function b(D,nt){m="REPLACE";let rt=ap(z.location,D,nt);n&&n(rt,D),g=v();let tt=Sv(rt,g),mt=z.createHref(rt);h.replaceState(tt,"",mt),u&&p&&p({action:m,location:z.location,delta:0})}function V(D){return bw(D)}let z={get action(){return m},get location(){return i(o,h)},listen(D){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Av,T),p=D,()=>{o.removeEventListener(Av,T),p=null}},createHref(D){return t(o,D)},createURL:V,encodeLocation(D){let nt=V(D);return{pathname:nt.pathname,search:nt.search,hash:nt.hash}},push:S,replace:b,go(D){return h.go(D)}};return z}function bw(i,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ve(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:fu(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function yA(i,t,n="/"){return ww(i,t,n,!1)}function ww(i,t,n,s){let o=typeof t=="string"?Ra(t):t,u=Tr(o.pathname||"/",n);if(u==null)return null;let h=EA(i);Cw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Bw(u);m=Pw(h[p],g,s)}return m}function EA(i,t=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let v={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;ve(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=Er([s,v.relativePath]),S=n.concat(v);h.children&&h.children.length>0&&(ve(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),EA(h.children,t,S,T,p)),!(h.path==null&&!h.index)&&t.push({path:T,score:Vw(T,h.index),routesMeta:S})};return i.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of vA(h.path))u(h,m,!0,g)}),t}function vA(i){let t=i.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=vA(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Cw(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:Uw(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Nw=/^:[\w-]+$/,Ow=3,Dw=2,Mw=1,xw=10,Lw=-2,Iv=i=>i==="*";function Vw(i,t){let n=i.split("/"),s=n.length;return n.some(Iv)&&(s+=Lw),t&&(s+=Dw),n.filter(o=>!Iv(o)).reduce((o,u)=>o+(Nw.test(u)?Ow:u===""?Mw:xw),s)}function Uw(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function Pw(i,t,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?t:t.slice(u.length)||"/",T=kh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=kh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Er([u,T.pathname]),pathnameBase:Fw(Er([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=Er([u,T.pathnameBase]))}return h}function kh(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=kw(i.path,i.caseSensitive,i.end),o=t.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},S)=>{if(v==="*"){let V=m[S]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const b=m[S];return T&&!b?g[v]=void 0:g[v]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function kw(i,t=!1,n=!0){$n(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Bw(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $n(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Tr(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var TA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zw=i=>TA.test(i);function jw(i,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Ra(i):i,u;if(n)if(zw(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),$n(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Rv(n.substring(1),"/"):u=Rv(n,t)}else u=t;return{pathname:u,search:Gw(s),hash:qw(o)}}function Rv(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hm(i,t,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hw(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function AA(i){let t=Hw(i);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function SA(i,t,n,s=!1){let o;typeof i=="string"?o=Ra(i):(o={...i},ve(!o.pathname||!o.pathname.includes("?"),Hm("?","pathname","search",o)),ve(!o.pathname||!o.pathname.includes("#"),Hm("#","pathname","hash",o)),ve(!o.search||!o.search.includes("#"),Hm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=t.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?t[T]:"/"}let p=jw(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Er=i=>i.join("/").replace(/\/\/+/g,"/"),Fw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Gw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,qw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Yw=class{constructor(i,t,n,s=!1){this.status=i,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Kw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function $w(i){return i.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var IA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function RA(i,t){let n=i;if(typeof n!="string"||!TA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(IA)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Tr(h.pathname,t);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{$n(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bA=["POST","PUT","PATCH","DELETE"];new Set(bA);var Qw=["GET",...bA];new Set(Qw);var Uo=j.createContext(null);Uo.displayName="DataRouter";var cf=j.createContext(null);cf.displayName="DataRouterState";var Xw=j.createContext(!1),wA=j.createContext({isTransitioning:!1});wA.displayName="ViewTransition";var Jw=j.createContext(new Map);Jw.displayName="Fetchers";var Ww=j.createContext(null);Ww.displayName="Await";var ci=j.createContext(null);ci.displayName="Navigation";var vu=j.createContext(null);vu.displayName="Location";var wr=j.createContext({outlet:null,matches:[],isDataRoute:!1});wr.displayName="Route";var Hp=j.createContext(null);Hp.displayName="RouteError";var CA="REACT_ROUTER_ERROR",Zw="REDIRECT",t1="ROUTE_ERROR_RESPONSE";function e1(i){if(i.startsWith(`${CA}:${Zw}:{`))try{let t=JSON.parse(i.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function n1(i){if(i.startsWith(`${CA}:${t1}:{`))try{let t=JSON.parse(i.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Yw(t.status,t.statusText,t.data)}catch{}}function i1(i,{relative:t}={}){ve(Tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(ci),{hash:o,pathname:u,search:h}=Au(i,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Er([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Tu(){return j.useContext(vu)!=null}function zs(){return ve(Tu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(vu).location}var NA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OA(i){j.useContext(ci).static||j.useLayoutEffect(i)}function Fp(){let{isDataRoute:i}=j.useContext(wr);return i?g1():r1()}function r1(){ve(Tu(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(Uo),{basename:t,navigator:n}=j.useContext(ci),{matches:s}=j.useContext(wr),{pathname:o}=zs(),u=JSON.stringify(AA(s)),h=j.useRef(!1);return OA(()=>{h.current=!0}),j.useCallback((p,g={})=>{if($n(h.current,NA),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=SA(p,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Er([t,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[t,n,u,o,i])}j.createContext(null);function Au(i,{relative:t}={}){let{matches:n}=j.useContext(wr),{pathname:s}=zs(),o=JSON.stringify(AA(n));return j.useMemo(()=>SA(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function s1(i,t){return DA(i,t)}function DA(i,t,n,s,o){var rt;ve(Tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(ci),{matches:h}=j.useContext(wr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let tt=T&&T.path||"";xA(g,!T||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let S=zs(),b;if(t){let tt=typeof t=="string"?Ra(t):t;ve(v==="/"||((rt=tt.pathname)==null?void 0:rt.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),b=tt}else b=S;let V=b.pathname||"/",z=V;if(v!=="/"){let tt=v.replace(/^\//,"").split("/");z="/"+V.replace(/^\//,"").split("/").slice(tt.length).join("/")}let D=yA(i,{pathname:z});$n(T||D!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),$n(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let nt=c1(D&&D.map(tt=>Object.assign({},tt,{params:Object.assign({},p,tt.params),pathname:Er([v,u.encodeLocation?u.encodeLocation(tt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?v:Er([v,u.encodeLocation?u.encodeLocation(tt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathnameBase])})),h,n,s,o);return t&&nt?j.createElement(vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},nt):nt}function a1(){let i=p1(),t=Kw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:o},n):null,h)}var o1=j.createElement(a1,null),MA=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.onError?this.props.onError(i,t):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=n1(i.digest);n&&(i=n)}let t=i!==void 0?j.createElement(wr.Provider,{value:this.props.routeContext},j.createElement(Hp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?j.createElement(l1,{error:i},t):t}};MA.contextType=Xw;var Fm=new WeakMap;function l1({children:i,error:t}){let{basename:n}=j.useContext(ci);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=e1(t.digest);if(s){let o=Fm.get(t);if(o)throw o;let u=RA(s.location,n);if(IA&&!Fm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Fm.set(t,h),h}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function u1({routeContext:i,match:t,children:n}){let s=j.useContext(Uo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(wr.Provider,{value:i},n)}function c1(i,t=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n==null?void 0:n.errors;if(h!=null){let v=u.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);ve(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,p=-1;if(n)for(let v=0;v<u.length;v++){let T=u[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=v),T.route.id){let{loaderData:S,errors:b}=n,V=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!b||b[T.route.id]===void 0);if(T.route.lazy||V){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(v,T)=>{var S,b;s(v,{location:n.location,params:((b=(S=n.matches)==null?void 0:S[0])==null?void 0:b.params)??{},unstable_pattern:$w(n.matches),errorInfo:T})}:void 0;return u.reduceRight((v,T,S)=>{let b,V=!1,z=null,D=null;n&&(b=h&&T.route.id?h[T.route.id]:void 0,z=T.route.errorElement||o1,m&&(p<0&&S===0?(xA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,D=null):p===S&&(V=!0,D=T.route.hydrateFallbackElement||null)));let nt=t.concat(u.slice(0,S+1)),rt=()=>{let tt;return b?tt=z:V?tt=D:T.route.Component?tt=j.createElement(T.route.Component,null):T.route.element?tt=T.route.element:tt=v,j.createElement(u1,{match:T,routeContext:{outlet:v,matches:nt,isDataRoute:n!=null},children:tt})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?j.createElement(MA,{location:n.location,revalidation:n.revalidation,component:z,error:b,children:rt(),routeContext:{outlet:null,matches:nt,isDataRoute:!0},onError:g}):rt()},null)}function Gp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h1(i){let t=j.useContext(Uo);return ve(t,Gp(i)),t}function f1(i){let t=j.useContext(cf);return ve(t,Gp(i)),t}function d1(i){let t=j.useContext(wr);return ve(t,Gp(i)),t}function qp(i){let t=d1(i),n=t.matches[t.matches.length-1];return ve(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function m1(){return qp("useRouteId")}function p1(){var s;let i=j.useContext(Hp),t=f1("useRouteError"),n=qp("useRouteError");return i!==void 0?i:(s=t.errors)==null?void 0:s[n]}function g1(){let{router:i}=h1("useNavigate"),t=qp("useNavigate"),n=j.useRef(!1);return OA(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{$n(n.current,NA),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var bv={};function xA(i,t,n){!t&&!bv[i]&&(bv[i]=!0,$n(!1,n))}j.memo(_1);function _1({routes:i,future:t,state:n,onError:s}){return DA(i,void 0,n,s,t)}function op(i){ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y1({basename:i="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ve(!Tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=Ra(n));let{pathname:g="/",search:v="",hash:T="",state:S=null,key:b="default"}=n,V=j.useMemo(()=>{let z=Tr(g,m);return z==null?null:{location:{pathname:z,search:v,hash:T,state:S,key:b},navigationType:s}},[m,g,v,T,S,b,s]);return $n(V!=null,`<Router basename="${m}"> is not able to match the URL "${g}${v}${T}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:j.createElement(ci.Provider,{value:p},j.createElement(vu.Provider,{children:t,value:V}))}function E1({children:i,location:t}){return s1(lp(i),t)}function lp(i,t=[]){let n=[];return j.Children.forEach(i,(s,o)=>{if(!j.isValidElement(s))return;let u=[...t,o];if(s.type===j.Fragment){n.push.apply(n,lp(s.props.children,u));return}ve(s.type===op,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ve(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=lp(s.props.children,u)),n.push(h)}),n}var bh="get",wh="application/x-www-form-urlencoded";function hf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function v1(i){return hf(i)&&i.tagName.toLowerCase()==="button"}function T1(i){return hf(i)&&i.tagName.toLowerCase()==="form"}function A1(i){return hf(i)&&i.tagName.toLowerCase()==="input"}function S1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function I1(i,t){return i.button===0&&(!t||t==="_self")&&!S1(i)}function up(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((t,n)=>{let s=i[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function R1(i,t){let n=up(i);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var hh=null;function b1(){if(hh===null)try{new FormData(document.createElement("form"),0),hh=!1}catch{hh=!0}return hh}var w1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gm(i){return i!=null&&!w1.has(i)?($n(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):i}function C1(i,t){let n,s,o,u,h;if(T1(i)){let m=i.getAttribute("action");s=m?Tr(m,t):null,n=i.getAttribute("method")||bh,o=Gm(i.getAttribute("enctype"))||wh,u=new FormData(i)}else if(v1(i)||A1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Tr(p,t):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||bh,o=Gm(i.getAttribute("formenctype"))||Gm(m.getAttribute("enctype"))||wh,u=new FormData(m,i),!b1()){let{name:g,type:v,value:T}=i;if(v==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(hf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bh,s=null,o=wh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function N1(i,t,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&Tr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function O1(i,t){if(i.id in t)return t[i.id];try{let n=await import(i.module);return t[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function M1(i,t,n){let s=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await O1(u,n);return h.links?h.links():[]}return[]}));return U1(s.flat(1).filter(D1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wv(i,t,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var v;return n[g].pathname!==p.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var T;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function x1(i,t,{includeHydrateFallback:n}={}){return L1(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function L1(i){return[...new Set(i)]}function V1(i){let t={},n=Object.keys(i).sort();for(let s of n)t[s]=i[s];return t}function U1(i,t){let n=new Set;return new Set(t),i.reduce((s,o)=>{let u=JSON.stringify(V1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function LA(){let i=j.useContext(Uo);return Yp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function P1(){let i=j.useContext(cf);return Yp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Kp=j.createContext(void 0);Kp.displayName="FrameworkContext";function VA(){let i=j.useContext(Kp);return Yp(i,"You must render this element inside a <HydratedRouter> element"),i}function k1(i,t){let n=j.useContext(Kp),[s,o]=j.useState(!1),[u,h]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=t,S=j.useRef(null);j.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=nt=>{nt.forEach(rt=>{h(rt.isIntersecting)})},D=new IntersectionObserver(z,{threshold:.5});return S.current&&D.observe(S.current),()=>{D.disconnect()}}},[i]),j.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let b=()=>{o(!0)},V=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:$l(m,b),onBlur:$l(p,V),onMouseEnter:$l(g,b),onMouseLeave:$l(v,V),onTouchStart:$l(T,b)}]:[!1,S,{}]}function $l(i,t){return n=>{i&&i(n),n.defaultPrevented||t(n)}}function B1({page:i,...t}){let{router:n}=LA(),s=j.useMemo(()=>yA(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?j.createElement(j1,{page:i,matches:s,...t}):null}function z1(i){let{manifest:t,routeModules:n}=VA(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return M1(i,t,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,t,n]),s}function j1({page:i,matches:t,...n}){let s=zs(),{future:o,manifest:u,routeModules:h}=VA(),{basename:m}=LA(),{loaderData:p,matches:g}=P1(),v=j.useMemo(()=>wv(i,t,g,u,s,"data"),[i,t,g,u,s]),T=j.useMemo(()=>wv(i,t,g,u,s,"assets"),[i,t,g,u,s]),S=j.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let z=new Set,D=!1;if(t.forEach(rt=>{var mt;let tt=u.routes[rt.route.id];!tt||!tt.hasLoader||(!v.some(Rt=>Rt.route.id===rt.route.id)&&rt.route.id in p&&((mt=h[rt.route.id])!=null&&mt.shouldRevalidate)||tt.hasClientLoader?D=!0:z.add(rt.route.id))}),z.size===0)return[];let nt=N1(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return D&&z.size>0&&nt.searchParams.set("_routes",t.filter(rt=>z.has(rt.route.id)).map(rt=>rt.route.id).join(",")),[nt.pathname+nt.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,v,t,i,h]),b=j.useMemo(()=>x1(T,u),[T,u]),V=z1(T);return j.createElement(j.Fragment,null,S.map(z=>j.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),b.map(z=>j.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),V.map(({key:z,link:D})=>j.createElement("link",{key:z,nonce:n.nonce,...D})))}function H1(...i){return t=>{i.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var F1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F1&&(window.__reactRouterVersion="7.12.0")}catch{}function G1({basename:i,children:t,unstable_useTransitions:n,window:s}){let o=j.useRef();o.current==null&&(o.current=Sw({window:s,v5Compat:!0}));let u=o.current,[h,m]=j.useState({action:u.action,location:u.location}),p=j.useCallback(g=>{n===!1?m(g):j.startTransition(()=>m(g))},[n]);return j.useLayoutEffect(()=>u.listen(p),[u,p]),j.createElement(y1,{basename:i,children:t,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var UA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PA=j.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:S,...b},V){let{basename:z,unstable_useTransitions:D}=j.useContext(ci),nt=typeof g=="string"&&UA.test(g),rt=RA(g,z);g=rt.to;let tt=i1(g,{relative:o}),[mt,Rt,vt]=k1(s,b),O=$1(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:D});function R(x){t&&t(x),x.defaultPrevented||O(x)}let w=j.createElement("a",{...b,...vt,href:rt.absoluteURL||tt,onClick:rt.isExternal||u?t:R,ref:H1(V,Rt),target:p,"data-discover":!nt&&n==="render"?"true":void 0});return mt&&!nt?j.createElement(j.Fragment,null,w,j.createElement(B1,{page:tt})):w});PA.displayName="Link";var q1=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let T=Au(h,{relative:g.relative}),S=zs(),b=j.useContext(cf),{navigator:V,basename:z}=j.useContext(ci),D=b!=null&&tC(T)&&m===!0,nt=V.encodeLocation?V.encodeLocation(T).pathname:T.pathname,rt=S.pathname,tt=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(rt=rt.toLowerCase(),tt=tt?tt.toLowerCase():null,nt=nt.toLowerCase()),tt&&z&&(tt=Tr(tt,z)||tt);const mt=nt!=="/"&&nt.endsWith("/")?nt.length-1:nt.length;let Rt=rt===nt||!o&&rt.startsWith(nt)&&rt.charAt(mt)==="/",vt=tt!=null&&(tt===nt||!o&&tt.startsWith(nt)&&tt.charAt(nt.length)==="/"),O={isActive:Rt,isPending:vt,isTransitioning:D},R=Rt?t:void 0,w;typeof s=="function"?w=s(O):w=[s,Rt?"active":null,vt?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(O):u;return j.createElement(PA,{...g,"aria-current":R,className:w,ref:v,style:x,to:h,viewTransition:m},typeof p=="function"?p(O):p)});q1.displayName="NavLink";var Y1=j.forwardRef(({discover:i="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:h=bh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:S,...b},V)=>{let{unstable_useTransitions:z}=j.useContext(ci),D=W1(),nt=Z1(m,{relative:g}),rt=h.toLowerCase()==="get"?"get":"post",tt=typeof m=="string"&&UA.test(m),mt=Rt=>{if(p&&p(Rt),Rt.defaultPrevented)return;Rt.preventDefault();let vt=Rt.nativeEvent.submitter,O=(vt==null?void 0:vt.getAttribute("formmethod"))||h,R=()=>D(vt||Rt.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:S});z&&n!==!1?j.startTransition(()=>R()):R()};return j.createElement("form",{ref:V,method:rt,action:nt,onSubmit:s?p:mt,...b,"data-discover":!tt&&i==="render"?"true":void 0})});Y1.displayName="Form";function K1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kA(i){let t=j.useContext(Uo);return ve(t,K1(i)),t}function $1(i,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Fp(),v=zs(),T=Au(i,{relative:u});return j.useCallback(S=>{if(I1(S,t)){S.preventDefault();let b=n!==void 0?n:fu(v)===fu(T),V=()=>g(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?j.startTransition(()=>V()):V()}},[v,g,T,n,s,t,i,o,u,h,m,p])}function Q1(i){$n(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=j.useRef(up(i)),n=j.useRef(!1),s=zs(),o=j.useMemo(()=>R1(s.search,n.current?null:t.current),[s.search]),u=Fp(),h=j.useCallback((m,p)=>{const g=up(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,h]}var X1=0,J1=()=>`__${String(++X1)}__`;function W1(){let{router:i}=kA("useSubmit"),{basename:t}=j.useContext(ci),n=m1(),s=i.fetch,o=i.navigate;return j.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:v,body:T}=C1(u,t);if(h.navigate===!1){let S=h.fetcherKey||J1();await s(S,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,t,n])}function Z1(i,{relative:t}={}){let{basename:n}=j.useContext(ci),s=j.useContext(wr);ve(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Au(i||".",{relative:t})},h=zs();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Er([n,u.pathname])),fu(u)}function tC(i,{relative:t}={}){let n=j.useContext(wA);ve(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=kA("useViewTransitionState"),o=Au(i,{relative:t});if(!n.isTransitioning)return!1;let u=Tr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Tr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return kh(o.pathname,h)!=null||kh(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BA=(...i)=>i.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=j.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>j.createElement("svg",{ref:p,...nC,width:t,height:t,stroke:i,strokeWidth:s?Number(n)*24/Number(t):n,className:BA("lucide",o),...m},[...h.map(([g,v])=>j.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=(i,t)=>{const n=j.forwardRef(({className:s,...o},u)=>j.createElement(iC,{ref:u,iconNode:t,className:BA(`lucide-${eC(i)}`,s),...o}));return n.displayName=`${i}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=pn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=pn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=pn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=pn("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=pn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=pn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=pn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=pn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=pn("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=pn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=pn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=pn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=pn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=pn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=pn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=pn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),mC=()=>{};var Nv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},pC=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},FA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,b=g&63;p||(b=64,h||(S=64)),s.push(n[v],n[T],n[S],n[b])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(HA(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):pC(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new gC;const S=u<<2|m>>4;if(s.push(S),g!==64){const b=m<<4&240|g>>2;if(s.push(b),T!==64){const V=g<<6&192|T;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class gC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _C=function(i){const t=HA(i);return FA.encodeByteArray(t,!0)},Bh=function(i){return _C(i).replace(/\./g,"")},GA=function(i){try{return FA.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=()=>yC().__FIREBASE_DEFAULTS__,vC=()=>{if(typeof process>"u"||typeof Nv>"u")return;const i=Nv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},TC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&GA(i[1]);return t&&JSON.parse(t)},ff=()=>{try{return mC()||EC()||vC()||TC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},qA=i=>{var t,n;return(n=(t=ff())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[i]},AC=i=>{const t=qA(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},YA=()=>{var i;return(i=ff())===null||i===void 0?void 0:i.config},KA=i=>{var t;return(t=ff())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $A(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Bh(JSON.stringify(n)),Bh(JSON.stringify(h)),""].join(".")}const ru={};function RC(){const i={prod:[],emulator:[]};for(const t of Object.keys(ru))ru[t]?i.emulator.push(t):i.prod.push(t);return i}function bC(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let Ov=!1;function QA(i,t){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||ru[i]===t||ru[i]||Ov)return;ru[i]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=RC().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,b){S.setAttribute("width","24"),S.setAttribute("id",b),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Ov=!0,h()},S}function v(S,b){S.setAttribute("id",b),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=bC(s),b=n("text"),V=document.getElementById(b)||document.createElement("span"),z=n("learnmore"),D=document.getElementById(z)||document.createElement("a"),nt=n("preprendIcon"),rt=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const tt=S.element;m(tt),v(D,z);const mt=g();p(rt,nt),tt.append(rt,V,D,mt),document.body.appendChild(tt)}u?(V.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function CC(){var i;const t=(i=ff())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function DC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MC(){const i=mn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function xC(){return!CC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LC(){try{return typeof indexedDB=="object"}catch{return!1}}function VC(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="FirebaseError";class Cr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=UC,Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?PC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Cr(o,m,s)}}function PC(i,t){return i.replace(kC,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const kC=/\{\$([^}]+)}/g;function BC(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Ms(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=t[o];if(Dv(u)&&Dv(h)){if(!Ms(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Dv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function zC(i,t){const n=new jC(i,t);return n.subscribe.bind(n)}class jC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");HC(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=qm),o.error===void 0&&(o.error=qm),o.complete===void 0&&(o.complete=qm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HC(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i){return i&&i._delegate?i._delegate:i}class Ta{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new SC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qC(t))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ga){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ga){return this.instances.has(t)}getOptions(t=ga){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GC(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ga){return this.component?this.component.multipleInstances?t:ga:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GC(i){return i===ga?void 0:i}function qC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new FC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ht||(Ht={}));const KC={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},$C=Ht.INFO,QC={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},XC=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=QC[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $p{constructor(t){this.name=t,this._logLevel=$C,this._logHandler=XC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?KC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const JC=(i,t)=>t.some(n=>i instanceof n);let Mv,xv;function WC(){return Mv||(Mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZC(){return xv||(xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XA=new WeakMap,cp=new WeakMap,JA=new WeakMap,Ym=new WeakMap,Qp=new WeakMap;function tN(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Rs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&XA.set(n,i)}).catch(()=>{}),Qp.set(t,i),t}function eN(i){if(cp.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});cp.set(i,t)}let hp={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return cp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||JA.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function nN(i){hp=i(hp)}function iN(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Km(this),t,...n);return JA.set(s,t.sort?t.sort():[t]),Rs(s)}:ZC().includes(i)?function(...t){return i.apply(Km(this),t),Rs(XA.get(this))}:function(...t){return Rs(i.apply(Km(this),t))}}function rN(i){return typeof i=="function"?iN(i):(i instanceof IDBTransaction&&eN(i),JC(i,WC())?new Proxy(i,hp):i)}function Rs(i){if(i instanceof IDBRequest)return tN(i);if(Ym.has(i))return Ym.get(i);const t=rN(i);return t!==i&&(Ym.set(i,t),Qp.set(t,i)),t}const Km=i=>Qp.get(i);function sN(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),m=Rs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Rs(h.result),p.oldVersion,p.newVersion,Rs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const aN=["get","getKey","getAll","getAllKeys","count"],oN=["put","add","delete","clear"],$m=new Map;function Lv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if($m.get(t))return $m.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=oN.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||aN.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return $m.set(t,u),u}nN(i=>({...i,get:(t,n,s)=>Lv(t,n)||i.get(t,n,s),has:(t,n)=>!!Lv(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uN(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function uN(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const fp="@firebase/app",Vv="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new $p("@firebase/app"),cN="@firebase/app-compat",hN="@firebase/analytics-compat",fN="@firebase/analytics",dN="@firebase/app-check-compat",mN="@firebase/app-check",pN="@firebase/auth",gN="@firebase/auth-compat",_N="@firebase/database",yN="@firebase/data-connect",EN="@firebase/database-compat",vN="@firebase/functions",TN="@firebase/functions-compat",AN="@firebase/installations",SN="@firebase/installations-compat",IN="@firebase/messaging",RN="@firebase/messaging-compat",bN="@firebase/performance",wN="@firebase/performance-compat",CN="@firebase/remote-config",NN="@firebase/remote-config-compat",ON="@firebase/storage",DN="@firebase/storage-compat",MN="@firebase/firestore",xN="@firebase/ai",LN="@firebase/firestore-compat",VN="firebase",UN="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="[DEFAULT]",PN={[fp]:"fire-core",[cN]:"fire-core-compat",[fN]:"fire-analytics",[hN]:"fire-analytics-compat",[mN]:"fire-app-check",[dN]:"fire-app-check-compat",[pN]:"fire-auth",[gN]:"fire-auth-compat",[_N]:"fire-rtdb",[yN]:"fire-data-connect",[EN]:"fire-rtdb-compat",[vN]:"fire-fn",[TN]:"fire-fn-compat",[AN]:"fire-iid",[SN]:"fire-iid-compat",[IN]:"fire-fcm",[RN]:"fire-fcm-compat",[bN]:"fire-perf",[wN]:"fire-perf-compat",[CN]:"fire-rc",[NN]:"fire-rc-compat",[ON]:"fire-gcs",[DN]:"fire-gcs-compat",[MN]:"fire-fst",[LN]:"fire-fst-compat",[xN]:"fire-vertex","fire-js":"fire-js",[VN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Map,kN=new Map,mp=new Map;function Uv(i,t){try{i.container.addComponent(t)}catch(n){Ar.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function Co(i){const t=i.name;if(mp.has(t))return Ar.debug(`There were multiple attempts to register component ${t}.`),!1;mp.set(t,i);for(const n of zh.values())Uv(n,i);for(const n of kN.values())Uv(n,i);return!0}function Xp(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function li(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new Su("app","Firebase",BN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=UN;function WA(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:dp,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw bs.create("bad-app-name",{appName:String(o)});if(n||(n=YA()),!n)throw bs.create("no-options");const u=zh.get(o);if(u){if(Ms(n,u.options)&&Ms(s,u.config))return u;throw bs.create("duplicate-app",{appName:o})}const h=new YC(o);for(const p of mp.values())h.addComponent(p);const m=new zN(n,s,h);return zh.set(o,m),m}function ZA(i=dp){const t=zh.get(i);if(!t&&i===dp&&YA())return WA();if(!t)throw bs.create("no-app",{appName:i});return t}function ws(i,t,n){var s;let o=(s=PN[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ar.warn(m.join(" "));return}Co(new Ta(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="firebase-heartbeat-database",HN=1,du="firebase-heartbeat-store";let Qm=null;function tS(){return Qm||(Qm=sN(jN,HN,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(du)}catch(n){console.warn(n)}}}}).catch(i=>{throw bs.create("idb-open",{originalErrorMessage:i.message})})),Qm}async function FN(i){try{const n=(await tS()).transaction(du),s=await n.objectStore(du).get(eS(i));return await n.done,s}catch(t){if(t instanceof Cr)Ar.warn(t.message);else{const n=bs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ar.warn(n.message)}}}async function Pv(i,t){try{const s=(await tS()).transaction(du,"readwrite");await s.objectStore(du).put(t,eS(i)),await s.done}catch(n){if(n instanceof Cr)Ar.warn(n.message);else{const s=bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ar.warn(s.message)}}}function eS(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=1024,qN=30;class YN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $N(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=kv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>qN){const h=QN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ar.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kv(),{heartbeatsToSend:s,unsentEntries:o}=KN(this._heartbeatsCache.heartbeats),u=Bh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ar.warn(n),""}}}function kv(){return new Date().toISOString().substring(0,10)}function KN(i,t=GN){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Bv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Bv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $N{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LC()?VC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Pv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Pv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Bv(i){return Bh(JSON.stringify({version:2,heartbeats:i})).length}function QN(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(i){Co(new Ta("platform-logger",t=>new lN(t),"PRIVATE")),Co(new Ta("heartbeat",t=>new YN(t),"PRIVATE")),ws(fp,Vv,i),ws(fp,Vv,"esm2017"),ws("fire-js","")}XN("");function Jp(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function nS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JN=nS,iS=new Su("auth","Firebase",nS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new $p("@firebase/auth");function WN(i,...t){jh.logLevel<=Ht.WARN&&jh.warn(`Auth (${ko}): ${i}`,...t)}function Ch(i,...t){jh.logLevel<=Ht.ERROR&&jh.error(`Auth (${ko}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(i,...t){throw Zp(i,...t)}function Ei(i,...t){return Zp(i,...t)}function Wp(i,t,n){const s=Object.assign(Object.assign({},JN()),{[t]:n});return new Su("auth","Firebase",s).create(t,{appName:i.name})}function Cs(i){return Wp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rS(i,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&zi(i,"argument-error"),Wp(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zp(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return iS.create(i,...t)}function bt(i,t,...n){if(!i)throw Zp(t,...n)}function gr(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Ch(t),new Error(t)}function Sr(i,t){i||gr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function ZN(){return zv()==="http:"||zv()==="https:"}function zv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZN()||OC()||"connection"in navigator)?navigator.onLine:!0}function eO(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t,n){this.shortDelay=t,this.longDelay=n,Sr(n>t,"Short delay should be less than long delay!"),this.isMobile=wC()||DC()}get(){return tO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(i,t){Sr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rO=new Ru(3e4,6e4);function eg(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function Bo(i,t,n,s,o={}){return aS(i,o,async()=>{let u={},h={};s&&(t==="GET"?h=s:u={body:JSON.stringify(s)});const m=Iu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},u);return NC()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Po(i.emulatorConfig.host)&&(g.credentials="include"),sS.fetch()(await oS(i,i.config.apiHost,n,m),g)})}async function aS(i,t,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},nO),t);try{const o=new aO(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw mh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw mh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw mh(i,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Wp(i,v,g);zi(i,v)}}catch(o){if(o instanceof Cr)throw o;zi(i,"network-request-failed",{message:String(o)})}}async function sO(i,t,n,s,o={}){const u=await Bo(i,t,n,s,o);return"mfaPendingCredential"in u&&zi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function oS(i,t,n,s){const o=`${t}${n}?${s}`,u=i,h=u.config.emulator?tg(i.config,o):`${i.config.apiScheme}://${o}`;return iO.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class aO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ei(this.auth,"network-request-failed")),rO.get())})}}function mh(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ei(i,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(i,t){return Bo(i,"POST","/v1/accounts:delete",t)}async function Hh(i,t){return Bo(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lO(i,t=!1){const n=we(i),s=await n.getIdToken(t),o=ng(s);bt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:su(Xm(o.auth_time)),issuedAtTime:su(Xm(o.iat)),expirationTime:su(Xm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Xm(i){return Number(i)*1e3}function ng(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=GA(n);return o?JSON.parse(o):(Ch("Failed to decode base64 JWT payload"),null)}catch(o){return Ch("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function jv(i){const t=ng(i);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Cr&&uO(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function uO({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(i){var t;const n=i.auth,s=await i.getIdToken(),o=await mu(i,Hh(n,{idToken:s}));bt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?lS(u.providerUserInfo):[],m=fO(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),v=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new gp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,T)}async function hO(i){const t=we(i);await Fh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fO(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function lS(i){return i.map(t=>{var{providerId:n}=t,s=Jp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(i,t){const n=await aS(i,{},async()=>{const s=Iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await oS(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Po(i.emulatorConfig.host)&&(p.credentials="include"),sS.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mO(i,t){return Bo(i,"POST","/v2/accounts:revokeToken",eg(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):jv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const n=jv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await dO(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new So;return s&&(bt(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(bt(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(bt(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(i,t){bt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class yi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Jp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new gp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await mu(this,this.stsTokenManager.getToken(this.auth,t));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return lO(this,t)}reload(){return hO(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new yi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(Cs(this.auth));const t=await this.getIdToken();return await mu(this,oO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,h,m,p,g,v;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,b=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(h=n.photoURL)!==null&&h!==void 0?h:void 0,z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,D=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,nt=(g=n.createdAt)!==null&&g!==void 0?g:void 0,rt=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:tt,emailVerified:mt,isAnonymous:Rt,providerData:vt,stsTokenManager:O}=n;bt(tt&&O,t,"internal-error");const R=So.fromJSON(this.name,O);bt(typeof tt=="string",t,"internal-error"),Es(T,t.name),Es(S,t.name),bt(typeof mt=="boolean",t,"internal-error"),bt(typeof Rt=="boolean",t,"internal-error"),Es(b,t.name),Es(V,t.name),Es(z,t.name),Es(D,t.name),Es(nt,t.name),Es(rt,t.name);const w=new yi({uid:tt,auth:t,email:S,emailVerified:mt,displayName:T,isAnonymous:Rt,photoURL:V,phoneNumber:b,tenantId:z,stsTokenManager:R,createdAt:nt,lastLoginAt:rt});return vt&&Array.isArray(vt)&&(w.providerData=vt.map(x=>Object.assign({},x))),D&&(w._redirectEventId=D),w}static async _fromIdTokenResponse(t,n,s=!1){const o=new So;o.updateFromServerResponse(n);const u=new yi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Fh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];bt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?lS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new So;m.updateFromIdToken(s);const p=new yi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new gp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new Map;function _r(i){Sr(i instanceof Function,"Expected a class definition");let t=Hv.get(i);return t?(Sr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,Hv.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}uS.type="NONE";const Fv=uS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(i,t,n){return`firebase:${i}:${t}:${n}`}class Io{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Nh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Hh(this.auth,{idToken:t}).catch(()=>{});return n?yi._fromGetAccountInfoResponse(this.auth,n,t):null}return yi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Io(_r(Fv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||_r(Fv);const h=Nh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let T;if(typeof v=="string"){const S=await Hh(t,{idToken:v}).catch(()=>{});if(!S)break;T=await yi._fromGetAccountInfoResponse(t,S,v)}else T=yi._fromJSON(t,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Io(u,t,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Io(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pS(t))return"Blackberry";if(gS(t))return"Webos";if(hS(t))return"Safari";if((t.includes("chrome/")||fS(t))&&!t.includes("edge/"))return"Chrome";if(mS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function cS(i=mn()){return/firefox\//i.test(i)}function hS(i=mn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fS(i=mn()){return/crios\//i.test(i)}function dS(i=mn()){return/iemobile/i.test(i)}function mS(i=mn()){return/android/i.test(i)}function pS(i=mn()){return/blackberry/i.test(i)}function gS(i=mn()){return/webos/i.test(i)}function ig(i=mn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function pO(i=mn()){var t;return ig(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function gO(){return MC()&&document.documentMode===10}function _S(i=mn()){return ig(i)||mS(i)||gS(i)||pS(i)||/windows phone/i.test(i)||dS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(i,t=[]){let n;switch(i){case"Browser":n=Gv(mn());break;case"Worker":n=`${Gv(mn())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((h,m)=>{try{const p=t(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(i,t={}){return Bo(i,"GET","/v2/passwordPolicy",eg(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=6;class vO{constructor(t){var n,s,o,u;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:EO,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qv(this),this.idTokenSubscription=new qv(this),this.beforeStateQueue=new _O(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Io.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Hh(this,{idToken:t}),s=await yi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(li(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Fh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=eO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(li(this.app))return Promise.reject(Cs(this));const n=t?we(t):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return li(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yO(this),n=new vO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Su("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await mO(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&_r(t)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&WN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function bu(i){return we(i)}class qv{constructor(t){this.auth=t,this.observer=null,this.addObserver=zC(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AO(i){rg=i}function SO(i){return rg.loadJS(i)}function IO(){return rg.gapiScript}function RO(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(i,t){const n=Xp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ms(u,t??{}))return o;zi(o,"already-initialized")}return n.initialize({options:t})}function wO(i,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(_r);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function CO(i,t,n){const s=bu(i);bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=ES(t),{host:h,port:m}=NO(t),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){bt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),bt(Ms(g,s.config.emulator)&&Ms(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Po(h)?($A(`${u}//${h}${p}`),QA("Auth",!0)):OO()}function ES(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function NO(i){const t=ES(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Yv(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Yv(h)}}}function Yv(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function OO(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(t){return gr("not implemented")}_linkToIdToken(t,n){return gr("not implemented")}_getReauthenticationResolver(t){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(i,t){return sO(i,"POST","/v1/accounts:signInWithIdp",eg(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="http://localhost";class Aa extends vS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Aa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Jp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Aa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const n=this.buildRequest();return Ro(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ro(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ro(t,n)}buildRequest(){const t={requestUri:DO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Iu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends df{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends wu{constructor(){super("facebook.com")}static credential(t){return Aa._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vs.credentialFromTaggedObject(t)}static credentialFromError(t){return vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vs.credential(t.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Aa._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return pr.credential(n,s)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends wu{constructor(){super("github.com")}static credential(t){return Aa._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ts.credentialFromTaggedObject(t)}static credentialFromError(t){return Ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ts.credential(t.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends wu{constructor(){super("twitter.com")}static credential(t,n){return Aa._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return As.credentialFromTaggedObject(t)}static credentialFromError(t){return As.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return As.credential(n,s)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await yi._fromIdTokenResponse(t,s,o),h=Kv(s);return new No({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Kv(s);return new No({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Kv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends Cr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Gh(t,n,s,o)}}function TS(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(i,u,t,s):u})}async function MO(i,t,n=!1){const s=await mu(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return No._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(i,t,n=!1){const{auth:s}=i;if(li(s.app))return Promise.reject(Cs(s));const o="reauthenticate";try{const u=await mu(i,TS(s,o,t,i),n);bt(u.idToken,s,"internal-error");const h=ng(u.idToken);bt(h,s,"internal-error");const{sub:m}=h;return bt(i.uid===m,s,"user-mismatch"),No._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&zi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(i,t,n=!1){if(li(i.app))return Promise.reject(Cs(i));const s="signIn",o=await TS(i,s,t),u=await No._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(i,t){return we(i).setPersistence(t)}function VO(i,t,n,s){return we(i).onIdTokenChanged(t,n,s)}function UO(i,t,n){return we(i).beforeAuthStateChanged(t,n)}function SS(i,t,n,s){return we(i).onAuthStateChanged(t,n,s)}function PO(i){return we(i).signOut()}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=1e3,BO=10;class RS extends IS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_S(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);gO()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,BO):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},kO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}RS.type="LOCAL";const sg=RS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends IS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}bS.type="SESSION";const wS=bS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new mf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await zO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=ag("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function HO(i){Ui().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function FO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GO(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function qO(){return CS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firebaseLocalStorageDb",YO=1,Yh="firebaseLocalStorage",OS="fbase_key";class Cu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pf(i,t){return i.transaction([Yh],t?"readwrite":"readonly").objectStore(Yh)}function KO(){const i=indexedDB.deleteDatabase(NS);return new Cu(i).toPromise()}function _p(){const i=indexedDB.open(NS,YO);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Yh,{keyPath:OS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Yh)?t(s):(s.close(),await KO(),t(await _p()))})})}async function $v(i,t,n){const s=pf(i,!0).put({[OS]:t,value:n});return new Cu(s).toPromise()}async function $O(i,t){const n=pf(i,!1).get(t),s=await new Cu(n).toPromise();return s===void 0?null:s.value}function Qv(i,t){const n=pf(i,!0).delete(t);return new Cu(n).toPromise()}const QO=800,XO=3;class DS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _p(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>XO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(qO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await FO(),!this.activeServiceWorker)return;this.sender=new jO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||GO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _p();return await $v(t,qh,"1"),await Qv(t,qh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>$v(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>$O(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=pf(o,!1).getAll();return new Cu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DS.type="LOCAL";const JO=DS;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(i,t){return t?_r(t):(bt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg extends vS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ro(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ro(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function WO(i){return LO(i.auth,new lg(i),i.bypassAuthState)}function ZO(i){const{auth:t,user:n}=i;return bt(n,t,"internal-error"),xO(n,new lg(i),i.bypassAuthState)}async function tD(i){const{auth:t,user:n}=i;return bt(n,t,"internal-error"),MO(n,new lg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return WO;case"linkViaPopup":case"linkViaRedirect":return tD;case"reauthViaPopup":case"reauthViaRedirect":return ZO;default:zi(this.auth,"internal-error")}}resolve(t){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new Ru(2e3,1e4);async function nD(i,t,n){if(li(i.app))return Promise.reject(Ei(i,"operation-not-supported-in-this-environment"));const s=bu(i);rS(i,t,df);const o=og(s,n);return new ya(s,"signInViaPopup",t,o).executeNotNull()}class ya extends MS{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const t=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,eD.get())};t()}}ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="pendingRedirect",Oh=new Map;class rD extends MS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Oh.get(this.auth._key());if(!t){try{const s=await sD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Oh.set(this.auth._key(),t)}return this.bypassAuthState||Oh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sD(i,t){const n=LS(t),s=xS(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function aD(i,t){return xS(i)._set(LS(t),"true")}function oD(i,t){Oh.set(i._key(),t)}function xS(i){return _r(i._redirectPersistence)}function LS(i){return Nh(iD,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(i,t,n){return lD(i,t,n)}async function lD(i,t,n){if(li(i.app))return Promise.reject(Cs(i));const s=bu(i);rS(i,t,df),await s._initializationPromise;const o=og(s,n);return await aD(o,s),o._openRedirect(s,t,"signInViaRedirect")}async function uD(i,t,n=!1){if(li(i.app))return Promise.reject(Cs(i));const s=bu(i),o=og(s,t),h=await new rD(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=600*1e3;class hD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fD(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!VS(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ei(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=cD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jv(t))}saveEventToCache(t){this.cachedEventUids.add(Jv(t)),this.lastProcessedEventTime=Date.now()}}function Jv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function VS({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function fD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(i,t={}){return Bo(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pD=/^https?/;async function gD(i){if(i.config.emulator)return;const{authorizedDomains:t}=await dD(i);for(const n of t)try{if(_D(n))return}catch{}zi(i,"unauthorized-domain")}function _D(i){const t=pp(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!pD.test(n))return!1;if(mD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new Ru(3e4,6e4);function Wv(){const i=Ui().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function ED(i){return new Promise((t,n)=>{var s,o,u;function h(){Wv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Wv(),n(Ei(i,"network-request-failed"))},timeout:yD.get()})}if(!((o=(s=Ui().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Ui().gapi)===null||u===void 0)&&u.load)h();else{const m=RO("iframefcb");return Ui()[m]=()=>{gapi.load?h():n(Ei(i,"network-request-failed"))},SO(`${IO()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw Dh=null,t})}let Dh=null;function vD(i){return Dh=Dh||ED(i),Dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new Ru(5e3,15e3),AD="__/auth/iframe",SD="emulator/auth/iframe",ID={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bD(i){const t=i.config;bt(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?tg(t,SD):`https://${i.config.authDomain}/${AD}`,s={apiKey:t.apiKey,appName:i.name,v:ko},o=RD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Iu(s).slice(1)}`}async function wD(i){const t=await vD(i),n=Ui().gapi;return bt(n,i,"internal-error"),t.open({where:document.body,url:bD(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ID,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ei(i,"network-request-failed"),m=Ui().setTimeout(()=>{u(h)},TD.get());function p(){Ui().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ND=500,OD=600,DD="_blank",MD="http://localhost";class Zv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xD(i,t,n,s=ND,o=OD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},CD),{width:s.toString(),height:o.toString(),top:u,left:h}),g=mn().toLowerCase();n&&(m=fS(g)?DD:n),cS(g)&&(t=t||MD,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[b,V])=>`${S}${b}=${V},`,"");if(pO(g)&&m!=="_self")return LD(t||"",m),new Zv(null);const T=window.open(t||"",m,v);bt(T,i,"popup-blocked");try{T.focus()}catch{}return new Zv(T)}function LD(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="__/auth/handler",UD="emulator/auth/handler",PD=encodeURIComponent("fac");async function tT(i,t,n,s,o,u){bt(i.config.authDomain,i,"auth-domain-config-required"),bt(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ko,eventId:o};if(t instanceof df){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",BC(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))h[v]=T}if(t instanceof wu){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${PD}=${encodeURIComponent(p)}`:"";return`${kD(i)}?${Iu(m).slice(1)}${g}`}function kD({config:i}){return i.emulator?tg(i,UD):`https://${i.authDomain}/${VD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="webStorageSupport";class BD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wS,this._completeRedirectFn=uD,this._overrideRedirectResult=oD}async _openPopup(t,n,s,o){var u;Sr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await tT(t,n,s,pp(),o);return xD(t,h,ag())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await tT(t,n,s,pp(),o);return HO(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await wD(t),s=new hD(t);return n.register("authEvent",o=>(bt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Jm,{type:Jm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Jm];h!==void 0&&n(!!h),zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _S()||hS()||ig()}}const zD=BD;var eT="@firebase/auth",nT="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FD(i){Co(new Ta("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;bt(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yS(i)},g=new TO(s,o,u,p);return wO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Co(new Ta("auth-internal",t=>{const n=bu(t.getProvider("auth").getImmediate());return(s=>new jD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(eT,nT,HD(i)),ws(eT,nT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=300,qD=KA("authIdTokenMaxAge")||GD;let iT=null;const YD=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>qD)return;const o=n==null?void 0:n.token;iT!==o&&(iT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function KD(i=ZA()){const t=Xp(i,"auth");if(t.isInitialized())return t.getImmediate();const n=bO(i,{popupRedirectResolver:zD,persistence:[JO,sg,wS]}),s=KA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=YD(u.toString());UO(n,h,()=>h(n.currentUser)),VO(n,m=>h(m))}}const o=qA("auth");return o&&CO(n,`http://${o}`),n}function $D(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}AO({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=Ei("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",$D().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FD("Browser");var rT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,US;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function w(){}w.prototype=R.prototype,O.D=R.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(x,P,U){for(var C=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)C[ee-2]=arguments[ee];return R.prototype[P].apply(x,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,w){w||(w=0);var x=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)x[P]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(P=0;16>P;++P)x[P]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=O.g[0],w=O.g[1],P=O.g[2];var U=O.g[3],C=R+(U^w&(P^U))+x[0]+3614090360&4294967295;R=w+(C<<7&4294967295|C>>>25),C=U+(P^R&(w^P))+x[1]+3905402710&4294967295,U=R+(C<<12&4294967295|C>>>20),C=P+(w^U&(R^w))+x[2]+606105819&4294967295,P=U+(C<<17&4294967295|C>>>15),C=w+(R^P&(U^R))+x[3]+3250441966&4294967295,w=P+(C<<22&4294967295|C>>>10),C=R+(U^w&(P^U))+x[4]+4118548399&4294967295,R=w+(C<<7&4294967295|C>>>25),C=U+(P^R&(w^P))+x[5]+1200080426&4294967295,U=R+(C<<12&4294967295|C>>>20),C=P+(w^U&(R^w))+x[6]+2821735955&4294967295,P=U+(C<<17&4294967295|C>>>15),C=w+(R^P&(U^R))+x[7]+4249261313&4294967295,w=P+(C<<22&4294967295|C>>>10),C=R+(U^w&(P^U))+x[8]+1770035416&4294967295,R=w+(C<<7&4294967295|C>>>25),C=U+(P^R&(w^P))+x[9]+2336552879&4294967295,U=R+(C<<12&4294967295|C>>>20),C=P+(w^U&(R^w))+x[10]+4294925233&4294967295,P=U+(C<<17&4294967295|C>>>15),C=w+(R^P&(U^R))+x[11]+2304563134&4294967295,w=P+(C<<22&4294967295|C>>>10),C=R+(U^w&(P^U))+x[12]+1804603682&4294967295,R=w+(C<<7&4294967295|C>>>25),C=U+(P^R&(w^P))+x[13]+4254626195&4294967295,U=R+(C<<12&4294967295|C>>>20),C=P+(w^U&(R^w))+x[14]+2792965006&4294967295,P=U+(C<<17&4294967295|C>>>15),C=w+(R^P&(U^R))+x[15]+1236535329&4294967295,w=P+(C<<22&4294967295|C>>>10),C=R+(P^U&(w^P))+x[1]+4129170786&4294967295,R=w+(C<<5&4294967295|C>>>27),C=U+(w^P&(R^w))+x[6]+3225465664&4294967295,U=R+(C<<9&4294967295|C>>>23),C=P+(R^w&(U^R))+x[11]+643717713&4294967295,P=U+(C<<14&4294967295|C>>>18),C=w+(U^R&(P^U))+x[0]+3921069994&4294967295,w=P+(C<<20&4294967295|C>>>12),C=R+(P^U&(w^P))+x[5]+3593408605&4294967295,R=w+(C<<5&4294967295|C>>>27),C=U+(w^P&(R^w))+x[10]+38016083&4294967295,U=R+(C<<9&4294967295|C>>>23),C=P+(R^w&(U^R))+x[15]+3634488961&4294967295,P=U+(C<<14&4294967295|C>>>18),C=w+(U^R&(P^U))+x[4]+3889429448&4294967295,w=P+(C<<20&4294967295|C>>>12),C=R+(P^U&(w^P))+x[9]+568446438&4294967295,R=w+(C<<5&4294967295|C>>>27),C=U+(w^P&(R^w))+x[14]+3275163606&4294967295,U=R+(C<<9&4294967295|C>>>23),C=P+(R^w&(U^R))+x[3]+4107603335&4294967295,P=U+(C<<14&4294967295|C>>>18),C=w+(U^R&(P^U))+x[8]+1163531501&4294967295,w=P+(C<<20&4294967295|C>>>12),C=R+(P^U&(w^P))+x[13]+2850285829&4294967295,R=w+(C<<5&4294967295|C>>>27),C=U+(w^P&(R^w))+x[2]+4243563512&4294967295,U=R+(C<<9&4294967295|C>>>23),C=P+(R^w&(U^R))+x[7]+1735328473&4294967295,P=U+(C<<14&4294967295|C>>>18),C=w+(U^R&(P^U))+x[12]+2368359562&4294967295,w=P+(C<<20&4294967295|C>>>12),C=R+(w^P^U)+x[5]+4294588738&4294967295,R=w+(C<<4&4294967295|C>>>28),C=U+(R^w^P)+x[8]+2272392833&4294967295,U=R+(C<<11&4294967295|C>>>21),C=P+(U^R^w)+x[11]+1839030562&4294967295,P=U+(C<<16&4294967295|C>>>16),C=w+(P^U^R)+x[14]+4259657740&4294967295,w=P+(C<<23&4294967295|C>>>9),C=R+(w^P^U)+x[1]+2763975236&4294967295,R=w+(C<<4&4294967295|C>>>28),C=U+(R^w^P)+x[4]+1272893353&4294967295,U=R+(C<<11&4294967295|C>>>21),C=P+(U^R^w)+x[7]+4139469664&4294967295,P=U+(C<<16&4294967295|C>>>16),C=w+(P^U^R)+x[10]+3200236656&4294967295,w=P+(C<<23&4294967295|C>>>9),C=R+(w^P^U)+x[13]+681279174&4294967295,R=w+(C<<4&4294967295|C>>>28),C=U+(R^w^P)+x[0]+3936430074&4294967295,U=R+(C<<11&4294967295|C>>>21),C=P+(U^R^w)+x[3]+3572445317&4294967295,P=U+(C<<16&4294967295|C>>>16),C=w+(P^U^R)+x[6]+76029189&4294967295,w=P+(C<<23&4294967295|C>>>9),C=R+(w^P^U)+x[9]+3654602809&4294967295,R=w+(C<<4&4294967295|C>>>28),C=U+(R^w^P)+x[12]+3873151461&4294967295,U=R+(C<<11&4294967295|C>>>21),C=P+(U^R^w)+x[15]+530742520&4294967295,P=U+(C<<16&4294967295|C>>>16),C=w+(P^U^R)+x[2]+3299628645&4294967295,w=P+(C<<23&4294967295|C>>>9),C=R+(P^(w|~U))+x[0]+4096336452&4294967295,R=w+(C<<6&4294967295|C>>>26),C=U+(w^(R|~P))+x[7]+1126891415&4294967295,U=R+(C<<10&4294967295|C>>>22),C=P+(R^(U|~w))+x[14]+2878612391&4294967295,P=U+(C<<15&4294967295|C>>>17),C=w+(U^(P|~R))+x[5]+4237533241&4294967295,w=P+(C<<21&4294967295|C>>>11),C=R+(P^(w|~U))+x[12]+1700485571&4294967295,R=w+(C<<6&4294967295|C>>>26),C=U+(w^(R|~P))+x[3]+2399980690&4294967295,U=R+(C<<10&4294967295|C>>>22),C=P+(R^(U|~w))+x[10]+4293915773&4294967295,P=U+(C<<15&4294967295|C>>>17),C=w+(U^(P|~R))+x[1]+2240044497&4294967295,w=P+(C<<21&4294967295|C>>>11),C=R+(P^(w|~U))+x[8]+1873313359&4294967295,R=w+(C<<6&4294967295|C>>>26),C=U+(w^(R|~P))+x[15]+4264355552&4294967295,U=R+(C<<10&4294967295|C>>>22),C=P+(R^(U|~w))+x[6]+2734768916&4294967295,P=U+(C<<15&4294967295|C>>>17),C=w+(U^(P|~R))+x[13]+1309151649&4294967295,w=P+(C<<21&4294967295|C>>>11),C=R+(P^(w|~U))+x[4]+4149444226&4294967295,R=w+(C<<6&4294967295|C>>>26),C=U+(w^(R|~P))+x[11]+3174756917&4294967295,U=R+(C<<10&4294967295|C>>>22),C=P+(R^(U|~w))+x[2]+718787259&4294967295,P=U+(C<<15&4294967295|C>>>17),C=w+(U^(P|~R))+x[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var w=R-this.blockSize,x=this.B,P=this.h,U=0;U<R;){if(P==0)for(;U<=w;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<R;)if(x[P++]=O.charCodeAt(U++),P==this.blockSize){o(this,x),P=0;break}}else for(;U<R;)if(x[P++]=O[U++],P==this.blockSize){o(this,x),P=0;break}}this.h=P,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var w=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=w&255,w/=256;for(this.u(O),O=Array(16),R=w=0;4>R;++R)for(var x=0;32>x;x+=8)O[w++]=this.g[R]>>>x&255;return O};function u(O,R){var w=m;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=R(O)}function h(O,R){this.h=R;for(var w=[],x=!0,P=O.length-1;0<=P;P--){var U=O[P]|0;x&&U==R||(w[P]=U,x=!1)}this.g=w}var m={};function p(O){return-128<=O&&128>O?u(O,function(R){return new h([R|0],0>R?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return T;if(0>O)return D(g(-O));for(var R=[],w=1,x=0;O>=w;x++)R[x]=O/w|0,w*=4294967296;return new h(R,0)}function v(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return D(v(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(R,8)),x=T,P=0;P<O.length;P+=8){var U=Math.min(8,O.length-P),C=parseInt(O.substring(P,P+U),R);8>U?(U=g(Math.pow(R,U)),x=x.j(U).add(g(C))):(x=x.j(w),x=x.add(g(C)))}return x}var T=p(0),S=p(1),b=p(16777216);i=h.prototype,i.m=function(){if(z(this))return-D(this).m();for(var O=0,R=1,w=0;w<this.g.length;w++){var x=this.i(w);O+=(0<=x?x:4294967296+x)*R,R*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if(z(this))return"-"+D(this).toString(O);for(var R=g(Math.pow(O,6)),w=this,x="";;){var P=mt(w,R).g;w=nt(w,P.j(R));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=P,V(w))return U+x;for(;6>U.length;)U="0"+U;x=U+x}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function z(O){return O.h==-1}i.l=function(O){return O=nt(this,O),z(O)?-1:V(O)?0:1};function D(O){for(var R=O.g.length,w=[],x=0;x<R;x++)w[x]=~O.g[x];return new h(w,~O.h).add(S)}i.abs=function(){return z(this)?D(this):this},i.add=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],x=0,P=0;P<=R;P++){var U=x+(this.i(P)&65535)+(O.i(P)&65535),C=(U>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);x=C>>>16,U&=65535,C&=65535,w[P]=C<<16|U}return new h(w,w[w.length-1]&-2147483648?-1:0)};function nt(O,R){return O.add(D(R))}i.j=function(O){if(V(this)||V(O))return T;if(z(this))return z(O)?D(this).j(D(O)):D(D(this).j(O));if(z(O))return D(this.j(D(O)));if(0>this.l(b)&&0>O.l(b))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,w=[],x=0;x<2*R;x++)w[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<O.g.length;P++){var U=this.i(x)>>>16,C=this.i(x)&65535,ee=O.i(P)>>>16,fe=O.i(P)&65535;w[2*x+2*P]+=C*fe,rt(w,2*x+2*P),w[2*x+2*P+1]+=U*fe,rt(w,2*x+2*P+1),w[2*x+2*P+1]+=C*ee,rt(w,2*x+2*P+1),w[2*x+2*P+2]+=U*ee,rt(w,2*x+2*P+2)}for(x=0;x<R;x++)w[x]=w[2*x+1]<<16|w[2*x];for(x=R;x<2*R;x++)w[x]=0;return new h(w,0)};function rt(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function tt(O,R){this.g=O,this.h=R}function mt(O,R){if(V(R))throw Error("division by zero");if(V(O))return new tt(T,T);if(z(O))return R=mt(D(O),R),new tt(D(R.g),D(R.h));if(z(R))return R=mt(O,D(R)),new tt(D(R.g),R.h);if(30<O.g.length){if(z(O)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var w=S,x=R;0>=x.l(O);)w=Rt(w),x=Rt(x);var P=vt(w,1),U=vt(x,1);for(x=vt(x,2),w=vt(w,2);!V(x);){var C=U.add(x);0>=C.l(O)&&(P=P.add(w),U=C),x=vt(x,1),w=vt(w,1)}return R=nt(O,P.j(R)),new tt(P,R)}for(P=T;0<=O.l(R);){for(w=Math.max(1,Math.floor(O.m()/R.m())),x=Math.ceil(Math.log(w)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),U=g(w),C=U.j(R);z(C)||0<C.l(O);)w-=x,U=g(w),C=U.j(R);V(U)&&(U=S),P=P.add(U),O=nt(O,C)}return new tt(P,O)}i.A=function(O){return mt(this,O).h},i.and=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],x=0;x<R;x++)w[x]=this.i(x)&O.i(x);return new h(w,this.h&O.h)},i.or=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],x=0;x<R;x++)w[x]=this.i(x)|O.i(x);return new h(w,this.h|O.h)},i.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],x=0;x<R;x++)w[x]=this.i(x)^O.i(x);return new h(w,this.h^O.h)};function Rt(O){for(var R=O.g.length+1,w=[],x=0;x<R;x++)w[x]=O.i(x)<<1|O.i(x-1)>>>31;return new h(w,O.h)}function vt(O,R){var w=R>>5;R%=32;for(var x=O.g.length-w,P=[],U=0;U<x;U++)P[U]=0<R?O.i(U+w)>>>R|O.i(U+w+1)<<32-R:O.i(U+w);return new h(P,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,US=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Ns=h}).apply(typeof rT<"u"?rT:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PS,Wl,kS,Mh,yp,BS,zS,jS;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,E){return c==Array.prototype||c==Object.prototype||(c[_]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)t:{var E=s;c=c.split(".");for(var I=0;I<c.length-1;I++){var B=c[I];if(!(B in E))break t;E=E[B]}c=c[c.length-1],I=E[c],_=_(I),_!=I&&_!=null&&t(E,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var E=0,I=!1,B={next:function(){if(!I&&E<c.length){var Y=E++;return{value:_(Y,c[Y]),done:!1}}return I=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function v(c,_,E){return c.call.apply(c.bind,arguments)}function T(c,_,E){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),c.apply(_,B)}}return function(){return c.apply(_,arguments)}}function S(c,_,E){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,S.apply(null,arguments)}function b(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function V(c,_){function E(){}E.prototype=_.prototype,c.aa=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(I,B,Y){for(var ot=Array(arguments.length-2),te=2;te<arguments.length;te++)ot[te-2]=arguments[te];return _.prototype[B].apply(I,ot)}}function z(c){const _=c.length;if(0<_){const E=Array(_);for(let I=0;I<_;I++)E[I]=c[I];return E}return[]}function D(c,_){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(p(I)){const B=c.length||0,Y=I.length||0;c.length=B+Y;for(let ot=0;ot<Y;ot++)c[B+ot]=I[ot]}else c.push(I)}}class nt{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function rt(c){return/^[\s\xa0]*$/.test(c)}function tt(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function mt(c){return mt[" "](c),c}mt[" "]=function(){};var Rt=tt().indexOf("Gecko")!=-1&&!(tt().toLowerCase().indexOf("webkit")!=-1&&tt().indexOf("Edge")==-1)&&!(tt().indexOf("Trident")!=-1||tt().indexOf("MSIE")!=-1)&&tt().indexOf("Edge")==-1;function vt(c,_,E){for(const I in c)_.call(E,c[I],I,c)}function O(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function R(c){const _={};for(const E in c)_[E]=c[E];return _}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,_){let E,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(E in I)c[E]=I[E];for(let Y=0;Y<w.length;Y++)E=w[Y],Object.prototype.hasOwnProperty.call(I,E)&&(c[E]=I[E])}}function P(c){var _=1;c=c.split(":");const E=[];for(;0<_&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Gt;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class ee{constructor(){this.h=this.g=null}add(_,E){const I=fe.get();I.set(_,E),this.h?this.h.next=I:this.g=I,this.h=I}}var fe=new nt(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,_t=!1,Gt=new ee,Yt=()=>{const c=m.Promise.resolve(void 0);at=()=>{c.then(L)}};var L=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(E){U(E)}var _=fe;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}_t=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var ht=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};m.addEventListener("test",E,_),m.removeEventListener("test",E,_)}catch{}return c})();function Tt(c,_){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(Rt){t:{try{mt(_.nodeName);var B=!0;break t}catch{}B=!1}B||(_=null)}}else E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement);this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Dt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Tt.aa.h.call(this)}}V(Tt,st);var Dt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function ce(c,_,E,I,B){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!I,this.ha=B,this.key=++ze,this.da=this.fa=!1}function Qn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function hi(c){this.src=c,this.g={},this.h=0}hi.prototype.add=function(c,_,E,I,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ot=Nr(c,_,I,B);return-1<ot?(_=c[ot],E||(_.fa=!1)):(_=new ce(_,this.src,Y,!!I,B),_.fa=E,c.push(_)),_};function Hi(c,_){var E=_.type;if(E in c.g){var I=c.g[E],B=Array.prototype.indexOf.call(I,_,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(I,B,1),Y&&(Qn(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Nr(c,_,E,I){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==_&&Y.capture==!!E&&Y.ha==I)return B}return-1}var ln="closure_lm_"+(1e6*Math.random()|0),Fi={};function Or(c,_,E,I,B){if(Array.isArray(_)){for(var Y=0;Y<_.length;Y++)Or(c,_[Y],E,I,B);return null}return E=Ut(E),c&&c[Pt]?c.K(_,E,g(I)?!!I.capture:!1,B):Yo(c,_,E,!1,I,B)}function Yo(c,_,E,I,B,Y){if(!_)throw Error("Invalid event type");var ot=g(B)?!!B.capture:!!B,te=ut(c);if(te||(c[ln]=te=new hi(c)),E=te.add(_,E,I,ot,Y),E.proxy)return E;if(I=Na(),E.proxy=I,I.src=c,I.listener=E,c.addEventListener)ht||(B=ot),B===void 0&&(B=!1),c.addEventListener(_.toString(),I,B);else if(c.attachEvent)c.attachEvent(J(_.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Na(){function c(E){return _.call(c.src,c.listener,E)}const _=dt;return c}function Ti(c,_,E,I,B){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)Ti(c,_[Y],E,I,B);else I=g(I)?!!I.capture:!!I,E=Ut(E),c&&c[Pt]?(c=c.i,_=String(_).toString(),_ in c.g&&(Y=c.g[_],E=Nr(Y,E,I,B),-1<E&&(Qn(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete c.g[_],c.h--)))):c&&(c=ut(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Nr(_,E,I,B)),(E=-1<c?_[c]:null)&&xn(E))}function xn(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Pt])Hi(_.i,c);else{var E=c.type,I=c.proxy;_.removeEventListener?_.removeEventListener(E,I,c.capture):_.detachEvent?_.detachEvent(J(E),I):_.addListener&&_.removeListener&&_.removeListener(I),(E=ut(_))?(Hi(E,c),E.h==0&&(E.src=null,_[ln]=null)):Qn(c)}}}function J(c){return c in Fi?Fi[c]:Fi[c]="on"+c}function dt(c,_){if(c.da)c=!0;else{_=new Tt(_,this);var E=c.listener,I=c.ha||c.src;c.fa&&xn(c),c=E.call(I,_)}return c}function ut(c){return c=c[ln],c instanceof hi?c:null}var pt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ut(c){return typeof c=="function"?c:(c[pt]||(c[pt]=function(_){return c.handleEvent(_)}),c[pt])}function Ct(){Q.call(this),this.i=new hi(this),this.M=this,this.F=null}V(Ct,Q),Ct.prototype[Pt]=!0,Ct.prototype.removeEventListener=function(c,_,E,I){Ti(this,c,_,E,I)};function Nt(c,_){var E,I=c.F;if(I)for(E=[];I;I=I.F)E.push(I);if(c=c.M,I=_.type||_,typeof _=="string")_=new st(_,c);else if(_ instanceof st)_.target=_.target||c;else{var B=_;_=new st(I,c),x(_,B)}if(B=!0,E)for(var Y=E.length-1;0<=Y;Y--){var ot=_.g=E[Y];B=de(ot,I,!0,_)&&B}if(ot=_.g=c,B=de(ot,I,!0,_)&&B,B=de(ot,I,!1,_)&&B,E)for(Y=0;Y<E.length;Y++)ot=_.g=E[Y],B=de(ot,I,!1,_)&&B}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var E=c.g[_],I=0;I<E.length;I++)Qn(E[I]);delete c.g[_],c.h--}}this.F=null},Ct.prototype.K=function(c,_,E,I){return this.i.add(String(c),_,!1,E,I)},Ct.prototype.L=function(c,_,E,I){return this.i.add(String(c),_,!0,E,I)};function de(c,_,E,I){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var B=!0,Y=0;Y<_.length;++Y){var ot=_[Y];if(ot&&!ot.da&&ot.capture==E){var te=ot.listener,Me=ot.ha||ot.src;ot.fa&&Hi(c.i,ot),B=te.call(Me,I)!==!1&&B}}return B&&!I.defaultPrevented}function he(c,_,E){if(typeof c=="function")E&&(c=S(c,E));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(c,_||0)}function Qt(c){c.g=he(()=>{c.g=null,c.i&&(c.i=!1,Qt(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class le extends Q{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Qt(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fs(c){Q.call(this),this.h=c,this.g={}}V(Fs,Q);var Dr=[];function un(c){vt(c.g,function(_,E){this.g.hasOwnProperty(E)&&xn(_)},c),c.g={}}Fs.prototype.N=function(){Fs.aa.N.call(this),un(this)},Fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=m.JSON.stringify,gn=m.JSON.parse,Uf=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ko(){}Ko.prototype.h=null;function zu(c){return c.h||(c.h=c.i())}function Gs(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mr(){st.call(this,"d")}V(Mr,st);function fi(){st.call(this,"c")}V(fi,st);var Jn={},xr=null;function Oa(){return xr=xr||new Ct}Jn.La="serverreachability";function $o(c){st.call(this,Jn.La,c)}V($o,st);function Gi(c){const _=Oa();Nt(_,new $o(_))}Jn.STAT_EVENT="statevent";function Lr(c,_){st.call(this,Jn.STAT_EVENT,c),this.stat=_}V(Lr,st);function Xe(c){const _=Oa();Nt(_,new Lr(_,c))}Jn.Ma="timingevent";function Qo(c,_){st.call(this,Jn.Ma,c),this.size=_}V(Qo,st);function Vr(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},_)}function Ur(){this.g=!0}Ur.prototype.xa=function(){this.g=!1};function Xo(c,_,E,I,B,Y){c.info(function(){if(c.g)if(Y)for(var ot="",te=Y.split("&"),Me=0;Me<te.length;Me++){var Lt=te[Me].split("=");if(1<Lt.length){var qe=Lt[0];Lt=Lt[1];var Ye=qe.split("_");ot=2<=Ye.length&&Ye[1]=="type"?ot+(qe+"="+Lt+"&"):ot+(qe+"=redacted&")}}else ot=null;else ot=Y;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+_+`
`+E+`
`+ot})}function Jo(c,_,E,I,B,Y,ot){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+_+`
`+E+`
`+Y+" "+ot})}function qi(c,_,E,I){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Si(c,E)+(I?" "+I:"")})}function ju(c,_){c.info(function(){return"TIMEOUT: "+_})}Ur.prototype.info=function(){};function Si(c,_){if(!c.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var I=E[c];if(!(2>I.length)){var B=I[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ot=1;ot<B.length;ot++)B[ot]=""}}}}return Xn(E)}catch{return _}}var Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ii;function Pr(){}V(Pr,Ko),Pr.prototype.g=function(){return new XMLHttpRequest},Pr.prototype.i=function(){return{}},Ii=new Pr;function Ri(c,_,E,I){this.j=c,this.i=_,this.l=E,this.R=I||1,this.U=new Fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hu}function Hu(){this.i=null,this.g="",this.h=!1}var Wo={},Yi={};function qs(c,_,E){c.L=1,c.v=$s(Se(_)),c.m=E,c.P=!0,Ki(c,null)}function Ki(c,_){c.F=Date.now(),di(c),c.A=Se(c.v);var E=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Xi(E.i,"t",I),c.C=0,E=c.j.J,c.h=new Hu,c.g=rc(c.j,E?_:null,!c.m),0<c.O&&(c.M=new le(S(c.Y,c,c.g),c.O)),_=c.U,E=c.g,I=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Dr[0]=B.toString()),B=Dr);for(var Y=0;Y<B.length;Y++){var ot=Or(E,B[Y],I||_.handleEvent,!1,_.h||_);if(!ot)break;_.g[ot.key]=ot}_=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),Gi(),Xo(c.i,c.u,c.A,c.l,c.R,c.m)}Ri.prototype.ca=function(c){c=c.target;const _=this.M;_&&En(c)==3?_.j():this.Y(c)},Ri.prototype.Y=function(c){try{if(c==this.g)t:{const Ye=En(this.g);var _=this.g.Ba();const Xr=this.g.Z();if(!(3>Ye)&&(Ye!=3||this.g&&(this.h.h||this.g.oa()||Js(this.g)))){this.J||Ye!=4||_==7||(_==8||0>=Xr?Gi(3):Gi(2)),Da(this);var E=this.g.Z();this.X=E;e:if($i(this)){var I=Js(this.g);c="";var B=I.length,Y=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),kr(this);var ot="";break e}this.h.i=new m.TextDecoder}for(_=0;_<B;_++)this.h.h=!0,c+=this.h.i.decode(I[_],{stream:!(Y&&_==B-1)});I.length=0,this.h.g+=c,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=E==200,Jo(this.i,this.u,this.A,this.l,this.R,Ye,E),this.o){if(this.T&&!this.K){e:{if(this.g){var te,Me=this.g;if((te=Me.g?Me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(te)){var Lt=te;break e}}Lt=null}if(E=Lt)qi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bi(this,E);else{this.o=!1,this.s=3,Xe(12),_n(this),kr(this);break t}}if(this.P){E=!0;let bn;for(;!this.J&&this.C<ot.length;)if(bn=Ys(this,ot),bn==Yi){Ye==4&&(this.s=4,Xe(14),E=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==Wo){this.s=4,Xe(15),qi(this.i,this.l,ot,"[Invalid Chunk]"),E=!1;break}else qi(this.i,this.l,bn,null),bi(this,bn);if($i(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||ot.length!=0||this.h.h||(this.s=1,Xe(16),E=!1),this.o=this.o&&E,!E)qi(this.i,this.l,ot,"[Invalid Chunked Response]"),_n(this),kr(this);else if(0<ot.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),ul(qe),qe.M=!0,Xe(11))}}else qi(this.i,this.l,ot,null),bi(this,ot);Ye==4&&_n(this),this.o&&!this.J&&(Ye==4?ec(this.j,this):(this.o=!1,di(this)))}else Qu(this.g),E==400&&0<ot.indexOf("Unknown SID")?(this.s=3,Xe(12)):(this.s=0,Xe(13)),_n(this),kr(this)}}}catch{}finally{}};function $i(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ys(c,_){var E=c.C,I=_.indexOf(`
`,E);return I==-1?Yi:(E=Number(_.substring(E,I)),isNaN(E)?Wo:(I+=1,I+E>_.length?Yi:(_=_.slice(I,I+E),c.C=I+E,_)))}Ri.prototype.cancel=function(){this.J=!0,_n(this)};function di(c){c.S=Date.now()+c.I,Ce(c,c.I)}function Ce(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Vr(S(c.ba,c),_)}function Da(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Ri.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ju(this.i,this.A),this.L!=2&&(Gi(),Xe(17)),_n(this),this.s=2,kr(this)):Ce(this,this.S-c)};function kr(c){c.j.G==0||c.J||ec(c.j,c)}function _n(c){Da(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,un(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function bi(c,_){try{var E=c.j;if(E.G!=0&&(E.g==c||Br(E.h,c))){if(!c.K&&Br(E.h,c)&&E.G==3){try{var I=E.Da.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)$r(E),Kr(E);else break t;ll(E),Xe(18)}}else E.za=B[1],0<E.za-E.T&&37500>B[2]&&E.F&&E.v==0&&!E.C&&(E.C=Vr(S(E.Za,E),6e3));if(1>=Fu(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Wi(E,11)}else if((c.K||E.g==c)&&$r(E),!rt(_))for(B=E.Da.g.parse(_),_=0;_<B.length;_++){let Lt=B[_];if(E.T=Lt[0],Lt=Lt[1],E.G==2)if(Lt[0]=="c"){E.K=Lt[1],E.ia=Lt[2];const qe=Lt[3];qe!=null&&(E.la=qe,E.j.info("VER="+E.la));const Ye=Lt[4];Ye!=null&&(E.Aa=Ye,E.j.info("SVER="+E.Aa));const Xr=Lt[5];Xr!=null&&typeof Xr=="number"&&0<Xr&&(I=1.5*Xr,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const bn=c.g;if(bn){const ta=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var Y=I.h;Y.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(zr(Y,Y.h),Y.h=null))}if(I.D){const Zi=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zi&&(I.ya=Zi,Xt(I.I,I.D,Zi))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var ot=c;if(I.qa=ic(I,I.J?I.ia:null,I.W),ot.K){Wn(I.h,ot);var te=ot,Me=I.L;Me&&(te.I=Me),te.B&&(Da(te),di(te)),I.g=ot}else Zu(I);0<E.i.length&&Ba(E)}else Lt[0]!="stop"&&Lt[0]!="close"||Wi(E,7);else E.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Wi(E,7):al(E):Lt[0]!="noop"&&E.l&&E.l.ta(Lt),E.v=0)}}Gi(4)}catch{}}var Pf=class{constructor(c,_){this.g=c,this.map=_}};function Zo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Fu(c){return c.h?1:c.g?c.g.size:0}function Br(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function zr(c,_){c.g?c.g.add(_):c.h=_}function Wn(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Zo.prototype.cancel=function(){if(this.i=yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function yn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.D);return _}return z(c.i)}function Gu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var _=[],E=c.length,I=0;I<E;I++)_.push(c[I]);return _}_=[],E=0;for(I in c)_[E++]=c[I];return _}function kf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var _=[];c=c.length;for(var E=0;E<c;E++)_.push(E);return _}_=[],E=0;for(const I in c)_[E++]=I;return _}}}function Ma(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var E=kf(c),I=Gu(c),B=I.length,Y=0;Y<B;Y++)_.call(void 0,I[Y],E&&E[Y],c)}var el=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(c,_){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var I=c[E].indexOf("="),B=null;if(0<=I){var Y=c[E].substring(0,I);B=c[E].substring(I+1)}else Y=c[E];_(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Qi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Qi){this.h=c.h,jr(this,c.j),this.o=c.o,this.g=c.g,Ks(this,c.s),this.l=c.l;var _=c.i,E=new wi;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),La(this,E),this.m=c.m}else c&&(_=String(c).match(el))?(this.h=!1,jr(this,_[1]||"",!0),this.o=Hr(_[2]||""),this.g=Hr(_[3]||"",!0),Ks(this,_[4]),this.l=Hr(_[5]||"",!0),La(this,_[6]||"",!0),this.m=Hr(_[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}Qi.prototype.toString=function(){var c=[],_=this.j;_&&c.push(Zn(_,nl,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Zn(_,nl,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Zn(E,E.charAt(0)=="/"?il:qu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Zn(E,jf)),c.join("")};function Se(c){return new Qi(c)}function jr(c,_,E){c.j=E?Hr(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Ks(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function La(c,_,E){_ instanceof wi?(c.i=_,Yu(c.i,c.h)):(E||(_=Zn(_,zf)),c.i=new wi(_,c.h))}function Xt(c,_,E){c.i.set(_,E)}function $s(c){return Xt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Hr(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zn(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,Bf),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Bf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nl=/[#\/\?@]/g,qu=/[#\?:]/g,il=/[#\?]/g,zf=/[#\?@]/g,jf=/#/g;function wi(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Ge(c){c.g||(c.g=new Map,c.h=0,c.i&&xa(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}i=wi.prototype,i.add=function(c,_){Ge(this),this.i=null,c=Ln(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function Va(c,_){Ge(c),_=Ln(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Ua(c,_){return Ge(c),_=Ln(c,_),c.g.has(_)}i.forEach=function(c,_){Ge(this),this.g.forEach(function(E,I){E.forEach(function(B){c.call(_,B,I,this)},this)},this)},i.na=function(){Ge(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let I=0;I<_.length;I++){const B=c[I];for(let Y=0;Y<B.length;Y++)E.push(_[I])}return E},i.V=function(c){Ge(this);let _=[];if(typeof c=="string")Ua(this,c)&&(_=_.concat(this.g.get(Ln(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)_=_.concat(c[E])}return _},i.set=function(c,_){return Ge(this),this.i=null,c=Ln(this,c),Ua(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function Xi(c,_,E){Va(c,_),0<E.length&&(c.i=null,c.g.set(Ln(c,_),z(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var I=_[E];const Y=encodeURIComponent(String(I)),ot=this.V(I);for(I=0;I<ot.length;I++){var B=Y;ot[I]!==""&&(B+="="+encodeURIComponent(String(ot[I]))),c.push(B)}}return this.i=c.join("&")};function Ln(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Yu(c,_){_&&!c.j&&(Ge(c),c.i=null,c.g.forEach(function(E,I){var B=I.toLowerCase();I!=B&&(Va(this,I),Xi(this,B,E))},c)),c.j=_}function rl(c,_){const E=new Ur;if(m.Image){const I=new Image;I.onload=b(Rn,E,"TestLoadImage: loaded",!0,_,I),I.onerror=b(Rn,E,"TestLoadImage: error",!1,_,I),I.onabort=b(Rn,E,"TestLoadImage: abort",!1,_,I),I.ontimeout=b(Rn,E,"TestLoadImage: timeout",!1,_,I),m.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else _(!1)}function Ku(c,_){const E=new Ur,I=new AbortController,B=setTimeout(()=>{I.abort(),Rn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:I.signal}).then(Y=>{clearTimeout(B),Y.ok?Rn(E,"TestPingServer: ok",!0,_):Rn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),Rn(E,"TestPingServer: error",!1,_)})}function Rn(c,_,E,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(E)}catch{}}function mi(){this.g=new Uf}function sl(c,_,E){const I=E||"";try{Ma(c,function(B,Y){let ot=B;g(B)&&(ot=Xn(B)),_.push(I+Y+"="+encodeURIComponent(ot))})}catch(B){throw _.push(I+"type="+encodeURIComponent("_badmap")),B}}function Ci(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Ci,Ko),Ci.prototype.g=function(){return new Vn(this.l,this.j)},Ci.prototype.i=(function(c){return function(){return c}})({});function Vn(c,_){Ct.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Vn,Ct),i=Vn.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,Fr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pa(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pa(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?Ni(this):Fr(this),this.readyState==3&&Pa(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Ni(this))},i.Qa=function(c){this.g&&(this.response=c,Ni(this))},i.ga=function(){this.g&&Ni(this)};function Ni(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Fr(c)}i.setRequestHeader=function(c,_){this.u.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function Fr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qs(c){let _="";return vt(c,function(E,I){_+=I,_+=":",_+=E,_+=`\r
`}),_}function Gr(c,_,E){t:{for(I in E){var I=!1;break t}I=!0}I||(E=Qs(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Xt(c,_,E))}function me(c){Ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(me,Ct);var cn=/^https?$/i,Ji=["POST","PUT"];i=me.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,_,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ii.g(),this.v=this.o?zu(this.o):zu(Ii),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(Y){Xs(this,Y);return}if(c=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)E.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Y of I.keys())E.set(Y,I.get(Y));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ji,_,void 0))||I||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ot]of E)this.g.setRequestHeader(Y,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ka(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Xs(this,Y)}};function Xs(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,qr(c),Yr(c)}function qr(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Nt(this,"complete"),Nt(this,"abort"),Yr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yr(this,!0)),me.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?$u(this):this.bb())},i.bb=function(){$u(this)};function $u(c){if(c.h&&typeof h<"u"&&(!c.v[1]||En(c)!=4||c.Z()!=2)){if(c.u&&En(c)==4)he(c.Ea,0,c);else if(Nt(c,"readystatechange"),En(c)==4){c.h=!1;try{const ot=c.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var I;if(I=ot===0){var B=String(c.D).match(el)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),I=!cn.test(B?B.toLowerCase():"")}E=I}if(E)Nt(c,"complete"),Nt(c,"success");else{c.m=6;try{var Y=2<En(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",qr(c)}}finally{Yr(c)}}}}function Yr(c,_){if(c.g){ka(c);const E=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Nt(c,"ready");try{E.onreadystatechange=I}catch{}}}function ka(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function En(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),gn(_)}};function Js(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qu(c){const _={};c=(c.g&&2<=En(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(rt(c[I]))continue;var E=P(c[I]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=_[B]||[];_[B]=Y,Y.push(E)}O(_,function(I){return I.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ws(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function Xu(c){this.Aa=0,this.i=[],this.j=new Ur,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ws("baseRetryDelayMs",5e3,c),this.cb=Ws("retryDelaySeedMs",1e4,c),this.Wa=Ws("forwardChannelMaxRetries",2,c),this.wa=Ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Zo(c&&c.concurrentRequestLimit),this.Da=new mi,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Xu.prototype,i.la=8,i.G=1,i.connect=function(c,_,E,I){Xe(0),this.W=c,this.H=_||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=ic(this,null,this.W),Ba(this)};function al(c){if(Ju(c),c.G==3){var _=c.U++,E=Se(c.I);if(Xt(E,"SID",c.K),Xt(E,"RID",_),Xt(E,"TYPE","terminate"),Zs(c,E),_=new Ri(c,c.j,_),_.L=2,_.v=$s(Se(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&m.Image&&(new Image().src=_.v,E=!0),E||(_.g=rc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),di(_)}cl(c)}function Kr(c){c.g&&(ul(c),c.g.cancel(),c.g=null)}function Ju(c){Kr(c),c.u&&(m.clearTimeout(c.u),c.u=null),$r(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ba(c){if(!tl(c.h)&&!c.s){c.s=!0;var _=c.Ga;at||Yt(),_t||(at(),_t=!0),Gt.add(_,c),c.B=0}}function Hf(c,_){return Fu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Vr(S(c.Ga,c,_),nc(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Ri(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),x(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(_+=I,4096<_){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=ol(this,B,_),E=Se(this.I),Xt(E,"RID",c),Xt(E,"CVER",22),this.D&&Xt(E,"X-HTTP-Session-Id",this.D),Zs(this,E),Y&&(this.O?_="headers="+encodeURIComponent(String(Qs(Y)))+"&"+_:this.m&&Gr(E,this.m,Y)),zr(this.h,B),this.Ua&&Xt(E,"TYPE","init"),this.P?(Xt(E,"$req",_),Xt(E,"SID","null"),B.T=!0,qs(B,E,null)):qs(B,E,_),this.G=2}}else this.G==3&&(c?Wu(this,c):this.i.length==0||tl(this.h)||Wu(this))};function Wu(c,_){var E;_?E=_.l:E=c.U++;const I=Se(c.I);Xt(I,"SID",c.K),Xt(I,"RID",E),Xt(I,"AID",c.T),Zs(c,I),c.m&&c.o&&Gr(I,c.m,c.o),E=new Ri(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),_&&(c.i=_.D.concat(c.i)),_=ol(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),zr(c.h,E),qs(E,I,_)}function Zs(c,_){c.H&&vt(c.H,function(E,I){Xt(_,I,E)}),c.l&&Ma({},function(E,I){Xt(_,I,E)})}function ol(c,_,E){E=Math.min(c.i.length,E);var I=c.l?S(c.l.Na,c.l,c):null;t:{var B=c.i;let Y=-1;for(;;){const ot=["count="+E];Y==-1?0<E?(Y=B[0].g,ot.push("ofs="+Y)):Y=0:ot.push("ofs="+Y);let te=!0;for(let Me=0;Me<E;Me++){let Lt=B[Me].g;const qe=B[Me].map;if(Lt-=Y,0>Lt)Y=Math.max(0,B[Me].g-100),te=!1;else try{sl(qe,ot,"req"+Lt+"_")}catch{I&&I(qe)}}if(te){I=ot.join("&");break t}}}return c=c.i.splice(0,E),_.D=c,I}function Zu(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;at||Yt(),_t||(at(),_t=!0),Gt.add(_,c),c.v=0}}function ll(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Vr(S(c.Fa,c),nc(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,tc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Vr(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xe(10),Kr(this),tc(this))};function ul(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function tc(c){c.g=new Ri(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=Se(c.qa);Xt(_,"RID","rpc"),Xt(_,"SID",c.K),Xt(_,"AID",c.T),Xt(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xt(_,"TO",c.ja),Xt(_,"TYPE","xmlhttp"),Zs(c,_),c.m&&c.o&&Gr(_,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=$s(Se(_)),E.m=null,E.P=!0,Ki(E,c)}i.Za=function(){this.C!=null&&(this.C=null,Kr(this),ll(this),Xe(19))};function $r(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ec(c,_){var E=null;if(c.g==_){$r(c),ul(c),c.g=null;var I=2}else if(Br(c.h,_))E=_.D,Wn(c.h,_),I=1;else return;if(c.G!=0){if(_.o)if(I==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var B=c.B;I=Oa(),Nt(I,new Qo(I,E)),Ba(c)}else Zu(c);else if(B=_.s,B==3||B==0&&0<_.X||!(I==1&&Hf(c,_)||I==2&&ll(c)))switch(E&&0<E.length&&(_=c.h,_.i=_.i.concat(E)),B){case 1:Wi(c,5);break;case 4:Wi(c,10);break;case 3:Wi(c,6);break;default:Wi(c,2)}}}function nc(c,_){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*_}function Wi(c,_){if(c.j.info("Error code "+_),_==2){var E=S(c.fb,c),I=c.Xa;const B=!I;I=new Qi(I||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||jr(I,"https"),$s(I),B?rl(I.toString(),E):Ku(I.toString(),E)}else Xe(2);c.G=0,c.l&&c.l.sa(_),cl(c),Ju(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function cl(c){if(c.G=0,c.ka=[],c.l){const _=yn(c.h);(_.length!=0||c.i.length!=0)&&(D(c.ka,_),D(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function ic(c,_,E){var I=E instanceof Qi?Se(E):new Qi(E);if(I.g!="")_&&(I.g=_+"."+I.g),Ks(I,I.s);else{var B=m.location;I=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;var Y=new Qi(null);I&&jr(Y,I),_&&(Y.g=_),B&&Ks(Y,B),E&&(Y.l=E),I=Y}return E=c.D,_=c.ya,E&&_&&Xt(I,E,_),Xt(I,"VER",c.la),Zs(c,I),I}function rc(c,_,E){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new me(new Ci({eb:E})):new me(c.pa),_.Ha(c.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function sc(){}i=sc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function za(){}za.prototype.g=function(c,_){return new vn(c,_)};function vn(c,_){Ct.call(this),this.g=new Xu(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!rt(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!rt(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Qr(this)}V(vn,Ct),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){al(this.g)},vn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Xn(c),c=E);_.i.push(new Pf(_.Ya++,c)),_.G==3&&Ba(_)},vn.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,vn.aa.N.call(this)};function ac(c){Mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){t:{for(const E in _){c=E;break t}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}V(ac,Mr);function oc(){fi.call(this),this.status=1}V(oc,fi);function Qr(c){this.g=c}V(Qr,sc),Qr.prototype.ua=function(){Nt(this.g,"a")},Qr.prototype.ta=function(c){Nt(this.g,new ac(c))},Qr.prototype.sa=function(c){Nt(this.g,new oc)},Qr.prototype.ra=function(){Nt(this.g,"b")},za.prototype.createWebChannel=za.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,jS=function(){return new za},zS=function(){return Oa()},BS=Jn,yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,Mh=Ae,Je.COMPLETE="complete",kS=Je,Gs.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,Wl=Gs,me.prototype.listenOnce=me.prototype.L,me.prototype.getLastError=me.prototype.Ka,me.prototype.getLastErrorCode=me.prototype.Ba,me.prototype.getStatus=me.prototype.Z,me.prototype.getResponseJson=me.prototype.Oa,me.prototype.getResponseText=me.prototype.oa,me.prototype.send=me.prototype.ea,me.prototype.setWithCredentials=me.prototype.Ha,PS=me}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const sT="@firebase/firestore",aT="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new $p("@firebase/firestore");function go(){return Sa.logLevel}function ct(i,...t){if(Sa.logLevel<=Ht.DEBUG){const n=t.map(ug);Sa.debug(`Firestore (${zo}): ${i}`,...n)}}function Ir(i,...t){if(Sa.logLevel<=Ht.ERROR){const n=t.map(ug);Sa.error(`Firestore (${zo}): ${i}`,...n)}}function xs(i,...t){if(Sa.logLevel<=Ht.WARN){const n=t.map(ug);Sa.warn(`Firestore (${zo}): ${i}`,...n)}}function ug(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,HS(i,s,n)}function HS(i,t,n){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ir(s),new Error(s)}function $t(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||HS(t,o,s)}function wt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Cr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(dn.UNAUTHENTICATED)))}shutdown(){}}class XD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class JD{constructor(t){this.t=t,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vr,t.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vr)}}),0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string",31837,{l:s}),new FS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new dn(t)}}class WD{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZD{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new WD(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class oT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0,3512);const s=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new oT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new oT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=e2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Vt(i,t){return i<t?-1:i>t?1:0}function Ep(i,t){let n=0;for(;n<i.length&&n<t.length;){const s=i.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Vt(s,o);{const u=GS(),h=n2(u.encode(lT(i,n)),u.encode(lT(t,n)));return h!==0?h:Vt(s,o)}}n+=s>65535?2:1}return Vt(i.length,t.length)}function lT(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function n2(i,t){for(let n=0;n<i.length&&n<t.length;++n)if(i[n]!==t[n])return Vt(i[n],t[n]);return Vt(i.length,t.length)}function Oo(i,t,n){return i.length===t.length&&i.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="__name__";class Vi{constructor(t,n,s){n===void 0?n=0:n>t.length&&At(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&At(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Vi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Vi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Vi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Vt(t.length,n.length)}static compareSegments(t,n){const s=Vi.isNumericId(t),o=Vi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vi.extractNumericId(t).compare(Vi.extractNumericId(n)):Ep(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ns.fromString(t.substring(4,t.length-2))}}class oe extends Vi{construct(t,n,s){return new oe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new oe(n)}static emptyPath(){return new oe([])}}const i2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Vi{construct(t,n,s){return new sn(t,n,s)}static isValidIdentifier(t){return i2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uT}static keyField(){return new sn([uT])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(oe.fromString(t))}static fromName(t){return new yt(oe.fromString(t).popFirst(5))}static empty(){return new yt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new oe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(i,t,n){if(!n)throw new lt(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function r2(i,t,n,s){if(t===!0&&s===!0)throw new lt(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function cT(i){if(!yt.isDocumentKey(i))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function hT(i){if(yt.isDocumentKey(i))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function YS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function gf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":At(12329,{type:typeof i})}function Yn(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gf(i);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(i,t){const n={typeString:i};return t&&(n.value=t),n}function Nu(i,t){if(!YS(i))throw new lt(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new lt(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=-62135596800,dT=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(t){return _e.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*dT);return new _e(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<fT)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dT}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Nu(t,_e._jsonSchema))return new _e(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-fT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:Be("string",_e._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new _e(0,0))}static max(){return new It(new _e(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function s2(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=It.fromTimestamp(s===1e9?new _e(n+1,0):new _e(n,s));return new Ls(o,yt.empty(),t)}function a2(i){return new Ls(i.readTime,i.key,pu)}class Ls{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ls(It.min(),yt.empty(),pu)}static max(){return new Ls(It.max(),yt.empty(),pu)}}function o2(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(i.documentKey,t.documentKey),n!==0?n:Vt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==l2)throw i;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):it.reject(n)}static resolve(t){return new it(((n,s)=>{n(t)}))}static reject(t){return new it(((n,s)=>{s(t)}))}static waitFor(t){return new it(((n,s)=>{let o=0,u=0,h=!1;t.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(t){let n=it.resolve(!1);for(const s of t)n=n.next((o=>o?it.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new it(((s,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((v=>{h[g]=v,++m,m===u&&s(h)}),(v=>o(v)))}}))}static doWhile(t,n){return new it(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function c2(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ho(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}_f.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=-1;function Ou(i){return i==null}function Kh(i){return i===0&&1/i==-1/0}function h2(i){return typeof i=="number"&&Number.isInteger(i)&&!Kh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="";function f2(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=mT(t)),t=d2(i.get(n),t);return mT(t)}function d2(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case KS:n+="";break;default:n+=u}}return n}function mT(i){return i+KS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function js(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function $S(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t,n){this.comparator=t,this.root=n||rn.EMPTY}insert(t,n){return new Te(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(t){return new Te(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gh(this.root,t,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gh(this.root,t,this.comparator,!0)}}class gh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rn{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??rn.RED,this.left=o??rn.EMPTY,this.right=u??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new rn(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new rn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.comparator=t,this.data=new Te(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new gT(this.data.getIterator())}getIteratorFrom(t){return new gT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Fe(this.comparator);return n.data=t,n}}class gT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new qn([])}unionWith(t){let n=new Fe(sn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new qn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Oo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new QS("Invalid base64 string: "+u):u}})(t);return new an(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(t);return new an(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const m2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(i){if($t(!!i,39018),typeof i=="string"){let t=0;const n=m2.exec(i);if($t(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:De(i.seconds),nanos:De(i.nanos)}}function De(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Us(i){return typeof i=="string"?an.fromBase64String(i):an.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="server_timestamp",JS="__type__",WS="__previous_value__",ZS="__local_write_time__";function fg(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[JS])===null||n===void 0?void 0:n.stringValue)===XS}function yf(i){const t=i.mapValue.fields[WS];return fg(t)?yf(t):t}function gu(i){const t=Vs(i.mapValue.fields[ZS].timestampValue);return new _e(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t,n,s,o,u,h,m,p,g,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const $h="(default)";class _u{constructor(t,n){this.projectId=t,this.database=n||$h}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database===$h}isEqual(t){return t instanceof _u&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="__type__",g2="__max__",_h={mapValue:{}},eI="__vector__",Qh="value";function Ps(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?fg(i)?4:y2(i)?9007199254740991:_2(i)?10:11:At(28295,{value:i})}function ji(i,t){if(i===t)return!0;const n=Ps(i);if(n!==Ps(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return gu(i).isEqual(gu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Vs(o.timestampValue),m=Vs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return Us(o.bytesValue).isEqual(Us(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return De(o.geoPointValue.latitude)===De(u.geoPointValue.latitude)&&De(o.geoPointValue.longitude)===De(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return De(o.integerValue)===De(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=De(o.doubleValue),m=De(u.doubleValue);return h===m?Kh(h)===Kh(m):isNaN(h)&&isNaN(m)}return!1})(i,t);case 9:return Oo(i.arrayValue.values||[],t.arrayValue.values||[],ji);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(pT(h)!==pT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!ji(h[p],m[p])))return!1;return!0})(i,t);default:return At(52216,{left:i})}}function yu(i,t){return(i.values||[]).find((n=>ji(n,t)))!==void 0}function Do(i,t){if(i===t)return 0;const n=Ps(i),s=Ps(t);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(i.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=De(u.integerValue||u.doubleValue),p=De(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return _T(i.timestampValue,t.timestampValue);case 4:return _T(gu(i),gu(t));case 5:return Ep(i.stringValue,t.stringValue);case 6:return(function(u,h){const m=Us(u),p=Us(h);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Vt(m[g],p[g]);if(v!==0)return v}return Vt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=Vt(De(u.latitude),De(h.latitude));return m!==0?m:Vt(De(u.longitude),De(h.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return yT(i.arrayValue,t.arrayValue);case 10:return(function(u,h){var m,p,g,v;const T=u.fields||{},S=h.fields||{},b=(m=T[Qh])===null||m===void 0?void 0:m.arrayValue,V=(p=S[Qh])===null||p===void 0?void 0:p.arrayValue,z=Vt(((g=b==null?void 0:b.values)===null||g===void 0?void 0:g.length)||0,((v=V==null?void 0:V.values)===null||v===void 0?void 0:v.length)||0);return z!==0?z:yT(b,V)})(i.mapValue,t.mapValue);case 11:return(function(u,h){if(u===_h.mapValue&&h===_h.mapValue)return 0;if(u===_h.mapValue)return 1;if(h===_h.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const S=Ep(p[T],v[T]);if(S!==0)return S;const b=Do(m[p[T]],g[v[T]]);if(b!==0)return b}return Vt(p.length,v.length)})(i.mapValue,t.mapValue);default:throw At(23264,{le:n})}}function _T(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Vt(i,t);const n=Vs(i),s=Vs(t),o=Vt(n.seconds,s.seconds);return o!==0?o:Vt(n.nanos,s.nanos)}function yT(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Do(n[o],s[o]);if(u)return u}return Vt(n.length,s.length)}function Mo(i){return vp(i)}function vp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Vs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Us(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return yt.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=vp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${vp(n.fields[h])}`;return o+"}"})(i.mapValue):At(61005,{value:i})}function xh(i){switch(Ps(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yf(i);return t?16+xh(t):16;case 5:return 2*i.stringValue.length;case 6:return Us(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+xh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return js(s.fields,((u,h)=>{o+=u.length+xh(h)})),o})(i.mapValue);default:throw At(13486,{value:i})}}function ET(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function Tp(i){return!!i&&"integerValue"in i}function dg(i){return!!i&&"arrayValue"in i}function vT(i){return!!i&&"nullValue"in i}function TT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Lh(i){return!!i&&"mapValue"in i}function _2(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[tI])===null||n===void 0?void 0:n.stringValue)===eI}function au(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return js(i.mapValue.fields,((n,s)=>t.mapValue.fields[n]=au(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=au(i.arrayValue.values[n]);return t}return Object.assign({},i)}function y2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===g2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.value=t}static empty(){return new Sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Lh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=au(n)}setAll(t){let n=sn.emptyPath(),s={},o=[];t.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=au(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ji(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Lh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){js(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Sn(au(this.value))}}function nI(i){const t=[];return js(i.fields,((n,s)=>{const o=new sn([n]);if(Lh(s)){const u=nI(s.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)})),new qn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n,s,o,u,h,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new Qe(t,0,It.min(),It.min(),It.min(),Sn.empty(),0)}static newFoundDocument(t,n,s,o){return new Qe(t,1,n,It.min(),s,o,0)}static newNoDocument(t,n){return new Qe(t,2,n,It.min(),It.min(),Sn.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,It.min(),It.min(),Sn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,n){this.position=t,this.inclusive=n}}function AT(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(h.referenceValue),n.key):s=Do(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function ST(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ji(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t,n="asc"){this.field=t,this.dir=n}}function E2(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{}class ke extends iI{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new T2(t,n,s):n==="array-contains"?new I2(t,s):n==="in"?new R2(t,s):n==="not-in"?new b2(t,s):n==="array-contains-any"?new w2(t,s):new ke(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new A2(t,s):new S2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Do(n,this.value)):n!==null&&Ps(this.value)===Ps(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends iI{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new vi(t,n)}matches(t){return rI(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function rI(i){return i.op==="and"}function sI(i){return v2(i)&&rI(i)}function v2(i){for(const t of i.filters)if(t instanceof vi)return!1;return!0}function Ap(i){if(i instanceof ke)return i.field.canonicalString()+i.op.toString()+Mo(i.value);if(sI(i))return i.filters.map((t=>Ap(t))).join(",");{const t=i.filters.map((n=>Ap(n))).join(",");return`${i.op}(${t})`}}function aI(i,t){return i instanceof ke?(function(s,o){return o instanceof ke&&s.op===o.op&&s.field.isEqual(o.field)&&ji(s.value,o.value)})(i,t):i instanceof vi?(function(s,o){return o instanceof vi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&aI(h,o.filters[m])),!0):!1})(i,t):void At(19439)}function oI(i){return i instanceof ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`})(i):i instanceof vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(oI).join(" ,")+"}"})(i):"Filter"}class T2 extends ke{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class A2 extends ke{constructor(t,n){super(t,"in",n),this.keys=lI("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class S2 extends ke{constructor(t,n){super(t,"not-in",n),this.keys=lI("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function lI(i,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>yt.fromName(s.referenceValue)))}class I2 extends ke{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return dg(n)&&yu(n.arrayValue,this.value)}}class R2 extends ke{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class b2 extends ke{constructor(t,n){super(t,"not-in",n)}matches(t){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class w2 extends ke{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!dg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>yu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,n=null,s=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function IT(i,t=null,n=[],s=[],o=null,u=null,h=null){return new C2(i,t,n,s,o,u,h)}function mg(i){const t=wt(i);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Ap(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ou(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Mo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Mo(s))).join(",")),t.Pe=n}return t.Pe}function pg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!E2(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!aI(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!ST(i.startAt,t.startAt)&&ST(i.endAt,t.endAt)}function Sp(i){return yt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(t,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function N2(i,t,n,s,o,u,h,m){return new Du(i,t,n,s,o,u,h,m)}function gg(i){return new Du(i)}function RT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function uI(i){return i.collectionGroup!==null}function ou(i){const t=wt(i);if(t.Te===null){t.Te=[];const n=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Fe(sn.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Te.push(new Jh(u,s))})),n.has(sn.keyField().canonicalString())||t.Te.push(new Jh(sn.keyField(),s))}return t.Te}function Pi(i){const t=wt(i);return t.Ie||(t.Ie=O2(t,ou(i))),t.Ie}function O2(i,t){if(i.limitType==="F")return IT(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Jh(o.field,u)}));const n=i.endAt?new Xh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Xh(i.startAt.position,i.startAt.inclusive):null;return IT(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function Ip(i,t){const n=i.filters.concat([t]);return new Du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Rp(i,t,n){return new Du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function Ef(i,t){return pg(Pi(i),Pi(t))&&i.limitType===t.limitType}function cI(i){return`${mg(Pi(i))}|lt:${i.limitType}`}function _o(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>oI(o))).join(", ")}]`),Ou(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Mo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Mo(o))).join(",")),`Target(${s})`})(Pi(i))}; limitType=${i.limitType})`}function vf(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of ou(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=AT(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,ou(s),o)||s.endAt&&!(function(h,m,p){const g=AT(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,ou(s),o))})(i,t)}function D2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function hI(i){return(t,n)=>{let s=!1;for(const o of ou(i)){const u=M2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function M2(i,t,n){const s=i.field.isKeyField()?yt.comparator(t.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Do(p,g):At(42886)})(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return At(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){js(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return $S(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new Te(yt.comparator);function Rr(){return x2}const fI=new Te(yt.comparator);function Zl(...i){let t=fI;for(const n of i)t=t.insert(n.key,n);return t}function dI(i){let t=fI;return i.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ea(){return lu()}function mI(){return lu()}function lu(){return new ba((i=>i.toString()),((i,t)=>i.isEqual(t)))}const L2=new Te(yt.comparator),V2=new Fe(yt.comparator);function Ft(...i){let t=V2;for(const n of i)t=t.add(n);return t}const U2=new Fe(Vt);function P2(){return U2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(t)?"-0":t}}function pI(i){return{integerValue:""+i}}function k2(i,t){return h2(t)?pI(t):_g(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this._=void 0}}function B2(i,t,n){return i instanceof Wh?(function(o,u){const h={fields:{[JS]:{stringValue:XS},[ZS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fg(u)&&(u=yf(u)),u&&(h.fields[WS]=u),{mapValue:h}})(n,t):i instanceof xo?_I(i,t):i instanceof Eu?yI(i,t):(function(o,u){const h=gI(o,u),m=bT(h)+bT(o.Ee);return Tp(h)&&Tp(o.Ee)?pI(m):_g(o.serializer,m)})(i,t)}function z2(i,t,n){return i instanceof xo?_I(i,t):i instanceof Eu?yI(i,t):n}function gI(i,t){return i instanceof Zh?(function(s){return Tp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Wh extends Tf{}class xo extends Tf{constructor(t){super(),this.elements=t}}function _I(i,t){const n=EI(t);for(const s of i.elements)n.some((o=>ji(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Eu extends Tf{constructor(t){super(),this.elements=t}}function yI(i,t){let n=EI(t);for(const s of i.elements)n=n.filter((o=>!ji(o,s)));return{arrayValue:{values:n}}}class Zh extends Tf{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function bT(i){return De(i.integerValue||i.doubleValue)}function EI(i){return dg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,n){this.field=t,this.transform=n}}function H2(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof xo&&o instanceof xo||s instanceof Eu&&o instanceof Eu?Oo(s.elements,o.elements,ji):s instanceof Zh&&o instanceof Zh?ji(s.Ee,o.Ee):s instanceof Wh&&o instanceof Wh})(i.transform,t.transform)}class F2{constructor(t,n){this.version=t,this.transformResults=n}}class He{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new He}static exists(t){return new He(void 0,t)}static updateTime(t){return new He(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Af{}function vI(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new xu(i.key,He.none()):new Mu(i.key,i.data,He.none());{const n=i.data,s=Sn.empty();let o=new Fe(sn.comparator);for(let u of t.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Hs(i.key,s,new qn(o.toArray()),He.none())}}function G2(i,t,n){i instanceof Mu?(function(o,u,h){const m=o.value.clone(),p=CT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,t,n):i instanceof Hs?(function(o,u,h){if(!Vh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=CT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(TI(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,t,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,n)}function uu(i,t,n,s){return i instanceof Mu?(function(u,h,m,p){if(!Vh(u.precondition,h))return m;const g=u.value.clone(),v=NT(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,t,n,s):i instanceof Hs?(function(u,h,m,p){if(!Vh(u.precondition,h))return m;const g=NT(u.fieldTransforms,p,h),v=h.data;return v.setAll(TI(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,n,s):(function(u,h,m){return Vh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,t,n)}function q2(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=gI(s.transform,o||null);u!=null&&(n===null&&(n=Sn.empty()),n.set(s.field,u))}return n||null}function wT(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Oo(s,o,((u,h)=>H2(u,h)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Mu extends Af{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hs extends Af{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function TI(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}})),t}function CT(i,t,n){const s=new Map;$t(i.length===n.length,32656,{Ae:n.length,Re:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=t.data.field(u.field);s.set(u.field,z2(h,m,n[o]))}return s}function NT(i,t,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,B2(u,h,t))}return s}class xu extends Af{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AI extends Af{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&G2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=uu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=uu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=mI();return this.mutations.forEach((o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=vI(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(It.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ft())}isEqual(t){return this.batchId===t.batchId&&Oo(this.mutations,t.mutations,((n,s)=>wT(n,s)))&&Oo(this.baseMutations,t.baseMutations,((n,s)=>wT(n,s)))}}class yg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){$t(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=(function(){return L2})();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new yg(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,Kt;function SI(i){switch(i){case Z.OK:return At(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return At(15467,{code:i})}}function II(i){if(i===void 0)return Ir("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Pe.OK:return Z.OK;case Pe.CANCELLED:return Z.CANCELLED;case Pe.UNKNOWN:return Z.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return Z.INTERNAL;case Pe.UNAVAILABLE:return Z.UNAVAILABLE;case Pe.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Pe.NOT_FOUND:return Z.NOT_FOUND;case Pe.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Pe.ABORTED:return Z.ABORTED;case Pe.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Pe.DATA_LOSS:return Z.DATA_LOSS;default:return At(39323,{code:i})}}(Kt=Pe||(Pe={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new Ns([4294967295,4294967295],0);function OT(i){const t=GS().encode(i),n=new US;return n.update(t),new Uint8Array(n.digest())}function DT(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ns([n,s],0),new Ns([o,u],0)]}class Eg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new tu(`Invalid padding: ${n}`);if(s<0)throw new tu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new tu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Ns.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(Ns.fromNumber(s)));return o.compare(Q2)===1&&(o=new Ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=OT(t),[s,o]=DT(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Eg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(t){if(this.fe===0)return;const n=OT(t),[s,o]=DT(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Lu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Sf(It.min(),o,new Te(Vt),Rr(),Ft())}}class Lu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Lu(s,n,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class RI{constructor(t,n){this.targetId=t,this.De=n}}class bI{constructor(t,n,s=an.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class MT{constructor(){this.ve=0,this.Ce=xT(),this.Fe=an.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Ft(),n=Ft(),s=Ft();return this.Ce.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:At(38017,{changeType:u})}})),new Lu(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=xT()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class X2{constructor(t){this.We=t,this.Ge=new Map,this.ze=Rr(),this.je=yh(),this.Je=yh(),this.He=new Te(Vt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,(n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:At(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const u=o.target;if(Sp(u))if(s===0){const h=new yt(u.path);this.Xe(n,h,Qe.newNoDocument(h,It.min()))}else $t(s===1,20013,{expectedCount:s});else{const h=this.ot(n);if(h!==s){const m=this._t(t),p=m?this.ut(m,t,h):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Us(s).toUint8Array()}catch(p){if(p instanceof QS)return xs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Eg(h,o,u)}catch(p){return xs(p instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(t){const n=new Map;this.Ge.forEach(((u,h)=>{const m=this.st(h);if(m){if(u.current&&Sp(m.target)){const p=new yt(m.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,Qe.newNoDocument(p,t))}u.Ne&&(n.set(h,u.Le()),u.ke())}}));let s=Ft();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,h)=>h.setReadTime(t)));const o=new Sf(t,n,this.He,this.ze,s);return this.ze=Rr(),this.je=yh(),this.Je=yh(),this.He=new Te(Vt),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new MT,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Fe(Vt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Fe(Vt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new MT),this.We.getRemoteKeysForTarget(t).forEach((n=>{this.Xe(t,n,null)}))}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function yh(){return new Te(yt.comparator)}function xT(){return new Te(yt.comparator)}const J2={asc:"ASCENDING",desc:"DESCENDING"},W2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z2={and:"AND",or:"OR"};class tM{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function bp(i,t){return i.useProto3Json||Ou(t)?t:{value:t}}function tf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wI(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function eM(i,t){return tf(i,t.toTimestamp())}function Kn(i){return $t(!!i,49232),It.fromTimestamp((function(n){const s=Vs(n);return new _e(s.seconds,s.nanos)})(i))}function vg(i,t){return wp(i,t).canonicalString()}function wp(i,t){const n=(function(o){return new oe(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function CI(i){const t=oe.fromString(i);return $t(LI(t),10190,{key:t.toString()}),t}function ef(i,t){return vg(i.databaseId,t.path)}function cu(i,t){const n=CI(t);if(n.get(1)!==i.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new yt(OI(n))}function NI(i,t){return vg(i.databaseId,t)}function nM(i){const t=CI(i);return t.length===4?oe.emptyPath():OI(t)}function Cp(i){return new oe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function OI(i){return $t(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function LT(i,t,n){return{name:ef(i,t),fields:n.value.mapValue.fields}}function iM(i,t){return"found"in t?(function(s,o){$t(!!o.found,43571),o.found.name,o.found.updateTime;const u=cu(s,o.found.name),h=Kn(o.found.updateTime),m=o.found.createTime?Kn(o.found.createTime):It.min(),p=new Sn({mapValue:{fields:o.found.fields}});return Qe.newFoundDocument(u,h,m,p)})(i,t):"missing"in t?(function(s,o){$t(!!o.missing,3894),$t(!!o.readTime,22933);const u=cu(s,o.missing),h=Kn(o.readTime);return Qe.newNoDocument(u,h)})(i,t):At(7234,{result:t})}function rM(i,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:At(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?($t(v===void 0||typeof v=="string",58123),an.fromBase64String(v||"")):($t(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),an.fromUint8Array(v||new Uint8Array))})(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(g){const v=g.code===void 0?Z.UNKNOWN:II(g.code);return new lt(v,g.message||"")})(h);n=new bI(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=cu(i,s.document.name),u=Kn(s.document.updateTime),h=s.document.createTime?Kn(s.document.createTime):It.min(),m=new Sn({mapValue:{fields:s.document.fields}}),p=Qe.newFoundDocument(o,u,h,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Uh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=cu(i,s.document),u=s.readTime?Kn(s.readTime):It.min(),h=Qe.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Uh([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=cu(i,s.document),u=s.removedTargetIds||[];n=new Uh([],u,o,null)}else{if(!("filter"in t))return At(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new $2(o,u),m=s.targetId;n=new RI(m,h)}}return n}function DI(i,t){let n;if(t instanceof Mu)n={update:LT(i,t.key,t.value)};else if(t instanceof xu)n={delete:ef(i,t.key)};else if(t instanceof Hs)n={update:LT(i,t.key,t.data),updateMask:dM(t.fieldMask)};else{if(!(t instanceof AI))return At(16599,{Rt:t.type});n={verify:ef(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Wh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof xo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Eu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Zh)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw At(20930,{transform:h.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:eM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:At(27497)})(i,t.precondition)),n}function sM(i,t){return i&&i.length>0?($t(t!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Kn(o.updateTime):Kn(u);return h.isEqual(It.min())&&(h=Kn(u)),new F2(h,o.transformResults||[])})(n,t)))):[]}function aM(i,t){return{documents:[NI(i,t.path)]}}function oM(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NI(i,o);const u=(function(g){if(g.length!==0)return xI(vi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:yo(S.field),direction:cM(S.dir)}})(v)))})(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=bp(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{Vt:n,parent:o}}function lM(i){let t=nM(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$t(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const S=MI(T);return S instanceof vi&&sI(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((S=>(function(V){return new Jh(Eo(V.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,Ou(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(T){const S=!!T.before,b=T.values||[];return new Xh(b,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,b=T.values||[];return new Xh(b,S)})(n.endAt)),N2(t,o,h,u,m,"F",p,g)}function uM(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function MI(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Eo(n.unaryFilter.field);return ke.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Eo(n.unaryFilter.field);return ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Eo(n.unaryFilter.field);return ke.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(i):i.fieldFilter!==void 0?(function(n){return ke.create(Eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return vi.create(n.compositeFilter.filters.map((s=>MI(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(n.compositeFilter.op))})(i):At(30097,{filter:i})}function cM(i){return J2[i]}function hM(i){return W2[i]}function fM(i){return Z2[i]}function yo(i){return{fieldPath:i.canonicalString()}}function Eo(i){return sn.fromServerFormat(i.fieldPath)}function xI(i){return i instanceof ke?(function(n){if(n.op==="=="){if(TT(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NAN"}};if(vT(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TT(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NAN"}};if(vT(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(n.field),op:hM(n.op),value:n.value}}})(i):i instanceof vi?(function(n){const s=n.getFilters().map((o=>xI(o)));return s.length===1?s[0]:{compositeFilter:{op:fM(n.op),filters:s}}})(i):At(54877,{filter:i})}function dM(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function LI(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(t,n,s,o,u=It.min(),h=It.min(),m=an.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Ss(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(t){this.gt=t}}function pM(i){const t=lM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Rp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.Dn=new _M}addToCollectionParentIndex(t,n){return this.Dn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(Ls.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(Ls.min())}updateCollectionGroup(t,n,s){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class _M{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Fe(oe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Fe(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VI=41943040;class Mn{static withCacheSize(t){return new Mn(t,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(VI,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Lo(0)}static ur(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="LruGarbageCollector",yM=1048576;function PT([i,t],[n,s]){const o=Vt(i,n);return o===0?Vt(t,s):o}class EM{constructor(t){this.Tr=t,this.buffer=new Fe(PT),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();PT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vM{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ct(UT,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ho(n)?ct(UT,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Rr(3e5)}))}}class TM{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return it.resolve(_f.ue);const s=new EM(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(VT)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VT):this.pr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),go()<=Ht.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function AM(i,t){return new TM(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.changes=new ba((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?it.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&uu(s.mutation,o,qn.empty(),_e.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ft()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ft()){const o=Ea();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let h=Zl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(t,n){const s=Ea();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ft())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(t,n,s,o){let u=Rr();const h=lu(),m=(function(){return lu()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Hs)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),uu(v.mutation,g,v.mutation.getFieldMask(),_e.now())):h.set(g.key,qn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>h.set(g,v))),n.forEach(((g,v)=>{var T;return m.set(g,new IM(v,(T=h.get(g))!==null&&T!==void 0?T:null))})),m)))}recalculateAndSaveOverlays(t,n){const s=lu();let o=new Te(((h,m)=>h-m)),u=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||qn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||Ft()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=mI();v.forEach((S=>{if(!u.has(S)){const b=vI(n.get(S),s.get(S));b!==null&&T.set(S,b),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(t,g,T))}return it.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(h){return yt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):uI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):it.resolve(Ea());let m=pu,p=u;return h.next((g=>it.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?it.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ft()))).next((v=>({batchId:m,changes:dI(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let h=Zl();return this.indexManager.getCollectionParents(t,u).next((m=>it.forEach(m,(p=>{const g=(function(T,S){return new Du(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((v=>{v.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,Qe.newInvalidDocument(v)))}));let m=Zl();return h.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&uu(v.mutation,g,qn.empty(),_e.now()),vf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return it.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Kn(o.createTime)}})(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:pM(o.bundledQuery),readTime:Kn(o.readTime)}})(n)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.overlays=new Te(yt.comparator),this.kr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ea();return it.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.wt(t,n,u)})),it.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),it.resolve()}getOverlaysForCollection(t,n,s){const o=Ea(),u=n.length+1,h=new yt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new Te(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=Ea(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Ea(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return it.resolve(m)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new K2(n,s));let u=this.kr.get(n);u===void 0&&(u=Ft(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.qr=new Fe($e.Qr),this.$r=new Fe($e.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new $e(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new $e(t,n))}Gr(t,n){t.forEach((s=>this.removeReference(s,n)))}zr(t){const n=new yt(new oe([])),s=new $e(n,t),o=new $e(n,t+1),u=[];return this.$r.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new yt(new oe([])),s=new $e(n,t),o=new $e(n,t+1);let u=Ft();return this.$r.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(t){const n=new $e(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class $e{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return yt.comparator(t.key,n.key)||Vt(t.Hr,n.Hr)}static Ur(t,n){return Vt(t.Hr,n.Hr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Fe($e.Qr)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Y2(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new $e(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return it.resolve(h)}lookupMutationBatch(t,n){return it.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return it.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?hg:this.er-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new $e(n,0),o=new $e(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),it.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Fe(Vt);return n.forEach((o=>{const u=new $e(o,0),h=new $e(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),it.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const h=new $e(new yt(u),0);let m=new Fe(Vt);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),it.resolve(this.ei(m))}ei(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){$t(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return it.forEach(n.mutations,(o=>{const u=new $e(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Yr=s}))}rr(t){}containsKey(t,n){const s=new $e(n,0),o=this.Yr.firstAfterOrEqual(s);return it.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(t){this.ni=t,this.docs=(function(){return new Te(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return it.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let s=Rr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Qe.newInvalidDocument(o))})),it.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Rr();const h=n.path,m=new yt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||o2(a2(v),s)<=0||(o.has(v.key)||vf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return it.resolve(u)}getAllFromCollectionGroup(t,n,s,o){At(9500)}ri(t,n){return it.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new DM(this)}getSize(t){return it.resolve(this.size)}}class DM extends SM{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)})),it.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(t){this.persistence=t,this.ii=new ba((n=>mg(n)),pg),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.si=0,this.oi=new Tg,this.targetCount=0,this._i=Lo.ar()}forEachTarget(t,n){return this.ii.forEach(((s,o)=>n(o))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),it.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Lo(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.hr(n),it.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ii.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),it.waitFor(u).next((()=>o))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return it.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),it.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(t,h))})),it.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return it.resolve(s)}containsKey(t,n){return it.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t,n){this.ai={},this.overlays={},this.ui=new _f(0),this.ci=!1,this.ci=!0,this.li=new CM,this.referenceDelegate=t(this),this.hi=new MM(this),this.indexManager=new gM,this.remoteDocumentCache=(function(o){return new OM(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new mM(n),this.Ti=new bM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new wM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new NM(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){ct("MemoryPersistence","Starting transaction:",t);const o=new xM(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return it.or(Object.values(this.ai).map((s=>()=>s.containsKey(t,n))))}}class xM extends u2{constructor(t){super(),this.currentSequenceNumber=t}}class Ag{constructor(t){this.persistence=t,this.Ai=new Tg,this.Ri=null}static Vi(t){return new Ag(t)}get mi(){if(this.Ri)return this.Ri;throw At(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),it.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.mi,(s=>{const o=yt.fromPath(s);return this.fi(t,o).next((u=>{u||n.removeEntry(o,It.min())}))})).next((()=>(this.Ri=null,n.apply(t))))}updateLimboDocument(t,n){return this.fi(t,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(t){return 0}fi(t,n){return it.or([()=>it.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class nf{constructor(t,n){this.persistence=t,this.gi=new ba((s=>f2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=AM(this,n)}static Vi(t,n){return new nf(t,n)}Ii(){}di(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}yr(t){let n=0;return this.gr(t,(s=>{n++})).next((()=>n))}gr(t,n){return it.forEach(this.gi,((s,o)=>this.Sr(t,s,o).next((u=>u?it.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,(h=>this.Sr(t,h,n).next((m=>{m||(s++,u.removeEntry(h,It.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),it.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=xh(t.data.value)),n}Sr(t,n,s){return it.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=Ft(),o=Ft();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Sg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return xC()?8:c2(mn())>0?6:4})()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ps(t,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ys(t,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new LM;return this.ws(t,n,h).next((m=>{if(u.result=m,this.Rs)return this.Ss(t,n,h,m.size)}))})).next((()=>u.result))}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(go()<=Ht.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),it.resolve()):(go()<=Ht.DEBUG&&ct("QueryEngine","Query:",_o(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(go()<=Ht.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Pi(n))):it.resolve())}ps(t,n){if(RT(n))return it.resolve(null);let s=Pi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Rp(n,null,"F"),s=Pi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const h=Ft(...u);return this.gs.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,h,p.readTime)?this.ps(t,Rp(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ys(t,n,s,o){return RT(n)||o.isEqual(It.min())?it.resolve(null):this.gs.getDocuments(t,s).next((u=>{const h=this.bs(n,u);return this.Ds(n,h,s,o)?it.resolve(null):(go()<=Ht.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(n)),this.vs(t,h,n,s2(o,pu)).next((m=>m)))}))}bs(t,n){let s=new Fe(hI(t));return n.forEach(((o,u)=>{vf(t,u)&&(s=s.add(u))})),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,n,s){return go()<=Ht.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",_o(n)),this.gs.getDocumentsMatchingQuery(t,n,Ls.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",UM=3e8;class PM{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new Te(Vt),this.Ms=new ba((u=>mg(u)),pg),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new RM(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Fs)))}}function kM(i,t,n,s){return new PM(i,t,n,s)}async function PI(i,t){const n=wt(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ft();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function BM(i,t){const n=wt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,S=T.keys();let b=it.resolve();return S.forEach((V=>{b=b.next((()=>v.getEntry(p,V))).next((z=>{const D=g.docVersions.get(V);$t(D!==null,48541),z.version.compareTo(D)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),v.addEntry(z)))}))})),b.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ft();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function kI(i){const t=wt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.hi.getLastRemoteSnapshotVersion(n)))}function zM(i,t){const n=wt(i),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];t.targetChanges.forEach(((v,T)=>{const S=o.get(T);if(!S)return;m.push(n.hi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.hi.addMatchingKeys(u,v.addedDocuments,T))));let b=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?b=b.withResumeToken(an.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,s)),o=o.insert(T,b),(function(z,D,nt){return z.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=UM?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(S,b,v)&&m.push(n.hi.updateTargetData(u,b))}));let p=Rr(),g=Ft();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(jM(u,h,t.documentUpdates).next((v=>{p=v.Ls,g=v.ks}))),!s.isEqual(It.min())){const v=n.hi.getLastRemoteSnapshotVersion(u).next((T=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return it.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function jM(i,t,n){let s=Ft(),o=Ft();return n.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let h=Rr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(It.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):ct(Ig,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:h,ks:o}}))}function HM(i,t){const n=wt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=hg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function FM(i,t){const n=wt(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,t).next((u=>u?(o=u,it.resolve(o)):n.hi.allocateTargetId(s).next((h=>(o=new Ss(t,h,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s}))}async function Np(i,t,n){const s=wt(i),o=s.Fs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ho(h))throw h;ct(Ig,`Failed to update sequence numbers for target ${t}: ${h}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function kT(i,t,n){const s=wt(i);let o=It.min(),u=Ft();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,v){const T=wt(p),S=T.Ms.get(v);return S!==void 0?it.resolve(T.Fs.get(S)):T.hi.getTargetData(g,v)})(s,h,Pi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,t,n?o:It.min(),n?u:Ft()))).next((m=>(GM(s,D2(t),m),{documents:m,qs:u})))))}function GM(i,t,n){let s=i.xs.get(t)||It.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.xs.set(t,s)}class BT{constructor(){this.activeTargetIds=P2()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qM{constructor(){this.Fo=new BT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new BT,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="ConnectivityMonitor";class jT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ct(zT,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ct(zT,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh=null;function Op(){return Eh===null?Eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Eh++,"0x"+Eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="RestConnection",KM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $M{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===$h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const h=Op(),m=this.Go(t,n.toUriEncodedString());ct(Wm,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),v=Po(g);return this.jo(t,m,p,s,v).then((T=>(ct(Wm,`Received RPC '${t}' ${h}: `,T),T)),(T=>{throw xs(Wm,`RPC '${t}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Jo(t,n,s,o,u,h){return this.Wo(t,n,s,o,u)}zo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Go(t,n){const s=KM[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class XM extends $M{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,u){const h=Op();return new Promise(((m,p)=>{const g=new PS;g.setWithCredentials(!0),g.listenOnce(kS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Mh.NO_ERROR:const T=g.getResponseJson();ct(fn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),m(T);break;case Mh.TIMEOUT:ct(fn,`RPC '${t}' ${h} timed out`),p(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:const S=g.getStatus();if(ct(fn,`RPC '${t}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let b=g.getResponseJson();Array.isArray(b)&&(b=b[0]);const V=b==null?void 0:b.error;if(V&&V.status&&V.message){const z=(function(nt){const rt=nt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(rt)>=0?rt:Z.UNKNOWN})(V.status);p(new lt(z,V.message))}else p(new lt(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:At(9055,{c_:t,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ct(fn,`RPC '${t}' ${h} completed.`)}}));const v=JSON.stringify(o);ct(fn,`RPC '${t}' ${h} sending request:`,o),g.send(n,"POST",v,s,15)}))}P_(t,n,s){const o=Op(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=jS(),m=zS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ct(fn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const T=h.createWebChannel(v,p);this.T_(T);let S=!1,b=!1;const V=new QM({Ho:D=>{b?ct(fn,`Not sending because RPC '${t}' stream ${o} is closed:`,D):(S||(ct(fn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),ct(fn,`RPC '${t}' stream ${o} sending:`,D),T.send(D))},Yo:()=>T.close()}),z=(D,nt,rt)=>{D.listen(nt,(tt=>{try{rt(tt)}catch(mt){setTimeout((()=>{throw mt}),0)}}))};return z(T,Wl.EventType.OPEN,(()=>{b||(ct(fn,`RPC '${t}' stream ${o} transport opened.`),V.s_())})),z(T,Wl.EventType.CLOSE,(()=>{b||(b=!0,ct(fn,`RPC '${t}' stream ${o} transport closed`),V.__(),this.I_(T))})),z(T,Wl.EventType.ERROR,(D=>{b||(b=!0,xs(fn,`RPC '${t}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),V.__(new lt(Z.UNAVAILABLE,"The operation could not be completed")))})),z(T,Wl.EventType.MESSAGE,(D=>{var nt;if(!b){const rt=D.data[0];$t(!!rt,16349);const tt=rt,mt=(tt==null?void 0:tt.error)||((nt=tt[0])===null||nt===void 0?void 0:nt.error);if(mt){ct(fn,`RPC '${t}' stream ${o} received error:`,mt);const Rt=mt.status;let vt=(function(w){const x=Pe[w];if(x!==void 0)return II(x)})(Rt),O=mt.message;vt===void 0&&(vt=Z.INTERNAL,O="Unknown error status: "+Rt+" with message "+mt.message),b=!0,V.__(new lt(vt,O)),T.close()}else ct(fn,`RPC '${t}' stream ${o} received:`,rt),V.a_(rt)}})),z(m,BS.STAT_EVENT,(D=>{D.stat===yp.PROXY?ct(fn,`RPC '${t}' stream ${o} detected buffering proxy`):D.stat===yp.NOPROXY&&ct(fn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.o_()}),0),V}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((n=>n===t))}}function Zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(i){return new tM(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="PersistentStream";class BI{constructor(t,n,s,o,u,h,m,p){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Rg(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Ir(n.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{t((()=>{const o=new lt(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return ct(HT,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget((()=>this.b_===t?n():(ct(HT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JM extends BI{constructor(t,n,s,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=rM(this.serializer,t),s=(function(u){if(!("targetChange"in u))return It.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?It.min():h.readTime?Kn(h.readTime):It.min()})(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=Cp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Sp(p)?{documents:aM(u,p)}:{query:oM(u,p).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=wI(u,h.resumeToken);const g=bp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(It.min())>0){m.readTime=tf(u,h.snapshotVersion.toTimestamp());const g=bp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=uM(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=Cp(this.serializer),n.removeTarget=t,this.k_(n)}}class WM extends BI{constructor(t,n,s,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=sM(t.writeResults,t.commitTime),s=Kn(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=Cp(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>DI(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{}class tx extends ZM{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(t,wp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(Z.UNKNOWN,u.toString())}))}Jo(t,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Jo(t,wp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(Z.UNKNOWN,h.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class ex{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ir(n),this._a=!1):ct("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class nx{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((h=>{s.enqueueAndForget((async()=>{wa(this)&&(ct(Ia,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ia.add(4),await Vu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Rf(g)})(this))}))})),this.Aa=new ex(s,o)}}async function Rf(i){if(wa(i))for(const t of i.da)await t(!0)}async function Vu(i){for(const t of i.da)await t(!1)}function zI(i,t){const n=wt(i);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Ng(n)?Cg(n):Fo(n).x_()&&wg(n,t))}function bg(i,t){const n=wt(i),s=Fo(n);n.Ta.delete(t),s.x_()&&jI(n,t),n.Ta.size===0&&(s.x_()?s.B_():wa(n)&&n.Aa.set("Unknown"))}function wg(i,t){if(i.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fo(i).H_(t)}function jI(i,t){i.Ra.$e(t),Fo(i).Y_(t)}function Cg(i){i.Ra=new X2({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>i.Ta.get(t)||null,lt:()=>i.datastore.serializer.databaseId}),Fo(i).start(),i.Aa.aa()}function Ng(i){return wa(i)&&!Fo(i).M_()&&i.Ta.size>0}function wa(i){return wt(i).Ia.size===0}function HI(i){i.Ra=void 0}async function ix(i){i.Aa.set("Online")}async function rx(i){i.Ta.forEach(((t,n)=>{wg(i,t)}))}async function sx(i,t){HI(i),Ng(i)?(i.Aa.la(t),Cg(i)):i.Aa.set("Unknown")}async function ax(i,t,n){if(i.Aa.set("Online"),t instanceof bI&&t.state===2&&t.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))})(i,t)}catch(s){ct(Ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await rf(i,s)}else if(t instanceof Uh?i.Ra.Ye(t):t instanceof RI?i.Ra.it(t):i.Ra.et(t),!n.isEqual(It.min()))try{const s=await kI(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ta.get(g);v&&u.Ta.set(g,v.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ta.get(p);if(!v)return;u.Ta.set(p,v.withResumeToken(an.EMPTY_BYTE_STRING,v.snapshotVersion)),jI(u,p);const T=new Ss(v.target,p,g,v.sequenceNumber);wg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ct(Ia,"Failed to raise snapshot:",s),await rf(i,s)}}async function rf(i,t,n){if(!Ho(t))throw t;i.Ia.add(1),await Vu(i),i.Aa.set("Offline"),n||(n=()=>kI(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ct(Ia,"Retrying IndexedDB access"),await n(),i.Ia.delete(1),await Rf(i)}))}function FI(i,t){return t().catch((n=>rf(i,n,t)))}async function bf(i){const t=wt(i),n=ks(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:hg;for(;ox(t);)try{const o=await HM(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,lx(t,o)}catch(o){await rf(t,o)}GI(t)&&qI(t)}function ox(i){return wa(i)&&i.Pa.length<10}function lx(i,t){i.Pa.push(t);const n=ks(i);n.x_()&&n.Z_&&n.X_(t.mutations)}function GI(i){return wa(i)&&!ks(i).M_()&&i.Pa.length>0}function qI(i){ks(i).start()}async function ux(i){ks(i).na()}async function cx(i){const t=ks(i);for(const n of i.Pa)t.X_(n.mutations)}async function hx(i,t,n){const s=i.Pa.shift(),o=yg.from(s,t,n);await FI(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await bf(i)}async function fx(i,t){t&&ks(i).Z_&&await(async function(s,o){if((function(h){return SI(h)&&h!==Z.ABORTED})(o.code)){const u=s.Pa.shift();ks(s).N_(),await FI(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await bf(s)}})(i,t),GI(i)&&qI(i)}async function FT(i,t){const n=wt(i);n.asyncQueue.verifyOperationInProgress(),ct(Ia,"RemoteStore received new credentials");const s=wa(n);n.Ia.add(3),await Vu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await Rf(n)}async function dx(i,t){const n=wt(i);t?(n.Ia.delete(2),await Rf(n)):t||(n.Ia.add(2),await Vu(n),n.Aa.set("Unknown"))}function Fo(i){return i.Va||(i.Va=(function(n,s,o){const u=wt(n);return u.ia(),new JM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:ix.bind(null,i),e_:rx.bind(null,i),n_:sx.bind(null,i),J_:ax.bind(null,i)}),i.da.push((async t=>{t?(i.Va.N_(),Ng(i)?Cg(i):i.Aa.set("Unknown")):(await i.Va.stop(),HI(i))}))),i.Va}function ks(i){return i.ma||(i.ma=(function(n,s,o){const u=wt(n);return u.ia(),new WM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:ux.bind(null,i),n_:fx.bind(null,i),ea:cx.bind(null,i),ta:hx.bind(null,i)}),i.da.push((async t=>{t?(i.ma.N_(),await bf(i)):(await i.ma.stop(),i.Pa.length>0&&(ct(Ia,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))}))),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const h=Date.now()+s,m=new Og(t,n,h,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dg(i,t){if(Ir("AsyncQueue",`${t}: ${i}`),Ho(i))return new lt(Z.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(t){return new bo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=Zl(),this.sortedSet=new Te(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof bo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new bo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.fa=new Te(yt.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):At(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Vo{constructor(t,n,s,o,u,h,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Vo(t,n,bo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ef(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class px{constructor(){this.queries=qT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=qT(),u.forEach(((h,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function qT(){return new ba((i=>cI(i)),Ef)}async function YI(i,t){const n=wt(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new mx,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Dg(h,`Initialization of query '${_o(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.wa.push(t),t.va(n.onlineState),u.ya&&t.Ca(u.ya)&&Mg(n)}async function KI(i,t){const n=wt(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const h=u.wa.indexOf(t);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function gx(i,t){const n=wt(i);let s=!1;for(const o of t){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&Mg(n)}function _x(i,t,n){const s=wt(i),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(t)}function Mg(i){i.Da.forEach((t=>{t.next()}))}var Dp,YT;(YT=Dp||(Dp={})).Fa="default",YT.Cache="cache";class $I{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Vo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=Vo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.key=t}}class XI{constructor(t){this.key=t}}class yx{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ft(),this.mutatedKeys=Ft(),this.Xa=hI(t),this.eu=new bo(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new GT,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const S=o.get(v),b=vf(this.query,T)?T:null,V=!!S&&this.mutatedKeys.has(S.key),z=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let D=!1;S&&b?S.data.isEqual(b.data)?V!==z&&(s.track({type:3,doc:b}),D=!0):this.iu(S,b)||(s.track({type:2,doc:b}),D=!0,(p&&this.Xa(b,p)>0||g&&this.Xa(b,g)<0)&&(m=!0)):!S&&b?(s.track({type:0,doc:b}),D=!0):S&&!b&&(s.track({type:1,doc:S}),D=!0,(p||g)&&(m=!0)),D&&(b?(h=h.add(b),u=z?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const h=t.ru.pa();h.sort(((v,T)=>(function(b,V){const z=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{At:D})}};return z(b)-z(V)})(v.type,T.type)||this.Xa(v.doc,T.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new Vo(this.query,t.eu,u,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new GT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Ft(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return t.forEach((s=>{this.Za.has(s)||n.push(new XI(s))})),this.Za.forEach((s=>{t.has(s)||n.push(new QI(s))})),n}uu(t){this.Ha=t.qs,this.Za=Ft();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return Vo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const xg="SyncEngine";class Ex{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class vx{constructor(t){this.key=t,this.lu=!1}}class Tx{constructor(t,n,s,o,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new ba((m=>cI(m)),Ef),this.Tu=new Map,this.Iu=new Set,this.du=new Te(yt.comparator),this.Eu=new Map,this.Au=new Tg,this.Ru={},this.Vu=new Map,this.mu=Lo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Ax(i,t,n=!0){const s=nR(i);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await JI(s,t,n,!0),o}async function Sx(i,t){const n=nR(i);await JI(n,t,!0,!1)}async function JI(i,t,n,s){const o=await FM(i.localStore,Pi(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await Ix(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&zI(i.remoteStore,o),m}async function Ix(i,t,n,s,o){i.gu=(T,S,b)=>(async function(z,D,nt,rt){let tt=D.view.nu(nt);tt.Ds&&(tt=await kT(z.localStore,D.query,!1).then((({documents:O})=>D.view.nu(O,tt))));const mt=rt&&rt.targetChanges.get(D.targetId),Rt=rt&&rt.targetMismatches.get(D.targetId)!=null,vt=D.view.applyChanges(tt,z.isPrimaryClient,mt,Rt);return $T(z,D.targetId,vt._u),vt.snapshot})(i,T,S,b);const u=await kT(i.localStore,t,!0),h=new yx(t,u.qs),m=h.nu(u.documents),p=Lu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);$T(i,n,g._u);const v=new Ex(t,n,h);return i.Pu.set(t,v),i.Tu.has(n)?i.Tu.get(n).push(t):i.Tu.set(n,[t]),g.snapshot}async function Rx(i,t,n){const s=wt(i),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((h=>!Ef(h,t)))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Np(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&bg(s.remoteStore,o.targetId),Mp(s,o.targetId)})).catch(jo)):(Mp(s,o.targetId),await Np(s.localStore,o.targetId,!0))}async function bx(i,t){const n=wt(i),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bg(n.remoteStore,s.targetId))}async function wx(i,t,n){const s=Lx(i);try{const o=await(function(h,m){const p=wt(h),g=_e.now(),v=m.reduce(((b,V)=>b.add(V.key)),Ft());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let V=Rr(),z=Ft();return p.Os.getEntries(b,v).next((D=>{V=D,V.forEach(((nt,rt)=>{rt.isValidDocument()||(z=z.add(nt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(b,V))).next((D=>{T=D;const nt=[];for(const rt of m){const tt=q2(rt,T.get(rt.key).overlayedDocument);tt!=null&&nt.push(new Hs(rt.key,tt,nI(tt.value.mapValue),He.exists(!0)))}return p.mutationQueue.addMutationBatch(b,g,nt,m)})).next((D=>{S=D;const nt=D.applyToLocalDocumentSet(T,z);return p.documentOverlayCache.saveOverlays(b,D.batchId,nt)}))})).then((()=>({batchId:S.batchId,changes:dI(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new Te(Vt)),g=g.insert(m,p),h.Ru[h.currentUser.toKey()]=g})(s,o.batchId,n),await Uu(s,o.changes),await bf(s.remoteStore)}catch(o){const u=Dg(o,"Failed to persist write");n.reject(u)}}async function WI(i,t){const n=wt(i);try{const s=await zM(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const h=n.Eu.get(u);h&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?$t(h.lu,14607):o.removedDocuments.size>0&&($t(h.lu,42227),h.lu=!1))})),await Uu(n,s,t)}catch(s){await jo(s)}}function KT(i,t,n){const s=wt(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=wt(h);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const S of T.wa)S.va(m)&&(g=!0)})),g&&Mg(p)})(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Cx(i,t,n){const s=wt(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let h=new Te(yt.comparator);h=h.insert(u,Qe.newNoDocument(u,It.min()));const m=Ft().add(u),p=new Sf(It.min(),new Map,new Te(Vt),h,m);await WI(s,p),s.du=s.du.remove(u),s.Eu.delete(t),Lg(s)}else await Np(s.localStore,t,!1).then((()=>Mp(s,t,n))).catch(jo)}async function Nx(i,t){const n=wt(i),s=t.batch.batchId;try{const o=await BM(n.localStore,t);tR(n,s,null),ZI(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Uu(n,o)}catch(o){await jo(o)}}async function Ox(i,t,n){const s=wt(i);try{const o=await(function(h,m){const p=wt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>($t(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);tR(s,t,n),ZI(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Uu(s,o)}catch(o){await jo(o)}}function ZI(i,t){(i.Vu.get(t)||[]).forEach((n=>{n.resolve()})),i.Vu.delete(t)}function tR(i,t,n){const s=wt(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function Mp(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Tu.get(t))i.Pu.delete(s),n&&i.hu.pu(s,n);i.Tu.delete(t),i.isPrimaryClient&&i.Au.zr(t).forEach((s=>{i.Au.containsKey(s)||eR(i,s)}))}function eR(i,t){i.Iu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&(bg(i.remoteStore,n),i.du=i.du.remove(t),i.Eu.delete(n),Lg(i))}function $T(i,t,n){for(const s of n)s instanceof QI?(i.Au.addReference(s.key,t),Dx(i,s)):s instanceof XI?(ct(xg,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,t),i.Au.containsKey(s.key)||eR(i,s.key)):At(19791,{yu:s})}function Dx(i,t){const n=t.key,s=n.path.canonicalString();i.du.get(n)||i.Iu.has(s)||(ct(xg,"New document in limbo: "+n),i.Iu.add(s),Lg(i))}function Lg(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Iu.values().next().value;i.Iu.delete(t);const n=new yt(oe.fromString(t)),s=i.mu.next();i.Eu.set(s,new vx(n)),i.du=i.du.insert(n,s),zI(i.remoteStore,new Ss(Pi(gg(n.path)),s,"TargetPurposeLimboResolution",_f.ue))}}async function Uu(i,t,n){const s=wt(i),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{h.push(s.gu(p,t,n).then((g=>{var v;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Sg.Es(p.targetId,g);u.push(T)}})))})),await Promise.all(h),s.hu.J_(o),await(async function(p,g){const v=wt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>it.forEach(g,(S=>it.forEach(S.Is,(b=>v.persistence.referenceDelegate.addReference(T,S.targetId,b))).next((()=>it.forEach(S.ds,(b=>v.persistence.referenceDelegate.removeReference(T,S.targetId,b)))))))))}catch(T){if(!Ho(T))throw T;ct(Ig,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const b=v.Fs.get(S),V=b.snapshotVersion,z=b.withLastLimboFreeSnapshotVersion(V);v.Fs=v.Fs.insert(S,z)}}})(s.localStore,u))}async function Mx(i,t){const n=wt(i);if(!n.currentUser.isEqual(t)){ct(xg,"User change. New user:",t.toKey());const s=await PI(n.localStore,t);n.currentUser=t,(function(u,h){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new lt(Z.CANCELLED,h))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Uu(n,s.Bs)}}function xx(i,t){const n=wt(i),s=n.Eu.get(t);if(s&&s.lu)return Ft().add(s.key);{let o=Ft();const u=n.Tu.get(t);if(!u)return o;for(const h of u){const m=n.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function nR(i){const t=wt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=WI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Cx.bind(null,t),t.hu.J_=gx.bind(null,t.eventManager),t.hu.pu=_x.bind(null,t.eventManager),t}function Lx(i){const t=wt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Nx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ox.bind(null,t),t}class sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=If(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return kM(this.persistence,new VM,t.initialUser,this.serializer)}Du(t){return new UI(Ag.Vi,this.serializer)}bu(t){return new qM}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sf.provider={build:()=>new sf};class Vx extends sf{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){$t(this.persistence.referenceDelegate instanceof nf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vM(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new UI((s=>nf.Vi(s,n)),this.serializer)}}class xp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>KT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mx.bind(null,this.syncEngine),await dx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new px})()}createDatastore(t){const n=If(t.databaseInfo.databaseId),s=(function(u){return new XM(u)})(t.databaseInfo);return(function(u,h,m,p){return new tx(u,h,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,h,m){return new nx(s,o,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>KT(this.syncEngine,n,0)),(function(){return jT.C()?new jT:new YM})())}createSyncEngine(t,n){return(function(o,u,h,m,p,g,v){const T=new Tx(o,u,h,m,p,g);return v&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=wt(o);ct(Ia,"RemoteStore shutting down."),u.Ia.add(5),await Vu(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xp.provider={build:()=>new xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Ir("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new lt(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const h=wt(o),m={documents:u.map((T=>ef(h.serializer,T)))},p=await h.Jo("BatchGetDocuments",h.serializer.databaseId,oe.emptyPath(),m,u.length),g=new Map;p.forEach((T=>{const S=iM(h.serializer,T);g.set(S.key.toString(),S)}));const v=[];return u.forEach((T=>{const S=g.get(T.toString());$t(!!S,55234,{key:T}),v.push(S)})),v})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new xu(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=yt.fromPath(s);this.mutations.push(new AI(o,this.precondition(o)))})),await(async function(s,o){const u=wt(s),h={writes:o.map((m=>DI(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,oe.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw At(50498,{Wu:t.constructor.name});n=It.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new lt(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(It.min())?He.exists(!1):He.updateTime(n):He.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(It.min()))throw new lt(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return He.updateTime(n)}return He.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new Rg(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const t=new Ux(this.datastore),n=this.Ju(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(t){try{const n=this.updateFunction(t);return!Ou(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(t){this.Gu>0&&this.Yu(t)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(t)}Yu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!SI(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="FirestoreClient";class kx{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ct(Bs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ct(Bs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Dg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function tp(i,t){i.asyncQueue.verifyOperationInProgress(),ct(Bs,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await PI(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>{xs("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then((()=>{ct("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{xs("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),i._offlineComponents=t}async function QT(i,t){i.asyncQueue.verifyOperationInProgress();const n=await Bx(i);ct(Bs,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((s=>FT(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>FT(t.remoteStore,o))),i._onlineComponents=t}async function Bx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ct(Bs,"Using user provided OfflineComponentProvider");try{await tp(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;xs("Error using user provided cache. Falling back to memory cache: "+n),await tp(i,new sf)}}else ct(Bs,"Using default OfflineComponentProvider"),await tp(i,new Vx(void 0));return i._offlineComponents}async function Vg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ct(Bs,"Using user provided OnlineComponentProvider"),await QT(i,i._uninitializedComponentsProvider._online)):(ct(Bs,"Using default OnlineComponentProvider"),await QT(i,new xp))),i._onlineComponents}function zx(i){return Vg(i).then((t=>t.syncEngine))}function jx(i){return Vg(i).then((t=>t.datastore))}async function Lp(i){const t=await Vg(i),n=t.eventManager;return n.onListen=Ax.bind(null,t.syncEngine),n.onUnlisten=Rx.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Sx.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bx.bind(null,t.syncEngine),n}function Hx(i,t,n={}){const s=new vr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new iR({next:S=>{v.Ou(),h.enqueueAndForget((()=>KI(u,T))),S.fromCache&&p.source==="server"?g.reject(new lt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new $I(m,v,{includeMetadataChanges:!0,ka:!0});return YI(u,T)})(await Lp(i),i.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firestore.googleapis.com",JT=!0;class WT{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sR,this.ssl=JT}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:JT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VI;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<yM)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}r2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rR((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new QD;switch(s.type){case"firstParty":return new ZD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=XT.get(n);s&&(ct("ComponentProvider","Removing Datastore"),XT.delete(n),s.terminate())})(this),Promise.resolve()}}function Fx(i,t,n,s={}){var o;i=Yn(i,wf);const u=Po(t),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${t}:${n}`;u&&($A(`https://${p}`),QA("Firestore",!0)),h.host!==sR&&h.host!==p&&xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!Ms(g,m)&&(i._setSettings(g),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=dn.MOCK_USER;else{v=IC(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new dn(S)}i._authCredentials=new XD(new FS(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ca(this.firestore,t,this._query)}}class be{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new be(this.firestore,t,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Nu(n,be._jsonSchema))return new be(t,s||null,new yt(oe.fromString(n.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:Be("string",be._jsonSchemaVersion),referencePath:Be("string")};class Os extends Ca{constructor(t,n,s){super(t,n,gg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new be(this.firestore,null,new yt(t))}withConverter(t){return new Os(this.firestore,t,this._path)}}function Ql(i,t,...n){if(i=we(i),qS("collection","path",t),i instanceof wf){const s=oe.fromString(t,...n);return hT(s),new Os(i,null,s)}{if(!(i instanceof be||i instanceof Os))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(oe.fromString(t,...n));return hT(s),new Os(i.firestore,null,s)}}function Fn(i,t,...n){if(i=we(i),arguments.length===1&&(t=cg.newId()),qS("doc","path",t),i instanceof wf){const s=oe.fromString(t,...n);return cT(s),new be(i,null,new yt(s))}{if(!(i instanceof be||i instanceof Os))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(oe.fromString(t,...n));return cT(s),new be(i.firestore,i instanceof Os?i.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="AsyncQueue";class t0{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Rg(this,"async_queue_retry"),this.oc=()=>{const s=Zm();s&&ct(ZT,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new vr;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Ho(t))throw t;ct(ZT,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((s=>{throw this.tc=s,this.nc=!1,Ir("INTERNAL UNHANDLED ERROR: ",e0(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=Og.createAndSchedule(this,t,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&At(47125,{hc:e0(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function e0(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class br extends wf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new t0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new t0(t),this._firestoreClient=void 0,await t}}}function Gx(i,t){const n=typeof i=="object"?i:ZA(),s=typeof i=="string"?i:$h,o=Xp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=AC("firestore");u&&Fx(o,...u)}return o}function Pu(i){if(i._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||qx(i),i._firestoreClient}function qx(i){var t,n,s;const o=i._freezeSettings(),u=(function(m,p,g,v){return new p2(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,rR(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new kx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(an.fromBase64String(t))}catch(n){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Gn(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Nu(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Be("string",Gn._jsonSchemaVersion),bytes:Be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(Nu(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Be("string",ki._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Nu(t,Bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Bi(t.vectorValues);throw new lt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Be("string",Bi._jsonSchemaVersion),vectorValues:Be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=/^__.*__$/;class Kx{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Hs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(t,this.data,n,this.fieldTransforms)}}class aR{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Hs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function oR(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ec:i})}}class Nf{constructor(t,n,s,o,u,h){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Nf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return af(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(oR(this.Ec)&&Yx.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class $x{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||If(t)}Dc(t,n,s,o=!1){return new Nf({Ec:t,methodName:n,bc:s,path:sn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ku(i){const t=i._freezeSettings(),n=If(i._databaseId);return new $x(i._databaseId,!!t.ignoreUndefinedProperties,n)}function Ug(i,t,n,s,o,u={}){const h=i.Dc(u.merge||u.mergeFields?2:0,t,n,o);zg("Data must be an object, but it was:",h,s);const m=lR(s,h);let p,g;if(u.merge)p=new qn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const S=Vp(t,T,n);if(!h.contains(S))throw new lt(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);cR(v,S)||v.push(S)}p=new qn(v),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new Kx(new Sn(m),p,g)}class Bu extends Cf{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Bu}}function Qx(i,t,n){return new Nf({Ec:3,bc:t.settings.bc,methodName:i._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Pg extends Cf{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=Qx(this,t,!0),s=this.vc.map((u=>qo(u,n))),o=new xo(s);return new j2(t.path,o)}isEqual(t){return t instanceof Pg&&Ms(this.vc,t.vc)}}function kg(i,t,n,s){const o=i.Dc(1,t,n);zg("Data must be an object, but it was:",o,s);const u=[],h=Sn.empty();js(s,((p,g)=>{const v=jg(t,p,n);g=we(g);const T=o.gc(v);if(g instanceof Bu)u.push(v);else{const S=qo(g,T);S!=null&&(u.push(v),h.set(v,S))}}));const m=new qn(u);return new aR(h,m,o.fieldTransforms)}function Bg(i,t,n,s,o,u){const h=i.Dc(1,t,n),m=[Vp(t,s,n)],p=[o];if(u.length%2!=0)throw new lt(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Vp(t,u[S])),p.push(u[S+1]);const g=[],v=Sn.empty();for(let S=m.length-1;S>=0;--S)if(!cR(g,m[S])){const b=m[S];let V=p[S];V=we(V);const z=h.gc(b);if(V instanceof Bu)g.push(b);else{const D=qo(V,z);D!=null&&(g.push(b),v.set(b,D))}}const T=new qn(g);return new aR(v,T,h.fieldTransforms)}function Xx(i,t,n,s=!1){return qo(n,i.Dc(s?4:3,t))}function qo(i,t){if(uR(i=we(i)))return zg("Unsupported field value:",t,i),lR(i,t);if(i instanceof Cf)return(function(s,o){if(!oR(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=qo(m,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=we(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return k2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=_e.fromDate(s);return{timestampValue:tf(o.serializer,u)}}if(s instanceof _e){const u=new _e(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:tf(o.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gn)return{bytesValue:wI(o.serializer,s._byteString)};if(s instanceof be){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:vg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bi)return(function(h,m){return{mapValue:{fields:{[tI]:{stringValue:eI},[Qh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return _g(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${gf(s)}`)})(i,t)}function lR(i,t){const n={};return $S(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):js(i,((s,o)=>{const u=qo(o,t.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function uR(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof _e||i instanceof ki||i instanceof Gn||i instanceof be||i instanceof Cf||i instanceof Bi)}function zg(i,t,n){if(!uR(n)||!YS(n)){const s=gf(n);throw s==="an object"?t.wc(i+" a custom object"):t.wc(i+" "+s)}}function Vp(i,t,n){if((t=we(t))instanceof Go)return t._internalPath;if(typeof t=="string")return jg(i,t);throw af("Field path arguments must be of type string or ",i,!1,void 0,n)}const Jx=new RegExp("[~\\*/\\[\\]]");function jg(i,t,n){if(t.search(Jx)>=0)throw af(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Go(...t.split("."))._internalPath}catch{throw af(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function af(i,t,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new lt(Z.INVALID_ARGUMENT,m+i+p)}function cR(i,t){return i.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Wx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Hg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Wx extends of{data(){return super.data()}}function Hg(i,t){return typeof t=="string"?jg(i,t):t instanceof Go?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fg{}class Zx extends Fg{}function tL(i,t,...n){let s=[];t instanceof Fg&&s.push(t),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Gg)).length,m=u.filter((p=>p instanceof Of)).length;if(h>1||h>0&&m>0)throw new lt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Of extends Zx{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Of(t,n,s)}_apply(t){const n=this._parse(t);return fR(t._query,n),new Ca(t.firestore,t.converter,Ip(t._query,n))}_parse(t){const n=ku(t.firestore);return(function(u,h,m,p,g,v,T){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){r0(T,v);const V=[];for(const z of T)V.push(i0(p,u,z));S={arrayValue:{values:V}}}else S=i0(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||r0(T,v),S=Xx(m,h,T,v==="in"||v==="not-in");return ke.create(g,v,S)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function eL(i,t,n){const s=t,o=Hg("where",i);return Of._create(o,s,n)}class Gg extends Fg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Gg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:vi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)fR(h,p),h=Ip(h,p)})(t._query,n),new Ca(t.firestore,t.converter,Ip(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function i0(i,t,n){if(typeof(n=we(n))=="string"){if(n==="")throw new lt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uI(t)&&n.indexOf("/")!==-1)throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(oe.fromString(n));if(!yt.isDocumentKey(s))throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ET(i,new yt(s))}if(n instanceof be)return ET(i,n._key);throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(n)}.`)}function r0(i,t){if(!Array.isArray(i)||i.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function fR(i,t){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class dR{convertValue(t,n="none"){switch(Ps(t)){case 0:return null;case 1:return t.booleanValue;case 2:return De(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Us(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return js(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Qh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((h=>De(h.doubleValue)));return new Bi(u)}convertGeoPoint(t){return new ki(De(t.latitude),De(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=yf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(gu(t));default:return null}}convertTimestamp(t){const n=Vs(t);return new _e(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=oe.fromString(t);$t(LI(s),9688,{name:t});const o=new _u(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||Ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(i,t,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(t,n):i.toFirestore(t):t,s}class nL extends dR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new be(this.firestore,null,n)}}class To{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ds extends of{constructor(t,n,s,o,u,h){super(t,n,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Hg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ds._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ds._jsonSchema={type:Be("string",Ds._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class Ph extends Ds{data(t={}){return super.data(t)}}class va{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new To(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Ph(this._firestore,this._userDataWriter,s.key,s,new To(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new To(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new To(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:iL(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=va._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function iL(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:i})}}va._jsonSchemaVersion="firestore/querySnapshot/1.0",va._jsonSchema={type:Be("string",va._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};class Df extends dR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new be(this.firestore,null,n)}}function s0(i){i=Yn(i,Ca);const t=Yn(i.firestore,br),n=Pu(t),s=new Df(t);return hR(i._query),Hx(n,i._query).then((o=>new va(t,s,i,o)))}function Xl(i,t,n){i=Yn(i,be);const s=Yn(i.firestore,br),o=qg(i.converter,t,n);return Mf(s,[Ug(ku(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,He.none())])}function vh(i,t,n,...s){i=Yn(i,be);const o=Yn(i.firestore,br),u=ku(o);let h;return h=typeof(t=we(t))=="string"||t instanceof Go?Bg(u,"updateDoc",i._key,t,n,s):kg(u,"updateDoc",i._key,t),Mf(o,[h.toMutation(i._key,He.exists(!0))])}function ep(i){return Mf(Yn(i.firestore,br),[new xu(i._key,He.none())])}function np(i,...t){var n,s,o;i=we(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||n0(t[h])||(u=t[h++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(n0(t[h])){const T=t[h];t[h]=(n=T.next)===null||n===void 0?void 0:n.bind(T),t[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),t[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,v;if(i instanceof be)g=Yn(i.firestore,br),v=gg(i._key.path),p={next:T=>{t[h]&&t[h](rL(g,i,T))},error:t[h+1],complete:t[h+2]};else{const T=Yn(i,Ca);g=Yn(T.firestore,br),v=T._query;const S=new Df(g);p={next:b=>{t[h]&&t[h](new va(g,S,T,b))},error:t[h+1],complete:t[h+2]},hR(i._query)}return(function(S,b,V,z){const D=new iR(z),nt=new $I(b,D,V);return S.asyncQueue.enqueueAndForget((async()=>YI(await Lp(S),nt))),()=>{D.Ou(),S.asyncQueue.enqueueAndForget((async()=>KI(await Lp(S),nt)))}})(Pu(g),v,m,p)}function Mf(i,t){return(function(s,o){const u=new vr;return s.asyncQueue.enqueueAndForget((async()=>wx(await zx(s),o,u))),u.promise})(Pu(i),t)}function rL(i,t,n){const s=n.docs.get(t._key),o=new Df(i);return new Ds(i,o,t._key,s,new To(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ku(t)}set(t,n,s){this._verifyNotCommitted();const o=Is(t,this._firestore),u=qg(o.converter,n,s),h=Ug(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,He.none())),this}update(t,n,s,...o){this._verifyNotCommitted();const u=Is(t,this._firestore);let h;return h=typeof(n=we(n))=="string"||n instanceof Go?Bg(this._dataReader,"WriteBatch.update",u._key,n,s,o):kg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,He.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Is(t,this._firestore);return this._mutations=this._mutations.concat(new xu(n._key,He.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Is(i,t){if((i=we(i)).firestore!==t)throw new lt(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=ku(t)}get(t){const n=Is(t,this._firestore),s=new nL(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return At(24041);const u=o[0];if(u.isFoundDocument())return new of(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new of(this._firestore,s,n._key,null,n.converter);throw At(18433,{doc:u})}))}set(t,n,s){const o=Is(t,this._firestore),u=qg(o.converter,n,s),h=Ug(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,h),this}update(t,n,s,...o){const u=Is(t,this._firestore);let h;return h=typeof(n=we(n))=="string"||n instanceof Go?Bg(this._dataReader,"Transaction.update",u._key,n,s,o):kg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,h),this}delete(t){const n=Is(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL extends oL{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Is(t,this._firestore),s=new Df(this._firestore);return super.get(t).then((o=>new Ds(this._firestore,s,n._key,o._document,new To(!1,!1),n.converter)))}}function uL(i,t,n){i=Yn(i,br);const s=Object.assign(Object.assign({},sL),n);return(function(u){if(u.maxAttempts<1)throw new lt(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,h,m){const p=new vr;return u.asyncQueue.enqueueAndForget((async()=>{const g=await jx(u);new Px(u.asyncQueue,g,m,h,p).zu()})),p.promise})(Pu(i),(o=>t(new lL(i,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(){return new Bu("deleteField")}function hL(...i){return new Pg("arrayUnion",i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(i){return Pu(i=Yn(i,br)),new aL(i,(t=>Mf(i,t)))}(function(t,n=!0){(function(o){zo=o})(ko),Co(new Ta("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new br(new JD(s.getProvider("auth-internal")),new t2(h,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(g.options.projectId,v)})(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ws(sT,aT,t),ws(sT,aT,"esm2017")})();var dL={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var a0;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(a0||(a0={}));var o0;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(o0||(o0={}));var l0;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(l0||(l0={}));var u0;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(u0||(u0={}));var c0;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(c0||(c0={}));var h0;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(h0||(h0={}));var f0;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(f0||(f0={}));var d0;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(d0||(d0={}));var m0;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(m0||(m0={}));var p0;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(p0||(p0={}));var g0;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(g0||(g0={}));var _0;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(_0||(_0={}));var y0;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(y0||(y0={}));var E0;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(E0||(E0={}));var v0;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(v0||(v0={}));var T0;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(T0||(T0={}));var A0;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(A0||(A0={}));var S0;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(S0||(S0={}));var I0;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(I0||(I0={}));var R0;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(R0||(R0={}));var b0;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(b0||(b0={}));var w0;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(w0||(w0={}));var C0;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(C0||(C0={}));var N0;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(N0||(N0={}));var O0;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(O0||(O0={}));var D0;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(D0||(D0={}));var M0;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(M0||(M0={}));var x0;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(x0||(x0={}));var L0;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(L0||(L0={}));var V0;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(V0||(V0={}));var U0;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(U0||(U0={}));var P0;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(P0||(P0={}));var k0;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(k0||(k0={}));var B0;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(B0||(B0={}));var z0;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(z0||(z0={}));var j0;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(j0||(j0={}));var H0;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(H0||(H0={}));var F0;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(F0||(F0={}));var G0;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(G0||(G0={}));var q0;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(q0||(q0={}));var Y0;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Y0||(Y0={}));var K0;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(K0||(K0={}));var $0;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})($0||($0={}));var Q0;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Q0||(Q0={}));var X0;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(X0||(X0={}));var J0;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(J0||(J0={}));var W0;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(W0||(W0={}));var Z0;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Z0||(Z0={}));var tA;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(tA||(tA={}));var eA;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(eA||(eA={}));var nA;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(nA||(nA={}));var iA;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(iA||(iA={}));var rA;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(rA||(rA={}));var sA;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(sA||(sA={}));var aA;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(aA||(aA={}));var oA;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(oA||(oA={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lA;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(lA||(lA={}));function lf(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function uA(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],s=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ee(i){return this instanceof Ee?(this.v=i,this):new Ee(i)}function hu(i,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(i,t||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(b){return function(V){return Promise.resolve(V).then(b,T)}}function m(b,V){s[b]&&(o[b]=function(z){return new Promise(function(D,nt){u.push([b,z,D,nt])>1||p(b,z)})},V&&(o[b]=V(o[b])))}function p(b,V){try{g(s[b](V))}catch(z){S(u[0][3],z)}}function g(b){b.value instanceof Ee?Promise.resolve(b.value.v).then(v,T):S(u[0][2],b)}function v(b){p("next",b)}function T(b){p("throw",b)}function S(b,V){b(V),u.shift(),u.length&&p(u[0][0],u[0][1])}}function wo(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],n;return t?t.call(i):(i=typeof uA=="function"?uA(i):i[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(u){n[u]=i[u]&&function(h){return new Promise(function(m,p){h=i[u](h),o(m,p,h.done,h.value)})}}function o(u,h,m,p){Promise.resolve(p).then(function(g){u({value:g,done:m})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let mR=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return mR=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),n=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};const mL=()=>mR();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Up(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Pp=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ui extends Error{}class In extends ui{constructor(t,n,s,o){super(`${In.makeMessage(t,n,s)}`),this.status=t,this.headers=o,this.error=n}static makeMessage(t,n,s){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,n,s,o){if(!t||!o)return new xf({message:s,cause:Pp(n)});const u=n;return t===400?new gR(t,u,s,o):t===401?new _R(t,u,s,o):t===403?new yR(t,u,s,o):t===404?new ER(t,u,s,o):t===409?new vR(t,u,s,o):t===422?new TR(t,u,s,o):t===429?new AR(t,u,s,o):t>=500?new SR(t,u,s,o):new In(t,u,s,o)}}class kp extends In{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class xf extends In{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class pR extends xf{constructor({message:t}={}){super({message:t??"Request timed out."})}}class gR extends In{}class _R extends In{}class yR extends In{}class ER extends In{}class vR extends In{}class TR extends In{}class AR extends In{}class SR extends In{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pL=/^[a-z][a-z0-9+.-]*:/i,gL=i=>pL.test(i);let Bp=i=>(Bp=Array.isArray,Bp(i));const _L=Bp;let yL=_L;const cA=yL;function EL(i){if(!i)return!0;for(const t in i)return!1;return!0}function vL(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const TL=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ui(`${i} must be an integer`);if(t<0)throw new ui(`${i} must be a positive integer`);return t},AL=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SL=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IL(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const RL=()=>{var i,t,n,s,o;const u=IL();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":fA(Deno.build.os),"X-Stainless-Arch":hA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":fA((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":hA((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const h=bL();return h?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${h.browser}`,"X-Stainless-Runtime-Version":h.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function bL(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of i){const s=n.exec(navigator.userAgent);if(s){const o=s[1]||0,u=s[2]||0,h=s[3]||0;return{browser:t,version:`${o}.${u}.${h}`}}}return null}const hA=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",fA=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Th;const wL=()=>Th??(Th=RL());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CL(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function IR(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function NL(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return IR({start(){},async pull(n){const{done:s,value:o}=await t.next();s?n.close():n.enqueue(o)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function RR(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function OL(i){var t,n;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((n=(t=i[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const s=i.getReader(),o=s.cancel();s.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DL=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bR=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ip(i,t,n){return bR(),new File(i,t??"unknown_file",n)}function ML(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const xL=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wR=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",LL=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&wR(i),VL=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function UL(i,t,n){if(bR(),i=await i,LL(i))return i instanceof File?i:ip([await i.arrayBuffer()],i.name);if(VL(i)){const o=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),ip(await zp(o),t,n)}const s=await zp(i);if(t||(t=ML(i)),!(n!=null&&n.type)){const o=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return ip(s,t,n)}async function zp(i){var t,n,s,o,u;let h=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)h.push(i);else if(wR(i))h.push(i instanceof Blob?i:await i.arrayBuffer());else if(xL(i))try{for(var m=!0,p=wo(i),g;g=await p.next(),t=g.done,!t;m=!0){o=g.value,m=!1;const v=o;h.push(...await zp(v))}}catch(v){n={error:v}}finally{try{!m&&!t&&(s=p.return)&&await s.call(p)}finally{if(n)throw n.error}}else{const v=(u=i==null?void 0:i.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${PL(i)}`)}return h}function PL(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CR{constructor(t){this._client=t}}CR._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NR(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const dA=Object.freeze(Object.create(null)),kL=(i=NR)=>(function(n,...s){if(n.length===1)return n[0];let o=!1;const u=[],h=n.reduce((v,T,S)=>{var b,V,z;/[?#]/.test(T)&&(o=!0);const D=s[S];let nt=(o?encodeURIComponent:i)(""+D);return S!==s.length&&(D==null||typeof D=="object"&&D.toString===((z=Object.getPrototypeOf((V=Object.getPrototypeOf((b=D.hasOwnProperty)!==null&&b!==void 0?b:dA))!==null&&V!==void 0?V:dA))===null||z===void 0?void 0:z.toString))&&(nt=D+"",u.push({start:v.length+T.length,length:nt.length,error:`Value of type ${Object.prototype.toString.call(D).slice(8,-1)} is not a valid path parameter`})),v+T+(S===s.length?"":nt)},""),m=h.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=p.exec(m))!==null;)u.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(u.sort((v,T)=>v.start-T.start),u.length>0){let v=0;const T=u.reduce((S,b)=>{const V=" ".repeat(b.start-v),z="^".repeat(b.length);return v=b.start+b.length,S+V+z},"");throw new ui(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${h}
${T}`)}return h}),Ah=kL(NR);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OR extends CR{create(t,n){var s;const{api_version:o=this._client.apiVersion}=t,u=lf(t,["api_version"]);if("model"in u&&"agent_config"in u)throw new ui("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new ui("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ah`/${o}/interactions`,Object.assign(Object.assign({body:u},n),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(Ah`/${o}/interactions/${t}`,s)}cancel(t,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(Ah`/${o}/interactions/${t}/cancel`,s)}get(t,n={},s){var o;const u=n??{},{api_version:h=this._client.apiVersion}=u,m=lf(u,["api_version"]);return this._client.get(Ah`/${h}/interactions/${t}`,Object.assign(Object.assign({query:m},s),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}OR._key=Object.freeze(["interactions"]);class DR extends OR{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BL(i){let t=0;for(const o of i)t+=o.length;const n=new Uint8Array(t);let s=0;for(const o of i)n.set(o,s),s+=o.length;return n}let Sh;function Yg(i){let t;return(Sh??(t=new globalThis.TextEncoder,Sh=t.encode.bind(t)))(i)}let Ih;function mA(i){let t;return(Ih??(t=new globalThis.TextDecoder,Ih=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lf{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Yg(t):t;this.buffer=BL([this.buffer,n]);const s=[];let o;for(;(o=zL(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){s.push(mA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,h=mA(this.buffer.subarray(0,u));s.push(h),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Lf.NEWLINE_CHARS=new Set([`
`,"\r"]);Lf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function zL(i,t){for(let o=t??0;o<i.length;o++){if(i[o]===10)return{preceding:o,index:o+1,carriage:!1};if(i[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function jL(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uf={off:0,error:200,warn:300,info:400,debug:500},pA=(i,t,n)=>{if(i){if(vL(uf,i))return i;An(n).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(uf))}`)}};function eu(){}function Rh(i,t,n){return!t||uf[i]>uf[n]?eu:t[i].bind(t)}const HL={error:eu,warn:eu,info:eu,debug:eu};let gA=new WeakMap;function An(i){var t;const n=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!n)return HL;const o=gA.get(n);if(o&&o[0]===s)return o[1];const u={error:Rh("error",n,s),warn:Rh("warn",n,s),info:Rh("info",n,s),debug:Rh("debug",n,s)};return gA.set(n,[s,u]),u}const _a=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ao{constructor(t,n,s){this.iterator=t,this.controller=n,this.client=s}static fromSSEResponse(t,n,s){let o=!1;const u=s?An(s):console;function h(){return hu(this,arguments,function*(){var p,g,v,T;if(o)throw new ui("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var b=!0,V=wo(FL(t,n)),z;z=yield Ee(V.next()),p=z.done,!p;b=!0){T=z.value,b=!1;const D=T;if(!S)if(D.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Ee(JSON.parse(D.data))}catch(nt){throw u.error("Could not parse message into JSON:",D.data),u.error("From chunk:",D.raw),nt}}}catch(D){g={error:D}}finally{try{!b&&!p&&(v=V.return)&&(yield Ee(v.call(V)))}finally{if(g)throw g.error}}S=!0}catch(D){if(Up(D))return yield Ee(void 0);throw D}finally{S||n.abort()}})}return new Ao(h,n,s)}static fromReadableStream(t,n,s){let o=!1;function u(){return hu(this,arguments,function*(){var p,g,v,T;const S=new Lf,b=RR(t);try{for(var V=!0,z=wo(b),D;D=yield Ee(z.next()),p=D.done,!p;V=!0){T=D.value,V=!1;const nt=T;for(const rt of S.decode(nt))yield yield Ee(rt)}}catch(nt){g={error:nt}}finally{try{!V&&!p&&(v=z.return)&&(yield Ee(v.call(z)))}finally{if(g)throw g.error}}for(const nt of S.flush())yield yield Ee(nt)})}function h(){return hu(this,arguments,function*(){var p,g,v,T;if(o)throw new ui("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var b=!0,V=wo(u()),z;z=yield Ee(V.next()),p=z.done,!p;b=!0){T=z.value,b=!1;const D=T;S||D&&(yield yield Ee(JSON.parse(D)))}}catch(D){g={error:D}}finally{try{!b&&!p&&(v=V.return)&&(yield Ee(v.call(V)))}finally{if(g)throw g.error}}S=!0}catch(D){if(Up(D))return yield Ee(void 0);throw D}finally{S||n.abort()}})}return new Ao(h,n,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],s=this.iterator(),o=u=>({next:()=>{if(u.length===0){const h=s.next();t.push(h),n.push(h)}return u.shift()}});return[new Ao(()=>o(t),this.controller,this.client),new Ao(()=>o(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return IR({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:u}=await n.next();if(u)return s.close();const h=Yg(JSON.stringify(o)+`
`);s.enqueue(h)}catch(o){s.error(o)}},async cancel(){var s;await((s=n.return)===null||s===void 0?void 0:s.call(n))}})}}function FL(i,t){return hu(this,arguments,function*(){var s,o,u,h;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ui("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ui("Attempted to iterate over a response with no body");const m=new qL,p=new Lf,g=RR(i.body);try{for(var v=!0,T=wo(GL(g)),S;S=yield Ee(T.next()),s=S.done,!s;v=!0){h=S.value,v=!1;const b=h;for(const V of p.decode(b)){const z=m.decode(V);z&&(yield yield Ee(z))}}}catch(b){o={error:b}}finally{try{!v&&!s&&(u=T.return)&&(yield Ee(u.call(T)))}finally{if(o)throw o.error}}for(const b of p.flush()){const V=m.decode(b);V&&(yield yield Ee(V))}})}function GL(i){return hu(this,arguments,function*(){var n,s,o,u;let h=new Uint8Array;try{for(var m=!0,p=wo(i),g;g=yield Ee(p.next()),n=g.done,!n;m=!0){u=g.value,m=!1;const v=u;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Yg(v):v;let S=new Uint8Array(h.length+T.length);S.set(h),S.set(T,h.length),h=S;let b;for(;(b=jL(h))!==-1;)yield yield Ee(h.slice(0,b)),h=h.slice(b)}}catch(v){s={error:v}}finally{try{!m&&!n&&(o=p.return)&&(yield Ee(o.call(p)))}finally{if(s)throw s.error}}h.length>0&&(yield yield Ee(h))})}class qL{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,s,o]=YL(t,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function YL(i,t){const n=i.indexOf(t);return n!==-1?[i.substring(0,n),t,i.substring(n+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function KL(i,t){const{response:n,requestLogID:s,retryOfRequestLogID:o,startTime:u}=t,h=await(async()=>{var m;if(t.options.stream)return An(i).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,i):Ao.fromSSEResponse(n,t.controller,i);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const p=n.headers.get("content-type"),g=(m=p==null?void 0:p.split(";")[0])===null||m===void 0?void 0:m.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await n.json():await n.text()})();return An(i).debug(`[${s}] response parsed`,_a({retryOfRequestLogID:o,url:n.url,status:n.status,body:h,durationMs:Date.now()-u})),h}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kg extends Promise{constructor(t,n,s=KL){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new Kg(this.client,this.responsePromise,async(n,s)=>t(await this.parseResponse(n,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MR=Symbol("brand.privateNullableHeaders");function*$L(i){if(!i)return;if(MR in i){const{values:s,nulls:o}=i;yield*s.entries();for(const u of o)yield[u,null];return}let t=!1,n;i instanceof Headers?n=i.entries():cA(i)?n=i:(t=!0,n=Object.entries(i??{}));for(let s of n){const o=s[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const u=cA(s[1])?s[1]:[s[1]];let h=!1;for(const m of u)m!==void 0&&(t&&!h&&(h=!0,yield[o,null]),yield[o,m])}}const Jl=i=>{const t=new Headers,n=new Set;for(const s of i){const o=new Set;for(const[u,h]of $L(s)){const m=u.toLowerCase();o.has(m)||(t.delete(u),o.add(m)),h===null?(t.delete(u),n.add(m)):(t.append(u,h),n.delete(m))}}return{[MR]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rp=i=>{var t,n,s,o,u,h;if(typeof globalThis.process<"u")return(s=(n=(t=dL)===null||t===void 0?void 0:t[i])===null||n===void 0?void 0:n.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(h=(u=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||u===void 0?void 0:u.call(o,i))===null||h===void 0?void 0:h.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xR;class Vf{constructor(t){var n,s,o,u,h,m,p,{baseURL:g=rp("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(n=rp("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:T="v1beta"}=t,S=lf(t,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:v,apiVersion:T},S),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(s=b.timeout)!==null&&s!==void 0?s:Vf.DEFAULT_TIMEOUT,this.logger=(o=b.logger)!==null&&o!==void 0?o:console;const V="warn";this.logLevel=V,this.logLevel=(h=(u=pA(b.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:pA(rp("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&h!==void 0?h:V,this.fetchOptions=b.fetchOptions,this.maxRetries=(m=b.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(p=b.fetch)!==null&&p!==void 0?p:CL(),this.encoder=DL,this._options=b,this.apiKey=v,this.apiVersion=T,this.clientAdapter=b.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Jl([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Jl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Jl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new ui(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${vo}`}defaultIdempotencyKey(){return`stainless-node-retry-${mL()}`}makeStatusError(t,n,s,o){return In.generate(t,n,s,o)}buildURL(t,n,s){const o=!this.baseURLOverridden()&&s||this.baseURL,u=gL(t)?new URL(t):new URL(o+(o.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),h=this.defaultQuery();return EL(h)||(n=Object.assign(Object.assign({},h),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(u.search=this.stringifyQuery(n)),u.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:s}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,s){return this.request(Promise.resolve(s).then(o=>Object.assign({method:t,path:n},o)))}request(t,n=null){return new Kg(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,s){var o,u,h;const m=await t,p=(o=m.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=p),await this.prepareOptions(m);const{req:g,url:v,timeout:T}=await this.buildRequest(m,{retryCount:p-n});await this.prepareRequest(g,{url:v,options:m});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=s===void 0?"":`, retryOf: ${s}`,V=Date.now();if(An(this).debug(`[${S}] sending request`,_a({retryOfRequestLogID:s,method:m.method,url:v,options:m,headers:g.headers})),!((u=m.signal)===null||u===void 0)&&u.aborted)throw new kp;const z=new AbortController,D=await this.fetchWithTimeout(v,g,T,z).catch(Pp),nt=Date.now();if(D instanceof globalThis.Error){const tt=`retrying, ${n} attempts remaining`;if(!((h=m.signal)===null||h===void 0)&&h.aborted)throw new kp;const mt=Up(D)||/timed? ?out/i.test(String(D)+("cause"in D?String(D.cause):""));if(n)return An(this).info(`[${S}] connection ${mt?"timed out":"failed"} - ${tt}`),An(this).debug(`[${S}] connection ${mt?"timed out":"failed"} (${tt})`,_a({retryOfRequestLogID:s,url:v,durationMs:nt-V,message:D.message})),this.retryRequest(m,n,s??S);throw An(this).info(`[${S}] connection ${mt?"timed out":"failed"} - error; no more retries left`),An(this).debug(`[${S}] connection ${mt?"timed out":"failed"} (error; no more retries left)`,_a({retryOfRequestLogID:s,url:v,durationMs:nt-V,message:D.message})),mt?new pR:new xf({cause:D})}const rt=`[${S}${b}] ${g.method} ${v} ${D.ok?"succeeded":"failed"} with status ${D.status} in ${nt-V}ms`;if(!D.ok){const tt=await this.shouldRetry(D);if(n&&tt){const w=`retrying, ${n} attempts remaining`;return await OL(D.body),An(this).info(`${rt} - ${w}`),An(this).debug(`[${S}] response error (${w})`,_a({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,durationMs:nt-V})),this.retryRequest(m,n,s??S,D.headers)}const mt=tt?"error; no more retries left":"error; not retryable";An(this).info(`${rt} - ${mt}`);const Rt=await D.text().catch(w=>Pp(w).message),vt=AL(Rt),O=vt?void 0:Rt;throw An(this).debug(`[${S}] response error (${mt})`,_a({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,message:O,durationMs:Date.now()-V})),this.makeStatusError(D.status,vt,O,D.headers)}return An(this).info(rt),An(this).debug(`[${S}] response start`,_a({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,durationMs:nt-V})),{response:D,options:m,controller:z,requestLogID:S,retryOfRequestLogID:s,startTime:V}}async fetchWithTimeout(t,n,s,o){const u=n||{},{signal:h,method:m}=u,p=lf(u,["signal","method"]);h&&h.addEventListener("abort",()=>o.abort());const g=setTimeout(()=>o.abort(),s),v=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,T=Object.assign(Object.assign(Object.assign({signal:o.signal},v?{duplex:"half"}:{}),{method:"GET"}),p);m&&(T.method=m.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(g)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,s,o){var u;let h;const m=o==null?void 0:o.get("retry-after-ms");if(m){const g=parseFloat(m);Number.isNaN(g)||(h=g)}const p=o==null?void 0:o.get("retry-after");if(p&&!h){const g=parseFloat(p);Number.isNaN(g)?h=Date.parse(p)-Date.now():h=g*1e3}if(!(h&&0<=h&&h<60*1e3)){const g=(u=t.maxRetries)!==null&&u!==void 0?u:this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(n,g)}return await SL(h),this.makeRequest(t,n-1,s)}calculateDefaultRetryTimeoutMillis(t,n){const u=n-t,h=Math.min(.5*Math.pow(2,u),8),m=1-Math.random()*.25;return h*m*1e3}async buildRequest(t,{retryCount:n=0}={}){var s,o,u;const h=Object.assign({},t),{method:m,path:p,query:g,defaultBaseURL:v}=h,T=this.buildURL(p,g,v);"timeout"in h&&TL("timeout",h.timeout),h.timeout=(s=h.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:S,body:b}=this.buildBody({options:h}),V=await this.buildHeaders({options:t,method:m,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:V},h.signal&&{signal:h.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(u=h.fetchOptions)!==null&&u!==void 0?u:{}),url:T,timeout:h.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:s,retryCount:o}){let u={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=t.idempotencyKey);const h=await this.authHeaders(t);let m=Jl([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),wL()),this._options.defaultHeaders,s,t.headers,h]);return this.validateHeaders(m),m.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=Jl([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:NL(t)}:this.encoder({body:t,headers:s})}}Vf.DEFAULT_TIMEOUT=6e4;class on extends Vf{constructor(){super(...arguments),this.interactions=new DR(this)}}xR=on;on.GeminiNextGenAPIClient=xR;on.GeminiNextGenAPIClientError=ui;on.APIError=In;on.APIConnectionError=xf;on.APIConnectionTimeoutError=pR;on.APIUserAbortError=kp;on.NotFoundError=ER;on.ConflictError=vR;on.RateLimitError=AR;on.BadRequestError=gR;on.AuthenticationError=_R;on.InternalServerError=SR;on.PermissionDeniedError=yR;on.UnprocessableEntityError=TR;on.toFile=UL;on.Interactions=DR;var QL="firebase",XL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(QL,XL,"app");const JL={apiKey:"AIzaSyCEUaqAGQBy_-tQEjnkNGYMXRk7YRaCAjI",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.firebasestorage.app",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},LR=WA(JL),yr=KD(LR),sp=new pr,nn=Gx(LR);(async()=>{try{await AS(yr,sg)}catch{}})();function WL(i,t){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(i)}&token=${encodeURIComponent(t)}`}async function ZL(i){try{return await navigator.clipboard.writeText(i),!0}catch{return window.prompt("  :",i),!1}}async function nu(){try{try{await AS(yr,sg)}catch{}await nD(yr,sp)}catch(i){const t=i==null?void 0:i.code;if(t==="auth/popup-blocked"||t==="auth/cancelled-popup-request"||t==="auth/popup-closed-by-user"){await Xv(yr,sp);return}await Xv(yr,sp)}}function tV(i){const t=encodeURIComponent(i);window.open(`https://wa.me/?text=${t}`,"_blank")}const eV=()=>{const[i]=Q1(),t=Fp(),n=i.get("listId"),s=i.get("token"),[o,u]=j.useState(yr.currentUser),[h,m]=j.useState(!0),[p,g]=j.useState(!1),[v,T]=j.useState(null);j.useEffect(()=>SS(yr,V=>{u(V),m(!1)}),[]);const S=async()=>{T(null);try{await nu()}catch(V){T((V==null?void 0:V.message)||" ")}},b=async()=>{if(!n||!s){T("    (listId  token)");return}if(!o){await S();return}g(!0),T(null);try{await uL(nn,async V=>{var tt;const z=Fn(nn,"lists",n),D=await V.get(z);if(!D.exists())throw new Error("  ");const rt=(tt=D.data().pendingInvites)==null?void 0:tt[s];if(!rt)throw new Error("  ");if(rt.expiresAt<Date.now())throw new Error("  ");V.update(z,{sharedWith:hL(o.uid),[`pendingInvites.${s}`]:cL()})}),localStorage.setItem("activeListId",n),t("/")}catch(V){T((V==null?void 0:V.message)||"  ")}finally{g(!1)}};return h?X.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:X.jsx(iu,{className:"animate-spin text-indigo-600"})}):X.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:X.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[X.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:X.jsx(jA,{className:"w-10 h-10"})}),X.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?X.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,v?X.jsx("p",{className:"text-rose-500 font-bold break-words",children:v}):null,o?X.jsx("button",{onClick:b,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?X.jsx(iu,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):X.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[X.jsx(zA,{className:"w-5 h-5"}),"   "]})]})})},VR={:1,:1,:2,:2,:2,:2,:2,:3,:3,:4,:4,:5,:5,:6,:6,:7,:7,:8,:9,:9,:10,:10},Li=i=>(i||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),UR=i=>(i||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\b\b/g,",").replace(/\b\b/g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim();function _A(i){return i?/^\d+$/.test(i)?!0:VR[i]!=null:!1}function nV(i){if(!i)return null;if(/^\d+$/.test(i))return Number(i);const t=VR[i];return t??null}const iV=new Set(["","","","","","","","","","","","","","","","","","","","","","","",""]);function rV(i){return iV.has(i)}function sV(i){const t=Li(i);if(!t)return[];const n=t.split(" ").filter(Boolean);if(n.length===0)return[];const s=[];let o=1,u=[];const h=p=>{const g=u.join(" ").trim();if(g){const v=Math.max(1,Number(p??o??1));s.push({name:g,qty:v})}o=1,u=[]},m=p=>p+1<n.length?n[p+1]:"";for(let p=0;p<n.length;p++){const g=n[p];if(_A(g)){const T=Math.max(1,nV(g)||1);if(u.length===0){o=T;continue}h(T);continue}u.push(g);const v=m(p);u.length===1&&rV(u[0])||g===""||g===""||v===""||v===""||_A(v)||h()}return u.length>0&&h(),s.map(p=>({name:p.name.replace(/\s+/g," ").trim(),qty:Math.max(1,Number(p.qty||1))})).filter(p=>p.name.length>0)}function aV(i){const t=UR(i),n=Li(t);if(!n)return[];const o=n.replace(/\s+\s+/g,",").replace(/\s+\s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+\s+/g,",").split(/,|\n/).map(h=>h.trim()).filter(Boolean),u=[];for(const h of o){const m=sV(h);for(const p of m)u.push(p)}return u}const oV=()=>{const[i,t]=j.useState(null),[n,s]=j.useState(null),[o,u]=j.useState([]),[h,m]=j.useState([]),[p,g]=j.useState("list"),[v,T]=j.useState(""),[S,b]=j.useState(!1),[V,z]=j.useState(!1),[D,nt]=j.useState(!1),[rt,tt]=j.useState(!0),[mt,Rt]=j.useState(!1),[vt,O]=j.useState(!1),[R]=j.useState("hold_to_talk"),[w,x]=j.useState(""),[P,U]=j.useState(null),C=j.useRef(null),ee=j.useRef(!1),fe=j.useRef([]),K=j.useRef(""),at=j.useRef(!1),_t=j.useRef(null),Gt=j.useRef([]);j.useEffect(()=>{_t.current=(n==null?void 0:n.id)??null},[n==null?void 0:n.id]),j.useEffect(()=>{Gt.current=o},[o]),j.useEffect(()=>{if(!P)return;const J=setTimeout(()=>U(null),2500);return()=>clearTimeout(J)},[P]),j.useEffect(()=>SS(yr,async J=>{if(t(J),tt(!1),!J){s(null),u([]),m([]);return}Rt(!0);const dt=tL(Ql(nn,"lists"),eL("sharedWith","array-contains",J.uid)),ut=await s0(dt);if(ut.empty){const pt=Fn(Ql(nn,"lists")),Ut={id:pt.id,title:" ",ownerUid:J.uid,sharedWith:[J.uid],createdAt:Date.now(),updatedAt:Date.now()};await Xl(pt,Ut),s(Ut),localStorage.setItem("activeListId",pt.id)}else{const pt=localStorage.getItem("activeListId"),Ut=pt?ut.docs.find(Nt=>Nt.id===pt)??ut.docs[0]:ut.docs[0],Ct=Ut.data();s({...Ct,id:Ut.id}),localStorage.setItem("activeListId",Ut.id)}Rt(!1)}),[]),j.useEffect(()=>{if(!(n!=null&&n.id))return;const J=Fn(nn,"lists",n.id),dt=Ql(J,"items"),ut=Ql(J,"favorites"),pt=np(J,Nt=>{Nt.exists()&&s({...Nt.data(),id:Nt.id})}),Ut=np(dt,Nt=>{const de=Nt.docs.map(he=>he.data());u(de)}),Ct=np(ut,Nt=>{const de=Nt.docs.map(he=>{const Qt=he.data();return{id:he.id,name:String((Qt==null?void 0:Qt.name)||""),createdAt:Number((Qt==null?void 0:Qt.createdAt)||0)}});de.sort((he,Qt)=>Qt.createdAt-he.createdAt),m(de)});return()=>{pt(),Ut(),Ct()}},[n==null?void 0:n.id]);const Yt=j.useMemo(()=>{const J=new Set;for(const dt of h)J.add(dt.id);return J},[h]),L=j.useMemo(()=>o.filter(J=>!J.isPurchased).sort((J,dt)=>dt.createdAt-J.createdAt),[o]),Q=j.useMemo(()=>o.filter(J=>J.isPurchased).sort((J,dt)=>(dt.purchasedAt||0)-(J.purchasedAt||0)),[o]),st=async J=>{if(J&&J.preventDefault(),!i){await nu();return}if(!(n!=null&&n.id))return;const dt=v.trim();if(!dt)return;const ut=crypto.randomUUID(),pt={id:ut,name:dt,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Xl(Fn(nn,"lists",n.id,"items",ut),pt),T("")},ht=async J=>{if(!(n!=null&&n.id))return;const dt=o.find(pt=>pt.id===J);if(!dt)return;const ut=!dt.isPurchased;await vh(Fn(nn,"lists",n.id,"items",J),{isPurchased:ut,purchasedAt:ut?Date.now():null})},Tt=async(J,dt)=>{if(!(n!=null&&n.id))return;const ut=o.find(pt=>pt.id===J);ut&&await vh(Fn(nn,"lists",n.id,"items",J),{quantity:Math.max(1,ut.quantity+dt)})},Dt=async J=>{n!=null&&n.id&&await ep(Fn(nn,"lists",n.id,"items",J))},Pt=async J=>{if(!(n!=null&&n.id))return;const dt=Fn(nn,"lists",n.id,"favorites",J);if(Yt.has(J))await ep(dt);else{const ut=o.find(pt=>pt.id===J);await Xl(dt,{name:(ut==null?void 0:ut.name)||"",createdAt:Date.now()})}},ze=async J=>{n!=null&&n.id&&await ep(Fn(nn,"lists",n.id,"favorites",J))},ce=async()=>{const J=_t.current||(n==null?void 0:n.id);if(!J)return;const dt=Ql(nn,"lists",J,"items"),ut=await s0(dt);if(ut.empty){z(!1);return}const pt=ut.docs;let Ut=0;for(;Ut<pt.length;){const Ct=fL(nn),Nt=pt.slice(Ut,Ut+450);for(const de of Nt)Ct.delete(de.ref);await Ct.commit(),Ut+=Nt.length}z(!1)},Qn=async()=>{},hi=async()=>{if(!i)return await nu(),null;if(!(n!=null&&n.id))return null;const J=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),dt=Date.now()+2880*60*1e3;return await vh(Fn(nn,"lists",n.id),{[`pendingInvites.${J}`]:{createdAt:Date.now(),expiresAt:dt}}),WL(n.id,J)},Hi=async()=>{const J=await hi();if(J){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:" ",text:"   ",url:J});return}}catch{}await ZL(J),b(!0),setTimeout(()=>b(!1),2e3)}},Nr=()=>{const J=(n==null?void 0:n.title)||" ",dt=o.filter(le=>!le.isPurchased),ut="",pt="",Ut="",Ct="",Nt=dt.length>0?dt.map(le=>(le.quantity||1)<=1?`${ut}${le.name}${pt}`:`${ut}${le.name} X ${Ut}${le.quantity}${Ct}${pt}`).join(`
`):`${ut}(  )${pt}`,Qt=`${`*${J}:*`}

${Nt}

   `;tV(Qt)},ln=J=>{const dt=Li(J),ut=o.find(Ut=>Li(Ut.name)===dt);return ut||o.find(Ut=>Li(Ut.name).includes(dt)||dt.includes(Li(Ut.name)))||null},Fi=async(J,dt)=>{const ut=_t.current||(n==null?void 0:n.id);if(!ut)return;const pt=Gt.current||o,Ut=J.trim();if(!Ut)return;const Ct=pt.find(he=>!he.isPurchased&&Li(he.name)===Li(Ut));if(Ct){await vh(Fn(nn,"lists",ut,"items",Ct.id),{quantity:dt});return}const Nt=crypto.randomUUID(),de={id:Nt,name:Ut,quantity:dt,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Xl(Fn(nn,"lists",ut,"items",Nt),de)},Or=J=>{const dt=Li(J);return/(||||||)\s*(\s*)?(\s*)?(\s*)?(|)/.test(dt)||dt.includes("")&&dt.includes("")&&(dt.includes("")||dt.includes(""))},Yo=async J=>{if(!(_t.current||(n==null?void 0:n.id)))return;const ut=Li(J);if(!ut)return;if(Or(ut)){await ce(),U(" ");return}if(/^(|||)\s+/.test(ut)){const Qt=ut.replace(/^(|||)\s+/,"").trim(),le=ln(Qt);if(!le){U("   ");return}await Dt(le.id),U(`: ${le.name}`);return}const pt=ut.match(/^(||)\s+(.+)\s+(||)$/);if(pt){const Qt=pt[2].trim(),le=ln(Qt);if(!le){U("   ");return}le.isPurchased||await ht(le.id),U(` : ${le.name}`);return}const Ut=ut.match(/^(||)\s+(.+)$/);if(Ut){const Qt=Ut[2].trim(),le=ln(Qt);return le?(await Tt(le.id,1),U(`: ${le.name}`)):U("   ")}const Ct=ut.match(/^(||)\s+(.+)$/);if(Ct){const Qt=Ct[2].trim(),le=ln(Qt);return le?(await Tt(le.id,-1),U(`: ${le.name}`)):U("   ")}const Nt=ut.match(/^(|||)(?:\s+)?\s+(.+)$/),de=Nt?Nt[2]:ut,he=aV(de);if(he.length!==0){for(const Qt of he)await Fi(Qt.name,Qt.qty);if(he.length===1){const Qt=he[0];U(Qt.qty>1?`: ${Qt.name} x${Qt.qty}`:`: ${Qt.name}`)}else U(` ${he.length} `)}},Na=()=>{const J=window.SpeechRecognition||window.webkitSpeechRecognition;return J||null},Ti=()=>{const J=Na();if(!J){alert("    .  Chrome  Edge.");return}if(!i){U("    "),nu();return}if(fe.current=[],K.current="",at.current=!1,ee.current=!0,x(""),O(!0),U("  -   "),C.current){try{C.current.stop()}catch{}C.current=null}const dt=new J;C.current=dt,dt.lang="he-IL",dt.interimResults=!0,dt.maxAlternatives=1,dt.continuous=!0,dt.onresult=ut=>{try{let pt="";for(let Ct=ut.resultIndex;Ct<ut.results.length;Ct++){const Nt=ut.results[Ct],de=Nt==null?void 0:Nt[0],he=UR(String((de==null?void 0:de.transcript)||""));he&&(Nt.isFinal?(fe.current.push(he),K.current=""):(pt=he,K.current=he))}const Ut=pt||(fe.current.length?fe.current[fe.current.length-1]:"");Ut&&x(Ut)}catch{}},dt.onerror=ut=>{const pt=String((ut==null?void 0:ut.error)||"");console.error("Speech error",ut),O(!1),ee.current=!1,pt==="not-allowed"||pt==="service-not-allowed"?alert("  .     ."):U(` : ${pt||"unknown"}`)},dt.onend=()=>{ee.current&&(at.current||(at.current=!0,setTimeout(()=>{if(!ee.current){at.current=!1;return}try{dt.start()}catch{}finally{at.current=!1}},150)))};try{dt.start()}catch(ut){console.error(ut),O(!1),ee.current=!1,U("   ")}},xn=async()=>{var pt,Ut;if(!ee.current)return;ee.current=!1,O(!1);try{(Ut=(pt=C.current)==null?void 0:pt.stop)==null||Ut.call(pt)}catch{}const J=fe.current.join(" ").trim(),dt=(K.current||"").trim(),ut=(J||dt).trim();if(fe.current=[],K.current="",!ut){U("   -  ");return}U("...");try{await Yo(ut)}catch(Ct){console.error(Ct),U(`: ${String((Ct==null?void 0:Ct.message)||Ct||"")}`)}};return j.useEffect(()=>()=>{var J,dt;try{ee.current=!1,(dt=(J=C.current)==null?void 0:J.stop)==null||dt.call(J)}catch{}},[]),rt?X.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:X.jsx(iu,{className:"animate-spin text-indigo-600"})}):i?mt||!(n!=null&&n.id)?X.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:X.jsx(iu,{className:"animate-spin text-indigo-600"})}):X.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[X.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-6 py-4 flex items-center justify-between border-b border-slate-100",children:[X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("button",{onPointerDown:J=>{J.preventDefault(),Ti()},onPointerUp:J=>{J.preventDefault(),xn()},onPointerCancel:J=>{J.preventDefault(),xn()},onPointerLeave:J=>{ee.current&&(J.preventDefault(),xn())},onTouchStart:J=>{J.preventDefault(),Ti()},onTouchEnd:J=>{J.preventDefault(),xn()},onMouseDown:J=>{J.preventDefault(),Ti()},onMouseUp:J=>{J.preventDefault(),xn()},style:{touchAction:"none"},className:`p-2 rounded-full ${vt?"bg-rose-100 text-rose-600 animate-pulse":"bg-slate-100 hover:bg-indigo-50 text-indigo-600"}`,title:vt?"  -   ":"   ",children:vt?X.jsx(cC,{className:"w-5 h-5"}):X.jsx(hC,{className:"w-5 h-5"})}),X.jsx("button",{onClick:()=>z(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ",children:X.jsx(dh,{className:"w-5 h-5"})}),X.jsx("button",{onClick:Hi,className:"p-2 text-slate-400 hover:text-indigo-600",title:" ",children:S?X.jsx(rC,{className:"w-5 h-5 text-emerald-500"}):X.jsx(jA,{className:"w-5 h-5"})})]}),X.jsx("h1",{className:"text-xl font-extrabold text-indigo-600",children:(n==null?void 0:n.title)||" "}),X.jsx("button",{onClick:()=>PO(yr),className:"p-2 rounded-full shadow-lg active:scale-90 transition-transform bg-slate-100 text-slate-600",title:"",children:X.jsx(lC,{className:"w-5 h-5"})})]}),X.jsx("div",{className:"px-5 pt-3",children:X.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[X.jsx("div",{className:"text-[11px] font-black text-slate-400",children:vt?"  -    ":" :    ,  "}),w?X.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[": ",w]}):null,X.jsx("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:': "  " | "  " | " "'})]})}),X.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:p==="list"?X.jsxs(X.Fragment,{children:[X.jsxs("form",{onSubmit:st,className:"relative",children:[X.jsx("input",{value:v,onChange:J=>T(J.target.value),placeholder:"  ?",className:"w-full p-4 pr-4 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),X.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:X.jsx(Cv,{className:"w-6 h-6"})})]}),X.jsx("div",{className:"flex gap-2",children:X.jsx("button",{onClick:Qn,disabled:D,className:"flex-1 flex items-center justify-center gap-2 bg-indigo-600 text-white py-3 rounded-2xl font-black disabled:opacity-50",title:" AI",children:D?X.jsx(iu,{className:"w-5 h-5 animate-spin"}):" AI"})}),o.length===0?X.jsxs("div",{className:"text-center py-20 opacity-20",children:[X.jsx(dC,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),X.jsx("p",{className:"text-lg font-bold",children:" "})]}):X.jsx("div",{className:"space-y-4",children:X.jsxs("div",{className:"space-y-3",children:[L.map(J=>X.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-2xl border border-slate-100 shadow-sm",dir:"rtl",children:[X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("button",{onClick:()=>Dt(J.id),className:"p-2 text-slate-300 hover:text-rose-500",title:"",children:X.jsx(dh,{className:"w-4 h-4"})}),X.jsx("button",{onClick:()=>Pt(J.id),className:`p-2 ${Yt.has(J.id)?"text-amber-500":"text-slate-300"}`,title:"",children:X.jsx(fh,{className:`w-4 h-4 ${Yt.has(J.id)?"fill-amber-500":""}`})})]}),X.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>ht(J.id),children:J.name}),X.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100",children:[X.jsx("button",{onClick:()=>Tt(J.id,-1),className:"p-1 text-slate-400",title:"",children:X.jsx(fC,{className:"w-3 h-3"})}),X.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:J.quantity}),X.jsx("button",{onClick:()=>Tt(J.id,1),className:"p-1 text-slate-400",title:"",children:X.jsx(Cv,{className:"w-3 h-3"})})]})]},J.id)),Q.length>0?X.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[X.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest text-right mb-2",children:[" (",Q.length,")"]}),Q.map(J=>X.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-100/50 rounded-2xl opacity-60 grayscale transition-all",dir:"rtl",children:[X.jsx("button",{onClick:()=>Dt(J.id),className:"p-2 text-slate-300",title:"",children:X.jsx(dh,{className:"w-4 h-4"})}),X.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-end cursor-pointer",onClick:()=>ht(J.id),children:[X.jsxs("span",{className:"text-base font-bold text-slate-500 line-through truncate text-right",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[J.name," x",J.quantity]}),X.jsx(aC,{className:"w-6 h-6 text-emerald-500"})]})]},J.id))]}):null]})})]}):X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"text-right",children:[X.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),X.jsx("p",{className:"text-sm text-slate-400 font-bold",children:"  "})]}),h.length===0?X.jsxs("div",{className:"text-center py-20 opacity-20",children:[X.jsx(fh,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),X.jsx("p",{className:"font-bold",children:"  "})]}):X.jsx("div",{className:"grid grid-cols-1 gap-3",children:h.map(J=>X.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-100 shadow-sm",dir:"rtl",children:[X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("button",{onClick:async()=>{if(!(n!=null&&n.id))return;const dt=o.find(ut=>!ut.isPurchased&&ut.name.trim()===J.name.trim());if(dt)await Tt(dt.id,1);else{const ut=crypto.randomUUID(),pt={id:ut,name:J.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Xl(Fn(nn,"lists",n.id,"items",ut),pt)}},className:"px-1 py-0.5 text-[10px] rounded-md bg-emerald-500 text-white shadow-md active:scale-90 transition-transform font-black",title:" ",children:" "}),X.jsx("button",{onClick:()=>ze(J.id),className:"p-2 text-slate-300 hover:text-rose-500",title:" ",children:X.jsx(dh,{className:"w-4 h-4"})})]}),X.jsx("div",{className:"flex-1 text-right font-black text-slate-700 truncate px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},children:J.name}),X.jsx(fh,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]},J.id))})]})}),X.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:X.jsxs("div",{className:"max-w-md mx-auto px-4 pb-3",children:[X.jsx("div",{className:"flex justify-start mb-2",dir:"ltr",children:X.jsxs("button",{onClick:Nr,className:"flex items-center justify-center gap-2 bg-emerald-500 text-white py-3 px-6 rounded-full font-black shadow-lg shadow-emerald-200",title:"  ",children:[X.jsx(uC,{className:"w-5 h-5"})," "]})}),X.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:X.jsxs("div",{className:"flex items-center justify-between px-10 py-3",children:[X.jsxs("button",{onClick:()=>g("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[X.jsx(fh,{className:`w-7 h-7 ${p==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),""]}),X.jsxs("button",{onClick:()=>g("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[X.jsx(oC,{className:"w-7 h-7"}),""]})]})})]})}),V?X.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:X.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:X.jsx(sC,{className:"w-5 h-5"})}),X.jsxs("div",{className:"text-right",children:[X.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),X.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),X.jsxs("div",{className:"flex gap-3",children:[X.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),X.jsx("button",{onClick:ce,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null,P?X.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50",children:P}):null]}):X.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:X.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[X.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),X.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),X.jsxs("button",{onClick:async()=>{await nu()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[X.jsx(zA,{className:"w-5 h-5"}),"  "]})]})})},lV=()=>X.jsx(G1,{children:X.jsxs(E1,{children:[X.jsx(op,{path:"/",element:X.jsx(oV,{})}),X.jsx(op,{path:"/invite",element:X.jsx(eV,{})})]})}),PR=document.getElementById("root");if(!PR)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",i=>{const t=(i==null?void 0:i.message)||"unknown",n=i==null?void 0:i.error;console.error("WINDOW_ERROR:",t,n),alert("WINDOW_ERROR: "+t)});window.addEventListener("unhandledrejection",i=>{const t=i==null?void 0:i.reason;console.error("UNHANDLED_REJECTION:",t);let n="";try{typeof t=="string"?n=t:t!=null&&t.message?n=t.message:n=JSON.stringify(t)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());Aw.createRoot(PR).render(X.jsx(pw.StrictMode,{children:X.jsx(lV,{})}));
