(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ES(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gm={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function TS(){if(Q_)return Ql;Q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ql.Fragment=e,Ql.jsx=n,Ql.jsxs=n,Ql}var Y_;function wS(){return Y_||(Y_=1,gm.exports=TS()),gm.exports}var q=wS(),ym={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function bS(){if(K_)return Ue;K_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function V(T){return T===null||typeof T!="object"?null:(T=A&&T[A]||T["@@iterator"],typeof T=="function"?T:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,L={};function ue(T,U,Q){this.props=T,this.context=U,this.refs=L,this.updater=Q||G}ue.prototype.isReactComponent={},ue.prototype.setState=function(T,U){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,U,"setState")},ue.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function he(){}he.prototype=ue.prototype;function re(T,U,Q){this.props=T,this.context=U,this.refs=L,this.updater=Q||G}var Ae=re.prototype=new he;Ae.constructor=re,Z(Ae,ue.prototype),Ae.isPureReactComponent=!0;var Pe=Array.isArray;function xe(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(T,U,Q){var oe=Q.ref;return{$$typeof:r,type:T,key:U,ref:oe!==void 0?oe:null,props:Q}}function O(T,U){return C(T.type,U,T.props)}function k(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function j(T){var U={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Q){return U[Q]})}var D=/\/+/g;function At(T,U){return typeof T=="object"&&T!==null&&T.key!=null?j(""+T.key):U.toString(36)}function xt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(xe,xe):(T.status="pending",T.then(function(U){T.status==="pending"&&(T.status="fulfilled",T.value=U)},function(U){T.status==="pending"&&(T.status="rejected",T.reason=U)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ee(T,U,Q,oe,ce){var me=typeof T;(me==="undefined"||me==="boolean")&&(T=null);var fe=!1;if(T===null)fe=!0;else switch(me){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(T.$$typeof){case r:case e:fe=!0;break;case E:return fe=T._init,ee(fe(T._payload),U,Q,oe,ce)}}if(fe)return ce=ce(T),fe=oe===""?"."+At(T,0):oe,Pe(ce)?(Q="",fe!=null&&(Q=fe.replace(D,"$&/")+"/"),ee(ce,U,Q,"",function(ze){return ze})):ce!=null&&(k(ce)&&(ce=O(ce,Q+(ce.key==null||T&&T.key===ce.key?"":(""+ce.key).replace(D,"$&/")+"/")+fe)),U.push(ce)),1;fe=0;var we=oe===""?".":oe+":";if(Pe(T))for(var be=0;be<T.length;be++)oe=T[be],me=we+At(oe,be),fe+=ee(oe,U,Q,me,ce);else if(be=V(T),typeof be=="function")for(T=be.call(T),be=0;!(oe=T.next()).done;)oe=oe.value,me=we+At(oe,be++),fe+=ee(oe,U,Q,me,ce);else if(me==="object"){if(typeof T.then=="function")return ee(xt(T),U,Q,oe,ce);throw U=String(T),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return fe}function de(T,U,Q){if(T==null)return T;var oe=[],ce=0;return ee(T,oe,"","",function(me){return U.call(Q,me,ce++)}),oe}function Ee(T){if(T._status===-1){var U=T._result;U=U(),U.then(function(Q){(T._status===0||T._status===-1)&&(T._status=1,T._result=Q)},function(Q){(T._status===0||T._status===-1)&&(T._status=2,T._result=Q)}),T._status===-1&&(T._status=0,T._result=U)}if(T._status===1)return T._result.default;throw T._result}var et=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},B={map:de,forEach:function(T,U,Q){de(T,function(){U.apply(this,arguments)},Q)},count:function(T){var U=0;return de(T,function(){U++}),U},toArray:function(T){return de(T,function(U){return U})||[]},only:function(T){if(!k(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Ue.Activity=w,Ue.Children=B,Ue.Component=ue,Ue.Fragment=n,Ue.Profiler=o,Ue.PureComponent=re,Ue.StrictMode=s,Ue.Suspense=p,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(T){return N.H.useMemoCache(T)}},Ue.cache=function(T){return function(){return T.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(T,U,Q){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var oe=Z({},T.props),ce=T.key;if(U!=null)for(me in U.key!==void 0&&(ce=""+U.key),U)!R.call(U,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&U.ref===void 0||(oe[me]=U[me]);var me=arguments.length-2;if(me===1)oe.children=Q;else if(1<me){for(var fe=Array(me),we=0;we<me;we++)fe[we]=arguments[we+2];oe.children=fe}return C(T.type,ce,oe)},Ue.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Ue.createElement=function(T,U,Q){var oe,ce={},me=null;if(U!=null)for(oe in U.key!==void 0&&(me=""+U.key),U)R.call(U,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ce[oe]=U[oe]);var fe=arguments.length-2;if(fe===1)ce.children=Q;else if(1<fe){for(var we=Array(fe),be=0;be<fe;be++)we[be]=arguments[be+2];ce.children=we}if(T&&T.defaultProps)for(oe in fe=T.defaultProps,fe)ce[oe]===void 0&&(ce[oe]=fe[oe]);return C(T,me,ce)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(T){return{$$typeof:m,render:T}},Ue.isValidElement=k,Ue.lazy=function(T){return{$$typeof:E,_payload:{_status:-1,_result:T},_init:Ee}},Ue.memo=function(T,U){return{$$typeof:g,type:T,compare:U===void 0?null:U}},Ue.startTransition=function(T){var U=N.T,Q={};N.T=Q;try{var oe=T(),ce=N.S;ce!==null&&ce(Q,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(xe,et)}catch(me){et(me)}finally{U!==null&&Q.types!==null&&(U.types=Q.types),N.T=U}},Ue.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ue.use=function(T){return N.H.use(T)},Ue.useActionState=function(T,U,Q){return N.H.useActionState(T,U,Q)},Ue.useCallback=function(T,U){return N.H.useCallback(T,U)},Ue.useContext=function(T){return N.H.useContext(T)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(T,U){return N.H.useDeferredValue(T,U)},Ue.useEffect=function(T,U){return N.H.useEffect(T,U)},Ue.useEffectEvent=function(T){return N.H.useEffectEvent(T)},Ue.useId=function(){return N.H.useId()},Ue.useImperativeHandle=function(T,U,Q){return N.H.useImperativeHandle(T,U,Q)},Ue.useInsertionEffect=function(T,U){return N.H.useInsertionEffect(T,U)},Ue.useLayoutEffect=function(T,U){return N.H.useLayoutEffect(T,U)},Ue.useMemo=function(T,U){return N.H.useMemo(T,U)},Ue.useOptimistic=function(T,U){return N.H.useOptimistic(T,U)},Ue.useReducer=function(T,U,Q){return N.H.useReducer(T,U,Q)},Ue.useRef=function(T){return N.H.useRef(T)},Ue.useState=function(T){return N.H.useState(T)},Ue.useSyncExternalStore=function(T,U,Q){return N.H.useSyncExternalStore(T,U,Q)},Ue.useTransition=function(){return N.H.useTransition()},Ue.version="19.2.3",Ue}var $_;function _p(){return $_||($_=1,ym.exports=bS()),ym.exports}var P=_p();const SS=ES(P);var vm={exports:{}},Yl={},_m={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function AS(){return X_||(X_=1,(function(r){function e(ee,de){var Ee=ee.length;ee.push(de);e:for(;0<Ee;){var et=Ee-1>>>1,B=ee[et];if(0<o(B,de))ee[et]=de,ee[Ee]=B,Ee=et;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var de=ee[0],Ee=ee.pop();if(Ee!==de){ee[0]=Ee;e:for(var et=0,B=ee.length,T=B>>>1;et<T;){var U=2*(et+1)-1,Q=ee[U],oe=U+1,ce=ee[oe];if(0>o(Q,Ee))oe<B&&0>o(ce,Q)?(ee[et]=ce,ee[oe]=Ee,et=oe):(ee[et]=Q,ee[U]=Ee,et=U);else if(oe<B&&0>o(ce,Ee))ee[et]=ce,ee[oe]=Ee,et=oe;else break e}}return de}function o(ee,de){var Ee=ee.sortIndex-de.sortIndex;return Ee!==0?Ee:ee.id-de.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,A=3,V=!1,G=!1,Z=!1,L=!1,ue=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function Ae(ee){for(var de=n(g);de!==null;){if(de.callback===null)s(g);else if(de.startTime<=ee)s(g),de.sortIndex=de.expirationTime,e(p,de);else break;de=n(g)}}function Pe(ee){if(Z=!1,Ae(ee),!G)if(n(p)!==null)G=!0,xe||(xe=!0,j());else{var de=n(g);de!==null&&xt(Pe,de.startTime-ee)}}var xe=!1,N=-1,R=5,C=-1;function O(){return L?!0:!(r.unstable_now()-C<R)}function k(){if(L=!1,xe){var ee=r.unstable_now();C=ee;var de=!0;try{e:{G=!1,Z&&(Z=!1,he(N),N=-1),V=!0;var Ee=A;try{t:{for(Ae(ee),w=n(p);w!==null&&!(w.expirationTime>ee&&O());){var et=w.callback;if(typeof et=="function"){w.callback=null,A=w.priorityLevel;var B=et(w.expirationTime<=ee);if(ee=r.unstable_now(),typeof B=="function"){w.callback=B,Ae(ee),de=!0;break t}w===n(p)&&s(p),Ae(ee)}else s(p);w=n(p)}if(w!==null)de=!0;else{var T=n(g);T!==null&&xt(Pe,T.startTime-ee),de=!1}}break e}finally{w=null,A=Ee,V=!1}de=void 0}}finally{de?j():xe=!1}}}var j;if(typeof re=="function")j=function(){re(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,At=D.port2;D.port1.onmessage=k,j=function(){At.postMessage(null)}}else j=function(){ue(k,0)};function xt(ee,de){N=ue(function(){ee(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(ee){switch(A){case 1:case 2:case 3:var de=3;break;default:de=A}var Ee=A;A=de;try{return ee()}finally{A=Ee}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Ee=A;A=ee;try{return de()}finally{A=Ee}},r.unstable_scheduleCallback=function(ee,de,Ee){var et=r.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?et+Ee:et):Ee=et,ee){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Ee+B,ee={id:E++,callback:de,priorityLevel:ee,startTime:Ee,expirationTime:B,sortIndex:-1},Ee>et?(ee.sortIndex=Ee,e(g,ee),n(p)===null&&ee===n(g)&&(Z?(he(N),N=-1):Z=!0,xt(Pe,Ee-et))):(ee.sortIndex=B,e(p,ee),G||V||(G=!0,xe||(xe=!0,j()))),ee},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(ee){var de=A;return function(){var Ee=A;A=de;try{return ee.apply(this,arguments)}finally{A=Ee}}}})(Em)),Em}var J_;function RS(){return J_||(J_=1,_m.exports=AS()),_m.exports}var Tm={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function IS(){if(W_)return Dn;W_=1;var r=_p();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Dn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Dn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Dn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Dn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Dn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Dn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Dn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Dn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Dn.requestFormReset=function(p){s.d.r(p)},Dn.unstable_batchedUpdates=function(p,g){return p(g)},Dn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Dn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Dn.version="19.2.3",Dn}var Z_;function CS(){if(Z_)return Tm.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Tm.exports=IS(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function xS(){if(e0)return Yl;e0=1;var r=RS(),e=_p(),n=CS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),re=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function At(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ue:return"Profiler";case L:return"StrictMode";case Pe:return"Suspense";case xe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case re:return t.displayName||"Context";case he:return(t._context.displayName||"Context")+".Consumer";case Ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:At(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return At(t(i))}catch{}}return null}var xt=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},et=[],B=-1;function T(t){return{current:t}}function U(t){0>B||(t.current=et[B],et[B]=null,B--)}function Q(t,i){B++,et[B]=t.current,t.current=i}var oe=T(null),ce=T(null),me=T(null),fe=T(null);function we(t,i){switch(Q(me,i),Q(ce,t),Q(oe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?p_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=p_(i),t=g_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}U(oe),Q(oe,t)}function be(){U(oe),U(ce),U(me)}function ze(t){t.memoizedState!==null&&Q(fe,t);var i=oe.current,a=g_(i,t.type);i!==a&&(Q(ce,t),Q(oe,a))}function je(t){ce.current===t&&(U(oe),U(ce)),fe.current===t&&(U(fe),ql._currentValue=Ee)}var Fe,Ye;function Re(t){if(Fe===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Fe=i&&i[1]||"",Ye=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fe+t+Ye}var vt=!1;function Rt(t,i){if(!t||vt)return"";vt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var $=J}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(J){$=J}t.call(ae.prototype)}}else{try{throw Error()}catch(J){$=J}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&$&&typeof J.stack=="string")return[J.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var x=v.split(`
`),K=b.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===K.length)for(l=x.length-1,h=K.length-1;1<=l&&0<=h&&x[l]!==K[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==K[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==K[h]){var te=`
`+x[l].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=l&&0<=h);break}}}finally{vt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Re(a):""}function en(t,i){switch(t.tag){case 26:case 27:case 5:return Re(t.type);case 16:return Re("Lazy");case 13:return t.child!==i&&i!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return Rt(t.type,!1);case 11:return Rt(t.type.render,!1);case 1:return Rt(t.type,!0);case 31:return Re("Activity");default:return""}}function In(t){try{var i="",a=null;do i+=en(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Cn=Object.prototype.hasOwnProperty,Ft=r.unstable_scheduleCallback,Ki=r.unstable_cancelCallback,ta=r.unstable_shouldYield,mr=r.unstable_requestPaint,Ot=r.unstable_now,Vi=r.unstable_getCurrentPriorityLevel,_t=r.unstable_ImmediatePriority,Et=r.unstable_UserBlockingPriority,ti=r.unstable_NormalPriority,pr=r.unstable_LowPriority,_i=r.unstable_IdlePriority,$i=r.log,gn=r.unstable_setDisableYieldValue,zt=null,ln=null;function Vn(t){if(typeof $i=="function"&&gn(t),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(zt,t)}catch{}}var tn=Math.clz32?Math.clz32:Jr,el=Math.log,na=Math.LN2;function Jr(t){return t>>>=0,t===0?32:31-(el(t)/na|0)|0}var kn=256,Pn=262144,ki=4194304;function ni(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ln(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=ni(l):(v&=b,v!==0?h=ni(v):a||(a=b&~t,a!==0&&(h=ni(a))))):(b=l&~d,b!==0?h=ni(b):v!==0?h=ni(v):a||(a=l&~t,a!==0&&(h=ni(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Xi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Wr(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ia(){var t=ki;return ki<<=1,(ki&62914560)===0&&(ki=4194304),t}function Pi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ji(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dt(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,x=t.expirationTimes,K=t.hiddenUpdates;for(a=v&~a;0<a;){var te=31-tn(a),ae=1<<te;b[te]=0,x[te]=-1;var $=K[te];if($!==null)for(K[te]=null,te=0;te<$.length;te++){var J=$[te];J!==null&&(J.lane&=-536870913)}a&=~ae}l!==0&&Li(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Li(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-tn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Un(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-tn(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function yn(t,i){var a=i&-i;return a=(a&42)!==0?1:Wi(a),(a&(t.suspendedLanes|i))!==0?0:a}function Wi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ra(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ii(){var t=de.p;return t!==0?t:(t=window.event,t===void 0?32:z_(t.type))}function Ba(t,i){var a=de.p;try{return de.p=t,i()}finally{de.p=a}}var Ei=Math.random().toString(36).slice(2),It="__reactFiber$"+Ei,nn="__reactProps$"+Ei,Ti="__reactContainer$"+Ei,ri="__reactEvents$"+Ei,wi="__reactListeners$"+Ei,qa="__reactHandles$"+Ei,sa="__reactResources$"+Ei,Ui="__reactMarker$"+Ei;function zi(t){delete t[It],delete t[nn],delete t[ri],delete t[wi],delete t[qa]}function vn(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ti]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=b_(t);t!==null;){if(a=t[It])return a;t=b_(t)}return i}t=a,a=t.parentNode}return null}function I(t){if(t=t[It]||t[Ti]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function F(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function X(t){var i=t[sa];return i||(i=t[sa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function se(t){t[Ui]=!0}var ye=new Set,Ve={};function Se(t,i){nt(t,i),nt(t+"Capture",i)}function nt(t,i){for(Ve[t]=i,t=0;t<i.length;t++)ye.add(i[t])}var lt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Be={},Le={};function Gt(t){return Cn.call(Le,t)?!0:Cn.call(Be,t)?!1:lt.test(t)?Le[t]=!0:(Be[t]=!0,!1)}function Fn(t,i,a){if(Gt(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function rn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ji(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zn(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ha(t){if(!t._valueTracker){var i=ji(t)?"checked":"value";t._valueTracker=zn(t,i,""+t[i])}}function tl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ji(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Fa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gr=/[\n"\\]/g;function Vt(t){return t.replace(gr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Zr(t,i,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Ga(t,v,jt(i)):a!=null?Ga(t,v,jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+jt(b):t.removeAttribute("name")}function aa(t,i,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ha(t);return}a=a!=null?""+jt(a):"",i=i!=null?""+jt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ha(t)}function Ga(t,i,a){i==="number"&&Fa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function st(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function oa(t,i,a){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+jt(a):""}function es(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(xt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ha(t)}function bi(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var _f=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||_f.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function zu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&nl(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&nl(t,d,i[d])}function il(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zi(t){return Tf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function un(){}var Qa=null;function Ya(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yr=null,si=null;function ju(t){var i=I(t);if(i&&(t=i.stateNode)){var a=t[nn]||null;e:switch(t=i.stateNode,i.type){case"input":if(Zr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Vt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[nn]||null;if(!h)throw Error(s(90));Zr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&tl(l)}break e;case"textarea":oa(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&st(t,!!a.multiple,i,!1)}}}var rl=!1;function Bu(t,i,a){if(rl)return t(i,a);rl=!0;try{var l=t(i);return l}finally{if(rl=!1,(yr!==null||si!==null)&&(Lc(),yr&&(i=yr,t=si,si=yr=null,ju(i),t)))for(i=0;i<t.length;i++)ju(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[nn]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=!1;if(Bi)try{var er={};Object.defineProperty(er,"passive",{get:function(){sl=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{sl=!1}var ai=null,Ka=null,tr=null;function ts(){if(tr)return tr;var t,i=Ka,a=i.length,l,h="value"in ai?ai.value:ai.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return tr=h.slice(t,1<l?1-l:void 0)}function la(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ns(){return!0}function Tt(){return!1}function xn(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ns:Tt,this.isPropagationStopped=Tt,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),i}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=xn(vr),is=w({},vr,{view:0,detail:0}),qu=xn(is),rs,$a,jn,ca=w({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jn&&(jn&&t.type==="mousemove"?(rs=t.screenX-jn.screenX,$a=t.screenY-jn.screenY):$a=rs=0,jn=t),rs)},movementY:function(t){return"movementY"in t?t.movementY:$a}}),Hu=xn(ca),ha=w({},ca,{dataTransfer:0}),Fu=xn(ha),al=w({},is,{relatedTarget:0}),ss=xn(al),Gu=w({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xa=xn(Gu),wf=w({},vr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qu=xn(wf),fa=w({},vr,{data:0}),ol=xn(fa),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ll={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ul={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ul[t])?!!i[t]:!1}function as(){return Ku}var $u=w({},is,{key:function(t){if(t.key){var i=Yu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=la(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ll[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(t){return t.type==="keypress"?la(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?la(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xu=xn($u),_r=w({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=xn(_r),Ju=w({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),Wu=xn(Ju),Zu=w({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ja=xn(Zu),Bn=w({},ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ec=xn(Bn),tc=w({},vr,{newState:0,oldState:0}),os=xn(tc),c=[9,13,27,32],y=Bi&&"CompositionEvent"in window,_=null;Bi&&"documentMode"in document&&(_=document.documentMode);var S=Bi&&"TextEvent"in window&&!_,H=Bi&&(!y||_&&8<_&&11>=_),W=" ",pe=!1;function ct(t,i){switch(t){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ge=!1;function cn(t,i){switch(t){case"compositionend":return Qt(i);case"keypress":return i.which!==32?null:(pe=!0,W);case"textInput":return t=i.data,t===W&&pe?null:t;default:return null}}function hn(t,i){if(Ge)return t==="compositionend"||!y&&ct(t,i)?(t=ts(),tr=Ka=ai=null,Ge=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return H&&i.locale!=="ko"?null:i.data;default:return null}}var ls={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ls[t.type]:i==="textarea"}function da(t,i,a,l){yr?si?si.push(l):si=[l]:yr=l,i=Fc(i,"onChange"),0<i.length&&(a=new ua("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Er=null,hl=null;function Yw(t){u_(t,0)}function nc(t){var i=F(t);if(tl(i))return t}function Cg(t,i){if(t==="change")return i}var xg=!1;if(Bi){var bf;if(Bi){var Sf="oninput"in document;if(!Sf){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),Sf=typeof Dg.oninput=="function"}bf=Sf}else bf=!1;xg=bf&&(!document.documentMode||9<document.documentMode)}function Ng(){Er&&(Er.detachEvent("onpropertychange",Mg),hl=Er=null)}function Mg(t){if(t.propertyName==="value"&&nc(hl)){var i=[];da(i,hl,t,Ya(t)),Bu(Yw,i)}}function Kw(t,i,a){t==="focusin"?(Ng(),Er=i,hl=a,Er.attachEvent("onpropertychange",Mg)):t==="focusout"&&Ng()}function $w(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nc(hl)}function Xw(t,i){if(t==="click")return nc(i)}function Jw(t,i){if(t==="input"||t==="change")return nc(i)}function Ww(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var oi=typeof Object.is=="function"?Object.is:Ww;function fl(t,i){if(oi(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Cn.call(i,h)||!oi(t[h],i[h]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vg(t,i){var a=Og(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Og(a)}}function kg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?kg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Pg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Fa(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Fa(t.document)}return i}function Af(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Zw=Bi&&"documentMode"in document&&11>=document.documentMode,Wa=null,Rf=null,dl=null,If=!1;function Lg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||Wa==null||Wa!==Fa(l)||(l=Wa,"selectionStart"in l&&Af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Fc(Rf,"onSelect"),0<l.length&&(i=new ua("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Wa)))}function ma(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Za={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},Cf={},Ug={};Bi&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function pa(t){if(Cf[t])return Cf[t];if(!Za[t])return t;var i=Za[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ug)return Cf[t]=i[a];return t}var zg=pa("animationend"),jg=pa("animationiteration"),Bg=pa("animationstart"),eb=pa("transitionrun"),tb=pa("transitionstart"),nb=pa("transitioncancel"),qg=pa("transitionend"),Hg=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function qi(t,i){Hg.set(t,i),Se(i,[t])}var ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Si=[],eo=0,Df=0;function rc(){for(var t=eo,i=Df=eo=0;i<t;){var a=Si[i];Si[i++]=null;var l=Si[i];Si[i++]=null;var h=Si[i];Si[i++]=null;var d=Si[i];if(Si[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Fg(a,h,d)}}function sc(t,i,a,l){Si[eo++]=t,Si[eo++]=i,Si[eo++]=a,Si[eo++]=l,Df|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Nf(t,i,a,l){return sc(t,i,a,l),ac(t)}function ga(t,i){return sc(t,null,null,i),ac(t)}function Fg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-tn(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ac(t){if(50<kl)throw kl=0,jd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var to={};function ib(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(t,i,a,l){return new ib(t,i,a,l)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tr(t,i){var a=t.alternate;return a===null?(a=li(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Gg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function oc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Mf(t)&&(v=1);else if(typeof t=="string")v=lS(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=li(31,a,i,h),t.elementType=C,t.lanes=d,t;case Z:return ya(a.children,h,d,i);case L:v=8,h|=24;break;case ue:return t=li(12,a,i,h|2),t.elementType=ue,t.lanes=d,t;case Pe:return t=li(13,a,i,h),t.elementType=Pe,t.lanes=d,t;case xe:return t=li(19,a,i,h),t.elementType=xe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case he:v=9;break e;case Ae:v=11;break e;case N:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=li(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ya(t,i,a,l){return t=li(7,t,l,i),t.lanes=a,t}function Of(t,i,a){return t=li(6,t,null,i),t.lanes=a,t}function Qg(t){var i=li(18,null,null,0);return i.stateNode=t,i}function Vf(t,i,a){return i=li(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Yg=new WeakMap;function Ai(t,i){if(typeof t=="object"&&t!==null){var a=Yg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:In(i)},Yg.set(t,i),i)}return{value:t,source:i,stack:In(i)}}var no=[],io=0,lc=null,ml=0,Ri=[],Ii=0,us=null,nr=1,ir="";function wr(t,i){no[io++]=ml,no[io++]=lc,lc=t,ml=i}function Kg(t,i,a){Ri[Ii++]=nr,Ri[Ii++]=ir,Ri[Ii++]=us,us=t;var l=nr;t=ir;var h=32-tn(l)-1;l&=~(1<<h),a+=1;var d=32-tn(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,nr=1<<32-tn(i)+h|a<<h|l,ir=d+t}else nr=1<<d|a<<h|l,ir=t}function kf(t){t.return!==null&&(wr(t,1),Kg(t,1,0))}function Pf(t){for(;t===lc;)lc=no[--io],no[io]=null,ml=no[--io],no[io]=null;for(;t===us;)us=Ri[--Ii],Ri[Ii]=null,ir=Ri[--Ii],Ri[Ii]=null,nr=Ri[--Ii],Ri[Ii]=null}function $g(t,i){Ri[Ii++]=nr,Ri[Ii++]=ir,Ri[Ii++]=us,nr=i.id,ir=i.overflow,us=t}var _n=null,wt=null,tt=!1,cs=null,Ci=!1,Lf=Error(s(519));function hs(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(Ai(i,t)),Lf}function Xg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[nn]=l,a){case"dialog":$e("cancel",i),$e("close",i);break;case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(a=0;a<Ll.length;a++)$e(Ll[a],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"input":$e("invalid",i),aa(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":$e("invalid",i);break;case"textarea":$e("invalid",i),es(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||d_(i.textContent,a)?(l.popover!=null&&($e("beforetoggle",i),$e("toggle",i)),l.onScroll!=null&&$e("scroll",i),l.onScrollEnd!=null&&$e("scrollend",i),l.onClick!=null&&(i.onclick=un),i=!0):i=!1,i||hs(t,!0)}function Jg(t){for(_n=t.return;_n;)switch(_n.tag){case 5:case 31:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:_n=_n.return}}function ro(t){if(t!==_n)return!1;if(!tt)return Jg(t),tt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||tm(t.type,t.memoizedProps)),a=!a),a&&wt&&hs(t),Jg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));wt=w_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));wt=w_(t)}else i===27?(i=wt,As(t.type)?(t=am,am=null,wt=t):wt=i):wt=_n?Di(t.stateNode.nextSibling):null;return!0}function va(){wt=_n=null,tt=!1}function Uf(){var t=cs;return t!==null&&(Jn===null?Jn=t:Jn.push.apply(Jn,t),cs=null),t}function pl(t){cs===null?cs=[t]:cs.push(t)}var zf=T(null),_a=null,br=null;function fs(t,i,a){Q(zf,i._currentValue),i._currentValue=a}function Sr(t){t._currentValue=zf.current,U(zf)}function jf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Bf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var x=0;x<i.length;x++)if(b.context===i[x]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),jf(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),jf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function so(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;oi(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===fe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}h=h.return}t!==null&&Bf(i,t,a,l),i.flags|=262144}function uc(t){for(t=t.firstContext;t!==null;){if(!oi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ea(t){_a=t,br=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function En(t){return Wg(_a,t)}function cc(t,i){return _a===null&&Ea(t),Wg(t,i)}function Wg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},br===null){if(t===null)throw Error(s(308));br=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else br=br.next=i;return a}var rb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},sb=r.unstable_scheduleCallback,ab=r.unstable_NormalPriority,Yt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new rb,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&sb(ab,function(){t.controller.abort()})}var yl=null,Hf=0,ao=0,oo=null;function ob(t,i){if(yl===null){var a=yl=[];Hf=0,ao=Qd(),oo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,i.then(Zg,Zg),i}function Zg(){if(--Hf===0&&yl!==null){oo!==null&&(oo.status="fulfilled");var t=yl;yl=null,ao=0,oo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function lb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ey=ee.S;ee.S=function(t,i){Lv=Ot(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ob(t,i),ey!==null&&ey(t,i)};var Ta=T(null);function Ff(){var t=Ta.current;return t!==null?t:yt.pooledCache}function hc(t,i){i===null?Q(Ta,Ta.current):Q(Ta,i.pool)}function ty(){var t=Ff();return t===null?null:{parent:Yt._currentValue,pool:t}}var lo=Error(s(460)),Gf=Error(s(474)),fc=Error(s(542)),dc={then:function(){}};function ny(t){return t=t.status,t==="fulfilled"||t==="rejected"}function iy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(un,un),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,sy(t),t;default:if(typeof i.status=="string")i.then(un,un);else{if(t=yt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,sy(t),t}throw ba=i,lo}}function wa(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ba=a,lo):a}}var ba=null;function ry(){if(ba===null)throw Error(s(459));var t=ba;return ba=null,t}function sy(t){if(t===lo||t===fc)throw Error(s(483))}var uo=null,vl=0;function mc(t){var i=vl;return vl+=1,uo===null&&(uo=[]),iy(uo,t,i)}function _l(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function pc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ay(t){function i(z,M){if(t){var Y=z.deletions;Y===null?(z.deletions=[M],z.flags|=16):Y.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)i(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function h(z,M){return z=Tr(z,M),z.index=0,z.sibling=null,z}function d(z,M,Y){return z.index=Y,t?(Y=z.alternate,Y!==null?(Y=Y.index,Y<M?(z.flags|=67108866,M):Y):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function b(z,M,Y,ne){return M===null||M.tag!==6?(M=Of(Y,z.mode,ne),M.return=z,M):(M=h(M,Y),M.return=z,M)}function x(z,M,Y,ne){var Ce=Y.type;return Ce===Z?te(z,M,Y.props.children,ne,Y.key):M!==null&&(M.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===R&&wa(Ce)===M.type)?(M=h(M,Y.props),_l(M,Y),M.return=z,M):(M=oc(Y.type,Y.key,Y.props,null,z.mode,ne),_l(M,Y),M.return=z,M)}function K(z,M,Y,ne){return M===null||M.tag!==4||M.stateNode.containerInfo!==Y.containerInfo||M.stateNode.implementation!==Y.implementation?(M=Vf(Y,z.mode,ne),M.return=z,M):(M=h(M,Y.children||[]),M.return=z,M)}function te(z,M,Y,ne,Ce){return M===null||M.tag!==7?(M=ya(Y,z.mode,ne,Ce),M.return=z,M):(M=h(M,Y),M.return=z,M)}function ae(z,M,Y){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Of(""+M,z.mode,Y),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case V:return Y=oc(M.type,M.key,M.props,null,z.mode,Y),_l(Y,M),Y.return=z,Y;case G:return M=Vf(M,z.mode,Y),M.return=z,M;case R:return M=wa(M),ae(z,M,Y)}if(xt(M)||j(M))return M=ya(M,z.mode,Y,null),M.return=z,M;if(typeof M.then=="function")return ae(z,mc(M),Y);if(M.$$typeof===re)return ae(z,cc(z,M),Y);pc(z,M)}return null}function $(z,M,Y,ne){var Ce=M!==null?M.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ce!==null?null:b(z,M,""+Y,ne);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case V:return Y.key===Ce?x(z,M,Y,ne):null;case G:return Y.key===Ce?K(z,M,Y,ne):null;case R:return Y=wa(Y),$(z,M,Y,ne)}if(xt(Y)||j(Y))return Ce!==null?null:te(z,M,Y,ne,null);if(typeof Y.then=="function")return $(z,M,mc(Y),ne);if(Y.$$typeof===re)return $(z,M,cc(z,Y),ne);pc(z,Y)}return null}function J(z,M,Y,ne,Ce){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return z=z.get(Y)||null,b(M,z,""+ne,Ce);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case V:return z=z.get(ne.key===null?Y:ne.key)||null,x(M,z,ne,Ce);case G:return z=z.get(ne.key===null?Y:ne.key)||null,K(M,z,ne,Ce);case R:return ne=wa(ne),J(z,M,Y,ne,Ce)}if(xt(ne)||j(ne))return z=z.get(Y)||null,te(M,z,ne,Ce,null);if(typeof ne.then=="function")return J(z,M,Y,mc(ne),Ce);if(ne.$$typeof===re)return J(z,M,Y,cc(M,ne),Ce);pc(M,ne)}return null}function _e(z,M,Y,ne){for(var Ce=null,at=null,Te=M,He=M=0,Je=null;Te!==null&&He<Y.length;He++){Te.index>He?(Je=Te,Te=null):Je=Te.sibling;var ot=$(z,Te,Y[He],ne);if(ot===null){Te===null&&(Te=Je);break}t&&Te&&ot.alternate===null&&i(z,Te),M=d(ot,M,He),at===null?Ce=ot:at.sibling=ot,at=ot,Te=Je}if(He===Y.length)return a(z,Te),tt&&wr(z,He),Ce;if(Te===null){for(;He<Y.length;He++)Te=ae(z,Y[He],ne),Te!==null&&(M=d(Te,M,He),at===null?Ce=Te:at.sibling=Te,at=Te);return tt&&wr(z,He),Ce}for(Te=l(Te);He<Y.length;He++)Je=J(Te,z,He,Y[He],ne),Je!==null&&(t&&Je.alternate!==null&&Te.delete(Je.key===null?He:Je.key),M=d(Je,M,He),at===null?Ce=Je:at.sibling=Je,at=Je);return t&&Te.forEach(function(Ds){return i(z,Ds)}),tt&&wr(z,He),Ce}function Ne(z,M,Y,ne){if(Y==null)throw Error(s(151));for(var Ce=null,at=null,Te=M,He=M=0,Je=null,ot=Y.next();Te!==null&&!ot.done;He++,ot=Y.next()){Te.index>He?(Je=Te,Te=null):Je=Te.sibling;var Ds=$(z,Te,ot.value,ne);if(Ds===null){Te===null&&(Te=Je);break}t&&Te&&Ds.alternate===null&&i(z,Te),M=d(Ds,M,He),at===null?Ce=Ds:at.sibling=Ds,at=Ds,Te=Je}if(ot.done)return a(z,Te),tt&&wr(z,He),Ce;if(Te===null){for(;!ot.done;He++,ot=Y.next())ot=ae(z,ot.value,ne),ot!==null&&(M=d(ot,M,He),at===null?Ce=ot:at.sibling=ot,at=ot);return tt&&wr(z,He),Ce}for(Te=l(Te);!ot.done;He++,ot=Y.next())ot=J(Te,z,He,ot.value,ne),ot!==null&&(t&&ot.alternate!==null&&Te.delete(ot.key===null?He:ot.key),M=d(ot,M,He),at===null?Ce=ot:at.sibling=ot,at=ot);return t&&Te.forEach(function(_S){return i(z,_S)}),tt&&wr(z,He),Ce}function pt(z,M,Y,ne){if(typeof Y=="object"&&Y!==null&&Y.type===Z&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case V:e:{for(var Ce=Y.key;M!==null;){if(M.key===Ce){if(Ce=Y.type,Ce===Z){if(M.tag===7){a(z,M.sibling),ne=h(M,Y.props.children),ne.return=z,z=ne;break e}}else if(M.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===R&&wa(Ce)===M.type){a(z,M.sibling),ne=h(M,Y.props),_l(ne,Y),ne.return=z,z=ne;break e}a(z,M);break}else i(z,M);M=M.sibling}Y.type===Z?(ne=ya(Y.props.children,z.mode,ne,Y.key),ne.return=z,z=ne):(ne=oc(Y.type,Y.key,Y.props,null,z.mode,ne),_l(ne,Y),ne.return=z,z=ne)}return v(z);case G:e:{for(Ce=Y.key;M!==null;){if(M.key===Ce)if(M.tag===4&&M.stateNode.containerInfo===Y.containerInfo&&M.stateNode.implementation===Y.implementation){a(z,M.sibling),ne=h(M,Y.children||[]),ne.return=z,z=ne;break e}else{a(z,M);break}else i(z,M);M=M.sibling}ne=Vf(Y,z.mode,ne),ne.return=z,z=ne}return v(z);case R:return Y=wa(Y),pt(z,M,Y,ne)}if(xt(Y))return _e(z,M,Y,ne);if(j(Y)){if(Ce=j(Y),typeof Ce!="function")throw Error(s(150));return Y=Ce.call(Y),Ne(z,M,Y,ne)}if(typeof Y.then=="function")return pt(z,M,mc(Y),ne);if(Y.$$typeof===re)return pt(z,M,cc(z,Y),ne);pc(z,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,M!==null&&M.tag===6?(a(z,M.sibling),ne=h(M,Y),ne.return=z,z=ne):(a(z,M),ne=Of(Y,z.mode,ne),ne.return=z,z=ne),v(z)):a(z,M)}return function(z,M,Y,ne){try{vl=0;var Ce=pt(z,M,Y,ne);return uo=null,Ce}catch(Te){if(Te===lo||Te===fc)throw Te;var at=li(29,Te,null,z.mode);return at.lanes=ne,at.return=z,at}finally{}}}var Sa=ay(!0),oy=ay(!1),ds=!1;function Qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ps(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ut&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ac(t),Fg(t,null,a),i}return sc(t,l,i,a),ac(t)}function El(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Un(t,a)}}function Kf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var $f=!1;function Tl(){if($f){var t=oo;if(t!==null)throw t}}function wl(t,i,a,l){$f=!1;var h=t.updateQueue;ds=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var x=b,K=x.next;x.next=null,v===null?d=K:v.next=K,v=x;var te=t.alternate;te!==null&&(te=te.updateQueue,b=te.lastBaseUpdate,b!==v&&(b===null?te.firstBaseUpdate=K:b.next=K,te.lastBaseUpdate=x))}if(d!==null){var ae=h.baseState;v=0,te=K=x=null,b=d;do{var $=b.lane&-536870913,J=$!==b.lane;if(J?(Xe&$)===$:(l&$)===$){$!==0&&$===ao&&($f=!0),te!==null&&(te=te.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var _e=t,Ne=b;$=i;var pt=a;switch(Ne.tag){case 1:if(_e=Ne.payload,typeof _e=="function"){ae=_e.call(pt,ae,$);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ne.payload,$=typeof _e=="function"?_e.call(pt,ae,$):_e,$==null)break e;ae=w({},ae,$);break e;case 2:ds=!0}}$=b.callback,$!==null&&(t.flags|=64,J&&(t.flags|=8192),J=h.callbacks,J===null?h.callbacks=[$]:J.push($))}else J={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},te===null?(K=te=J,x=ae):te=te.next=J,v|=$;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;J=b,b=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);te===null&&(x=ae),h.baseState=x,h.firstBaseUpdate=K,h.lastBaseUpdate=te,d===null&&(h.shared.lanes=0),Es|=v,t.lanes=v,t.memoizedState=ae}}function ly(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function uy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ly(a[t],i)}var co=T(null),gc=T(0);function cy(t,i){t=Or,Q(gc,t),Q(co,i),Or=t|i.baseLanes}function Xf(){Q(gc,Or),Q(co,co.current)}function Jf(){Or=gc.current,U(co),U(gc)}var ui=T(null),xi=null;function gs(t){var i=t.alternate;Q(Bt,Bt.current&1),Q(ui,t),xi===null&&(i===null||co.current!==null||i.memoizedState!==null)&&(xi=t)}function Wf(t){Q(Bt,Bt.current),Q(ui,t),xi===null&&(xi=t)}function hy(t){t.tag===22?(Q(Bt,Bt.current),Q(ui,t),xi===null&&(xi=t)):ys()}function ys(){Q(Bt,Bt.current),Q(ui,ui.current)}function ci(t){U(ui),xi===t&&(xi=null),U(Bt)}var Bt=T(0);function yc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rm(a)||sm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ar=0,qe=null,dt=null,Kt=null,vc=!1,ho=!1,Aa=!1,_c=0,bl=0,fo=null,ub=0;function kt(){throw Error(s(321))}function Zf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!oi(t[a],i[a]))return!1;return!0}function ed(t,i,a,l,h,d){return Ar=d,qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ee.H=t===null||t.memoizedState===null?Ky:pd,Aa=!1,d=a(l,h),Aa=!1,ho&&(d=dy(i,a,l,h)),fy(t),d}function fy(t){ee.H=Rl;var i=dt!==null&&dt.next!==null;if(Ar=0,Kt=dt=qe=null,vc=!1,bl=0,fo=null,i)throw Error(s(300));t===null||$t||(t=t.dependencies,t!==null&&uc(t)&&($t=!0))}function dy(t,i,a,l){qe=t;var h=0;do{if(ho&&(fo=null),bl=0,ho=!1,25<=h)throw Error(s(301));if(h+=1,Kt=dt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}ee.H=$y,d=i(a,l)}while(ho);return d}function cb(){var t=ee.H,i=t.useState()[0];return i=typeof i.then=="function"?Sl(i):i,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(qe.flags|=1024),i}function td(){var t=_c!==0;return _c=0,t}function nd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function id(t){if(vc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}vc=!1}Ar=0,Kt=dt=qe=null,ho=!1,bl=_c=0,fo=null}function qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?qe.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function qt(){if(dt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var i=Kt===null?qe.memoizedState:Kt.next;if(i!==null)Kt=i,dt=t;else{if(t===null)throw qe.alternate===null?Error(s(467)):Error(s(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Kt===null?qe.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var i=bl;return bl+=1,fo===null&&(fo=[]),t=iy(fo,t,i),i=qe,(Kt===null?i.memoizedState:Kt.next)===null&&(i=i.alternate,ee.H=i===null||i.memoizedState===null?Ky:pd),t}function Tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===re)return En(t)}throw Error(s(438,String(t)))}function rd(t){var i=null,a=qe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=qe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ec(),qe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Rr(t,i){return typeof i=="function"?i(t):i}function wc(t){var i=qt();return sd(i,dt,t)}function sd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=v=null,x=null,K=i,te=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?(Xe&ae)===ae:(Ar&ae)===ae){var $=K.revertLane;if($===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===ao&&(te=!0);else if((Ar&$)===$){K=K.next,$===ao&&(te=!0);continue}else ae={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},x===null?(b=x=ae,v=d):x=x.next=ae,qe.lanes|=$,Es|=$;ae=K.action,Aa&&a(d,ae),d=K.hasEagerState?K.eagerState:a(d,ae)}else $={lane:ae,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},x===null?(b=x=$,v=d):x=x.next=$,qe.lanes|=ae,Es|=ae;K=K.next}while(K!==null&&K!==i);if(x===null?v=d:x.next=b,!oi(d,t.memoizedState)&&($t=!0,te&&(a=oo,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ad(t){var i=qt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);oi(d,i.memoizedState)||($t=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function my(t,i,a){var l=qe,h=qt(),d=tt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!oi((dt||h).memoizedState,a);if(v&&(h.memoizedState=a,$t=!0),h=h.queue,ud(yy.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Kt!==null&&Kt.memoizedState.tag&1){if(l.flags|=2048,mo(9,{destroy:void 0},gy.bind(null,l,h,a,i),null),yt===null)throw Error(s(349));d||(Ar&127)!==0||py(l,i,a)}return a}function py(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=qe.updateQueue,i===null?(i=Ec(),qe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function gy(t,i,a,l){i.value=a,i.getSnapshot=l,vy(i)&&_y(t)}function yy(t,i,a){return a(function(){vy(i)&&_y(t)})}function vy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!oi(t,a)}catch{return!0}}function _y(t){var i=ga(t,2);i!==null&&Wn(i,t,2)}function od(t){var i=qn();if(typeof t=="function"){var a=t;if(t=a(),Aa){Vn(!0);try{a()}finally{Vn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:t},i}function Ey(t,i,a,l){return t.baseState=a,sd(t,dt,typeof l=="function"?l:Rr)}function hb(t,i,a,l,h){if(Ac(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};ee.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ty(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ty(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=ee.T,v={};ee.T=v;try{var b=a(h,l),x=ee.S;x!==null&&x(v,b),wy(t,i,b)}catch(K){ld(t,i,K)}finally{d!==null&&v.types!==null&&(d.types=v.types),ee.T=d}}else try{d=a(h,l),wy(t,i,d)}catch(K){ld(t,i,K)}}function wy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){by(t,i,l)},function(l){return ld(t,i,l)}):by(t,i,a)}function by(t,i,a){i.status="fulfilled",i.value=a,Sy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ty(t,a)))}function ld(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Sy(i),i=i.next;while(i!==l)}t.action=null}function Sy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ay(t,i){return i}function Ry(t,i){if(tt){var a=yt.formState;if(a!==null){e:{var l=qe;if(tt){if(wt){t:{for(var h=wt,d=Ci;h.nodeType!==8;){if(!d){h=null;break t}if(h=Di(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){wt=Di(h.nextSibling),l=h.data==="F!";break e}}hs(l)}l=!1}l&&(i=a[0])}}return a=qn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:i},a.queue=l,a=Gy.bind(null,qe,l),l.dispatch=a,l=od(!1),d=md.bind(null,qe,!1,l.queue),l=qn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=hb.bind(null,qe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Iy(t){var i=qt();return Cy(i,dt,t)}function Cy(t,i,a){if(i=sd(t,i,Ay)[0],t=wc(Rr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Sl(i)}catch(v){throw v===lo?fc:v}else l=i;i=qt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(qe.flags|=2048,mo(9,{destroy:void 0},fb.bind(null,h,a),null)),[l,d,t]}function fb(t,i){t.action=i}function xy(t){var i=qt(),a=dt;if(a!==null)return Cy(i,a,t);qt(),i=i.memoizedState,a=qt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function mo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=qe.updateQueue,i===null&&(i=Ec(),qe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Dy(){return qt().memoizedState}function bc(t,i,a,l){var h=qn();qe.flags|=t,h.memoizedState=mo(1|i,{destroy:void 0},a,l===void 0?null:l)}function Sc(t,i,a,l){var h=qt();l=l===void 0?null:l;var d=h.memoizedState.inst;dt!==null&&l!==null&&Zf(l,dt.memoizedState.deps)?h.memoizedState=mo(i,d,a,l):(qe.flags|=t,h.memoizedState=mo(1|i,d,a,l))}function Ny(t,i){bc(8390656,8,t,i)}function ud(t,i){Sc(2048,8,t,i)}function db(t){qe.flags|=4;var i=qe.updateQueue;if(i===null)i=Ec(),qe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function My(t){var i=qt().memoizedState;return db({ref:i,nextImpl:t}),function(){if((ut&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Oy(t,i){return Sc(4,2,t,i)}function Vy(t,i){return Sc(4,4,t,i)}function ky(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Py(t,i,a){a=a!=null?a.concat([t]):null,Sc(4,4,ky.bind(null,i,t),a)}function cd(){}function Ly(t,i){var a=qt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Zf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Uy(t,i){var a=qt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Zf(i,l[1]))return l[0];if(l=t(),Aa){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,i],l}function hd(t,i,a){return a===void 0||(Ar&1073741824)!==0&&(Xe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=zv(),qe.lanes|=t,Es|=t,a)}function zy(t,i,a,l){return oi(a,i)?a:co.current!==null?(t=hd(t,a,l),oi(t,i)||($t=!0),t):(Ar&42)===0||(Ar&1073741824)!==0&&(Xe&261930)===0?($t=!0,t.memoizedState=a):(t=zv(),qe.lanes|=t,Es|=t,i)}function jy(t,i,a,l,h){var d=de.p;de.p=d!==0&&8>d?d:8;var v=ee.T,b={};ee.T=b,md(t,!1,i,a);try{var x=h(),K=ee.S;if(K!==null&&K(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var te=lb(x,l);Al(t,i,te,di(t))}else Al(t,i,l,di(t))}catch(ae){Al(t,i,{then:function(){},status:"rejected",reason:ae},di())}finally{de.p=d,v!==null&&b.types!==null&&(v.types=b.types),ee.T=v}}function mb(){}function fd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=By(t).queue;jy(t,h,i,Ee,a===null?mb:function(){return qy(t),a(l)})}function By(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:Ee},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function qy(t){var i=By(t);i.next===null&&(i=t.alternate.memoizedState),Al(t,i.next.queue,{},di())}function dd(){return En(ql)}function Hy(){return qt().memoizedState}function Fy(){return qt().memoizedState}function pb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=di();t=ms(a);var l=ps(i,t,a);l!==null&&(Wn(l,i,a),El(l,i,a)),i={cache:qf()},t.payload=i;return}i=i.return}}function gb(t,i,a){var l=di();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ac(t)?Qy(i,a):(a=Nf(t,i,a,l),a!==null&&(Wn(a,t,l),Yy(a,i,l)))}function Gy(t,i,a){var l=di();Al(t,i,a,l)}function Al(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ac(t))Qy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,oi(b,v))return sc(t,i,h,0),yt===null&&rc(),!1}catch{}finally{}if(a=Nf(t,i,h,l),a!==null)return Wn(a,t,l),Yy(a,i,l),!0}return!1}function md(t,i,a,l){if(l={lane:2,revertLane:Qd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ac(t)){if(i)throw Error(s(479))}else i=Nf(t,a,l,2),i!==null&&Wn(i,t,2)}function Ac(t){var i=t.alternate;return t===qe||i!==null&&i===qe}function Qy(t,i){ho=vc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Yy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Un(t,a)}}var Rl={readContext:En,use:Tc,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};Rl.useEffectEvent=kt;var Ky={readContext:En,use:Tc,useCallback:function(t,i){return qn().memoizedState=[t,i===void 0?null:i],t},useContext:En,useEffect:Ny,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,bc(4194308,4,ky.bind(null,i,t),a)},useLayoutEffect:function(t,i){return bc(4194308,4,t,i)},useInsertionEffect:function(t,i){bc(4,2,t,i)},useMemo:function(t,i){var a=qn();i=i===void 0?null:i;var l=t();if(Aa){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=qn();if(a!==void 0){var h=a(i);if(Aa){Vn(!0);try{a(i)}finally{Vn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=gb.bind(null,qe,t),[l.memoizedState,t]},useRef:function(t){var i=qn();return t={current:t},i.memoizedState=t},useState:function(t){t=od(t);var i=t.queue,a=Gy.bind(null,qe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(t,i){var a=qn();return hd(a,t,i)},useTransition:function(){var t=od(!1);return t=jy.bind(null,qe,t.queue,!0,!1),qn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=qe,h=qn();if(tt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),yt===null)throw Error(s(349));(Xe&127)!==0||py(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ny(yy.bind(null,l,d,t),[t]),l.flags|=2048,mo(9,{destroy:void 0},gy.bind(null,l,d,a,i),null),a},useId:function(){var t=qn(),i=yt.identifierPrefix;if(tt){var a=ir,l=nr;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=_c++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=ub++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:dd,useFormState:Ry,useActionState:Ry,useOptimistic:function(t){var i=qn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=md.bind(null,qe,!0,a),a.dispatch=i,[t,i]},useMemoCache:rd,useCacheRefresh:function(){return qn().memoizedState=pb.bind(null,qe)},useEffectEvent:function(t){var i=qn(),a={impl:t};return i.memoizedState=a,function(){if((ut&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},pd={readContext:En,use:Tc,useCallback:Ly,useContext:En,useEffect:ud,useImperativeHandle:Py,useInsertionEffect:Oy,useLayoutEffect:Vy,useMemo:Uy,useReducer:wc,useRef:Dy,useState:function(){return wc(Rr)},useDebugValue:cd,useDeferredValue:function(t,i){var a=qt();return zy(a,dt.memoizedState,t,i)},useTransition:function(){var t=wc(Rr)[0],i=qt().memoizedState;return[typeof t=="boolean"?t:Sl(t),i]},useSyncExternalStore:my,useId:Hy,useHostTransitionStatus:dd,useFormState:Iy,useActionState:Iy,useOptimistic:function(t,i){var a=qt();return Ey(a,dt,t,i)},useMemoCache:rd,useCacheRefresh:Fy};pd.useEffectEvent=My;var $y={readContext:En,use:Tc,useCallback:Ly,useContext:En,useEffect:ud,useImperativeHandle:Py,useInsertionEffect:Oy,useLayoutEffect:Vy,useMemo:Uy,useReducer:ad,useRef:Dy,useState:function(){return ad(Rr)},useDebugValue:cd,useDeferredValue:function(t,i){var a=qt();return dt===null?hd(a,t,i):zy(a,dt.memoizedState,t,i)},useTransition:function(){var t=ad(Rr)[0],i=qt().memoizedState;return[typeof t=="boolean"?t:Sl(t),i]},useSyncExternalStore:my,useId:Hy,useHostTransitionStatus:dd,useFormState:xy,useActionState:xy,useOptimistic:function(t,i){var a=qt();return dt!==null?Ey(a,dt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:Fy};$y.useEffectEvent=My;function gd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var yd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=di(),h=ms(l);h.payload=i,a!=null&&(h.callback=a),i=ps(t,h,l),i!==null&&(Wn(i,t,l),El(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=di(),h=ms(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ps(t,h,l),i!==null&&(Wn(i,t,l),El(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=di(),l=ms(a);l.tag=2,i!=null&&(l.callback=i),i=ps(t,l,a),i!==null&&(Wn(i,t,a),El(i,t,a))}};function Xy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!fl(a,l)||!fl(h,d):!0}function Jy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&yd.enqueueReplaceState(i,i.state,null)}function Ra(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Wy(t){ic(t)}function Zy(t){console.error(t)}function ev(t){ic(t)}function Rc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function tv(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function vd(t,i,a){return a=ms(a),a.tag=3,a.payload={element:null},a.callback=function(){Rc(t,i)},a}function nv(t){return t=ms(t),t.tag=3,t}function iv(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){tv(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){tv(i,a,l),typeof h!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function yb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&so(i,a,h,!0),a=ui.current,a!==null){switch(a.tag){case 31:case 13:return xi===null?Uc():a.alternate===null&&Pt===0&&(Pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===dc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Hd(t,l,h)),!1;case 22:return a.flags|=65536,l===dc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Hd(t,l,h)),!1}throw Error(s(435,a.tag))}return Hd(t,l,h),Uc(),!1}if(tt)return i=ui.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Lf&&(t=Error(s(422),{cause:l}),pl(Ai(t,a)))):(l!==Lf&&(i=Error(s(423),{cause:l}),pl(Ai(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ai(l,a),h=vd(t.stateNode,l,h),Kf(t,h),Pt!==4&&(Pt=2)),!1;var d=Error(s(520),{cause:l});if(d=Ai(d,a),Vl===null?Vl=[d]:Vl.push(d),Pt!==4&&(Pt=2),i===null)return!0;l=Ai(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=vd(a.stateNode,l,t),Kf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ts===null||!Ts.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=nv(h),iv(h,t,a,l),Kf(a,h),!1}a=a.return}while(a!==null);return!1}var _d=Error(s(461)),$t=!1;function Tn(t,i,a,l){i.child=t===null?oy(i,null,a,l):Sa(i,t.child,a,l)}function rv(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Ea(i),l=ed(t,i,a,v,d,h),b=td(),t!==null&&!$t?(nd(t,i,h),Ir(t,i,h)):(tt&&b&&kf(i),i.flags|=1,Tn(t,i,l,h),i.child)}function sv(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Mf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,av(t,i,d,l,h)):(t=oc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Id(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(v,l)&&t.ref===i.ref)return Ir(t,i,h)}return i.flags|=1,t=Tr(d,l),t.ref=i.ref,t.return=i,i.child=t}function av(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(fl(d,l)&&t.ref===i.ref)if($t=!1,i.pendingProps=l=d,Id(t,h))(t.flags&131072)!==0&&($t=!0);else return i.lanes=t.lanes,Ir(t,i,h)}return Ed(t,i,a,l,h)}function ov(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return lv(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&hc(i,d!==null?d.cachePool:null),d!==null?cy(i,d):Xf(),hy(i);else return l=i.lanes=536870912,lv(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(hc(i,d.cachePool),cy(i,d),ys(),i.memoizedState=null):(t!==null&&hc(i,null),Xf(),ys());return Tn(t,i,h,a),i.child}function Il(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function lv(t,i,a,l,h){var d=Ff();return d=d===null?null:{parent:Yt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&hc(i,null),Xf(),hy(i),t!==null&&so(t,i,l,!0),i.childLanes=h,null}function Ic(t,i){return i=xc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function uv(t,i,a){return Sa(i,t.child,null,a),t=Ic(i,i.pendingProps),t.flags|=2,ci(i),i.memoizedState=null,t}function vb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(tt){if(l.mode==="hidden")return t=Ic(i,l),i.lanes=536870912,Il(null,t);if(Wf(i),(t=wt)?(t=T_(t,Ci),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:us!==null?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},a=Qg(t),a.return=i,i.child=a,_n=i,wt=null)):t=null,t===null)throw hs(i);return i.lanes=536870912,null}return Ic(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Wf(i),h)if(i.flags&256)i.flags&=-257,i=uv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if($t||so(t,i,a,!1),h=(a&t.childLanes)!==0,$t||h){if(l=yt,l!==null&&(v=yn(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,ga(t,v),Wn(l,t,v),_d;Uc(),i=uv(t,i,a)}else t=d.treeContext,wt=Di(v.nextSibling),_n=i,tt=!0,cs=null,Ci=!1,t!==null&&$g(i,t),i=Ic(i,l),i.flags|=4096;return i}return t=Tr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Cc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Ed(t,i,a,l,h){return Ea(i),a=ed(t,i,a,l,void 0,h),l=td(),t!==null&&!$t?(nd(t,i,h),Ir(t,i,h)):(tt&&l&&kf(i),i.flags|=1,Tn(t,i,a,h),i.child)}function cv(t,i,a,l,h,d){return Ea(i),i.updateQueue=null,a=dy(i,l,a,h),fy(t),l=td(),t!==null&&!$t?(nd(t,i,d),Ir(t,i,d)):(tt&&l&&kf(i),i.flags|=1,Tn(t,i,a,d),i.child)}function hv(t,i,a,l,h){if(Ea(i),i.stateNode===null){var d=to,v=a.contextType;typeof v=="object"&&v!==null&&(d=En(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Qf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?En(v):to,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(gd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&yd.enqueueReplaceState(d,d.state,null),wl(i,l,d,h),Tl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,x=Ra(a,b);d.props=x;var K=d.context,te=a.contextType;v=to,typeof te=="object"&&te!==null&&(v=En(te));var ae=a.getDerivedStateFromProps;te=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,te||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||K!==v)&&Jy(i,d,l,v),ds=!1;var $=i.memoizedState;d.state=$,wl(i,l,d,h),Tl(),K=i.memoizedState,b||$!==K||ds?(typeof ae=="function"&&(gd(i,a,ae,l),K=i.memoizedState),(x=ds||Xy(i,a,x,l,$,K,v))?(te||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=v,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Yf(t,i),v=i.memoizedProps,te=Ra(a,v),d.props=te,ae=i.pendingProps,$=d.context,K=a.contextType,x=to,typeof K=="object"&&K!==null&&(x=En(K)),b=a.getDerivedStateFromProps,(K=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ae||$!==x)&&Jy(i,d,l,x),ds=!1,$=i.memoizedState,d.state=$,wl(i,l,d,h),Tl();var J=i.memoizedState;v!==ae||$!==J||ds||t!==null&&t.dependencies!==null&&uc(t.dependencies)?(typeof b=="function"&&(gd(i,a,b,l),J=i.memoizedState),(te=ds||Xy(i,a,te,l,$,J,x)||t!==null&&t.dependencies!==null&&uc(t.dependencies))?(K||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,J,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,J,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=J),d.props=l,d.state=J,d.context=x,l=te):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Cc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Sa(i,t.child,null,h),i.child=Sa(i,null,a,h)):Tn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ir(t,i,h),t}function fv(t,i,a,l){return va(),i.flags|=256,Tn(t,i,a,l),i.child}var Td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wd(t){return{baseLanes:t,cachePool:ty()}}function bd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=fi),t}function dv(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Bt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(tt){if(h?gs(i):ys(),(t=wt)?(t=T_(t,Ci),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:us!==null?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},a=Qg(t),a.return=i,i.child=a,_n=i,wt=null)):t=null,t===null)throw hs(i);return sm(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(ys(),h=i.mode,b=xc({mode:"hidden",children:b},h),l=ya(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=wd(a),l.childLanes=bd(t,v,a),i.memoizedState=Td,Il(null,l)):(gs(i),Sd(i,b))}var x=t.memoizedState;if(x!==null&&(b=x.dehydrated,b!==null)){if(d)i.flags&256?(gs(i),i.flags&=-257,i=Ad(t,i,a)):i.memoizedState!==null?(ys(),i.child=t.child,i.flags|=128,i=null):(ys(),b=l.fallback,h=i.mode,l=xc({mode:"visible",children:l.children},h),b=ya(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Sa(i,t.child,null,a),l=i.child,l.memoizedState=wd(a),l.childLanes=bd(t,v,a),i.memoizedState=Td,i=Il(null,l));else if(gs(i),sm(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var K=v.dgst;v=K,l=Error(s(419)),l.stack="",l.digest=v,pl({value:l,source:null,stack:null}),i=Ad(t,i,a)}else if($t||so(t,i,a,!1),v=(a&t.childLanes)!==0,$t||v){if(v=yt,v!==null&&(l=yn(v,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,ga(t,l),Wn(v,t,l),_d;rm(b)||Uc(),i=Ad(t,i,a)}else rm(b)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,wt=Di(b.nextSibling),_n=i,tt=!0,cs=null,Ci=!1,t!==null&&$g(i,t),i=Sd(i,l.children),i.flags|=4096);return i}return h?(ys(),b=l.fallback,h=i.mode,x=t.child,K=x.sibling,l=Tr(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,K!==null?b=Tr(K,b):(b=ya(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Il(null,l),l=i.child,b=t.child.memoizedState,b===null?b=wd(a):(h=b.cachePool,h!==null?(x=Yt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=ty(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=bd(t,v,a),i.memoizedState=Td,Il(t.child,l)):(gs(i),a=t.child,t=a.sibling,a=Tr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Sd(t,i){return i=xc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function xc(t,i){return t=li(22,t,null,i),t.lanes=0,t}function Ad(t,i,a){return Sa(i,t.child,null,a),t=Sd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function mv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),jf(t.return,i,a)}function Rd(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function pv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=Bt.current,b=(v&2)!==0;if(b?(v=v&1|2,i.flags|=128):v&=1,Q(Bt,v),Tn(t,i,l,a),l=tt?ml:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mv(t,a,i);else if(t.tag===19)mv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&yc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Rd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&yc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Rd(i,!0,a,null,d,l);break;case"together":Rd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ir(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Es|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(so(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Tr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Tr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Id(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&uc(t)))}function _b(t,i,a){switch(i.tag){case 3:we(i,i.stateNode.containerInfo),fs(i,Yt,t.memoizedState.cache),va();break;case 27:case 5:ze(i);break;case 4:we(i,i.stateNode.containerInfo);break;case 10:fs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Wf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(gs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?dv(t,i,a):(gs(i),t=Ir(t,i,a),t!==null?t.sibling:null);gs(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(so(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return pv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Q(Bt,Bt.current),l)break;return null;case 22:return i.lanes=0,ov(t,i,a,i.pendingProps);case 24:fs(i,Yt,t.memoizedState.cache)}return Ir(t,i,a)}function gv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)$t=!0;else{if(!Id(t,a)&&(i.flags&128)===0)return $t=!1,_b(t,i,a);$t=(t.flags&131072)!==0}else $t=!1,tt&&(i.flags&1048576)!==0&&Kg(i,ml,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=wa(i.elementType),i.type=t,typeof t=="function")Mf(t)?(l=Ra(t,l),i.tag=1,i=hv(null,i,t,l,a)):(i.tag=0,i=Ed(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Ae){i.tag=11,i=rv(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=sv(null,i,t,l,a);break e}}throw i=At(t)||t,Error(s(306,i,""))}}return i;case 0:return Ed(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ra(l,i.pendingProps),hv(t,i,l,h,a);case 3:e:{if(we(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Yf(t,i),wl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,fs(i,Yt,l),l!==d.cache&&Bf(i,[Yt],a,!0),Tl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=fv(t,i,l,a);break e}else if(l!==h){h=Ai(Error(s(424)),i),pl(h),i=fv(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(wt=Di(t.firstChild),_n=i,tt=!0,cs=null,Ci=!0,a=oy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(va(),l===h){i=Ir(t,i,a);break e}Tn(t,i,l,a)}i=i.child}return i;case 26:return Cc(t,i),t===null?(a=I_(i.type,null,i.pendingProps,null))?i.memoizedState=a:tt||(a=i.type,t=i.pendingProps,l=Gc(me.current).createElement(a),l[It]=i,l[nn]=t,wn(l,a,t),se(l),i.stateNode=l):i.memoizedState=I_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ze(i),t===null&&tt&&(l=i.stateNode=S_(i.type,i.pendingProps,me.current),_n=i,Ci=!0,h=wt,As(i.type)?(am=h,wt=Di(l.firstChild)):wt=h),Tn(t,i,i.pendingProps.children,a),Cc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&tt&&((h=l=wt)&&(l=$b(l,i.type,i.pendingProps,Ci),l!==null?(i.stateNode=l,_n=i,wt=Di(l.firstChild),Ci=!1,h=!0):h=!1),h||hs(i)),ze(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,tm(h,d)?l=null:v!==null&&tm(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=ed(t,i,cb,null,null,a),ql._currentValue=h),Cc(t,i),Tn(t,i,l,a),i.child;case 6:return t===null&&tt&&((t=a=wt)&&(a=Xb(a,i.pendingProps,Ci),a!==null?(i.stateNode=a,_n=i,wt=null,t=!0):t=!1),t||hs(i)),null;case 13:return dv(t,i,a);case 4:return we(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Sa(i,null,l,a):Tn(t,i,l,a),i.child;case 11:return rv(t,i,i.type,i.pendingProps,a);case 7:return Tn(t,i,i.pendingProps,a),i.child;case 8:return Tn(t,i,i.pendingProps.children,a),i.child;case 12:return Tn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,fs(i,i.type,l.value),Tn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ea(i),h=En(h),l=l(h),i.flags|=1,Tn(t,i,l,a),i.child;case 14:return sv(t,i,i.type,i.pendingProps,a);case 15:return av(t,i,i.type,i.pendingProps,a);case 19:return pv(t,i,a);case 31:return vb(t,i,a);case 22:return ov(t,i,a,i.pendingProps);case 24:return Ea(i),l=En(Yt),t===null?(h=Ff(),h===null&&(h=yt,d=qf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Qf(i),fs(i,Yt,h)):((t.lanes&a)!==0&&(Yf(t,i),wl(i,null,null,a),Tl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),fs(i,Yt,l)):(l=d.cache,fs(i,Yt,l),l!==h.cache&&Bf(i,[Yt],a,!0))),Tn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Cr(t){t.flags|=4}function Cd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Hv())t.flags|=8192;else throw ba=dc,Gf}else t.flags&=-16777217}function yv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!M_(i))if(Hv())t.flags|=8192;else throw ba=dc,Gf}function Dc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ia():536870912,t.lanes|=i,vo|=i)}function Cl(t,i){if(!tt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function bt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Eb(t,i,a){var l=i.pendingProps;switch(Pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(i),null;case 1:return bt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Sr(Yt),be(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ro(i)?Cr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Uf())),bt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Cr(i),d!==null?(bt(i),yv(i,d)):(bt(i),Cd(i,h,null,l,a))):d?d!==t.memoizedState?(Cr(i),bt(i),yv(i,d)):(bt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Cr(i),bt(i),Cd(i,h,t,l,a)),null;case 27:if(je(i),a=me.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Cr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return bt(i),null}t=oe.current,ro(i)?Xg(i):(t=S_(h,l,a),i.stateNode=t,Cr(i))}return bt(i),null;case 5:if(je(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Cr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return bt(i),null}if(d=oe.current,ro(i))Xg(i);else{var v=Gc(me.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[It]=i,d[nn]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(wn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Cr(i)}}return bt(i),Cd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Cr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=me.current,ro(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=_n,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||d_(t.nodeValue,a)),t||hs(i,!0)}else t=Gc(t).createTextNode(l),t[It]=i,i.stateNode=t}return bt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ro(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[It]=i}else va(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bt(i),t=!1}else a=Uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(ci(i),i):(ci(i),null);if((i.flags&128)!==0)throw Error(s(558))}return bt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ro(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=i}else va(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bt(i),h=!1}else h=Uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ci(i),i):(ci(i),null)}return ci(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Dc(i,i.updateQueue),bt(i),null);case 4:return be(),t===null&&Xd(i.stateNode.containerInfo),bt(i),null;case 10:return Sr(i.type),bt(i),null;case 19:if(U(Bt),l=i.memoizedState,l===null)return bt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Cl(l,!1);else{if(Pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=yc(t),d!==null){for(i.flags|=128,Cl(l,!1),t=d.updateQueue,i.updateQueue=t,Dc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Gg(a,t),a=a.sibling;return Q(Bt,Bt.current&1|2),tt&&wr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Ot()>kc&&(i.flags|=128,h=!0,Cl(l,!1),i.lanes=4194304)}else{if(!h)if(t=yc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Dc(i,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!tt)return bt(i),null}else 2*Ot()-l.renderingStartTime>kc&&a!==536870912&&(i.flags|=128,h=!0,Cl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ot(),t.sibling=null,a=Bt.current,Q(Bt,h?a&1|2:a&1),tt&&wr(i,l.treeForkCount),t):(bt(i),null);case 22:case 23:return ci(i),Jf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(bt(i),i.subtreeFlags&6&&(i.flags|=8192)):bt(i),a=i.updateQueue,a!==null&&Dc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&U(Ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Sr(Yt),bt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Tb(t,i){switch(Pf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Sr(Yt),be(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return je(i),null;case 31:if(i.memoizedState!==null){if(ci(i),i.alternate===null)throw Error(s(340));va()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(ci(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));va()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return U(Bt),null;case 4:return be(),null;case 10:return Sr(i.type),null;case 22:case 23:return ci(i),Jf(),t!==null&&U(Ta),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Sr(Yt),null;case 25:return null;default:return null}}function vv(t,i){switch(Pf(i),i.tag){case 3:Sr(Yt),be();break;case 26:case 27:case 5:je(i);break;case 4:be();break;case 31:i.memoizedState!==null&&ci(i);break;case 13:ci(i);break;case 19:U(Bt);break;case 10:Sr(i.type);break;case 22:case 23:ci(i),Jf(),t!==null&&U(Ta);break;case 24:Sr(Yt)}}function xl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){ft(i,i.return,b)}}function vs(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var x=a,K=b;try{K()}catch(te){ft(h,x,te)}}}l=l.next}while(l!==d)}}catch(te){ft(i,i.return,te)}}function _v(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{uy(i,a)}catch(l){ft(t,t.return,l)}}}function Ev(t,i,a){a.props=Ra(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ft(t,i,l)}}function Dl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ft(t,i,h)}}function rr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ft(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ft(t,i,h)}else a.current=null}function Tv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ft(t,t.return,h)}}function xd(t,i,a){try{var l=t.stateNode;Hb(l,t.type,a,i),l[nn]=i}catch(h){ft(t,t.return,h)}}function wv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&As(t.type)||t.tag===4}function Dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&As(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=un));else if(l!==4&&(l===27&&As(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Nd(t,i,a),t=t.sibling;t!==null;)Nd(t,i,a),t=t.sibling}function Nc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&As(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nc(t,i,a),t=t.sibling;t!==null;)Nc(t,i,a),t=t.sibling}function bv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);wn(i,l,a),i[It]=t,i[nn]=a}catch(d){ft(t,t.return,d)}}var xr=!1,Xt=!1,Md=!1,Sv=typeof WeakSet=="function"?WeakSet:Set,fn=null;function wb(t,i){if(t=t.containerInfo,Zd=Wc,t=Pg(t),Af(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,x=-1,K=0,te=0,ae=t,$=null;t:for(;;){for(var J;ae!==a||h!==0&&ae.nodeType!==3||(b=v+h),ae!==d||l!==0&&ae.nodeType!==3||(x=v+l),ae.nodeType===3&&(v+=ae.nodeValue.length),(J=ae.firstChild)!==null;)$=ae,ae=J;for(;;){if(ae===t)break t;if($===a&&++K===h&&(b=v),$===d&&++te===l&&(x=v),(J=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=J}a=b===-1||x===-1?null:{start:b,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:t,selectionRange:a},Wc=!1,fn=i;fn!==null;)if(i=fn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,fn=t;else for(;fn!==null;){switch(i=fn,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var _e=Ra(a.type,h);t=l.getSnapshotBeforeUpdate(_e,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ne){ft(a,a.return,Ne)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)im(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,fn=t;break}fn=i.return}}function Av(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Nr(t,a),l&4&&xl(5,a);break;case 1:if(Nr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){ft(a,a.return,v)}else{var h=Ra(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ft(a,a.return,v)}}l&64&&_v(a),l&512&&Dl(a,a.return);break;case 3:if(Nr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{uy(t,i)}catch(v){ft(a,a.return,v)}}break;case 27:i===null&&l&4&&bv(a);case 26:case 5:Nr(t,a),i===null&&l&4&&Tv(a),l&512&&Dl(a,a.return);break;case 12:Nr(t,a);break;case 31:Nr(t,a),l&4&&Cv(t,a);break;case 13:Nr(t,a),l&4&&xv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Nb.bind(null,a),Jb(t,a))));break;case 22:if(l=a.memoizedState!==null||xr,!l){i=i!==null&&i.memoizedState!==null||Xt,h=xr;var d=Xt;xr=l,(Xt=i)&&!d?Mr(t,a,(a.subtreeFlags&8772)!==0):Nr(t,a),xr=h,Xt=d}break;case 30:break;default:Nr(t,a)}}function Rv(t){var i=t.alternate;i!==null&&(t.alternate=null,Rv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&zi(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ct=null,Kn=!1;function Dr(t,i,a){for(a=a.child;a!==null;)Iv(t,i,a),a=a.sibling}function Iv(t,i,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(zt,a)}catch{}switch(a.tag){case 26:Xt||rr(a,i),Dr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xt||rr(a,i);var l=Ct,h=Kn;As(a.type)&&(Ct=a.stateNode,Kn=!1),Dr(t,i,a),zl(a.stateNode),Ct=l,Kn=h;break;case 5:Xt||rr(a,i);case 6:if(l=Ct,h=Kn,Ct=null,Dr(t,i,a),Ct=l,Kn=h,Ct!==null)if(Kn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(a.stateNode)}catch(d){ft(a,i,d)}else try{Ct.removeChild(a.stateNode)}catch(d){ft(a,i,d)}break;case 18:Ct!==null&&(Kn?(t=Ct,__(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ro(t)):__(Ct,a.stateNode));break;case 4:l=Ct,h=Kn,Ct=a.stateNode.containerInfo,Kn=!0,Dr(t,i,a),Ct=l,Kn=h;break;case 0:case 11:case 14:case 15:vs(2,a,i),Xt||vs(4,a,i),Dr(t,i,a);break;case 1:Xt||(rr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ev(a,i,l)),Dr(t,i,a);break;case 21:Dr(t,i,a);break;case 22:Xt=(l=Xt)||a.memoizedState!==null,Dr(t,i,a),Xt=l;break;default:Dr(t,i,a)}}function Cv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ro(t)}catch(a){ft(i,i.return,a)}}}function xv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ro(t)}catch(a){ft(i,i.return,a)}}function bb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Sv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Sv),i;default:throw Error(s(435,t.tag))}}function Mc(t,i){var a=bb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Mb.bind(null,t,l);l.then(h,h)}})}function $n(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(As(b.type)){Ct=b.stateNode,Kn=!1;break e}break;case 5:Ct=b.stateNode,Kn=!1;break e;case 3:case 4:Ct=b.stateNode.containerInfo,Kn=!0;break e}b=b.return}if(Ct===null)throw Error(s(160));Iv(d,v,h),Ct=null,Kn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Dv(i,t),i=i.sibling}var Hi=null;function Dv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:$n(i,t),Xn(t),l&4&&(vs(3,t,t.return),xl(3,t),vs(5,t,t.return));break;case 1:$n(i,t),Xn(t),l&512&&(Xt||a===null||rr(a,a.return)),l&64&&xr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hi;if($n(i,t),Xn(t),l&512&&(Xt||a===null||rr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ui]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),wn(d,l,a),d[It]=t,se(d),l=d;break e;case"link":var v=D_("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),wn(d,l,a),h.head.appendChild(d);break;case"meta":if(v=D_("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),wn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,se(d),l=d}t.stateNode=l}else N_(h,t.type,t.stateNode);else t.stateNode=x_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?N_(h,t.type,t.stateNode):x_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xd(t,t.memoizedProps,a.memoizedProps)}break;case 27:$n(i,t),Xn(t),l&512&&(Xt||a===null||rr(a,a.return)),a!==null&&l&4&&xd(t,t.memoizedProps,a.memoizedProps);break;case 5:if($n(i,t),Xn(t),l&512&&(Xt||a===null||rr(a,a.return)),t.flags&32){h=t.stateNode;try{bi(h,"")}catch(_e){ft(t,t.return,_e)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,xd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Md=!0);break;case 6:if($n(i,t),Xn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(_e){ft(t,t.return,_e)}}break;case 3:if(Kc=null,h=Hi,Hi=Qc(i.containerInfo),$n(i,t),Hi=h,Xn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ro(i.containerInfo)}catch(_e){ft(t,t.return,_e)}Md&&(Md=!1,Nv(t));break;case 4:l=Hi,Hi=Qc(t.stateNode.containerInfo),$n(i,t),Xn(t),Hi=l;break;case 12:$n(i,t),Xn(t);break;case 31:$n(i,t),Xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mc(t,l)));break;case 13:$n(i,t),Xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vc=Ot()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mc(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,K=xr,te=Xt;if(xr=K||h,Xt=te||x,$n(i,t),Xt=te,xr=K,Xn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||xr||Xt||Ia(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=x.stateNode;var ae=x.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(_e){ft(x,x.return,_e)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(_e){ft(x,x.return,_e)}}}else if(i.tag===18){if(a===null){x=i;try{var J=x.stateNode;h?E_(J,!0):E_(x.stateNode,!1)}catch(_e){ft(x,x.return,_e)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Mc(t,a))));break;case 19:$n(i,t),Xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mc(t,l)));break;case 30:break;case 21:break;default:$n(i,t),Xn(t)}}function Xn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(wv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Dd(t);Nc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(bi(v,""),a.flags&=-33);var b=Dd(t);Nc(t,b,v);break;case 3:case 4:var x=a.stateNode.containerInfo,K=Dd(t);Nd(t,K,x);break;default:throw Error(s(161))}}catch(te){ft(t,t.return,te)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Nv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Nv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Nr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Av(t,i.alternate,i),i=i.sibling}function Ia(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:vs(4,i,i.return),Ia(i);break;case 1:rr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ev(i,i.return,a),Ia(i);break;case 27:zl(i.stateNode);case 26:case 5:rr(i,i.return),Ia(i);break;case 22:i.memoizedState===null&&Ia(i);break;case 30:Ia(i);break;default:Ia(i)}t=t.sibling}}function Mr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Mr(h,d,a),xl(4,d);break;case 1:if(Mr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(K){ft(l,l.return,K)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)ly(x[h],b)}catch(K){ft(l,l.return,K)}}a&&v&64&&_v(d),Dl(d,d.return);break;case 27:bv(d);case 26:case 5:Mr(h,d,a),a&&l===null&&v&4&&Tv(d),Dl(d,d.return);break;case 12:Mr(h,d,a);break;case 31:Mr(h,d,a),a&&v&4&&Cv(h,d);break;case 13:Mr(h,d,a),a&&v&4&&xv(h,d);break;case 22:d.memoizedState===null&&Mr(h,d,a),Dl(d,d.return);break;case 30:break;default:Mr(h,d,a)}i=i.sibling}}function Od(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&gl(a))}function Vd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&gl(t))}function Fi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Mv(t,i,a,l),i=i.sibling}function Mv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Fi(t,i,a,l),h&2048&&xl(9,i);break;case 1:Fi(t,i,a,l);break;case 3:Fi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&gl(t)));break;case 12:if(h&2048){Fi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){ft(i,i.return,x)}}else Fi(t,i,a,l);break;case 31:Fi(t,i,a,l);break;case 13:Fi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Fi(t,i,a,l):Nl(t,i):d._visibility&2?Fi(t,i,a,l):(d._visibility|=2,po(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Od(v,i);break;case 24:Fi(t,i,a,l),h&2048&&Vd(i.alternate,i);break;default:Fi(t,i,a,l)}}function po(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,b=a,x=l,K=v.flags;switch(v.tag){case 0:case 11:case 15:po(d,v,b,x,h),xl(8,v);break;case 23:break;case 22:var te=v.stateNode;v.memoizedState!==null?te._visibility&2?po(d,v,b,x,h):Nl(d,v):(te._visibility|=2,po(d,v,b,x,h)),h&&K&2048&&Od(v.alternate,v);break;case 24:po(d,v,b,x,h),h&&K&2048&&Vd(v.alternate,v);break;default:po(d,v,b,x,h)}i=i.sibling}}function Nl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Nl(a,l),h&2048&&Od(l.alternate,l);break;case 24:Nl(a,l),h&2048&&Vd(l.alternate,l);break;default:Nl(a,l)}i=i.sibling}}var Ml=8192;function go(t,i,a){if(t.subtreeFlags&Ml)for(t=t.child;t!==null;)Ov(t,i,a),t=t.sibling}function Ov(t,i,a){switch(t.tag){case 26:go(t,i,a),t.flags&Ml&&t.memoizedState!==null&&uS(a,Hi,t.memoizedState,t.memoizedProps);break;case 5:go(t,i,a);break;case 3:case 4:var l=Hi;Hi=Qc(t.stateNode.containerInfo),go(t,i,a),Hi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ml,Ml=16777216,go(t,i,a),Ml=l):go(t,i,a));break;default:go(t,i,a)}}function Vv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];fn=l,Pv(l,t)}Vv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kv(t),t=t.sibling}function kv(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&vs(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Oc(t)):Ol(t);break;default:Ol(t)}}function Oc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];fn=l,Pv(l,t)}Vv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:vs(8,i,i.return),Oc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(i));break;default:Oc(i)}t=t.sibling}}function Pv(t,i){for(;fn!==null;){var a=fn;switch(a.tag){case 0:case 11:case 15:vs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,fn=l;else e:for(a=t;fn!==null;){l=fn;var h=l.sibling,d=l.return;if(Rv(l),l===a){fn=null;break e}if(h!==null){h.return=d,fn=h;break e}fn=d}}}var Sb={getCacheForType:function(t){var i=En(Yt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return En(Yt).controller.signal}},Ab=typeof WeakMap=="function"?WeakMap:Map,ut=0,yt=null,Ke=null,Xe=0,ht=0,hi=null,_s=!1,yo=!1,kd=!1,Or=0,Pt=0,Es=0,Ca=0,Pd=0,fi=0,vo=0,Vl=null,Jn=null,Ld=!1,Vc=0,Lv=0,kc=1/0,Pc=null,Ts=null,sn=0,ws=null,_o=null,Vr=0,Ud=0,zd=null,Uv=null,kl=0,jd=null;function di(){return(ut&2)!==0&&Xe!==0?Xe&-Xe:ee.T!==null?Qd():ii()}function zv(){if(fi===0)if((Xe&536870912)===0||tt){var t=Pn;Pn<<=1,(Pn&3932160)===0&&(Pn=262144),fi=t}else fi=536870912;return t=ui.current,t!==null&&(t.flags|=32),fi}function Wn(t,i,a){(t===yt&&(ht===2||ht===9)||t.cancelPendingCommit!==null)&&(Eo(t,0),bs(t,Xe,fi,!1)),Ji(t,a),((ut&2)===0||t!==yt)&&(t===yt&&((ut&2)===0&&(Ca|=a),Pt===4&&bs(t,Xe,fi,!1)),sr(t))}function jv(t,i,a){if((ut&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Xi(t,i),h=l?Cb(t,i):qd(t,i,!0),d=l;do{if(h===0){yo&&!l&&bs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Rb(a)){h=qd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=Vl;var x=b.current.memoizedState.isDehydrated;if(x&&(Eo(b,v).flags|=256),v=qd(b,v,!1),v!==2){if(kd&&!x){b.errorRecoveryDisabledLanes|=d,Ca|=d,h=4;break e}d=Jn,Jn=h,d!==null&&(Jn===null?Jn=d:Jn.push.apply(Jn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Eo(t,0),bs(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:bs(l,i,fi,!_s);break e;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Vc+300-Ot(),10<h)){if(bs(l,i,fi,!_s),Ln(l,0,!0)!==0)break e;Vr=i,l.timeoutHandle=y_(Bv.bind(null,l,a,Jn,Pc,Ld,i,fi,Ca,vo,_s,d,"Throttled",-0,0),h);break e}Bv(l,a,Jn,Pc,Ld,i,fi,Ca,vo,_s,d,null,-0,0)}}break}while(!0);sr(t)}function Bv(t,i,a,l,h,d,v,b,x,K,te,ae,$,J){if(t.timeoutHandle=-1,ae=i.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:un},Ov(i,d,ae);var _e=(d&62914560)===d?Vc-Ot():(d&4194048)===d?Lv-Ot():0;if(_e=cS(ae,_e),_e!==null){Vr=d,t.cancelPendingCommit=_e($v.bind(null,t,i,d,a,l,h,v,b,x,te,ae,null,$,J)),bs(t,d,v,!K);return}}$v(t,i,d,a,l,h,v,b,x)}function Rb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!oi(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function bs(t,i,a,l){i&=~Pd,i&=~Ca,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-tn(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Li(t,a,i)}function Lc(){return(ut&6)===0?(Pl(0),!1):!0}function Bd(){if(Ke!==null){if(ht===0)var t=Ke.return;else t=Ke,br=_a=null,id(t),uo=null,vl=0,t=Ke;for(;t!==null;)vv(t.alternate,t),t=t.return;Ke=null}}function Eo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Qb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Vr=0,Bd(),yt=t,Ke=a=Tr(t.current,null),Xe=i,ht=0,hi=null,_s=!1,yo=Xi(t,i),kd=!1,vo=fi=Pd=Ca=Es=Pt=0,Jn=Vl=null,Ld=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-tn(l),d=1<<h;i|=t[h],l&=~d}return Or=i,rc(),a}function qv(t,i){qe=null,ee.H=Rl,i===lo||i===fc?(i=ry(),ht=3):i===Gf?(i=ry(),ht=4):ht=i===_d?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,hi=i,Ke===null&&(Pt=1,Rc(t,Ai(i,t.current)))}function Hv(){var t=ui.current;return t===null?!0:(Xe&4194048)===Xe?xi===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?t===xi:!1}function Fv(){var t=ee.H;return ee.H=Rl,t===null?Rl:t}function Gv(){var t=ee.A;return ee.A=Sb,t}function Uc(){Pt=4,_s||(Xe&4194048)!==Xe&&ui.current!==null||(yo=!0),(Es&134217727)===0&&(Ca&134217727)===0||yt===null||bs(yt,Xe,fi,!1)}function qd(t,i,a){var l=ut;ut|=2;var h=Fv(),d=Gv();(yt!==t||Xe!==i)&&(Pc=null,Eo(t,i)),i=!1;var v=Pt;e:do try{if(ht!==0&&Ke!==null){var b=Ke,x=hi;switch(ht){case 8:Bd(),v=6;break e;case 3:case 2:case 9:case 6:ui.current===null&&(i=!0);var K=ht;if(ht=0,hi=null,To(t,b,x,K),a&&yo){v=0;break e}break;default:K=ht,ht=0,hi=null,To(t,b,x,K)}}Ib(),v=Pt;break}catch(te){qv(t,te)}while(!0);return i&&t.shellSuspendCounter++,br=_a=null,ut=l,ee.H=h,ee.A=d,Ke===null&&(yt=null,Xe=0,rc()),v}function Ib(){for(;Ke!==null;)Qv(Ke)}function Cb(t,i){var a=ut;ut|=2;var l=Fv(),h=Gv();yt!==t||Xe!==i?(Pc=null,kc=Ot()+500,Eo(t,i)):yo=Xi(t,i);e:do try{if(ht!==0&&Ke!==null){i=Ke;var d=hi;t:switch(ht){case 1:ht=0,hi=null,To(t,i,d,1);break;case 2:case 9:if(ny(d)){ht=0,hi=null,Yv(i);break}i=function(){ht!==2&&ht!==9||yt!==t||(ht=7),sr(t)},d.then(i,i);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:ny(d)?(ht=0,hi=null,Yv(i)):(ht=0,hi=null,To(t,i,d,7));break;case 5:var v=null;switch(Ke.tag){case 26:v=Ke.memoizedState;case 5:case 27:var b=Ke;if(v?M_(v):b.stateNode.complete){ht=0,hi=null;var x=b.sibling;if(x!==null)Ke=x;else{var K=b.return;K!==null?(Ke=K,zc(K)):Ke=null}break t}}ht=0,hi=null,To(t,i,d,5);break;case 6:ht=0,hi=null,To(t,i,d,6);break;case 8:Bd(),Pt=6;break e;default:throw Error(s(462))}}xb();break}catch(te){qv(t,te)}while(!0);return br=_a=null,ee.H=l,ee.A=h,ut=a,Ke!==null?0:(yt=null,Xe=0,rc(),Pt)}function xb(){for(;Ke!==null&&!ta();)Qv(Ke)}function Qv(t){var i=gv(t.alternate,t,Or);t.memoizedProps=t.pendingProps,i===null?zc(t):Ke=i}function Yv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=cv(a,i,i.pendingProps,i.type,void 0,Xe);break;case 11:i=cv(a,i,i.pendingProps,i.type.render,i.ref,Xe);break;case 5:id(i);default:vv(a,i),i=Ke=Gg(i,Or),i=gv(a,i,Or)}t.memoizedProps=t.pendingProps,i===null?zc(t):Ke=i}function To(t,i,a,l){br=_a=null,id(i),uo=null,vl=0;var h=i.return;try{if(yb(t,h,i,a,Xe)){Pt=1,Rc(t,Ai(a,t.current)),Ke=null;return}}catch(d){if(h!==null)throw Ke=h,d;Pt=1,Rc(t,Ai(a,t.current)),Ke=null;return}i.flags&32768?(tt||l===1?t=!0:yo||(Xe&536870912)!==0?t=!1:(_s=t=!0,(l===2||l===9||l===3||l===6)&&(l=ui.current,l!==null&&l.tag===13&&(l.flags|=16384))),Kv(i,t)):zc(i)}function zc(t){var i=t;do{if((i.flags&32768)!==0){Kv(i,_s);return}t=i.return;var a=Eb(i.alternate,i,Or);if(a!==null){Ke=a;return}if(i=i.sibling,i!==null){Ke=i;return}Ke=i=t}while(i!==null);Pt===0&&(Pt=5)}function Kv(t,i){do{var a=Tb(t.alternate,t);if(a!==null){a.flags&=32767,Ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ke=t;return}Ke=t=a}while(t!==null);Pt=6,Ke=null}function $v(t,i,a,l,h,d,v,b,x){t.cancelPendingCommit=null;do jc();while(sn!==0);if((ut&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Df,Dt(t,a,d,v,b,x),t===yt&&(Ke=yt=null,Xe=0),_o=i,ws=t,Vr=a,Ud=d,zd=h,Uv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ob(ti,function(){return e_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null,h=de.p,de.p=2,v=ut,ut|=4;try{wb(t,i,a)}finally{ut=v,de.p=h,ee.T=l}}sn=1,Xv(),Jv(),Wv()}}function Xv(){if(sn===1){sn=0;var t=ws,i=_o,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=ee.T,ee.T=null;var l=de.p;de.p=2;var h=ut;ut|=4;try{Dv(i,t);var d=em,v=Pg(t.containerInfo),b=d.focusedElem,x=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&kg(b.ownerDocument.documentElement,b)){if(x!==null&&Af(b)){var K=x.start,te=x.end;if(te===void 0&&(te=K),"selectionStart"in b)b.selectionStart=K,b.selectionEnd=Math.min(te,b.value.length);else{var ae=b.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var J=$.getSelection(),_e=b.textContent.length,Ne=Math.min(x.start,_e),pt=x.end===void 0?Ne:Math.min(x.end,_e);!J.extend&&Ne>pt&&(v=pt,pt=Ne,Ne=v);var z=Vg(b,Ne),M=Vg(b,pt);if(z&&M&&(J.rangeCount!==1||J.anchorNode!==z.node||J.anchorOffset!==z.offset||J.focusNode!==M.node||J.focusOffset!==M.offset)){var Y=ae.createRange();Y.setStart(z.node,z.offset),J.removeAllRanges(),Ne>pt?(J.addRange(Y),J.extend(M.node,M.offset)):(Y.setEnd(M.node,M.offset),J.addRange(Y))}}}}for(ae=[],J=b;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ae.length;b++){var ne=ae[b];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Wc=!!Zd,em=Zd=null}finally{ut=h,de.p=l,ee.T=a}}t.current=i,sn=2}}function Jv(){if(sn===2){sn=0;var t=ws,i=_o,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=ee.T,ee.T=null;var l=de.p;de.p=2;var h=ut;ut|=4;try{Av(t,i.alternate,i)}finally{ut=h,de.p=l,ee.T=a}}sn=3}}function Wv(){if(sn===4||sn===3){sn=0,mr();var t=ws,i=_o,a=Vr,l=Uv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?sn=5:(sn=0,_o=ws=null,Zv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ts=null),ra(a),i=i.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(zt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=ee.T,h=de.p,de.p=2,ee.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{ee.T=i,de.p=h}}(Vr&3)!==0&&jc(),sr(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===jd?kl++:(kl=0,jd=t):kl=0,Pl(0)}}function Zv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,gl(i)))}function jc(){return Xv(),Jv(),Wv(),e_()}function e_(){if(sn!==5)return!1;var t=ws,i=Ud;Ud=0;var a=ra(Vr),l=ee.T,h=de.p;try{de.p=32>a?32:a,ee.T=null,a=zd,zd=null;var d=ws,v=Vr;if(sn=0,_o=ws=null,Vr=0,(ut&6)!==0)throw Error(s(331));var b=ut;if(ut|=4,kv(d.current),Mv(d,d.current,v,a),ut=b,Pl(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(zt,d)}catch{}return!0}finally{de.p=h,ee.T=l,Zv(t,i)}}function t_(t,i,a){i=Ai(a,i),i=vd(t.stateNode,i,2),t=ps(t,i,2),t!==null&&(Ji(t,2),sr(t))}function ft(t,i,a){if(t.tag===3)t_(t,t,a);else for(;i!==null;){if(i.tag===3){t_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ts===null||!Ts.has(l))){t=Ai(a,t),a=nv(2),l=ps(i,a,2),l!==null&&(iv(a,l,i,t),Ji(l,2),sr(l));break}}i=i.return}}function Hd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Ab;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(kd=!0,h.add(a),t=Db.bind(null,t,i,a),i.then(t,t))}function Db(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,yt===t&&(Xe&a)===a&&(Pt===4||Pt===3&&(Xe&62914560)===Xe&&300>Ot()-Vc?(ut&2)===0&&Eo(t,0):Pd|=a,vo===Xe&&(vo=0)),sr(t)}function n_(t,i){i===0&&(i=ia()),t=ga(t,i),t!==null&&(Ji(t,i),sr(t))}function Nb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),n_(t,a)}function Mb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),n_(t,a)}function Ob(t,i){return Ft(t,i)}var Bc=null,wo=null,Fd=!1,qc=!1,Gd=!1,Ss=0;function sr(t){t!==wo&&t.next===null&&(wo===null?Bc=wo=t:wo=wo.next=t),qc=!0,Fd||(Fd=!0,kb())}function Pl(t,i){if(!Gd&&qc){Gd=!0;do for(var a=!1,l=Bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-tn(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,a_(l,d))}else d=Xe,d=Ln(l,l===yt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Xi(l,d)||(a=!0,a_(l,d));l=l.next}while(a);Gd=!1}}function Vb(){i_()}function i_(){qc=Fd=!1;var t=0;Ss!==0&&Gb()&&(t=Ss);for(var i=Ot(),a=null,l=Bc;l!==null;){var h=l.next,d=r_(l,i);d===0?(l.next=null,a===null?Bc=h:a.next=h,h===null&&(wo=a)):(a=l,(t!==0||(d&3)!==0)&&(qc=!0)),l=h}sn!==0&&sn!==5||Pl(t),Ss!==0&&(Ss=0)}function r_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-tn(d),b=1<<v,x=h[v];x===-1?((b&a)===0||(b&l)!==0)&&(h[v]=Wr(b,i)):x<=i&&(t.expiredLanes|=b),d&=~b}if(i=yt,a=Xe,a=Ln(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(ht===2||ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ki(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Xi(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ki(l),ra(a)){case 2:case 8:a=Et;break;case 32:a=ti;break;case 268435456:a=_i;break;default:a=ti}return l=s_.bind(null,t),a=Ft(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ki(l),t.callbackPriority=2,t.callbackNode=null,2}function s_(t,i){if(sn!==0&&sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(jc()&&t.callbackNode!==a)return null;var l=Xe;return l=Ln(t,t===yt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(jv(t,l,i),r_(t,Ot()),t.callbackNode!=null&&t.callbackNode===a?s_.bind(null,t):null)}function a_(t,i){if(jc())return null;jv(t,i,!0)}function kb(){Yb(function(){(ut&6)!==0?Ft(_t,Vb):i_()})}function Qd(){if(Ss===0){var t=ao;t===0&&(t=kn,kn<<=1,(kn&261888)===0&&(kn=256)),Ss=t}return Ss}function o_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zi(""+t)}function l_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Pb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=o_((h[nn]||null).action),v=l.submitter;v&&(i=(i=v[nn]||null)?o_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var b=new ua("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ss!==0){var x=v?l_(h,v):new FormData(h);fd(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(b.preventDefault(),x=v?l_(h,v):new FormData(h),fd(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var Yd=0;Yd<xf.length;Yd++){var Kd=xf[Yd],Lb=Kd.toLowerCase(),Ub=Kd[0].toUpperCase()+Kd.slice(1);qi(Lb,"on"+Ub)}qi(zg,"onAnimationEnd"),qi(jg,"onAnimationIteration"),qi(Bg,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(eb,"onTransitionRun"),qi(tb,"onTransitionStart"),qi(nb,"onTransitionCancel"),qi(qg,"onTransitionEnd"),nt("onMouseEnter",["mouseout","mouseover"]),nt("onMouseLeave",["mouseout","mouseover"]),nt("onPointerEnter",["pointerout","pointerover"]),nt("onPointerLeave",["pointerout","pointerover"]),Se("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Se("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Se("onBeforeInput",["compositionend","keypress","textInput","paste"]),Se("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Se("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Se("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function u_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var b=l[v],x=b.instance,K=b.currentTarget;if(b=b.listener,x!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=K;try{d(h)}catch(te){ic(te)}h.currentTarget=null,d=x}else for(v=0;v<l.length;v++){if(b=l[v],x=b.instance,K=b.currentTarget,b=b.listener,x!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=K;try{d(h)}catch(te){ic(te)}h.currentTarget=null,d=x}}}}function $e(t,i){var a=i[ri];a===void 0&&(a=i[ri]=new Set);var l=t+"__bubble";a.has(l)||(c_(i,t,2,!1),a.add(l))}function $d(t,i,a){var l=0;i&&(l|=4),c_(a,t,l,i)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function Xd(t){if(!t[Hc]){t[Hc]=!0,ye.forEach(function(a){a!=="selectionchange"&&(zb.has(a)||$d(a,!1,t),$d(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Hc]||(i[Hc]=!0,$d("selectionchange",!1,i))}}function c_(t,i,a,l){switch(z_(i)){case 2:var h=dS;break;case 8:h=mS;break;default:h=hm}a=h.bind(null,i,a,t),h=void 0,!sl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Jd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=vn(b),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Bu(function(){var K=d,te=Ya(a),ae=[];e:{var $=Hg.get(t);if($!==void 0){var J=ua,_e=t;switch(t){case"keypress":if(la(a)===0)break e;case"keydown":case"keyup":J=Xu;break;case"focusin":_e="focus",J=ss;break;case"focusout":_e="blur",J=ss;break;case"beforeblur":case"afterblur":J=ss;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Wu;break;case zg:case jg:case Bg:J=Xa;break;case qg:J=Ja;break;case"scroll":case"scrollend":J=qu;break;case"wheel":J=ec;break;case"copy":case"cut":case"paste":J=Qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=cl;break;case"toggle":case"beforetoggle":J=os}var Ne=(i&4)!==0,pt=!Ne&&(t==="scroll"||t==="scrollend"),z=Ne?$!==null?$+"Capture":null:$;Ne=[];for(var M=K,Y;M!==null;){var ne=M;if(Y=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Y===null||z===null||(ne=Qn(M,z),ne!=null&&Ne.push(Ul(M,ne,Y))),pt)break;M=M.return}0<Ne.length&&($=new J($,_e,null,a,te),ae.push({event:$,listeners:Ne}))}}if((i&7)===0){e:{if($=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",$&&a!==Qa&&(_e=a.relatedTarget||a.fromElement)&&(vn(_e)||_e[Ti]))break e;if((J||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,J?(_e=a.relatedTarget||a.toElement,J=K,_e=_e?vn(_e):null,_e!==null&&(pt=u(_e),Ne=_e.tag,_e!==pt||Ne!==5&&Ne!==27&&Ne!==6)&&(_e=null)):(J=null,_e=K),J!==_e)){if(Ne=Hu,ne="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=cl,ne="onPointerLeave",z="onPointerEnter",M="pointer"),pt=J==null?$:F(J),Y=_e==null?$:F(_e),$=new Ne(ne,M+"leave",J,a,te),$.target=pt,$.relatedTarget=Y,ne=null,vn(te)===K&&(Ne=new Ne(z,M+"enter",_e,a,te),Ne.target=Y,Ne.relatedTarget=pt,ne=Ne),pt=ne,J&&_e)t:{for(Ne=jb,z=J,M=_e,Y=0,ne=z;ne;ne=Ne(ne))Y++;ne=0;for(var Ce=M;Ce;Ce=Ne(Ce))ne++;for(;0<Y-ne;)z=Ne(z),Y--;for(;0<ne-Y;)M=Ne(M),ne--;for(;Y--;){if(z===M||M!==null&&z===M.alternate){Ne=z;break t}z=Ne(z),M=Ne(M)}Ne=null}else Ne=null;J!==null&&h_(ae,$,J,Ne,!1),_e!==null&&pt!==null&&h_(ae,pt,_e,Ne,!0)}}e:{if($=K?F(K):window,J=$.nodeName&&$.nodeName.toLowerCase(),J==="select"||J==="input"&&$.type==="file")var at=Cg;else if(Yn($))if(xg)at=Jw;else{at=$w;var Te=Kw}else J=$.nodeName,!J||J.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&il(K.elementType)&&(at=Cg):at=Xw;if(at&&(at=at(t,K))){da(ae,at,a,te);break e}Te&&Te(t,$,K),t==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&Ga($,"number",$.value)}switch(Te=K?F(K):window,t){case"focusin":(Yn(Te)||Te.contentEditable==="true")&&(Wa=Te,Rf=K,dl=null);break;case"focusout":dl=Rf=Wa=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Lg(ae,a,te);break;case"selectionchange":if(Zw)break;case"keydown":case"keyup":Lg(ae,a,te)}var He;if(y)e:{switch(t){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Ge?ct(t,a)&&(Je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Je="onCompositionStart");Je&&(H&&a.locale!=="ko"&&(Ge||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Ge&&(He=ts()):(ai=te,Ka="value"in ai?ai.value:ai.textContent,Ge=!0)),Te=Fc(K,Je),0<Te.length&&(Je=new ol(Je,t,null,a,te),ae.push({event:Je,listeners:Te}),He?Je.data=He:(He=Qt(a),He!==null&&(Je.data=He)))),(He=S?cn(t,a):hn(t,a))&&(Je=Fc(K,"onBeforeInput"),0<Je.length&&(Te=new ol("onBeforeInput","beforeinput",null,a,te),ae.push({event:Te,listeners:Je}),Te.data=He)),Pb(ae,t,K,a,te)}u_(ae,i)})}function Ul(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Fc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(t,a),h!=null&&l.unshift(Ul(t,h,d)),h=Qn(t,i),h!=null&&l.push(Ul(t,h,d))),t.tag===3)return l;t=t.return}return[]}function jb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function h_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var b=a,x=b.alternate,K=b.stateNode;if(b=b.tag,x!==null&&x===l)break;b!==5&&b!==26&&b!==27||K===null||(x=K,h?(K=Qn(a,d),K!=null&&v.unshift(Ul(a,K,x))):h||(K=Qn(a,d),K!=null&&v.push(Ul(a,K,x)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Bb=/\r\n?/g,qb=/\u0000|\uFFFD/g;function f_(t){return(typeof t=="string"?t:""+t).replace(Bb,`
`).replace(qb,"")}function d_(t,i){return i=f_(i),f_(t)===i}function mt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||bi(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&bi(t,""+l);break;case"className":Gn(t,"class",l);break;case"tabIndex":Gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(t,a,l);break;case"style":zu(t,l,d);break;case"data":if(i!=="object"){Gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zi(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&mt(t,i,"name",h.name,h,null),mt(t,i,"formEncType",h.formEncType,h,null),mt(t,i,"formMethod",h.formMethod,h,null),mt(t,i,"formTarget",h.formTarget,h,null)):(mt(t,i,"encType",h.encType,h,null),mt(t,i,"method",h.method,h,null),mt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zi(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=un);break;case"onScroll":l!=null&&$e("scroll",t);break;case"onScrollEnd":l!=null&&$e("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Zi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":$e("beforetoggle",t),$e("toggle",t),Fn(t,"popover",l);break;case"xlinkActuate":rn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":rn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":rn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":rn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":rn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":rn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":rn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":rn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":rn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ef.get(a)||a,Fn(t,a,l))}}function Wd(t,i,a,l,h,d){switch(a){case"style":zu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?bi(t,l):(typeof l=="number"||typeof l=="bigint")&&bi(t,""+l);break;case"onScroll":l!=null&&$e("scroll",t);break;case"onScrollEnd":l!=null&&$e("scrollend",t);break;case"onClick":l!=null&&(t.onclick=un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ve.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[nn]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Fn(t,a,l)}}}function wn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",t),$e("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:mt(t,i,d,v,a,null)}}h&&mt(t,i,"srcSet",a.srcSet,a,null),l&&mt(t,i,"src",a.src,a,null);return;case"input":$e("invalid",t);var b=d=v=h=null,x=null,K=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":h=te;break;case"type":v=te;break;case"checked":x=te;break;case"defaultChecked":K=te;break;case"value":d=te;break;case"defaultValue":b=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:mt(t,i,l,te,a,null)}}aa(t,d,b,x,K,v,h,!1);return;case"select":$e("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:mt(t,i,h,b,a,null)}i=d,a=v,t.multiple=!!l,i!=null?st(t,!!l,i,!1):a!=null&&st(t,!!l,a,!0);return;case"textarea":$e("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:mt(t,i,v,b,a,null)}es(t,l,h,d);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:mt(t,i,x,l,a,null)}return;case"dialog":$e("beforetoggle",t),$e("toggle",t),$e("cancel",t),$e("close",t);break;case"iframe":case"object":$e("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)$e(Ll[l],t);break;case"image":$e("error",t),$e("load",t);break;case"details":$e("toggle",t);break;case"embed":case"source":case"link":$e("error",t),$e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(l=a[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:mt(t,i,K,l,a,null)}return;default:if(il(i)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&Wd(t,i,te,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&mt(t,i,b,l,a,null))}function Hb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,x=null,K=null,te=null;for(J in a){var ae=a[J];if(a.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":x=ae;default:l.hasOwnProperty(J)||mt(t,i,J,null,l,ae)}}for(var $ in l){var J=l[$];if(ae=a[$],l.hasOwnProperty($)&&(J!=null||ae!=null))switch($){case"type":d=J;break;case"name":h=J;break;case"checked":K=J;break;case"defaultChecked":te=J;break;case"value":v=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:J!==ae&&mt(t,i,$,J,l,ae)}}Zr(t,v,b,x,K,te,d,h);return;case"select":J=v=b=$=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":J=x;default:l.hasOwnProperty(d)||mt(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":$=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==x&&mt(t,i,h,d,l,x)}i=b,a=v,l=J,$!=null?st(t,!!a,$,!1):!!l!=!!a&&(i!=null?st(t,!!a,i,!0):st(t,!!a,a?[]:"",!1));return;case"textarea":J=$=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:mt(t,i,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":$=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&mt(t,i,v,h,l,d)}oa(t,$,J);return;case"option":for(var _e in a)if($=a[_e],a.hasOwnProperty(_e)&&$!=null&&!l.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:mt(t,i,_e,null,l,$)}for(x in l)if($=l[x],J=a[x],l.hasOwnProperty(x)&&$!==J&&($!=null||J!=null))switch(x){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:mt(t,i,x,$,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)$=a[Ne],a.hasOwnProperty(Ne)&&$!=null&&!l.hasOwnProperty(Ne)&&mt(t,i,Ne,null,l,$);for(K in l)if($=l[K],J=a[K],l.hasOwnProperty(K)&&$!==J&&($!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:mt(t,i,K,$,l,J)}return;default:if(il(i)){for(var pt in a)$=a[pt],a.hasOwnProperty(pt)&&$!==void 0&&!l.hasOwnProperty(pt)&&Wd(t,i,pt,void 0,l,$);for(te in l)$=l[te],J=a[te],!l.hasOwnProperty(te)||$===J||$===void 0&&J===void 0||Wd(t,i,te,$,l,J);return}}for(var z in a)$=a[z],a.hasOwnProperty(z)&&$!=null&&!l.hasOwnProperty(z)&&mt(t,i,z,null,l,$);for(ae in l)$=l[ae],J=a[ae],!l.hasOwnProperty(ae)||$===J||$==null&&J==null||mt(t,i,ae,$,l,J)}function m_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Fb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,b=h.duration;if(d&&b&&m_(v)){for(v=0,b=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],K=x.startTime;if(K>b)break;var te=x.transferSize,ae=x.initiatorType;te&&m_(ae)&&(x=x.responseEnd,v+=te*(x<b?1:(b-K)/(x-K)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Zd=null,em=null;function Gc(t){return t.nodeType===9?t:t.ownerDocument}function p_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function tm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nm=null;function Gb(){var t=window.event;return t&&t.type==="popstate"?t===nm?!1:(nm=t,!0):(nm=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,Qb=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,Yb=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(t){return v_.resolve(null).then(t).catch(Kb)}:y_;function Kb(t){setTimeout(function(){throw t})}function As(t){return t==="head"}function __(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ro(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")zl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,zl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[Ui]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&zl(t.ownerDocument.body);a=h}while(a);Ro(i)}function E_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function im(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),zi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function $b(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ui])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Di(t.nextSibling),t===null)break}return null}function Xb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Di(t.nextSibling),t===null))return null;return t}function T_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Di(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$?"||t.data==="$~"}function sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Jb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Di(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var am=null;function w_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Di(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function b_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function S_(t,i,a){switch(i=Gc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function zl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);zi(t)}var Ni=new Map,A_=new Set;function Qc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var kr=de.d;de.d={f:Wb,r:Zb,D:eS,C:tS,L:nS,m:iS,X:sS,S:rS,M:aS};function Wb(){var t=kr.f(),i=Lc();return t||i}function Zb(t){var i=I(t);i!==null&&i.tag===5&&i.type==="form"?qy(i):kr.r(t)}var bo=typeof document>"u"?null:document;function R_(t,i,a){var l=bo;if(l&&typeof i=="string"&&i){var h=Vt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),A_.has(h)||(A_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),wn(i,"link",t),se(i),l.head.appendChild(i)))}}function eS(t){kr.D(t),R_("dns-prefetch",t,null)}function tS(t,i){kr.C(t,i),R_("preconnect",t,i)}function nS(t,i,a){kr.L(t,i,a);var l=bo;if(l&&t&&i){var h='link[rel="preload"][as="'+Vt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Vt(a.imageSizes)+'"]')):h+='[href="'+Vt(t)+'"]';var d=h;switch(i){case"style":d=So(t);break;case"script":d=Ao(t)}Ni.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ni.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(jl(d))||i==="script"&&l.querySelector(Bl(d))||(i=l.createElement("link"),wn(i,"link",t),se(i),l.head.appendChild(i)))}}function iS(t,i){kr.m(t,i);var a=bo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Vt(l)+'"][href="'+Vt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ao(t)}if(!Ni.has(d)&&(t=w({rel:"modulepreload",href:t},i),Ni.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(d)))return}l=a.createElement("link"),wn(l,"link",t),se(l),a.head.appendChild(l)}}}function rS(t,i,a){kr.S(t,i,a);var l=bo;if(l&&t){var h=X(l).hoistableStyles,d=So(t);i=i||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(jl(d)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ni.get(d))&&om(t,a);var x=v=l.createElement("link");se(x),wn(x,"link",t),x._p=new Promise(function(K,te){x.onload=K,x.onerror=te}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Yc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function sS(t,i){kr.X(t,i);var a=bo;if(a&&t){var l=X(a).hoistableScripts,h=Ao(t),d=l.get(h);d||(d=a.querySelector(Bl(h)),d||(t=w({src:t,async:!0},i),(i=Ni.get(h))&&lm(t,i),d=a.createElement("script"),se(d),wn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function aS(t,i){kr.M(t,i);var a=bo;if(a&&t){var l=X(a).hoistableScripts,h=Ao(t),d=l.get(h);d||(d=a.querySelector(Bl(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=Ni.get(h))&&lm(t,i),d=a.createElement("script"),se(d),wn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function I_(t,i,a,l){var h=(h=me.current)?Qc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=So(a.href),a=X(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=So(a.href);var d=X(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(jl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Ni.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ni.set(t,a),d||oS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ao(a),a=X(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function So(t){return'href="'+Vt(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function C_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function oS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),wn(i,"link",a),se(i),t.head.appendChild(i))}function Ao(t){return'[src="'+Vt(t)+'"]'}function Bl(t){return"script[async]"+t}function x_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Vt(a.href)+'"]');if(l)return i.instance=l,se(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),se(l),wn(l,"style",h),Yc(l,a.precedence,t),i.instance=l;case"stylesheet":h=So(a.href);var d=t.querySelector(jl(h));if(d)return i.state.loading|=4,i.instance=d,se(d),d;l=C_(a),(h=Ni.get(h))&&om(l,h),d=(t.ownerDocument||t).createElement("link"),se(d);var v=d;return v._p=new Promise(function(b,x){v.onload=b,v.onerror=x}),wn(d,"link",l),i.state.loading|=4,Yc(d,a.precedence,t),i.instance=d;case"script":return d=Ao(a.src),(h=t.querySelector(Bl(d)))?(i.instance=h,se(h),h):(l=a,(h=Ni.get(d))&&(l=w({},a),lm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),se(h),wn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Yc(l,a.precedence,t));return i.instance}function Yc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function lm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Kc=null;function D_(t,i,a){if(Kc===null){var l=new Map,h=Kc=new Map;h.set(a,l)}else h=Kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ui]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function N_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function lS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function M_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function uS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=So(l.href),d=i.querySelector(jl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=$c.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,se(d);return}d=i.ownerDocument||i,l=C_(l),(h=Ni.get(h))&&om(l,h),d=d.createElement("link"),se(d);var v=d;v._p=new Promise(function(b,x){v.onload=b,v.onerror=x}),wn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=$c.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var um=0;function cS(t,i){return t.stylesheets&&t.count===0&&Jc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Jc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&um===0&&(um=62500*Fb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Jc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>um?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function $c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xc=null;function Jc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xc=new Map,i.forEach(hS,t),Xc=null,$c.call(t))}function hS(t,i){if(!(i.state.loading&4)){var a=Xc.get(t);if(a)var l=a.get(null);else{a=new Map,Xc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=$c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ql={$$typeof:re,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function fS(t,i,a,l,h,d,v,b,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function O_(t,i,a,l,h,d,v,b,x,K,te,ae){return t=new fS(t,i,a,v,x,K,te,ae,b),i=1,d===!0&&(i|=24),d=li(3,null,null,i),t.current=d,d.stateNode=t,i=qf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Qf(d),t}function V_(t){return t?(t=to,t):to}function k_(t,i,a,l,h,d){h=V_(h),l.context===null?l.context=h:l.pendingContext=h,l=ms(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ps(t,l,i),a!==null&&(Wn(a,t,i),El(a,t,i))}function P_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function cm(t,i){P_(t,i),(t=t.alternate)&&P_(t,i)}function L_(t){if(t.tag===13||t.tag===31){var i=ga(t,67108864);i!==null&&Wn(i,t,67108864),cm(t,67108864)}}function U_(t){if(t.tag===13||t.tag===31){var i=di();i=Wi(i);var a=ga(t,i);a!==null&&Wn(a,t,i),cm(t,i)}}var Wc=!0;function dS(t,i,a,l){var h=ee.T;ee.T=null;var d=de.p;try{de.p=2,hm(t,i,a,l)}finally{de.p=d,ee.T=h}}function mS(t,i,a,l){var h=ee.T;ee.T=null;var d=de.p;try{de.p=8,hm(t,i,a,l)}finally{de.p=d,ee.T=h}}function hm(t,i,a,l){if(Wc){var h=fm(l);if(h===null)Jd(t,i,l,Zc,a),j_(t,l);else if(gS(h,t,i,a,l))l.stopPropagation();else if(j_(t,l),i&4&&-1<pS.indexOf(t)){for(;h!==null;){var d=I(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ni(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var x=1<<31-tn(v);b.entanglements[1]|=x,v&=~x}sr(d),(ut&6)===0&&(kc=Ot()+500,Pl(0))}}break;case 31:case 13:b=ga(d,2),b!==null&&Wn(b,d,2),Lc(),cm(d,2)}if(d=fm(l),d===null&&Jd(t,i,l,Zc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Jd(t,i,l,null,a)}}function fm(t){return t=Ya(t),dm(t)}var Zc=null;function dm(t){if(Zc=null,t=vn(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Zc=t,null}function z_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vi()){case _t:return 2;case Et:return 8;case ti:case pr:return 32;case _i:return 268435456;default:return 32}default:return 32}}var mm=!1,Rs=null,Is=null,Cs=null,Hl=new Map,Fl=new Map,xs=[],pS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(t,i){switch(t){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(i.pointerId)}}function Gl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=I(i),i!==null&&L_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function gS(t,i,a,l,h){switch(i){case"focusin":return Rs=Gl(Rs,t,i,a,l,h),!0;case"dragenter":return Is=Gl(Is,t,i,a,l,h),!0;case"mouseover":return Cs=Gl(Cs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Hl.set(d,Gl(Hl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Fl.set(d,Gl(Fl.get(d)||null,t,i,a,l,h)),!0}return!1}function B_(t){var i=vn(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Ba(t.priority,function(){U_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Ba(t.priority,function(){U_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=fm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Qa=l,a.target.dispatchEvent(l),Qa=null}else return i=I(a),i!==null&&L_(i),t.blockedOn=a,!1;i.shift()}return!0}function q_(t,i,a){eh(t)&&a.delete(i)}function yS(){mm=!1,Rs!==null&&eh(Rs)&&(Rs=null),Is!==null&&eh(Is)&&(Is=null),Cs!==null&&eh(Cs)&&(Cs=null),Hl.forEach(q_),Fl.forEach(q_)}function th(t,i){t.blockedOn===i&&(t.blockedOn=null,mm||(mm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yS)))}var nh=null;function H_(t){nh!==t&&(nh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){nh===t&&(nh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var d=I(a);d!==null&&(t.splice(i,3),i-=3,fd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ro(t){function i(x){return th(x,t)}Rs!==null&&th(Rs,t),Is!==null&&th(Is,t),Cs!==null&&th(Cs,t),Hl.forEach(i),Fl.forEach(i);for(var a=0;a<xs.length;a++){var l=xs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<xs.length&&(a=xs[0],a.blockedOn===null);)B_(a),a.blockedOn===null&&xs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[nn]||null;if(typeof d=="function")v||H_(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[nn]||null)b=v.formAction;else if(dm(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),H_(a)}}}function F_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function pm(t){this._internalRoot=t}ih.prototype.render=pm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=di();k_(a,l,t,i,null,null)},ih.prototype.unmount=pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;k_(t.current,2,null,t,null,null),Lc(),i[Ti]=null}};function ih(t){this._internalRoot=t}ih.prototype.unstable_scheduleHydration=function(t){if(t){var i=ii();t={blockedOn:null,target:t,priority:i};for(var a=0;a<xs.length&&i!==0&&i<xs[a].priority;a++);xs.splice(a,0,t),a===0&&B_(t)}};var G_=e.version;if(G_!=="19.2.3")throw Error(s(527,G_,"19.2.3"));de.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var vS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{zt=rh.inject(vS),ln=rh}catch{}}return Yl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Wy,d=Zy,v=ev;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=O_(t,1,!1,null,null,a,l,null,h,d,v,F_),t[Ti]=i.current,Xd(t),new pm(i)},Yl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Wy,v=Zy,b=ev,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=O_(t,1,!0,i,a??null,l,h,x,d,v,b,F_),i.context=V_(null),a=i.current,l=di(),l=Wi(l),h=ms(l),h.callback=null,ps(a,h,l),a=l,i.current.lanes=a,Ji(i,a),sr(i),t[Ti]=i.current,Xd(t),new ih(i)},Yl.version="19.2.3",Yl}var t0;function DS(){if(t0)return vm.exports;t0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vm.exports=xS(),vm.exports}var NS=DS();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var n0="popstate";function MS(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=La(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),qm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:uu(u))}function s(o,u){vi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return VS(e,n,s,r)}function Nt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function vi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OS(){return Math.random().toString(36).substring(2,10)}function i0(r,e){return{usr:r.state,key:r.key,idx:e}}function qm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?La(e):e,state:n,key:e&&e.key||s||OS()}}function uu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function La(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function VS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let L=E(),ue=L==null?null:L-g;g=L,p&&p({action:m,location:Z.location,delta:ue})}function A(L,ue){m="PUSH";let he=qm(Z.location,L,ue);n&&n(he,L),g=E()+1;let re=i0(he,g),Ae=Z.createHref(he);try{f.pushState(re,"",Ae)}catch(Pe){if(Pe instanceof DOMException&&Pe.name==="DataCloneError")throw Pe;o.location.assign(Ae)}u&&p&&p({action:m,location:Z.location,delta:1})}function V(L,ue){m="REPLACE";let he=qm(Z.location,L,ue);n&&n(he,L),g=E();let re=i0(he,g),Ae=Z.createHref(he);f.replaceState(re,"",Ae),u&&p&&p({action:m,location:Z.location,delta:0})}function G(L){return kS(L)}let Z={get action(){return m},get location(){return r(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(n0,w),p=L,()=>{o.removeEventListener(n0,w),p=null}},createHref(L){return e(o,L)},createURL:G,encodeLocation(L){let ue=G(L);return{pathname:ue.pathname,search:ue.search,hash:ue.hash}},push:A,replace:V,go(L){return f.go(L)}};return Z}function kS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:uu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function qE(r,e,n="/"){return PS(r,e,n,!1)}function PS(r,e,n,s){let o=typeof e=="string"?La(e):e,u=Hr(o.pathname||"/",n);if(u==null)return null;let f=HE(r);LS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=KS(u);m=QS(f[p],g,s)}return m}function HE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;Nt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let w=Br([s,E.relativePath]),A=n.concat(E);f.children&&f.children.length>0&&(Nt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),HE(f.children,e,A,w,p)),!(f.path==null&&!f.index)&&e.push({path:w,score:FS(w,f.index),routesMeta:A})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let g of FE(f.path))u(f,m,!0,g)}),e}function FE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=FE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function LS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:GS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var US=/^:[\w-]+$/,zS=3,jS=2,BS=1,qS=10,HS=-2,r0=r=>r==="*";function FS(r,e){let n=r.split("/"),s=n.length;return n.some(r0)&&(s+=HS),e&&(s+=jS),n.filter(o=>!r0(o)).reduce((o,u)=>o+(US.test(u)?zS:u===""?BS:qS),s)}function GS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function QS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Br([u,w.pathname]),pathnameBase:WS(Br([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=Br([u,w.pathnameBase]))}return f}function Rh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=YS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},A)=>{if(E==="*"){let G=m[A]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const V=m[A];return w&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function YS(r,e=!1,n=!0){vi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function KS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Hr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var GE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$S=r=>GE.test(r);function XS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?La(r):r,u;if(n)if($S(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),vi(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=s0(n.substring(1),"/"):u=s0(n,e)}else u=e;return{pathname:u,search:ZS(s),hash:eA(o)}}function s0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function wm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function QE(r){let e=JS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function YE(r,e,n,s=!1){let o;typeof r=="string"?o=La(r):(o={...r},Nt(!o.pathname||!o.pathname.includes("?"),wm("?","pathname","search",o)),Nt(!o.pathname||!o.pathname.includes("#"),wm("#","pathname","hash",o)),Nt(!o.search||!o.search.includes("#"),wm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=XS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Br=r=>r.join("/").replace(/\/\/+/g,"/"),WS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ZS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,eA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,tA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function nA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function iA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var KE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $E(r,e){let n=r;if(typeof n!="string"||!GE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(KE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Hr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{vi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var XE=["POST","PUT","PATCH","DELETE"];new Set(XE);var rA=["GET",...XE];new Set(rA);var Fo=P.createContext(null);Fo.displayName="DataRouter";var Xh=P.createContext(null);Xh.displayName="DataRouterState";var sA=P.createContext(!1),JE=P.createContext({isTransitioning:!1});JE.displayName="ViewTransition";var aA=P.createContext(new Map);aA.displayName="Fetchers";var oA=P.createContext(null);oA.displayName="Await";var Oi=P.createContext(null);Oi.displayName="Navigation";var vu=P.createContext(null);vu.displayName="Location";var $r=P.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var Ep=P.createContext(null);Ep.displayName="RouteError";var WE="REACT_ROUTER_ERROR",lA="REDIRECT",uA="ROUTE_ERROR_RESPONSE";function cA(r){if(r.startsWith(`${WE}:${lA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function hA(r){if(r.startsWith(`${WE}:${uA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new tA(e.status,e.statusText,e.data)}catch{}}function fA(r,{relative:e}={}){Nt(_u(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Oi),{hash:o,pathname:u,search:f}=Eu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Br([n,u])),s.createHref({pathname:m,search:f,hash:o})}function _u(){return P.useContext(vu)!=null}function Ws(){return Nt(_u(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(vu).location}var ZE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eT(r){P.useContext(Oi).static||P.useLayoutEffect(r)}function Tp(){let{isDataRoute:r}=P.useContext($r);return r?AA():dA()}function dA(){Nt(_u(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(Fo),{basename:e,navigator:n}=P.useContext(Oi),{matches:s}=P.useContext($r),{pathname:o}=Ws(),u=JSON.stringify(QE(s)),f=P.useRef(!1);return eT(()=>{f.current=!0}),P.useCallback((p,g={})=>{if(vi(f.current,ZE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=YE(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Br([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}P.createContext(null);function Eu(r,{relative:e}={}){let{matches:n}=P.useContext($r),{pathname:s}=Ws(),o=JSON.stringify(QE(n));return P.useMemo(()=>YE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function mA(r,e){return tT(r,e)}function tT(r,e,n,s,o){var he;Nt(_u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(Oi),{matches:f}=P.useContext($r),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let re=w&&w.path||"";iT(g,!w||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let A=Ws(),V;if(e){let re=typeof e=="string"?La(e):e;Nt(E==="/"||((he=re.pathname)==null?void 0:he.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${re.pathname}" was given in the \`location\` prop.`),V=re}else V=A;let G=V.pathname||"/",Z=G;if(E!=="/"){let re=E.replace(/^\//,"").split("/");Z="/"+G.replace(/^\//,"").split("/").slice(re.length).join("/")}let L=qE(r,{pathname:Z});vi(w||L!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),vi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ue=_A(L&&L.map(re=>Object.assign({},re,{params:Object.assign({},p,re.params),pathname:Br([E,u.encodeLocation?u.encodeLocation(re.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?E:Br([E,u.encodeLocation?u.encodeLocation(re.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathnameBase])})),f,n,s,o);return e&&ue?P.createElement(vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},ue):ue}function pA(){let r=SA(),e=nA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,f)}var gA=P.createElement(pA,null),nT=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=hA(r.digest);n&&(r=n)}let e=r!==void 0?P.createElement($r.Provider,{value:this.props.routeContext},P.createElement(Ep.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?P.createElement(yA,{error:r},e):e}};nT.contextType=sA;var bm=new WeakMap;function yA({children:r,error:e}){let{basename:n}=P.useContext(Oi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=cA(e.digest);if(s){let o=bm.get(e);if(o)throw o;let u=$E(s.location,n);if(KE&&!bm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw bm.set(e,f),f}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function vA({routeContext:r,match:e,children:n}){let s=P.useContext(Fo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement($r.Provider,{value:r},n)}function _A(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let E=u.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);Nt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let w=u[E];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=E),w.route.id){let{loaderData:A,errors:V}=n,G=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!V||V[w.route.id]===void 0);if(w.route.lazy||G){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,w)=>{var A,V;s(E,{location:n.location,params:((V=(A=n.matches)==null?void 0:A[0])==null?void 0:V.params)??{},unstable_pattern:iA(n.matches),errorInfo:w})}:void 0;return u.reduceRight((E,w,A)=>{let V,G=!1,Z=null,L=null;n&&(V=f&&w.route.id?f[w.route.id]:void 0,Z=w.route.errorElement||gA,m&&(p<0&&A===0?(iT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,L=null):p===A&&(G=!0,L=w.route.hydrateFallbackElement||null)));let ue=e.concat(u.slice(0,A+1)),he=()=>{let re;return V?re=Z:G?re=L:w.route.Component?re=P.createElement(w.route.Component,null):w.route.element?re=w.route.element:re=E,P.createElement(vA,{match:w,routeContext:{outlet:E,matches:ue,isDataRoute:n!=null},children:re})};return n&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?P.createElement(nT,{location:n.location,revalidation:n.revalidation,component:Z,error:V,children:he(),routeContext:{outlet:null,matches:ue,isDataRoute:!0},onError:g}):he()},null)}function wp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EA(r){let e=P.useContext(Fo);return Nt(e,wp(r)),e}function TA(r){let e=P.useContext(Xh);return Nt(e,wp(r)),e}function wA(r){let e=P.useContext($r);return Nt(e,wp(r)),e}function bp(r){let e=wA(r),n=e.matches[e.matches.length-1];return Nt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function bA(){return bp("useRouteId")}function SA(){var s;let r=P.useContext(Ep),e=TA("useRouteError"),n=bp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function AA(){let{router:r}=EA("useNavigate"),e=bp("useNavigate"),n=P.useRef(!1);return eT(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{vi(n.current,ZE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var a0={};function iT(r,e,n){!e&&!a0[r]&&(a0[r]=!0,vi(!1,n))}P.memo(RA);function RA({routes:r,future:e,state:n,onError:s}){return tT(r,void 0,n,s,e)}function Hm(r){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Nt(!_u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=La(n));let{pathname:g="/",search:E="",hash:w="",state:A=null,key:V="default"}=n,G=P.useMemo(()=>{let Z=Hr(g,m);return Z==null?null:{location:{pathname:Z,search:E,hash:w,state:A,key:V},navigationType:s}},[m,g,E,w,A,V,s]);return vi(G!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${w}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:P.createElement(Oi.Provider,{value:p},P.createElement(vu.Provider,{children:e,value:G}))}function CA({children:r,location:e}){return mA(Fm(r),e)}function Fm(r,e=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,Fm(s.props.children,u));return}Nt(s.type===Hm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Fm(s.props.children,u)),n.push(f)}),n}var mh="get",ph="application/x-www-form-urlencoded";function Jh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function xA(r){return Jh(r)&&r.tagName.toLowerCase()==="button"}function DA(r){return Jh(r)&&r.tagName.toLowerCase()==="form"}function NA(r){return Jh(r)&&r.tagName.toLowerCase()==="input"}function MA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function OA(r,e){return r.button===0&&(!e||e==="_self")&&!MA(r)}function Gm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function VA(r,e){let n=Gm(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var sh=null;function kA(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch{sh=!0}return sh}var PA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sm(r){return r!=null&&!PA.has(r)?(vi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ph}"`),null):r}function LA(r,e){let n,s,o,u,f;if(DA(r)){let m=r.getAttribute("action");s=m?Hr(m,e):null,n=r.getAttribute("method")||mh,o=Sm(r.getAttribute("enctype"))||ph,u=new FormData(r)}else if(xA(r)||NA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Hr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||mh,o=Sm(r.getAttribute("formenctype"))||Sm(m.getAttribute("enctype"))||ph,u=new FormData(m,r),!kA()){let{name:g,type:E,value:w}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(Jh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mh,s=null,o=ph,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function UA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Hr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function zA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function BA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await zA(u,n);return f.links?f.links():[]}return[]}));return GA(s.flat(1).filter(jA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function o0(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function qA(r,e,{includeHydrateFallback:n}={}){return HA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function HA(r){return[...new Set(r)]}function FA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function GA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(FA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function rT(){let r=P.useContext(Fo);return Sp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function QA(){let r=P.useContext(Xh);return Sp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ap=P.createContext(void 0);Ap.displayName="FrameworkContext";function sT(){let r=P.useContext(Ap);return Sp(r,"You must render this element inside a <HydratedRouter> element"),r}function YA(r,e){let n=P.useContext(Ap),[s,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,A=P.useRef(null);P.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=ue=>{ue.forEach(he=>{f(he.isIntersecting)})},L=new IntersectionObserver(Z,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[r]),P.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let V=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Kl(m,V),onBlur:Kl(p,G),onMouseEnter:Kl(g,V),onMouseLeave:Kl(E,G),onTouchStart:Kl(w,V)}]:[!1,A,{}]}function Kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function KA({page:r,...e}){let{router:n}=rT(),s=P.useMemo(()=>qE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(XA,{page:r,matches:s,...e}):null}function $A(r){let{manifest:e,routeModules:n}=sT(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return BA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function XA({page:r,matches:e,...n}){let s=Ws(),{future:o,manifest:u,routeModules:f}=sT(),{basename:m}=rT(),{loaderData:p,matches:g}=QA(),E=P.useMemo(()=>o0(r,e,g,u,s,"data"),[r,e,g,u,s]),w=P.useMemo(()=>o0(r,e,g,u,s,"assets"),[r,e,g,u,s]),A=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Z=new Set,L=!1;if(e.forEach(he=>{var Ae;let re=u.routes[he.route.id];!re||!re.hasLoader||(!E.some(Pe=>Pe.route.id===he.route.id)&&he.route.id in p&&((Ae=f[he.route.id])!=null&&Ae.shouldRevalidate)||re.hasClientLoader?L=!0:Z.add(he.route.id))}),Z.size===0)return[];let ue=UA(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return L&&Z.size>0&&ue.searchParams.set("_routes",e.filter(he=>Z.has(he.route.id)).map(he=>he.route.id).join(",")),[ue.pathname+ue.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,f]),V=P.useMemo(()=>qA(w,u),[w,u]),G=$A(w);return P.createElement(P.Fragment,null,A.map(Z=>P.createElement("link",{key:Z,rel:"prefetch",as:"fetch",href:Z,...n})),V.map(Z=>P.createElement("link",{key:Z,rel:"modulepreload",href:Z,...n})),G.map(({key:Z,link:L})=>P.createElement("link",{key:Z,nonce:n.nonce,...L})))}function JA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var WA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WA&&(window.__reactRouterVersion="7.12.0")}catch{}function ZA({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=MS({window:s,v5Compat:!0}));let u=o.current,[f,m]=P.useState({action:u.action,location:u.location}),p=P.useCallback(g=>{n===!1?m(g):P.startTransition(()=>m(g))},[n]);return P.useLayoutEffect(()=>u.listen(p),[u,p]),P.createElement(IA,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var aT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oT=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:A,...V},G){let{basename:Z,unstable_useTransitions:L}=P.useContext(Oi),ue=typeof g=="string"&&aT.test(g),he=$E(g,Z);g=he.to;let re=fA(g,{relative:o}),[Ae,Pe,xe]=YA(s,V),N=iR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:A,unstable_useTransitions:L});function R(O){e&&e(O),O.defaultPrevented||N(O)}let C=P.createElement("a",{...V,...xe,href:he.absoluteURL||re,onClick:he.isExternal||u?e:R,ref:JA(G,Pe),target:p,"data-discover":!ue&&n==="render"?"true":void 0});return Ae&&!ue?P.createElement(P.Fragment,null,C,P.createElement(KA,{page:re})):C});oT.displayName="Link";var eR=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=Eu(f,{relative:g.relative}),A=Ws(),V=P.useContext(Xh),{navigator:G,basename:Z}=P.useContext(Oi),L=V!=null&&uR(w)&&m===!0,ue=G.encodeLocation?G.encodeLocation(w).pathname:w.pathname,he=A.pathname,re=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(he=he.toLowerCase(),re=re?re.toLowerCase():null,ue=ue.toLowerCase()),re&&Z&&(re=Hr(re,Z)||re);const Ae=ue!=="/"&&ue.endsWith("/")?ue.length-1:ue.length;let Pe=he===ue||!o&&he.startsWith(ue)&&he.charAt(Ae)==="/",xe=re!=null&&(re===ue||!o&&re.startsWith(ue)&&re.charAt(ue.length)==="/"),N={isActive:Pe,isPending:xe,isTransitioning:L},R=Pe?e:void 0,C;typeof s=="function"?C=s(N):C=[s,Pe?"active":null,xe?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(N):u;return P.createElement(oT,{...g,"aria-current":R,className:C,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(N):p)});eR.displayName="NavLink";var tR=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=mh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:A,...V},G)=>{let{unstable_useTransitions:Z}=P.useContext(Oi),L=oR(),ue=lR(m,{relative:g}),he=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&aT.test(m),Ae=Pe=>{if(p&&p(Pe),Pe.defaultPrevented)return;Pe.preventDefault();let xe=Pe.nativeEvent.submitter,N=(xe==null?void 0:xe.getAttribute("formmethod"))||f,R=()=>L(xe||Pe.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:A});Z&&n!==!1?P.startTransition(()=>R()):R()};return P.createElement("form",{ref:G,method:he,action:ue,onSubmit:s?p:Ae,...V,"data-discover":!re&&r==="render"?"true":void 0})});tR.displayName="Form";function nR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lT(r){let e=P.useContext(Fo);return Nt(e,nR(r)),e}function iR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Tp(),E=Ws(),w=Eu(r,{relative:u});return P.useCallback(A=>{if(OA(A,e)){A.preventDefault();let V=n!==void 0?n:uu(E)===uu(w),G=()=>g(r,{replace:V,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?P.startTransition(()=>G()):G()}},[E,g,w,n,s,e,r,o,u,f,m,p])}function rR(r){vi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(Gm(r)),n=P.useRef(!1),s=Ws(),o=P.useMemo(()=>VA(s.search,n.current?null:e.current),[s.search]),u=Tp(),f=P.useCallback((m,p)=>{const g=Gm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var sR=0,aR=()=>`__${String(++sR)}__`;function oR(){let{router:r}=lT("useSubmit"),{basename:e}=P.useContext(Oi),n=bA(),s=r.fetch,o=r.navigate;return P.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:w}=LA(u,e);if(f.navigate===!1){let A=f.fetcherKey||aR();await s(A,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:w,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:w,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function lR(r,{relative:e}={}){let{basename:n}=P.useContext(Oi),s=P.useContext($r);Nt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Eu(r||".",{relative:e})},f=Ws();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Br([n,u.pathname])),uu(u)}function uR(r,{relative:e}={}){let n=P.useContext(JE);Nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=lT("useViewTransitionState"),o=Eu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Hr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Hr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Rh(o.pathname,f)!=null||Rh(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uT=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=P.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>P.createElement("svg",{ref:p,...hR,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:uT("lucide",o),...m},[...f.map(([g,E])=>P.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=(r,e)=>{const n=P.forwardRef(({className:s,...o},u)=>P.createElement(fR,{ref:u,iconNode:e,className:uT(`lucide-${cR(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=Rn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=Rn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=Rn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=Rn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=Rn("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=Rn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=Rn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=Rn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Rn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=Rn("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Rn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Rn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=Rn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=Rn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Rn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Rn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Rn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),wR=()=>{};var u0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},bR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(A=64)),s.push(n[E],n[w],n[A],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(dT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):bR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new SR;const A=u<<2|m>>4;if(s.push(A),g!==64){const V=m<<4&240|g>>2;if(s.push(V),w!==64){const G=g<<6&192|w;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class SR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AR=function(r){const e=dT(r);return mT.encodeByteArray(e,!0)},Ch=function(r){return AR(r).replace(/\./g,"")},pT=function(r){try{return mT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=()=>RR().__FIREBASE_DEFAULTS__,CR=()=>{if(typeof process>"u"||typeof u0>"u")return;const r=u0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&pT(r[1]);return e&&JSON.parse(e)},Wh=()=>{try{return wR()||IR()||CR()||xR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},gT=r=>{var e,n;return(n=(e=Wh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},DR=r=>{const e=gT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},yT=()=>{var r;return(r=Wh())===null||r===void 0?void 0:r.config},vT=r=>{var e;return(e=Wh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _T(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ch(JSON.stringify(n)),Ch(JSON.stringify(f)),""].join(".")}const nu={};function OR(){const r={prod:[],emulator:[]};for(const e of Object.keys(nu))nu[e]?r.emulator.push(e):r.prod.push(e);return r}function VR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let c0=!1;function ET(r,e){if(typeof window>"u"||typeof document>"u"||!Go(window.location.host)||nu[r]===e||nu[r]||c0)return;nu[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=OR().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{c0=!0,f()},A}function E(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=VR(s),V=n("text"),G=document.getElementById(V)||document.createElement("span"),Z=n("learnmore"),L=document.getElementById(Z)||document.createElement("a"),ue=n("preprendIcon"),he=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;m(re),E(L,Z);const Ae=g();p(he,ue),re.append(he,G,L,Ae),document.body.appendChild(re)}u?(G.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function PR(){var r;const e=(r=Wh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function zR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jR(){const r=On();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function BR(){return!PR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qR(){try{return typeof indexedDB=="object"}catch{return!1}}function HR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="FirebaseError";class Xr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=FR,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?GR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Xr(o,m,s)}}function GR(r,e){return r.replace(QR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const QR=/\{\$([^}]+)}/g;function YR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Fs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(h0(u)&&h0(f)){if(!Fs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function h0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function KR(r,e){const n=new $R(r,e);return n.subscribe.bind(n)}class $R{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");XR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(r){return r&&r._delegate?r._delegate:r}class Oa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new NR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZR(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WR(r){return r===xa?void 0:r}function ZR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(We||(We={}));const t2={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},n2=We.INFO,i2={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},r2=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=i2[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rp{constructor(e){this.name=e,this._logLevel=n2,this._logHandler=r2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const s2=(r,e)=>e.some(n=>r instanceof n);let f0,d0;function a2(){return f0||(f0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o2(){return d0||(d0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TT=new WeakMap,Ym=new WeakMap,wT=new WeakMap,Rm=new WeakMap,Ip=new WeakMap;function l2(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Ls(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&TT.set(n,r)}).catch(()=>{}),Ip.set(e,r),e}function u2(r){if(Ym.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Ym.set(r,e)}let Km={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Ym.get(r);if(e==="objectStoreNames")return r.objectStoreNames||wT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ls(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function c2(r){Km=r(Km)}function h2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Im(this),e,...n);return wT.set(s,e.sort?e.sort():[e]),Ls(s)}:o2().includes(r)?function(...e){return r.apply(Im(this),e),Ls(TT.get(this))}:function(...e){return Ls(r.apply(Im(this),e))}}function f2(r){return typeof r=="function"?h2(r):(r instanceof IDBTransaction&&u2(r),s2(r,a2())?new Proxy(r,Km):r)}function Ls(r){if(r instanceof IDBRequest)return l2(r);if(Rm.has(r))return Rm.get(r);const e=f2(r);return e!==r&&(Rm.set(r,e),Ip.set(e,r)),e}const Im=r=>Ip.get(r);function d2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Ls(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Ls(f.result),p.oldVersion,p.newVersion,Ls(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const m2=["get","getKey","getAll","getAllKeys","count"],p2=["put","add","delete","clear"],Cm=new Map;function m0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=p2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||m2.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(e,u),u}c2(r=>({...r,get:(e,n,s)=>m0(e,n)||r.get(e,n,s),has:(e,n)=>!!m0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(y2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function y2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $m="@firebase/app",p0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Rp("@firebase/app"),v2="@firebase/app-compat",_2="@firebase/analytics-compat",E2="@firebase/analytics",T2="@firebase/app-check-compat",w2="@firebase/app-check",b2="@firebase/auth",S2="@firebase/auth-compat",A2="@firebase/database",R2="@firebase/data-connect",I2="@firebase/database-compat",C2="@firebase/functions",x2="@firebase/functions-compat",D2="@firebase/installations",N2="@firebase/installations-compat",M2="@firebase/messaging",O2="@firebase/messaging-compat",V2="@firebase/performance",k2="@firebase/performance-compat",P2="@firebase/remote-config",L2="@firebase/remote-config-compat",U2="@firebase/storage",z2="@firebase/storage-compat",j2="@firebase/firestore",B2="@firebase/ai",q2="@firebase/firestore-compat",H2="firebase",F2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",G2={[$m]:"fire-core",[v2]:"fire-core-compat",[E2]:"fire-analytics",[_2]:"fire-analytics-compat",[w2]:"fire-app-check",[T2]:"fire-app-check-compat",[b2]:"fire-auth",[S2]:"fire-auth-compat",[A2]:"fire-rtdb",[R2]:"fire-data-connect",[I2]:"fire-rtdb-compat",[C2]:"fire-fn",[x2]:"fire-fn-compat",[D2]:"fire-iid",[N2]:"fire-iid-compat",[M2]:"fire-fcm",[O2]:"fire-fcm-compat",[V2]:"fire-perf",[k2]:"fire-perf-compat",[P2]:"fire-rc",[L2]:"fire-rc-compat",[U2]:"fire-gcs",[z2]:"fire-gcs-compat",[j2]:"fire-fst",[q2]:"fire-fst-compat",[B2]:"fire-vertex","fire-js":"fire-js",[H2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,Q2=new Map,Jm=new Map;function g0(r,e){try{r.container.addComponent(e)}catch(n){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Po(r){const e=r.name;if(Jm.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;Jm.set(e,r);for(const n of xh.values())g0(n,r);for(const n of Q2.values())g0(n,r);return!0}function Cp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Mi(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Us=new Tu("app","Firebase",Y2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=F2;function bT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Xm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Us.create("bad-app-name",{appName:String(o)});if(n||(n=yT()),!n)throw Us.create("no-options");const u=xh.get(o);if(u){if(Fs(n,u.options)&&Fs(s,u.config))return u;throw Us.create("duplicate-app",{appName:o})}const f=new e2(o);for(const p of Jm.values())f.addComponent(p);const m=new K2(n,s,f);return xh.set(o,m),m}function ST(r=Xm){const e=xh.get(r);if(!e&&r===Xm&&yT())return bT();if(!e)throw Us.create("no-app",{appName:r});return e}function zs(r,e,n){var s;let o=(s=G2[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(m.join(" "));return}Po(new Oa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="firebase-heartbeat-database",X2=1,cu="firebase-heartbeat-store";let xm=null;function AT(){return xm||(xm=d2($2,X2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(cu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Us.create("idb-open",{originalErrorMessage:r.message})})),xm}async function J2(r){try{const n=(await AT()).transaction(cu),s=await n.objectStore(cu).get(RT(r));return await n.done,s}catch(e){if(e instanceof Xr)Fr.warn(e.message);else{const n=Us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(n.message)}}}async function y0(r,e){try{const s=(await AT()).transaction(cu,"readwrite");await s.objectStore(cu).put(e,RT(r)),await s.done}catch(n){if(n instanceof Xr)Fr.warn(n.message);else{const s=Us.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fr.warn(s.message)}}}function RT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=1024,Z2=30;class eI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=v0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Z2){const f=iI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Fr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=v0(),{heartbeatsToSend:s,unsentEntries:o}=tI(this._heartbeatsCache.heartbeats),u=Ch(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Fr.warn(n),""}}}function v0(){return new Date().toISOString().substring(0,10)}function tI(r,e=W2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),_0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),_0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qR()?HR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await J2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return y0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return y0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function _0(r){return Ch(JSON.stringify({version:2,heartbeats:r})).length}function iI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(r){Po(new Oa("platform-logger",e=>new g2(e),"PRIVATE")),Po(new Oa("heartbeat",e=>new eI(e),"PRIVATE")),zs($m,p0,r),zs($m,p0,"esm2017"),zs("fire-js","")}rI("");function xp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function IT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sI=IT,CT=new Tu("auth","Firebase",IT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Rp("@firebase/auth");function aI(r,...e){Dh.logLevel<=We.WARN&&Dh.warn(`Auth (${Qo}): ${r}`,...e)}function gh(r,...e){Dh.logLevel<=We.ERROR&&Dh.error(`Auth (${Qo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(r,...e){throw Np(r,...e)}function Qi(r,...e){return Np(r,...e)}function Dp(r,e,n){const s=Object.assign(Object.assign({},sI()),{[e]:n});return new Tu("auth","Firebase",s).create(e,{appName:r.name})}function js(r){return Dp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xT(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&fr(r,"argument-error"),Dp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Np(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return CT.create(r,...e)}function Oe(r,e,...n){if(!r)throw Np(e,...n)}function Ur(r){const e="INTERNAL ASSERTION FAILED: "+r;throw gh(e),new Error(e)}function Gr(r,e){r||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function oI(){return E0()==="http:"||E0()==="https:"}function E0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oI()||UR()||"connection"in navigator)?navigator.onLine:!0}function uI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=kR()||zR()}get(){return lI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(r,e){Gr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fI=new bu(3e4,6e4);function Op(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Yo(r,e,n,s,o={}){return NT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=wu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return LR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Go(r.emulatorConfig.host)&&(g.credentials="include"),DT.fetch()(await MT(r,r.config.apiHost,n,m),g)})}async function NT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},cI),e);try{const o=new mI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw lh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw lh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw lh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw lh(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Dp(r,E,g);fr(r,E)}}catch(o){if(o instanceof Xr)throw o;fr(r,"network-request-failed",{message:String(o)})}}async function dI(r,e,n,s,o={}){const u=await Yo(r,e,n,s,o);return"mfaPendingCredential"in u&&fr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function MT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Mp(r.config,o):`${r.config.apiScheme}://${o}`;return hI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class mI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Qi(this.auth,"network-request-failed")),fI.get())})}}function lh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Qi(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(r,e){return Yo(r,"POST","/v1/accounts:delete",e)}async function Nh(r,e){return Yo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gI(r,e=!1){const n=Ut(r),s=await n.getIdToken(e),o=Vp(s);Oe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:iu(Dm(o.auth_time)),issuedAtTime:iu(Dm(o.iat)),expirationTime:iu(Dm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dm(r){return Number(r)*1e3}function Vp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const o=pT(n);return o?JSON.parse(o):(gh("Failed to decode base64 JWT payload"),null)}catch(o){return gh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function T0(r){const e=Vp(r);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Xr&&yI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function yI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await hu(r,Nh(n,{idToken:s}));Oe(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?OT(u.providerUserInfo):[],m=EI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Zm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function _I(r){const e=Ut(r);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function OT(r){return r.map(e=>{var{providerId:n}=e,s=xp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(r,e){const n=await NT(r,{},async()=>{const s=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await MT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Go(r.emulatorConfig.host)&&(p.credentials="include"),DT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wI(r,e){return Yo(r,"POST","/v2/accounts:revokeToken",Op(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=T0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await TI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Mo;return s&&(Oe(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Oe(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Oe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(r,e){Oe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Gi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=xp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Zm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gI(this,e)}reload(){return _I(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mi(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await hu(this,pI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,G=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ue=(g=n.createdAt)!==null&&g!==void 0?g:void 0,he=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:Ae,isAnonymous:Pe,providerData:xe,stsTokenManager:N}=n;Oe(re&&N,e,"internal-error");const R=Mo.fromJSON(this.name,N);Oe(typeof re=="string",e,"internal-error"),Ns(w,e.name),Ns(A,e.name),Oe(typeof Ae=="boolean",e,"internal-error"),Oe(typeof Pe=="boolean",e,"internal-error"),Ns(V,e.name),Ns(G,e.name),Ns(Z,e.name),Ns(L,e.name),Ns(ue,e.name),Ns(he,e.name);const C=new Gi({uid:re,auth:e,email:A,emailVerified:Ae,displayName:w,isAnonymous:Pe,photoURL:G,phoneNumber:V,tenantId:Z,stsTokenManager:R,createdAt:ue,lastLoginAt:he});return xe&&Array.isArray(xe)&&(C.providerData=xe.map(O=>Object.assign({},O))),L&&(C._redirectEventId=L),C}static async _fromIdTokenResponse(e,n,s=!1){const o=new Mo;o.updateFromServerResponse(n);const u=new Gi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Mh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Oe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?OT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Mo;m.updateFromIdToken(s);const p=new Gi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=new Map;function zr(r){Gr(r instanceof Function,"Expected a class definition");let e=w0.get(r);return e?(Gr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,w0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VT.type="NONE";const b0=VT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(r,e,n){return`firebase:${r}:${e}:${n}`}class Oo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=yh(this.userKey,o.apiKey,u),this.fullPersistenceKey=yh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?Gi._fromGetAccountInfoResponse(this.auth,n,e):null}return Gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Oo(zr(b0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||zr(b0);const f=yh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const A=await Nh(e,{idToken:E}).catch(()=>{});if(!A)break;w=await Gi._fromGetAccountInfoResponse(e,A,E)}else w=Gi._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Oo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Oo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jT(e))return"Blackberry";if(BT(e))return"Webos";if(PT(e))return"Safari";if((e.includes("chrome/")||LT(e))&&!e.includes("edge/"))return"Chrome";if(zT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function kT(r=On()){return/firefox\//i.test(r)}function PT(r=On()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LT(r=On()){return/crios\//i.test(r)}function UT(r=On()){return/iemobile/i.test(r)}function zT(r=On()){return/android/i.test(r)}function jT(r=On()){return/blackberry/i.test(r)}function BT(r=On()){return/webos/i.test(r)}function kp(r=On()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function bI(r=On()){var e;return kp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SI(){return jR()&&document.documentMode===10}function qT(r=On()){return kp(r)||zT(r)||BT(r)||jT(r)||/windows phone/i.test(r)||UT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(r,e=[]){let n;switch(r){case"Browser":n=S0(On());break;case"Worker":n=`${S0(On())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(r,e={}){return Yo(r,"GET","/v2/passwordPolicy",Op(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=6;class CI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:II,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A0(this),this.idTokenSubscription=new A0(this),this.beforeStateQueue=new AI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),s=await Gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mi(this.app))return Promise.reject(js(this));const n=e?Ut(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mi(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mi(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RI(this),n=new CI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await wI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Su(r){return Ut(r)}class A0{constructor(e){this.auth=e,this.observer=null,this.addObserver=KR(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DI(r){Pp=r}function NI(r){return Pp.loadJS(r)}function MI(){return Pp.gapiScript}function OI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r,e){const n=Cp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Fs(u,e??{}))return o;fr(o,"already-initialized")}return n.initialize({options:e})}function kI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(zr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function PI(r,e,n){const s=Su(r);Oe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=FT(e),{host:f,port:m}=LI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Oe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Oe(Fs(g,s.config.emulator)&&Fs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Go(f)?(_T(`${u}//${f}${p}`),ET("Auth",!0)):UI()}function FT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function LI(r){const e=FT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:R0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:R0(f)}}}function R0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function UI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(r,e){return dI(r,"POST","/v1/accounts:signInWithIdp",Op(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="http://localhost";class Va extends GT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=xp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Va(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Vo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Vo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vo(e,n)}buildRequest(){const e={requestUri:zI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends Zh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Au{constructor(){super("facebook.com")}static credential(e){return Va._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Va._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Au{constructor(){super("github.com")}static credential(e){return Va._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Au{constructor(){super("twitter.com")}static credential(e,n){return Va._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Vs.credential(n,s)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Gi._fromIdTokenResponse(e,s,o),f=I0(s);return new Lo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=I0(s);return new Lo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function I0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends Xr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Oh(e,n,s,o)}}function QT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(r,u,e,s):u})}async function jI(r,e,n=!1){const s=await hu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Lo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(r,e,n=!1){const{auth:s}=r;if(Mi(s.app))return Promise.reject(js(s));const o="reauthenticate";try{const u=await hu(r,QT(s,o,e,r),n);Oe(u.idToken,s,"internal-error");const f=Vp(u.idToken);Oe(f,s,"internal-error");const{sub:m}=f;return Oe(r.uid===m,s,"user-mismatch"),Lo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&fr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(r,e,n=!1){if(Mi(r.app))return Promise.reject(js(r));const s="signIn",o=await QT(r,s,e),u=await Lo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(r,e){return Ut(r).setPersistence(e)}function HI(r,e,n,s){return Ut(r).onIdTokenChanged(e,n,s)}function FI(r,e,n){return Ut(r).beforeAuthStateChanged(e,n)}function KT(r,e,n,s){return Ut(r).onAuthStateChanged(e,n,s)}function GI(r){return Ut(r).signOut()}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=1e3,YI=10;class XT extends $T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);SI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,YI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},QI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XT.type="LOCAL";const Lp=XT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT extends $T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JT.type="SESSION";const WT=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new ef(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await KI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Up("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function XI(r){lr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function JI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function ZI(){return ZT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="firebaseLocalStorageDb",eC=1,kh="firebaseLocalStorage",t1="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(r,e){return r.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function tC(){const r=indexedDB.deleteDatabase(e1);return new Ru(r).toPromise()}function ep(){const r=indexedDB.open(e1,eC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(kh,{keyPath:t1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(kh)?e(s):(s.close(),await tC(),e(await ep()))})})}async function C0(r,e,n){const s=tf(r,!0).put({[t1]:e,value:n});return new Ru(s).toPromise()}async function nC(r,e){const n=tf(r,!1).get(e),s=await new Ru(n).toPromise();return s===void 0?null:s.value}function x0(r,e){const n=tf(r,!0).delete(e);return new Ru(n).toPromise()}const iC=800,rC=3;class n1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>rC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(ZI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await JI(),!this.activeServiceWorker)return;this.sender=new $I(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await C0(e,Vh,"1"),await x0(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>C0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>nC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=tf(o,!1).getAll();return new Ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n1.type="LOCAL";const sC=n1;new bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(r,e){return e?zr(e):(Oe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends GT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aC(r){return qI(r.auth,new jp(r),r.bypassAuthState)}function oC(r){const{auth:e,user:n}=r;return Oe(n,e,"internal-error"),BI(n,new jp(r),r.bypassAuthState)}async function lC(r){const{auth:e,user:n}=r;return Oe(n,e,"internal-error"),jI(n,new jp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aC;case"linkViaPopup":case"linkViaRedirect":return lC;case"reauthViaPopup":case"reauthViaRedirect":return oC;default:fr(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new bu(2e3,1e4);async function cC(r,e,n){if(Mi(r.app))return Promise.reject(Qi(r,"operation-not-supported-in-this-environment"));const s=Su(r);xT(r,e,Zh);const o=zp(s,n);return new Da(s,"signInViaPopup",e,o).executeNotNull()}class Da extends i1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=Up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uC.get())};e()}}Da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="pendingRedirect",vh=new Map;class fC extends i1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const s=await dC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dC(r,e){const n=s1(e),s=r1(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function mC(r,e){return r1(r)._set(s1(e),"true")}function pC(r,e){vh.set(r._key(),e)}function r1(r){return zr(r._redirectPersistence)}function s1(r){return yh(hC,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(r,e,n){return gC(r,e,n)}async function gC(r,e,n){if(Mi(r.app))return Promise.reject(js(r));const s=Su(r);xT(r,e,Zh),await s._initializationPromise;const o=zp(s,n);return await mC(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function yC(r,e,n=!1){if(Mi(r.app))return Promise.reject(js(r));const s=Su(r),o=zp(s,e),f=await new fC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=600*1e3;class _C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!a1(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Qi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vC&&this.cachedEventUids.clear(),this.cachedEventUids.has(N0(e))}saveEventToCache(e){this.cachedEventUids.add(N0(e)),this.lastProcessedEventTime=Date.now()}}function N0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function a1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(r,e={}){return Yo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bC=/^https?/;async function SC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await TC(r);for(const n of e)try{if(AC(n))return}catch{}fr(r,"unauthorized-domain")}function AC(r){const e=Wm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!bC.test(n))return!1;if(wC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new bu(3e4,6e4);function M0(){const r=lr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function IC(r){return new Promise((e,n)=>{var s,o,u;function f(){M0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M0(),n(Qi(r,"network-request-failed"))},timeout:RC.get()})}if(!((o=(s=lr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=lr().gapi)===null||u===void 0)&&u.load)f();else{const m=OI("iframefcb");return lr()[m]=()=>{gapi.load?f():n(Qi(r,"network-request-failed"))},NI(`${MI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw _h=null,e})}let _h=null;function CC(r){return _h=_h||IC(r),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new bu(5e3,15e3),DC="__/auth/iframe",NC="emulator/auth/iframe",MC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VC(r){const e=r.config;Oe(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Mp(e,NC):`https://${r.config.authDomain}/${DC}`,s={apiKey:e.apiKey,appName:r.name,v:Qo},o=OC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${wu(s).slice(1)}`}async function kC(r){const e=await CC(r),n=lr().gapi;return Oe(n,r,"internal-error"),e.open({where:document.body,url:VC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Qi(r,"network-request-failed"),m=lr().setTimeout(()=>{u(f)},xC.get());function p(){lr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LC=500,UC=600,zC="_blank",jC="http://localhost";class O0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BC(r,e,n,s=LC,o=UC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},PC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=On().toLowerCase();n&&(m=LT(g)?zC:n),kT(g)&&(e=e||jC,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[V,G])=>`${A}${V}=${G},`,"");if(bI(g)&&m!=="_self")return qC(e||"",m),new O0(null);const w=window.open(e||"",m,E);Oe(w,r,"popup-blocked");try{w.focus()}catch{}return new O0(w)}function qC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="__/auth/handler",FC="emulator/auth/handler",GC=encodeURIComponent("fac");async function V0(r,e,n,s,o,u){Oe(r.config.authDomain,r,"auth-domain-config-required"),Oe(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Qo,eventId:o};if(e instanceof Zh){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",YR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Au){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${GC}=${encodeURIComponent(p)}`:"";return`${QC(r)}?${wu(m).slice(1)}${g}`}function QC({config:r}){return r.emulator?Mp(r,FC):`https://${r.authDomain}/${HC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class YC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WT,this._completeRedirectFn=yC,this._overrideRedirectResult=pC}async _openPopup(e,n,s,o){var u;Gr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await V0(e,n,s,Wm(),o);return BC(e,f,Up())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await V0(e,n,s,Wm(),o);return XI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Gr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await kC(e),s=new _C(e);return n.register("authEvent",o=>(Oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Nm];f!==void 0&&n(!!f),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qT()||PT()||kp()}}const KC=YC;var k0="@firebase/auth",P0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JC(r){Po(new Oa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Oe(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(r)},g=new xI(s,o,u,p);return kI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Po(new Oa("auth-internal",e=>{const n=Su(e.getProvider("auth").getImmediate());return(s=>new $C(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zs(k0,P0,XC(r)),zs(k0,P0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=300,ZC=vT("authIdTokenMaxAge")||WC;let L0=null;const ex=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZC)return;const o=n==null?void 0:n.token;L0!==o&&(L0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tx(r=ST()){const e=Cp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=VI(r,{popupRedirectResolver:KC,persistence:[sC,Lp,WT]}),s=vT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=ex(u.toString());FI(n,f,()=>f(n.currentUser)),HI(n,m=>f(m))}}const o=gT("auth");return o&&PI(n,`http://${o}`),n}function nx(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}DI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Qi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",nx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JC("Browser");var U0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,o1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function C(){}C.prototype=R.prototype,N.D=R.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(O,k,j){for(var D=Array(arguments.length-2),At=2;At<arguments.length;At++)D[At-2]=arguments[At];return R.prototype[k].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,C){C||(C=0);var O=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)O[k]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(k=0;16>k;++k)O[k]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=N.g[0],C=N.g[1],k=N.g[2];var j=N.g[3],D=R+(j^C&(k^j))+O[0]+3614090360&4294967295;R=C+(D<<7&4294967295|D>>>25),D=j+(k^R&(C^k))+O[1]+3905402710&4294967295,j=R+(D<<12&4294967295|D>>>20),D=k+(C^j&(R^C))+O[2]+606105819&4294967295,k=j+(D<<17&4294967295|D>>>15),D=C+(R^k&(j^R))+O[3]+3250441966&4294967295,C=k+(D<<22&4294967295|D>>>10),D=R+(j^C&(k^j))+O[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=j+(k^R&(C^k))+O[5]+1200080426&4294967295,j=R+(D<<12&4294967295|D>>>20),D=k+(C^j&(R^C))+O[6]+2821735955&4294967295,k=j+(D<<17&4294967295|D>>>15),D=C+(R^k&(j^R))+O[7]+4249261313&4294967295,C=k+(D<<22&4294967295|D>>>10),D=R+(j^C&(k^j))+O[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=j+(k^R&(C^k))+O[9]+2336552879&4294967295,j=R+(D<<12&4294967295|D>>>20),D=k+(C^j&(R^C))+O[10]+4294925233&4294967295,k=j+(D<<17&4294967295|D>>>15),D=C+(R^k&(j^R))+O[11]+2304563134&4294967295,C=k+(D<<22&4294967295|D>>>10),D=R+(j^C&(k^j))+O[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=j+(k^R&(C^k))+O[13]+4254626195&4294967295,j=R+(D<<12&4294967295|D>>>20),D=k+(C^j&(R^C))+O[14]+2792965006&4294967295,k=j+(D<<17&4294967295|D>>>15),D=C+(R^k&(j^R))+O[15]+1236535329&4294967295,C=k+(D<<22&4294967295|D>>>10),D=R+(k^j&(C^k))+O[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^k&(R^C))+O[6]+3225465664&4294967295,j=R+(D<<9&4294967295|D>>>23),D=k+(R^C&(j^R))+O[11]+643717713&4294967295,k=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(k^j))+O[0]+3921069994&4294967295,C=k+(D<<20&4294967295|D>>>12),D=R+(k^j&(C^k))+O[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^k&(R^C))+O[10]+38016083&4294967295,j=R+(D<<9&4294967295|D>>>23),D=k+(R^C&(j^R))+O[15]+3634488961&4294967295,k=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(k^j))+O[4]+3889429448&4294967295,C=k+(D<<20&4294967295|D>>>12),D=R+(k^j&(C^k))+O[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^k&(R^C))+O[14]+3275163606&4294967295,j=R+(D<<9&4294967295|D>>>23),D=k+(R^C&(j^R))+O[3]+4107603335&4294967295,k=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(k^j))+O[8]+1163531501&4294967295,C=k+(D<<20&4294967295|D>>>12),D=R+(k^j&(C^k))+O[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^k&(R^C))+O[2]+4243563512&4294967295,j=R+(D<<9&4294967295|D>>>23),D=k+(R^C&(j^R))+O[7]+1735328473&4294967295,k=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(k^j))+O[12]+2368359562&4294967295,C=k+(D<<20&4294967295|D>>>12),D=R+(C^k^j)+O[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^k)+O[8]+2272392833&4294967295,j=R+(D<<11&4294967295|D>>>21),D=k+(j^R^C)+O[11]+1839030562&4294967295,k=j+(D<<16&4294967295|D>>>16),D=C+(k^j^R)+O[14]+4259657740&4294967295,C=k+(D<<23&4294967295|D>>>9),D=R+(C^k^j)+O[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^k)+O[4]+1272893353&4294967295,j=R+(D<<11&4294967295|D>>>21),D=k+(j^R^C)+O[7]+4139469664&4294967295,k=j+(D<<16&4294967295|D>>>16),D=C+(k^j^R)+O[10]+3200236656&4294967295,C=k+(D<<23&4294967295|D>>>9),D=R+(C^k^j)+O[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^k)+O[0]+3936430074&4294967295,j=R+(D<<11&4294967295|D>>>21),D=k+(j^R^C)+O[3]+3572445317&4294967295,k=j+(D<<16&4294967295|D>>>16),D=C+(k^j^R)+O[6]+76029189&4294967295,C=k+(D<<23&4294967295|D>>>9),D=R+(C^k^j)+O[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^k)+O[12]+3873151461&4294967295,j=R+(D<<11&4294967295|D>>>21),D=k+(j^R^C)+O[15]+530742520&4294967295,k=j+(D<<16&4294967295|D>>>16),D=C+(k^j^R)+O[2]+3299628645&4294967295,C=k+(D<<23&4294967295|D>>>9),D=R+(k^(C|~j))+O[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~k))+O[7]+1126891415&4294967295,j=R+(D<<10&4294967295|D>>>22),D=k+(R^(j|~C))+O[14]+2878612391&4294967295,k=j+(D<<15&4294967295|D>>>17),D=C+(j^(k|~R))+O[5]+4237533241&4294967295,C=k+(D<<21&4294967295|D>>>11),D=R+(k^(C|~j))+O[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~k))+O[3]+2399980690&4294967295,j=R+(D<<10&4294967295|D>>>22),D=k+(R^(j|~C))+O[10]+4293915773&4294967295,k=j+(D<<15&4294967295|D>>>17),D=C+(j^(k|~R))+O[1]+2240044497&4294967295,C=k+(D<<21&4294967295|D>>>11),D=R+(k^(C|~j))+O[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~k))+O[15]+4264355552&4294967295,j=R+(D<<10&4294967295|D>>>22),D=k+(R^(j|~C))+O[6]+2734768916&4294967295,k=j+(D<<15&4294967295|D>>>17),D=C+(j^(k|~R))+O[13]+1309151649&4294967295,C=k+(D<<21&4294967295|D>>>11),D=R+(k^(C|~j))+O[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~k))+O[11]+3174756917&4294967295,j=R+(D<<10&4294967295|D>>>22),D=k+(R^(j|~C))+O[2]+718787259&4294967295,k=j+(D<<15&4294967295|D>>>17),D=C+(j^(k|~R))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var C=R-this.blockSize,O=this.B,k=this.h,j=0;j<R;){if(k==0)for(;j<=C;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<R;)if(O[k++]=N.charCodeAt(j++),k==this.blockSize){o(this,O),k=0;break}}else for(;j<R;)if(O[k++]=N[j++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var C=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=C&255,C/=256;for(this.u(N),N=Array(16),R=C=0;4>R;++R)for(var O=0;32>O;O+=8)N[C++]=this.g[R]>>>O&255;return N};function u(N,R){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=R(N)}function f(N,R){this.h=R;for(var C=[],O=!0,k=N.length-1;0<=k;k--){var j=N[k]|0;O&&j==R||(C[k]=j,O=!1)}this.g=C}var m={};function p(N){return-128<=N&&128>N?u(N,function(R){return new f([R|0],0>R?-1:0)}):new f([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return L(g(-N));for(var R=[],C=1,O=0;N>=C;O++)R[O]=N/C|0,C*=4294967296;return new f(R,0)}function E(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return L(E(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),O=w,k=0;k<N.length;k+=8){var j=Math.min(8,N.length-k),D=parseInt(N.substring(k,k+j),R);8>j?(j=g(Math.pow(R,j)),O=O.j(j).add(g(D))):(O=O.j(C),O=O.add(g(D)))}return O}var w=p(0),A=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(Z(this))return-L(this).m();for(var N=0,R=1,C=0;C<this.g.length;C++){var O=this.i(C);N+=(0<=O?O:4294967296+O)*R,R*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(G(this))return"0";if(Z(this))return"-"+L(this).toString(N);for(var R=g(Math.pow(N,6)),C=this,O="";;){var k=Ae(C,R).g;C=ue(C,k.j(R));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=k,G(C))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function G(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function Z(N){return N.h==-1}r.l=function(N){return N=ue(this,N),Z(N)?-1:G(N)?0:1};function L(N){for(var R=N.g.length,C=[],O=0;O<R;O++)C[O]=~N.g[O];return new f(C,~N.h).add(A)}r.abs=function(){return Z(this)?L(this):this},r.add=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],O=0,k=0;k<=R;k++){var j=O+(this.i(k)&65535)+(N.i(k)&65535),D=(j>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);O=D>>>16,j&=65535,D&=65535,C[k]=D<<16|j}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ue(N,R){return N.add(L(R))}r.j=function(N){if(G(this)||G(N))return w;if(Z(this))return Z(N)?L(this).j(L(N)):L(L(this).j(N));if(Z(N))return L(this.j(L(N)));if(0>this.l(V)&&0>N.l(V))return g(this.m()*N.m());for(var R=this.g.length+N.g.length,C=[],O=0;O<2*R;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<N.g.length;k++){var j=this.i(O)>>>16,D=this.i(O)&65535,At=N.i(k)>>>16,xt=N.i(k)&65535;C[2*O+2*k]+=D*xt,he(C,2*O+2*k),C[2*O+2*k+1]+=j*xt,he(C,2*O+2*k+1),C[2*O+2*k+1]+=D*At,he(C,2*O+2*k+1),C[2*O+2*k+2]+=j*At,he(C,2*O+2*k+2)}for(O=0;O<R;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=R;O<2*R;O++)C[O]=0;return new f(C,0)};function he(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function re(N,R){this.g=N,this.h=R}function Ae(N,R){if(G(R))throw Error("division by zero");if(G(N))return new re(w,w);if(Z(N))return R=Ae(L(N),R),new re(L(R.g),L(R.h));if(Z(R))return R=Ae(N,L(R)),new re(L(R.g),R.h);if(30<N.g.length){if(Z(N)||Z(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,O=R;0>=O.l(N);)C=Pe(C),O=Pe(O);var k=xe(C,1),j=xe(O,1);for(O=xe(O,2),C=xe(C,2);!G(O);){var D=j.add(O);0>=D.l(N)&&(k=k.add(C),j=D),O=xe(O,1),C=xe(C,1)}return R=ue(N,k.j(R)),new re(k,R)}for(k=w;0<=N.l(R);){for(C=Math.max(1,Math.floor(N.m()/R.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=g(C),D=j.j(R);Z(D)||0<D.l(N);)C-=O,j=g(C),D=j.j(R);G(j)&&(j=A),k=k.add(j),N=ue(N,D)}return new re(k,N)}r.A=function(N){return Ae(this,N).h},r.and=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)&N.i(O);return new f(C,this.h&N.h)},r.or=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)|N.i(O);return new f(C,this.h|N.h)},r.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)^N.i(O);return new f(C,this.h^N.h)};function Pe(N){for(var R=N.g.length+1,C=[],O=0;O<R;O++)C[O]=N.i(O)<<1|N.i(O-1)>>>31;return new f(C,N.h)}function xe(N,R){var C=R>>5;R%=32;for(var O=N.g.length-C,k=[],j=0;j<O;j++)k[j]=0<R?N.i(j+C)>>>R|N.i(j+C+1)<<32-R:N.i(j+C);return new f(k,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,o1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Bs=f}).apply(typeof U0<"u"?U0:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l1,Wl,u1,Eh,tp,c1,h1,f1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var H=c[S];if(!(H in _))break e;_=_[H]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,H={next:function(){if(!S&&_<c.length){var W=_++;return{value:y(W,c[W]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function V(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function G(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,H,W){for(var pe=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)pe[ct-2]=arguments[ct];return y.prototype[H].apply(S,pe)}}function Z(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const H=c.length||0,W=S.length||0;c.length=H+W;for(let pe=0;pe<W;pe++)c[H+pe]=S[pe]}else c.push(S)}}class ue{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function he(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Ae(c){return Ae[" "](c),c}Ae[" "]=function(){};var Pe=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function xe(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(_ in S)c[_]=S[_];for(let W=0;W<C.length;W++)_=C[W],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function D(){var c=et;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class At{constructor(){this.h=this.g=null}add(y,_){const S=xt.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var xt=new ue(()=>new ee,c=>c.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let de,Ee=!1,et=new At,B=()=>{const c=m.Promise.resolve(void 0);de=()=>{c.then(T)}};var T=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){j(_)}var y=xt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Ee=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var oe=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c})();function ce(c,y){if(Q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Pe){e:{try{Ae(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ce.aa.h.call(this)}}G(ce,Q);var me={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),we=0;function be(c,y,_,S,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=H,this.key=++we,this.da=this.fa=!1}function ze(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c){this.src=c,this.g={},this.h=0}je.prototype.add=function(c,y,_,S,H){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var pe=Ye(c,y,S,H);return-1<pe?(y=c[pe],_||(y.fa=!1)):(y=new be(y,this.src,W,!!S,H),y.fa=_,c.push(y)),y};function Fe(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],H=Array.prototype.indexOf.call(S,y,void 0),W;(W=0<=H)&&Array.prototype.splice.call(S,H,1),W&&(ze(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ye(c,y,_,S){for(var H=0;H<c.length;++H){var W=c[H];if(!W.da&&W.listener==y&&W.capture==!!_&&W.ha==S)return H}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),vt={};function Rt(c,y,_,S,H){if(Array.isArray(y)){for(var W=0;W<y.length;W++)Rt(c,y[W],_,S,H);return null}return _=Vi(_),c&&c[fe]?c.K(y,_,g(S)?!!S.capture:!1,H):en(c,y,_,!1,S,H)}function en(c,y,_,S,H,W){if(!y)throw Error("Invalid event type");var pe=g(H)?!!H.capture:!!H,ct=mr(c);if(ct||(c[Re]=ct=new je(c)),_=ct.add(y,_,S,pe,W),_.proxy)return _;if(S=In(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)oe||(H=pe),H===void 0&&(H=!1),c.addEventListener(y.toString(),S,H);else if(c.attachEvent)c.attachEvent(Ki(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function In(){function c(_){return y.call(c.src,c.listener,_)}const y=ta;return c}function Cn(c,y,_,S,H){if(Array.isArray(y))for(var W=0;W<y.length;W++)Cn(c,y[W],_,S,H);else S=g(S)?!!S.capture:!!S,_=Vi(_),c&&c[fe]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],_=Ye(W,_,S,H),-1<_&&(ze(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=mr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ye(y,_,S,H)),(_=-1<c?y[c]:null)&&Ft(_))}function Ft(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[fe])Fe(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(Ki(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=mr(y))?(Fe(_,c),_.h==0&&(_.src=null,y[Re]=null)):ze(c)}}}function Ki(c){return c in vt?vt[c]:vt[c]="on"+c}function ta(c,y){if(c.da)c=!0;else{y=new ce(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Ft(c),c=_.call(S,y)}return c}function mr(c){return c=c[Re],c instanceof je?c:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vi(c){return typeof c=="function"?c:(c[Ot]||(c[Ot]=function(y){return c.handleEvent(y)}),c[Ot])}function _t(){U.call(this),this.i=new je(this),this.M=this,this.F=null}G(_t,U),_t.prototype[fe]=!0,_t.prototype.removeEventListener=function(c,y,_,S){Cn(this,c,y,_,S)};function Et(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new Q(y,c);else if(y instanceof Q)y.target=y.target||c;else{var H=y;y=new Q(S,c),O(y,H)}if(H=!0,_)for(var W=_.length-1;0<=W;W--){var pe=y.g=_[W];H=ti(pe,S,!0,y)&&H}if(pe=y.g=c,H=ti(pe,S,!0,y)&&H,H=ti(pe,S,!1,y)&&H,_)for(W=0;W<_.length;W++)pe=y.g=_[W],H=ti(pe,S,!1,y)&&H}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)ze(_[S]);delete c.g[y],c.h--}}this.F=null},_t.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},_t.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function ti(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,W=0;W<y.length;++W){var pe=y[W];if(pe&&!pe.da&&pe.capture==_){var ct=pe.listener,Qt=pe.ha||pe.src;pe.fa&&Fe(c.i,pe),H=ct.call(Qt,S)!==!1&&H}}return H&&!S.defaultPrevented}function pr(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function _i(c){c.g=pr(()=>{c.g=null,c.i&&(c.i=!1,_i(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class $i extends U{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_i(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gn(c){U.call(this),this.h=c,this.g={}}G(gn,U);var zt=[];function ln(c){xe(c.g,function(y,_){this.g.hasOwnProperty(_)&&Ft(y)},c),c.g={}}gn.prototype.N=function(){gn.aa.N.call(this),ln(this)},gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=m.JSON.stringify,tn=m.JSON.parse,el=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function na(){}na.prototype.h=null;function Jr(c){return c.h||(c.h=c.i())}function kn(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){Q.call(this,"d")}G(ki,Q);function ni(){Q.call(this,"c")}G(ni,Q);var Ln={},Xi=null;function Wr(){return Xi=Xi||new _t}Ln.La="serverreachability";function ia(c){Q.call(this,Ln.La,c)}G(ia,Q);function Pi(c){const y=Wr();Et(y,new ia(y))}Ln.STAT_EVENT="statevent";function Ji(c,y){Q.call(this,Ln.STAT_EVENT,c),this.stat=y}G(Ji,Q);function Dt(c){const y=Wr();Et(y,new Ji(y,c))}Ln.Ma="timingevent";function Li(c,y){Q.call(this,Ln.Ma,c),this.size=y}G(Li,Q);function Un(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function Wi(c,y,_,S,H,W){c.info(function(){if(c.g)if(W)for(var pe="",ct=W.split("&"),Qt=0;Qt<ct.length;Qt++){var Ge=ct[Qt].split("=");if(1<Ge.length){var cn=Ge[0];Ge=Ge[1];var hn=cn.split("_");pe=2<=hn.length&&hn[1]=="type"?pe+(cn+"="+Ge+"&"):pe+(cn+"=redacted&")}}else pe=null;else pe=W;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+y+`
`+_+`
`+pe})}function ra(c,y,_,S,H,W,pe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+y+`
`+_+`
`+W+" "+pe})}function ii(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ei(c,_)+(S?" "+S:"")})}function Ba(c,y){c.info(function(){return"TIMEOUT: "+y})}yn.prototype.info=function(){};function Ei(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var W=H[0];if(W!="noop"&&W!="stop"&&W!="close")for(var pe=1;pe<H.length;pe++)H[pe]=""}}}}return Vn(_)}catch{return y}}var It={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ti;function ri(){}G(ri,na),ri.prototype.g=function(){return new XMLHttpRequest},ri.prototype.i=function(){return{}},Ti=new ri;function wi(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new gn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qa}function qa(){this.i=null,this.g="",this.h=!1}var sa={},Ui={};function zi(c,y,_){c.L=1,c.v=oa(Vt(y)),c.m=_,c.P=!0,vn(c,null)}function vn(c,y){c.F=Date.now(),X(c),c.A=Vt(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),yr(_.i,"t",S),c.C=0,_=c.j.J,c.h=new qa,c.g=Wu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new $i(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(zt[0]=H.toString()),H=zt);for(var W=0;W<H.length;W++){var pe=Rt(_,H[W],S||y.handleEvent,!1,y.h||y);if(!pe)break;y.g[pe.key]=pe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Pi(),Wi(c.i,c.u,c.A,c.l,c.R,c.m)}wi.prototype.ca=function(c){c=c.target;const y=this.M;y&&jn(c)==3?y.j():this.Y(c)},wi.prototype.Y=function(c){try{if(c==this.g)e:{const hn=jn(this.g);var y=this.g.Ba();const ls=this.g.Z();if(!(3>hn)&&(hn!=3||this.g&&(this.h.h||this.g.oa()||ca(this.g)))){this.J||hn!=4||y==7||(y==8||0>=ls?Pi(3):Pi(2)),ye(this);var _=this.g.Z();this.X=_;t:if(I(this)){var S=ca(this.g);c="";var H=S.length,W=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Se(this),Ve(this);var pe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(W&&y==H-1)});S.length=0,this.h.g+=c,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=_==200,ra(this.i,this.u,this.A,this.l,this.R,hn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,Qt=this.g;if((ct=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!he(ct)){var Ge=ct;break t}}Ge=null}if(_=Ge)ii(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nt(this,_);else{this.o=!1,this.s=3,Dt(12),Se(this),Ve(this);break e}}if(this.P){_=!0;let Yn;for(;!this.J&&this.C<pe.length;)if(Yn=F(this,pe),Yn==Ui){hn==4&&(this.s=4,Dt(14),_=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==sa){this.s=4,Dt(15),ii(this.i,this.l,pe,"[Invalid Chunk]"),_=!1;break}else ii(this.i,this.l,Yn,null),nt(this,Yn);if(I(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hn!=4||pe.length!=0||this.h.h||(this.s=1,Dt(16),_=!1),this.o=this.o&&_,!_)ii(this.i,this.l,pe,"[Invalid Chunked Response]"),Se(this),Ve(this);else if(0<pe.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),ul(cn),cn.M=!0,Dt(11))}}else ii(this.i,this.l,pe,null),nt(this,pe);hn==4&&Se(this),this.o&&!this.J&&(hn==4?$u(this.j,this):(this.o=!1,X(this)))}else Hu(this.g),_==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Se(this),Ve(this)}}}catch{}finally{}};function I(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function F(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?Ui:(_=Number(y.substring(_,S)),isNaN(_)?sa:(S+=1,S+_>y.length?Ui:(y=y.slice(S,S+_),c.C=S+_,y)))}wi.prototype.cancel=function(){this.J=!0,Se(this)};function X(c){c.S=Date.now()+c.I,se(c,c.I)}function se(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Un(A(c.ba,c),y)}function ye(c){c.B&&(m.clearTimeout(c.B),c.B=null)}wi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ba(this.i,this.A),this.L!=2&&(Pi(),Dt(17)),Se(this),this.s=2,Ve(this)):se(this,this.S-c)};function Ve(c){c.j.G==0||c.J||$u(c.j,c)}function Se(c){ye(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ln(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function nt(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Fn(_.h,c))){if(!c.K&&Fn(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)as(_),ss(_);else break e;ll(_),Dt(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Un(A(_.Za,_),6e3));if(1>=Gt(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else _r(_,11)}else if((c.K||_.g==c)&&as(_),!he(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let Ge=H[y];if(_.T=Ge[0],Ge=Ge[1],_.G==2)if(Ge[0]=="c"){_.K=Ge[1],_.ia=Ge[2];const cn=Ge[3];cn!=null&&(_.la=cn,_.j.info("VER="+_.la));const hn=Ge[4];hn!=null&&(_.Aa=hn,_.j.info("SVER="+_.Aa));const ls=Ge[5];ls!=null&&typeof ls=="number"&&0<ls&&(S=1.5*ls,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Yn=c.g;if(Yn){const da=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var W=S.h;W.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Gn(W,W.h),W.h=null))}if(S.D){const Er=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Er&&(S.ya=Er,st(S.I,S.D,Er))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var pe=c;if(S.qa=Ju(S,S.J?S.ia:null,S.W),pe.K){rn(S.h,pe);var ct=pe,Qt=S.L;Qt&&(ct.I=Qt),ct.B&&(ye(ct),X(ct)),S.g=pe}else Yu(S);0<_.i.length&&Xa(_)}else Ge[0]!="stop"&&Ge[0]!="close"||_r(_,7);else _.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?_r(_,7):al(_):Ge[0]!="noop"&&_.l&&_.l.ta(Ge),_.v=0)}}Pi(4)}catch{}}var lt=class{constructor(c,y){this.g=c,this.map=y}};function Be(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Le(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Gt(c){return c.h?1:c.g?c.g.size:0}function Fn(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Gn(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Be.prototype.cancel=function(){if(this.i=jt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jt(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Z(c.i)}function ji(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function zn(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Ha(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=zn(c),S=ji(c),H=S.length,W=0;W<H;W++)y.call(void 0,S[W],_&&_[W],c)}var tl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fa(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),H=null;if(0<=S){var W=c[_].substring(0,S);H=c[_].substring(S+1)}else W=c[_];y(W,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function gr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gr){this.h=c.h,Zr(this,c.j),this.o=c.o,this.g=c.g,aa(this,c.s),this.l=c.l;var y=c.i,_=new Zi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ga(this,_),this.m=c.m}else c&&(y=String(c).match(tl))?(this.h=!1,Zr(this,y[1]||"",!0),this.o=es(y[2]||""),this.g=es(y[3]||"",!0),aa(this,y[4]),this.l=es(y[5]||"",!0),Ga(this,y[6]||"",!0),this.m=es(y[7]||"")):(this.h=!1,this.i=new Zi(null,this.h))}gr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(bi(y,nl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(bi(y,nl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(bi(_,_.charAt(0)=="/"?il:zu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",bi(_,Tf)),c.join("")};function Vt(c){return new gr(c)}function Zr(c,y,_){c.j=_?es(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function aa(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ga(c,y,_){y instanceof Zi?(c.i=y,ju(c.i,c.h)):(_||(y=bi(y,Ef)),c.i=new Zi(y,c.h))}function st(c,y,_){c.i.set(y,_)}function oa(c){return st(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function es(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bi(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,_f),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _f(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nl=/[#\/\?@]/g,zu=/[#\?:]/g,il=/[#\?]/g,Ef=/[#\?@]/g,Tf=/#/g;function Zi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&Fa(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Zi.prototype,r.add=function(c,y){un(this),this.i=null,c=si(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Qa(c,y){un(c),y=si(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ya(c,y){return un(c),y=si(c,y),c.g.has(y)}r.forEach=function(c,y){un(this),this.g.forEach(function(_,S){_.forEach(function(H){c.call(y,H,S,this)},this)},this)},r.na=function(){un(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const H=c[S];for(let W=0;W<H.length;W++)_.push(y[S])}return _},r.V=function(c){un(this);let y=[];if(typeof c=="string")Ya(this,c)&&(y=y.concat(this.g.get(si(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return un(this),this.i=null,c=si(this,c),Ya(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function yr(c,y,_){Qa(c,y),0<_.length&&(c.i=null,c.g.set(si(c,y),Z(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const W=encodeURIComponent(String(S)),pe=this.V(S);for(S=0;S<pe.length;S++){var H=W;pe[S]!==""&&(H+="="+encodeURIComponent(String(pe[S]))),c.push(H)}}return this.i=c.join("&")};function si(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ju(c,y){y&&!c.j&&(un(c),c.i=null,c.g.forEach(function(_,S){var H=S.toLowerCase();S!=H&&(Qa(this,S),yr(this,H,_))},c)),c.j=y}function rl(c,y){const _=new yn;if(m.Image){const S=new Image;S.onload=V(Qn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=V(Qn,_,"TestLoadImage: error",!1,y,S),S.onabort=V(Qn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=V(Qn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Bu(c,y){const _=new yn,S=new AbortController,H=setTimeout(()=>{S.abort(),Qn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(W=>{clearTimeout(H),W.ok?Qn(_,"TestPingServer: ok",!0,y):Qn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Qn(_,"TestPingServer: error",!1,y)})}function Qn(c,y,_,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(_)}catch{}}function Bi(){this.g=new el}function sl(c,y,_){const S=_||"";try{Ha(c,function(H,W){let pe=H;g(H)&&(pe=Vn(H)),y.push(S+W+"="+encodeURIComponent(pe))})}catch(H){throw y.push(S+"type="+encodeURIComponent("_badmap")),H}}function er(c){this.l=c.Ub||null,this.j=c.eb||!1}G(er,na),er.prototype.g=function(){return new ai(this.l,this.j)},er.prototype.i=(function(c){return function(){return c}})({});function ai(c,y){_t.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(ai,_t),r=ai.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ts(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ka(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ka(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?tr(this):ts(this),this.readyState==3&&Ka(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,tr(this))},r.Qa=function(c){this.g&&(this.response=c,tr(this))},r.ga=function(){this.g&&tr(this)};function tr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ts(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ts(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function la(c){let y="";return xe(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function ns(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=la(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):st(c,y,_))}function Tt(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(Tt,_t);var xn=/^https?$/i,vr=["POST","PUT"];r=Tt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ti.g(),this.v=this.o?Jr(this.o):Jr(Ti),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){ua(this,W);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)_.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const W of S.keys())_.set(W,S.get(W));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(vr,y,void 0))||S||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,pe]of _)this.g.setRequestHeader(W,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$a(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){ua(this,W)}};function ua(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,is(c),rs(c)}function is(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Et(this,"complete"),Et(this,"abort"),rs(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),Tt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?qu(this):this.bb())},r.bb=function(){qu(this)};function qu(c){if(c.h&&typeof f<"u"&&(!c.v[1]||jn(c)!=4||c.Z()!=2)){if(c.u&&jn(c)==4)pr(c.Ea,0,c);else if(Et(c,"readystatechange"),jn(c)==4){c.h=!1;try{const pe=c.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=pe===0){var H=String(c.D).match(tl)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),S=!xn.test(H?H.toLowerCase():"")}_=S}if(_)Et(c,"complete"),Et(c,"success");else{c.m=6;try{var W=2<jn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",is(c)}}finally{rs(c)}}}}function rs(c,y){if(c.g){$a(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Et(c,"ready");try{_.onreadystatechange=S}catch{}}}function $a(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function jn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),tn(y)}};function ca(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hu(c){const y={};c=(c.g&&2<=jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(he(c[S]))continue;var _=k(c[S]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=y[H]||[];y[H]=W,W.push(_)}N(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Fu(c){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,c),this.cb=ha("retryDelaySeedMs",1e4,c),this.Wa=ha("forwardChannelMaxRetries",2,c),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Be(c&&c.concurrentRequestLimit),this.Da=new Bi,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Fu.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,S){Dt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Ju(this,null,this.W),Xa(this)};function al(c){if(Gu(c),c.G==3){var y=c.U++,_=Vt(c.I);if(st(_,"SID",c.K),st(_,"RID",y),st(_,"TYPE","terminate"),fa(c,_),y=new wi(c,c.j,y),y.L=2,y.v=oa(Vt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Wu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),X(y)}cl(c)}function ss(c){c.g&&(ul(c),c.g.cancel(),c.g=null)}function Gu(c){ss(c),c.u&&(m.clearTimeout(c.u),c.u=null),as(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Xa(c){if(!Le(c.h)&&!c.s){c.s=!0;var y=c.Ga;de||B(),Ee||(de(),Ee=!0),et.add(y,c),c.B=0}}function wf(c,y){return Gt(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Un(A(c.Ga,c,y),Xu(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new wi(this,this.j,c);let W=this.o;if(this.S&&(W?(W=R(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(H.H=W,W=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ol(this,H,y),_=Vt(this.I),st(_,"RID",c),st(_,"CVER",22),this.D&&st(_,"X-HTTP-Session-Id",this.D),fa(this,_),W&&(this.O?y="headers="+encodeURIComponent(String(la(W)))+"&"+y:this.m&&ns(_,this.m,W)),Gn(this.h,H),this.Ua&&st(_,"TYPE","init"),this.P?(st(_,"$req",y),st(_,"SID","null"),H.T=!0,zi(H,_,null)):zi(H,_,y),this.G=2}}else this.G==3&&(c?Qu(this,c):this.i.length==0||Le(this.h)||Qu(this))};function Qu(c,y){var _;y?_=y.l:_=c.U++;const S=Vt(c.I);st(S,"SID",c.K),st(S,"RID",_),st(S,"AID",c.T),fa(c,S),c.m&&c.o&&ns(S,c.m,c.o),_=new wi(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ol(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Gn(c.h,_),zi(_,S,y)}function fa(c,y){c.H&&xe(c.H,function(_,S){st(y,S,_)}),c.l&&Ha({},function(_,S){st(y,S,_)})}function ol(c,y,_){_=Math.min(c.i.length,_);var S=c.l?A(c.l.Na,c.l,c):null;e:{var H=c.i;let W=-1;for(;;){const pe=["count="+_];W==-1?0<_?(W=H[0].g,pe.push("ofs="+W)):W=0:pe.push("ofs="+W);let ct=!0;for(let Qt=0;Qt<_;Qt++){let Ge=H[Qt].g;const cn=H[Qt].map;if(Ge-=W,0>Ge)W=Math.max(0,H[Qt].g-100),ct=!1;else try{sl(cn,pe,"req"+Ge+"_")}catch{S&&S(cn)}}if(ct){S=pe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function Yu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;de||B(),Ee||(de(),Ee=!0),et.add(y,c),c.v=0}}function ll(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Un(A(c.Fa,c),Xu(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Un(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),ss(this),Ku(this))};function ul(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ku(c){c.g=new wi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Vt(c.qa);st(y,"RID","rpc"),st(y,"SID",c.K),st(y,"AID",c.T),st(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&st(y,"TO",c.ja),st(y,"TYPE","xmlhttp"),fa(c,y),c.m&&c.o&&ns(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=oa(Vt(y)),_.m=null,_.P=!0,vn(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ss(this),ll(this),Dt(19))};function as(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function $u(c,y){var _=null;if(c.g==y){as(c),ul(c),c.g=null;var S=2}else if(Fn(c.h,y))_=y.D,rn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;S=Wr(),Et(S,new Li(S,_)),Xa(c)}else Yu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(S==1&&wf(c,y)||S==2&&ll(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:_r(c,5);break;case 4:_r(c,10);break;case 3:_r(c,6);break;default:_r(c,2)}}}function Xu(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function _r(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),S=c.Xa;const H=!S;S=new gr(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Zr(S,"https"),oa(S),H?rl(S.toString(),_):Bu(S.toString(),_)}else Dt(2);c.G=0,c.l&&c.l.sa(y),cl(c),Gu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function cl(c){if(c.G=0,c.ka=[],c.l){const y=jt(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function Ju(c,y,_){var S=_ instanceof gr?Vt(_):new gr(_);if(S.g!="")y&&(S.g=y+"."+S.g),aa(S,S.s);else{var H=m.location;S=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var W=new gr(null);S&&Zr(W,S),y&&(W.g=y),H&&aa(W,H),_&&(W.l=_),S=W}return _=c.D,y=c.ya,_&&y&&st(S,_,y),st(S,"VER",c.la),fa(c,S),S}function Wu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Tt(new er({eb:_})):new Tt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}r=Zu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ja(){}Ja.prototype.g=function(c,y){return new Bn(c,y)};function Bn(c,y){_t.call(this),this.g=new Fu(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!he(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!he(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new os(this)}G(Bn,_t),Bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){al(this.g)},Bn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Vn(c),c=_);y.i.push(new lt(y.Ya++,c)),y.G==3&&Xa(y)},Bn.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,Bn.aa.N.call(this)};function ec(c){ki.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}G(ec,ki);function tc(){ni.call(this),this.status=1}G(tc,ni);function os(c){this.g=c}G(os,Zu),os.prototype.ua=function(){Et(this.g,"a")},os.prototype.ta=function(c){Et(this.g,new ec(c))},os.prototype.sa=function(c){Et(this.g,new tc)},os.prototype.ra=function(){Et(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,f1=function(){return new Ja},h1=function(){return Wr()},c1=Ln,tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},It.NO_ERROR=0,It.TIMEOUT=8,It.HTTP_ERROR=6,Eh=It,nn.COMPLETE="complete",u1=nn,kn.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Wl=kn,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,l1=Tt}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});const z0="@firebase/firestore",j0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new Rp("@firebase/firestore");function Io(){return ka.logLevel}function ve(r,...e){if(ka.logLevel<=We.DEBUG){const n=e.map(Bp);ka.debug(`Firestore (${Ko}): ${r}`,...n)}}function Qr(r,...e){if(ka.logLevel<=We.ERROR){const n=e.map(Bp);ka.error(`Firestore (${Ko}): ${r}`,...n)}}function Gs(r,...e){if(ka.logLevel<=We.WARN){const n=e.map(Bp);ka.warn(`Firestore (${Ko}): ${r}`,...n)}}function Bp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,d1(r,s,n)}function d1(r,e,n){let s=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Qr(s),new Error(s)}function rt(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||d1(e,o,s)}function ke(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ix{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Mn.UNAUTHENTICATED)))}shutdown(){}}class rx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sx{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rt(typeof s.accessToken=="string",31837,{l:s}),new m1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new Mn(e)}}class ax{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ox{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ax(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class B0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const s=u=>{u.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ve("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new B0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new B0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ux(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Qe(r,e){return r<e?-1:r>e?1:0}function np(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Qe(s,o);{const u=p1(),f=cx(u.encode(q0(r,n)),u.encode(q0(e,n)));return f!==0?f:Qe(s,o)}}n+=s>65535?2:1}return Qe(r.length,e.length)}function q0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function cx(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Qe(r[n],e[n]);return Qe(r.length,e.length)}function Uo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="__name__";class ar{constructor(e,n,s){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&De(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ar.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Qe(e.length,n.length)}static compareSegments(e,n){const s=ar.isNumericId(e),o=ar.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ar.extractNumericId(e).compare(ar.extractNumericId(n)):np(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class gt extends ar{construct(e,n,s){return new gt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new gt(n)}static emptyPath(){return new gt([])}}const hx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends ar{construct(e,n,s){return new Sn(e,n,s)}static isValidIdentifier(e){return hx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H0}static keyField(){return new Sn([H0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ge(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ge(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(gt.fromString(e))}static fromName(e){return new Ie(gt.fromString(e).popFirst(5))}static empty(){return new Ie(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r,e,n){if(!n)throw new ge(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function fx(r,e,n,s){if(e===!0&&s===!0)throw new ge(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function F0(r){if(!Ie.isDocumentKey(r))throw new ge(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function G0(r){if(Ie.isDocumentKey(r))throw new ge(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function y1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function nf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":De(12329,{type:typeof r})}function gi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nf(r);throw new ge(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Iu(r,e){if(!y1(r))throw new ge(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ge(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=-62135596800,Y0=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Y0);return new St(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Q0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y0}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Iu(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Q0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Zt("string",St._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new St(0,0))}static max(){return new Me(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function dx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Me.fromTimestamp(s===1e9?new St(n+1,0):new St(n,s));return new Qs(o,Ie.empty(),e)}function mx(r){return new Qs(r.readTime,r.key,fu)}class Qs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Qs(Me.min(),Ie.empty(),fu)}static max(){return new Qs(Me.max(),Ie.empty(),fu)}}function px(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(r.documentKey,e.documentKey),n!==0?n:Qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==gx)throw r;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,s)=>{n(e)}))}static reject(e){return new le(((n,s)=>{s(e)}))}static waitFor(e){return new le(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=le.resolve(!1);for(const s of e)n=n.next((o=>o?le.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new le(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new le(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function vx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}rf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=-1;function Cu(r){return r==null}function Ph(r){return r===0&&1/r==-1/0}function _x(r){return typeof r=="number"&&Number.isInteger(r)&&!Ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="";function Ex(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=K0(e)),e=Tx(r.get(n),e);return K0(e)}function Tx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case v1:n+="";break;default:n+=u}}return n}function K0(r){return r+v1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Zs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function _1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}}class ch{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??bn.RED,this.left=o??bn.EMPTY,this.right=u??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new bn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return bn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X0(this.data.getIterator())}getIteratorFrom(e){return new X0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class X0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new pi([])}unionWith(e){let n=new on(Sn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new pi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new E1("Invalid base64 string: "+u):u}})(e);return new An(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const wx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(r){if(rt(!!r,39018),typeof r=="string"){let e=0;const n=wx.exec(r);if(rt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ht(r.seconds),nanos:Ht(r.nanos)}}function Ht(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ks(r){return typeof r=="string"?An.fromBase64String(r):An.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="server_timestamp",w1="__type__",b1="__previous_value__",S1="__local_write_time__";function Fp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[w1])===null||n===void 0?void 0:n.stringValue)===T1}function sf(r){const e=r.mapValue.fields[b1];return Fp(e)?sf(e):e}function du(r){const e=Ys(r.mapValue.fields[S1].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Lh="(default)";class mu{constructor(e,n){this.projectId=e,this.database=n||Lh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="__type__",Sx="__max__",hh={mapValue:{}},R1="__vector__",Uh="value";function $s(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fp(r)?4:Rx(r)?9007199254740991:Ax(r)?10:11:De(28295,{value:r})}function dr(r,e){if(r===e)return!0;const n=$s(r);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return du(r).isEqual(du(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ys(o.timestampValue),m=Ys(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ks(o.bytesValue).isEqual(Ks(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ht(o.geoPointValue.latitude)===Ht(u.geoPointValue.latitude)&&Ht(o.geoPointValue.longitude)===Ht(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ht(o.integerValue)===Ht(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ht(o.doubleValue),m=Ht(u.doubleValue);return f===m?Ph(f)===Ph(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return Uo(r.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if($0(f)!==$0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!dr(f[p],m[p])))return!1;return!0})(r,e);default:return De(52216,{left:r})}}function pu(r,e){return(r.values||[]).find((n=>dr(n,e)))!==void 0}function zo(r,e){if(r===e)return 0;const n=$s(r),s=$s(e);if(n!==s)return Qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Ht(u.integerValue||u.doubleValue),p=Ht(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return J0(r.timestampValue,e.timestampValue);case 4:return J0(du(r),du(e));case 5:return np(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=Ks(u),p=Ks(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Qe(m[g],p[g]);if(E!==0)return E}return Qe(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Qe(Ht(u.latitude),Ht(f.latitude));return m!==0?m:Qe(Ht(u.longitude),Ht(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return W0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var m,p,g,E;const w=u.fields||{},A=f.fields||{},V=(m=w[Uh])===null||m===void 0?void 0:m.arrayValue,G=(p=A[Uh])===null||p===void 0?void 0:p.arrayValue,Z=Qe(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((E=G==null?void 0:G.values)===null||E===void 0?void 0:E.length)||0);return Z!==0?Z:W0(V,G)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===hh.mapValue&&f===hh.mapValue)return 0;if(u===hh.mapValue)return 1;if(f===hh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=np(p[w],E[w]);if(A!==0)return A;const V=zo(m[p[w]],g[E[w]]);if(V!==0)return V}return Qe(p.length,E.length)})(r.mapValue,e.mapValue);default:throw De(23264,{le:n})}}function J0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Qe(r,e);const n=Ys(r),s=Ys(e),o=Qe(n.seconds,s.seconds);return o!==0?o:Qe(n.nanos,s.nanos)}function W0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=zo(n[o],s[o]);if(u)return u}return Qe(n.length,s.length)}function jo(r){return ip(r)}function ip(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Ys(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ks(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ie.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ip(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${ip(n.fields[f])}`;return o+"}"})(r.mapValue):De(61005,{value:r})}function Th(r){switch($s(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(r);return e?16+Th(e):16;case 5:return 2*r.stringValue.length;case 6:return Ks(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Th(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Zs(s.fields,((u,f)=>{o+=u.length+Th(f)})),o})(r.mapValue);default:throw De(13486,{value:r})}}function Z0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function rp(r){return!!r&&"integerValue"in r}function Gp(r){return!!r&&"arrayValue"in r}function eE(r){return!!r&&"nullValue"in r}function tE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function wh(r){return!!r&&"mapValue"in r}function Ax(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[A1])===null||n===void 0?void 0:n.stringValue)===R1}function ru(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Zs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ru(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ru(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Rx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Sx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(n)}setAll(e){let n=Sn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=ru(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];wh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Zs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Hn(ru(this.value))}}function I1(r){const e=[];return Zs(r.fields,((n,s)=>{const o=new Sn([n]);if(wh(s)){const u=I1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new pi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new pn(e,0,Me.min(),Me.min(),Me.min(),Hn.empty(),0)}static newFoundDocument(e,n,s,o){return new pn(e,1,n,Me.min(),s,o,0)}static newNoDocument(e,n){return new pn(e,2,n,Me.min(),Me.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Me.min(),Me.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.position=e,this.inclusive=n}}function nE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ie.comparator(Ie.fromName(f.referenceValue),n.key):s=zo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function iE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!dr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ix(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{}class Wt extends C1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new xx(e,n,s):n==="array-contains"?new Mx(e,s):n==="in"?new Ox(e,s):n==="not-in"?new Vx(e,s):n==="array-contains-any"?new kx(e,s):new Wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Dx(e,s):new Nx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zo(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends C1{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Yi(e,n)}matches(e){return x1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function x1(r){return r.op==="and"}function D1(r){return Cx(r)&&x1(r)}function Cx(r){for(const e of r.filters)if(e instanceof Yi)return!1;return!0}function sp(r){if(r instanceof Wt)return r.field.canonicalString()+r.op.toString()+jo(r.value);if(D1(r))return r.filters.map((e=>sp(e))).join(",");{const e=r.filters.map((n=>sp(n))).join(",");return`${r.op}(${e})`}}function N1(r,e){return r instanceof Wt?(function(s,o){return o instanceof Wt&&s.op===o.op&&s.field.isEqual(o.field)&&dr(s.value,o.value)})(r,e):r instanceof Yi?(function(s,o){return o instanceof Yi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&N1(f,o.filters[m])),!0):!1})(r,e):void De(19439)}function M1(r){return r instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`})(r):r instanceof Yi?(function(n){return n.op.toString()+" {"+n.getFilters().map(M1).join(" ,")+"}"})(r):"Filter"}class xx extends Wt{constructor(e,n,s){super(e,n,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dx extends Wt{constructor(e,n){super(e,"in",n),this.keys=O1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Nx extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=O1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function O1(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>Ie.fromName(s.referenceValue)))}class Mx extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gp(n)&&pu(n.arrayValue,this.value)}}class Ox extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}}class Vx extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pu(this.value.arrayValue,n)}}class kx extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>pu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function rE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new Px(r,e,n,s,o,u,f)}function Qp(r){const e=ke(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>sp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Cu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>jo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>jo(s))).join(",")),e.Pe=n}return e.Pe}function Yp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Ix(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!N1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!iE(r.startAt,e.startAt)&&iE(r.endAt,e.endAt)}function ap(r){return Ie.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Lx(r,e,n,s,o,u,f,m){return new xu(r,e,n,s,o,u,f,m)}function Kp(r){return new xu(r)}function sE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function V1(r){return r.collectionGroup!==null}function su(r){const e=ke(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new on(Sn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new jh(u,s))})),n.has(Sn.keyField().canonicalString())||e.Te.push(new jh(Sn.keyField(),s))}return e.Te}function ur(r){const e=ke(r);return e.Ie||(e.Ie=Ux(e,su(r))),e.Ie}function Ux(r,e){if(r.limitType==="F")return rE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new jh(o.field,u)}));const n=r.endAt?new zh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new zh(r.startAt.position,r.startAt.inclusive):null;return rE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function op(r,e){const n=r.filters.concat([e]);return new xu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function lp(r,e,n){return new xu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function af(r,e){return Yp(ur(r),ur(e))&&r.limitType===e.limitType}function k1(r){return`${Qp(ur(r))}|lt:${r.limitType}`}function Co(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>M1(o))).join(", ")}]`),Cu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>jo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>jo(o))).join(",")),`Target(${s})`})(ur(r))}; limitType=${r.limitType})`}function of(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ie.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of su(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=nE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,su(s),o)||s.endAt&&!(function(f,m,p){const g=nE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,su(s),o))})(r,e)}function zx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function P1(r){return(e,n)=>{let s=!1;for(const o of su(r)){const u=jx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function jx(r,e,n){const s=r.field.isKeyField()?Ie.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?zo(p,g):De(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return De(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return _1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Mt(Ie.comparator);function Yr(){return Bx}const L1=new Mt(Ie.comparator);function Zl(...r){let e=L1;for(const n of r)e=e.insert(n.key,n);return e}function U1(r){let e=L1;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Na(){return au()}function z1(){return au()}function au(){return new Ua((r=>r.toString()),((r,e)=>r.isEqual(e)))}const qx=new Mt(Ie.comparator),Hx=new on(Ie.comparator);function Ze(...r){let e=Hx;for(const n of r)e=e.add(n);return e}const Fx=new on(Qe);function Gx(){return Fx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function j1(r){return{integerValue:""+r}}function B1(r,e){return _x(e)?j1(e):$p(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function Qx(r,e,n){return r instanceof Bh?(function(o,u){const f={fields:{[w1]:{stringValue:T1},[S1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fp(u)&&(u=sf(u)),u&&(f.fields[b1]=u),{mapValue:f}})(n,e):r instanceof Bo?H1(r,e):r instanceof gu?F1(r,e):(function(o,u){const f=q1(o,u),m=aE(f)+aE(o.Ee);return rp(f)&&rp(o.Ee)?j1(m):$p(o.serializer,m)})(r,e)}function Yx(r,e,n){return r instanceof Bo?H1(r,e):r instanceof gu?F1(r,e):n}function q1(r,e){return r instanceof yu?(function(s){return rp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Bh extends lf{}class Bo extends lf{constructor(e){super(),this.elements=e}}function H1(r,e){const n=G1(e);for(const s of r.elements)n.some((o=>dr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class gu extends lf{constructor(e){super(),this.elements=e}}function F1(r,e){let n=G1(e);for(const s of r.elements)n=n.filter((o=>!dr(o,s)));return{arrayValue:{values:n}}}class yu extends lf{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function aE(r){return Ht(r.integerValue||r.doubleValue)}function G1(r){return Gp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n){this.field=e,this.transform=n}}function Kx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Bo&&o instanceof Bo||s instanceof gu&&o instanceof gu?Uo(s.elements,o.elements,dr):s instanceof yu&&o instanceof yu?dr(s.Ee,o.Ee):s instanceof Bh&&o instanceof Bh})(r.transform,e.transform)}class $x{constructor(e,n){this.version=e,this.transformResults=n}}class an{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new an}static exists(e){return new an(void 0,e)}static updateTime(e){return new an(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class uf{}function Y1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Nu(r.key,an.none()):new Du(r.key,r.data,an.none());{const n=r.data,s=Hn.empty();let o=new on(Sn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ea(r.key,s,new pi(o.toArray()),an.none())}}function Xx(r,e,n){r instanceof Du?(function(o,u,f){const m=o.value.clone(),p=lE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ea?(function(o,u,f){if(!bh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=lE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(K1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function ou(r,e,n,s){return r instanceof Du?(function(u,f,m,p){if(!bh(u.precondition,f))return m;const g=u.value.clone(),E=uE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof ea?(function(u,f,m,p){if(!bh(u.precondition,f))return m;const g=uE(u.fieldTransforms,p,f),E=f.data;return E.setAll(K1(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,e,n,s):(function(u,f,m){return bh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function Jx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=q1(s.transform,o||null);u!=null&&(n===null&&(n=Hn.empty()),n.set(s.field,u))}return n||null}function oE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Uo(s,o,((u,f)=>Kx(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Du extends uf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ea extends uf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function K1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function lE(r,e,n){const s=new Map;rt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Yx(f,m,n[o]))}return s}function uE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Qx(u,f,e))}return s}class Nu extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $1 extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Xx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ou(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ou(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=z1();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Y1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Me.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,((n,s)=>oE(n,s)))&&Uo(this.baseMutations,e.baseMutations,((n,s)=>oE(n,s)))}}class Xp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){rt(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=(function(){return qx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Xp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,it;function X1(r){switch(r){case ie.OK:return De(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return De(15467,{code:r})}}function J1(r){if(r===void 0)return Qr("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Jt.OK:return ie.OK;case Jt.CANCELLED:return ie.CANCELLED;case Jt.UNKNOWN:return ie.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return ie.INTERNAL;case Jt.UNAVAILABLE:return ie.UNAVAILABLE;case Jt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Jt.NOT_FOUND:return ie.NOT_FOUND;case Jt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Jt.ABORTED:return ie.ABORTED;case Jt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Jt.DATA_LOSS:return ie.DATA_LOSS;default:return De(39323,{code:r})}}(it=Jt||(Jt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new Bs([4294967295,4294967295],0);function cE(r){const e=p1().encode(r),n=new o1;return n.update(e),new Uint8Array(n.digest())}function hE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Bs([n,s],0),new Bs([o,u],0)]}class Jp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(s<0)throw new eu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Bs.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(Bs.fromNumber(s)));return o.compare(tD)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=cE(e),[s,o]=hE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Jp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.fe===0)return;const n=cE(e),[s,o]=hE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new cf(Me.min(),o,new Mt(Qe),Yr(),Ze())}}class Mu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Mu(s,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class W1{constructor(e,n){this.targetId=e,this.De=n}}class Z1{constructor(e,n,s=An.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class fE{constructor(){this.ve=0,this.Ce=dE(),this.Fe=An.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ze(),n=Ze(),s=Ze();return this.Ce.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:De(38017,{changeType:u})}})),new Mu(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=dE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class nD{constructor(e){this.We=e,this.Ge=new Map,this.ze=Yr(),this.je=fh(),this.Je=fh(),this.He=new Mt(Qe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(ap(u))if(s===0){const f=new Ie(u.path);this.Xe(n,f,pn.newNoDocument(f,Me.min()))}else rt(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ks(s).toUint8Array()}catch(p){if(p instanceof E1)return Gs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Jp(f,o,u)}catch(p){return Gs(p instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(e){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&ap(m.target)){const p=new Ie(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,pn.newNoDocument(p,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=Ze();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(e)));const o=new cf(e,n,this.He,this.ze,s);return this.ze=Yr(),this.je=fh(),this.Je=fh(),this.He=new Mt(Qe),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new fE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new on(Qe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new on(Qe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new fE),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function fh(){return new Mt(Ie.comparator)}function dE(){return new Mt(Ie.comparator)}const iD={asc:"ASCENDING",desc:"DESCENDING"},rD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sD={and:"AND",or:"OR"};class aD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function up(r,e){return r.useProto3Json||Cu(e)?e:{value:e}}function qh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ew(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function oD(r,e){return qh(r,e.toTimestamp())}function yi(r){return rt(!!r,49232),Me.fromTimestamp((function(n){const s=Ys(n);return new St(s.seconds,s.nanos)})(r))}function Wp(r,e){return cp(r,e).canonicalString()}function cp(r,e){const n=(function(o){return new gt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function tw(r){const e=gt.fromString(r);return rt(ow(e),10190,{key:e.toString()}),e}function Hh(r,e){return Wp(r.databaseId,e.path)}function lu(r,e){const n=tw(e);if(n.get(1)!==r.databaseId.projectId)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ie(iw(n))}function nw(r,e){return Wp(r.databaseId,e)}function lD(r){const e=tw(r);return e.length===4?gt.emptyPath():iw(e)}function hp(r){return new gt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function iw(r){return rt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function mE(r,e,n){return{name:Hh(r,e),fields:n.value.mapValue.fields}}function uD(r,e){return"found"in e?(function(s,o){rt(!!o.found,43571),o.found.name,o.found.updateTime;const u=lu(s,o.found.name),f=yi(o.found.updateTime),m=o.found.createTime?yi(o.found.createTime):Me.min(),p=new Hn({mapValue:{fields:o.found.fields}});return pn.newFoundDocument(u,f,m,p)})(r,e):"missing"in e?(function(s,o){rt(!!o.missing,3894),rt(!!o.readTime,22933);const u=lu(s,o.missing),f=yi(o.readTime);return pn.newNoDocument(u,f)})(r,e):De(7234,{result:e})}function cD(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:De(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(rt(E===void 0||typeof E=="string",58123),An.fromBase64String(E||"")):(rt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),An.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?ie.UNKNOWN:J1(g.code);return new ge(E,g.message||"")})(f);n=new Z1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=lu(r,s.document.name),u=yi(s.document.updateTime),f=s.document.createTime?yi(s.document.createTime):Me.min(),m=new Hn({mapValue:{fields:s.document.fields}}),p=pn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Sh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=lu(r,s.document),u=s.readTime?yi(s.readTime):Me.min(),f=pn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Sh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=lu(r,s.document),u=s.removedTargetIds||[];n=new Sh([],u,o,null)}else{if(!("filter"in e))return De(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new eD(o,u),m=s.targetId;n=new W1(m,f)}}return n}function rw(r,e){let n;if(e instanceof Du)n={update:mE(r,e.key,e.value)};else if(e instanceof Nu)n={delete:Hh(r,e.key)};else if(e instanceof ea)n={update:mE(r,e.key,e.data),updateMask:_D(e.fieldMask)};else{if(!(e instanceof $1))return De(16599,{Rt:e.type});n={verify:Hh(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Bh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Bo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof gu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof yu)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw De(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:oD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:De(27497)})(r,e.precondition)),n}function hD(r,e){return r&&r.length>0?(rt(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?yi(o.updateTime):yi(u);return f.isEqual(Me.min())&&(f=yi(u)),new $x(f,o.transformResults||[])})(n,e)))):[]}function fD(r,e){return{documents:[nw(r,e.path)]}}function dD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=nw(r,o);const u=(function(g){if(g.length!==0)return aw(Yi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:xo(A.field),direction:gD(A.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=up(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{Vt:n,parent:o}}function mD(r){let e=lD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){rt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(w){const A=sw(w);return A instanceof Yi&&D1(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((A=>(function(G){return new jh(Do(G.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let A;return A=typeof w=="object"?w.value:w,Cu(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(w){const A=!!w.before,V=w.values||[];return new zh(V,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const A=!w.before,V=w.values||[];return new zh(V,A)})(n.endAt)),Lx(e,o,f,u,m,"F",p,g)}function pD(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sw(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Do(n.unaryFilter.field);return Wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Do(n.unaryFilter.field);return Wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Do(n.unaryFilter.field);return Wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Do(n.unaryFilter.field);return Wt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Wt.create(Do(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Yi.create(n.compositeFilter.filters.map((s=>sw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(r):De(30097,{filter:r})}function gD(r){return iD[r]}function yD(r){return rD[r]}function vD(r){return sD[r]}function xo(r){return{fieldPath:r.canonicalString()}}function Do(r){return Sn.fromServerFormat(r.fieldPath)}function aw(r){return r instanceof Wt?(function(n){if(n.op==="=="){if(tE(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NAN"}};if(eE(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tE(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NAN"}};if(eE(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(n.field),op:yD(n.op),value:n.value}}})(r):r instanceof Yi?(function(n){const s=n.getFilters().map((o=>aw(o)));return s.length===1?s[0]:{compositeFilter:{op:vD(n.op),filters:s}}})(r):De(54877,{filter:r})}function _D(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ow(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,s,o,u=Me.min(),f=Me.min(),m=An.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.gt=e}}function TD(r){const e=mD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.Dn=new bD}addToCollectionParentIndex(e,n){return this.Dn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Qs.min())}updateCollectionGroup(e,n,s){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class bD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new on(gt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new on(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lw=41943040;class ei{static withCacheSize(e){return new ei(e,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei.DEFAULT_COLLECTION_PERCENTILE=10,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ei.DEFAULT=new ei(lw,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ei.DISABLED=new ei(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new qo(0)}static ur(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="LruGarbageCollector",SD=1048576;function yE([r,e],[n,s]){const o=Qe(r,n);return o===0?Qe(e,s):o}class AD{constructor(e){this.Tr=e,this.buffer=new on(yE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();yE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ve(gE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xo(n)?ve(gE,"Ignoring IndexedDB error during garbage collection: ",n):await $o(n)}await this.Rr(3e5)}))}}class ID{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(rf.ue);const s=new AD(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(pE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(g=Date.now(),Io()<=We.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function CD(r,e){return new ID(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.changes=new Ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?le.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&ou(s.mutation,o,pi.empty(),St.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ze()){const o=Na();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Zl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Na();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ze())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Yr();const f=au(),m=(function(){return au()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ea)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),ou(E.mutation,g,E.mutation.getFieldMask(),St.now())):f.set(g.key,pi.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>{var w;return m.set(g,new DD(E,(w=f.get(g))!==null&&w!==void 0?w:null))})),m)))}recalculateAndSaveOverlays(e,n){const s=au();let o=new Mt(((f,m)=>f-m)),u=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||pi.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Ze()).add(p);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=z1();E.forEach((A=>{if(!u.has(A)){const V=Y1(n.get(A),s.get(A));V!==null&&w.set(A,V),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return le.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return Ie.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):V1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):le.resolve(Na());let m=fu,p=u;return f.next((g=>le.forEach(g,((E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?le.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ze()))).next((E=>({batchId:m,changes:U1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Zl();return this.indexManager.getCollectionParents(e,u).next((m=>le.forEach(m,(p=>{const g=(function(w,A){return new xu(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((w,A)=>{f=f.insert(w,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,pn.newInvalidDocument(E)))}));let m=Zl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&ou(E.mutation,g,pi.empty(),St.now()),of(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return le.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:TD(o.bundledQuery),readTime:yi(o.readTime)}})(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.overlays=new Mt(Ie.comparator),this.kr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Na();return le.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.wt(e,n,u)})),le.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),le.resolve()}getOverlaysForCollection(e,n,s){const o=Na(),u=n.length+1,f=new Ie(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return le.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Mt(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Na(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return le.resolve(m)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Zx(n,s));let u=this.kr.get(n);u===void 0&&(u=Ze(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.qr=new on(mn.Qr),this.$r=new on(mn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new mn(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new mn(e,n))}Gr(e,n){e.forEach((s=>this.removeReference(s,n)))}zr(e){const n=new Ie(new gt([])),s=new mn(n,e),o=new mn(n,e+1),u=[];return this.$r.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ie(new gt([])),s=new mn(n,e),o=new mn(n,e+1);let u=Ze();return this.$r.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new mn(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class mn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ie.comparator(e.key,n.key)||Qe(e.Hr,n.Hr)}static Ur(e,n){return Qe(e.Hr,n.Hr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new on(mn.Qr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Wx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new mn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return le.resolve(f)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Hp:this.er-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new mn(n,0),o=new mn(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new on(Qe);return n.forEach((o=>{const u=new mn(o,0),f=new mn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),le.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ie.isDocumentKey(u)||(u=u.child(""));const f=new mn(new Ie(u),0);let m=new on(Qe);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),f),le.resolve(this.ei(m))}ei(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){rt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return le.forEach(n.mutations,(o=>{const u=new mn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,n){const s=new mn(n,0),o=this.Yr.firstAfterOrEqual(s);return le.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.ni=e,this.docs=(function(){return new Mt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return le.resolve(s?s.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let s=Yr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():pn.newInvalidDocument(o))})),le.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Yr();const f=n.path,m=new Ie(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||px(mx(E),s)<=0||(o.has(E.key)||of(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,n,s,o){De(9500)}ri(e,n){return le.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new LD(this)}getSize(e){return le.resolve(this.size)}}class LD extends xD{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)})),le.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.persistence=e,this.ii=new Ua((n=>Qp(n)),Yp),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.si=0,this.oi=new Zp,this.targetCount=0,this._i=qo.ar()}forEachTarget(e,n){return this.ii.forEach(((s,o)=>n(o))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),le.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new qo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.hr(n),le.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),le.waitFor(u).next((()=>o))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return le.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),le.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),le.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return le.resolve(s)}containsKey(e,n){return le.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.ai={},this.overlays={},this.ui=new rf(0),this.ci=!1,this.ci=!0,this.li=new VD,this.referenceDelegate=e(this),this.hi=new UD(this),this.indexManager=new wD,this.remoteDocumentCache=(function(o){return new PD(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new ED(n),this.Ti=new MD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new kD(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ve("MemoryPersistence","Starting transaction:",e);const o=new zD(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return le.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,n))))}}class zD extends yx{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Ai=new Zp,this.Ri=null}static Vi(e){return new eg(e)}get mi(){if(this.Ri)return this.Ri;throw De(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),le.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.mi,(s=>{const o=Ie.fromPath(s);return this.fi(e,o).next((u=>{u||n.removeEntry(o,Me.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return le.or([()=>le.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Fh{constructor(e,n){this.persistence=e,this.gi=new Ua((s=>Ex(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=CD(this,n)}static Vi(e,n){return new Fh(e,n)}Ii(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}yr(e){let n=0;return this.gr(e,(s=>{n++})).next((()=>n))}gr(e,n){return le.forEach(this.gi,((s,o)=>this.Sr(e,s,o).next((u=>u?le.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,(f=>this.Sr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Me.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),le.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Th(e.data.value)),n}Sr(e,n,s){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return le.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=Ze(),o=Ze();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new tg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return BR()?8:vx(On())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new jD;return this.ws(e,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)}))})).next((()=>u.result))}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(Io()<=We.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Io()<=We.DEBUG&&ve("QueryEngine","Query:",Co(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Io()<=We.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(n))):le.resolve())}ps(e,n){if(sE(n))return le.resolve(null);let s=ur(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=lp(n,null,"F"),s=ur(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ze(...u);return this.gs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,f,p.readTime)?this.ps(e,lp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ys(e,n,s,o){return sE(n)||o.isEqual(Me.min())?le.resolve(null):this.gs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?le.resolve(null):(Io()<=We.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Co(n)),this.vs(e,f,n,dx(o,fu)).next((m=>m)))}))}bs(e,n){let s=new on(P1(e));return n.forEach(((o,u)=>{of(e,u)&&(s=s.add(u))})),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return Io()<=We.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Co(n)),this.gs.getDocumentsMatchingQuery(e,n,Qs.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="LocalStore",qD=3e8;class HD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new Mt(Qe),this.Ms=new Ua((u=>Qp(u)),Yp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ND(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function FD(r,e,n,s){return new HD(r,e,n,s)}async function cw(r,e){const n=ke(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Ze();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function GD(r,e){const n=ke(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const w=g.batch,A=w.keys();let V=le.resolve();return A.forEach((G=>{V=V.next((()=>E.getEntry(p,G))).next((Z=>{const L=g.docVersions.get(G);rt(L!==null,48541),Z.version.compareTo(L)<0&&(w.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),E.addEntry(Z)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,w)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ze();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function hw(r){const e=ke(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function QD(r,e){const n=ke(r),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach(((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,w).next((()=>n.hi.addMatchingKeys(u,E.addedDocuments,w))));let V=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?V=V.withResumeToken(An.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(w,V),(function(Z,L,ue){return Z.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=qD?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(A,V,E)&&m.push(n.hi.updateTargetData(u,V))}));let p=Yr(),g=Ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(YD(u,f,e.documentUpdates).next((E=>{p=E.Ls,g=E.ks}))),!s.isEqual(Me.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next((w=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return le.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function YD(r,e,n){let s=Ze(),o=Ze();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=Yr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Me.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ve(ng,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:f,ks:o}}))}function KD(r,e){const n=ke(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Hp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function $D(r,e){const n=ke(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,e).next((u=>u?(o=u,le.resolve(o)):n.hi.allocateTargetId(s).next((f=>(o=new ks(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s}))}async function fp(r,e,n){const s=ke(r),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Xo(f))throw f;ve(ng,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function vE(r,e,n){const s=ke(r);let o=Me.min(),u=Ze();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const w=ke(p),A=w.Ms.get(E);return A!==void 0?le.resolve(w.Fs.get(A)):w.hi.getTargetData(g,E)})(s,f,ur(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Me.min(),n?u:Ze()))).next((m=>(XD(s,zx(e),m),{documents:m,qs:u})))))}function XD(r,e,n){let s=r.xs.get(e)||Me.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(e,s)}class _E{constructor(){this.activeTargetIds=Gx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JD{constructor(){this.Fo=new _E,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new _E,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="ConnectivityMonitor";class TE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ve(EE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ve(EE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function dp(){return dh===null?dh=(function(){return 268435456+Math.round(2147483648*Math.random())})():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="RestConnection",ZD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eN{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=dp(),m=this.Go(e,n.toUriEncodedString());ve(Mm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=Go(g);return this.jo(e,m,p,s,E).then((w=>(ve(Mm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw Gs(Mm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w}))}Jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Go(e,n){const s=ZD[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class nN extends eN{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const f=dp();return new Promise(((m,p)=>{const g=new l1;g.setWithCredentials(!0),g.listenOnce(u1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Eh.NO_ERROR:const w=g.getResponseJson();ve(Nn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Eh.TIMEOUT:ve(Nn,`RPC '${e}' ${f} timed out`),p(new ge(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:const A=g.getStatus();if(ve(Nn,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const G=V==null?void 0:V.error;if(G&&G.status&&G.message){const Z=(function(ue){const he=ue.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(he)>=0?he:ie.UNKNOWN})(G.status);p(new ge(Z,G.message))}else p(new ge(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ge(ie.UNAVAILABLE,"Connection failed."));break;default:De(9055,{c_:e,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ve(Nn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ve(Nn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}P_(e,n,s){const o=dp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=f1(),m=h1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ve(Nn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.T_(w);let A=!1,V=!1;const G=new tN({Ho:L=>{V?ve(Nn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(ve(Nn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ve(Nn,`RPC '${e}' stream ${o} sending:`,L),w.send(L))},Yo:()=>w.close()}),Z=(L,ue,he)=>{L.listen(ue,(re=>{try{he(re)}catch(Ae){setTimeout((()=>{throw Ae}),0)}}))};return Z(w,Wl.EventType.OPEN,(()=>{V||(ve(Nn,`RPC '${e}' stream ${o} transport opened.`),G.s_())})),Z(w,Wl.EventType.CLOSE,(()=>{V||(V=!0,ve(Nn,`RPC '${e}' stream ${o} transport closed`),G.__(),this.I_(w))})),Z(w,Wl.EventType.ERROR,(L=>{V||(V=!0,Gs(Nn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),G.__(new ge(ie.UNAVAILABLE,"The operation could not be completed")))})),Z(w,Wl.EventType.MESSAGE,(L=>{var ue;if(!V){const he=L.data[0];rt(!!he,16349);const re=he,Ae=(re==null?void 0:re.error)||((ue=re[0])===null||ue===void 0?void 0:ue.error);if(Ae){ve(Nn,`RPC '${e}' stream ${o} received error:`,Ae);const Pe=Ae.status;let xe=(function(C){const O=Jt[C];if(O!==void 0)return J1(O)})(Pe),N=Ae.message;xe===void 0&&(xe=ie.INTERNAL,N="Unknown error status: "+Pe+" with message "+Ae.message),V=!0,G.__(new ge(xe,N)),w.close()}else ve(Nn,`RPC '${e}' stream ${o} received:`,he),G.a_(he)}})),Z(m,c1.STAT_EVENT,(L=>{L.stat===tp.PROXY?ve(Nn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===tp.NOPROXY&&ve(Nn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.o_()}),0),G}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(r){return new aD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="PersistentStream";class fw{constructor(e,n,s,o,u,f,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ig(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{e((()=>{const o=new ge(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return ve(wE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(ve(wE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iN extends fw{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=cD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Me.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Me.min():f.readTime?yi(f.readTime):Me.min()})(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=hp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=ap(p)?{documents:fD(u,p)}:{query:dD(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ew(u,f.resumeToken);const g=up(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Me.min())>0){m.readTime=qh(u,f.snapshotVersion.toTimestamp());const g=up(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=pD(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=hp(this.serializer),n.removeTarget=e,this.k_(n)}}class rN extends fw{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=hD(e.writeResults,e.commitTime),s=yi(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=hp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>rw(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{}class aN extends sN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,cp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ie.UNKNOWN,u.toString())}))}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(e,cp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(ie.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class oN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Qr(n),this._a=!1):ve("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="RemoteStore";class lN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{za(this)&&(ve(Pa,"Restarting streams for network reachability change."),await(async function(p){const g=ke(p);g.Ia.add(4),await Ou(g),g.Aa.set("Unknown"),g.Ia.delete(4),await ff(g)})(this))}))})),this.Aa=new oN(s,o)}}async function ff(r){if(za(r))for(const e of r.da)await e(!0)}async function Ou(r){for(const e of r.da)await e(!1)}function dw(r,e){const n=ke(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),og(n)?ag(n):Jo(n).x_()&&sg(n,e))}function rg(r,e){const n=ke(r),s=Jo(n);n.Ta.delete(e),s.x_()&&mw(n,e),n.Ta.size===0&&(s.x_()?s.B_():za(n)&&n.Aa.set("Unknown"))}function sg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(r).H_(e)}function mw(r,e){r.Ra.$e(e),Jo(r).Y_(e)}function ag(r){r.Ra=new nD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Jo(r).start(),r.Aa.aa()}function og(r){return za(r)&&!Jo(r).M_()&&r.Ta.size>0}function za(r){return ke(r).Ia.size===0}function pw(r){r.Ra=void 0}async function uN(r){r.Aa.set("Online")}async function cN(r){r.Ta.forEach(((e,n)=>{sg(r,e)}))}async function hN(r,e){pw(r),og(r)?(r.Aa.la(e),ag(r)):r.Aa.set("Unknown")}async function fN(r,e,n){if(r.Aa.set("Online"),e instanceof Z1&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))})(r,e)}catch(s){ve(Pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Gh(r,s)}else if(e instanceof Sh?r.Ra.Ye(e):e instanceof W1?r.Ra.it(e):r.Ra.et(e),!n.isEqual(Me.min()))try{const s=await hw(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(An.EMPTY_BYTE_STRING,E.snapshotVersion)),mw(u,p);const w=new ks(E.target,p,g,E.sequenceNumber);sg(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ve(Pa,"Failed to raise snapshot:",s),await Gh(r,s)}}async function Gh(r,e,n){if(!Xo(e))throw e;r.Ia.add(1),await Ou(r),r.Aa.set("Offline"),n||(n=()=>hw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ve(Pa,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await ff(r)}))}function gw(r,e){return e().catch((n=>Gh(r,n,e)))}async function df(r){const e=ke(r),n=Xs(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Hp;for(;dN(e);)try{const o=await KD(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,mN(e,o)}catch(o){await Gh(e,o)}yw(e)&&vw(e)}function dN(r){return za(r)&&r.Pa.length<10}function mN(r,e){r.Pa.push(e);const n=Xs(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function yw(r){return za(r)&&!Xs(r).M_()&&r.Pa.length>0}function vw(r){Xs(r).start()}async function pN(r){Xs(r).na()}async function gN(r){const e=Xs(r);for(const n of r.Pa)e.X_(n.mutations)}async function yN(r,e,n){const s=r.Pa.shift(),o=Xp.from(s,e,n);await gw(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await df(r)}async function vN(r,e){e&&Xs(r).Z_&&await(async function(s,o){if((function(f){return X1(f)&&f!==ie.ABORTED})(o.code)){const u=s.Pa.shift();Xs(s).N_(),await gw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await df(s)}})(r,e),yw(r)&&vw(r)}async function bE(r,e){const n=ke(r);n.asyncQueue.verifyOperationInProgress(),ve(Pa,"RemoteStore received new credentials");const s=za(n);n.Ia.add(3),await Ou(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await ff(n)}async function _N(r,e){const n=ke(r);e?(n.Ia.delete(2),await ff(n)):e||(n.Ia.add(2),await Ou(n),n.Aa.set("Unknown"))}function Jo(r){return r.Va||(r.Va=(function(n,s,o){const u=ke(n);return u.ia(),new iN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:uN.bind(null,r),e_:cN.bind(null,r),n_:hN.bind(null,r),J_:fN.bind(null,r)}),r.da.push((async e=>{e?(r.Va.N_(),og(r)?ag(r):r.Aa.set("Unknown")):(await r.Va.stop(),pw(r))}))),r.Va}function Xs(r){return r.ma||(r.ma=(function(n,s,o){const u=ke(n);return u.ia(),new rN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:pN.bind(null,r),n_:vN.bind(null,r),ea:gN.bind(null,r),ta:yN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.N_(),await df(r)):(await r.ma.stop(),r.Pa.length>0&&(ve(Pa,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new lg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(r,e){if(Qr("AsyncQueue",`${e}: ${r}`),Xo(r))return new ge(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ie.comparator(n.key,s.key):(n,s)=>Ie.comparator(n.key,s.key),this.keyedMap=Zl(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ko;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.fa=new Mt(Ie.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):De(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ho{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Ho(e,n,ko.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class TN{constructor(){this.queries=AE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=ke(n),u=o.queries;o.queries=AE(),u.forEach(((f,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ge(ie.ABORTED,"Firestore shutting down"))}}function AE(){return new Ua((r=>k1(r)),af)}async function _w(r,e){const n=ke(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new EN,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ug(f,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&cg(n)}async function Ew(r,e){const n=ke(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wN(r,e){const n=ke(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&cg(n)}function bN(r,e,n){const s=ke(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function cg(r){r.Da.forEach((e=>{e.next()}))}var mp,RE;(RE=mp||(mp={})).Fa="default",RE.Cache="cache";class Tw{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.key=e}}class bw{constructor(e){this.key=e}}class SN{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ze(),this.mutatedKeys=Ze(),this.Xa=P1(e),this.eu=new ko(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new SE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const A=o.get(E),V=of(this.query,w)?w:null,G=!!A&&this.mutatedKeys.has(A.key),Z=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let L=!1;A&&V?A.data.isEqual(V.data)?G!==Z&&(s.track({type:3,doc:V}),L=!0):this.iu(A,V)||(s.track({type:2,doc:V}),L=!0,(p&&this.Xa(V,p)>0||g&&this.Xa(V,g)<0)&&(m=!0)):!A&&V?(s.track({type:0,doc:V}),L=!0):A&&!V&&(s.track({type:1,doc:A}),L=!0,(p||g)&&(m=!0)),L&&(V?(f=f.add(V),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort(((E,w)=>(function(V,G){const Z=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{At:L})}};return Z(V)-Z(G)})(E.type,w.type)||this.Xa(E.doc,w.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new Ho(this.query,e.eu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new SE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ze(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return e.forEach((s=>{this.Za.has(s)||n.push(new bw(s))})),this.Za.forEach((s=>{e.has(s)||n.push(new ww(s))})),n}uu(e){this.Ha=e.qs,this.Za=Ze();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Ho.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const hg="SyncEngine";class AN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class RN{constructor(e){this.key=e,this.lu=!1}}class IN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Ua((m=>k1(m)),af),this.Tu=new Map,this.Iu=new Set,this.du=new Mt(Ie.comparator),this.Eu=new Map,this.Au=new Zp,this.Ru={},this.Vu=new Map,this.mu=qo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function CN(r,e,n=!0){const s=xw(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await Sw(s,e,n,!0),o}async function xN(r,e){const n=xw(r);await Sw(n,e,!0,!1)}async function Sw(r,e,n,s){const o=await $D(r.localStore,ur(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await DN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&dw(r.remoteStore,o),m}async function DN(r,e,n,s,o){r.gu=(w,A,V)=>(async function(Z,L,ue,he){let re=L.view.nu(ue);re.Ds&&(re=await vE(Z.localStore,L.query,!1).then((({documents:N})=>L.view.nu(N,re))));const Ae=he&&he.targetChanges.get(L.targetId),Pe=he&&he.targetMismatches.get(L.targetId)!=null,xe=L.view.applyChanges(re,Z.isPrimaryClient,Ae,Pe);return CE(Z,L.targetId,xe._u),xe.snapshot})(r,w,A,V);const u=await vE(r.localStore,e,!0),f=new SN(e,u.qs),m=f.nu(u.documents),p=Mu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);CE(r,n,g._u);const E=new AN(e,n,f);return r.Pu.set(e,E),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),g.snapshot}async function NN(r,e,n){const s=ke(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((f=>!af(f,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&rg(s.remoteStore,o.targetId),pp(s,o.targetId)})).catch($o)):(pp(s,o.targetId),await fp(s.localStore,o.targetId,!0))}async function MN(r,e){const n=ke(r),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),rg(n.remoteStore,s.targetId))}async function ON(r,e,n){const s=jN(r);try{const o=await(function(f,m){const p=ke(f),g=St.now(),E=m.reduce(((V,G)=>V.add(G.key)),Ze());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let G=Yr(),Z=Ze();return p.Os.getEntries(V,E).next((L=>{G=L,G.forEach(((ue,he)=>{he.isValidDocument()||(Z=Z.add(ue))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,G))).next((L=>{w=L;const ue=[];for(const he of m){const re=Jx(he,w.get(he.key).overlayedDocument);re!=null&&ue.push(new ea(he.key,re,I1(re.value.mapValue),an.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,ue,m)})).next((L=>{A=L;const ue=L.applyToLocalDocumentSet(w,Z);return p.documentOverlayCache.saveOverlays(V,L.batchId,ue)}))})).then((()=>({batchId:A.batchId,changes:U1(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new Mt(Qe)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g})(s,o.batchId,n),await Vu(s,o.changes),await df(s.remoteStore)}catch(o){const u=ug(o,"Failed to persist write");n.reject(u)}}async function Aw(r,e){const n=ke(r);try{const s=await QD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&(rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?rt(f.lu,14607):o.removedDocuments.size>0&&(rt(f.lu,42227),f.lu=!1))})),await Vu(n,s,e)}catch(s){await $o(s)}}function IE(r,e,n){const s=ke(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=ke(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,w)=>{for(const A of w.wa)A.va(m)&&(g=!0)})),g&&cg(p)})(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function VN(r,e,n){const s=ke(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new Mt(Ie.comparator);f=f.insert(u,pn.newNoDocument(u,Me.min()));const m=Ze().add(u),p=new cf(Me.min(),new Map,new Mt(Qe),f,m);await Aw(s,p),s.du=s.du.remove(u),s.Eu.delete(e),fg(s)}else await fp(s.localStore,e,!1).then((()=>pp(s,e,n))).catch($o)}async function kN(r,e){const n=ke(r),s=e.batch.batchId;try{const o=await GD(n.localStore,e);Iw(n,s,null),Rw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Vu(n,o)}catch(o){await $o(o)}}async function PN(r,e,n){const s=ke(r);try{const o=await(function(f,m){const p=ke(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((w=>(rt(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);Iw(s,e,n),Rw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Vu(s,o)}catch(o){await $o(o)}}function Rw(r,e){(r.Vu.get(e)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(e)}function Iw(r,e,n){const s=ke(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function pp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach((s=>{r.Au.containsKey(s)||Cw(r,s)}))}function Cw(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(rg(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),fg(r))}function CE(r,e,n){for(const s of n)s instanceof ww?(r.Au.addReference(s.key,e),LN(r,s)):s instanceof bw?(ve(hg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||Cw(r,s.key)):De(19791,{yu:s})}function LN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(ve(hg,"New document in limbo: "+n),r.Iu.add(s),fg(r))}function fg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new Ie(gt.fromString(e)),s=r.mu.next();r.Eu.set(s,new RN(n)),r.du=r.du.insert(n,s),dw(r.remoteStore,new ks(ur(Kp(n.path)),s,"TargetPurposeLimboResolution",rf.ue))}}async function Vu(r,e,n){const s=ke(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{f.push(s.gu(p,e,n).then((g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=tg.Es(p.targetId,g);u.push(w)}})))})),await Promise.all(f),s.hu.J_(o),await(async function(p,g){const E=ke(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>le.forEach(g,(A=>le.forEach(A.Is,(V=>E.persistence.referenceDelegate.addReference(w,A.targetId,V))).next((()=>le.forEach(A.ds,(V=>E.persistence.referenceDelegate.removeReference(w,A.targetId,V)))))))))}catch(w){if(!Xo(w))throw w;ve(ng,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const V=E.Fs.get(A),G=V.snapshotVersion,Z=V.withLastLimboFreeSnapshotVersion(G);E.Fs=E.Fs.insert(A,Z)}}})(s.localStore,u))}async function UN(r,e){const n=ke(r);if(!n.currentUser.isEqual(e)){ve(hg,"User change. New user:",e.toKey());const s=await cw(n.localStore,e);n.currentUser=e,(function(u,f){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ge(ie.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vu(n,s.Bs)}}function zN(r,e){const n=ke(r),s=n.Eu.get(e);if(s&&s.lu)return Ze().add(s.key);{let o=Ze();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function xw(r){const e=ke(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Aw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VN.bind(null,e),e.hu.J_=wN.bind(null,e.eventManager),e.hu.pu=bN.bind(null,e.eventManager),e}function jN(r){const e=ke(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PN.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return FD(this.persistence,new BD,e.initialUser,this.serializer)}Du(e){return new uw(eg.Vi,this.serializer)}bu(e){return new JD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class BN extends Qh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){rt(this.persistence.referenceDelegate instanceof Fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new RD(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?ei.withCacheSize(this.cacheSizeBytes):ei.DEFAULT;return new uw((s=>Fh.Vi(s,n)),this.serializer)}}class gp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>IE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UN.bind(null,this.syncEngine),await _N(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TN})()}createDatastore(e){const n=hf(e.databaseInfo.databaseId),s=(function(u){return new nN(u)})(e.databaseInfo);return(function(u,f,m,p){return new aN(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new lN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>IE(this.syncEngine,n,0)),(function(){return TE.C()?new TE:new WD})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const w=new IN(o,u,f,m,p,g);return E&&(w.fu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=ke(o);ve(Pa,"RemoteStore shutting down."),u.Ia.add(5),await Ou(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gp.provider={build:()=>new gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ge(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=ke(o),m={documents:u.map((w=>Hh(f.serializer,w)))},p=await f.Jo("BatchGetDocuments",f.serializer.databaseId,gt.emptyPath(),m,u.length),g=new Map;p.forEach((w=>{const A=uD(f.serializer,w);g.set(A.key.toString(),A)}));const E=[];return u.forEach((w=>{const A=g.get(w.toString());rt(!!A,55234,{key:w}),E.push(A)})),E})(this.datastore,e);return n.forEach((s=>this.recordVersion(s))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,s)=>{const o=Ie.fromPath(s);this.mutations.push(new $1(o,this.precondition(o)))})),await(async function(s,o){const u=ke(s),f={writes:o.map((m=>rw(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,gt.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw De(50498,{Wu:e.constructor.name});n=Me.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new ge(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Me.min())?an.exists(!1):an.updateTime(n):an.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Me.min()))throw new ge(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(n)}return an.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,s,o,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new ig(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const e=new qN(this.datastore),n=this.Ju(e);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(e){try{const n=this.updateFunction(e);return!Cu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!X1(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="FirestoreClient";class FN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Mn.UNAUTHENTICATED,this.clientId=qp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ve(Js,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ve(Js,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ug(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Vm(r,e){r.asyncQueue.verifyOperationInProgress(),ve(Js,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await cw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>{Gs("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{ve("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Gs("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=e}async function xE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await GN(r);ve(Js,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>bE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>bE(e.remoteStore,o))),r._onlineComponents=e}async function GN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ve(Js,"Using user provided OfflineComponentProvider");try{await Vm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Gs("Error using user provided cache. Falling back to memory cache: "+n),await Vm(r,new Qh)}}else ve(Js,"Using default OfflineComponentProvider"),await Vm(r,new BN(void 0));return r._offlineComponents}async function dg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ve(Js,"Using user provided OnlineComponentProvider"),await xE(r,r._uninitializedComponentsProvider._online)):(ve(Js,"Using default OnlineComponentProvider"),await xE(r,new gp))),r._onlineComponents}function QN(r){return dg(r).then((e=>e.syncEngine))}function YN(r){return dg(r).then((e=>e.datastore))}async function yp(r){const e=await dg(r),n=e.eventManager;return n.onListen=CN.bind(null,e.syncEngine),n.onUnlisten=NN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MN.bind(null,e.syncEngine),n}function KN(r,e,n={}){const s=new qr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new Dw({next:A=>{E.Ou(),f.enqueueAndForget((()=>Ew(u,w))),A.fromCache&&p.source==="server"?g.reject(new ge(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new Tw(m,E,{includeMetadataChanges:!0,ka:!0});return _w(u,w)})(await yp(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="firestore.googleapis.com",NE=!0;class ME{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mw,this.ssl=NE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:NE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SD)throw new ge(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ME({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ME(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ix;switch(s.type){case"firstParty":return new ox(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=DE.get(n);s&&(ve("ComponentProvider","Removing Datastore"),DE.delete(n),s.terminate())})(this),Promise.resolve()}}function $N(r,e,n,s={}){var o;r=gi(r,mf);const u=Go(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(_T(`https://${p}`),ET("Firestore",!0)),f.host!==Mw&&f.host!==p&&Gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Fs(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=Mn.MOCK_USER;else{E=MR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ge(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Mn(A)}r._authCredentials=new rx(new m1(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ja(this.firestore,e,this._query)}}class Lt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Iu(n,Lt._jsonSchema))return new Lt(e,s||null,new Ie(gt.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Zt("string",Lt._jsonSchemaVersion),referencePath:Zt("string")};class qs extends ja{constructor(e,n,s){super(e,n,Kp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new Ie(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function $l(r,e,...n){if(r=Ut(r),g1("collection","path",e),r instanceof mf){const s=gt.fromString(e,...n);return G0(s),new qs(r,null,s)}{if(!(r instanceof Lt||r instanceof qs))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(gt.fromString(e,...n));return G0(s),new qs(r.firestore,null,s)}}function Zn(r,e,...n){if(r=Ut(r),arguments.length===1&&(e=qp.newId()),g1("doc","path",e),r instanceof mf){const s=gt.fromString(e,...n);return F0(s),new Lt(r,null,new Ie(s))}{if(!(r instanceof Lt||r instanceof qs))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(gt.fromString(e,...n));return F0(s),new Lt(r.firestore,r instanceof qs?r.converter:null,new Ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="AsyncQueue";class VE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ig(this,"async_queue_retry"),this.oc=()=>{const s=Om();s&&ve(OE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new qr;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Xo(e))throw e;ve(OE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,Qr("INTERNAL UNHANDLED ERROR: ",kE(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=lg.createAndSchedule(this,e,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&De(47125,{hc:kE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function kE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Kr extends mf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new VE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VE(e),this._firestoreClient=void 0,await e}}}function XN(r,e){const n=typeof r=="object"?r:ST(),s=typeof r=="string"?r:Lh,o=Cp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=DR("firestore");u&&$N(o,...u)}return o}function ku(r){if(r._terminated)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||JN(r),r._firestoreClient}function JN(r){var e,n,s;const o=r._freezeSettings(),u=(function(m,p,g,E){return new bx(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Nw(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new FN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mi(An.fromBase64String(e))}catch(n){throw new ge(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mi(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Iu(e,mi._jsonSchema))return mi.fromBase64String(e.bytes)}}mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:Zt("string",mi._jsonSchemaVersion),bytes:Zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cr._jsonSchemaVersion}}static fromJSON(e){if(Iu(e,cr._jsonSchema))return new cr(e.latitude,e.longitude)}}cr._jsonSchemaVersion="firestore/geoPoint/1.0",cr._jsonSchema={type:Zt("string",cr._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Iu(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new hr(e.vectorValues);throw new ge(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:Zt("string",hr._jsonSchemaVersion),vectorValues:Zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=/^__.*__$/;class ZN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ea(e,this.data,this.fieldMask,n,this.fieldTransforms):new Du(e,this.data,n,this.fieldTransforms)}}class Ow{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ea(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Vw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ec:r})}}class pf{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new pf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Yh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Vw(this.Ec)&&WN.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class eM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||hf(e)}Dc(e,n,s,o=!1){return new pf({Ec:e,methodName:n,bc:s,path:Sn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lu(r){const e=r._freezeSettings(),n=hf(r._databaseId);return new eM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function mg(r,e,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);_g("Data must be an object, but it was:",f,s);const m=kw(s,f);let p,g;if(u.merge)p=new pi(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=vp(e,w,n);if(!f.contains(A))throw new ge(ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Lw(E,A)||E.push(A)}p=new pi(E),g=f.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,g=f.fieldTransforms;return new ZN(new Hn(m),p,g)}class Uu extends Pu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uu}}function tM(r,e,n){return new pf({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pg extends Pu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=tM(this,e,!0),s=this.vc.map((u=>Zo(u,n))),o=new Bo(s);return new Q1(e.path,o)}isEqual(e){return e instanceof pg&&Fs(this.vc,e.vc)}}class gg extends Pu{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new yu(e.serializer,B1(e.serializer,this.Cc));return new Q1(e.path,n)}isEqual(e){return e instanceof gg&&this.Cc===e.Cc}}function yg(r,e,n,s){const o=r.Dc(1,e,n);_g("Data must be an object, but it was:",o,s);const u=[],f=Hn.empty();Zs(s,((p,g)=>{const E=Eg(e,p,n);g=Ut(g);const w=o.gc(E);if(g instanceof Uu)u.push(E);else{const A=Zo(g,w);A!=null&&(u.push(E),f.set(E,A))}}));const m=new pi(u);return new Ow(f,m,o.fieldTransforms)}function vg(r,e,n,s,o,u){const f=r.Dc(1,e,n),m=[vp(e,s,n)],p=[o];if(u.length%2!=0)throw new ge(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(vp(e,u[A])),p.push(u[A+1]);const g=[],E=Hn.empty();for(let A=m.length-1;A>=0;--A)if(!Lw(g,m[A])){const V=m[A];let G=p[A];G=Ut(G);const Z=f.gc(V);if(G instanceof Uu)g.push(V);else{const L=Zo(G,Z);L!=null&&(g.push(V),E.set(V,L))}}const w=new pi(g);return new Ow(E,w,f.fieldTransforms)}function nM(r,e,n,s=!1){return Zo(n,r.Dc(s?4:3,e))}function Zo(r,e){if(Pw(r=Ut(r)))return _g("Unsupported field value:",e,r),kw(r,e);if(r instanceof Pu)return(function(s,o){if(!Vw(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Zo(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return B1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=St.fromDate(s);return{timestampValue:qh(o.serializer,u)}}if(s instanceof St){const u=new St(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:qh(o.serializer,u)}}if(s instanceof cr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof mi)return{bytesValue:ew(o.serializer,s._byteString)};if(s instanceof Lt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Wp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof hr)return(function(f,m){return{mapValue:{fields:{[A1]:{stringValue:R1},[Uh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return $p(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${nf(s)}`)})(r,e)}function kw(r,e){const n={};return _1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(r,((s,o)=>{const u=Zo(o,e.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Pw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof St||r instanceof cr||r instanceof mi||r instanceof Lt||r instanceof Pu||r instanceof hr)}function _g(r,e,n){if(!Pw(n)||!y1(n)){const s=nf(n);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function vp(r,e,n){if((e=Ut(e))instanceof Wo)return e._internalPath;if(typeof e=="string")return Eg(r,e);throw Yh("Field path arguments must be of type string or ",r,!1,void 0,n)}const iM=new RegExp("[~\\*/\\[\\]]");function Eg(r,e,n){if(e.search(iM)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Wo(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Yh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ge(ie.INVALID_ARGUMENT,m+r+p)}function Lw(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rM extends Kh{data(){return super.data()}}function Tg(r,e){return typeof e=="string"?Eg(r,e):e instanceof Wo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wg{}class sM extends wg{}function aM(r,e,...n){let s=[];e instanceof wg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof bg)).length,m=u.filter((p=>p instanceof gf)).length;if(f>1||f>0&&m>0)throw new ge(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class gf extends sM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new gf(e,n,s)}_apply(e){const n=this._parse(e);return zw(e._query,n),new ja(e.firestore,e.converter,op(e._query,n))}_parse(e){const n=Lu(e.firestore);return(function(u,f,m,p,g,E,w){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){UE(w,E);const G=[];for(const Z of w)G.push(LE(p,u,Z));A={arrayValue:{values:G}}}else A=LE(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||UE(w,E),A=nM(m,f,w,E==="in"||E==="not-in");return Wt.create(g,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oM(r,e,n){const s=e,o=Tg("where",r);return gf._create(o,s,n)}class bg extends wg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)zw(f,p),f=op(f,p)})(e._query,n),new ja(e.firestore,e.converter,op(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function LE(r,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V1(e)&&n.indexOf("/")!==-1)throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(gt.fromString(n));if(!Ie.isDocumentKey(s))throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Z0(r,new Ie(s))}if(n instanceof Lt)return Z0(r,n._key);throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function UE(r,e){if(!Array.isArray(r)||r.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zw(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jw{convertValue(e,n="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Zs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Uh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>Ht(f.doubleValue)));return new hr(u)}convertGeoPoint(e){return new cr(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=sf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=Ys(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=gt.fromString(e);rt(ow(s),9688,{name:e});const o=new mu(s.get(1),s.get(3)),u=new Ie(s.popFirst(5));return o.isEqual(n)||Qr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class lM extends jw{constructor(e){super(),this.firestore=e}convertBytes(e){return new mi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}class No{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hs extends Kh{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Tg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Hs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:Zt("string",Hs._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Ah extends Hs{data(e={}){return super.data(e)}}class Ma{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new No(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ah(this._firestore,this._userDataWriter,s.key,s,new No(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new No(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new No(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:uM(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:r})}}Ma._jsonSchemaVersion="firestore/querySnapshot/1.0",Ma._jsonSchema={type:Zt("string",Ma._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class yf extends jw{constructor(e){super(),this.firestore=e}convertBytes(e){return new mi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function zE(r){r=gi(r,ja);const e=gi(r.firestore,Kr),n=ku(e),s=new yf(e);return Uw(r._query),KN(n,r._query).then((o=>new Ma(e,s,r,o)))}function Xl(r,e,n){r=gi(r,Lt);const s=gi(r.firestore,Kr),o=Sg(r.converter,e,n);return vf(s,[mg(Lu(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,an.none())])}function Jl(r,e,n,...s){r=gi(r,Lt);const o=gi(r.firestore,Kr),u=Lu(o);let f;return f=typeof(e=Ut(e))=="string"||e instanceof Wo?vg(u,"updateDoc",r._key,e,n,s):yg(u,"updateDoc",r._key,e),vf(o,[f.toMutation(r._key,an.exists(!0))])}function km(r){return vf(gi(r.firestore,Kr),[new Nu(r._key,an.none())])}function Pm(r,...e){var n,s,o;r=Ut(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||PE(e[f])||(u=e[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(PE(e[f])){const w=e[f];e[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,E;if(r instanceof Lt)g=gi(r.firestore,Kr),E=Kp(r._key.path),p={next:w=>{e[f]&&e[f](cM(g,r,w))},error:e[f+1],complete:e[f+2]};else{const w=gi(r,ja);g=gi(w.firestore,Kr),E=w._query;const A=new yf(g);p={next:V=>{e[f]&&e[f](new Ma(g,A,w,V))},error:e[f+1],complete:e[f+2]},Uw(r._query)}return(function(A,V,G,Z){const L=new Dw(Z),ue=new Tw(V,L,G);return A.asyncQueue.enqueueAndForget((async()=>_w(await yp(A),ue))),()=>{L.Ou(),A.asyncQueue.enqueueAndForget((async()=>Ew(await yp(A),ue)))}})(ku(g),E,m,p)}function vf(r,e){return(function(s,o){const u=new qr;return s.asyncQueue.enqueueAndForget((async()=>ON(await QN(s),o,u))),u.promise})(ku(r),e)}function cM(r,e,n){const s=n.docs.get(e._key),o=new yf(r);return new Hs(r,o,e._key,s,new No(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Lu(e)}set(e,n,s){this._verifyNotCommitted();const o=Ps(e,this._firestore),u=Sg(o.converter,n,s),f=mg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,an.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Ps(e,this._firestore);let f;return f=typeof(n=Ut(n))=="string"||n instanceof Wo?vg(this._dataReader,"WriteBatch.update",u._key,n,s,o):yg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,an.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ps(e,this._firestore);return this._mutations=this._mutations.concat(new Nu(n._key,an.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ge(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ps(r,e){if((r=Ut(r)).firestore!==e)throw new ge(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Lu(e)}get(e){const n=Ps(e,this._firestore),s=new lM(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return De(24041);const u=o[0];if(u.isFoundDocument())return new Kh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Kh(this._firestore,s,n._key,null,n.converter);throw De(18433,{doc:u})}))}set(e,n,s){const o=Ps(e,this._firestore),u=Sg(o.converter,n,s),f=mg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,n,s,...o){const u=Ps(e,this._firestore);let f;return f=typeof(n=Ut(n))=="string"||n instanceof Wo?vg(this._dataReader,"Transaction.update",u._key,n,s,o):yg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(e){const n=Ps(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM extends dM{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ps(e,this._firestore),s=new yf(this._firestore);return super.get(e).then((o=>new Hs(this._firestore,s,n._key,o._document,new No(!1,!1),n.converter)))}}function pM(r,e,n){r=gi(r,Kr);const s=Object.assign(Object.assign({},hM),n);return(function(u){if(u.maxAttempts<1)throw new ge(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new qr;return u.asyncQueue.enqueueAndForget((async()=>{const g=await YN(u);new HN(u.asyncQueue,g,m,f,p).zu()})),p.promise})(ku(r),(o=>e(new mM(r,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){return new Uu("deleteField")}function yM(...r){return new pg("arrayUnion",r)}function vM(r){return new gg("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(r){return ku(r=gi(r,Kr)),new fM(r,(e=>vf(r,e)))}(function(e,n=!0){(function(o){Ko=o})(Qo),Po(new Oa("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Kr(new sx(s.getProvider("auth-internal")),new lx(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(g.options.projectId,E)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),zs(z0,j0,e),zs(z0,j0,"esm2017")})();var EM="firebase",TM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zs(EM,TM,"app");const wM={apiKey:"AIzaSyCEUaqAGQBy_-tQEjnkNGYMXRk7YRaCAjI",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.firebasestorage.app",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},Bw=bT(wM),jr=tx(Bw),Lm=new Lr,dn=XN(Bw);var Ag={};(function r(e,n,s,o){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=(function(){if(!e.OffscreenCanvas)return!1;try{var B=new OffscreenCanvas(1,1),T=B.getContext("2d");T.fillRect(0,0,1,1);var U=B.transferToImageBitmap();T.createPattern(U,"no-repeat")}catch{return!1}return!0})();function p(){}function g(B){var T=n.exports.Promise,U=T!==void 0?T:e.Promise;return typeof U=="function"?new U(B):(B(p,p),null)}var E=(function(B,T){return{transform:function(U){if(B)return U;if(T.has(U))return T.get(U);var Q=new OffscreenCanvas(U.width,U.height),oe=Q.getContext("2d");return oe.drawImage(U,0,0),T.set(U,Q),Q},clear:function(){T.clear()}}})(m,new Map),w=(function(){var B=Math.floor(16.666666666666668),T,U,Q={},oe=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(ce){var me=Math.random();return Q[me]=requestAnimationFrame(function fe(we){oe===we||oe+B-1<we?(oe=we,delete Q[me],ce()):Q[me]=requestAnimationFrame(fe)}),me},U=function(ce){Q[ce]&&cancelAnimationFrame(Q[ce])}):(T=function(ce){return setTimeout(ce,B)},U=function(ce){return clearTimeout(ce)}),{frame:T,cancel:U}})(),A=(function(){var B,T,U={};function Q(oe){function ce(me,fe){oe.postMessage({options:me||{},callback:fe})}oe.init=function(fe){var we=fe.transferControlToOffscreen();oe.postMessage({canvas:we},[we])},oe.fire=function(fe,we,be){if(T)return ce(fe,null),T;var ze=Math.random().toString(36).slice(2);return T=g(function(je){function Fe(Ye){Ye.data.callback===ze&&(delete U[ze],oe.removeEventListener("message",Fe),T=null,E.clear(),be(),je())}oe.addEventListener("message",Fe),ce(fe,ze),U[ze]=Fe.bind(null,{data:{callback:ze}})}),T},oe.reset=function(){oe.postMessage({reset:!0});for(var fe in U)U[fe](),delete U[fe]}}return function(){if(B)return B;if(!s&&u){var oe=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{B=new Worker(URL.createObjectURL(new Blob([oe])))}catch(ce){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ce),null}Q(B)}return B}})(),V={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function G(B,T){return T?T(B):B}function Z(B){return B!=null}function L(B,T,U){return G(B&&Z(B[T])?B[T]:V[T],U)}function ue(B){return B<0?0:Math.floor(B)}function he(B,T){return Math.floor(Math.random()*(T-B))+B}function re(B){return parseInt(B,16)}function Ae(B){return B.map(Pe)}function Pe(B){var T=String(B).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:re(T.substring(0,2)),g:re(T.substring(2,4)),b:re(T.substring(4,6))}}function xe(B){var T=L(B,"origin",Object);return T.x=L(T,"x",Number),T.y=L(T,"y",Number),T}function N(B){B.width=document.documentElement.clientWidth,B.height=document.documentElement.clientHeight}function R(B){var T=B.getBoundingClientRect();B.width=T.width,B.height=T.height}function C(B){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=B,T}function O(B,T,U,Q,oe,ce,me,fe,we){B.save(),B.translate(T,U),B.rotate(ce),B.scale(Q,oe),B.arc(0,0,1,me,fe,we),B.restore()}function k(B){var T=B.angle*(Math.PI/180),U=B.spread*(Math.PI/180);return{x:B.x,y:B.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:B.startVelocity*.5+Math.random()*B.startVelocity,angle2D:-T+(.5*U-Math.random()*U),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:B.color,shape:B.shape,tick:0,totalTicks:B.ticks,decay:B.decay,drift:B.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:B.gravity*3,ovalScalar:.6,scalar:B.scalar,flat:B.flat}}function j(B,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var U=T.tick++/T.totalTicks,Q=T.x+T.random*T.tiltCos,oe=T.y+T.random*T.tiltSin,ce=T.wobbleX+T.random*T.tiltCos,me=T.wobbleY+T.random*T.tiltSin;if(B.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-U)+")",B.beginPath(),f&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))B.fill(de(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(ce-Q)*.1,Math.abs(me-oe)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var fe=Math.PI/10*T.wobble,we=Math.abs(ce-Q)*.1,be=Math.abs(me-oe)*.1,ze=T.shape.bitmap.width*T.scalar,je=T.shape.bitmap.height*T.scalar,Fe=new DOMMatrix([Math.cos(fe)*we,Math.sin(fe)*we,-Math.sin(fe)*be,Math.cos(fe)*be,T.x,T.y]);Fe.multiplySelf(new DOMMatrix(T.shape.matrix));var Ye=B.createPattern(E.transform(T.shape.bitmap),"no-repeat");Ye.setTransform(Fe),B.globalAlpha=1-U,B.fillStyle=Ye,B.fillRect(T.x-ze/2,T.y-je/2,ze,je),B.globalAlpha=1}else if(T.shape==="circle")B.ellipse?B.ellipse(T.x,T.y,Math.abs(ce-Q)*T.ovalScalar,Math.abs(me-oe)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):O(B,T.x,T.y,Math.abs(ce-Q)*T.ovalScalar,Math.abs(me-oe)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var Re=Math.PI/2*3,vt=4*T.scalar,Rt=8*T.scalar,en=T.x,In=T.y,Cn=5,Ft=Math.PI/Cn;Cn--;)en=T.x+Math.cos(Re)*Rt,In=T.y+Math.sin(Re)*Rt,B.lineTo(en,In),Re+=Ft,en=T.x+Math.cos(Re)*vt,In=T.y+Math.sin(Re)*vt,B.lineTo(en,In),Re+=Ft;else B.moveTo(Math.floor(T.x),Math.floor(T.y)),B.lineTo(Math.floor(T.wobbleX),Math.floor(oe)),B.lineTo(Math.floor(ce),Math.floor(me)),B.lineTo(Math.floor(Q),Math.floor(T.wobbleY));return B.closePath(),B.fill(),T.tick<T.totalTicks}function D(B,T,U,Q,oe){var ce=T.slice(),me=B.getContext("2d"),fe,we,be=g(function(ze){function je(){fe=we=null,me.clearRect(0,0,Q.width,Q.height),E.clear(),oe(),ze()}function Fe(){s&&!(Q.width===o.width&&Q.height===o.height)&&(Q.width=B.width=o.width,Q.height=B.height=o.height),!Q.width&&!Q.height&&(U(B),Q.width=B.width,Q.height=B.height),me.clearRect(0,0,Q.width,Q.height),ce=ce.filter(function(Ye){return j(me,Ye)}),ce.length?fe=w.frame(Fe):je()}fe=w.frame(Fe),we=je});return{addFettis:function(ze){return ce=ce.concat(ze),be},canvas:B,promise:be,reset:function(){fe&&w.cancel(fe),we&&we()}}}function At(B,T){var U=!B,Q=!!L(T||{},"resize"),oe=!1,ce=L(T,"disableForReducedMotion",Boolean),me=u&&!!L(T||{},"useWorker"),fe=me?A():null,we=U?N:R,be=B&&fe?!!B.__confetti_initialized:!1,ze=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,je;function Fe(Re,vt,Rt){for(var en=L(Re,"particleCount",ue),In=L(Re,"angle",Number),Cn=L(Re,"spread",Number),Ft=L(Re,"startVelocity",Number),Ki=L(Re,"decay",Number),ta=L(Re,"gravity",Number),mr=L(Re,"drift",Number),Ot=L(Re,"colors",Ae),Vi=L(Re,"ticks",Number),_t=L(Re,"shapes"),Et=L(Re,"scalar"),ti=!!L(Re,"flat"),pr=xe(Re),_i=en,$i=[],gn=B.width*pr.x,zt=B.height*pr.y;_i--;)$i.push(k({x:gn,y:zt,angle:In,spread:Cn,startVelocity:Ft,color:Ot[_i%Ot.length],shape:_t[he(0,_t.length)],ticks:Vi,decay:Ki,gravity:ta,drift:mr,scalar:Et,flat:ti}));return je?je.addFettis($i):(je=D(B,$i,we,vt,Rt),je.promise)}function Ye(Re){var vt=ce||L(Re,"disableForReducedMotion",Boolean),Rt=L(Re,"zIndex",Number);if(vt&&ze)return g(function(Ft){Ft()});U&&je?B=je.canvas:U&&!B&&(B=C(Rt),document.body.appendChild(B)),Q&&!be&&we(B);var en={width:B.width,height:B.height};fe&&!be&&fe.init(B),be=!0,fe&&(B.__confetti_initialized=!0);function In(){if(fe){var Ft={getBoundingClientRect:function(){if(!U)return B.getBoundingClientRect()}};we(Ft),fe.postMessage({resize:{width:Ft.width,height:Ft.height}});return}en.width=en.height=null}function Cn(){je=null,Q&&(oe=!1,e.removeEventListener("resize",In)),U&&B&&(document.body.contains(B)&&document.body.removeChild(B),B=null,be=!1)}return Q&&!oe&&(oe=!0,e.addEventListener("resize",In,!1)),fe?fe.fire(Re,en,Cn):Fe(Re,en,Cn)}return Ye.reset=function(){fe&&fe.reset(),je&&je.reset()},Ye}var xt;function ee(){return xt||(xt=At(null,{useWorker:!0,resize:!0})),xt}function de(B,T,U,Q,oe,ce,me){var fe=new Path2D(B),we=new Path2D;we.addPath(fe,new DOMMatrix(T));var be=new Path2D;return be.addPath(we,new DOMMatrix([Math.cos(me)*oe,Math.sin(me)*oe,-Math.sin(me)*ce,Math.cos(me)*ce,U,Q])),be}function Ee(B){if(!f)throw new Error("path confetti are not supported in this browser");var T,U;typeof B=="string"?T=B:(T=B.path,U=B.matrix);var Q=new Path2D(T),oe=document.createElement("canvas"),ce=oe.getContext("2d");if(!U){for(var me=1e3,fe=me,we=me,be=0,ze=0,je,Fe,Ye=0;Ye<me;Ye+=2)for(var Re=0;Re<me;Re+=2)ce.isPointInPath(Q,Ye,Re,"nonzero")&&(fe=Math.min(fe,Ye),we=Math.min(we,Re),be=Math.max(be,Ye),ze=Math.max(ze,Re));je=be-fe,Fe=ze-we;var vt=10,Rt=Math.min(vt/je,vt/Fe);U=[Rt,0,0,Rt,-Math.round(je/2+fe)*Rt,-Math.round(Fe/2+we)*Rt]}return{type:"path",path:T,matrix:U}}function et(B){var T,U=1,Q="#000000",oe='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof B=="string"?T=B:(T=B.text,U="scalar"in B?B.scalar:U,oe="fontFamily"in B?B.fontFamily:oe,Q="color"in B?B.color:Q);var ce=10*U,me=""+ce+"px "+oe,fe=new OffscreenCanvas(ce,ce),we=fe.getContext("2d");we.font=me;var be=we.measureText(T),ze=Math.ceil(be.actualBoundingBoxRight+be.actualBoundingBoxLeft),je=Math.ceil(be.actualBoundingBoxAscent+be.actualBoundingBoxDescent),Fe=2,Ye=be.actualBoundingBoxLeft+Fe,Re=be.actualBoundingBoxAscent+Fe;ze+=Fe+Fe,je+=Fe+Fe,fe=new OffscreenCanvas(ze,je),we=fe.getContext("2d"),we.font=me,we.fillStyle=Q,we.fillText(T,Ye,Re);var vt=1/U;return{type:"bitmap",bitmap:fe.transferToImageBitmap(),matrix:[vt,0,0,vt,-ze*vt/2,-je*vt/2]}}n.exports=function(){return ee().apply(this,arguments)},n.exports.reset=function(){ee().reset()},n.exports.create=At,n.exports.shapeFromPath=Ee,n.exports.shapeFromText=et})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Ag,!1);const bM=Ag.exports;Ag.exports.create;const SM=({className:r})=>q.jsxs("span",{className:"relative inline-block "+(r||""),children:[q.jsx(cT,{className:"w-5 h-5"}),q.jsx("span",{className:"absolute -right-1 -top-1",children:q.jsx(Qm,{className:"w-3.5 h-3.5"})})]});(async()=>{try{await YT(jr,Lp)}catch{}})();function AM(r,e){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(r)}&token=${encodeURIComponent(e)}`}async function RM(r){try{return await navigator.clipboard.writeText(r),!0}catch{return window.prompt("  :",r),!1}}async function tu(){try{try{await YT(jr,Lp)}catch{}await cC(jr,Lm)}catch(r){const e=r==null?void 0:r.code;if(e==="auth/popup-blocked"||e==="auth/cancelled-popup-request"||e==="auth/popup-closed-by-user"){await D0(jr,Lm);return}await D0(jr,Lm)}}function IM(r){const e=encodeURIComponent(r);window.open(`https://wa.me/?text=${e}`,"_blank")}const CM=()=>{const[r]=rR(),e=Tp(),n=r.get("listId"),s=r.get("token"),[o,u]=P.useState(jr.currentUser),[f,m]=P.useState(!0),[p,g]=P.useState(!1),[E,w]=P.useState(null);P.useEffect(()=>KT(jr,G=>{u(G),m(!1)}),[]);const A=async()=>{w(null);try{await tu()}catch(G){w((G==null?void 0:G.message)||" ")}},V=async()=>{if(!n||!s){w("    (listId  token)");return}if(!o){await A();return}g(!0),w(null);try{await pM(dn,async G=>{var re;const Z=Zn(dn,"lists",n),L=await G.get(Z);if(!L.exists())throw new Error("  ");const he=(re=L.data().pendingInvites)==null?void 0:re[s];if(!he)throw new Error("  ");if(he.expiresAt<Date.now())throw new Error("  ");G.update(Z,{sharedWith:yM(o.uid),[`pendingInvites.${s}`]:gM()})}),localStorage.setItem("activeListId",n),e("/")}catch(G){w((G==null?void 0:G.message)||"  ")}finally{g(!1)}};return f?q.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif'},children:[q.jsx("style",{children:`
        html, body, #root {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        *, *::before, *::after,
        input, button, select, textarea, option, label {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        input::placeholder, textarea::placeholder {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
      `}),q.jsx(Ih,{className:"animate-spin text-indigo-600"})]}):q.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:q.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[q.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:q.jsx(fT,{className:"w-10 h-10"})}),q.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?q.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,E?q.jsx("p",{className:"text-rose-500 font-bold break-words",children:E}):null,o?q.jsx("button",{onClick:V,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?q.jsx(Ih,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):q.jsxs("button",{onClick:A,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[q.jsx(hT,{className:"w-4 h-4"}),"   "]})]})})},qw={:1,:1,:2,:2,:2,:2,:2,:3,:3,:4,:4,:5,:5,:6,:6,:7,:7,:8,:9,:9,:10,:10},Pr=r=>(r||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),Hw=r=>(r||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\b\b/g,",").replace(/\b\b/g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim();function $h(r){return r?/^\d+$/.test(r)?!0:qw[r]!=null:!1}function xM(r){if(!r)return null;if(/^\d+$/.test(r))return Number(r);const e=qw[r];return e??null}const DM=new Set(["","","","","","","","","","","","","","","","","","","","","","","",""]);function NM(r){return DM.has(r)}const Um=new Set([" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","' "," "," "," "]),zm=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),jm=new Set(["","","","","","","","","","","","",""]);function MM(r){const e=[];let n=0;const s=o=>o&&o.startsWith("")&&o.length>1?o.slice(1):o;for(;n<r.length;){const o=r[n],u=n+1<r.length?r[n+1]:"";if(o&&u&&!$h(o)&&!$h(u)){const f=`${o} ${u}`,m=s(u),p=`${o} ${m}`;if(Um.has(f)||Um.has(p)){e.push(Um.has(f)?f:p),n+=2;continue}if(zm.has(u)||zm.has(m)){e.push(zm.has(u)?f:p),n+=2;continue}if(jm.has(u)||jm.has(m)){e.push(jm.has(u)?f:p),n+=2;continue}}e.push(o),n+=1}return e}function OM(r){const e=Pr(r);if(!e)return[];let n=e.split(" ").filter(Boolean);if(n=MM(n),n.length===0)return[];const s=[];let o=1,u=[];const f=p=>{const g=u.join(" ").trim();if(g){const E=Math.max(1,Number(p??o??1));s.push({name:g,qty:E})}o=1,u=[]},m=p=>p+1<n.length?n[p+1]:"";for(let p=0;p<n.length;p++){const g=n[p];if($h(g)){const w=Math.max(1,xM(g)||1),A=m(p);if(u.length===0){o=w;continue}if(!A){f(w);continue}f(),o=w;continue}u.push(g);const E=m(p);u.length===1&&NM(u[0])||g===""||g===""||E===""||E===""||$h(E)||f()}return u.length>0&&f(),s.map(p=>({name:p.name.replace(/\s+/g," ").trim(),qty:Math.max(1,Number(p.qty||1))})).filter(p=>p.name.length>0)}function VM(r){const e=Hw(r),n=Pr(e);if(!n)return[];const o=n.replace(/\s+\s+/g,",").replace(/\s+\s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+\s+/g,",").split(/,|\n/).map(f=>f.trim()).filter(Boolean),u=[];for(const f of o){const m=OM(f);for(const p of m)u.push(p)}return u}const kM=["","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","'"," "," "," ","","","","","","",""," "," ","",""," ","","","","","",""," ",""," "," "," "," "," "," ","",""," "];function or(r){return r.trim().replace(/\s+/g," ").replace(/[]/g,'"').replace(/[]/g,"'").toLowerCase()}const Fw="shopping_list_item_history_v1",Gw="shopping_list_hidden_suggestions_v1",PM=1440*60*1e3;function Rg(){try{const r=localStorage.getItem(Gw);if(!r)return{};const e=JSON.parse(r);if(!e||typeof e!="object"||Array.isArray(e))return{};const n={};for(const[s,o]of Object.entries(e))typeof s=="string"&&typeof o=="number"&&Number.isFinite(o)&&(n[s]=o);return n}catch{return{}}}function Ig(r){try{localStorage.setItem(Gw,JSON.stringify(r))}catch{}}function jE(){const r=Rg(),e=Date.now(),n=[];let s=!1;for(const[o,u]of Object.entries(r)){if(typeof u!="number"||!Number.isFinite(u)){delete r[o],s=!0;continue}u>e?n.push(o):(delete r[o],s=!0)}return s&&Ig(r),n}function LM(r){const e=Rg();e[r]=Date.now()+PM,Ig(e)}function Bm(r){try{const e=Rg();e[r]&&(delete e[r],Ig(e))}catch{}}function UM(){try{const r=localStorage.getItem(Fw);if(!r)return{};const e=JSON.parse(r);return!e||typeof e!="object"?{}:e}catch{return{}}}function BE(r){try{localStorage.setItem(Fw,JSON.stringify(r))}catch{}}function zM(r){const e=r.query,n=or(e),s=r.limit??8;if(!n)return[];const o=new Map,u=(g,E)=>{const w=g.trim();if(!w)return;const A=or(w);if(!A||r.hiddenKeys.has(A))return;const V=o.get(A);if(V){V.sources.add(E);return}o.set(A,{name:w,key:A,sources:new Set([E])})};for(const g of r.favorites)u(g,"favorite");for(const g of r.items)u(g.name,"items");for(const[g,E]of Object.entries(r.history)){u((E==null?void 0:E.name)||g,"history");const w=o.get(g);w&&(w.history=E)}for(const g of kM)u(g,"static");const f=Array.from(o.values()),m=new Map;for(const g of r.items){const E=or(g.name);E&&(m.has(E)||m.set(E,{id:g.id,quantity:g.quantity}))}const p=g=>{const E=g.key,w=E.startsWith(n),A=!w&&E.includes(n);if(!w&&!A)return-1/0;let V=w?120:70;if(g.sources.has("favorite")&&(V+=45),g.sources.has("history")&&(V+=35),g.sources.has("items")&&(V+=20),g.sources.has("static")&&(V+=10),g.history){const G=Math.max(0,g.history.count||0),Z=Math.max(0,g.history.lastUsed||0);V+=Math.min(30,Math.log2(G+1)*8);const L=(Date.now()-Z)/(1e3*60*60*24),ue=Math.max(0,20-L);V+=Math.min(20,ue)}return V};return f.map(g=>({c:g,s:p(g)})).filter(g=>Number.isFinite(g.s)).sort((g,E)=>E.s-g.s).slice(0,s).map(g=>{const E=m.get(g.c.key);return{name:g.c.name,key:g.c.key,canHide:g.c.sources.has("history")&&!g.c.sources.has("favorite"),isInList:!!E,itemId:E==null?void 0:E.id,currentQty:E==null?void 0:E.quantity}})}const jM=()=>{const[r,e]=P.useState(null),[n,s]=P.useState(null),[o,u]=P.useState([]),[f,m]=P.useState([]),[p,g]=P.useState("list"),[E,w]=P.useState(""),A=P.useRef(null),[V,G]=P.useState(!1),[Z,L]=P.useState(-1),ue=P.useRef({}),he=P.useRef(null);P.useEffect(()=>{ue.current=UM()},[]);const[re,Ae]=P.useState(!1),[Pe,xe]=P.useState(!1),[N,R]=P.useState(!1),[C,O]=P.useState(()=>{const I=new Date,F=new Date(I);F.setMinutes(0,0,0),F.setHours(18),F.getTime()<I.getTime()&&F.setHours(I.getHours()+1);const X=se=>String(se).padStart(2,"0");return`${F.getFullYear()}-${X(F.getMonth()+1)}-${X(F.getDate())}T${X(F.getHours())}:${X(F.getMinutes())}`}),[k,j]=P.useState(60),[D,At]=P.useState(!0),[xt,ee]=P.useState(!1),[de,Ee]=P.useState(!1),[et]=P.useState("hold_to_talk"),[B,T]=P.useState(""),[U,Q]=P.useState(null),oe=P.useRef(null),ce=P.useRef(!1),me=P.useRef([]),fe=P.useRef(""),we=P.useRef(!1),be=P.useRef(null),ze=P.useRef(null),je=P.useRef(!1),Fe=P.useRef(null),[Ye,Re]=P.useState({id:null,dx:0}),vt=70,Rt=110,en=I=>{const F=I;return F?!!F.closest("button, input, textarea, select, a, [data-noswipe='true']"):!1},In=I=>F=>{en(F.target)||(je.current=!1,be.current={x:F.clientX,y:F.clientY,id:I,pointerId:F.pointerId},ze.current={x:F.clientX,y:F.clientY},Re({id:I,dx:0}))},Cn=I=>F=>{const X=be.current;if(!X||X.id!==I||X.pointerId!==F.pointerId)return;ze.current={x:F.clientX,y:F.clientY};const se=F.clientX-X.x,ye=Math.max(-Rt,Math.min(Rt,se));if(!Fe.current&&Math.abs(se)>10&&Math.abs(se)>=Math.abs(F.clientY-X.y))try{F.currentTarget.setPointerCapture(F.pointerId),Fe.current={el:F.currentTarget,pointerId:F.pointerId}}catch{}Re({id:I,dx:ye})},Ft=I=>async F=>{const X=be.current,se=ze.current;be.current=null;try{Fe.current&&Fe.current.el.releasePointerCapture(X.pointerId)}catch{}if(Fe.current=null,ze.current=null,!X||X.id!==I){Re({id:null,dx:0});return}const ye=(se==null?void 0:se.x)??F.clientX,Ve=(se==null?void 0:se.y)??F.clientY,Se=ye-X.x,nt=Ve-X.y;if(Re({id:null,dx:0}),!(Math.abs(Se)<vt||Math.abs(Se)<Math.abs(nt))){je.current=!0;try{Se<0?await Pn(I):await ki(I)}finally{window.setTimeout(()=>{je.current=!1},0)}}},Ki=I=>F=>{if(en(F.target))return;const X=F.touches[0];X&&(je.current=!1,be.current={x:X.clientX,y:X.clientY,id:I,pointerId:-1},ze.current={x:X.clientX,y:X.clientY},Re({id:I,dx:0}))},ta=I=>F=>{const X=be.current;if(!X||X.id!==I)return;const se=F.touches[0];if(!se)return;ze.current={x:se.clientX,y:se.clientY};const ye=se.clientX-X.x,Ve=se.clientY-X.y;if(Math.abs(ye)<6||Math.abs(ye)<Math.abs(Ve))return;try{F.preventDefault()}catch{}const Se=Math.max(-Rt,Math.min(Rt,ye));Re({id:I,dx:Se})},mr=I=>async F=>{const X=be.current,se=ze.current;if(be.current=null,ze.current=null,!X||X.id!==I){Re({id:null,dx:0});return}const ye=se?se.x-X.x:0;if(Math.abs(ye)<vt){Re({id:null,dx:0});return}je.current=!0,ye<0?await Pn(I):await ki(I),Re({id:null,dx:0})},Ot=()=>{be.current=null,ze.current=null;try{Fe.current&&Fe.current.el.releasePointerCapture(Fe.current.pointerId)}catch{}Fe.current=null,Re({id:null,dx:0})},Vi=P.useRef(null),_t=P.useRef([]),Et=P.useRef(!1);P.useEffect(()=>{Vi.current=(n==null?void 0:n.id)??null},[n==null?void 0:n.id]),P.useEffect(()=>{_t.current=o},[o]),P.useEffect(()=>{if(!o||o.length===0){Et.current=!1;return}const I=o.every(F=>F.isPurchased);I&&!Et.current&&(Et.current=!0,bM({particleCount:140,spread:75,origin:{y:.65}})),I||(Et.current=!1)},[o]),P.useEffect(()=>{if(!U)return;const I=setTimeout(()=>Q(null),2500);return()=>clearTimeout(I)},[U]),P.useEffect(()=>KT(jr,async I=>{if(e(I),At(!1),!I){s(null),u([]),m([]);return}ee(!0);const F=aM($l(dn,"lists"),oM("sharedWith","array-contains",I.uid)),X=await zE(F);if(X.empty){const se=Zn($l(dn,"lists")),ye={id:se.id,title:" ",ownerUid:I.uid,sharedWith:[I.uid],createdAt:Date.now(),updatedAt:Date.now()};await Xl(se,ye),s(ye),localStorage.setItem("activeListId",se.id)}else{const se=localStorage.getItem("activeListId"),ye=se?X.docs.find(Se=>Se.id===se)??X.docs[0]:X.docs[0],Ve=ye.data();s({...Ve,id:ye.id}),localStorage.setItem("activeListId",ye.id)}ee(!1)}),[]),P.useEffect(()=>{if(!(n!=null&&n.id))return;const I=Zn(dn,"lists",n.id),F=$l(I,"items"),X=$l(I,"favorites"),se=Pm(I,Se=>{Se.exists()&&s({...Se.data(),id:Se.id})}),ye=Pm(F,Se=>{const nt=Se.docs.map(lt=>lt.data());u(nt)}),Ve=Pm(X,Se=>{const nt=Se.docs.map(lt=>{const Be=lt.data();return{id:lt.id,name:String((Be==null?void 0:Be.name)||""),createdAt:Number((Be==null?void 0:Be.createdAt)||0)}});nt.sort((lt,Be)=>Be.createdAt-lt.createdAt),m(nt)});return()=>{se(),ye(),Ve()}},[n==null?void 0:n.id]);const ti=P.useMemo(()=>{const I=new Set;for(const F of f)I.add(F.id);return I},[f]),pr=P.useMemo(()=>o.filter(I=>!I.isPurchased).sort((I,F)=>F.createdAt-I.createdAt),[o]),_i=P.useMemo(()=>o.filter(I=>I.isPurchased).sort((I,F)=>(F.purchasedAt||0)-(I.purchasedAt||0)),[o]),$i=I=>{const F=I.trim();if(!F)return;const X=or(F);if(!X)return;const se=ue.current[X],ye={name:F,count:((se==null?void 0:se.count)||0)+1,lastUsed:Date.now()};ue.current={...ue.current,[X]:ye},BE(ue.current)},gn=P.useRef(new Set);P.useEffect(()=>{gn.current=new Set(jE())},[]);const zt=P.useMemo(()=>{const I=new Set(jE());return gn.current=I,zM({query:E,favorites:f.map(F=>F.name),items:o,history:ue.current,hiddenKeys:I,limit:8})},[E,f,o]),ln=()=>{he.current&&window.clearTimeout(he.current),he.current=window.setTimeout(()=>{G(!1),L(-1)},120)},Vn=()=>{he.current&&window.clearTimeout(he.current),G(!0)},tn=async I=>{if(I.isInList&&I.itemId){const F=(I.currentQty??1)+1;await kn(I.itemId,1);const X=I.key||or(I.name);X&&(Bm(X),gn.current.delete(X)),Q(`  -   -${F}`),w(""),L(-1),G(!1),window.requestAnimationFrame(()=>{var se;return(se=A.current)==null?void 0:se.focus()});return}w(I.name),L(-1),G(!1),window.requestAnimationFrame(()=>{var F;return(F=A.current)==null?void 0:F.focus()})},el=I=>{const F=I.key||or(I.name);if(!F)return;const X={...ue.current};X[F]&&(delete X[F],ue.current=X,BE(X));const se=new Set(gn.current);se.add(F),gn.current=se,LM(F),G(!1),L(-1),window.requestAnimationFrame(()=>{var ye;return(ye=A.current)==null?void 0:ye.focus()})},na=async I=>{if(I&&I.preventDefault(),!r){await tu();return}if(!(n!=null&&n.id))return;const F=E.trim();if(!F)return;const X=or(F),se=o.find(Se=>or(Se.name)===X);if(se){await kn(se.id,1),X&&(Bm(X),gn.current.delete(X)),$i(se.name),w(""),G(!1),L(-1);return}const ye=crypto.randomUUID(),Ve={id:ye,name:F,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Xl(Zn(dn,"lists",n.id,"items",ye),Ve),X&&(Bm(X),gn.current.delete(X)),$i(F),w(""),G(!1),L(-1)},Jr=async I=>{if(!(n!=null&&n.id))return;const F=o.find(se=>se.id===I);if(!F)return;const X=!F.isPurchased;await Jl(Zn(dn,"lists",n.id,"items",I),{isPurchased:X,purchasedAt:X?Date.now():null})},kn=async(I,F)=>{if(!(n!=null&&n.id))return;if(F>0){await Jl(Zn(dn,"lists",n.id,"items",I),{quantity:vM(F)});return}const X=o.find(se=>se.id===I);X&&await Jl(Zn(dn,"lists",n.id,"items",I),{quantity:Math.max(1,X.quantity+F)})},Pn=async I=>{n!=null&&n.id&&await km(Zn(dn,"lists",n.id,"items",I))},ki=async I=>{if(!(n!=null&&n.id))return;const F=Zn(dn,"lists",n.id,"favorites",I);if(ti.has(I))await km(F);else{const X=o.find(se=>se.id===I);await Xl(F,{name:(X==null?void 0:X.name)||"",createdAt:Date.now()})}},ni=async I=>{n!=null&&n.id&&await km(Zn(dn,"lists",n.id,"favorites",I))},Ln=async()=>{const I=Vi.current||(n==null?void 0:n.id);if(!I)return;const F=$l(dn,"lists",I,"items"),X=await zE(F);if(X.empty){xe(!1);return}const se=X.docs;let ye=0;for(;ye<se.length;){const Ve=_M(dn),Se=se.slice(ye,ye+450);for(const nt of Se)Ve.delete(nt.ref);await Ve.commit(),ye+=Se.length}xe(!1)},Xi=async()=>{if(!r)return await tu(),null;if(!(n!=null&&n.id))return null;const I=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),F=Date.now()+2880*60*1e3;return await Jl(Zn(dn,"lists",n.id),{[`pendingInvites.${I}`]:{createdAt:Date.now(),expiresAt:F}}),AM(n.id,I)},Wr=async()=>{const I=await Xi();if(I){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:" ",text:"   ",url:I});return}}catch{}await RM(I),Ae(!0),setTimeout(()=>Ae(!1),2e3)}},ia=(I,F)=>{const[X,se]=I.split("T"),[ye,Ve,Se]=X.split("-").map(zn=>parseInt(zn,10)),[nt,lt]=se.split(":").map(zn=>parseInt(zn,10)),Be=new Date(ye,Ve-1,Se,nt,lt,0,0),Le=new Date(Be.getTime()+Math.max(15,F)*6e4),Gt=zn=>String(zn).padStart(2,"0"),Fn=zn=>`${zn.getFullYear()}${Gt(zn.getMonth()+1)}${Gt(zn.getDate())}T${Gt(zn.getHours())}${Gt(zn.getMinutes())}00`,Gn=`${Fn(Be)}/${Fn(Le)}`,rn=encodeURIComponent("  "),jt=encodeURIComponent("   -     "),ji=encodeURIComponent("Asia/Jerusalem");return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${rn}&dates=${encodeURIComponent(Gn)}&details=${jt}&ctz=${ji}`},Pi=()=>{const I=ia(C,k),F=navigator.userAgent||"",X=/Android/i.test(F),se=/iPhone|iPad|iPod/i.test(F);if(X){const ye=I.replace(/^https:\/\//i,"intent://")+"#Intent;scheme=https;package=com.google.android.calendar;end";window.location.href=ye,window.setTimeout(()=>{window.location.href=I},700);return}if(se){window.location.href="googlecalendar://",window.setTimeout(()=>{window.location.href=I},700);return}window.open(I,"_blank","noopener,noreferrer")},Ji=()=>{const I=(n==null?void 0:n.title)||" ",F=o.filter(Le=>!Le.isPurchased),X="",se="",ye="",Ve="",Se=F.length>0?F.map(Le=>(Le.quantity||1)<=1?`${X}${Le.name}${se}`:`${X}${Le.name} X ${ye}${Le.quantity}${Ve}${se}`).join(`
`):`${X}(  )${se}`,Be=`${`*${I}:*`}

${Se}

   `;IM(Be)},Dt=P.useRef(null),Li=P.useRef(null),Un=P.useRef(null),[yn,Wi]=P.useState({id:null,dx:0,rawDx:0}),ra=60,ii=110,Ba=async I=>{if(!(n!=null&&n.id))return;const F=or(I.name),X=o.find(se=>!se.isPurchased&&or(se.name)===F);if(X)await kn(X.id,1);else{const se=crypto.randomUUID(),ye={id:se,name:I.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Xl(Zn(dn,"lists",n.id,"items",se),ye)}},Ei=I=>F=>{en(F.target)||(Dt.current={x:F.clientX,y:F.clientY,id:I,pointerId:F.pointerId},Li.current={x:F.clientX,y:F.clientY},Wi({id:I,dx:0,rawDx:0}))},It=I=>F=>{const X=Dt.current;if(!X||X.id!==I)return;Li.current={x:F.clientX,y:F.clientY};const se=F.clientX-X.x,ye=F.clientY-X.y;if(!Un.current&&Math.abs(se)>10&&Math.abs(ye)<=Math.abs(se)*1.2)try{F.currentTarget.setPointerCapture(F.pointerId),Un.current={el:F.currentTarget,pointerId:F.pointerId}}catch{}if(Math.abs(ye)>Math.abs(se)*1.6)return;const Ve=Math.max(-ii,Math.min(ii,se));Wi({id:I,dx:Ve,rawDx:se})},nn=I=>async F=>{const X=Dt.current,se=Li.current;Dt.current=null;try{Un.current&&X&&Un.current.el.releasePointerCapture(X.pointerId)}catch{}if(Un.current=null,Li.current=null,Wi({id:null,dx:0,rawDx:0}),!X||X.id!==I)return;const ye=(se==null?void 0:se.x)??F.clientX,Ve=(se==null?void 0:se.y)??F.clientY,Se=ye-X.x,nt=Ve-X.y;if(Math.abs(Se)<ra||Math.abs(nt)>Math.abs(Se)*1.6)return;const lt=f.find(Be=>Be.id===I);Se>0?lt&&await Ba(lt):(await ni(I),Q(" "))},Ti=()=>{Dt.current=null,Li.current=null,Un.current=null,Wi({id:null,dx:0,rawDx:0})},ri=I=>{const F=Pr(I),X=o.find(ye=>Pr(ye.name)===F);return X||o.find(ye=>Pr(ye.name).includes(F)||F.includes(Pr(ye.name)))||null},wi=async(I,F)=>{const X=Vi.current||(n==null?void 0:n.id);if(!X)return;const se=_t.current||o,ye=I.trim();if(!ye)return;const Ve=se.find(lt=>!lt.isPurchased&&Pr(lt.name)===Pr(ye));if(Ve){await Jl(Zn(dn,"lists",X,"items",Ve.id),{quantity:F});return}const Se=crypto.randomUUID(),nt={id:Se,name:ye,quantity:F,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Xl(Zn(dn,"lists",X,"items",Se),nt)},qa=I=>/(|||||||||)\s*(\s*)?(\s*)?(\s*)?(|)?/.test(I)||/^(||)$/.test(I)||I.includes("")&&I.includes("")&&(I.includes("")||I.includes(""))||I.includes("")&&(I.includes("")||I.includes("")),sa=async I=>{if(!(Vi.current||(n==null?void 0:n.id)))return;const X=Pr(I);if(!X)return;if(qa(X)){await Ln(),Q(" ");return}if(/^(|||)\s+/.test(X)){const Be=X.replace(/^(|||)\s+/,"").trim(),Le=ri(Be);if(!Le){Q("   ");return}await Pn(Le.id),Q(`: ${Le.name}`);return}const se=X.match(/^(||)\s+(.+)\s+(||)$/);if(se){const Be=se[2].trim(),Le=ri(Be);if(!Le){Q("   ");return}Le.isPurchased||await Jr(Le.id),Q(` : ${Le.name}`);return}const ye=X.match(/^(||)\s+(.+)$/);if(ye){const Be=ye[2].trim(),Le=ri(Be);return Le?(await kn(Le.id,1),Q(`: ${Le.name}`)):Q("   ")}const Ve=X.match(/^(||)\s+(.+)$/);if(Ve){const Be=Ve[2].trim(),Le=ri(Be);return Le?(await kn(Le.id,-1),Q(`: ${Le.name}`)):Q("   ")}const Se=X.match(/^(|||)(?:\s+)?\s+(.+)$/),nt=Se?Se[2]:X,lt=VM(nt);if(lt.length!==0){for(const Be of lt)await wi(Be.name,Be.qty);if(lt.length===1){const Be=lt[0];Q(Be.qty>1?`: ${Be.name} x${Be.qty}`:`: ${Be.name}`)}else Q(` ${lt.length} `)}},Ui=()=>{const I=window.SpeechRecognition||window.webkitSpeechRecognition;return I||null},zi=()=>{const I=Ui();if(!I){alert("    .  Chrome  Edge.");return}if(!r){Q("    "),tu();return}if(me.current=[],fe.current="",we.current=!1,ce.current=!0,T(""),Ee(!0),Q("  -   "),oe.current){try{oe.current.stop()}catch{}oe.current=null}const F=new I;oe.current=F,F.lang="he-IL",F.interimResults=!0,F.maxAlternatives=1,F.continuous=!0;const X=3e3,se=9e4;let ye=!1,Ve=Date.now(),Se=null,nt=null;const lt=()=>{Se!=null&&window.clearTimeout(Se),nt!=null&&window.clearTimeout(nt),Se=null,nt=null},Be=()=>{ce.current&&ye&&(Se!=null&&window.clearTimeout(Se),Se=window.setTimeout(()=>{if(!ce.current)return;Date.now()-Ve>=X&&vn()},X+50))};nt=window.setTimeout(()=>{ce.current&&(Q("     - ..."),vn())},se),F.onstart=()=>{},F.onaudiostart=()=>{},F.onspeechstart=()=>{},F.onresult=Le=>{try{let Gt="";for(let Gn=Le.resultIndex;Gn<Le.results.length;Gn++){const rn=Le.results[Gn],jt=rn==null?void 0:rn[0],ji=Hw(String((jt==null?void 0:jt.transcript)||""));ji&&(rn.isFinal?(me.current.push(ji),fe.current=""):(Gt=ji,fe.current=ji))}const Fn=Gt||(me.current.length?me.current[me.current.length-1]:"");Fn&&T(Fn),ye=!0,Ve=Date.now(),Be()}catch{}},F.onerror=Le=>{const Gt=String((Le==null?void 0:Le.error)||"");console.warn("Speech error:",Gt,Le),Gt!=="no-speech"&&(lt(),clearVoiceTimers(),Ee(!1),ce.current=!1,Gt==="not-allowed"||Gt==="service-not-allowed"?alert("  .     ."):Q(Gt==="audio-capture"?"   (    )":` : ${Gt||"unknown"}`))},F.onend=()=>{if(!ce.current){lt();return}Be(),!we.current&&(we.current=!0,setTimeout(()=>{if(!ce.current){we.current=!1,lt();return}try{F.start()}catch{}finally{we.current=!1}},180))};try{F.start(),Be()}catch(Le){console.error(Le),lt(),clearVoiceTimers(),Ee(!1),ce.current=!1,Q("   ")}},vn=async()=>{var se,ye;if(!ce.current)return;ce.current=!1,Ee(!1);try{(ye=(se=oe.current)==null?void 0:se.stop)==null||ye.call(se)}catch{}const I=me.current.join(" ").trim(),F=(fe.current||"").trim(),X=`${I} ${F}`.replace(/\s+/g," ").trim();if(me.current=[],fe.current="",!X){Q("   -  ");return}Q("...");try{await sa(X)}catch(Ve){console.error(Ve),Q(`: ${String((Ve==null?void 0:Ve.message)||Ve||"")}`)}};return P.useEffect(()=>()=>{var I,F;try{ce.current=!1,(F=(I=oe.current)==null?void 0:I.stop)==null||F.call(I)}catch{}},[]),r?D?q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:q.jsx(Ih,{className:"animate-spin text-indigo-600"})}):xt||!(n!=null&&n.id)?q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:q.jsx(Ih,{className:"animate-spin text-indigo-600"})}):q.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[q.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-6 py-4 items-center justify-between border-b border-slate-100 relative grid grid-cols-3 items-center",children:[q.jsxs("div",{className:"flex items-center gap-2 justify-start",children:[q.jsx("button",{onClick:()=>xe(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ",children:q.jsx(oh,{className:"w-5 h-5"})}),q.jsx("button",{onClick:Wr,className:"p-2 text-slate-400 hover:text-indigo-600",title:" ",children:re?q.jsx(dR,{className:"w-5 h-5 text-emerald-500"}):q.jsx(fT,{className:"w-5 h-5"})})]}),q.jsx("h1",{className:"text-xl font-bold text-indigo-600 leading-none text-center justify-self-center whitespace-nowrap",children:(n==null?void 0:n.title)||" "}),q.jsx("button",{onClick:()=>GI(jr),className:"justify-self-end w-9 h-9 min-w-0 p-0 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:"",children:q.jsx(gR,{className:"w-4 h-4"})})]}),q.jsx("div",{className:"px-5 pt-3",children:q.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[q.jsx("div",{className:"text-[11px] font-black text-slate-400",children:de?"  -    ":" :    ,  "}),B?q.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[": ",B]}):null,q.jsx("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:': "    " | " " | " "'})]})}),q.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:p==="list"?q.jsxs(q.Fragment,{children:[q.jsxs("form",{onSubmit:na,className:"relative",children:[q.jsx("input",{ref:A,value:E,onFocus:Vn,onBlur:ln,onKeyDown:I=>{if(V){if(I.key==="Escape"){I.preventDefault(),G(!1),L(-1);return}if(I.key==="ArrowDown"){if(I.preventDefault(),zt.length===0)return;L(F=>{const X=F+1;return X>=zt.length?0:X});return}if(I.key==="ArrowUp"){if(I.preventDefault(),zt.length===0)return;L(F=>{const X=F-1;return X<0?zt.length-1:X});return}if(I.key==="Tab"){if(zt.length===0)return;I.preventDefault(),tn(zt[Math.max(0,Z>=0?Z:0)]);return}if(I.key==="Enter"&&zt.length>0){I.preventDefault();const F=Z>=0?Z:0;tn(zt[F]);return}}},onChange:I=>{w(I.target.value),Vn(),L(-1)},placeholder:"  ?",className:"w-full p-4 pr-12 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),q.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:q.jsx(Qm,{className:"w-6 h-6"})}),V&&E.trim()&&zt.length>0?q.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 z-50 bg-white border border-slate-200 rounded-2xl shadow-lg overflow-hidden",dir:"rtl",onMouseDown:I=>{I.preventDefault()},onPointerDown:I=>{I.preventDefault()},children:zt.map((I,F)=>q.jsxs("div",{className:"w-full flex items-stretch justify-between gap-2 hover:bg-slate-50 transition-colors "+(F===Z?"bg-slate-100":""),children:[q.jsxs("button",{type:"button",className:"flex-1 text-right px-4 py-3 flex items-center justify-between",onPointerDown:X=>{X.preventDefault(),tn(I)},title:"",children:[q.jsx("span",{className:"font-semibold text-slate-700",children:I.name}),I.isInList?q.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:["",typeof I.currentQty=="number"?` (${I.currentQty})`:""]}):q.jsx("span",{className:"text-xs text-slate-400",children:"Tab"})]}),I.canHide?q.jsx("button",{type:"button",className:"px-3 text-slate-400 hover:text-slate-700",onPointerDown:X=>{X.preventDefault(),X.stopPropagation(),el(I)},title:" ","aria-label":" ",children:""}):null]},I.key+"-"+F))}):null]}),o.length===0?q.jsxs("div",{className:"text-center py-20 opacity-20",children:[q.jsx(TR,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),q.jsx("p",{className:"text-lg font-bold",children:" "})]}):q.jsx("div",{className:"space-y-4",children:q.jsxs("div",{className:"space-y-3",children:[pr.map(I=>q.jsxs("div",{className:"relative overflow-hidden flex items-center justify-between p-3 bg-white rounded-2xl border border-slate-100 shadow-sm select-none",dir:"rtl",onPointerDown:In(I.id),onPointerMove:Cn(I.id),onPointerUp:Ft(I.id),onPointerCancel:Ot,onTouchStart:Ki(I.id),onTouchMove:ta(I.id),onTouchEnd:mr(I.id),style:{touchAction:"pan-y"},children:[q.jsx("div",{className:`absolute inset-0 ${Ye.id===I.id?Ye.dx>0?"bg-emerald-50":Ye.dx<0?"bg-rose-50":"bg-transparent":"bg-transparent"}`,style:{opacity:Ye.id===I.id?Math.min(1,Math.abs(Ye.dx)/Rt):0}}),q.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full",style:{transform:Ye.id===I.id?`translateX(${Ye.dx}px)`:void 0,transition:Ye.id===I.id?"none":"transform 120ms ease-out"},children:[q.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>{je.current||Jr(I.id)},children:I.name}),q.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100","data-noswipe":"true",children:[q.jsx("button",{onClick:()=>kn(I.id,-1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:q.jsx(ER,{className:"w-3 h-3"})}),q.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:I.quantity}),q.jsx("button",{onClick:()=>kn(I.id,1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:q.jsx(Qm,{className:"w-3 h-3"})})]})]}),Ye.id===I.id&&Ye.dx>12?q.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center text-emerald-600 pointer-events-none",children:q.jsx(ah,{className:"w-5 h-5 fill-emerald-600"})}):null,Ye.id===I.id&&Ye.dx<-12?q.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center text-rose-600 pointer-events-none",children:q.jsx(oh,{className:"w-5 h-5"})}):null]},I.id)),_i.length>0?q.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[q.jsxs("h3",{className:"text-lg font-bold text-slate-700 text-right mb-2",children:[" (",_i.length,")"]}),_i.map(I=>q.jsx("div",{className:"flex items-center justify-between p-3 bg-slate-100/50 rounded-2xl opacity-60 grayscale transition-all",dir:"rtl",children:q.jsxs("div",{className:"flex items-center justify-between w-full",children:[q.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-start cursor-pointer",onClick:()=>Jr(I.id),style:{direction:"rtl",unicodeBidi:"plaintext"},children:[q.jsx(pR,{className:"w-6 h-6 text-emerald-500 flex-shrink-0"}),q.jsx("span",{className:"text-base font-bold text-slate-500 line-through truncate text-left",children:q.jsxs("span",{className:"flex gap-1",children:[q.jsx("span",{children:I.name}),(I.quantity||1)>1&&q.jsxs(q.Fragment,{children:[q.jsx("span",{children:"x"}),q.jsx("span",{children:I.quantity})]})]})})]}),q.jsx("button",{onClick:()=>Pn(I.id),className:"p-2 text-slate-300",title:"",children:q.jsx(oh,{className:"w-4 h-4"})})]})},I.id))]}):null]})})]}):q.jsxs("div",{className:"space-y-6",children:[q.jsxs("div",{className:"text-right",children:[q.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),q.jsx("p",{className:"text-sm text-slate-400 font-bold",children:q.jsx("span",{className:"font-semibold",children:"  "})})]}),f.length===0?q.jsxs("div",{className:"text-center py-20 opacity-20",children:[q.jsx(ah,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),q.jsx("p",{className:"font-bold",children:"  "})]}):q.jsx("div",{className:"grid grid-cols-1 gap-3",children:f.map(I=>q.jsxs("div",{className:"relative overflow-hidden rounded-2xl select-none",dir:"ltr",onPointerDown:Ei(I.id),onPointerMove:It(I.id),onPointerUp:nn(I.id),onPointerCancel:Ti,style:{touchAction:"pan-y"},children:[q.jsx("div",{className:`absolute inset-0 ${yn.id===I.id?yn.rawDx>0?"bg-emerald-50":yn.rawDx<0?"bg-rose-50":"bg-transparent":"bg-transparent"}`,style:{opacity:yn.id===I.id?Math.min(1,Math.abs(yn.rawDx)/ii):0}}),q.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 pointer-events-none",children:[q.jsx("div",{className:"flex items-center gap-2 text-emerald-600",children:q.jsx(SM,{className:"w-6 h-6"})}),q.jsx("div",{className:"flex items-center gap-2 text-rose-600",children:q.jsx(oh,{className:"w-5 h-5"})})]}),q.jsxs("div",{className:"relative z-10 flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-100 shadow-sm",style:{transform:yn.id===I.id?`translateX(${yn.dx}px)`:void 0,transition:yn.id===I.id?"none":"transform 160ms ease-out"},children:[q.jsx("div",{className:"flex items-center gap-2"}),q.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate px-3 text-base",style:{direction:"rtl",unicodeBidi:"plaintext"},children:I.name}),q.jsx(ah,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]})]},I.id))})]})}),q.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:q.jsx("div",{className:"max-w-md mx-auto px-4 pb-3",children:q.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:q.jsxs("div",{className:"relative flex items-center justify-between px-8 pt-9 pb-3",children:[q.jsxs("button",{onClick:()=>g("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[q.jsx(ah,{className:`w-7 h-7 ${p==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),""]}),q.jsxs("button",{onClick:Ji,className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:"",children:[q.jsx(yR,{className:"w-7 h-7"}),""]}),q.jsxs("button",{onClick:()=>R(!0),className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:"",children:[q.jsx(l0,{className:"w-7 h-7"}),""]}),q.jsxs("button",{onClick:()=>g("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[q.jsx(cT,{className:"w-7 h-7"}),""]}),q.jsx("button",{onPointerDown:I=>{I.preventDefault(),zi()},onPointerUp:I=>{I.preventDefault(),vn()},onPointerCancel:I=>{I.preventDefault(),vn()},onPointerLeave:I=>{ce.current&&(I.preventDefault(),vn())},onTouchStart:I=>{I.preventDefault(),zi()},onTouchEnd:I=>{I.preventDefault(),vn()},onMouseDown:I=>{I.preventDefault(),zi()},onMouseUp:I=>{I.preventDefault(),vn()},style:{touchAction:"none"},className:`absolute left-1/2 -translate-x-1/2 -top-8 w-16 h-16 rounded-full border-4 border-white shadow-xl flex items-center justify-center ${de?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:de?"  -   ":"   ",children:de?q.jsx(vR,{className:"w-7 h-7"}):q.jsx(_R,{className:"w-7 h-7"})})]})})})}),N?q.jsx("div",{className:"fixed inset-0 z-[70] bg-black/50 flex items-center justify-center p-6",dir:"rtl",children:q.jsx("div",{className:"w-full max-w-sm rounded-3xl bg-white shadow-2xl border border-slate-100 overflow-hidden",children:q.jsxs("div",{className:"p-6 space-y-4",children:[q.jsxs("div",{className:"flex items-start justify-between gap-3",children:[q.jsxs("div",{className:"text-right",children:[q.jsx("div",{className:"text-xl font-black text-slate-800",children:" "}),q.jsx("div",{className:"text-sm font-bold text-slate-400",children:"   (  )"})]}),q.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center",children:q.jsx(l0,{className:"w-5 h-5"})})]}),q.jsxs("div",{className:"space-y-3",children:[q.jsx("label",{className:"block text-sm font-black text-slate-600",children:"  ?"}),q.jsx("input",{type:"datetime-local",value:C,onChange:I=>O(I.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 font-bold text-slate-700 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),q.jsxs("div",{className:"space-y-3",children:[q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsx("span",{className:"text-sm font-black text-slate-600",children:""}),q.jsxs("span",{className:"text-sm font-black text-slate-500",children:[k," "]})]}),q.jsx("div",{className:"grid grid-cols-4 gap-2",dir:"ltr",children:[30,45,60,90].map(I=>q.jsx("button",{onClick:()=>j(I),className:`py-2 rounded-2xl font-black text-sm ${k===I?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700"}`,children:I},I))})]}),q.jsxs("div",{className:"flex gap-3 pt-2",children:[q.jsx("button",{onClick:()=>R(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),q.jsx("button",{onClick:()=>{R(!1),Pi()},className:"flex-1 py-3 rounded-2xl font-black bg-indigo-600 text-white shadow-lg shadow-indigo-100",children:" "})]})]})})}):null,Pe?q.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:q.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[q.jsxs("div",{className:"flex items-center gap-3",children:[q.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:q.jsx(mR,{className:"w-5 h-5"})}),q.jsxs("div",{className:"text-right",children:[q.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),q.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),q.jsxs("div",{className:"flex gap-3",children:[q.jsx("button",{onClick:()=>xe(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),q.jsx("button",{onClick:Ln,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null,U?q.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50",children:U}):null]}):q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:q.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[q.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),q.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),q.jsxs("button",{onClick:async()=>{await tu()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[q.jsx(hT,{className:"w-4 h-4"}),"  "]})]})})},BM=()=>q.jsx(ZA,{children:q.jsxs(CA,{children:[q.jsx(Hm,{path:"/",element:q.jsx(jM,{})}),q.jsx(Hm,{path:"/invite",element:q.jsx(CM,{})})]})}),Qw=document.getElementById("root");if(!Qw)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",r=>{const e=(r==null?void 0:r.message)||"unknown",n=r==null?void 0:r.error;console.error("WINDOW_ERROR:",e,n),alert("WINDOW_ERROR: "+e)});window.addEventListener("unhandledrejection",r=>{const e=r==null?void 0:r.reason;console.error("UNHANDLED_REJECTION:",e);let n="";try{typeof e=="string"?n=e:e!=null&&e.message?n=e.message:n=JSON.stringify(e)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());NS.createRoot(Qw).render(q.jsx(SS.StrictMode,{children:q.jsx(BM,{})}));
