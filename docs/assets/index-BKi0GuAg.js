(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function SS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vm={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function AS(){if(W_)return $l;W_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return $l.Fragment=e,$l.jsx=n,$l.jsxs=n,$l}var Z_;function RS(){return Z_||(Z_=1,vm.exports=AS()),vm.exports}var V=RS(),_m={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function IS(){if(e0)return ze;e0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function k(T){return T===null||typeof T!="object"?null:(T=A&&T[A]||T["@@iterator"],typeof T=="function"?T:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,U={};function ue(T,B,J){this.props=T,this.context=B,this.refs=U,this.updater=J||G}ue.prototype.isReactComponent={},ue.prototype.setState=function(T,B){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,B,"setState")},ue.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function ce(){}ce.prototype=ue.prototype;function re(T,B,J){this.props=T,this.context=B,this.refs=U,this.updater=J||G}var Se=re.prototype=new ce;Se.constructor=re,Z(Se,ue.prototype),Se.isPureReactComponent=!0;var Pe=Array.isArray;function Ie(){}var D={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function C(T,B,J){var le=J.ref;return{$$typeof:r,type:T,key:B,ref:le!==void 0?le:null,props:J}}function M(T,B){return C(T.type,B,T.props)}function L(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function z(T){var B={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(J){return B[J]})}var N=/\/+/g;function St(T,B){return typeof T=="object"&&T!==null&&T.key!=null?z(""+T.key):B.toString(36)}function Mt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Ie,Ie):(T.status="pending",T.then(function(B){T.status==="pending"&&(T.status="fulfilled",T.value=B)},function(B){T.status==="pending"&&(T.status="rejected",T.reason=B)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ee(T,B,J,le,he){var ge=typeof T;(ge==="undefined"||ge==="boolean")&&(T=null);var de=!1;if(T===null)de=!0;else switch(ge){case"bigint":case"string":case"number":de=!0;break;case"object":switch(T.$$typeof){case r:case e:de=!0;break;case E:return de=T._init,ee(de(T._payload),B,J,le,he)}}if(de)return he=he(T),de=le===""?"."+St(T,0):le,Pe(he)?(J="",de!=null&&(J=de.replace(N,"$&/")+"/"),ee(he,B,J,"",function(Ge){return Ge})):he!=null&&(L(he)&&(he=M(he,J+(he.key==null||T&&T.key===he.key?"":(""+he.key).replace(N,"$&/")+"/")+de)),B.push(he)),1;de=0;var be=le===""?".":le+":";if(Pe(T))for(var Ce=0;Ce<T.length;Ce++)le=T[Ce],ge=be+St(le,Ce),de+=ee(le,B,J,ge,he);else if(Ce=k(T),typeof Ce=="function")for(T=Ce.call(T),Ce=0;!(le=T.next()).done;)le=le.value,ge=be+St(le,Ce++),de+=ee(le,B,J,ge,he);else if(ge==="object"){if(typeof T.then=="function")return ee(Mt(T),B,J,le,he);throw B=String(T),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return de}function fe(T,B,J){if(T==null)return T;var le=[],he=0;return ee(T,le,"","",function(ge){return B.call(J,ge,he++)}),le}function we(T){if(T._status===-1){var B=T._result;B=B(),B.then(function(J){(T._status===0||T._status===-1)&&(T._status=1,T._result=J)},function(J){(T._status===0||T._status===-1)&&(T._status=2,T._result=J)}),T._status===-1&&(T._status=0,T._result=B)}if(T._status===1)return T._result.default;throw T._result}var We=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},q={map:fe,forEach:function(T,B,J){fe(T,function(){B.apply(this,arguments)},J)},count:function(T){var B=0;return fe(T,function(){B++}),B},toArray:function(T){return fe(T,function(B){return B})||[]},only:function(T){if(!L(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ze.Activity=w,ze.Children=q,ze.Component=ue,ze.Fragment=n,ze.Profiler=o,ze.PureComponent=re,ze.StrictMode=s,ze.Suspense=p,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ze.__COMPILER_RUNTIME={__proto__:null,c:function(T){return D.H.useMemoCache(T)}},ze.cache=function(T){return function(){return T.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(T,B,J){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var le=Z({},T.props),he=T.key;if(B!=null)for(ge in B.key!==void 0&&(he=""+B.key),B)!I.call(B,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&B.ref===void 0||(le[ge]=B[ge]);var ge=arguments.length-2;if(ge===1)le.children=J;else if(1<ge){for(var de=Array(ge),be=0;be<ge;be++)de[be]=arguments[be+2];le.children=de}return C(T.type,he,le)},ze.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},ze.createElement=function(T,B,J){var le,he={},ge=null;if(B!=null)for(le in B.key!==void 0&&(ge=""+B.key),B)I.call(B,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(he[le]=B[le]);var de=arguments.length-2;if(de===1)he.children=J;else if(1<de){for(var be=Array(de),Ce=0;Ce<de;Ce++)be[Ce]=arguments[Ce+2];he.children=be}if(T&&T.defaultProps)for(le in de=T.defaultProps,de)he[le]===void 0&&(he[le]=de[le]);return C(T,ge,he)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(T){return{$$typeof:m,render:T}},ze.isValidElement=L,ze.lazy=function(T){return{$$typeof:E,_payload:{_status:-1,_result:T},_init:we}},ze.memo=function(T,B){return{$$typeof:g,type:T,compare:B===void 0?null:B}},ze.startTransition=function(T){var B=D.T,J={};D.T=J;try{var le=T(),he=D.S;he!==null&&he(J,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ie,We)}catch(ge){We(ge)}finally{B!==null&&J.types!==null&&(B.types=J.types),D.T=B}},ze.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ze.use=function(T){return D.H.use(T)},ze.useActionState=function(T,B,J){return D.H.useActionState(T,B,J)},ze.useCallback=function(T,B){return D.H.useCallback(T,B)},ze.useContext=function(T){return D.H.useContext(T)},ze.useDebugValue=function(){},ze.useDeferredValue=function(T,B){return D.H.useDeferredValue(T,B)},ze.useEffect=function(T,B){return D.H.useEffect(T,B)},ze.useEffectEvent=function(T){return D.H.useEffectEvent(T)},ze.useId=function(){return D.H.useId()},ze.useImperativeHandle=function(T,B,J){return D.H.useImperativeHandle(T,B,J)},ze.useInsertionEffect=function(T,B){return D.H.useInsertionEffect(T,B)},ze.useLayoutEffect=function(T,B){return D.H.useLayoutEffect(T,B)},ze.useMemo=function(T,B){return D.H.useMemo(T,B)},ze.useOptimistic=function(T,B){return D.H.useOptimistic(T,B)},ze.useReducer=function(T,B,J){return D.H.useReducer(T,B,J)},ze.useRef=function(T){return D.H.useRef(T)},ze.useState=function(T){return D.H.useState(T)},ze.useSyncExternalStore=function(T,B,J){return D.H.useSyncExternalStore(T,B,J)},ze.useTransition=function(){return D.H.useTransition()},ze.version="19.2.3",ze}var t0;function Sp(){return t0||(t0=1,_m.exports=IS()),_m.exports}var P=Sp();const CS=SS(P);var Em={exports:{}},Xl={},Tm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function xS(){return n0||(n0=1,(function(r){function e(ee,fe){var we=ee.length;ee.push(fe);e:for(;0<we;){var We=we-1>>>1,q=ee[We];if(0<o(q,fe))ee[We]=fe,ee[we]=q,we=We;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var fe=ee[0],we=ee.pop();if(we!==fe){ee[0]=we;e:for(var We=0,q=ee.length,T=q>>>1;We<T;){var B=2*(We+1)-1,J=ee[B],le=B+1,he=ee[le];if(0>o(J,we))le<q&&0>o(he,J)?(ee[We]=he,ee[le]=we,We=le):(ee[We]=J,ee[B]=we,We=B);else if(le<q&&0>o(he,we))ee[We]=he,ee[le]=we,We=le;else break e}}return fe}function o(ee,fe){var we=ee.sortIndex-fe.sortIndex;return we!==0?we:ee.id-fe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,A=3,k=!1,G=!1,Z=!1,U=!1,ue=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function Se(ee){for(var fe=n(g);fe!==null;){if(fe.callback===null)s(g);else if(fe.startTime<=ee)s(g),fe.sortIndex=fe.expirationTime,e(p,fe);else break;fe=n(g)}}function Pe(ee){if(Z=!1,Se(ee),!G)if(n(p)!==null)G=!0,Ie||(Ie=!0,z());else{var fe=n(g);fe!==null&&Mt(Pe,fe.startTime-ee)}}var Ie=!1,D=-1,I=5,C=-1;function M(){return U?!0:!(r.unstable_now()-C<I)}function L(){if(U=!1,Ie){var ee=r.unstable_now();C=ee;var fe=!0;try{e:{G=!1,Z&&(Z=!1,ce(D),D=-1),k=!0;var we=A;try{t:{for(Se(ee),w=n(p);w!==null&&!(w.expirationTime>ee&&M());){var We=w.callback;if(typeof We=="function"){w.callback=null,A=w.priorityLevel;var q=We(w.expirationTime<=ee);if(ee=r.unstable_now(),typeof q=="function"){w.callback=q,Se(ee),fe=!0;break t}w===n(p)&&s(p),Se(ee)}else s(p);w=n(p)}if(w!==null)fe=!0;else{var T=n(g);T!==null&&Mt(Pe,T.startTime-ee),fe=!1}}break e}finally{w=null,A=we,k=!1}fe=void 0}}finally{fe?z():Ie=!1}}}var z;if(typeof re=="function")z=function(){re(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,St=N.port2;N.port1.onmessage=L,z=function(){St.postMessage(null)}}else z=function(){ue(L,0)};function Mt(ee,fe){D=ue(function(){ee(r.unstable_now())},fe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(ee){switch(A){case 1:case 2:case 3:var fe=3;break;default:fe=A}var we=A;A=fe;try{return ee()}finally{A=we}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(ee,fe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var we=A;A=ee;try{return fe()}finally{A=we}},r.unstable_scheduleCallback=function(ee,fe,we){var We=r.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?We+we:We):we=We,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=we+q,ee={id:E++,callback:fe,priorityLevel:ee,startTime:we,expirationTime:q,sortIndex:-1},we>We?(ee.sortIndex=we,e(g,ee),n(p)===null&&ee===n(g)&&(Z?(ce(D),D=-1):Z=!0,Mt(Pe,we-We))):(ee.sortIndex=q,e(p,ee),G||k||(G=!0,Ie||(Ie=!0,z()))),ee},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(ee){var fe=A;return function(){var we=A;A=fe;try{return ee.apply(this,arguments)}finally{A=we}}}})(wm)),wm}var i0;function NS(){return i0||(i0=1,Tm.exports=xS()),Tm.exports}var bm={exports:{}},kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function DS(){if(r0)return kn;r0=1;var r=Sp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,kn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},kn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},kn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},kn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},kn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},kn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},kn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},kn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},kn.requestFormReset=function(p){s.d.r(p)},kn.unstable_batchedUpdates=function(p,g){return p(g)},kn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},kn.useFormStatus=function(){return f.H.useHostTransitionStatus()},kn.version="19.2.3",kn}var s0;function MS(){if(s0)return bm.exports;s0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bm.exports=DS(),bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function OS(){if(a0)return Xl;a0=1;var r=NS(),e=Sp(),n=MS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),re=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function St(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ue:return"Profiler";case U:return"StrictMode";case Pe:return"Suspense";case Ie:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case re:return t.displayName||"Context";case ce:return(t._context.displayName||"Context")+".Consumer";case Se:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:St(t.type)||"Memo";case I:i=t._payload,t=t._init;try{return St(t(i))}catch{}}return null}var Mt=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},We=[],q=-1;function T(t){return{current:t}}function B(t){0>q||(t.current=We[q],We[q]=null,q--)}function J(t,i){q++,We[q]=t.current,t.current=i}var le=T(null),he=T(null),ge=T(null),de=T(null);function be(t,i){switch(J(ge,i),J(he,t),J(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?T_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=T_(i),t=w_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(le),J(le,t)}function Ce(){B(le),B(he),B(ge)}function Ge(t){t.memoizedState!==null&&J(de,t);var i=le.current,a=w_(i,t.type);i!==a&&(J(he,t),J(le,a))}function Ee(t){he.current===t&&(B(le),B(he)),de.current===t&&(B(de),Gl._currentValue=we)}var Ke,$e;function xe(t){if(Ke===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ke=i&&i[1]||"",$e=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ke+t+$e}var yt=!1;function Ot(t,i){if(!t||yt)return"";yt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var K=X}Reflect.construct(t,[],se)}else{try{se.call()}catch(X){K=X}t.call(se.prototype)}}else{try{throw Error()}catch(X){K=X}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var x=v.split(`
`),Y=b.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===Y.length)for(l=x.length-1,h=Y.length-1;1<=l&&0<=h&&x[l]!==Y[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==Y[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==Y[h]){var te=`
`+x[l].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=l&&0<=h);break}}}finally{yt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?xe(a):""}function Rt(t,i){switch(t.tag){case 26:case 27:case 5:return xe(t.type);case 16:return xe("Lazy");case 13:return t.child!==i&&i!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return Ot(t.type,!1);case 11:return Ot(t.type.render,!1);case 1:return Ot(t.type,!0);case 31:return xe("Activity");default:return""}}function Vt(t){try{var i="",a=null;do i+=Rt(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Kt=Object.prototype.hasOwnProperty,vt=r.unstable_scheduleCallback,ft=r.unstable_cancelCallback,xn=r.unstable_shouldYield,Nn=r.unstable_requestPaint,mt=r.unstable_now,ti=r.unstable_getCurrentPriorityLevel,At=r.unstable_ImmediatePriority,qt=r.unstable_UserBlockingPriority,ni=r.unstable_NormalPriority,Sr=r.unstable_LowPriority,ir=r.unstable_IdlePriority,Ar=r.log,Bi=r.unstable_setDisableYieldValue,Ti=null,$t=null;function zn(t){if(typeof Ar=="function"&&Bi(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Ti,t)}catch{}}var Zt=Math.clz32?Math.clz32:Qa,ua=Math.log,ls=Math.LN2;function Qa(t){return t>>>=0,t===0?32:31-(ua(t)/ls|0)|0}var qi=256,ii=262144,Dn=4194304;function Ht(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Qn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Ht(l):(v&=b,v!==0?h=Ht(v):a||(a=b&~t,a!==0&&(h=Ht(a))))):(b=l&~d,b!==0?h=Ht(b):v!==0?h=Ht(v):a||(a=l&~t,a!==0&&(h=Ht(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function rr(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ca(){var t=Dn;return Dn<<=1,(Dn&62914560)===0&&(Dn=4194304),t}function Fi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function wi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kt(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,x=t.expirationTimes,Y=t.hiddenUpdates;for(a=v&~a;0<a;){var te=31-Zt(a),se=1<<te;b[te]=0,x[te]=-1;var K=Y[te];if(K!==null)for(Y[te]=null,te=0;te<K.length;te++){var X=K[te];X!==null&&(X.lane&=-536870913)}a&=~se}l!==0&&sr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function sr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Zt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Gi(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Zt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function ar(t,i){var a=i&-i;return a=(a&42)!==0?1:us(a),(a&(t.suspendedLanes|i))!==0?0:a}function us(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ha(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qi(){var t=fe.p;return t!==0?t:(t=window.event,t===void 0?32:G_(t.type))}function Ya(t,i){var a=fe.p;try{return fe.p=t,i()}finally{fe.p=a}}var bi=Math.random().toString(36).slice(2),Pt="__reactFiber$"+bi,Ut="__reactProps$"+bi,Mn="__reactContainer$"+bi,jn="__reactEvents$"+bi,at="__reactListeners$"+bi,Rr="__reactHandles$"+bi,or="__reactResources$"+bi,On="__reactMarker$"+bi;function Si(t){delete t[Pt],delete t[Ut],delete t[jn],delete t[at],delete t[Rr]}function Yi(t){var i=t[Pt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Mn]||a[Pt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=x_(t);t!==null;){if(a=t[Pt])return a;t=x_(t)}return i}t=a,a=t.parentNode}return null}function Ki(t){if(t=t[Pt]||t[Mn]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Ir(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ri(t){var i=t[or];return i||(i=t[or]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function zt(t){t[On]=!0}var $i=new Set,lr={};function _n(t,i){Ai(t,i),Ai(t+"Capture",i)}function Ai(t,i){for(lr[t]=i,t=0;t<i.length;t++)$i.add(i[t])}var rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cr={},si={};function R(t){return Kt.call(si,t)?!0:Kt.call(Cr,t)?!1:rl.test(t)?si[t]=!0:(Cr[t]=!0,!1)}function H(t,i,a){if(R(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function $(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function ae(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function pe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ve(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function De(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ot(t){if(!t._valueTracker){var i=Ve(t)?"checked":"value";t._valueTracker=De(t,i,""+t[i])}}function ct(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ve(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Qe(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ke=/[\n"\\]/g;function Ye(t){return t.replace(ke,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function En(t,i,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+pe(i)):t.value!==""+pe(i)&&(t.value=""+pe(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Ii(t,v,pe(i)):a!=null?Ii(t,v,pe(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+pe(b):t.removeAttribute("name")}function Ri(t,i,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){ot(t);return}a=a!=null?""+pe(a):"",i=i!=null?""+pe(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),ot(t)}function Ii(t,i,a){i==="number"&&Qe(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function qe(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+pe(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ai(t,i,a){if(i!=null&&(i=""+pe(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+pe(a):""}function It(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=pe(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),ot(t)}function Ci(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Tf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Tf.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Bu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&sl(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&sl(t,d,i[d])}function al(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ur(t){return bf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function dn(){}var Ka=null;function $a(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xr=null,oi=null;function qu(t){var i=Ki(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(En(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ye(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Ut]||null;if(!h)throw Error(s(90));En(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ct(l)}break e;case"textarea":ai(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&qe(t,!!a.multiple,i,!1)}}}var ol=!1;function Hu(t,i,a){if(ol)return t(i,a);ol=!0;try{var l=t(i);return l}finally{if(ol=!1,(xr!==null||oi!==null)&&(zc(),xr&&(i=xr,t=oi,oi=xr=null,qu(i),t)))for(i=0;i<t.length;i++)qu(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ll=!1;if(Xi)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){ll=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{ll=!1}var li=null,Xa=null,hr=null;function cs(){if(hr)return hr;var t,i=Xa,a=i.length,l,h="value"in li?li.value:li.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return hr=h.slice(t,1<l?1-l:void 0)}function fa(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function hs(){return!0}function Ct(){return!1}function Vn(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?hs:Ct,this.isPropagationStopped=Ct,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),i}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Vn(Nr),fs=w({},Nr,{view:0,detail:0}),Fu=Vn(fs),ds,Ja,Bn,ma=w({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bn&&(Bn&&t.type==="mousemove"?(ds=t.screenX-Bn.screenX,Ja=t.screenY-Bn.screenY):Ja=ds=0,Bn=t),ds)},movementY:function(t){return"movementY"in t?t.movementY:Ja}}),Gu=Vn(ma),pa=w({},ma,{dataTransfer:0}),Qu=Vn(pa),ul=w({},fs,{relatedTarget:0}),ms=Vn(ul),Yu=w({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wa=Vn(Yu),Sf=w({},Nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ku=Vn(Sf),ga=w({},Nr,{data:0}),cl=Vn(ga),$u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=fl[t])?!!i[t]:!1}function ps(){return Xu}var Ju=w({},fs,{key:function(t){if(t.key){var i=$u[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=fa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(t){return t.type==="keypress"?fa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wu=Vn(Ju),Dr=w({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=Vn(Dr),Zu=w({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),ec=Vn(Zu),tc=w({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Za=Vn(tc),qn=w({},ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nc=Vn(qn),ic=w({},Nr,{newState:0,oldState:0}),gs=Vn(ic),c=[9,13,27,32],y=Xi&&"CompositionEvent"in window,_=null;Xi&&"documentMode"in document&&(_=document.documentMode);var S=Xi&&"TextEvent"in window&&!_,F=Xi&&(!y||_&&8<_&&11>=_),W=" ",me=!1;function dt(t,i){switch(t){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function en(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var He=!1;function mn(t,i){switch(t){case"compositionend":return en(i);case"keypress":return i.which!==32?null:(me=!0,W);case"textInput":return t=i.data,t===W&&me?null:t;default:return null}}function pn(t,i){if(He)return t==="compositionend"||!y&&dt(t,i)?(t=cs(),hr=Xa=li=null,He=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return F&&i.locale!=="ko"?null:i.data;default:return null}}var ys={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ys[t.type]:i==="textarea"}function ya(t,i,a,l){xr?oi?oi.push(l):oi=[l]:xr=l,i=Qc(i,"onChange"),0<i.length&&(a=new da("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Mr=null,ml=null;function J1(t){p_(t,0)}function rc(t){var i=Ir(t);if(ct(i))return t}function Vg(t,i){if(t==="change")return i}var kg=!1;if(Xi){var Af;if(Xi){var Rf="oninput"in document;if(!Rf){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),Rf=typeof Pg.oninput=="function"}Af=Rf}else Af=!1;kg=Af&&(!document.documentMode||9<document.documentMode)}function Lg(){Mr&&(Mr.detachEvent("onpropertychange",Ug),ml=Mr=null)}function Ug(t){if(t.propertyName==="value"&&rc(ml)){var i=[];ya(i,ml,t,$a(t)),Hu(J1,i)}}function W1(t,i,a){t==="focusin"?(Lg(),Mr=i,ml=a,Mr.attachEvent("onpropertychange",Ug)):t==="focusout"&&Lg()}function Z1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rc(ml)}function eb(t,i){if(t==="click")return rc(i)}function tb(t,i){if(t==="input"||t==="change")return rc(i)}function nb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ui=typeof Object.is=="function"?Object.is:nb;function pl(t,i){if(ui(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Kt.call(i,h)||!ui(t[h],i[h]))return!1}return!0}function zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jg(t,i){var a=zg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zg(a)}}function Bg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Bg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Qe(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Qe(t.document)}return i}function If(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var ib=Xi&&"documentMode"in document&&11>=document.documentMode,eo=null,Cf=null,gl=null,xf=!1;function Hg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||eo==null||eo!==Qe(l)||(l=eo,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&pl(gl,l)||(gl=l,l=Qc(Cf,"onSelect"),0<l.length&&(i=new da("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=eo)))}function va(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var to={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},Nf={},Fg={};Xi&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function _a(t){if(Nf[t])return Nf[t];if(!to[t])return t;var i=to[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Fg)return Nf[t]=i[a];return t}var Gg=_a("animationend"),Qg=_a("animationiteration"),Yg=_a("animationstart"),rb=_a("transitionrun"),sb=_a("transitionstart"),ab=_a("transitioncancel"),Kg=_a("transitionend"),$g=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function Ji(t,i){$g.set(t,i),_n(i,[t])}var sc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xi=[],no=0,Mf=0;function ac(){for(var t=no,i=Mf=no=0;i<t;){var a=xi[i];xi[i++]=null;var l=xi[i];xi[i++]=null;var h=xi[i];xi[i++]=null;var d=xi[i];if(xi[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Xg(a,h,d)}}function oc(t,i,a,l){xi[no++]=t,xi[no++]=i,xi[no++]=a,xi[no++]=l,Mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Of(t,i,a,l){return oc(t,i,a,l),lc(t)}function Ea(t,i){return oc(t,null,null,i),lc(t)}function Xg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Zt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function lc(t){if(50<Ul)throw Ul=0,qd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var io={};function ob(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(t,i,a,l){return new ob(t,i,a,l)}function Vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Or(t,i){var a=t.alternate;return a===null?(a=ci(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Jg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function uc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Vf(t)&&(v=1);else if(typeof t=="string")v=fS(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=ci(31,a,i,h),t.elementType=C,t.lanes=d,t;case Z:return Ta(a.children,h,d,i);case U:v=8,h|=24;break;case ue:return t=ci(12,a,i,h|2),t.elementType=ue,t.lanes=d,t;case Pe:return t=ci(13,a,i,h),t.elementType=Pe,t.lanes=d,t;case Ie:return t=ci(19,a,i,h),t.elementType=Ie,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case ce:v=9;break e;case Se:v=11;break e;case D:v=14;break e;case I:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=ci(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ta(t,i,a,l){return t=ci(7,t,l,i),t.lanes=a,t}function kf(t,i,a){return t=ci(6,t,null,i),t.lanes=a,t}function Wg(t){var i=ci(18,null,null,0);return i.stateNode=t,i}function Pf(t,i,a){return i=ci(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Zg=new WeakMap;function Ni(t,i){if(typeof t=="object"&&t!==null){var a=Zg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Vt(i)},Zg.set(t,i),i)}return{value:t,source:i,stack:Vt(i)}}var ro=[],so=0,cc=null,yl=0,Di=[],Mi=0,vs=null,fr=1,dr="";function Vr(t,i){ro[so++]=yl,ro[so++]=cc,cc=t,yl=i}function ey(t,i,a){Di[Mi++]=fr,Di[Mi++]=dr,Di[Mi++]=vs,vs=t;var l=fr;t=dr;var h=32-Zt(l)-1;l&=~(1<<h),a+=1;var d=32-Zt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,fr=1<<32-Zt(i)+h|a<<h|l,dr=d+t}else fr=1<<d|a<<h|l,dr=t}function Lf(t){t.return!==null&&(Vr(t,1),ey(t,1,0))}function Uf(t){for(;t===cc;)cc=ro[--so],ro[so]=null,yl=ro[--so],ro[so]=null;for(;t===vs;)vs=Di[--Mi],Di[Mi]=null,dr=Di[--Mi],Di[Mi]=null,fr=Di[--Mi],Di[Mi]=null}function ty(t,i){Di[Mi++]=fr,Di[Mi++]=dr,Di[Mi++]=vs,fr=i.id,dr=i.overflow,vs=t}var Tn=null,xt=null,it=!1,_s=null,Oi=!1,zf=Error(s(519));function Es(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(Ni(i,t)),zf}function ny(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Pt]=t,i[Ut]=l,a){case"dialog":Je("cancel",i),Je("close",i);break;case"iframe":case"object":case"embed":Je("load",i);break;case"video":case"audio":for(a=0;a<jl.length;a++)Je(jl[a],i);break;case"source":Je("error",i);break;case"img":case"image":case"link":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"input":Je("invalid",i),Ri(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Je("invalid",i);break;case"textarea":Je("invalid",i),It(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||__(i.textContent,a)?(l.popover!=null&&(Je("beforetoggle",i),Je("toggle",i)),l.onScroll!=null&&Je("scroll",i),l.onScrollEnd!=null&&Je("scrollend",i),l.onClick!=null&&(i.onclick=dn),i=!0):i=!1,i||Es(t,!0)}function iy(t){for(Tn=t.return;Tn;)switch(Tn.tag){case 5:case 31:case 13:Oi=!1;return;case 27:case 3:Oi=!0;return;default:Tn=Tn.return}}function ao(t){if(t!==Tn)return!1;if(!it)return iy(t),it=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||im(t.type,t.memoizedProps)),a=!a),a&&xt&&Es(t),iy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));xt=C_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));xt=C_(t)}else i===27?(i=xt,Vs(t.type)?(t=lm,lm=null,xt=t):xt=i):xt=Tn?ki(t.stateNode.nextSibling):null;return!0}function wa(){xt=Tn=null,it=!1}function jf(){var t=_s;return t!==null&&(Wn===null?Wn=t:Wn.push.apply(Wn,t),_s=null),t}function vl(t){_s===null?_s=[t]:_s.push(t)}var Bf=T(null),ba=null,kr=null;function Ts(t,i,a){J(Bf,i._currentValue),i._currentValue=a}function Pr(t){t._currentValue=Bf.current,B(Bf)}function qf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Hf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var x=0;x<i.length;x++)if(b.context===i[x]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),qf(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),qf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function oo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;ui(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===de.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Gl):t=[Gl])}h=h.return}t!==null&&Hf(i,t,a,l),i.flags|=262144}function hc(t){for(t=t.firstContext;t!==null;){if(!ui(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Sa(t){ba=t,kr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function wn(t){return ry(ba,t)}function fc(t,i){return ba===null&&Sa(t),ry(t,i)}function ry(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},kr===null){if(t===null)throw Error(s(308));kr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else kr=kr.next=i;return a}var lb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ub=r.unstable_scheduleCallback,cb=r.unstable_NormalPriority,tn={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new lb,data:new Map,refCount:0}}function _l(t){t.refCount--,t.refCount===0&&ub(cb,function(){t.controller.abort()})}var El=null,Gf=0,lo=0,uo=null;function hb(t,i){if(El===null){var a=El=[];Gf=0,lo=Kd(),uo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,i.then(sy,sy),i}function sy(){if(--Gf===0&&El!==null){uo!==null&&(uo.status="fulfilled");var t=El;El=null,lo=0,uo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function fb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ay=ee.S;ee.S=function(t,i){Hv=mt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&hb(t,i),ay!==null&&ay(t,i)};var Aa=T(null);function Qf(){var t=Aa.current;return t!==null?t:bt.pooledCache}function dc(t,i){i===null?J(Aa,Aa.current):J(Aa,i.pool)}function oy(){var t=Qf();return t===null?null:{parent:tn._currentValue,pool:t}}var co=Error(s(460)),Yf=Error(s(474)),mc=Error(s(542)),pc={then:function(){}};function ly(t){return t=t.status,t==="fulfilled"||t==="rejected"}function uy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(dn,dn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,hy(t),t;default:if(typeof i.status=="string")i.then(dn,dn);else{if(t=bt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,hy(t),t}throw Ia=i,co}}function Ra(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ia=a,co):a}}var Ia=null;function cy(){if(Ia===null)throw Error(s(459));var t=Ia;return Ia=null,t}function hy(t){if(t===co||t===mc)throw Error(s(483))}var ho=null,Tl=0;function gc(t){var i=Tl;return Tl+=1,ho===null&&(ho=[]),uy(ho,t,i)}function wl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function yc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function fy(t){function i(j,O){if(t){var Q=j.deletions;Q===null?(j.deletions=[O],j.flags|=16):Q.push(O)}}function a(j,O){if(!t)return null;for(;O!==null;)i(j,O),O=O.sibling;return null}function l(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=Or(j,O),j.index=0,j.sibling=null,j}function d(j,O,Q){return j.index=Q,t?(Q=j.alternate,Q!==null?(Q=Q.index,Q<O?(j.flags|=67108866,O):Q):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,O,Q,ne){return O===null||O.tag!==6?(O=kf(Q,j.mode,ne),O.return=j,O):(O=h(O,Q),O.return=j,O)}function x(j,O,Q,ne){var Re=Q.type;return Re===Z?te(j,O,Q.props.children,ne,Q.key):O!==null&&(O.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===I&&Ra(Re)===O.type)?(O=h(O,Q.props),wl(O,Q),O.return=j,O):(O=uc(Q.type,Q.key,Q.props,null,j.mode,ne),wl(O,Q),O.return=j,O)}function Y(j,O,Q,ne){return O===null||O.tag!==4||O.stateNode.containerInfo!==Q.containerInfo||O.stateNode.implementation!==Q.implementation?(O=Pf(Q,j.mode,ne),O.return=j,O):(O=h(O,Q.children||[]),O.return=j,O)}function te(j,O,Q,ne,Re){return O===null||O.tag!==7?(O=Ta(Q,j.mode,ne,Re),O.return=j,O):(O=h(O,Q),O.return=j,O)}function se(j,O,Q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=kf(""+O,j.mode,Q),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return Q=uc(O.type,O.key,O.props,null,j.mode,Q),wl(Q,O),Q.return=j,Q;case G:return O=Pf(O,j.mode,Q),O.return=j,O;case I:return O=Ra(O),se(j,O,Q)}if(Mt(O)||z(O))return O=Ta(O,j.mode,Q,null),O.return=j,O;if(typeof O.then=="function")return se(j,gc(O),Q);if(O.$$typeof===re)return se(j,fc(j,O),Q);yc(j,O)}return null}function K(j,O,Q,ne){var Re=O!==null?O.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Re!==null?null:b(j,O,""+Q,ne);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:return Q.key===Re?x(j,O,Q,ne):null;case G:return Q.key===Re?Y(j,O,Q,ne):null;case I:return Q=Ra(Q),K(j,O,Q,ne)}if(Mt(Q)||z(Q))return Re!==null?null:te(j,O,Q,ne,null);if(typeof Q.then=="function")return K(j,O,gc(Q),ne);if(Q.$$typeof===re)return K(j,O,fc(j,Q),ne);yc(j,Q)}return null}function X(j,O,Q,ne,Re){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return j=j.get(Q)||null,b(O,j,""+ne,Re);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case k:return j=j.get(ne.key===null?Q:ne.key)||null,x(O,j,ne,Re);case G:return j=j.get(ne.key===null?Q:ne.key)||null,Y(O,j,ne,Re);case I:return ne=Ra(ne),X(j,O,Q,ne,Re)}if(Mt(ne)||z(ne))return j=j.get(Q)||null,te(O,j,ne,Re,null);if(typeof ne.then=="function")return X(j,O,Q,gc(ne),Re);if(ne.$$typeof===re)return X(j,O,Q,fc(O,ne),Re);yc(O,ne)}return null}function _e(j,O,Q,ne){for(var Re=null,lt=null,Te=O,Be=O=0,et=null;Te!==null&&Be<Q.length;Be++){Te.index>Be?(et=Te,Te=null):et=Te.sibling;var ut=K(j,Te,Q[Be],ne);if(ut===null){Te===null&&(Te=et);break}t&&Te&&ut.alternate===null&&i(j,Te),O=d(ut,O,Be),lt===null?Re=ut:lt.sibling=ut,lt=ut,Te=et}if(Be===Q.length)return a(j,Te),it&&Vr(j,Be),Re;if(Te===null){for(;Be<Q.length;Be++)Te=se(j,Q[Be],ne),Te!==null&&(O=d(Te,O,Be),lt===null?Re=Te:lt.sibling=Te,lt=Te);return it&&Vr(j,Be),Re}for(Te=l(Te);Be<Q.length;Be++)et=X(Te,j,Be,Q[Be],ne),et!==null&&(t&&et.alternate!==null&&Te.delete(et.key===null?Be:et.key),O=d(et,O,Be),lt===null?Re=et:lt.sibling=et,lt=et);return t&&Te.forEach(function(zs){return i(j,zs)}),it&&Vr(j,Be),Re}function Me(j,O,Q,ne){if(Q==null)throw Error(s(151));for(var Re=null,lt=null,Te=O,Be=O=0,et=null,ut=Q.next();Te!==null&&!ut.done;Be++,ut=Q.next()){Te.index>Be?(et=Te,Te=null):et=Te.sibling;var zs=K(j,Te,ut.value,ne);if(zs===null){Te===null&&(Te=et);break}t&&Te&&zs.alternate===null&&i(j,Te),O=d(zs,O,Be),lt===null?Re=zs:lt.sibling=zs,lt=zs,Te=et}if(ut.done)return a(j,Te),it&&Vr(j,Be),Re;if(Te===null){for(;!ut.done;Be++,ut=Q.next())ut=se(j,ut.value,ne),ut!==null&&(O=d(ut,O,Be),lt===null?Re=ut:lt.sibling=ut,lt=ut);return it&&Vr(j,Be),Re}for(Te=l(Te);!ut.done;Be++,ut=Q.next())ut=X(Te,j,Be,ut.value,ne),ut!==null&&(t&&ut.alternate!==null&&Te.delete(ut.key===null?Be:ut.key),O=d(ut,O,Be),lt===null?Re=ut:lt.sibling=ut,lt=ut);return t&&Te.forEach(function(bS){return i(j,bS)}),it&&Vr(j,Be),Re}function Tt(j,O,Q,ne){if(typeof Q=="object"&&Q!==null&&Q.type===Z&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:e:{for(var Re=Q.key;O!==null;){if(O.key===Re){if(Re=Q.type,Re===Z){if(O.tag===7){a(j,O.sibling),ne=h(O,Q.props.children),ne.return=j,j=ne;break e}}else if(O.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===I&&Ra(Re)===O.type){a(j,O.sibling),ne=h(O,Q.props),wl(ne,Q),ne.return=j,j=ne;break e}a(j,O);break}else i(j,O);O=O.sibling}Q.type===Z?(ne=Ta(Q.props.children,j.mode,ne,Q.key),ne.return=j,j=ne):(ne=uc(Q.type,Q.key,Q.props,null,j.mode,ne),wl(ne,Q),ne.return=j,j=ne)}return v(j);case G:e:{for(Re=Q.key;O!==null;){if(O.key===Re)if(O.tag===4&&O.stateNode.containerInfo===Q.containerInfo&&O.stateNode.implementation===Q.implementation){a(j,O.sibling),ne=h(O,Q.children||[]),ne.return=j,j=ne;break e}else{a(j,O);break}else i(j,O);O=O.sibling}ne=Pf(Q,j.mode,ne),ne.return=j,j=ne}return v(j);case I:return Q=Ra(Q),Tt(j,O,Q,ne)}if(Mt(Q))return _e(j,O,Q,ne);if(z(Q)){if(Re=z(Q),typeof Re!="function")throw Error(s(150));return Q=Re.call(Q),Me(j,O,Q,ne)}if(typeof Q.then=="function")return Tt(j,O,gc(Q),ne);if(Q.$$typeof===re)return Tt(j,O,fc(j,Q),ne);yc(j,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,O!==null&&O.tag===6?(a(j,O.sibling),ne=h(O,Q),ne.return=j,j=ne):(a(j,O),ne=kf(Q,j.mode,ne),ne.return=j,j=ne),v(j)):a(j,O)}return function(j,O,Q,ne){try{Tl=0;var Re=Tt(j,O,Q,ne);return ho=null,Re}catch(Te){if(Te===co||Te===mc)throw Te;var lt=ci(29,Te,null,j.mode);return lt.lanes=ne,lt.return=j,lt}finally{}}}var Ca=fy(!0),dy=fy(!1),ws=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ss(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ht&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=lc(t),Xg(t,null,a),i}return oc(t,l,i,a),lc(t)}function bl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Gi(t,a)}}function Xf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Jf=!1;function Sl(){if(Jf){var t=uo;if(t!==null)throw t}}function Al(t,i,a,l){Jf=!1;var h=t.updateQueue;ws=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var x=b,Y=x.next;x.next=null,v===null?d=Y:v.next=Y,v=x;var te=t.alternate;te!==null&&(te=te.updateQueue,b=te.lastBaseUpdate,b!==v&&(b===null?te.firstBaseUpdate=Y:b.next=Y,te.lastBaseUpdate=x))}if(d!==null){var se=h.baseState;v=0,te=Y=x=null,b=d;do{var K=b.lane&-536870913,X=K!==b.lane;if(X?(Ze&K)===K:(l&K)===K){K!==0&&K===lo&&(Jf=!0),te!==null&&(te=te.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var _e=t,Me=b;K=i;var Tt=a;switch(Me.tag){case 1:if(_e=Me.payload,typeof _e=="function"){se=_e.call(Tt,se,K);break e}se=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Me.payload,K=typeof _e=="function"?_e.call(Tt,se,K):_e,K==null)break e;se=w({},se,K);break e;case 2:ws=!0}}K=b.callback,K!==null&&(t.flags|=64,X&&(t.flags|=8192),X=h.callbacks,X===null?h.callbacks=[K]:X.push(K))}else X={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},te===null?(Y=te=X,x=se):te=te.next=X,v|=K;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;X=b,b=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);te===null&&(x=se),h.baseState=x,h.firstBaseUpdate=Y,h.lastBaseUpdate=te,d===null&&(h.shared.lanes=0),xs|=v,t.lanes=v,t.memoizedState=se}}function my(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function py(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)my(a[t],i)}var fo=T(null),vc=T(0);function gy(t,i){t=Gr,J(vc,t),J(fo,i),Gr=t|i.baseLanes}function Wf(){J(vc,Gr),J(fo,fo.current)}function Zf(){Gr=vc.current,B(fo),B(vc)}var hi=T(null),Vi=null;function As(t){var i=t.alternate;J(Xt,Xt.current&1),J(hi,t),Vi===null&&(i===null||fo.current!==null||i.memoizedState!==null)&&(Vi=t)}function ed(t){J(Xt,Xt.current),J(hi,t),Vi===null&&(Vi=t)}function yy(t){t.tag===22?(J(Xt,Xt.current),J(hi,t),Vi===null&&(Vi=t)):Rs()}function Rs(){J(Xt,Xt.current),J(hi,hi.current)}function fi(t){B(hi),Vi===t&&(Vi=null),B(Xt)}var Xt=T(0);function _c(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||am(a)||om(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Lr=0,je=null,_t=null,nn=null,Ec=!1,mo=!1,xa=!1,Tc=0,Rl=0,po=null,db=0;function Ft(){throw Error(s(321))}function td(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!ui(t[a],i[a]))return!1;return!0}function nd(t,i,a,l,h,d){return Lr=d,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ee.H=t===null||t.memoizedState===null?ev:yd,xa=!1,d=a(l,h),xa=!1,mo&&(d=_y(i,a,l,h)),vy(t),d}function vy(t){ee.H=xl;var i=_t!==null&&_t.next!==null;if(Lr=0,nn=_t=je=null,Ec=!1,Rl=0,po=null,i)throw Error(s(300));t===null||rn||(t=t.dependencies,t!==null&&hc(t)&&(rn=!0))}function _y(t,i,a,l){je=t;var h=0;do{if(mo&&(po=null),Rl=0,mo=!1,25<=h)throw Error(s(301));if(h+=1,nn=_t=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}ee.H=tv,d=i(a,l)}while(mo);return d}function mb(){var t=ee.H,i=t.useState()[0];return i=typeof i.then=="function"?Il(i):i,t=t.useState()[0],(_t!==null?_t.memoizedState:null)!==t&&(je.flags|=1024),i}function id(){var t=Tc!==0;return Tc=0,t}function rd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function sd(t){if(Ec){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ec=!1}Lr=0,nn=_t=je=null,mo=!1,Rl=Tc=0,po=null}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?je.memoizedState=nn=t:nn=nn.next=t,nn}function Jt(){if(_t===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var i=nn===null?je.memoizedState:nn.next;if(i!==null)nn=i,_t=t;else{if(t===null)throw je.alternate===null?Error(s(467)):Error(s(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},nn===null?je.memoizedState=nn=t:nn=nn.next=t}return nn}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var i=Rl;return Rl+=1,po===null&&(po=[]),t=uy(po,t,i),i=je,(nn===null?i.memoizedState:nn.next)===null&&(i=i.alternate,ee.H=i===null||i.memoizedState===null?ev:yd),t}function bc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===re)return wn(t)}throw Error(s(438,String(t)))}function ad(t){var i=null,a=je.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=wc(),je.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Ur(t,i){return typeof i=="function"?i(t):i}function Sc(t){var i=Jt();return od(i,_t,t)}function od(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=v=null,x=null,Y=i,te=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(Ze&se)===se:(Lr&se)===se){var K=Y.revertLane;if(K===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===lo&&(te=!0);else if((Lr&K)===K){Y=Y.next,K===lo&&(te=!0);continue}else se={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},x===null?(b=x=se,v=d):x=x.next=se,je.lanes|=K,xs|=K;se=Y.action,xa&&a(d,se),d=Y.hasEagerState?Y.eagerState:a(d,se)}else K={lane:se,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},x===null?(b=x=K,v=d):x=x.next=K,je.lanes|=se,xs|=se;Y=Y.next}while(Y!==null&&Y!==i);if(x===null?v=d:x.next=b,!ui(d,t.memoizedState)&&(rn=!0,te&&(a=uo,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ld(t){var i=Jt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);ui(d,i.memoizedState)||(rn=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ey(t,i,a){var l=je,h=Jt(),d=it;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!ui((_t||h).memoizedState,a);if(v&&(h.memoizedState=a,rn=!0),h=h.queue,hd(by.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||nn!==null&&nn.memoizedState.tag&1){if(l.flags|=2048,go(9,{destroy:void 0},wy.bind(null,l,h,a,i),null),bt===null)throw Error(s(349));d||(Lr&127)!==0||Ty(l,i,a)}return a}function Ty(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=je.updateQueue,i===null?(i=wc(),je.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function wy(t,i,a,l){i.value=a,i.getSnapshot=l,Sy(i)&&Ay(t)}function by(t,i,a){return a(function(){Sy(i)&&Ay(t)})}function Sy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!ui(t,a)}catch{return!0}}function Ay(t){var i=Ea(t,2);i!==null&&Zn(i,t,2)}function ud(t){var i=Hn();if(typeof t=="function"){var a=t;if(t=a(),xa){zn(!0);try{a()}finally{zn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:t},i}function Ry(t,i,a,l){return t.baseState=a,od(t,_t,typeof l=="function"?l:Ur)}function pb(t,i,a,l,h){if(Ic(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};ee.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Iy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Iy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=ee.T,v={};ee.T=v;try{var b=a(h,l),x=ee.S;x!==null&&x(v,b),Cy(t,i,b)}catch(Y){cd(t,i,Y)}finally{d!==null&&v.types!==null&&(d.types=v.types),ee.T=d}}else try{d=a(h,l),Cy(t,i,d)}catch(Y){cd(t,i,Y)}}function Cy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xy(t,i,l)},function(l){return cd(t,i,l)}):xy(t,i,a)}function xy(t,i,a){i.status="fulfilled",i.value=a,Ny(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Iy(t,a)))}function cd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ny(i),i=i.next;while(i!==l)}t.action=null}function Ny(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Dy(t,i){return i}function My(t,i){if(it){var a=bt.formState;if(a!==null){e:{var l=je;if(it){if(xt){t:{for(var h=xt,d=Oi;h.nodeType!==8;){if(!d){h=null;break t}if(h=ki(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){xt=ki(h.nextSibling),l=h.data==="F!";break e}}Es(l)}l=!1}l&&(i=a[0])}}return a=Hn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dy,lastRenderedState:i},a.queue=l,a=Jy.bind(null,je,l),l.dispatch=a,l=ud(!1),d=gd.bind(null,je,!1,l.queue),l=Hn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=pb.bind(null,je,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Oy(t){var i=Jt();return Vy(i,_t,t)}function Vy(t,i,a){if(i=od(t,i,Dy)[0],t=Sc(Ur)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Il(i)}catch(v){throw v===co?mc:v}else l=i;i=Jt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(je.flags|=2048,go(9,{destroy:void 0},gb.bind(null,h,a),null)),[l,d,t]}function gb(t,i){t.action=i}function ky(t){var i=Jt(),a=_t;if(a!==null)return Vy(i,a,t);Jt(),i=i.memoizedState,a=Jt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function go(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=je.updateQueue,i===null&&(i=wc(),je.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Py(){return Jt().memoizedState}function Ac(t,i,a,l){var h=Hn();je.flags|=t,h.memoizedState=go(1|i,{destroy:void 0},a,l===void 0?null:l)}function Rc(t,i,a,l){var h=Jt();l=l===void 0?null:l;var d=h.memoizedState.inst;_t!==null&&l!==null&&td(l,_t.memoizedState.deps)?h.memoizedState=go(i,d,a,l):(je.flags|=t,h.memoizedState=go(1|i,d,a,l))}function Ly(t,i){Ac(8390656,8,t,i)}function hd(t,i){Rc(2048,8,t,i)}function yb(t){je.flags|=4;var i=je.updateQueue;if(i===null)i=wc(),je.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Uy(t){var i=Jt().memoizedState;return yb({ref:i,nextImpl:t}),function(){if((ht&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function zy(t,i){return Rc(4,2,t,i)}function jy(t,i){return Rc(4,4,t,i)}function By(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function qy(t,i,a){a=a!=null?a.concat([t]):null,Rc(4,4,By.bind(null,i,t),a)}function fd(){}function Hy(t,i){var a=Jt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&td(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Fy(t,i){var a=Jt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&td(i,l[1]))return l[0];if(l=t(),xa){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[l,i],l}function dd(t,i,a){return a===void 0||(Lr&1073741824)!==0&&(Ze&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Gv(),je.lanes|=t,xs|=t,a)}function Gy(t,i,a,l){return ui(a,i)?a:fo.current!==null?(t=dd(t,a,l),ui(t,i)||(rn=!0),t):(Lr&42)===0||(Lr&1073741824)!==0&&(Ze&261930)===0?(rn=!0,t.memoizedState=a):(t=Gv(),je.lanes|=t,xs|=t,i)}function Qy(t,i,a,l,h){var d=fe.p;fe.p=d!==0&&8>d?d:8;var v=ee.T,b={};ee.T=b,gd(t,!1,i,a);try{var x=h(),Y=ee.S;if(Y!==null&&Y(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var te=fb(x,l);Cl(t,i,te,pi(t))}else Cl(t,i,l,pi(t))}catch(se){Cl(t,i,{then:function(){},status:"rejected",reason:se},pi())}finally{fe.p=d,v!==null&&b.types!==null&&(v.types=b.types),ee.T=v}}function vb(){}function md(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Yy(t).queue;Qy(t,h,i,we,a===null?vb:function(){return Ky(t),a(l)})}function Yy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:we},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ky(t){var i=Yy(t);i.next===null&&(i=t.alternate.memoizedState),Cl(t,i.next.queue,{},pi())}function pd(){return wn(Gl)}function $y(){return Jt().memoizedState}function Xy(){return Jt().memoizedState}function _b(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=pi();t=bs(a);var l=Ss(i,t,a);l!==null&&(Zn(l,i,a),bl(l,i,a)),i={cache:Ff()},t.payload=i;return}i=i.return}}function Eb(t,i,a){var l=pi();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ic(t)?Wy(i,a):(a=Of(t,i,a,l),a!==null&&(Zn(a,t,l),Zy(a,i,l)))}function Jy(t,i,a){var l=pi();Cl(t,i,a,l)}function Cl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ic(t))Wy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,ui(b,v))return oc(t,i,h,0),bt===null&&ac(),!1}catch{}finally{}if(a=Of(t,i,h,l),a!==null)return Zn(a,t,l),Zy(a,i,l),!0}return!1}function gd(t,i,a,l){if(l={lane:2,revertLane:Kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ic(t)){if(i)throw Error(s(479))}else i=Of(t,a,l,2),i!==null&&Zn(i,t,2)}function Ic(t){var i=t.alternate;return t===je||i!==null&&i===je}function Wy(t,i){mo=Ec=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Zy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Gi(t,a)}}var xl={readContext:wn,use:bc,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};xl.useEffectEvent=Ft;var ev={readContext:wn,use:bc,useCallback:function(t,i){return Hn().memoizedState=[t,i===void 0?null:i],t},useContext:wn,useEffect:Ly,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ac(4194308,4,By.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ac(4194308,4,t,i)},useInsertionEffect:function(t,i){Ac(4,2,t,i)},useMemo:function(t,i){var a=Hn();i=i===void 0?null:i;var l=t();if(xa){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Hn();if(a!==void 0){var h=a(i);if(xa){zn(!0);try{a(i)}finally{zn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Eb.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var i=Hn();return t={current:t},i.memoizedState=t},useState:function(t){t=ud(t);var i=t.queue,a=Jy.bind(null,je,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:fd,useDeferredValue:function(t,i){var a=Hn();return dd(a,t,i)},useTransition:function(){var t=ud(!1);return t=Qy.bind(null,je,t.queue,!0,!1),Hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=je,h=Hn();if(it){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),bt===null)throw Error(s(349));(Ze&127)!==0||Ty(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ly(by.bind(null,l,d,t),[t]),l.flags|=2048,go(9,{destroy:void 0},wy.bind(null,l,d,a,i),null),a},useId:function(){var t=Hn(),i=bt.identifierPrefix;if(it){var a=dr,l=fr;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Tc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=db++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:pd,useFormState:My,useActionState:My,useOptimistic:function(t){var i=Hn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gd.bind(null,je,!0,a),a.dispatch=i,[t,i]},useMemoCache:ad,useCacheRefresh:function(){return Hn().memoizedState=_b.bind(null,je)},useEffectEvent:function(t){var i=Hn(),a={impl:t};return i.memoizedState=a,function(){if((ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},yd={readContext:wn,use:bc,useCallback:Hy,useContext:wn,useEffect:hd,useImperativeHandle:qy,useInsertionEffect:zy,useLayoutEffect:jy,useMemo:Fy,useReducer:Sc,useRef:Py,useState:function(){return Sc(Ur)},useDebugValue:fd,useDeferredValue:function(t,i){var a=Jt();return Gy(a,_t.memoizedState,t,i)},useTransition:function(){var t=Sc(Ur)[0],i=Jt().memoizedState;return[typeof t=="boolean"?t:Il(t),i]},useSyncExternalStore:Ey,useId:$y,useHostTransitionStatus:pd,useFormState:Oy,useActionState:Oy,useOptimistic:function(t,i){var a=Jt();return Ry(a,_t,t,i)},useMemoCache:ad,useCacheRefresh:Xy};yd.useEffectEvent=Uy;var tv={readContext:wn,use:bc,useCallback:Hy,useContext:wn,useEffect:hd,useImperativeHandle:qy,useInsertionEffect:zy,useLayoutEffect:jy,useMemo:Fy,useReducer:ld,useRef:Py,useState:function(){return ld(Ur)},useDebugValue:fd,useDeferredValue:function(t,i){var a=Jt();return _t===null?dd(a,t,i):Gy(a,_t.memoizedState,t,i)},useTransition:function(){var t=ld(Ur)[0],i=Jt().memoizedState;return[typeof t=="boolean"?t:Il(t),i]},useSyncExternalStore:Ey,useId:$y,useHostTransitionStatus:pd,useFormState:ky,useActionState:ky,useOptimistic:function(t,i){var a=Jt();return _t!==null?Ry(a,_t,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:Xy};tv.useEffectEvent=Uy;function vd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _d={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=pi(),h=bs(l);h.payload=i,a!=null&&(h.callback=a),i=Ss(t,h,l),i!==null&&(Zn(i,t,l),bl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=pi(),h=bs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ss(t,h,l),i!==null&&(Zn(i,t,l),bl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=pi(),l=bs(a);l.tag=2,i!=null&&(l.callback=i),i=Ss(t,l,a),i!==null&&(Zn(i,t,a),bl(i,t,a))}};function nv(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!pl(a,l)||!pl(h,d):!0}function iv(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&_d.enqueueReplaceState(i,i.state,null)}function Na(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function rv(t){sc(t)}function sv(t){console.error(t)}function av(t){sc(t)}function Cc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ov(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ed(t,i,a){return a=bs(a),a.tag=3,a.payload={element:null},a.callback=function(){Cc(t,i)},a}function lv(t){return t=bs(t),t.tag=3,t}function uv(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ov(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ov(i,a,l),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Tb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&oo(i,a,h,!0),a=hi.current,a!==null){switch(a.tag){case 31:case 13:return Vi===null?jc():a.alternate===null&&Gt===0&&(Gt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===pc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Gd(t,l,h)),!1;case 22:return a.flags|=65536,l===pc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Gd(t,l,h)),!1}throw Error(s(435,a.tag))}return Gd(t,l,h),jc(),!1}if(it)return i=hi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==zf&&(t=Error(s(422),{cause:l}),vl(Ni(t,a)))):(l!==zf&&(i=Error(s(423),{cause:l}),vl(Ni(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ni(l,a),h=Ed(t.stateNode,l,h),Xf(t,h),Gt!==4&&(Gt=2)),!1;var d=Error(s(520),{cause:l});if(d=Ni(d,a),Ll===null?Ll=[d]:Ll.push(d),Gt!==4&&(Gt=2),i===null)return!0;l=Ni(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ed(a.stateNode,l,t),Xf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ns===null||!Ns.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=lv(h),uv(h,t,a,l),Xf(a,h),!1}a=a.return}while(a!==null);return!1}var Td=Error(s(461)),rn=!1;function bn(t,i,a,l){i.child=t===null?dy(i,null,a,l):Ca(i,t.child,a,l)}function cv(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Sa(i),l=nd(t,i,a,v,d,h),b=id(),t!==null&&!rn?(rd(t,i,h),zr(t,i,h)):(it&&b&&Lf(i),i.flags|=1,bn(t,i,l,h),i.child)}function hv(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,fv(t,i,d,l,h)):(t=uc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!xd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(v,l)&&t.ref===i.ref)return zr(t,i,h)}return i.flags|=1,t=Or(d,l),t.ref=i.ref,t.return=i,i.child=t}function fv(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(pl(d,l)&&t.ref===i.ref)if(rn=!1,i.pendingProps=l=d,xd(t,h))(t.flags&131072)!==0&&(rn=!0);else return i.lanes=t.lanes,zr(t,i,h)}return wd(t,i,a,l,h)}function dv(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return mv(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&dc(i,d!==null?d.cachePool:null),d!==null?gy(i,d):Wf(),yy(i);else return l=i.lanes=536870912,mv(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(dc(i,d.cachePool),gy(i,d),Rs(),i.memoizedState=null):(t!==null&&dc(i,null),Wf(),Rs());return bn(t,i,h,a),i.child}function Nl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function mv(t,i,a,l,h){var d=Qf();return d=d===null?null:{parent:tn._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&dc(i,null),Wf(),yy(i),t!==null&&oo(t,i,l,!0),i.childLanes=h,null}function xc(t,i){return i=Dc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function pv(t,i,a){return Ca(i,t.child,null,a),t=xc(i,i.pendingProps),t.flags|=2,fi(i),i.memoizedState=null,t}function wb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(it){if(l.mode==="hidden")return t=xc(i,l),i.lanes=536870912,Nl(null,t);if(ed(i),(t=xt)?(t=I_(t,Oi),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:vs!==null?{id:fr,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=i,i.child=a,Tn=i,xt=null)):t=null,t===null)throw Es(i);return i.lanes=536870912,null}return xc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(ed(i),h)if(i.flags&256)i.flags&=-257,i=pv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(rn||oo(t,i,a,!1),h=(a&t.childLanes)!==0,rn||h){if(l=bt,l!==null&&(v=ar(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ea(t,v),Zn(l,t,v),Td;jc(),i=pv(t,i,a)}else t=d.treeContext,xt=ki(v.nextSibling),Tn=i,it=!0,_s=null,Oi=!1,t!==null&&ty(i,t),i=xc(i,l),i.flags|=4096;return i}return t=Or(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Nc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function wd(t,i,a,l,h){return Sa(i),a=nd(t,i,a,l,void 0,h),l=id(),t!==null&&!rn?(rd(t,i,h),zr(t,i,h)):(it&&l&&Lf(i),i.flags|=1,bn(t,i,a,h),i.child)}function gv(t,i,a,l,h,d){return Sa(i),i.updateQueue=null,a=_y(i,l,a,h),vy(t),l=id(),t!==null&&!rn?(rd(t,i,d),zr(t,i,d)):(it&&l&&Lf(i),i.flags|=1,bn(t,i,a,d),i.child)}function yv(t,i,a,l,h){if(Sa(i),i.stateNode===null){var d=io,v=a.contextType;typeof v=="object"&&v!==null&&(d=wn(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Kf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?wn(v):io,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(vd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&_d.enqueueReplaceState(d,d.state,null),Al(i,l,d,h),Sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,x=Na(a,b);d.props=x;var Y=d.context,te=a.contextType;v=io,typeof te=="object"&&te!==null&&(v=wn(te));var se=a.getDerivedStateFromProps;te=typeof se=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,te||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||Y!==v)&&iv(i,d,l,v),ws=!1;var K=i.memoizedState;d.state=K,Al(i,l,d,h),Sl(),Y=i.memoizedState,b||K!==Y||ws?(typeof se=="function"&&(vd(i,a,se,l),Y=i.memoizedState),(x=ws||nv(i,a,x,l,K,Y,v))?(te||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=v,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,$f(t,i),v=i.memoizedProps,te=Na(a,v),d.props=te,se=i.pendingProps,K=d.context,Y=a.contextType,x=io,typeof Y=="object"&&Y!==null&&(x=wn(Y)),b=a.getDerivedStateFromProps,(Y=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==se||K!==x)&&iv(i,d,l,x),ws=!1,K=i.memoizedState,d.state=K,Al(i,l,d,h),Sl();var X=i.memoizedState;v!==se||K!==X||ws||t!==null&&t.dependencies!==null&&hc(t.dependencies)?(typeof b=="function"&&(vd(i,a,b,l),X=i.memoizedState),(te=ws||nv(i,a,te,l,K,X,x)||t!==null&&t.dependencies!==null&&hc(t.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=x,l=te):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Nc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ca(i,t.child,null,h),i.child=Ca(i,null,a,h)):bn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=zr(t,i,h),t}function vv(t,i,a,l){return wa(),i.flags|=256,bn(t,i,a,l),i.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(t){return{baseLanes:t,cachePool:oy()}}function Ad(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=mi),t}function _v(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Xt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(it){if(h?As(i):Rs(),(t=xt)?(t=I_(t,Oi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:vs!==null?{id:fr,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=i,i.child=a,Tn=i,xt=null)):t=null,t===null)throw Es(i);return om(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Rs(),h=i.mode,b=Dc({mode:"hidden",children:b},h),l=Ta(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,v,a),i.memoizedState=bd,Nl(null,l)):(As(i),Rd(i,b))}var x=t.memoizedState;if(x!==null&&(b=x.dehydrated,b!==null)){if(d)i.flags&256?(As(i),i.flags&=-257,i=Id(t,i,a)):i.memoizedState!==null?(Rs(),i.child=t.child,i.flags|=128,i=null):(Rs(),b=l.fallback,h=i.mode,l=Dc({mode:"visible",children:l.children},h),b=Ta(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Ca(i,t.child,null,a),l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,v,a),i.memoizedState=bd,i=Nl(null,l));else if(As(i),om(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var Y=v.dgst;v=Y,l=Error(s(419)),l.stack="",l.digest=v,vl({value:l,source:null,stack:null}),i=Id(t,i,a)}else if(rn||oo(t,i,a,!1),v=(a&t.childLanes)!==0,rn||v){if(v=bt,v!==null&&(l=ar(v,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,Ea(t,l),Zn(v,t,l),Td;am(b)||jc(),i=Id(t,i,a)}else am(b)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,xt=ki(b.nextSibling),Tn=i,it=!0,_s=null,Oi=!1,t!==null&&ty(i,t),i=Rd(i,l.children),i.flags|=4096);return i}return h?(Rs(),b=l.fallback,h=i.mode,x=t.child,Y=x.sibling,l=Or(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,Y!==null?b=Or(Y,b):(b=Ta(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Nl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Sd(a):(h=b.cachePool,h!==null?(x=tn._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=oy(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=Ad(t,v,a),i.memoizedState=bd,Nl(t.child,l)):(As(i),a=t.child,t=a.sibling,a=Or(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Rd(t,i){return i=Dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Dc(t,i){return t=ci(22,t,null,i),t.lanes=0,t}function Id(t,i,a){return Ca(i,t.child,null,a),t=Rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ev(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),qf(t.return,i,a)}function Cd(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function Tv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=Xt.current,b=(v&2)!==0;if(b?(v=v&1|2,i.flags|=128):v&=1,J(Xt,v),bn(t,i,l,a),l=it?yl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ev(t,a,i);else if(t.tag===19)Ev(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&_c(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Cd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&_c(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Cd(i,!0,a,null,d,l);break;case"together":Cd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function zr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),xs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(oo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Or(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Or(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function xd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&hc(t)))}function bb(t,i,a){switch(i.tag){case 3:be(i,i.stateNode.containerInfo),Ts(i,tn,t.memoizedState.cache),wa();break;case 27:case 5:Ge(i);break;case 4:be(i,i.stateNode.containerInfo);break;case 10:Ts(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ed(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(As(i),i.flags|=128,null):(a&i.child.childLanes)!==0?_v(t,i,a):(As(i),t=zr(t,i,a),t!==null?t.sibling:null);As(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(oo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Tv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Xt,Xt.current),l)break;return null;case 22:return i.lanes=0,dv(t,i,a,i.pendingProps);case 24:Ts(i,tn,t.memoizedState.cache)}return zr(t,i,a)}function wv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)rn=!0;else{if(!xd(t,a)&&(i.flags&128)===0)return rn=!1,bb(t,i,a);rn=(t.flags&131072)!==0}else rn=!1,it&&(i.flags&1048576)!==0&&ey(i,yl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ra(i.elementType),i.type=t,typeof t=="function")Vf(t)?(l=Na(t,l),i.tag=1,i=yv(null,i,t,l,a)):(i.tag=0,i=wd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Se){i.tag=11,i=cv(null,i,t,l,a);break e}else if(h===D){i.tag=14,i=hv(null,i,t,l,a);break e}}throw i=St(t)||t,Error(s(306,i,""))}}return i;case 0:return wd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Na(l,i.pendingProps),yv(t,i,l,h,a);case 3:e:{if(be(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,$f(t,i),Al(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Ts(i,tn,l),l!==d.cache&&Hf(i,[tn],a,!0),Sl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=vv(t,i,l,a);break e}else if(l!==h){h=Ni(Error(s(424)),i),vl(h),i=vv(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(xt=ki(t.firstChild),Tn=i,it=!0,_s=null,Oi=!0,a=dy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wa(),l===h){i=zr(t,i,a);break e}bn(t,i,l,a)}i=i.child}return i;case 26:return Nc(t,i),t===null?(a=O_(i.type,null,i.pendingProps,null))?i.memoizedState=a:it||(a=i.type,t=i.pendingProps,l=Yc(ge.current).createElement(a),l[Pt]=i,l[Ut]=t,Sn(l,a,t),zt(l),i.stateNode=l):i.memoizedState=O_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ge(i),t===null&&it&&(l=i.stateNode=N_(i.type,i.pendingProps,ge.current),Tn=i,Oi=!0,h=xt,Vs(i.type)?(lm=h,xt=ki(l.firstChild)):xt=h),bn(t,i,i.pendingProps.children,a),Nc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&it&&((h=l=xt)&&(l=Zb(l,i.type,i.pendingProps,Oi),l!==null?(i.stateNode=l,Tn=i,xt=ki(l.firstChild),Oi=!1,h=!0):h=!1),h||Es(i)),Ge(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,im(h,d)?l=null:v!==null&&im(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=nd(t,i,mb,null,null,a),Gl._currentValue=h),Nc(t,i),bn(t,i,l,a),i.child;case 6:return t===null&&it&&((t=a=xt)&&(a=eS(a,i.pendingProps,Oi),a!==null?(i.stateNode=a,Tn=i,xt=null,t=!0):t=!1),t||Es(i)),null;case 13:return _v(t,i,a);case 4:return be(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ca(i,null,l,a):bn(t,i,l,a),i.child;case 11:return cv(t,i,i.type,i.pendingProps,a);case 7:return bn(t,i,i.pendingProps,a),i.child;case 8:return bn(t,i,i.pendingProps.children,a),i.child;case 12:return bn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ts(i,i.type,l.value),bn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Sa(i),h=wn(h),l=l(h),i.flags|=1,bn(t,i,l,a),i.child;case 14:return hv(t,i,i.type,i.pendingProps,a);case 15:return fv(t,i,i.type,i.pendingProps,a);case 19:return Tv(t,i,a);case 31:return wb(t,i,a);case 22:return dv(t,i,a,i.pendingProps);case 24:return Sa(i),l=wn(tn),t===null?(h=Qf(),h===null&&(h=bt,d=Ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Kf(i),Ts(i,tn,h)):((t.lanes&a)!==0&&($f(t,i),Al(i,null,null,a),Sl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ts(i,tn,l)):(l=d.cache,Ts(i,tn,l),l!==h.cache&&Hf(i,[tn],a,!0))),bn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function jr(t){t.flags|=4}function Nd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if($v())t.flags|=8192;else throw Ia=pc,Yf}else t.flags&=-16777217}function bv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!U_(i))if($v())t.flags|=8192;else throw Ia=pc,Yf}function Mc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ca():536870912,t.lanes|=i,Eo|=i)}function Dl(t,i){if(!it)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Sb(t,i,a){var l=i.pendingProps;switch(Uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(i),null;case 1:return Nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Pr(tn),Ce(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ao(i)?jr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jf())),Nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(jr(i),d!==null?(Nt(i),bv(i,d)):(Nt(i),Nd(i,h,null,l,a))):d?d!==t.memoizedState?(jr(i),Nt(i),bv(i,d)):(Nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&jr(i),Nt(i),Nd(i,h,t,l,a)),null;case 27:if(Ee(i),a=ge.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&jr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Nt(i),null}t=le.current,ao(i)?ny(i):(t=N_(h,l,a),i.stateNode=t,jr(i))}return Nt(i),null;case 5:if(Ee(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&jr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Nt(i),null}if(d=le.current,ao(i))ny(i);else{var v=Yc(ge.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Pt]=i,d[Ut]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Sn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&jr(i)}}return Nt(i),Nd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&jr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ge.current,ao(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Pt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||__(t.nodeValue,a)),t||Es(i,!0)}else t=Yc(t).createTextNode(l),t[Pt]=i,i.stateNode=t}return Nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ao(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Pt]=i}else wa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Nt(i),t=!1}else a=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(fi(i),i):(fi(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ao(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Pt]=i}else wa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Nt(i),h=!1}else h=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(fi(i),i):(fi(i),null)}return fi(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Mc(i,i.updateQueue),Nt(i),null);case 4:return Ce(),t===null&&Wd(i.stateNode.containerInfo),Nt(i),null;case 10:return Pr(i.type),Nt(i),null;case 19:if(B(Xt),l=i.memoizedState,l===null)return Nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Dl(l,!1);else{if(Gt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=_c(t),d!==null){for(i.flags|=128,Dl(l,!1),t=d.updateQueue,i.updateQueue=t,Mc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Jg(a,t),a=a.sibling;return J(Xt,Xt.current&1|2),it&&Vr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&mt()>Lc&&(i.flags|=128,h=!0,Dl(l,!1),i.lanes=4194304)}else{if(!h)if(t=_c(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Mc(i,t),Dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!it)return Nt(i),null}else 2*mt()-l.renderingStartTime>Lc&&a!==536870912&&(i.flags|=128,h=!0,Dl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=mt(),t.sibling=null,a=Xt.current,J(Xt,h?a&1|2:a&1),it&&Vr(i,l.treeForkCount),t):(Nt(i),null);case 22:case 23:return fi(i),Zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Nt(i),i.subtreeFlags&6&&(i.flags|=8192)):Nt(i),a=i.updateQueue,a!==null&&Mc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&B(Aa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Pr(tn),Nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Ab(t,i){switch(Uf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Pr(tn),Ce(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ee(i),null;case 31:if(i.memoizedState!==null){if(fi(i),i.alternate===null)throw Error(s(340));wa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(fi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));wa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return B(Xt),null;case 4:return Ce(),null;case 10:return Pr(i.type),null;case 22:case 23:return fi(i),Zf(),t!==null&&B(Aa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Pr(tn),null;case 25:return null;default:return null}}function Sv(t,i){switch(Uf(i),i.tag){case 3:Pr(tn),Ce();break;case 26:case 27:case 5:Ee(i);break;case 4:Ce();break;case 31:i.memoizedState!==null&&fi(i);break;case 13:fi(i);break;case 19:B(Xt);break;case 10:Pr(i.type);break;case 22:case 23:fi(i),Zf(),t!==null&&B(Aa);break;case 24:Pr(tn)}}function Ml(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){gt(i,i.return,b)}}function Is(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var x=a,Y=b;try{Y()}catch(te){gt(h,x,te)}}}l=l.next}while(l!==d)}}catch(te){gt(i,i.return,te)}}function Av(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{py(i,a)}catch(l){gt(t,t.return,l)}}}function Rv(t,i,a){a.props=Na(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){gt(t,i,l)}}function Ol(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){gt(t,i,h)}}function mr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){gt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){gt(t,i,h)}else a.current=null}function Iv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){gt(t,t.return,h)}}function Dd(t,i,a){try{var l=t.stateNode;Yb(l,t.type,a,i),l[Ut]=i}catch(h){gt(t,t.return,h)}}function Cv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vs(t.type)||t.tag===4}function Md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Od(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=dn));else if(l!==4&&(l===27&&Vs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Od(t,i,a),t=t.sibling;t!==null;)Od(t,i,a),t=t.sibling}function Oc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Vs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Oc(t,i,a),t=t.sibling;t!==null;)Oc(t,i,a),t=t.sibling}function xv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Sn(i,l,a),i[Pt]=t,i[Ut]=a}catch(d){gt(t,t.return,d)}}var Br=!1,sn=!1,Vd=!1,Nv=typeof WeakSet=="function"?WeakSet:Set,gn=null;function Rb(t,i){if(t=t.containerInfo,tm=eh,t=qg(t),If(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,x=-1,Y=0,te=0,se=t,K=null;t:for(;;){for(var X;se!==a||h!==0&&se.nodeType!==3||(b=v+h),se!==d||l!==0&&se.nodeType!==3||(x=v+l),se.nodeType===3&&(v+=se.nodeValue.length),(X=se.firstChild)!==null;)K=se,se=X;for(;;){if(se===t)break t;if(K===a&&++Y===h&&(b=v),K===d&&++te===l&&(x=v),(X=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=X}a=b===-1||x===-1?null:{start:b,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:t,selectionRange:a},eh=!1,gn=i;gn!==null;)if(i=gn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,gn=t;else for(;gn!==null;){switch(i=gn,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var _e=Na(a.type,h);t=l.getSnapshotBeforeUpdate(_e,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Me){gt(a,a.return,Me)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,gn=t;break}gn=i.return}}function Dv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Hr(t,a),l&4&&Ml(5,a);break;case 1:if(Hr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){gt(a,a.return,v)}else{var h=Na(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){gt(a,a.return,v)}}l&64&&Av(a),l&512&&Ol(a,a.return);break;case 3:if(Hr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{py(t,i)}catch(v){gt(a,a.return,v)}}break;case 27:i===null&&l&4&&xv(a);case 26:case 5:Hr(t,a),i===null&&l&4&&Iv(a),l&512&&Ol(a,a.return);break;case 12:Hr(t,a);break;case 31:Hr(t,a),l&4&&Vv(t,a);break;case 13:Hr(t,a),l&4&&kv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=kb.bind(null,a),tS(t,a))));break;case 22:if(l=a.memoizedState!==null||Br,!l){i=i!==null&&i.memoizedState!==null||sn,h=Br;var d=sn;Br=l,(sn=i)&&!d?Fr(t,a,(a.subtreeFlags&8772)!==0):Hr(t,a),Br=h,sn=d}break;case 30:break;default:Hr(t,a)}}function Mv(t){var i=t.alternate;i!==null&&(t.alternate=null,Mv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Si(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Lt=null,$n=!1;function qr(t,i,a){for(a=a.child;a!==null;)Ov(t,i,a),a=a.sibling}function Ov(t,i,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Ti,a)}catch{}switch(a.tag){case 26:sn||mr(a,i),qr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:sn||mr(a,i);var l=Lt,h=$n;Vs(a.type)&&(Lt=a.stateNode,$n=!1),qr(t,i,a),ql(a.stateNode),Lt=l,$n=h;break;case 5:sn||mr(a,i);case 6:if(l=Lt,h=$n,Lt=null,qr(t,i,a),Lt=l,$n=h,Lt!==null)if($n)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(a.stateNode)}catch(d){gt(a,i,d)}else try{Lt.removeChild(a.stateNode)}catch(d){gt(a,i,d)}break;case 18:Lt!==null&&($n?(t=Lt,A_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Co(t)):A_(Lt,a.stateNode));break;case 4:l=Lt,h=$n,Lt=a.stateNode.containerInfo,$n=!0,qr(t,i,a),Lt=l,$n=h;break;case 0:case 11:case 14:case 15:Is(2,a,i),sn||Is(4,a,i),qr(t,i,a);break;case 1:sn||(mr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Rv(a,i,l)),qr(t,i,a);break;case 21:qr(t,i,a);break;case 22:sn=(l=sn)||a.memoizedState!==null,qr(t,i,a),sn=l;break;default:qr(t,i,a)}}function Vv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Co(t)}catch(a){gt(i,i.return,a)}}}function kv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Co(t)}catch(a){gt(i,i.return,a)}}function Ib(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Nv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Nv),i;default:throw Error(s(435,t.tag))}}function Vc(t,i){var a=Ib(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Pb.bind(null,t,l);l.then(h,h)}})}function Xn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Vs(b.type)){Lt=b.stateNode,$n=!1;break e}break;case 5:Lt=b.stateNode,$n=!1;break e;case 3:case 4:Lt=b.stateNode.containerInfo,$n=!0;break e}b=b.return}if(Lt===null)throw Error(s(160));Ov(d,v,h),Lt=null,$n=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Pv(i,t),i=i.sibling}var Wi=null;function Pv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xn(i,t),Jn(t),l&4&&(Is(3,t,t.return),Ml(3,t),Is(5,t,t.return));break;case 1:Xn(i,t),Jn(t),l&512&&(sn||a===null||mr(a,a.return)),l&64&&Br&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wi;if(Xn(i,t),Jn(t),l&512&&(sn||a===null||mr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[On]||d[Pt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Sn(d,l,a),d[Pt]=t,zt(d),l=d;break e;case"link":var v=P_("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),Sn(d,l,a),h.head.appendChild(d);break;case"meta":if(v=P_("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),Sn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Pt]=t,zt(d),l=d}t.stateNode=l}else L_(h,t.type,t.stateNode);else t.stateNode=k_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?L_(h,t.type,t.stateNode):k_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Xn(i,t),Jn(t),l&512&&(sn||a===null||mr(a,a.return)),a!==null&&l&4&&Dd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Xn(i,t),Jn(t),l&512&&(sn||a===null||mr(a,a.return)),t.flags&32){h=t.stateNode;try{Ci(h,"")}catch(_e){gt(t,t.return,_e)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Dd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Vd=!0);break;case 6:if(Xn(i,t),Jn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(_e){gt(t,t.return,_e)}}break;case 3:if(Xc=null,h=Wi,Wi=Kc(i.containerInfo),Xn(i,t),Wi=h,Jn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Co(i.containerInfo)}catch(_e){gt(t,t.return,_e)}Vd&&(Vd=!1,Lv(t));break;case 4:l=Wi,Wi=Kc(t.stateNode.containerInfo),Xn(i,t),Jn(t),Wi=l;break;case 12:Xn(i,t),Jn(t);break;case 31:Xn(i,t),Jn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 13:Xn(i,t),Jn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pc=mt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,Y=Br,te=sn;if(Br=Y||h,sn=te||x,Xn(i,t),sn=te,Br=Y,Jn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||Br||sn||Da(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=x.stateNode;var se=x.memoizedProps.style,K=se!=null&&se.hasOwnProperty("display")?se.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(_e){gt(x,x.return,_e)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(_e){gt(x,x.return,_e)}}}else if(i.tag===18){if(a===null){x=i;try{var X=x.stateNode;h?R_(X,!0):R_(x.stateNode,!1)}catch(_e){gt(x,x.return,_e)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vc(t,a))));break;case 19:Xn(i,t),Jn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 30:break;case 21:break;default:Xn(i,t),Jn(t)}}function Jn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Cv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Md(t);Oc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Ci(v,""),a.flags&=-33);var b=Md(t);Oc(t,b,v);break;case 3:case 4:var x=a.stateNode.containerInfo,Y=Md(t);Od(t,Y,x);break;default:throw Error(s(161))}}catch(te){gt(t,t.return,te)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Lv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Lv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Hr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Dv(t,i.alternate,i),i=i.sibling}function Da(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Is(4,i,i.return),Da(i);break;case 1:mr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Rv(i,i.return,a),Da(i);break;case 27:ql(i.stateNode);case 26:case 5:mr(i,i.return),Da(i);break;case 22:i.memoizedState===null&&Da(i);break;case 30:Da(i);break;default:Da(i)}t=t.sibling}}function Fr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Fr(h,d,a),Ml(4,d);break;case 1:if(Fr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Y){gt(l,l.return,Y)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)my(x[h],b)}catch(Y){gt(l,l.return,Y)}}a&&v&64&&Av(d),Ol(d,d.return);break;case 27:xv(d);case 26:case 5:Fr(h,d,a),a&&l===null&&v&4&&Iv(d),Ol(d,d.return);break;case 12:Fr(h,d,a);break;case 31:Fr(h,d,a),a&&v&4&&Vv(h,d);break;case 13:Fr(h,d,a),a&&v&4&&kv(h,d);break;case 22:d.memoizedState===null&&Fr(h,d,a),Ol(d,d.return);break;case 30:break;default:Fr(h,d,a)}i=i.sibling}}function kd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&_l(a))}function Pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&_l(t))}function Zi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uv(t,i,a,l),i=i.sibling}function Uv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zi(t,i,a,l),h&2048&&Ml(9,i);break;case 1:Zi(t,i,a,l);break;case 3:Zi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&_l(t)));break;case 12:if(h&2048){Zi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){gt(i,i.return,x)}}else Zi(t,i,a,l);break;case 31:Zi(t,i,a,l);break;case 13:Zi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Zi(t,i,a,l):Vl(t,i):d._visibility&2?Zi(t,i,a,l):(d._visibility|=2,yo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&kd(v,i);break;case 24:Zi(t,i,a,l),h&2048&&Pd(i.alternate,i);break;default:Zi(t,i,a,l)}}function yo(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,b=a,x=l,Y=v.flags;switch(v.tag){case 0:case 11:case 15:yo(d,v,b,x,h),Ml(8,v);break;case 23:break;case 22:var te=v.stateNode;v.memoizedState!==null?te._visibility&2?yo(d,v,b,x,h):Vl(d,v):(te._visibility|=2,yo(d,v,b,x,h)),h&&Y&2048&&kd(v.alternate,v);break;case 24:yo(d,v,b,x,h),h&&Y&2048&&Pd(v.alternate,v);break;default:yo(d,v,b,x,h)}i=i.sibling}}function Vl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Vl(a,l),h&2048&&kd(l.alternate,l);break;case 24:Vl(a,l),h&2048&&Pd(l.alternate,l);break;default:Vl(a,l)}i=i.sibling}}var kl=8192;function vo(t,i,a){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)zv(t,i,a),t=t.sibling}function zv(t,i,a){switch(t.tag){case 26:vo(t,i,a),t.flags&kl&&t.memoizedState!==null&&dS(a,Wi,t.memoizedState,t.memoizedProps);break;case 5:vo(t,i,a);break;case 3:case 4:var l=Wi;Wi=Kc(t.stateNode.containerInfo),vo(t,i,a),Wi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=kl,kl=16777216,vo(t,i,a),kl=l):vo(t,i,a));break;default:vo(t,i,a)}}function jv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Pl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];gn=l,qv(l,t)}jv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bv(t),t=t.sibling}function Bv(t){switch(t.tag){case 0:case 11:case 15:Pl(t),t.flags&2048&&Is(9,t,t.return);break;case 3:Pl(t);break;case 12:Pl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,kc(t)):Pl(t);break;default:Pl(t)}}function kc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];gn=l,qv(l,t)}jv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Is(8,i,i.return),kc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,kc(i));break;default:kc(i)}t=t.sibling}}function qv(t,i){for(;gn!==null;){var a=gn;switch(a.tag){case 0:case 11:case 15:Is(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,gn=l;else e:for(a=t;gn!==null;){l=gn;var h=l.sibling,d=l.return;if(Mv(l),l===a){gn=null;break e}if(h!==null){h.return=d,gn=h;break e}gn=d}}}var Cb={getCacheForType:function(t){var i=wn(tn),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return wn(tn).controller.signal}},xb=typeof WeakMap=="function"?WeakMap:Map,ht=0,bt=null,Xe=null,Ze=0,pt=0,di=null,Cs=!1,_o=!1,Ld=!1,Gr=0,Gt=0,xs=0,Ma=0,Ud=0,mi=0,Eo=0,Ll=null,Wn=null,zd=!1,Pc=0,Hv=0,Lc=1/0,Uc=null,Ns=null,un=0,Ds=null,To=null,Qr=0,jd=0,Bd=null,Fv=null,Ul=0,qd=null;function pi(){return(ht&2)!==0&&Ze!==0?Ze&-Ze:ee.T!==null?Kd():Qi()}function Gv(){if(mi===0)if((Ze&536870912)===0||it){var t=ii;ii<<=1,(ii&3932160)===0&&(ii=262144),mi=t}else mi=536870912;return t=hi.current,t!==null&&(t.flags|=32),mi}function Zn(t,i,a){(t===bt&&(pt===2||pt===9)||t.cancelPendingCommit!==null)&&(wo(t,0),Ms(t,Ze,mi,!1)),wi(t,a),((ht&2)===0||t!==bt)&&(t===bt&&((ht&2)===0&&(Ma|=a),Gt===4&&Ms(t,Ze,mi,!1)),pr(t))}function Qv(t,i,a){if((ht&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Hi(t,i),h=l?Mb(t,i):Fd(t,i,!0),d=l;do{if(h===0){_o&&!l&&Ms(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Nb(a)){h=Fd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=Ll;var x=b.current.memoizedState.isDehydrated;if(x&&(wo(b,v).flags|=256),v=Fd(b,v,!1),v!==2){if(Ld&&!x){b.errorRecoveryDisabledLanes|=d,Ma|=d,h=4;break e}d=Wn,Wn=h,d!==null&&(Wn===null?Wn=d:Wn.push.apply(Wn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){wo(t,0),Ms(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ms(l,i,mi,!Cs);break e;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Pc+300-mt(),10<h)){if(Ms(l,i,mi,!Cs),Qn(l,0,!0)!==0)break e;Qr=i,l.timeoutHandle=b_(Yv.bind(null,l,a,Wn,Uc,zd,i,mi,Ma,Eo,Cs,d,"Throttled",-0,0),h);break e}Yv(l,a,Wn,Uc,zd,i,mi,Ma,Eo,Cs,d,null,-0,0)}}break}while(!0);pr(t)}function Yv(t,i,a,l,h,d,v,b,x,Y,te,se,K,X){if(t.timeoutHandle=-1,se=i.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:dn},zv(i,d,se);var _e=(d&62914560)===d?Pc-mt():(d&4194048)===d?Hv-mt():0;if(_e=mS(se,_e),_e!==null){Qr=d,t.cancelPendingCommit=_e(t_.bind(null,t,i,d,a,l,h,v,b,x,te,se,null,K,X)),Ms(t,d,v,!Y);return}}t_(t,i,d,a,l,h,v,b,x)}function Nb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!ui(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ms(t,i,a,l){i&=~Ud,i&=~Ma,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Zt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&sr(t,a,i)}function zc(){return(ht&6)===0?(zl(0),!1):!0}function Hd(){if(Xe!==null){if(pt===0)var t=Xe.return;else t=Xe,kr=ba=null,sd(t),ho=null,Tl=0,t=Xe;for(;t!==null;)Sv(t.alternate,t),t=t.return;Xe=null}}function wo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Xb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Qr=0,Hd(),bt=t,Xe=a=Or(t.current,null),Ze=i,pt=0,di=null,Cs=!1,_o=Hi(t,i),Ld=!1,Eo=mi=Ud=Ma=xs=Gt=0,Wn=Ll=null,zd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Zt(l),d=1<<h;i|=t[h],l&=~d}return Gr=i,ac(),a}function Kv(t,i){je=null,ee.H=xl,i===co||i===mc?(i=cy(),pt=3):i===Yf?(i=cy(),pt=4):pt=i===Td?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,di=i,Xe===null&&(Gt=1,Cc(t,Ni(i,t.current)))}function $v(){var t=hi.current;return t===null?!0:(Ze&4194048)===Ze?Vi===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?t===Vi:!1}function Xv(){var t=ee.H;return ee.H=xl,t===null?xl:t}function Jv(){var t=ee.A;return ee.A=Cb,t}function jc(){Gt=4,Cs||(Ze&4194048)!==Ze&&hi.current!==null||(_o=!0),(xs&134217727)===0&&(Ma&134217727)===0||bt===null||Ms(bt,Ze,mi,!1)}function Fd(t,i,a){var l=ht;ht|=2;var h=Xv(),d=Jv();(bt!==t||Ze!==i)&&(Uc=null,wo(t,i)),i=!1;var v=Gt;e:do try{if(pt!==0&&Xe!==null){var b=Xe,x=di;switch(pt){case 8:Hd(),v=6;break e;case 3:case 2:case 9:case 6:hi.current===null&&(i=!0);var Y=pt;if(pt=0,di=null,bo(t,b,x,Y),a&&_o){v=0;break e}break;default:Y=pt,pt=0,di=null,bo(t,b,x,Y)}}Db(),v=Gt;break}catch(te){Kv(t,te)}while(!0);return i&&t.shellSuspendCounter++,kr=ba=null,ht=l,ee.H=h,ee.A=d,Xe===null&&(bt=null,Ze=0,ac()),v}function Db(){for(;Xe!==null;)Wv(Xe)}function Mb(t,i){var a=ht;ht|=2;var l=Xv(),h=Jv();bt!==t||Ze!==i?(Uc=null,Lc=mt()+500,wo(t,i)):_o=Hi(t,i);e:do try{if(pt!==0&&Xe!==null){i=Xe;var d=di;t:switch(pt){case 1:pt=0,di=null,bo(t,i,d,1);break;case 2:case 9:if(ly(d)){pt=0,di=null,Zv(i);break}i=function(){pt!==2&&pt!==9||bt!==t||(pt=7),pr(t)},d.then(i,i);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:ly(d)?(pt=0,di=null,Zv(i)):(pt=0,di=null,bo(t,i,d,7));break;case 5:var v=null;switch(Xe.tag){case 26:v=Xe.memoizedState;case 5:case 27:var b=Xe;if(v?U_(v):b.stateNode.complete){pt=0,di=null;var x=b.sibling;if(x!==null)Xe=x;else{var Y=b.return;Y!==null?(Xe=Y,Bc(Y)):Xe=null}break t}}pt=0,di=null,bo(t,i,d,5);break;case 6:pt=0,di=null,bo(t,i,d,6);break;case 8:Hd(),Gt=6;break e;default:throw Error(s(462))}}Ob();break}catch(te){Kv(t,te)}while(!0);return kr=ba=null,ee.H=l,ee.A=h,ht=a,Xe!==null?0:(bt=null,Ze=0,ac(),Gt)}function Ob(){for(;Xe!==null&&!xn();)Wv(Xe)}function Wv(t){var i=wv(t.alternate,t,Gr);t.memoizedProps=t.pendingProps,i===null?Bc(t):Xe=i}function Zv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=gv(a,i,i.pendingProps,i.type,void 0,Ze);break;case 11:i=gv(a,i,i.pendingProps,i.type.render,i.ref,Ze);break;case 5:sd(i);default:Sv(a,i),i=Xe=Jg(i,Gr),i=wv(a,i,Gr)}t.memoizedProps=t.pendingProps,i===null?Bc(t):Xe=i}function bo(t,i,a,l){kr=ba=null,sd(i),ho=null,Tl=0;var h=i.return;try{if(Tb(t,h,i,a,Ze)){Gt=1,Cc(t,Ni(a,t.current)),Xe=null;return}}catch(d){if(h!==null)throw Xe=h,d;Gt=1,Cc(t,Ni(a,t.current)),Xe=null;return}i.flags&32768?(it||l===1?t=!0:_o||(Ze&536870912)!==0?t=!1:(Cs=t=!0,(l===2||l===9||l===3||l===6)&&(l=hi.current,l!==null&&l.tag===13&&(l.flags|=16384))),e_(i,t)):Bc(i)}function Bc(t){var i=t;do{if((i.flags&32768)!==0){e_(i,Cs);return}t=i.return;var a=Sb(i.alternate,i,Gr);if(a!==null){Xe=a;return}if(i=i.sibling,i!==null){Xe=i;return}Xe=i=t}while(i!==null);Gt===0&&(Gt=5)}function e_(t,i){do{var a=Ab(t.alternate,t);if(a!==null){a.flags&=32767,Xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Xe=t;return}Xe=t=a}while(t!==null);Gt=6,Xe=null}function t_(t,i,a,l,h,d,v,b,x){t.cancelPendingCommit=null;do qc();while(un!==0);if((ht&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Mf,kt(t,a,d,v,b,x),t===bt&&(Xe=bt=null,Ze=0),To=i,Ds=t,Qr=a,jd=d,Bd=h,Fv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Lb(ni,function(){return a_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null,h=fe.p,fe.p=2,v=ht,ht|=4;try{Rb(t,i,a)}finally{ht=v,fe.p=h,ee.T=l}}un=1,n_(),i_(),r_()}}function n_(){if(un===1){un=0;var t=Ds,i=To,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=ee.T,ee.T=null;var l=fe.p;fe.p=2;var h=ht;ht|=4;try{Pv(i,t);var d=nm,v=qg(t.containerInfo),b=d.focusedElem,x=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Bg(b.ownerDocument.documentElement,b)){if(x!==null&&If(b)){var Y=x.start,te=x.end;if(te===void 0&&(te=Y),"selectionStart"in b)b.selectionStart=Y,b.selectionEnd=Math.min(te,b.value.length);else{var se=b.ownerDocument||document,K=se&&se.defaultView||window;if(K.getSelection){var X=K.getSelection(),_e=b.textContent.length,Me=Math.min(x.start,_e),Tt=x.end===void 0?Me:Math.min(x.end,_e);!X.extend&&Me>Tt&&(v=Tt,Tt=Me,Me=v);var j=jg(b,Me),O=jg(b,Tt);if(j&&O&&(X.rangeCount!==1||X.anchorNode!==j.node||X.anchorOffset!==j.offset||X.focusNode!==O.node||X.focusOffset!==O.offset)){var Q=se.createRange();Q.setStart(j.node,j.offset),X.removeAllRanges(),Me>Tt?(X.addRange(Q),X.extend(O.node,O.offset)):(Q.setEnd(O.node,O.offset),X.addRange(Q))}}}}for(se=[],X=b;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<se.length;b++){var ne=se[b];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}eh=!!tm,nm=tm=null}finally{ht=h,fe.p=l,ee.T=a}}t.current=i,un=2}}function i_(){if(un===2){un=0;var t=Ds,i=To,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=ee.T,ee.T=null;var l=fe.p;fe.p=2;var h=ht;ht|=4;try{Dv(t,i.alternate,i)}finally{ht=h,fe.p=l,ee.T=a}}un=3}}function r_(){if(un===4||un===3){un=0,Nn();var t=Ds,i=To,a=Qr,l=Fv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?un=5:(un=0,To=Ds=null,s_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ns=null),ha(a),i=i.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Ti,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=ee.T,h=fe.p,fe.p=2,ee.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{ee.T=i,fe.p=h}}(Qr&3)!==0&&qc(),pr(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===qd?Ul++:(Ul=0,qd=t):Ul=0,zl(0)}}function s_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,_l(i)))}function qc(){return n_(),i_(),r_(),a_()}function a_(){if(un!==5)return!1;var t=Ds,i=jd;jd=0;var a=ha(Qr),l=ee.T,h=fe.p;try{fe.p=32>a?32:a,ee.T=null,a=Bd,Bd=null;var d=Ds,v=Qr;if(un=0,To=Ds=null,Qr=0,(ht&6)!==0)throw Error(s(331));var b=ht;if(ht|=4,Bv(d.current),Uv(d,d.current,v,a),ht=b,zl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Ti,d)}catch{}return!0}finally{fe.p=h,ee.T=l,s_(t,i)}}function o_(t,i,a){i=Ni(a,i),i=Ed(t.stateNode,i,2),t=Ss(t,i,2),t!==null&&(wi(t,2),pr(t))}function gt(t,i,a){if(t.tag===3)o_(t,t,a);else for(;i!==null;){if(i.tag===3){o_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ns===null||!Ns.has(l))){t=Ni(a,t),a=lv(2),l=Ss(i,a,2),l!==null&&(uv(a,l,i,t),wi(l,2),pr(l));break}}i=i.return}}function Gd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new xb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ld=!0,h.add(a),t=Vb.bind(null,t,i,a),i.then(t,t))}function Vb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,bt===t&&(Ze&a)===a&&(Gt===4||Gt===3&&(Ze&62914560)===Ze&&300>mt()-Pc?(ht&2)===0&&wo(t,0):Ud|=a,Eo===Ze&&(Eo=0)),pr(t)}function l_(t,i){i===0&&(i=ca()),t=Ea(t,i),t!==null&&(wi(t,i),pr(t))}function kb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),l_(t,a)}function Pb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),l_(t,a)}function Lb(t,i){return vt(t,i)}var Hc=null,So=null,Qd=!1,Fc=!1,Yd=!1,Os=0;function pr(t){t!==So&&t.next===null&&(So===null?Hc=So=t:So=So.next=t),Fc=!0,Qd||(Qd=!0,zb())}function zl(t,i){if(!Yd&&Fc){Yd=!0;do for(var a=!1,l=Hc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Zt(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,f_(l,d))}else d=Ze,d=Qn(l,l===bt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hi(l,d)||(a=!0,f_(l,d));l=l.next}while(a);Yd=!1}}function Ub(){u_()}function u_(){Fc=Qd=!1;var t=0;Os!==0&&$b()&&(t=Os);for(var i=mt(),a=null,l=Hc;l!==null;){var h=l.next,d=c_(l,i);d===0?(l.next=null,a===null?Hc=h:a.next=h,h===null&&(So=a)):(a=l,(t!==0||(d&3)!==0)&&(Fc=!0)),l=h}un!==0&&un!==5||zl(t),Os!==0&&(Os=0)}function c_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Zt(d),b=1<<v,x=h[v];x===-1?((b&a)===0||(b&l)!==0)&&(h[v]=rr(b,i)):x<=i&&(t.expiredLanes|=b),d&=~b}if(i=bt,a=Ze,a=Qn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(pt===2||pt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ft(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hi(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ft(l),ha(a)){case 2:case 8:a=qt;break;case 32:a=ni;break;case 268435456:a=ir;break;default:a=ni}return l=h_.bind(null,t),a=vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ft(l),t.callbackPriority=2,t.callbackNode=null,2}function h_(t,i){if(un!==0&&un!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(qc()&&t.callbackNode!==a)return null;var l=Ze;return l=Qn(t,t===bt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Qv(t,l,i),c_(t,mt()),t.callbackNode!=null&&t.callbackNode===a?h_.bind(null,t):null)}function f_(t,i){if(qc())return null;Qv(t,i,!0)}function zb(){Jb(function(){(ht&6)!==0?vt(At,Ub):u_()})}function Kd(){if(Os===0){var t=lo;t===0&&(t=qi,qi<<=1,(qi&261888)===0&&(qi=256)),Os=t}return Os}function d_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ur(""+t)}function m_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function jb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=d_((h[Ut]||null).action),v=l.submitter;v&&(i=(i=v[Ut]||null)?d_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var b=new da("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Os!==0){var x=v?m_(h,v):new FormData(h);md(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(b.preventDefault(),x=v?m_(h,v):new FormData(h),md(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var $d=0;$d<Df.length;$d++){var Xd=Df[$d],Bb=Xd.toLowerCase(),qb=Xd[0].toUpperCase()+Xd.slice(1);Ji(Bb,"on"+qb)}Ji(Gg,"onAnimationEnd"),Ji(Qg,"onAnimationIteration"),Ji(Yg,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(rb,"onTransitionRun"),Ji(sb,"onTransitionStart"),Ji(ab,"onTransitionCancel"),Ji(Kg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function p_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var b=l[v],x=b.instance,Y=b.currentTarget;if(b=b.listener,x!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=Y;try{d(h)}catch(te){sc(te)}h.currentTarget=null,d=x}else for(v=0;v<l.length;v++){if(b=l[v],x=b.instance,Y=b.currentTarget,b=b.listener,x!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=Y;try{d(h)}catch(te){sc(te)}h.currentTarget=null,d=x}}}}function Je(t,i){var a=i[jn];a===void 0&&(a=i[jn]=new Set);var l=t+"__bubble";a.has(l)||(g_(i,t,2,!1),a.add(l))}function Jd(t,i,a){var l=0;i&&(l|=4),g_(a,t,l,i)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[Gc]){t[Gc]=!0,$i.forEach(function(a){a!=="selectionchange"&&(Hb.has(a)||Jd(a,!1,t),Jd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Gc]||(i[Gc]=!0,Jd("selectionchange",!1,i))}}function g_(t,i,a,l){switch(G_(i)){case 2:var h=yS;break;case 8:h=vS;break;default:h=dm}a=h.bind(null,i,a,t),h=void 0,!ll||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Zd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=Yi(b),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Hu(function(){var Y=d,te=$a(a),se=[];e:{var K=$g.get(t);if(K!==void 0){var X=da,_e=t;switch(t){case"keypress":if(fa(a)===0)break e;case"keydown":case"keyup":X=Wu;break;case"focusin":_e="focus",X=ms;break;case"focusout":_e="blur",X=ms;break;case"beforeblur":case"afterblur":X=ms;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=ec;break;case Gg:case Qg:case Yg:X=Wa;break;case Kg:X=Za;break;case"scroll":case"scrollend":X=Fu;break;case"wheel":X=nc;break;case"copy":case"cut":case"paste":X=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=dl;break;case"toggle":case"beforetoggle":X=gs}var Me=(i&4)!==0,Tt=!Me&&(t==="scroll"||t==="scrollend"),j=Me?K!==null?K+"Capture":null:K;Me=[];for(var O=Y,Q;O!==null;){var ne=O;if(Q=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Q===null||j===null||(ne=Yn(O,j),ne!=null&&Me.push(Bl(O,ne,Q))),Tt)break;O=O.return}0<Me.length&&(K=new X(K,_e,null,a,te),se.push({event:K,listeners:Me}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",K&&a!==Ka&&(_e=a.relatedTarget||a.fromElement)&&(Yi(_e)||_e[Mn]))break e;if((X||K)&&(K=te.window===te?te:(K=te.ownerDocument)?K.defaultView||K.parentWindow:window,X?(_e=a.relatedTarget||a.toElement,X=Y,_e=_e?Yi(_e):null,_e!==null&&(Tt=u(_e),Me=_e.tag,_e!==Tt||Me!==5&&Me!==27&&Me!==6)&&(_e=null)):(X=null,_e=Y),X!==_e)){if(Me=Gu,ne="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Me=dl,ne="onPointerLeave",j="onPointerEnter",O="pointer"),Tt=X==null?K:Ir(X),Q=_e==null?K:Ir(_e),K=new Me(ne,O+"leave",X,a,te),K.target=Tt,K.relatedTarget=Q,ne=null,Yi(te)===Y&&(Me=new Me(j,O+"enter",_e,a,te),Me.target=Q,Me.relatedTarget=Tt,ne=Me),Tt=ne,X&&_e)t:{for(Me=Fb,j=X,O=_e,Q=0,ne=j;ne;ne=Me(ne))Q++;ne=0;for(var Re=O;Re;Re=Me(Re))ne++;for(;0<Q-ne;)j=Me(j),Q--;for(;0<ne-Q;)O=Me(O),ne--;for(;Q--;){if(j===O||O!==null&&j===O.alternate){Me=j;break t}j=Me(j),O=Me(O)}Me=null}else Me=null;X!==null&&y_(se,K,X,Me,!1),_e!==null&&Tt!==null&&y_(se,Tt,_e,Me,!0)}}e:{if(K=Y?Ir(Y):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var lt=Vg;else if(Kn(K))if(kg)lt=tb;else{lt=Z1;var Te=W1}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&al(Y.elementType)&&(lt=Vg):lt=eb;if(lt&&(lt=lt(t,Y))){ya(se,lt,a,te);break e}Te&&Te(t,K,Y),t==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&Ii(K,"number",K.value)}switch(Te=Y?Ir(Y):window,t){case"focusin":(Kn(Te)||Te.contentEditable==="true")&&(eo=Te,Cf=Y,gl=null);break;case"focusout":gl=Cf=eo=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,Hg(se,a,te);break;case"selectionchange":if(ib)break;case"keydown":case"keyup":Hg(se,a,te)}var Be;if(y)e:{switch(t){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else He?dt(t,a)&&(et="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(et="onCompositionStart");et&&(F&&a.locale!=="ko"&&(He||et!=="onCompositionStart"?et==="onCompositionEnd"&&He&&(Be=cs()):(li=te,Xa="value"in li?li.value:li.textContent,He=!0)),Te=Qc(Y,et),0<Te.length&&(et=new cl(et,t,null,a,te),se.push({event:et,listeners:Te}),Be?et.data=Be:(Be=en(a),Be!==null&&(et.data=Be)))),(Be=S?mn(t,a):pn(t,a))&&(et=Qc(Y,"onBeforeInput"),0<et.length&&(Te=new cl("onBeforeInput","beforeinput",null,a,te),se.push({event:Te,listeners:et}),Te.data=Be)),jb(se,t,Y,a,te)}p_(se,i)})}function Bl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Qc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(t,a),h!=null&&l.unshift(Bl(t,h,d)),h=Yn(t,i),h!=null&&l.push(Bl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Fb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function y_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var b=a,x=b.alternate,Y=b.stateNode;if(b=b.tag,x!==null&&x===l)break;b!==5&&b!==26&&b!==27||Y===null||(x=Y,h?(Y=Yn(a,d),Y!=null&&v.unshift(Bl(a,Y,x))):h||(Y=Yn(a,d),Y!=null&&v.push(Bl(a,Y,x)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Gb=/\r\n?/g,Qb=/\u0000|\uFFFD/g;function v_(t){return(typeof t=="string"?t:""+t).replace(Gb,`
`).replace(Qb,"")}function __(t,i){return i=v_(i),v_(t)===i}function Et(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Ci(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Ci(t,""+l);break;case"className":$(t,"class",l);break;case"tabIndex":$(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$(t,a,l);break;case"style":Bu(t,l,d);break;case"data":if(i!=="object"){$(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ur(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Et(t,i,"name",h.name,h,null),Et(t,i,"formEncType",h.formEncType,h,null),Et(t,i,"formMethod",h.formMethod,h,null),Et(t,i,"formTarget",h.formTarget,h,null)):(Et(t,i,"encType",h.encType,h,null),Et(t,i,"method",h.method,h,null),Et(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ur(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=dn);break;case"onScroll":l!=null&&Je("scroll",t);break;case"onScrollEnd":l!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ur(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Je("beforetoggle",t),Je("toggle",t),H(t,"popover",l);break;case"xlinkActuate":ae(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ae(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ae(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ae(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ae(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ae(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ae(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ae(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ae(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":H(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wf.get(a)||a,H(t,a,l))}}function em(t,i,a,l,h,d){switch(a){case"style":Bu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Ci(t,l):(typeof l=="number"||typeof l=="bigint")&&Ci(t,""+l);break;case"onScroll":l!=null&&Je("scroll",t);break;case"onScrollEnd":l!=null&&Je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):H(t,a,l)}}}function Sn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Et(t,i,d,v,a,null)}}h&&Et(t,i,"srcSet",a.srcSet,a,null),l&&Et(t,i,"src",a.src,a,null);return;case"input":Je("invalid",t);var b=d=v=h=null,x=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":h=te;break;case"type":v=te;break;case"checked":x=te;break;case"defaultChecked":Y=te;break;case"value":d=te;break;case"defaultValue":b=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:Et(t,i,l,te,a,null)}}Ri(t,d,b,x,Y,v,h,!1);return;case"select":Je("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:Et(t,i,h,b,a,null)}i=d,a=v,t.multiple=!!l,i!=null?qe(t,!!l,i,!1):a!=null&&qe(t,!!l,a,!0);return;case"textarea":Je("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Et(t,i,v,b,a,null)}It(t,l,h,d);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Et(t,i,x,l,a,null)}return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(l=0;l<jl.length;l++)Je(jl[l],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Et(t,i,Y,l,a,null)}return;default:if(al(i)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&em(t,i,te,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Et(t,i,b,l,a,null))}function Yb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,x=null,Y=null,te=null;for(X in a){var se=a[X];if(a.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":x=se;default:l.hasOwnProperty(X)||Et(t,i,X,null,l,se)}}for(var K in l){var X=l[K];if(se=a[K],l.hasOwnProperty(K)&&(X!=null||se!=null))switch(K){case"type":d=X;break;case"name":h=X;break;case"checked":Y=X;break;case"defaultChecked":te=X;break;case"value":v=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==se&&Et(t,i,K,X,l,se)}}En(t,v,b,x,Y,te,d,h);return;case"select":X=v=b=K=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":X=x;default:l.hasOwnProperty(d)||Et(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":K=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==x&&Et(t,i,h,d,l,x)}i=b,a=v,l=X,K!=null?qe(t,!!a,K,!1):!!l!=!!a&&(i!=null?qe(t,!!a,i,!0):qe(t,!!a,a?[]:"",!1));return;case"textarea":X=K=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Et(t,i,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":K=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Et(t,i,v,h,l,d)}ai(t,K,X);return;case"option":for(var _e in a)if(K=a[_e],a.hasOwnProperty(_e)&&K!=null&&!l.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:Et(t,i,_e,null,l,K)}for(x in l)if(K=l[x],X=a[x],l.hasOwnProperty(x)&&K!==X&&(K!=null||X!=null))switch(x){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Et(t,i,x,K,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in a)K=a[Me],a.hasOwnProperty(Me)&&K!=null&&!l.hasOwnProperty(Me)&&Et(t,i,Me,null,l,K);for(Y in l)if(K=l[Y],X=a[Y],l.hasOwnProperty(Y)&&K!==X&&(K!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Et(t,i,Y,K,l,X)}return;default:if(al(i)){for(var Tt in a)K=a[Tt],a.hasOwnProperty(Tt)&&K!==void 0&&!l.hasOwnProperty(Tt)&&em(t,i,Tt,void 0,l,K);for(te in l)K=l[te],X=a[te],!l.hasOwnProperty(te)||K===X||K===void 0&&X===void 0||em(t,i,te,K,l,X);return}}for(var j in a)K=a[j],a.hasOwnProperty(j)&&K!=null&&!l.hasOwnProperty(j)&&Et(t,i,j,null,l,K);for(se in l)K=l[se],X=a[se],!l.hasOwnProperty(se)||K===X||K==null&&X==null||Et(t,i,se,K,l,X)}function E_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,b=h.duration;if(d&&b&&E_(v)){for(v=0,b=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],Y=x.startTime;if(Y>b)break;var te=x.transferSize,se=x.initiatorType;te&&E_(se)&&(x=x.responseEnd,v+=te*(x<b?1:(b-Y)/(x-Y)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tm=null,nm=null;function Yc(t){return t.nodeType===9?t:t.ownerDocument}function T_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function im(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rm=null;function $b(){var t=window.event;return t&&t.type==="popstate"?t===rm?!1:(rm=t,!0):(rm=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,Xb=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,Jb=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(t){return S_.resolve(null).then(t).catch(Wb)}:b_;function Wb(t){setTimeout(function(){throw t})}function Vs(t){return t==="head"}function A_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Co(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ql(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ql(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[On]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&ql(t.ownerDocument.body);a=h}while(a);Co(i)}function R_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),Si(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Zb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[On])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ki(t.nextSibling),t===null)break}return null}function eS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ki(t.nextSibling),t===null))return null;return t}function I_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ki(t.nextSibling),t===null))return null;return t}function am(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ki(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var lm=null;function C_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return ki(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function x_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function N_(t,i,a){switch(i=Yc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ql(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Si(t)}var Pi=new Map,D_=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yr=fe.d;fe.d={f:nS,r:iS,D:rS,C:sS,L:aS,m:oS,X:uS,S:lS,M:cS};function nS(){var t=Yr.f(),i=zc();return t||i}function iS(t){var i=Ki(t);i!==null&&i.tag===5&&i.type==="form"?Ky(i):Yr.r(t)}var Ao=typeof document>"u"?null:document;function M_(t,i,a){var l=Ao;if(l&&typeof i=="string"&&i){var h=Ye(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),D_.has(h)||(D_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Sn(i,"link",t),zt(i),l.head.appendChild(i)))}}function rS(t){Yr.D(t),M_("dns-prefetch",t,null)}function sS(t,i){Yr.C(t,i),M_("preconnect",t,i)}function aS(t,i,a){Yr.L(t,i,a);var l=Ao;if(l&&t&&i){var h='link[rel="preload"][as="'+Ye(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ye(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ye(a.imageSizes)+'"]')):h+='[href="'+Ye(t)+'"]';var d=h;switch(i){case"style":d=Ro(t);break;case"script":d=Io(t)}Pi.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Pi.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Hl(d))||i==="script"&&l.querySelector(Fl(d))||(i=l.createElement("link"),Sn(i,"link",t),zt(i),l.head.appendChild(i)))}}function oS(t,i){Yr.m(t,i);var a=Ao;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ye(l)+'"][href="'+Ye(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Io(t)}if(!Pi.has(d)&&(t=w({rel:"modulepreload",href:t},i),Pi.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(d)))return}l=a.createElement("link"),Sn(l,"link",t),zt(l),a.head.appendChild(l)}}}function lS(t,i,a){Yr.S(t,i,a);var l=Ao;if(l&&t){var h=ri(l).hoistableStyles,d=Ro(t);i=i||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Hl(d)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Pi.get(d))&&um(t,a);var x=v=l.createElement("link");zt(x),Sn(x,"link",t),x._p=new Promise(function(Y,te){x.onload=Y,x.onerror=te}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,$c(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function uS(t,i){Yr.X(t,i);var a=Ao;if(a&&t){var l=ri(a).hoistableScripts,h=Io(t),d=l.get(h);d||(d=a.querySelector(Fl(h)),d||(t=w({src:t,async:!0},i),(i=Pi.get(h))&&cm(t,i),d=a.createElement("script"),zt(d),Sn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function cS(t,i){Yr.M(t,i);var a=Ao;if(a&&t){var l=ri(a).hoistableScripts,h=Io(t),d=l.get(h);d||(d=a.querySelector(Fl(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=Pi.get(h))&&cm(t,i),d=a.createElement("script"),zt(d),Sn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function O_(t,i,a,l){var h=(h=ge.current)?Kc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ro(a.href),a=ri(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ro(a.href);var d=ri(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Hl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Pi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pi.set(t,a),d||hS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Io(a),a=ri(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ro(t){return'href="'+Ye(t)+'"'}function Hl(t){return'link[rel="stylesheet"]['+t+"]"}function V_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function hS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Sn(i,"link",a),zt(i),t.head.appendChild(i))}function Io(t){return'[src="'+Ye(t)+'"]'}function Fl(t){return"script[async]"+t}function k_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Ye(a.href)+'"]');if(l)return i.instance=l,zt(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),zt(l),Sn(l,"style",h),$c(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ro(a.href);var d=t.querySelector(Hl(h));if(d)return i.state.loading|=4,i.instance=d,zt(d),d;l=V_(a),(h=Pi.get(h))&&um(l,h),d=(t.ownerDocument||t).createElement("link"),zt(d);var v=d;return v._p=new Promise(function(b,x){v.onload=b,v.onerror=x}),Sn(d,"link",l),i.state.loading|=4,$c(d,a.precedence,t),i.instance=d;case"script":return d=Io(a.src),(h=t.querySelector(Fl(d)))?(i.instance=h,zt(h),h):(l=a,(h=Pi.get(d))&&(l=w({},a),cm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),zt(h),Sn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,$c(l,a.precedence,t));return i.instance}function $c(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Xc=null;function P_(t,i,a){if(Xc===null){var l=new Map,h=Xc=new Map;h.set(a,l)}else h=Xc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[On]||d[Pt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function L_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function fS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function U_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function dS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ro(l.href),d=i.querySelector(Hl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Jc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,zt(d);return}d=i.ownerDocument||i,l=V_(l),(h=Pi.get(h))&&um(l,h),d=d.createElement("link"),zt(d);var v=d;v._p=new Promise(function(b,x){v.onload=b,v.onerror=x}),Sn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Jc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var hm=0;function mS(t,i){return t.stylesheets&&t.count===0&&Zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Zc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&hm===0&&(hm=62500*Kb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>hm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wc=null;function Zc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wc=new Map,i.forEach(pS,t),Wc=null,Jc.call(t))}function pS(t,i){if(!(i.state.loading&4)){var a=Wc.get(t);if(a)var l=a.get(null);else{a=new Map,Wc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Jc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Gl={$$typeof:re,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function gS(t,i,a,l,h,d,v,b,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.hiddenUpdates=Fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function z_(t,i,a,l,h,d,v,b,x,Y,te,se){return t=new gS(t,i,a,v,x,Y,te,se,b),i=1,d===!0&&(i|=24),d=ci(3,null,null,i),t.current=d,d.stateNode=t,i=Ff(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Kf(d),t}function j_(t){return t?(t=io,t):io}function B_(t,i,a,l,h,d){h=j_(h),l.context===null?l.context=h:l.pendingContext=h,l=bs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ss(t,l,i),a!==null&&(Zn(a,t,i),bl(a,t,i))}function q_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function fm(t,i){q_(t,i),(t=t.alternate)&&q_(t,i)}function H_(t){if(t.tag===13||t.tag===31){var i=Ea(t,67108864);i!==null&&Zn(i,t,67108864),fm(t,67108864)}}function F_(t){if(t.tag===13||t.tag===31){var i=pi();i=us(i);var a=Ea(t,i);a!==null&&Zn(a,t,i),fm(t,i)}}var eh=!0;function yS(t,i,a,l){var h=ee.T;ee.T=null;var d=fe.p;try{fe.p=2,dm(t,i,a,l)}finally{fe.p=d,ee.T=h}}function vS(t,i,a,l){var h=ee.T;ee.T=null;var d=fe.p;try{fe.p=8,dm(t,i,a,l)}finally{fe.p=d,ee.T=h}}function dm(t,i,a,l){if(eh){var h=mm(l);if(h===null)Zd(t,i,l,th,a),Q_(t,l);else if(ES(h,t,i,a,l))l.stopPropagation();else if(Q_(t,l),i&4&&-1<_S.indexOf(t)){for(;h!==null;){var d=Ki(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Ht(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var x=1<<31-Zt(v);b.entanglements[1]|=x,v&=~x}pr(d),(ht&6)===0&&(Lc=mt()+500,zl(0))}}break;case 31:case 13:b=Ea(d,2),b!==null&&Zn(b,d,2),zc(),fm(d,2)}if(d=mm(l),d===null&&Zd(t,i,l,th,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Zd(t,i,l,null,a)}}function mm(t){return t=$a(t),pm(t)}var th=null;function pm(t){if(th=null,t=Yi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return th=t,null}function G_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ti()){case At:return 2;case qt:return 8;case ni:case Sr:return 32;case ir:return 268435456;default:return 32}default:return 32}}var gm=!1,ks=null,Ps=null,Ls=null,Ql=new Map,Yl=new Map,Us=[],_S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(t,i){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(i.pointerId)}}function Kl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ki(i),i!==null&&H_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function ES(t,i,a,l,h){switch(i){case"focusin":return ks=Kl(ks,t,i,a,l,h),!0;case"dragenter":return Ps=Kl(Ps,t,i,a,l,h),!0;case"mouseover":return Ls=Kl(Ls,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ql.set(d,Kl(Ql.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Yl.set(d,Kl(Yl.get(d)||null,t,i,a,l,h)),!0}return!1}function Y_(t){var i=Yi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Ya(t.priority,function(){F_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Ya(t.priority,function(){F_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ka=l,a.target.dispatchEvent(l),Ka=null}else return i=Ki(a),i!==null&&H_(i),t.blockedOn=a,!1;i.shift()}return!0}function K_(t,i,a){nh(t)&&a.delete(i)}function TS(){gm=!1,ks!==null&&nh(ks)&&(ks=null),Ps!==null&&nh(Ps)&&(Ps=null),Ls!==null&&nh(Ls)&&(Ls=null),Ql.forEach(K_),Yl.forEach(K_)}function ih(t,i){t.blockedOn===i&&(t.blockedOn=null,gm||(gm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,TS)))}var rh=null;function $_(t){rh!==t&&(rh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){rh===t&&(rh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var d=Ki(a);d!==null&&(t.splice(i,3),i-=3,md(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Co(t){function i(x){return ih(x,t)}ks!==null&&ih(ks,t),Ps!==null&&ih(Ps,t),Ls!==null&&ih(Ls,t),Ql.forEach(i),Yl.forEach(i);for(var a=0;a<Us.length;a++){var l=Us[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Us.length&&(a=Us[0],a.blockedOn===null);)Y_(a),a.blockedOn===null&&Us.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Ut]||null;if(typeof d=="function")v||$_(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Ut]||null)b=v.formAction;else if(pm(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),$_(a)}}}function X_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function ym(t){this._internalRoot=t}sh.prototype.render=ym.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=pi();B_(a,l,t,i,null,null)},sh.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;B_(t.current,2,null,t,null,null),zc(),i[Mn]=null}};function sh(t){this._internalRoot=t}sh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Qi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Us.length&&i!==0&&i<Us[a].priority;a++);Us.splice(a,0,t),a===0&&Y_(t)}};var J_=e.version;if(J_!=="19.2.3")throw Error(s(527,J_,"19.2.3"));fe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var wS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{Ti=ah.inject(wS),$t=ah}catch{}}return Xl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=rv,d=sv,v=av;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=z_(t,1,!1,null,null,a,l,null,h,d,v,X_),t[Mn]=i.current,Wd(t),new ym(i)},Xl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=rv,v=sv,b=av,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=z_(t,1,!0,i,a??null,l,h,x,d,v,b,X_),i.context=j_(null),a=i.current,l=pi(),l=us(l),h=bs(l),h.callback=null,Ss(a,h,l),a=l,i.current.lanes=a,wi(i,a),pr(i),t[Mn]=i.current,Wd(t),new sh(i)},Xl.version="19.2.3",Xl}var o0;function VS(){if(o0)return Em.exports;o0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=OS(),Em.exports}var kS=VS();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l0="popstate";function PS(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=Ba(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Gm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:du(u))}function s(o,u){Ei(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return US(e,n,s,r)}function jt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ei(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LS(){return Math.random().toString(36).substring(2,10)}function u0(r,e){return{usr:r.state,key:r.key,idx:e}}function Gm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ba(e):e,state:n,key:e&&e.key||s||LS()}}function du({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ba(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function US(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let U=E(),ue=U==null?null:U-g;g=U,p&&p({action:m,location:Z.location,delta:ue})}function A(U,ue){m="PUSH";let ce=Gm(Z.location,U,ue);n&&n(ce,U),g=E()+1;let re=u0(ce,g),Se=Z.createHref(ce);try{f.pushState(re,"",Se)}catch(Pe){if(Pe instanceof DOMException&&Pe.name==="DataCloneError")throw Pe;o.location.assign(Se)}u&&p&&p({action:m,location:Z.location,delta:1})}function k(U,ue){m="REPLACE";let ce=Gm(Z.location,U,ue);n&&n(ce,U),g=E();let re=u0(ce,g),Se=Z.createHref(ce);f.replaceState(re,"",Se),u&&p&&p({action:m,location:Z.location,delta:0})}function G(U){return zS(U)}let Z={get action(){return m},get location(){return r(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(l0,w),p=U,()=>{o.removeEventListener(l0,w),p=null}},createHref(U){return e(o,U)},createURL:G,encodeLocation(U){let ue=G(U);return{pathname:ue.pathname,search:ue.search,hash:ue.hash}},push:A,replace:k,go(U){return f.go(U)}};return Z}function zS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),jt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:du(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function YE(r,e,n="/"){return jS(r,e,n,!1)}function jS(r,e,n,s){let o=typeof e=="string"?Ba(e):e,u=Zr(o.pathname||"/",n);if(u==null)return null;let f=KE(r);BS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=WS(u);m=XS(f[p],g,s)}return m}function KE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;jt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let w=Jr([s,E.relativePath]),A=n.concat(E);f.children&&f.children.length>0&&(jt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),KE(f.children,e,A,w,p)),!(f.path==null&&!f.index)&&e.push({path:w,score:KS(w,f.index),routesMeta:A})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let g of $E(f.path))u(f,m,!0,g)}),e}function $E(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=$E(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function BS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:$S(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var qS=/^:[\w-]+$/,HS=3,FS=2,GS=1,QS=10,YS=-2,c0=r=>r==="*";function KS(r,e){let n=r.split("/"),s=n.length;return n.some(c0)&&(s+=YS),e&&(s+=FS),n.filter(o=>!c0(o)).reduce((o,u)=>o+(qS.test(u)?HS:u===""?GS:QS),s)}function $S(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function XS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=Ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=Ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Jr([u,w.pathname]),pathnameBase:nA(Jr([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=Jr([u,w.pathnameBase]))}return f}function Ch(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=JS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},A)=>{if(E==="*"){let G=m[A]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const k=m[A];return w&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function JS(r,e=!1,n=!0){Ei(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function WS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ei(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Zr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var XE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZS=r=>XE.test(r);function eA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ba(r):r,u;if(n)if(ZS(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Ei(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=h0(n.substring(1),"/"):u=h0(n,e)}else u=e;return{pathname:u,search:iA(s),hash:rA(o)}}function h0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function JE(r){let e=tA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function WE(r,e,n,s=!1){let o;typeof r=="string"?o=Ba(r):(o={...r},jt(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),jt(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),jt(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=eA(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Jr=r=>r.join("/").replace(/\/\/+/g,"/"),nA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),iA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,rA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,sA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function aA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function oA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function eT(r,e){let n=r;if(typeof n!="string"||!XE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(ZE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Zr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Ei(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tT=["POST","PUT","PATCH","DELETE"];new Set(tT);var lA=["GET",...tT];new Set(lA);var Ko=P.createContext(null);Ko.displayName="DataRouter";var Jh=P.createContext(null);Jh.displayName="DataRouterState";var uA=P.createContext(!1),nT=P.createContext({isTransitioning:!1});nT.displayName="ViewTransition";var cA=P.createContext(new Map);cA.displayName="Fetchers";var hA=P.createContext(null);hA.displayName="Await";var ji=P.createContext(null);ji.displayName="Navigation";var Tu=P.createContext(null);Tu.displayName="Location";var as=P.createContext({outlet:null,matches:[],isDataRoute:!1});as.displayName="Route";var Ap=P.createContext(null);Ap.displayName="RouteError";var iT="REACT_ROUTER_ERROR",fA="REDIRECT",dA="ROUTE_ERROR_RESPONSE";function mA(r){if(r.startsWith(`${iT}:${fA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function pA(r){if(r.startsWith(`${iT}:${dA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new sA(e.status,e.statusText,e.data)}catch{}}function gA(r,{relative:e}={}){jt(wu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(ji),{hash:o,pathname:u,search:f}=bu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Jr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function wu(){return P.useContext(Tu)!=null}function aa(){return jt(wu(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Tu).location}var rT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sT(r){P.useContext(ji).static||P.useLayoutEffect(r)}function Rp(){let{isDataRoute:r}=P.useContext(as);return r?xA():yA()}function yA(){jt(wu(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(Ko),{basename:e,navigator:n}=P.useContext(ji),{matches:s}=P.useContext(as),{pathname:o}=aa(),u=JSON.stringify(JE(s)),f=P.useRef(!1);return sT(()=>{f.current=!0}),P.useCallback((p,g={})=>{if(Ei(f.current,rT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=WE(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Jr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}P.createContext(null);function bu(r,{relative:e}={}){let{matches:n}=P.useContext(as),{pathname:s}=aa(),o=JSON.stringify(JE(n));return P.useMemo(()=>WE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function vA(r,e){return aT(r,e)}function aT(r,e,n,s,o){var ce;jt(wu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(ji),{matches:f}=P.useContext(as),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let re=w&&w.path||"";lT(g,!w||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let A=aa(),k;if(e){let re=typeof e=="string"?Ba(e):e;jt(E==="/"||((ce=re.pathname)==null?void 0:ce.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${re.pathname}" was given in the \`location\` prop.`),k=re}else k=A;let G=k.pathname||"/",Z=G;if(E!=="/"){let re=E.replace(/^\//,"").split("/");Z="/"+G.replace(/^\//,"").split("/").slice(re.length).join("/")}let U=YE(r,{pathname:Z});Ei(w||U!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Ei(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ue=bA(U&&U.map(re=>Object.assign({},re,{params:Object.assign({},p,re.params),pathname:Jr([E,u.encodeLocation?u.encodeLocation(re.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?E:Jr([E,u.encodeLocation?u.encodeLocation(re.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathnameBase])})),f,n,s,o);return e&&ue?P.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},ue):ue}function _A(){let r=CA(),e=aA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,f)}var EA=P.createElement(_A,null),oT=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=pA(r.digest);n&&(r=n)}let e=r!==void 0?P.createElement(as.Provider,{value:this.props.routeContext},P.createElement(Ap.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?P.createElement(TA,{error:r},e):e}};oT.contextType=uA;var Am=new WeakMap;function TA({children:r,error:e}){let{basename:n}=P.useContext(ji);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=mA(e.digest);if(s){let o=Am.get(e);if(o)throw o;let u=eT(s.location,n);if(ZE&&!Am.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Am.set(e,f),f}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function wA({routeContext:r,match:e,children:n}){let s=P.useContext(Ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(as.Provider,{value:r},n)}function bA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let E=u.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);jt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let w=u[E];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=E),w.route.id){let{loaderData:A,errors:k}=n,G=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!k||k[w.route.id]===void 0);if(w.route.lazy||G){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,w)=>{var A,k;s(E,{location:n.location,params:((k=(A=n.matches)==null?void 0:A[0])==null?void 0:k.params)??{},unstable_pattern:oA(n.matches),errorInfo:w})}:void 0;return u.reduceRight((E,w,A)=>{let k,G=!1,Z=null,U=null;n&&(k=f&&w.route.id?f[w.route.id]:void 0,Z=w.route.errorElement||EA,m&&(p<0&&A===0?(lT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,U=null):p===A&&(G=!0,U=w.route.hydrateFallbackElement||null)));let ue=e.concat(u.slice(0,A+1)),ce=()=>{let re;return k?re=Z:G?re=U:w.route.Component?re=P.createElement(w.route.Component,null):w.route.element?re=w.route.element:re=E,P.createElement(wA,{match:w,routeContext:{outlet:E,matches:ue,isDataRoute:n!=null},children:re})};return n&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?P.createElement(oT,{location:n.location,revalidation:n.revalidation,component:Z,error:k,children:ce(),routeContext:{outlet:null,matches:ue,isDataRoute:!0},onError:g}):ce()},null)}function Ip(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SA(r){let e=P.useContext(Ko);return jt(e,Ip(r)),e}function AA(r){let e=P.useContext(Jh);return jt(e,Ip(r)),e}function RA(r){let e=P.useContext(as);return jt(e,Ip(r)),e}function Cp(r){let e=RA(r),n=e.matches[e.matches.length-1];return jt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function IA(){return Cp("useRouteId")}function CA(){var s;let r=P.useContext(Ap),e=AA("useRouteError"),n=Cp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function xA(){let{router:r}=SA("useNavigate"),e=Cp("useNavigate"),n=P.useRef(!1);return sT(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{Ei(n.current,rT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var f0={};function lT(r,e,n){!e&&!f0[r]&&(f0[r]=!0,Ei(!1,n))}P.memo(NA);function NA({routes:r,future:e,state:n,onError:s}){return aT(r,void 0,n,s,e)}function Qm(r){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){jt(!wu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Ba(n));let{pathname:g="/",search:E="",hash:w="",state:A=null,key:k="default"}=n,G=P.useMemo(()=>{let Z=Zr(g,m);return Z==null?null:{location:{pathname:Z,search:E,hash:w,state:A,key:k},navigationType:s}},[m,g,E,w,A,k,s]);return Ei(G!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${w}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:P.createElement(ji.Provider,{value:p},P.createElement(Tu.Provider,{children:e,value:G}))}function MA({children:r,location:e}){return vA(Ym(r),e)}function Ym(r,e=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,Ym(s.props.children,u));return}jt(s.type===Qm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Ym(s.props.children,u)),n.push(f)}),n}var gh="get",yh="application/x-www-form-urlencoded";function Wh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function OA(r){return Wh(r)&&r.tagName.toLowerCase()==="button"}function VA(r){return Wh(r)&&r.tagName.toLowerCase()==="form"}function kA(r){return Wh(r)&&r.tagName.toLowerCase()==="input"}function PA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function LA(r,e){return r.button===0&&(!e||e==="_self")&&!PA(r)}function Km(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function UA(r,e){let n=Km(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var oh=null;function zA(){if(oh===null)try{new FormData(document.createElement("form"),0),oh=!1}catch{oh=!0}return oh}var jA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(r){return r!=null&&!jA.has(r)?(Ei(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yh}"`),null):r}function BA(r,e){let n,s,o,u,f;if(VA(r)){let m=r.getAttribute("action");s=m?Zr(m,e):null,n=r.getAttribute("method")||gh,o=Rm(r.getAttribute("enctype"))||yh,u=new FormData(r)}else if(OA(r)||kA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Zr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||gh,o=Rm(r.getAttribute("formenctype"))||Rm(m.getAttribute("enctype"))||yh,u=new FormData(m,r),!zA()){let{name:g,type:E,value:w}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(Wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gh,s=null,o=yh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function qA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Zr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function HA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function GA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await HA(u,n);return f.links?f.links():[]}return[]}));return $A(s.flat(1).filter(FA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function d0(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function QA(r,e,{includeHydrateFallback:n}={}){return YA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function YA(r){return[...new Set(r)]}function KA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function $A(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(KA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function uT(){let r=P.useContext(Ko);return xp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function XA(){let r=P.useContext(Jh);return xp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Np=P.createContext(void 0);Np.displayName="FrameworkContext";function cT(){let r=P.useContext(Np);return xp(r,"You must render this element inside a <HydratedRouter> element"),r}function JA(r,e){let n=P.useContext(Np),[s,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,A=P.useRef(null);P.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=ue=>{ue.forEach(ce=>{f(ce.isIntersecting)})},U=new IntersectionObserver(Z,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[r]),P.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let k=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Jl(m,k),onBlur:Jl(p,G),onMouseEnter:Jl(g,k),onMouseLeave:Jl(E,G),onTouchStart:Jl(w,k)}]:[!1,A,{}]}function Jl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function WA({page:r,...e}){let{router:n}=uT(),s=P.useMemo(()=>YE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(eR,{page:r,matches:s,...e}):null}function ZA(r){let{manifest:e,routeModules:n}=cT(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return GA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function eR({page:r,matches:e,...n}){let s=aa(),{future:o,manifest:u,routeModules:f}=cT(),{basename:m}=uT(),{loaderData:p,matches:g}=XA(),E=P.useMemo(()=>d0(r,e,g,u,s,"data"),[r,e,g,u,s]),w=P.useMemo(()=>d0(r,e,g,u,s,"assets"),[r,e,g,u,s]),A=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Z=new Set,U=!1;if(e.forEach(ce=>{var Se;let re=u.routes[ce.route.id];!re||!re.hasLoader||(!E.some(Pe=>Pe.route.id===ce.route.id)&&ce.route.id in p&&((Se=f[ce.route.id])!=null&&Se.shouldRevalidate)||re.hasClientLoader?U=!0:Z.add(ce.route.id))}),Z.size===0)return[];let ue=qA(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return U&&Z.size>0&&ue.searchParams.set("_routes",e.filter(ce=>Z.has(ce.route.id)).map(ce=>ce.route.id).join(",")),[ue.pathname+ue.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,f]),k=P.useMemo(()=>QA(w,u),[w,u]),G=ZA(w);return P.createElement(P.Fragment,null,A.map(Z=>P.createElement("link",{key:Z,rel:"prefetch",as:"fetch",href:Z,...n})),k.map(Z=>P.createElement("link",{key:Z,rel:"modulepreload",href:Z,...n})),G.map(({key:Z,link:U})=>P.createElement("link",{key:Z,nonce:n.nonce,...U})))}function tR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nR&&(window.__reactRouterVersion="7.12.0")}catch{}function iR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=PS({window:s,v5Compat:!0}));let u=o.current,[f,m]=P.useState({action:u.action,location:u.location}),p=P.useCallback(g=>{n===!1?m(g):P.startTransition(()=>m(g))},[n]);return P.useLayoutEffect(()=>u.listen(p),[u,p]),P.createElement(DA,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var hT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fT=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:A,...k},G){let{basename:Z,unstable_useTransitions:U}=P.useContext(ji),ue=typeof g=="string"&&hT.test(g),ce=eT(g,Z);g=ce.to;let re=gA(g,{relative:o}),[Se,Pe,Ie]=JA(s,k),D=oR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:A,unstable_useTransitions:U});function I(M){e&&e(M),M.defaultPrevented||D(M)}let C=P.createElement("a",{...k,...Ie,href:ce.absoluteURL||re,onClick:ce.isExternal||u?e:I,ref:tR(G,Pe),target:p,"data-discover":!ue&&n==="render"?"true":void 0});return Se&&!ue?P.createElement(P.Fragment,null,C,P.createElement(WA,{page:re})):C});fT.displayName="Link";var rR=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=bu(f,{relative:g.relative}),A=aa(),k=P.useContext(Jh),{navigator:G,basename:Z}=P.useContext(ji),U=k!=null&&dR(w)&&m===!0,ue=G.encodeLocation?G.encodeLocation(w).pathname:w.pathname,ce=A.pathname,re=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ce=ce.toLowerCase(),re=re?re.toLowerCase():null,ue=ue.toLowerCase()),re&&Z&&(re=Zr(re,Z)||re);const Se=ue!=="/"&&ue.endsWith("/")?ue.length-1:ue.length;let Pe=ce===ue||!o&&ce.startsWith(ue)&&ce.charAt(Se)==="/",Ie=re!=null&&(re===ue||!o&&re.startsWith(ue)&&re.charAt(ue.length)==="/"),D={isActive:Pe,isPending:Ie,isTransitioning:U},I=Pe?e:void 0,C;typeof s=="function"?C=s(D):C=[s,Pe?"active":null,Ie?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(D):u;return P.createElement(fT,{...g,"aria-current":I,className:C,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(D):p)});rR.displayName="NavLink";var sR=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=gh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:A,...k},G)=>{let{unstable_useTransitions:Z}=P.useContext(ji),U=hR(),ue=fR(m,{relative:g}),ce=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&hT.test(m),Se=Pe=>{if(p&&p(Pe),Pe.defaultPrevented)return;Pe.preventDefault();let Ie=Pe.nativeEvent.submitter,D=(Ie==null?void 0:Ie.getAttribute("formmethod"))||f,I=()=>U(Ie||Pe.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:A});Z&&n!==!1?P.startTransition(()=>I()):I()};return P.createElement("form",{ref:G,method:ce,action:ue,onSubmit:s?p:Se,...k,"data-discover":!re&&r==="render"?"true":void 0})});sR.displayName="Form";function aR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dT(r){let e=P.useContext(Ko);return jt(e,aR(r)),e}function oR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Rp(),E=aa(),w=bu(r,{relative:u});return P.useCallback(A=>{if(LA(A,e)){A.preventDefault();let k=n!==void 0?n:du(E)===du(w),G=()=>g(r,{replace:k,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?P.startTransition(()=>G()):G()}},[E,g,w,n,s,e,r,o,u,f,m,p])}function lR(r){Ei(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(Km(r)),n=P.useRef(!1),s=aa(),o=P.useMemo(()=>UA(s.search,n.current?null:e.current),[s.search]),u=Rp(),f=P.useCallback((m,p)=>{const g=Km(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var uR=0,cR=()=>`__${String(++uR)}__`;function hR(){let{router:r}=dT("useSubmit"),{basename:e}=P.useContext(ji),n=IA(),s=r.fetch,o=r.navigate;return P.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:w}=BA(u,e);if(f.navigate===!1){let A=f.fetcherKey||cR();await s(A,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:w,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:w,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function fR(r,{relative:e}={}){let{basename:n}=P.useContext(ji),s=P.useContext(as);jt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...bu(r||".",{relative:e})},f=aa();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Jr([n,u.pathname])),du(u)}function dR(r,{relative:e}={}){let n=P.useContext(nT);jt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=dT("useViewTransitionState"),o=bu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Zr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Zr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ch(o.pathname,f)!=null||Ch(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mT=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=P.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>P.createElement("svg",{ref:p,...pR,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:mT("lucide",o),...m},[...f.map(([g,E])=>P.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=(r,e)=>{const n=P.forwardRef(({className:s,...o},u)=>P.createElement(gR,{ref:u,iconNode:e,className:mT(`lucide-${mR(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=Cn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Cn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Cn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=Cn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=Cn("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=Cn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=Cn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Cn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Cn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Cn("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Cn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=Cn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Cn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Cn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=Cn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Cn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Cn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),AR=()=>{};var p0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},RR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},vT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,k=g&63;p||(k=64,f||(A=64)),s.push(n[E],n[w],n[A],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(yT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):RR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new IR;const A=u<<2|m>>4;if(s.push(A),g!==64){const k=m<<4&240|g>>2;if(s.push(k),w!==64){const G=g<<6&192|w;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class IR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CR=function(r){const e=yT(r);return vT.encodeByteArray(e,!0)},xh=function(r){return CR(r).replace(/\./g,"")},_T=function(r){try{return vT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=()=>xR().__FIREBASE_DEFAULTS__,DR=()=>{if(typeof process>"u"||typeof p0>"u")return;const r=p0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},MR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_T(r[1]);return e&&JSON.parse(e)},Zh=()=>{try{return AR()||NR()||DR()||MR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ET=r=>{var e,n;return(n=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},OR=r=>{const e=ET(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},TT=()=>{var r;return(r=Zh())===null||r===void 0?void 0:r.config},wT=r=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[xh(JSON.stringify(n)),xh(JSON.stringify(f)),""].join(".")}const su={};function PR(){const r={prod:[],emulator:[]};for(const e of Object.keys(su))su[e]?r.emulator.push(e):r.prod.push(e);return r}function LR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let g0=!1;function ST(r,e){if(typeof window>"u"||typeof document>"u"||!$o(window.location.host)||su[r]===e||su[r]||g0)return;su[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=PR().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,k){A.setAttribute("width","24"),A.setAttribute("id",k),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{g0=!0,f()},A}function E(A,k){A.setAttribute("id",k),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=LR(s),k=n("text"),G=document.getElementById(k)||document.createElement("span"),Z=n("learnmore"),U=document.getElementById(Z)||document.createElement("a"),ue=n("preprendIcon"),ce=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;m(re),E(U,Z);const Se=g();p(ce,ue),re.append(ce,G,U,Se),document.body.appendChild(re)}u?(G.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function zR(){var r;const e=(r=Zh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function qR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HR(){const r=Un();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function FR(){return!zR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GR(){try{return typeof indexedDB=="object"}catch{return!1}}function QR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="FirebaseError";class os extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=YR,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?KR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new os(o,m,s)}}function KR(r,e){return r.replace($R,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const $R=/\{\$([^}]+)}/g;function XR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function es(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(y0(u)&&y0(f)){if(!es(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function y0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function JR(r,e){const n=new WR(r,e);return n.subscribe.bind(n)}class WR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ZR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Cm),o.error===void 0&&(o.error=Cm),o.complete===void 0&&(o.complete=Cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Cm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(r){return r&&r._delegate?r._delegate:r}class La{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new VR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n2(e))try{this.getOrInitializeService({instanceIdentifier:Oa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oa){return this.instances.has(e)}getOptions(e=Oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:t2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Oa){return this.component?this.component.multipleInstances?e:Oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t2(r){return r===Oa?void 0:r}function n2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new e2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(tt||(tt={}));const r2={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},s2=tt.INFO,a2={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},o2=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=a2[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dp{constructor(e){this.name=e,this._logLevel=s2,this._logHandler=o2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const l2=(r,e)=>e.some(n=>r instanceof n);let v0,_0;function u2(){return v0||(v0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c2(){return _0||(_0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AT=new WeakMap,Jm=new WeakMap,RT=new WeakMap,xm=new WeakMap,Mp=new WeakMap;function h2(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Qs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&AT.set(n,r)}).catch(()=>{}),Mp.set(e,r),e}function f2(r){if(Jm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Jm.set(r,e)}let Wm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Jm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||RT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function d2(r){Wm=r(Wm)}function m2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Nm(this),e,...n);return RT.set(s,e.sort?e.sort():[e]),Qs(s)}:c2().includes(r)?function(...e){return r.apply(Nm(this),e),Qs(AT.get(this))}:function(...e){return Qs(r.apply(Nm(this),e))}}function p2(r){return typeof r=="function"?m2(r):(r instanceof IDBTransaction&&f2(r),l2(r,u2())?new Proxy(r,Wm):r)}function Qs(r){if(r instanceof IDBRequest)return h2(r);if(xm.has(r))return xm.get(r);const e=p2(r);return e!==r&&(xm.set(r,e),Mp.set(e,r)),e}const Nm=r=>Mp.get(r);function g2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Qs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Qs(f.result),p.oldVersion,p.newVersion,Qs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const y2=["get","getKey","getAll","getAllKeys","count"],v2=["put","add","delete","clear"],Dm=new Map;function E0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dm.get(e))return Dm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=v2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||y2.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Dm.set(e,u),u}d2(r=>({...r,get:(e,n,s)=>E0(e,n)||r.get(e,n,s),has:(e,n)=>!!E0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(E2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function E2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zm="@firebase/app",T0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new Dp("@firebase/app"),T2="@firebase/app-compat",w2="@firebase/analytics-compat",b2="@firebase/analytics",S2="@firebase/app-check-compat",A2="@firebase/app-check",R2="@firebase/auth",I2="@firebase/auth-compat",C2="@firebase/database",x2="@firebase/data-connect",N2="@firebase/database-compat",D2="@firebase/functions",M2="@firebase/functions-compat",O2="@firebase/installations",V2="@firebase/installations-compat",k2="@firebase/messaging",P2="@firebase/messaging-compat",L2="@firebase/performance",U2="@firebase/performance-compat",z2="@firebase/remote-config",j2="@firebase/remote-config-compat",B2="@firebase/storage",q2="@firebase/storage-compat",H2="@firebase/firestore",F2="@firebase/ai",G2="@firebase/firestore-compat",Q2="firebase",Y2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="[DEFAULT]",K2={[Zm]:"fire-core",[T2]:"fire-core-compat",[b2]:"fire-analytics",[w2]:"fire-analytics-compat",[A2]:"fire-app-check",[S2]:"fire-app-check-compat",[R2]:"fire-auth",[I2]:"fire-auth-compat",[C2]:"fire-rtdb",[x2]:"fire-data-connect",[N2]:"fire-rtdb-compat",[D2]:"fire-fn",[M2]:"fire-fn-compat",[O2]:"fire-iid",[V2]:"fire-iid-compat",[k2]:"fire-fcm",[P2]:"fire-fcm-compat",[L2]:"fire-perf",[U2]:"fire-perf-compat",[z2]:"fire-rc",[j2]:"fire-rc-compat",[B2]:"fire-gcs",[q2]:"fire-gcs-compat",[H2]:"fire-fst",[G2]:"fire-fst-compat",[F2]:"fire-vertex","fire-js":"fire-js",[Q2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,$2=new Map,tp=new Map;function w0(r,e){try{r.container.addComponent(e)}catch(n){ts.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function zo(r){const e=r.name;if(tp.has(e))return ts.debug(`There were multiple attempts to register component ${e}.`),!1;tp.set(e,r);for(const n of Nh.values())w0(n,r);for(const n of $2.values())w0(n,r);return!0}function Op(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ui(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new Su("app","Firebase",X2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new La("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=Y2;function IT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ep,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Ys.create("bad-app-name",{appName:String(o)});if(n||(n=TT()),!n)throw Ys.create("no-options");const u=Nh.get(o);if(u){if(es(n,u.options)&&es(s,u.config))return u;throw Ys.create("duplicate-app",{appName:o})}const f=new i2(o);for(const p of tp.values())f.addComponent(p);const m=new J2(n,s,f);return Nh.set(o,m),m}function CT(r=ep){const e=Nh.get(r);if(!e&&r===ep&&TT())return IT();if(!e)throw Ys.create("no-app",{appName:r});return e}function Ks(r,e,n){var s;let o=(s=K2[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ts.warn(m.join(" "));return}zo(new La(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="firebase-heartbeat-database",Z2=1,mu="firebase-heartbeat-store";let Mm=null;function xT(){return Mm||(Mm=g2(W2,Z2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ys.create("idb-open",{originalErrorMessage:r.message})})),Mm}async function eI(r){try{const n=(await xT()).transaction(mu),s=await n.objectStore(mu).get(NT(r));return await n.done,s}catch(e){if(e instanceof os)ts.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ts.warn(n.message)}}}async function b0(r,e){try{const s=(await xT()).transaction(mu,"readwrite");await s.objectStore(mu).put(e,NT(r)),await s.done}catch(n){if(n instanceof os)ts.warn(n.message);else{const s=Ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ts.warn(s.message)}}}function NT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=1024,nI=30;class iI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=S0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>nI){const f=aI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ts.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=S0(),{heartbeatsToSend:s,unsentEntries:o}=rI(this._heartbeatsCache.heartbeats),u=xh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ts.warn(n),""}}}function S0(){return new Date().toISOString().substring(0,10)}function rI(r,e=tI){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),A0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),A0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class sI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GR()?QR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return b0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return b0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function A0(r){return xh(JSON.stringify({version:2,heartbeats:r})).length}function aI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(r){zo(new La("platform-logger",e=>new _2(e),"PRIVATE")),zo(new La("heartbeat",e=>new iI(e),"PRIVATE")),Ks(Zm,T0,r),Ks(Zm,T0,"esm2017"),Ks("fire-js","")}oI("");function Vp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function DT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lI=DT,MT=new Su("auth","Firebase",DT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Dp("@firebase/auth");function uI(r,...e){Dh.logLevel<=tt.WARN&&Dh.warn(`Auth (${Xo}): ${r}`,...e)}function vh(r,...e){Dh.logLevel<=tt.ERROR&&Dh.error(`Auth (${Xo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(r,...e){throw Pp(r,...e)}function tr(r,...e){return Pp(r,...e)}function kp(r,e,n){const s=Object.assign(Object.assign({},lI()),{[e]:n});return new Su("auth","Firebase",s).create(e,{appName:r.name})}function $s(r){return kp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OT(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&wr(r,"argument-error"),kp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return MT.create(r,...e)}function Le(r,e,...n){if(!r)throw Pp(e,...n)}function $r(r){const e="INTERNAL ASSERTION FAILED: "+r;throw vh(e),new Error(e)}function ns(r,e){r||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function cI(){return R0()==="http:"||R0()==="https:"}function R0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cI()||BR()||"connection"in navigator)?navigator.onLine:!0}function fI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,ns(n>e,"Short delay should be less than long delay!"),this.isMobile=UR()||qR()}get(){return hI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(r,e){ns(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pI=new Ru(3e4,6e4);function Up(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Jo(r,e,n,s,o={}){return kT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Au(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return jR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&$o(r.emulatorConfig.host)&&(g.credentials="include"),VT.fetch()(await PT(r,r.config.apiHost,n,m),g)})}async function kT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},dI),e);try{const o=new yI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ch(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ch(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw ch(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kp(r,E,g);wr(r,E)}}catch(o){if(o instanceof os)throw o;wr(r,"network-request-failed",{message:String(o)})}}async function gI(r,e,n,s,o={}){const u=await Jo(r,e,n,s,o);return"mfaPendingCredential"in u&&wr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function PT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Lp(r.config,o):`${r.config.apiScheme}://${o}`;return mI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class yI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(tr(this.auth,"network-request-failed")),pI.get())})}}function ch(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=tr(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(r,e){return Jo(r,"POST","/v1/accounts:delete",e)}async function Mh(r,e){return Jo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _I(r,e=!1){const n=Yt(r),s=await n.getIdToken(e),o=zp(s);Le(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:au(Om(o.auth_time)),issuedAtTime:au(Om(o.iat)),expirationTime:au(Om(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Om(r){return Number(r)*1e3}function zp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=_T(n);return o?JSON.parse(o):(vh("Failed to decode base64 JWT payload"),null)}catch(o){return vh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function I0(r){const e=zp(r);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof os&&EI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function EI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await pu(r,Mh(n,{idToken:s}));Le(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?LT(u.providerUserInfo):[],m=bI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new ip(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function wI(r){const e=Yt(r);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function LT(r){return r.map(e=>{var{providerId:n}=e,s=Vp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(r,e){const n=await kT(r,{},async()=>{const s=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await PT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&$o(r.emulatorConfig.host)&&(p.credentials="include"),VT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AI(r,e){return Jo(r,"POST","/v2/accounts:revokeToken",Up(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=I0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await SI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ko;return s&&(Le(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Le(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Le(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(r,e){Le(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class er{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Vp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new ip(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await pu(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _I(this,e)}reload(){return wI(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ui(this.auth.app))return Promise.reject($s(this.auth));const e=await this.getIdToken();return await pu(this,vI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,G=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ue=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ce=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:Se,isAnonymous:Pe,providerData:Ie,stsTokenManager:D}=n;Le(re&&D,e,"internal-error");const I=ko.fromJSON(this.name,D);Le(typeof re=="string",e,"internal-error"),js(w,e.name),js(A,e.name),Le(typeof Se=="boolean",e,"internal-error"),Le(typeof Pe=="boolean",e,"internal-error"),js(k,e.name),js(G,e.name),js(Z,e.name),js(U,e.name),js(ue,e.name),js(ce,e.name);const C=new er({uid:re,auth:e,email:A,emailVerified:Se,displayName:w,isAnonymous:Pe,photoURL:G,phoneNumber:k,tenantId:Z,stsTokenManager:I,createdAt:ue,lastLoginAt:ce});return Ie&&Array.isArray(Ie)&&(C.providerData=Ie.map(M=>Object.assign({},M))),U&&(C._redirectEventId=U),C}static async _fromIdTokenResponse(e,n,s=!1){const o=new ko;o.updateFromServerResponse(n);const u=new er({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Oh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Le(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?LT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ko;m.updateFromIdToken(s);const p=new er({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ip(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map;function Xr(r){ns(r instanceof Function,"Expected a class definition");let e=C0.get(r);return e?(ns(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,C0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UT.type="NONE";const rp=UT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(r,e,n){return`firebase:${r}:${e}:${n}`}class Po{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,u),this.fullPersistenceKey=_h("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Po(Xr(rp),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Xr(rp);const f=_h(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const A=await Mh(e,{idToken:E}).catch(()=>{});if(!A)break;w=await er._fromGetAccountInfoResponse(e,A,E)}else w=er._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Po(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Po(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FT(e))return"Blackberry";if(GT(e))return"Webos";if(jT(e))return"Safari";if((e.includes("chrome/")||BT(e))&&!e.includes("edge/"))return"Chrome";if(HT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function zT(r=Un()){return/firefox\//i.test(r)}function jT(r=Un()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BT(r=Un()){return/crios\//i.test(r)}function qT(r=Un()){return/iemobile/i.test(r)}function HT(r=Un()){return/android/i.test(r)}function FT(r=Un()){return/blackberry/i.test(r)}function GT(r=Un()){return/webos/i.test(r)}function jp(r=Un()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function RI(r=Un()){var e;return jp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function II(){return HR()&&document.documentMode===10}function QT(r=Un()){return jp(r)||HT(r)||GT(r)||FT(r)||/windows phone/i.test(r)||qT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(r,e=[]){let n;switch(r){case"Browser":n=x0(Un());break;case"Worker":n=`${x0(Un())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(r,e={}){return Jo(r,"GET","/v2/passwordPolicy",Up(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=6;class DI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:NI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N0(this),this.idTokenSubscription=new N0(this),this.beforeStateQueue=new CI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),s=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ui(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ui(this.app))return Promise.reject($s(this));const n=e?Yt(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ui(this.app)?Promise.reject($s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ui(this.app)?Promise.reject($s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xI(this),n=new DI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await AI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Iu(r){return Yt(r)}class N0{constructor(e){this.auth=e,this.observer=null,this.addObserver=JR(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OI(r){Bp=r}function VI(r){return Bp.loadJS(r)}function kI(){return Bp.gapiScript}function PI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(r,e){const n=Op(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(es(u,e??{}))return o;wr(o,"already-initialized")}return n.initialize({options:e})}function UI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Xr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function zI(r,e,n){const s=Iu(r);Le(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=KT(e),{host:f,port:m}=jI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Le(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Le(es(g,s.config.emulator)&&es(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,$o(f)?(bT(`${u}//${f}${p}`),ST("Auth",!0)):BI()}function KT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function jI(r){const e=KT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:D0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:D0(f)}}}function D0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function BI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(r,e){return gI(r,"POST","/v1/accounts:signInWithIdp",Up(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="http://localhost";class Ua extends $T{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Vp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ua(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:qI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends ef{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Cu{constructor(){super("facebook.com")}static credential(e){return Ua._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ua._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Cu{constructor(){super("github.com")}static credential(e){return Ua._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Cu{constructor(){super("twitter.com")}static credential(e,n){return Ua._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Hs.credential(n,s)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await er._fromIdTokenResponse(e,s,o),f=M0(s);return new jo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=M0(s);return new jo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function M0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends os{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Vh(e,n,s,o)}}function XT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(r,u,e,s):u})}async function HI(r,e,n=!1){const s=await pu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return jo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(r,e,n=!1){const{auth:s}=r;if(Ui(s.app))return Promise.reject($s(s));const o="reauthenticate";try{const u=await pu(r,XT(s,o,e,r),n);Le(u.idToken,s,"internal-error");const f=zp(u.idToken);Le(f,s,"internal-error");const{sub:m}=f;return Le(r.uid===m,s,"user-mismatch"),jo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&wr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(r,e,n=!1){if(Ui(r.app))return Promise.reject($s(r));const s="signIn",o=await XT(r,s,e),u=await jo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(r,e){return Yt(r).setPersistence(e)}function QI(r,e,n,s){return Yt(r).onIdTokenChanged(e,n,s)}function YI(r,e,n){return Yt(r).beforeAuthStateChanged(e,n)}function JT(r,e,n,s){return Yt(r).onAuthStateChanged(e,n,s)}function KI(r){return Yt(r).signOut()}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=1e3,XI=10;class ZT extends WT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);II()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,XI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},$I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZT.type="LOCAL";const tf=ZT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends WT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ew.type="SESSION";const tw=ew;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new nf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await JI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=qp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function ZI(r){vr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function eC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function nC(){return nw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="firebaseLocalStorageDb",iC=1,Ph="firebaseLocalStorage",rw="fbase_key";class xu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(r,e){return r.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function rC(){const r=indexedDB.deleteDatabase(iw);return new xu(r).toPromise()}function sp(){const r=indexedDB.open(iw,iC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ph,{keyPath:rw})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ph)?e(s):(s.close(),await rC(),e(await sp()))})})}async function O0(r,e,n){const s=rf(r,!0).put({[rw]:e,value:n});return new xu(s).toPromise()}async function sC(r,e){const n=rf(r,!1).get(e),s=await new xu(n).toPromise();return s===void 0?null:s.value}function V0(r,e){const n=rf(r,!0).delete(e);return new xu(n).toPromise()}const aC=800,oC=3;class sw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>oC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(nC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await eC(),!this.activeServiceWorker)return;this.sender=new WI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sp();return await O0(e,kh,"1"),await V0(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>O0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>sC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>V0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=rf(o,!1).getAll();return new xu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sw.type="LOCAL";const aw=sw;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(r,e){return e?Xr(e):(Le(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp extends $T{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lC(r){return GI(r.auth,new Fp(r),r.bypassAuthState)}function uC(r){const{auth:e,user:n}=r;return Le(n,e,"internal-error"),FI(n,new Fp(r),r.bypassAuthState)}async function cC(r){const{auth:e,user:n}=r;return Le(n,e,"internal-error"),HI(n,new Fp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lC;case"linkViaPopup":case"linkViaRedirect":return cC;case"reauthViaPopup":case"reauthViaRedirect":return uC;default:wr(this.auth,"internal-error")}}resolve(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new Ru(2e3,1e4);async function fC(r,e,n){if(Ui(r.app))return Promise.reject(tr(r,"operation-not-supported-in-this-environment"));const s=Iu(r);OT(r,e,ef);const o=Hp(s,n);return new Va(s,"signInViaPopup",e,o).executeNotNull()}class Va extends ow{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const e=qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hC.get())};e()}}Va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="pendingRedirect",Eh=new Map;class mC extends ow{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const s=await pC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pC(r,e){const n=uw(e),s=lw(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function gC(r,e){return lw(r)._set(uw(e),"true")}function yC(r,e){Eh.set(r._key(),e)}function lw(r){return Xr(r._redirectPersistence)}function uw(r){return _h(dC,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(r,e,n){return vC(r,e,n)}async function vC(r,e,n){if(Ui(r.app))return Promise.reject($s(r));const s=Iu(r);OT(r,e,ef),await s._initializationPromise;const o=Hp(s,n);return await gC(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function _C(r,e,n=!1){if(Ui(r.app))return Promise.reject($s(r));const s=Iu(r),o=Hp(s,e),f=await new mC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=600*1e3;class TC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!cw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(tr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EC&&this.cachedEventUids.clear(),this.cachedEventUids.has(P0(e))}saveEventToCache(e){this.cachedEventUids.add(P0(e)),this.lastProcessedEventTime=Date.now()}}function P0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function cw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(r,e={}){return Jo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AC=/^https?/;async function RC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await bC(r);for(const n of e)try{if(IC(n))return}catch{}wr(r,"unauthorized-domain")}function IC(r){const e=np(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!AC.test(n))return!1;if(SC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new Ru(3e4,6e4);function L0(){const r=vr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function xC(r){return new Promise((e,n)=>{var s,o,u;function f(){L0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L0(),n(tr(r,"network-request-failed"))},timeout:CC.get()})}if(!((o=(s=vr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=vr().gapi)===null||u===void 0)&&u.load)f();else{const m=PI("iframefcb");return vr()[m]=()=>{gapi.load?f():n(tr(r,"network-request-failed"))},VI(`${kI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Th=null,e})}let Th=null;function NC(r){return Th=Th||xC(r),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=new Ru(5e3,15e3),MC="__/auth/iframe",OC="emulator/auth/iframe",VC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PC(r){const e=r.config;Le(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Lp(e,OC):`https://${r.config.authDomain}/${MC}`,s={apiKey:e.apiKey,appName:r.name,v:Xo},o=kC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Au(s).slice(1)}`}async function LC(r){const e=await NC(r),n=vr().gapi;return Le(n,r,"internal-error"),e.open({where:document.body,url:PC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=tr(r,"network-request-failed"),m=vr().setTimeout(()=>{u(f)},DC.get());function p(){vr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zC=500,jC=600,BC="_blank",qC="http://localhost";class U0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HC(r,e,n,s=zC,o=jC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},UC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Un().toLowerCase();n&&(m=BT(g)?BC:n),zT(g)&&(e=e||qC,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[k,G])=>`${A}${k}=${G},`,"");if(RI(g)&&m!=="_self")return FC(e||"",m),new U0(null);const w=window.open(e||"",m,E);Le(w,r,"popup-blocked");try{w.focus()}catch{}return new U0(w)}function FC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="__/auth/handler",QC="emulator/auth/handler",YC=encodeURIComponent("fac");async function z0(r,e,n,s,o,u){Le(r.config.authDomain,r,"auth-domain-config-required"),Le(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Xo,eventId:o};if(e instanceof ef){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",XR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Cu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${YC}=${encodeURIComponent(p)}`:"";return`${KC(r)}?${Au(m).slice(1)}${g}`}function KC({config:r}){return r.emulator?Lp(r,QC):`https://${r.authDomain}/${GC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class $C{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tw,this._completeRedirectFn=_C,this._overrideRedirectResult=yC}async _openPopup(e,n,s,o){var u;ns((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await z0(e,n,s,np(),o);return HC(e,f,qp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await z0(e,n,s,np(),o);return ZI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ns(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await LC(e),s=new TC(e);return n.register("authEvent",o=>(Le(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vm,{type:Vm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Vm];f!==void 0&&n(!!f),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QT()||jT()||jp()}}const XC=$C;var j0="@firebase/auth",B0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZC(r){zo(new La("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Le(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YT(r)},g=new MI(s,o,u,p);return UI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),zo(new La("auth-internal",e=>{const n=Iu(e.getProvider("auth").getImmediate());return(s=>new JC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(j0,B0,WC(r)),Ks(j0,B0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=300,tx=wT("authIdTokenMaxAge")||ex;let q0=null;const nx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>tx)return;const o=n==null?void 0:n.token;q0!==o&&(q0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ix(r=CT()){const e=Op(r,"auth");if(e.isInitialized())return e.getImmediate();const n=LI(r,{popupRedirectResolver:XC,persistence:[aw,tf,tw]}),s=wT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=nx(u.toString());YI(n,f,()=>f(n.currentUser)),QI(n,m=>f(m))}}const o=ET("auth");return o&&zI(n,`http://${o}`),n}function rx(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}OI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=tr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",rx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZC("Browser");var H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,hw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function C(){}C.prototype=I.prototype,D.D=I.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(M,L,z){for(var N=Array(arguments.length-2),St=2;St<arguments.length;St++)N[St-2]=arguments[St];return I.prototype[L].apply(M,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,I,C){C||(C=0);var M=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)M[L]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(L=0;16>L;++L)M[L]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=D.g[0],C=D.g[1],L=D.g[2];var z=D.g[3],N=I+(z^C&(L^z))+M[0]+3614090360&4294967295;I=C+(N<<7&4294967295|N>>>25),N=z+(L^I&(C^L))+M[1]+3905402710&4294967295,z=I+(N<<12&4294967295|N>>>20),N=L+(C^z&(I^C))+M[2]+606105819&4294967295,L=z+(N<<17&4294967295|N>>>15),N=C+(I^L&(z^I))+M[3]+3250441966&4294967295,C=L+(N<<22&4294967295|N>>>10),N=I+(z^C&(L^z))+M[4]+4118548399&4294967295,I=C+(N<<7&4294967295|N>>>25),N=z+(L^I&(C^L))+M[5]+1200080426&4294967295,z=I+(N<<12&4294967295|N>>>20),N=L+(C^z&(I^C))+M[6]+2821735955&4294967295,L=z+(N<<17&4294967295|N>>>15),N=C+(I^L&(z^I))+M[7]+4249261313&4294967295,C=L+(N<<22&4294967295|N>>>10),N=I+(z^C&(L^z))+M[8]+1770035416&4294967295,I=C+(N<<7&4294967295|N>>>25),N=z+(L^I&(C^L))+M[9]+2336552879&4294967295,z=I+(N<<12&4294967295|N>>>20),N=L+(C^z&(I^C))+M[10]+4294925233&4294967295,L=z+(N<<17&4294967295|N>>>15),N=C+(I^L&(z^I))+M[11]+2304563134&4294967295,C=L+(N<<22&4294967295|N>>>10),N=I+(z^C&(L^z))+M[12]+1804603682&4294967295,I=C+(N<<7&4294967295|N>>>25),N=z+(L^I&(C^L))+M[13]+4254626195&4294967295,z=I+(N<<12&4294967295|N>>>20),N=L+(C^z&(I^C))+M[14]+2792965006&4294967295,L=z+(N<<17&4294967295|N>>>15),N=C+(I^L&(z^I))+M[15]+1236535329&4294967295,C=L+(N<<22&4294967295|N>>>10),N=I+(L^z&(C^L))+M[1]+4129170786&4294967295,I=C+(N<<5&4294967295|N>>>27),N=z+(C^L&(I^C))+M[6]+3225465664&4294967295,z=I+(N<<9&4294967295|N>>>23),N=L+(I^C&(z^I))+M[11]+643717713&4294967295,L=z+(N<<14&4294967295|N>>>18),N=C+(z^I&(L^z))+M[0]+3921069994&4294967295,C=L+(N<<20&4294967295|N>>>12),N=I+(L^z&(C^L))+M[5]+3593408605&4294967295,I=C+(N<<5&4294967295|N>>>27),N=z+(C^L&(I^C))+M[10]+38016083&4294967295,z=I+(N<<9&4294967295|N>>>23),N=L+(I^C&(z^I))+M[15]+3634488961&4294967295,L=z+(N<<14&4294967295|N>>>18),N=C+(z^I&(L^z))+M[4]+3889429448&4294967295,C=L+(N<<20&4294967295|N>>>12),N=I+(L^z&(C^L))+M[9]+568446438&4294967295,I=C+(N<<5&4294967295|N>>>27),N=z+(C^L&(I^C))+M[14]+3275163606&4294967295,z=I+(N<<9&4294967295|N>>>23),N=L+(I^C&(z^I))+M[3]+4107603335&4294967295,L=z+(N<<14&4294967295|N>>>18),N=C+(z^I&(L^z))+M[8]+1163531501&4294967295,C=L+(N<<20&4294967295|N>>>12),N=I+(L^z&(C^L))+M[13]+2850285829&4294967295,I=C+(N<<5&4294967295|N>>>27),N=z+(C^L&(I^C))+M[2]+4243563512&4294967295,z=I+(N<<9&4294967295|N>>>23),N=L+(I^C&(z^I))+M[7]+1735328473&4294967295,L=z+(N<<14&4294967295|N>>>18),N=C+(z^I&(L^z))+M[12]+2368359562&4294967295,C=L+(N<<20&4294967295|N>>>12),N=I+(C^L^z)+M[5]+4294588738&4294967295,I=C+(N<<4&4294967295|N>>>28),N=z+(I^C^L)+M[8]+2272392833&4294967295,z=I+(N<<11&4294967295|N>>>21),N=L+(z^I^C)+M[11]+1839030562&4294967295,L=z+(N<<16&4294967295|N>>>16),N=C+(L^z^I)+M[14]+4259657740&4294967295,C=L+(N<<23&4294967295|N>>>9),N=I+(C^L^z)+M[1]+2763975236&4294967295,I=C+(N<<4&4294967295|N>>>28),N=z+(I^C^L)+M[4]+1272893353&4294967295,z=I+(N<<11&4294967295|N>>>21),N=L+(z^I^C)+M[7]+4139469664&4294967295,L=z+(N<<16&4294967295|N>>>16),N=C+(L^z^I)+M[10]+3200236656&4294967295,C=L+(N<<23&4294967295|N>>>9),N=I+(C^L^z)+M[13]+681279174&4294967295,I=C+(N<<4&4294967295|N>>>28),N=z+(I^C^L)+M[0]+3936430074&4294967295,z=I+(N<<11&4294967295|N>>>21),N=L+(z^I^C)+M[3]+3572445317&4294967295,L=z+(N<<16&4294967295|N>>>16),N=C+(L^z^I)+M[6]+76029189&4294967295,C=L+(N<<23&4294967295|N>>>9),N=I+(C^L^z)+M[9]+3654602809&4294967295,I=C+(N<<4&4294967295|N>>>28),N=z+(I^C^L)+M[12]+3873151461&4294967295,z=I+(N<<11&4294967295|N>>>21),N=L+(z^I^C)+M[15]+530742520&4294967295,L=z+(N<<16&4294967295|N>>>16),N=C+(L^z^I)+M[2]+3299628645&4294967295,C=L+(N<<23&4294967295|N>>>9),N=I+(L^(C|~z))+M[0]+4096336452&4294967295,I=C+(N<<6&4294967295|N>>>26),N=z+(C^(I|~L))+M[7]+1126891415&4294967295,z=I+(N<<10&4294967295|N>>>22),N=L+(I^(z|~C))+M[14]+2878612391&4294967295,L=z+(N<<15&4294967295|N>>>17),N=C+(z^(L|~I))+M[5]+4237533241&4294967295,C=L+(N<<21&4294967295|N>>>11),N=I+(L^(C|~z))+M[12]+1700485571&4294967295,I=C+(N<<6&4294967295|N>>>26),N=z+(C^(I|~L))+M[3]+2399980690&4294967295,z=I+(N<<10&4294967295|N>>>22),N=L+(I^(z|~C))+M[10]+4293915773&4294967295,L=z+(N<<15&4294967295|N>>>17),N=C+(z^(L|~I))+M[1]+2240044497&4294967295,C=L+(N<<21&4294967295|N>>>11),N=I+(L^(C|~z))+M[8]+1873313359&4294967295,I=C+(N<<6&4294967295|N>>>26),N=z+(C^(I|~L))+M[15]+4264355552&4294967295,z=I+(N<<10&4294967295|N>>>22),N=L+(I^(z|~C))+M[6]+2734768916&4294967295,L=z+(N<<15&4294967295|N>>>17),N=C+(z^(L|~I))+M[13]+1309151649&4294967295,C=L+(N<<21&4294967295|N>>>11),N=I+(L^(C|~z))+M[4]+4149444226&4294967295,I=C+(N<<6&4294967295|N>>>26),N=z+(C^(I|~L))+M[11]+3174756917&4294967295,z=I+(N<<10&4294967295|N>>>22),N=L+(I^(z|~C))+M[2]+718787259&4294967295,L=z+(N<<15&4294967295|N>>>17),N=C+(z^(L|~I))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+z&4294967295}s.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var C=I-this.blockSize,M=this.B,L=this.h,z=0;z<I;){if(L==0)for(;z<=C;)o(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<I;)if(M[L++]=D.charCodeAt(z++),L==this.blockSize){o(this,M),L=0;break}}else for(;z<I;)if(M[L++]=D[z++],L==this.blockSize){o(this,M),L=0;break}}this.h=L,this.o+=I},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var C=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=C&255,C/=256;for(this.u(D),D=Array(16),I=C=0;4>I;++I)for(var M=0;32>M;M+=8)D[C++]=this.g[I]>>>M&255;return D};function u(D,I){var C=m;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=I(D)}function f(D,I){this.h=I;for(var C=[],M=!0,L=D.length-1;0<=L;L--){var z=D[L]|0;M&&z==I||(C[L]=z,M=!1)}this.g=C}var m={};function p(D){return-128<=D&&128>D?u(D,function(I){return new f([I|0],0>I?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return U(g(-D));for(var I=[],C=1,M=0;D>=C;M++)I[M]=D/C|0,C*=4294967296;return new f(I,0)}function E(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return U(E(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(I,8)),M=w,L=0;L<D.length;L+=8){var z=Math.min(8,D.length-L),N=parseInt(D.substring(L,L+z),I);8>z?(z=g(Math.pow(I,z)),M=M.j(z).add(g(N))):(M=M.j(C),M=M.add(g(N)))}return M}var w=p(0),A=p(1),k=p(16777216);r=f.prototype,r.m=function(){if(Z(this))return-U(this).m();for(var D=0,I=1,C=0;C<this.g.length;C++){var M=this.i(C);D+=(0<=M?M:4294967296+M)*I,I*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(G(this))return"0";if(Z(this))return"-"+U(this).toString(D);for(var I=g(Math.pow(D,6)),C=this,M="";;){var L=Se(C,I).g;C=ue(C,L.j(I));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=L,G(C))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function G(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function Z(D){return D.h==-1}r.l=function(D){return D=ue(this,D),Z(D)?-1:G(D)?0:1};function U(D){for(var I=D.g.length,C=[],M=0;M<I;M++)C[M]=~D.g[M];return new f(C,~D.h).add(A)}r.abs=function(){return Z(this)?U(this):this},r.add=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],M=0,L=0;L<=I;L++){var z=M+(this.i(L)&65535)+(D.i(L)&65535),N=(z>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);M=N>>>16,z&=65535,N&=65535,C[L]=N<<16|z}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ue(D,I){return D.add(U(I))}r.j=function(D){if(G(this)||G(D))return w;if(Z(this))return Z(D)?U(this).j(U(D)):U(U(this).j(D));if(Z(D))return U(this.j(U(D)));if(0>this.l(k)&&0>D.l(k))return g(this.m()*D.m());for(var I=this.g.length+D.g.length,C=[],M=0;M<2*I;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<D.g.length;L++){var z=this.i(M)>>>16,N=this.i(M)&65535,St=D.i(L)>>>16,Mt=D.i(L)&65535;C[2*M+2*L]+=N*Mt,ce(C,2*M+2*L),C[2*M+2*L+1]+=z*Mt,ce(C,2*M+2*L+1),C[2*M+2*L+1]+=N*St,ce(C,2*M+2*L+1),C[2*M+2*L+2]+=z*St,ce(C,2*M+2*L+2)}for(M=0;M<I;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=I;M<2*I;M++)C[M]=0;return new f(C,0)};function ce(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function re(D,I){this.g=D,this.h=I}function Se(D,I){if(G(I))throw Error("division by zero");if(G(D))return new re(w,w);if(Z(D))return I=Se(U(D),I),new re(U(I.g),U(I.h));if(Z(I))return I=Se(D,U(I)),new re(U(I.g),I.h);if(30<D.g.length){if(Z(D)||Z(I))throw Error("slowDivide_ only works with positive integers.");for(var C=A,M=I;0>=M.l(D);)C=Pe(C),M=Pe(M);var L=Ie(C,1),z=Ie(M,1);for(M=Ie(M,2),C=Ie(C,2);!G(M);){var N=z.add(M);0>=N.l(D)&&(L=L.add(C),z=N),M=Ie(M,1),C=Ie(C,1)}return I=ue(D,L.j(I)),new re(L,I)}for(L=w;0<=D.l(I);){for(C=Math.max(1,Math.floor(D.m()/I.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=g(C),N=z.j(I);Z(N)||0<N.l(D);)C-=M,z=g(C),N=z.j(I);G(z)&&(z=A),L=L.add(z),D=ue(D,N)}return new re(L,D)}r.A=function(D){return Se(this,D).h},r.and=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],M=0;M<I;M++)C[M]=this.i(M)&D.i(M);return new f(C,this.h&D.h)},r.or=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],M=0;M<I;M++)C[M]=this.i(M)|D.i(M);return new f(C,this.h|D.h)},r.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],M=0;M<I;M++)C[M]=this.i(M)^D.i(M);return new f(C,this.h^D.h)};function Pe(D){for(var I=D.g.length+1,C=[],M=0;M<I;M++)C[M]=D.i(M)<<1|D.i(M-1)>>>31;return new f(C,D.h)}function Ie(D,I){var C=I>>5;I%=32;for(var M=D.g.length-C,L=[],z=0;z<M;z++)L[z]=0<I?D.i(z+C)>>>I|D.i(z+C+1)<<32-I:D.i(z+C);return new f(L,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,hw=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Xs=f}).apply(typeof H0<"u"?H0:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fw,eu,dw,wh,ap,mw,pw,gw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var F=c[S];if(!(F in _))break e;_=_[F]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,F={next:function(){if(!S&&_<c.length){var W=_++;return{value:y(W,c[W]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function k(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function G(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,F,W){for(var me=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)me[dt-2]=arguments[dt];return y.prototype[F].apply(S,me)}}function Z(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function U(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const F=c.length||0,W=S.length||0;c.length=F+W;for(let me=0;me<W;me++)c[F+me]=S[me]}else c.push(S)}}class ue{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ce(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Se(c){return Se[" "](c),c}Se[" "]=function(){};var Pe=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Ie(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function I(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(_ in S)c[_]=S[_];for(let W=0;W<C.length;W++)_=C[W],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function L(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function z(c){m.setTimeout(()=>{throw c},0)}function N(){var c=We;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class St{constructor(){this.h=this.g=null}add(y,_){const S=Mt.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Mt=new ue(()=>new ee,c=>c.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,we=!1,We=new St,q=()=>{const c=m.Promise.resolve(void 0);fe=()=>{c.then(T)}};var T=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){z(_)}var y=Mt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}we=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var le=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c})();function he(c,y){if(J.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Pe){e:{try{Se(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ge[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&he.aa.h.call(this)}}G(he,J);var ge={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),be=0;function Ce(c,y,_,S,F){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=F,this.key=++be,this.da=this.fa=!1}function Ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ee(c){this.src=c,this.g={},this.h=0}Ee.prototype.add=function(c,y,_,S,F){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var me=$e(c,y,S,F);return-1<me?(y=c[me],_||(y.fa=!1)):(y=new Ce(y,this.src,W,!!S,F),y.fa=_,c.push(y)),y};function Ke(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],F=Array.prototype.indexOf.call(S,y,void 0),W;(W=0<=F)&&Array.prototype.splice.call(S,F,1),W&&(Ge(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function $e(c,y,_,S){for(var F=0;F<c.length;++F){var W=c[F];if(!W.da&&W.listener==y&&W.capture==!!_&&W.ha==S)return F}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),yt={};function Ot(c,y,_,S,F){if(Array.isArray(y)){for(var W=0;W<y.length;W++)Ot(c,y[W],_,S,F);return null}return _=ti(_),c&&c[de]?c.K(y,_,g(S)?!!S.capture:!1,F):Rt(c,y,_,!1,S,F)}function Rt(c,y,_,S,F,W){if(!y)throw Error("Invalid event type");var me=g(F)?!!F.capture:!!F,dt=Nn(c);if(dt||(c[xe]=dt=new Ee(c)),_=dt.add(y,_,S,me,W),_.proxy)return _;if(S=Vt(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)le||(F=me),F===void 0&&(F=!1),c.addEventListener(y.toString(),S,F);else if(c.attachEvent)c.attachEvent(ft(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Vt(){function c(_){return y.call(c.src,c.listener,_)}const y=xn;return c}function Kt(c,y,_,S,F){if(Array.isArray(y))for(var W=0;W<y.length;W++)Kt(c,y[W],_,S,F);else S=g(S)?!!S.capture:!!S,_=ti(_),c&&c[de]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],_=$e(W,_,S,F),-1<_&&(Ge(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=Nn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=$e(y,_,S,F)),(_=-1<c?y[c]:null)&&vt(_))}function vt(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[de])Ke(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(ft(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Nn(y))?(Ke(_,c),_.h==0&&(_.src=null,y[xe]=null)):Ge(c)}}}function ft(c){return c in yt?yt[c]:yt[c]="on"+c}function xn(c,y){if(c.da)c=!0;else{y=new he(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&vt(c),c=_.call(S,y)}return c}function Nn(c){return c=c[xe],c instanceof Ee?c:null}var mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ti(c){return typeof c=="function"?c:(c[mt]||(c[mt]=function(y){return c.handleEvent(y)}),c[mt])}function At(){B.call(this),this.i=new Ee(this),this.M=this,this.F=null}G(At,B),At.prototype[de]=!0,At.prototype.removeEventListener=function(c,y,_,S){Kt(this,c,y,_,S)};function qt(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new J(y,c);else if(y instanceof J)y.target=y.target||c;else{var F=y;y=new J(S,c),M(y,F)}if(F=!0,_)for(var W=_.length-1;0<=W;W--){var me=y.g=_[W];F=ni(me,S,!0,y)&&F}if(me=y.g=c,F=ni(me,S,!0,y)&&F,F=ni(me,S,!1,y)&&F,_)for(W=0;W<_.length;W++)me=y.g=_[W],F=ni(me,S,!1,y)&&F}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)Ge(_[S]);delete c.g[y],c.h--}}this.F=null},At.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},At.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function ni(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,W=0;W<y.length;++W){var me=y[W];if(me&&!me.da&&me.capture==_){var dt=me.listener,en=me.ha||me.src;me.fa&&Ke(c.i,me),F=dt.call(en,S)!==!1&&F}}return F&&!S.defaultPrevented}function Sr(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function ir(c){c.g=Sr(()=>{c.g=null,c.i&&(c.i=!1,ir(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ar extends B{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ir(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bi(c){B.call(this),this.h=c,this.g={}}G(Bi,B);var Ti=[];function $t(c){Ie(c.g,function(y,_){this.g.hasOwnProperty(_)&&vt(y)},c),c.g={}}Bi.prototype.N=function(){Bi.aa.N.call(this),$t(this)},Bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=m.JSON.stringify,Zt=m.JSON.parse,ua=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ls(){}ls.prototype.h=null;function Qa(c){return c.h||(c.h=c.i())}function qi(){}var ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dn(){J.call(this,"d")}G(Dn,J);function Ht(){J.call(this,"c")}G(Ht,J);var Qn={},Hi=null;function rr(){return Hi=Hi||new At}Qn.La="serverreachability";function ca(c){J.call(this,Qn.La,c)}G(ca,J);function Fi(c){const y=rr();qt(y,new ca(y))}Qn.STAT_EVENT="statevent";function wi(c,y){J.call(this,Qn.STAT_EVENT,c),this.stat=y}G(wi,J);function kt(c){const y=rr();qt(y,new wi(y,c))}Qn.Ma="timingevent";function sr(c,y){J.call(this,Qn.Ma,c),this.size=y}G(sr,J);function Gi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function ar(){this.g=!0}ar.prototype.xa=function(){this.g=!1};function us(c,y,_,S,F,W){c.info(function(){if(c.g)if(W)for(var me="",dt=W.split("&"),en=0;en<dt.length;en++){var He=dt[en].split("=");if(1<He.length){var mn=He[0];He=He[1];var pn=mn.split("_");me=2<=pn.length&&pn[1]=="type"?me+(mn+"="+He+"&"):me+(mn+"=redacted&")}}else me=null;else me=W;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+y+`
`+_+`
`+me})}function ha(c,y,_,S,F,W,me){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+y+`
`+_+`
`+W+" "+me})}function Qi(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+bi(c,_)+(S?" "+S:"")})}function Ya(c,y){c.info(function(){return"TIMEOUT: "+y})}ar.prototype.info=function(){};function bi(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var me=1;me<F.length;me++)F[me]=""}}}}return zn(_)}catch{return y}}var Pt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ut={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function jn(){}G(jn,ls),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},Mn=new jn;function at(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new Bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rr}function Rr(){this.i=null,this.g="",this.h=!1}var or={},On={};function Si(c,y,_){c.L=1,c.v=ai(Ye(y)),c.m=_,c.P=!0,Yi(c,null)}function Yi(c,y){c.F=Date.now(),ri(c),c.A=Ye(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),xr(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Rr,c.g=ec(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Ar(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(Ti[0]=F.toString()),F=Ti);for(var W=0;W<F.length;W++){var me=Ot(_,F[W],S||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Fi(),us(c.i,c.u,c.A,c.l,c.R,c.m)}at.prototype.ca=function(c){c=c.target;const y=this.M;y&&Bn(c)==3?y.j():this.Y(c)},at.prototype.Y=function(c){try{if(c==this.g)e:{const pn=Bn(this.g);var y=this.g.Ba();const ys=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||ma(this.g)))){this.J||pn!=4||y==7||(y==8||0>=ys?Fi(3):Fi(2)),$i(this);var _=this.g.Z();this.X=_;t:if(Ki(this)){var S=ma(this.g);c="";var F=S.length,W=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),lr(this);var me="";break t}this.h.i=new m.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(W&&y==F-1)});S.length=0,this.h.g+=c,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=_==200,ha(this.i,this.u,this.A,this.l,this.R,pn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,en=this.g;if((dt=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ce(dt)){var He=dt;break t}}He=null}if(_=He)Qi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ai(this,_);else{this.o=!1,this.s=3,kt(12),_n(this),lr(this);break e}}if(this.P){_=!0;let Kn;for(;!this.J&&this.C<me.length;)if(Kn=Ir(this,me),Kn==On){pn==4&&(this.s=4,kt(14),_=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==or){this.s=4,kt(15),Qi(this.i,this.l,me,"[Invalid Chunk]"),_=!1;break}else Qi(this.i,this.l,Kn,null),Ai(this,Kn);if(Ki(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||me.length!=0||this.h.h||(this.s=1,kt(16),_=!1),this.o=this.o&&_,!_)Qi(this.i,this.l,me,"[Invalid Chunked Response]"),_n(this),lr(this);else if(0<me.length&&!this.W){this.W=!0;var mn=this.j;mn.g==this&&mn.ba&&!mn.M&&(mn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),fl(mn),mn.M=!0,kt(11))}}else Qi(this.i,this.l,me,null),Ai(this,me);pn==4&&_n(this),this.o&&!this.J&&(pn==4?Ju(this.j,this):(this.o=!1,ri(this)))}else Gu(this.g),_==400&&0<me.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),_n(this),lr(this)}}}catch{}finally{}};function Ki(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ir(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?On:(_=Number(y.substring(_,S)),isNaN(_)?or:(S+=1,S+_>y.length?On:(y=y.slice(S,S+_),c.C=S+_,y)))}at.prototype.cancel=function(){this.J=!0,_n(this)};function ri(c){c.S=Date.now()+c.I,zt(c,c.I)}function zt(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Gi(A(c.ba,c),y)}function $i(c){c.B&&(m.clearTimeout(c.B),c.B=null)}at.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ya(this.i,this.A),this.L!=2&&(Fi(),kt(17)),_n(this),this.s=2,lr(this)):zt(this,this.S-c)};function lr(c){c.j.G==0||c.J||Ju(c.j,c)}function _n(c){$i(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,$t(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ai(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||H(_.h,c))){if(!c.K&&H(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ps(_),ms(_);else break e;hl(_),kt(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=Gi(A(_.Za,_),6e3));if(1>=R(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Dr(_,11)}else if((c.K||_.g==c)&&ps(_),!ce(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let He=F[y];if(_.T=He[0],He=He[1],_.G==2)if(He[0]=="c"){_.K=He[1],_.ia=He[2];const mn=He[3];mn!=null&&(_.la=mn,_.j.info("VER="+_.la));const pn=He[4];pn!=null&&(_.Aa=pn,_.j.info("SVER="+_.Aa));const ys=He[5];ys!=null&&typeof ys=="number"&&0<ys&&(S=1.5*ys,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Kn=c.g;if(Kn){const ya=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var W=S.h;W.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&($(W,W.h),W.h=null))}if(S.D){const Mr=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Mr&&(S.ya=Mr,qe(S.I,S.D,Mr))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var me=c;if(S.qa=Zu(S,S.J?S.ia:null,S.W),me.K){ae(S.h,me);var dt=me,en=S.L;en&&(dt.I=en),dt.B&&($i(dt),ri(dt)),S.g=me}else $u(S);0<_.i.length&&Wa(_)}else He[0]!="stop"&&He[0]!="close"||Dr(_,7);else _.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Dr(_,7):ul(_):He[0]!="noop"&&_.l&&_.l.ta(He),_.v=0)}}Fi(4)}catch{}}var rl=class{constructor(c,y){this.g=c,this.map=y}};function Cr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function si(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function R(c){return c.h?1:c.g?c.g.size:0}function H(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function $(c,y){c.g?c.g.add(y):c.h=y}function ae(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Cr.prototype.cancel=function(){if(this.i=pe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pe(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Z(c.i)}function Ve(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function De(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function ot(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=De(c),S=Ve(c),F=S.length,W=0;W<F;W++)y.call(void 0,S[W],_&&_[W],c)}var ct=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qe(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),F=null;if(0<=S){var W=c[_].substring(0,S);F=c[_].substring(S+1)}else W=c[_];y(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function ke(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ke){this.h=c.h,En(this,c.j),this.o=c.o,this.g=c.g,Ri(this,c.s),this.l=c.l;var y=c.i,_=new ur;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ii(this,_),this.m=c.m}else c&&(y=String(c).match(ct))?(this.h=!1,En(this,y[1]||"",!0),this.o=It(y[2]||""),this.g=It(y[3]||"",!0),Ri(this,y[4]),this.l=It(y[5]||"",!0),Ii(this,y[6]||"",!0),this.m=It(y[7]||"")):(this.h=!1,this.i=new ur(null,this.h))}ke.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ci(y,sl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ci(y,sl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ci(_,_.charAt(0)=="/"?al:Bu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ci(_,bf)),c.join("")};function Ye(c){return new ke(c)}function En(c,y,_){c.j=_?It(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ri(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ii(c,y,_){y instanceof ur?(c.i=y,qu(c.i,c.h)):(_||(y=Ci(y,wf)),c.i=new ur(y,c.h))}function qe(c,y,_){c.i.set(y,_)}function ai(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function It(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ci(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Tf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sl=/[#\/\?@]/g,Bu=/[#\?:]/g,al=/[#\?]/g,wf=/[#\?@]/g,bf=/#/g;function ur(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Qe(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=ur.prototype,r.add=function(c,y){dn(this),this.i=null,c=oi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ka(c,y){dn(c),y=oi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function $a(c,y){return dn(c),y=oi(c,y),c.g.has(y)}r.forEach=function(c,y){dn(this),this.g.forEach(function(_,S){_.forEach(function(F){c.call(y,F,S,this)},this)},this)},r.na=function(){dn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const F=c[S];for(let W=0;W<F.length;W++)_.push(y[S])}return _},r.V=function(c){dn(this);let y=[];if(typeof c=="string")$a(this,c)&&(y=y.concat(this.g.get(oi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return dn(this),this.i=null,c=oi(this,c),$a(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function xr(c,y,_){Ka(c,y),0<_.length&&(c.i=null,c.g.set(oi(c,y),Z(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const W=encodeURIComponent(String(S)),me=this.V(S);for(S=0;S<me.length;S++){var F=W;me[S]!==""&&(F+="="+encodeURIComponent(String(me[S]))),c.push(F)}}return this.i=c.join("&")};function oi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function qu(c,y){y&&!c.j&&(dn(c),c.i=null,c.g.forEach(function(_,S){var F=S.toLowerCase();S!=F&&(Ka(this,S),xr(this,F,_))},c)),c.j=y}function ol(c,y){const _=new ar;if(m.Image){const S=new Image;S.onload=k(Yn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=k(Yn,_,"TestLoadImage: error",!1,y,S),S.onabort=k(Yn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=k(Yn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Hu(c,y){const _=new ar,S=new AbortController,F=setTimeout(()=>{S.abort(),Yn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(W=>{clearTimeout(F),W.ok?Yn(_,"TestPingServer: ok",!0,y):Yn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Yn(_,"TestPingServer: error",!1,y)})}function Yn(c,y,_,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(_)}catch{}}function Xi(){this.g=new ua}function ll(c,y,_){const S=_||"";try{ot(c,function(F,W){let me=F;g(F)&&(me=zn(F)),y.push(S+W+"="+encodeURIComponent(me))})}catch(F){throw y.push(S+"type="+encodeURIComponent("_badmap")),F}}function cr(c){this.l=c.Ub||null,this.j=c.eb||!1}G(cr,ls),cr.prototype.g=function(){return new li(this.l,this.j)},cr.prototype.i=(function(c){return function(){return c}})({});function li(c,y){At.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(li,At),r=li.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,cs(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,cs(this)),this.g&&(this.readyState=3,cs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xa(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xa(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?hr(this):cs(this),this.readyState==3&&Xa(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,hr(this))},r.Qa=function(c){this.g&&(this.response=c,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,cs(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function cs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function fa(c){let y="";return Ie(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function hs(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=fa(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):qe(c,y,_))}function Ct(c){At.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(Ct,At);var Vn=/^https?$/i,Nr=["POST","PUT"];r=Ct.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?Qa(this.o):Qa(Mn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){da(this,W);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)_.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const W of S.keys())_.set(W,S.get(W));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Nr,y,void 0))||S||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,me]of _)this.g.setRequestHeader(W,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ja(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){da(this,W)}};function da(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,fs(c),ds(c)}function fs(c){c.A||(c.A=!0,qt(c,"complete"),qt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,qt(this,"complete"),qt(this,"abort"),ds(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),Ct.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Fu(this):this.bb())},r.bb=function(){Fu(this)};function Fu(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Bn(c)!=4||c.Z()!=2)){if(c.u&&Bn(c)==4)Sr(c.Ea,0,c);else if(qt(c,"readystatechange"),Bn(c)==4){c.h=!1;try{const me=c.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=me===0){var F=String(c.D).match(ct)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),S=!Vn.test(F?F.toLowerCase():"")}_=S}if(_)qt(c,"complete"),qt(c,"success");else{c.m=6;try{var W=2<Bn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",fs(c)}}finally{ds(c)}}}}function ds(c,y){if(c.g){Ja(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||qt(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ja(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Bn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Zt(y)}};function ma(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gu(c){const y={};c=(c.g&&2<=Bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ce(c[S]))continue;var _=L(c[S]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=y[F]||[];y[F]=W,W.push(_)}D(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Qu(c){this.Aa=0,this.i=[],this.j=new ar,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pa("baseRetryDelayMs",5e3,c),this.cb=pa("retryDelaySeedMs",1e4,c),this.Wa=pa("forwardChannelMaxRetries",2,c),this.wa=pa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Cr(c&&c.concurrentRequestLimit),this.Da=new Xi,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qu.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,S){kt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Zu(this,null,this.W),Wa(this)};function ul(c){if(Yu(c),c.G==3){var y=c.U++,_=Ye(c.I);if(qe(_,"SID",c.K),qe(_,"RID",y),qe(_,"TYPE","terminate"),ga(c,_),y=new at(c,c.j,y),y.L=2,y.v=ai(Ye(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=ec(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ri(y)}dl(c)}function ms(c){c.g&&(fl(c),c.g.cancel(),c.g=null)}function Yu(c){ms(c),c.u&&(m.clearTimeout(c.u),c.u=null),ps(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Wa(c){if(!si(c.h)&&!c.s){c.s=!0;var y=c.Ga;fe||q(),we||(fe(),we=!0),We.add(y,c),c.B=0}}function Sf(c,y){return R(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Gi(A(c.Ga,c,y),Wu(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new at(this,this.j,c);let W=this.o;if(this.S&&(W?(W=I(W),M(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=cl(this,F,y),_=Ye(this.I),qe(_,"RID",c),qe(_,"CVER",22),this.D&&qe(_,"X-HTTP-Session-Id",this.D),ga(this,_),W&&(this.O?y="headers="+encodeURIComponent(String(fa(W)))+"&"+y:this.m&&hs(_,this.m,W)),$(this.h,F),this.Ua&&qe(_,"TYPE","init"),this.P?(qe(_,"$req",y),qe(_,"SID","null"),F.T=!0,Si(F,_,null)):Si(F,_,y),this.G=2}}else this.G==3&&(c?Ku(this,c):this.i.length==0||si(this.h)||Ku(this))};function Ku(c,y){var _;y?_=y.l:_=c.U++;const S=Ye(c.I);qe(S,"SID",c.K),qe(S,"RID",_),qe(S,"AID",c.T),ga(c,S),c.m&&c.o&&hs(S,c.m,c.o),_=new at(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=cl(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$(c.h,_),Si(_,S,y)}function ga(c,y){c.H&&Ie(c.H,function(_,S){qe(y,S,_)}),c.l&&ot({},function(_,S){qe(y,S,_)})}function cl(c,y,_){_=Math.min(c.i.length,_);var S=c.l?A(c.l.Na,c.l,c):null;e:{var F=c.i;let W=-1;for(;;){const me=["count="+_];W==-1?0<_?(W=F[0].g,me.push("ofs="+W)):W=0:me.push("ofs="+W);let dt=!0;for(let en=0;en<_;en++){let He=F[en].g;const mn=F[en].map;if(He-=W,0>He)W=Math.max(0,F[en].g-100),dt=!1;else try{ll(mn,me,"req"+He+"_")}catch{S&&S(mn)}}if(dt){S=me.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function $u(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;fe||q(),we||(fe(),we=!0),We.add(y,c),c.v=0}}function hl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Gi(A(c.Fa,c),Wu(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Gi(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),ms(this),Xu(this))};function fl(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new at(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Ye(c.qa);qe(y,"RID","rpc"),qe(y,"SID",c.K),qe(y,"AID",c.T),qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(y,"TO",c.ja),qe(y,"TYPE","xmlhttp"),ga(c,y),c.m&&c.o&&hs(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ai(Ye(y)),_.m=null,_.P=!0,Yi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ms(this),hl(this),kt(19))};function ps(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ju(c,y){var _=null;if(c.g==y){ps(c),fl(c),c.g=null;var S=2}else if(H(c.h,y))_=y.D,ae(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;S=rr(),qt(S,new sr(S,_)),Wa(c)}else $u(c);else if(F=y.s,F==3||F==0&&0<y.X||!(S==1&&Sf(c,y)||S==2&&hl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),F){case 1:Dr(c,5);break;case 4:Dr(c,10);break;case 3:Dr(c,6);break;default:Dr(c,2)}}}function Wu(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Dr(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),S=c.Xa;const F=!S;S=new ke(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||En(S,"https"),ai(S),F?ol(S.toString(),_):Hu(S.toString(),_)}else kt(2);c.G=0,c.l&&c.l.sa(y),dl(c),Yu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function dl(c){if(c.G=0,c.ka=[],c.l){const y=pe(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function Zu(c,y,_){var S=_ instanceof ke?Ye(_):new ke(_);if(S.g!="")y&&(S.g=y+"."+S.g),Ri(S,S.s);else{var F=m.location;S=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var W=new ke(null);S&&En(W,S),y&&(W.g=y),F&&Ri(W,F),_&&(W.l=_),S=W}return _=c.D,y=c.ya,_&&y&&qe(S,_,y),qe(S,"VER",c.la),ga(c,S),S}function ec(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ct(new cr({eb:_})):new Ct(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}r=tc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Za(){}Za.prototype.g=function(c,y){return new qn(c,y)};function qn(c,y){At.call(this),this.g=new Qu(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ce(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ce(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gs(this)}G(qn,At),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){ul(this.g)},qn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=zn(c),c=_);y.i.push(new rl(y.Ya++,c)),y.G==3&&Wa(y)},qn.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,qn.aa.N.call(this)};function nc(c){Dn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}G(nc,Dn);function ic(){Ht.call(this),this.status=1}G(ic,Ht);function gs(c){this.g=c}G(gs,tc),gs.prototype.ua=function(){qt(this.g,"a")},gs.prototype.ta=function(c){qt(this.g,new nc(c))},gs.prototype.sa=function(c){qt(this.g,new ic)},gs.prototype.ra=function(){qt(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,gw=function(){return new Za},pw=function(){return rr()},mw=Qn,ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pt.NO_ERROR=0,Pt.TIMEOUT=8,Pt.HTTP_ERROR=6,wh=Pt,Ut.COMPLETE="complete",dw=Ut,qi.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",At.prototype.listen=At.prototype.K,eu=qi,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,fw=Ct}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const F0="@firebase/firestore",G0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Dp("@firebase/firestore");function No(){return za.logLevel}function ve(r,...e){if(za.logLevel<=tt.DEBUG){const n=e.map(Gp);za.debug(`Firestore (${Wo}): ${r}`,...n)}}function is(r,...e){if(za.logLevel<=tt.ERROR){const n=e.map(Gp);za.error(`Firestore (${Wo}): ${r}`,...n)}}function Zs(r,...e){if(za.logLevel<=tt.WARN){const n=e.map(Gp);za.warn(`Firestore (${Wo}): ${r}`,...n)}}function Gp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,yw(r,s,n)}function yw(r,e,n){let s=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw is(s),new Error(s)}function st(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||yw(e,o,s)}function Ue(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ln.UNAUTHENTICATED)))}shutdown(){}}class ax{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ox{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string",31837,{l:s}),new vw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new Ln(e)}}class lx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ux{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new lx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const s=u=>{u.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ve("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Q0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=hx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Fe(r,e){return r<e?-1:r>e?1:0}function op(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Fe(s,o);{const u=_w(),f=fx(u.encode(Y0(r,n)),u.encode(Y0(e,n)));return f!==0?f:Fe(s,o)}}n+=s>65535?2:1}return Fe(r.length,e.length)}function Y0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function fx(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Fe(r[n],e[n]);return Fe(r.length,e.length)}function Bo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="__name__";class gr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ne(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=gr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Fe(e.length,n.length)}static compareSegments(e,n){const s=gr.isNumericId(e),o=gr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?gr.extractNumericId(e).compare(gr.extractNumericId(n)):op(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class wt extends gr{construct(e,n,s){return new wt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new wt(n)}static emptyPath(){return new wt([])}}const dx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends gr{construct(e,n,s){return new Rn(e,n,s)}static isValidIdentifier(e){return dx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K0}static keyField(){return new Rn([K0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ye(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(wt.fromString(e))}static fromName(e){return new Ae(wt.fromString(e).popFirst(5))}static empty(){return new Ae(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r,e,n){if(!n)throw new ye(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function mx(r,e,n,s){if(e===!0&&s===!0)throw new ye(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function $0(r){if(!Ae.isDocumentKey(r))throw new ye(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function X0(r){if(Ae.isDocumentKey(r))throw new ye(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Tw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function sf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ne(12329,{type:typeof r})}function vi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sf(r);throw new ye(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(r,e){const n={typeString:r};return e&&(n.value=e),n}function Nu(r,e){if(!Tw(r))throw new ye(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ye(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=-62135596800,W0=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*W0);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<J0)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W0}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nu(e,Dt._jsonSchema))return new Dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dt._jsonSchemaVersion="firestore/timestamp/1.0",Dt._jsonSchema={type:ln("string",Dt._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Dt(0,0))}static max(){return new Oe(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function px(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new ea(o,Ae.empty(),e)}function gx(r){return new ea(r.readTime,r.key,gu)}class ea{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ea(Oe.min(),Ae.empty(),gu)}static max(){return new ea(Oe.max(),Ae.empty(),gu)}}function yx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(r.documentKey,e.documentKey),n!==0?n:Fe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _x{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==vx)throw r;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((o=>o?oe.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new oe(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Ex(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function el(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}af.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=-1;function Du(r){return r==null}function Lh(r){return r===0&&1/r==-1/0}function Tx(r){return typeof r=="number"&&Number.isInteger(r)&&!Lh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="";function wx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Z0(e)),e=bx(r.get(n),e);return Z0(e)}function bx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case ww:n+="";break;default:n+=u}}return n}function Z0(r){return r+ww+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function oa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function bw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??An.RED,this.left=o??An.EMPTY,this.right=u??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new An(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return An.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new An(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tE(this.data.getIterator())}getIteratorFrom(e){return new tE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class tE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new yi([])}unionWith(e){let n=new fn(Rn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new yi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Sw("Invalid base64 string: "+u):u}})(e);return new In(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new In(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const Sx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(r){if(st(!!r,39018),typeof r=="string"){let e=0;const n=Sx.exec(r);if(st(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Wt(r.seconds),nanos:Wt(r.nanos)}}function Wt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function na(r){return typeof r=="string"?In.fromBase64String(r):In.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="server_timestamp",Rw="__type__",Iw="__previous_value__",Cw="__local_write_time__";function Kp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Rw])===null||n===void 0?void 0:n.stringValue)===Aw}function of(r){const e=r.mapValue.fields[Iw];return Kp(e)?of(e):e}function yu(r){const e=ta(r.mapValue.fields[Cw].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Uh="(default)";class vu{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="__type__",Rx="__max__",dh={mapValue:{}},Nw="__vector__",zh="value";function ia(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Kp(r)?4:Cx(r)?9007199254740991:Ix(r)?10:11:Ne(28295,{value:r})}function br(r,e){if(r===e)return!0;const n=ia(r);if(n!==ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return yu(r).isEqual(yu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ta(o.timestampValue),m=ta(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return na(o.bytesValue).isEqual(na(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Wt(o.geoPointValue.latitude)===Wt(u.geoPointValue.latitude)&&Wt(o.geoPointValue.longitude)===Wt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Wt(o.integerValue)===Wt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Wt(o.doubleValue),m=Wt(u.doubleValue);return f===m?Lh(f)===Lh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return Bo(r.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(eE(f)!==eE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!br(f[p],m[p])))return!1;return!0})(r,e);default:return Ne(52216,{left:r})}}function _u(r,e){return(r.values||[]).find((n=>br(n,e)))!==void 0}function qo(r,e){if(r===e)return 0;const n=ia(r),s=ia(e);if(n!==s)return Fe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Wt(u.integerValue||u.doubleValue),p=Wt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return nE(r.timestampValue,e.timestampValue);case 4:return nE(yu(r),yu(e));case 5:return op(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=na(u),p=na(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Fe(m[g],p[g]);if(E!==0)return E}return Fe(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Fe(Wt(u.latitude),Wt(f.latitude));return m!==0?m:Fe(Wt(u.longitude),Wt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return iE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var m,p,g,E;const w=u.fields||{},A=f.fields||{},k=(m=w[zh])===null||m===void 0?void 0:m.arrayValue,G=(p=A[zh])===null||p===void 0?void 0:p.arrayValue,Z=Fe(((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0,((E=G==null?void 0:G.values)===null||E===void 0?void 0:E.length)||0);return Z!==0?Z:iE(k,G)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===dh.mapValue&&f===dh.mapValue)return 0;if(u===dh.mapValue)return 1;if(f===dh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=op(p[w],E[w]);if(A!==0)return A;const k=qo(m[p[w]],g[E[w]]);if(k!==0)return k}return Fe(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ne(23264,{le:n})}}function nE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Fe(r,e);const n=ta(r),s=ta(e),o=Fe(n.seconds,s.seconds);return o!==0?o:Fe(n.nanos,s.nanos)}function iE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=qo(n[o],s[o]);if(u)return u}return Fe(n.length,s.length)}function Ho(r){return lp(r)}function lp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ta(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return na(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ae.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=lp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${lp(n.fields[f])}`;return o+"}"})(r.mapValue):Ne(61005,{value:r})}function bh(r){switch(ia(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=of(r);return e?16+bh(e):16;case 5:return 2*r.stringValue.length;case 6:return na(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+bh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return oa(s.fields,((u,f)=>{o+=u.length+bh(f)})),o})(r.mapValue);default:throw Ne(13486,{value:r})}}function rE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function up(r){return!!r&&"integerValue"in r}function $p(r){return!!r&&"arrayValue"in r}function sE(r){return!!r&&"nullValue"in r}function aE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Sh(r){return!!r&&"mapValue"in r}function Ix(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[xw])===null||n===void 0?void 0:n.stringValue)===Nw}function lu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return oa(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=lu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Cx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Rx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(n)}setAll(e){let n=Rn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=lu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){oa(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Gn(lu(this.value))}}function Dw(r){const e=[];return oa(r.fields,((n,s)=>{const o=new Rn([n]);if(Sh(s)){const u=Dw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new yi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new vn(e,0,Oe.min(),Oe.min(),Oe.min(),Gn.empty(),0)}static newFoundDocument(e,n,s,o){return new vn(e,1,n,Oe.min(),s,o,0)}static newNoDocument(e,n){return new vn(e,2,n,Oe.min(),Oe.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,Oe.min(),Oe.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.position=e,this.inclusive=n}}function oE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ae.comparator(Ae.fromName(f.referenceValue),n.key):s=qo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function lE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!br(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function xx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{}class on extends Mw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Dx(e,n,s):n==="array-contains"?new Vx(e,s):n==="in"?new kx(e,s):n==="not-in"?new Px(e,s):n==="array-contains-any"?new Lx(e,s):new on(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Mx(e,s):new Ox(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qo(n,this.value)):n!==null&&ia(this.value)===ia(n)&&this.matchesComparison(qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends Mw{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new nr(e,n)}matches(e){return Ow(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Ow(r){return r.op==="and"}function Vw(r){return Nx(r)&&Ow(r)}function Nx(r){for(const e of r.filters)if(e instanceof nr)return!1;return!0}function cp(r){if(r instanceof on)return r.field.canonicalString()+r.op.toString()+Ho(r.value);if(Vw(r))return r.filters.map((e=>cp(e))).join(",");{const e=r.filters.map((n=>cp(n))).join(",");return`${r.op}(${e})`}}function kw(r,e){return r instanceof on?(function(s,o){return o instanceof on&&s.op===o.op&&s.field.isEqual(o.field)&&br(s.value,o.value)})(r,e):r instanceof nr?(function(s,o){return o instanceof nr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&kw(f,o.filters[m])),!0):!1})(r,e):void Ne(19439)}function Pw(r){return r instanceof on?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ho(n.value)}`})(r):r instanceof nr?(function(n){return n.op.toString()+" {"+n.getFilters().map(Pw).join(" ,")+"}"})(r):"Filter"}class Dx extends on{constructor(e,n,s){super(e,n,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mx extends on{constructor(e,n){super(e,"in",n),this.keys=Lw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Ox extends on{constructor(e,n){super(e,"not-in",n),this.keys=Lw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Lw(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>Ae.fromName(s.referenceValue)))}class Vx extends on{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $p(n)&&_u(n.arrayValue,this.value)}}class kx extends on{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_u(this.value.arrayValue,n)}}class Px extends on{constructor(e,n){super(e,"not-in",n)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_u(this.value.arrayValue,n)}}class Lx extends on{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$p(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>_u(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function uE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new Ux(r,e,n,s,o,u,f)}function Xp(r){const e=Ue(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>cp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Du(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ho(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ho(s))).join(",")),e.Pe=n}return e.Pe}function Jp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!xx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!kw(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!lE(r.startAt,e.startAt)&&lE(r.endAt,e.endAt)}function hp(r){return Ae.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function zx(r,e,n,s,o,u,f,m){return new Mu(r,e,n,s,o,u,f,m)}function Wp(r){return new Mu(r)}function cE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Uw(r){return r.collectionGroup!==null}function uu(r){const e=Ue(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new fn(Rn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Bh(u,s))})),n.has(Rn.keyField().canonicalString())||e.Te.push(new Bh(Rn.keyField(),s))}return e.Te}function _r(r){const e=Ue(r);return e.Ie||(e.Ie=jx(e,uu(r))),e.Ie}function jx(r,e){if(r.limitType==="F")return uE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Bh(o.field,u)}));const n=r.endAt?new jh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new jh(r.startAt.position,r.startAt.inclusive):null;return uE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function fp(r,e){const n=r.filters.concat([e]);return new Mu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function dp(r,e,n){return new Mu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function lf(r,e){return Jp(_r(r),_r(e))&&r.limitType===e.limitType}function zw(r){return`${Xp(_r(r))}|lt:${r.limitType}`}function Do(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Pw(o))).join(", ")}]`),Du(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ho(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ho(o))).join(",")),`Target(${s})`})(_r(r))}; limitType=${r.limitType})`}function uf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ae.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of uu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=oE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,uu(s),o)||s.endAt&&!(function(f,m,p){const g=oE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,uu(s),o))})(r,e)}function Bx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function jw(r){return(e,n)=>{let s=!1;for(const o of uu(r)){const u=qx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function qx(r,e,n){const s=r.field.isKeyField()?Ae.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?qo(p,g):Ne(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return bw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Bt(Ae.comparator);function rs(){return Hx}const Bw=new Bt(Ae.comparator);function tu(...r){let e=Bw;for(const n of r)e=e.insert(n.key,n);return e}function qw(r){let e=Bw;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ka(){return cu()}function Hw(){return cu()}function cu(){return new qa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Fx=new Bt(Ae.comparator),Gx=new fn(Ae.comparator);function nt(...r){let e=Gx;for(const n of r)e=e.add(n);return e}const Qx=new fn(Fe);function Yx(){return Qx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function Fw(r){return{integerValue:""+r}}function Gw(r,e){return Tx(e)?Fw(e):Zp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function Kx(r,e,n){return r instanceof qh?(function(o,u){const f={fields:{[Rw]:{stringValue:Aw},[Cw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Kp(u)&&(u=of(u)),u&&(f.fields[Iw]=u),{mapValue:f}})(n,e):r instanceof Fo?Yw(r,e):r instanceof Go?Kw(r,e):(function(o,u){const f=Qw(o,u),m=hE(f)+hE(o.Ee);return up(f)&&up(o.Ee)?Fw(m):Zp(o.serializer,m)})(r,e)}function $x(r,e,n){return r instanceof Fo?Yw(r,e):r instanceof Go?Kw(r,e):n}function Qw(r,e){return r instanceof Eu?(function(s){return up(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class qh extends cf{}class Fo extends cf{constructor(e){super(),this.elements=e}}function Yw(r,e){const n=$w(e);for(const s of r.elements)n.some((o=>br(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Go extends cf{constructor(e){super(),this.elements=e}}function Kw(r,e){let n=$w(e);for(const s of r.elements)n=n.filter((o=>!br(o,s)));return{arrayValue:{values:n}}}class Eu extends cf{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function hE(r){return Wt(r.integerValue||r.doubleValue)}function $w(r){return $p(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){this.field=e,this.transform=n}}function Xx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Fo&&o instanceof Fo||s instanceof Go&&o instanceof Go?Bo(s.elements,o.elements,br):s instanceof Eu&&o instanceof Eu?br(s.Ee,o.Ee):s instanceof qh&&o instanceof qh})(r.transform,e.transform)}class Jx{constructor(e,n){this.version=e,this.transformResults=n}}class hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hn}static exists(e){return new hn(void 0,e)}static updateTime(e){return new hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class hf{}function Xw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Vu(r.key,hn.none()):new Ou(r.key,r.data,hn.none());{const n=r.data,s=Gn.empty();let o=new fn(Rn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new la(r.key,s,new yi(o.toArray()),hn.none())}}function Wx(r,e,n){r instanceof Ou?(function(o,u,f){const m=o.value.clone(),p=dE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof la?(function(o,u,f){if(!Ah(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=dE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Jw(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function hu(r,e,n,s){return r instanceof Ou?(function(u,f,m,p){if(!Ah(u.precondition,f))return m;const g=u.value.clone(),E=mE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof la?(function(u,f,m,p){if(!Ah(u.precondition,f))return m;const g=mE(u.fieldTransforms,p,f),E=f.data;return E.setAll(Jw(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,e,n,s):(function(u,f,m){return Ah(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function Zx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Qw(s.transform,o||null);u!=null&&(n===null&&(n=Gn.empty()),n.set(s.field,u))}return n||null}function fE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Bo(s,o,((u,f)=>Xx(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ou extends hf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class la extends hf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Jw(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function dE(r,e,n){const s=new Map;st(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,$x(f,m,n[o]))}return s}function mE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Kx(u,f,e))}return s}class Vu extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ww extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Wx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=hu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=hu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Hw();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Xw(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Oe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),nt())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,((n,s)=>fE(n,s)))&&Bo(this.baseMutations,e.baseMutations,((n,s)=>fE(n,s)))}}class tg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){st(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=(function(){return Fx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new tg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,rt;function Zw(r){switch(r){case ie.OK:return Ne(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ne(15467,{code:r})}}function e1(r){if(r===void 0)return is("GRPC error has no .code"),ie.UNKNOWN;switch(r){case an.OK:return ie.OK;case an.CANCELLED:return ie.CANCELLED;case an.UNKNOWN:return ie.UNKNOWN;case an.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case an.INTERNAL:return ie.INTERNAL;case an.UNAVAILABLE:return ie.UNAVAILABLE;case an.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case an.NOT_FOUND:return ie.NOT_FOUND;case an.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case an.ABORTED:return ie.ABORTED;case an.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case an.DATA_LOSS:return ie.DATA_LOSS;default:return Ne(39323,{code:r})}}(rt=an||(an={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Xs([4294967295,4294967295],0);function pE(r){const e=_w().encode(r),n=new hw;return n.update(e),new Uint8Array(n.digest())}function gE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xs([n,s],0),new Xs([o,u],0)]}class ng{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Xs.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(Xs.fromNumber(s)));return o.compare(iN)===1&&(o=new Xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=pE(e),[s,o]=gE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new ng(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.fe===0)return;const n=pE(e),[s,o]=gE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ff(Oe.min(),o,new Bt(Fe),rs(),nt())}}class ku{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ku(s,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class t1{constructor(e,n){this.targetId=e,this.De=n}}class n1{constructor(e,n,s=In.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class yE{constructor(){this.ve=0,this.Ce=vE(),this.Fe=In.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=nt(),n=nt(),s=nt();return this.Ce.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ne(38017,{changeType:u})}})),new ku(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=vE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class rN{constructor(e){this.We=e,this.Ge=new Map,this.ze=rs(),this.je=mh(),this.Je=mh(),this.He=new Bt(Fe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(hp(u))if(s===0){const f=new Ae(u.path);this.Xe(n,f,vn.newNoDocument(f,Oe.min()))}else st(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=na(s).toUint8Array()}catch(p){if(p instanceof Sw)return Zs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new ng(f,o,u)}catch(p){return Zs(p instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(e){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&hp(m.target)){const p=new Ae(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,vn.newNoDocument(p,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=nt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(e)));const o=new ff(e,n,this.He,this.ze,s);return this.ze=rs(),this.je=mh(),this.Je=mh(),this.He=new Bt(Fe),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new yE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new fn(Fe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new fn(Fe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new yE),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function mh(){return new Bt(Ae.comparator)}function vE(){return new Bt(Ae.comparator)}const sN={asc:"ASCENDING",desc:"DESCENDING"},aN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oN={and:"AND",or:"OR"};class lN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mp(r,e){return r.useProto3Json||Du(e)?e:{value:e}}function Hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function uN(r,e){return Hh(r,e.toTimestamp())}function _i(r){return st(!!r,49232),Oe.fromTimestamp((function(n){const s=ta(n);return new Dt(s.seconds,s.nanos)})(r))}function ig(r,e){return pp(r,e).canonicalString()}function pp(r,e){const n=(function(o){return new wt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function r1(r){const e=wt.fromString(r);return st(c1(e),10190,{key:e.toString()}),e}function Fh(r,e){return ig(r.databaseId,e.path)}function fu(r,e){const n=r1(e);if(n.get(1)!==r.databaseId.projectId)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ae(a1(n))}function s1(r,e){return ig(r.databaseId,e)}function cN(r){const e=r1(r);return e.length===4?wt.emptyPath():a1(e)}function gp(r){return new wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function a1(r){return st(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function _E(r,e,n){return{name:Fh(r,e),fields:n.value.mapValue.fields}}function hN(r,e){return"found"in e?(function(s,o){st(!!o.found,43571),o.found.name,o.found.updateTime;const u=fu(s,o.found.name),f=_i(o.found.updateTime),m=o.found.createTime?_i(o.found.createTime):Oe.min(),p=new Gn({mapValue:{fields:o.found.fields}});return vn.newFoundDocument(u,f,m,p)})(r,e):"missing"in e?(function(s,o){st(!!o.missing,3894),st(!!o.readTime,22933);const u=fu(s,o.missing),f=_i(o.readTime);return vn.newNoDocument(u,f)})(r,e):Ne(7234,{result:e})}function fN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ne(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(st(E===void 0||typeof E=="string",58123),In.fromBase64String(E||"")):(st(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),In.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?ie.UNKNOWN:e1(g.code);return new ye(E,g.message||"")})(f);n=new n1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=fu(r,s.document.name),u=_i(s.document.updateTime),f=s.document.createTime?_i(s.document.createTime):Oe.min(),m=new Gn({mapValue:{fields:s.document.fields}}),p=vn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Rh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=fu(r,s.document),u=s.readTime?_i(s.readTime):Oe.min(),f=vn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Rh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=fu(r,s.document),u=s.removedTargetIds||[];n=new Rh([],u,o,null)}else{if(!("filter"in e))return Ne(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new nN(o,u),m=s.targetId;n=new t1(m,f)}}return n}function o1(r,e){let n;if(e instanceof Ou)n={update:_E(r,e.key,e.value)};else if(e instanceof Vu)n={delete:Fh(r,e.key)};else if(e instanceof la)n={update:_E(r,e.key,e.data),updateMask:TN(e.fieldMask)};else{if(!(e instanceof Ww))return Ne(16599,{Rt:e.type});n={verify:Fh(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof qh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Fo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Go)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Eu)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw Ne(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:uN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ne(27497)})(r,e.precondition)),n}function dN(r,e){return r&&r.length>0?(st(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?_i(o.updateTime):_i(u);return f.isEqual(Oe.min())&&(f=_i(u)),new Jx(f,o.transformResults||[])})(n,e)))):[]}function mN(r,e){return{documents:[s1(r,e.path)]}}function pN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=s1(r,o);const u=(function(g){if(g.length!==0)return u1(nr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:Mo(A.field),direction:vN(A.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=mp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{Vt:n,parent:o}}function gN(r){let e=cN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){st(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(w){const A=l1(w);return A instanceof nr&&Vw(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((A=>(function(G){return new Bh(Oo(G.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let A;return A=typeof w=="object"?w.value:w,Du(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(w){const A=!!w.before,k=w.values||[];return new jh(k,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const A=!w.before,k=w.values||[];return new jh(k,A)})(n.endAt)),zx(e,o,f,u,m,"F",p,g)}function yN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function l1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Oo(n.unaryFilter.field);return on.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(n.unaryFilter.field);return on.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Oo(n.unaryFilter.field);return on.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Oo(n.unaryFilter.field);return on.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(r):r.fieldFilter!==void 0?(function(n){return on.create(Oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return nr.create(n.compositeFilter.filters.map((s=>l1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(r):Ne(30097,{filter:r})}function vN(r){return sN[r]}function _N(r){return aN[r]}function EN(r){return oN[r]}function Mo(r){return{fieldPath:r.canonicalString()}}function Oo(r){return Rn.fromServerFormat(r.fieldPath)}function u1(r){return r instanceof on?(function(n){if(n.op==="=="){if(aE(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NAN"}};if(sE(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aE(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NAN"}};if(sE(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(n.field),op:_N(n.op),value:n.value}}})(r):r instanceof nr?(function(n){const s=n.getFilters().map((o=>u1(o)));return s.length===1?s[0]:{compositeFilter:{op:EN(n.op),filters:s}}})(r):Ne(54877,{filter:r})}function TN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function c1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,s,o,u=Oe.min(),f=Oe.min(),m=In.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.gt=e}}function bN(r){const e=gN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.Dn=new AN}addToCollectionParentIndex(e,n){return this.Dn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(ea.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class AN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new fn(wt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new fn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},h1=41943040;class ei{static withCacheSize(e){return new ei(e,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei.DEFAULT_COLLECTION_PERCENTILE=10,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ei.DEFAULT=new ei(h1,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ei.DISABLED=new ei(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Qo(0)}static ur(){return new Qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="LruGarbageCollector",RN=1048576;function wE([r,e],[n,s]){const o=Fe(r,n);return o===0?Fe(e,s):o}class IN{constructor(e){this.Tr=e,this.buffer=new fn(wE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();wE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ve(TE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){el(n)?ve(TE,"Ignoring IndexedDB error during garbage collection: ",n):await Zo(n)}await this.Rr(3e5)}))}}class xN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(af.ue);const s=new IN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(EE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EE):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(g=Date.now(),No()<=tt.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function NN(r,e){return new xN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.changes=new qa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&hu(s.mutation,o,yi.empty(),Dt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,nt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=nt()){const o=ka();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=tu();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=ka();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,nt())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=rs();const f=cu(),m=(function(){return cu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof la)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),hu(E.mutation,g,E.mutation.getFieldMask(),Dt.now())):f.set(g.key,yi.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>{var w;return m.set(g,new MN(E,(w=f.get(g))!==null&&w!==void 0?w:null))})),m)))}recalculateAndSaveOverlays(e,n){const s=cu();let o=new Bt(((f,m)=>f-m)),u=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||yi.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||nt()).add(p);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=Hw();E.forEach((A=>{if(!u.has(A)){const k=Xw(n.get(A),s.get(A));k!==null&&w.set(A,k),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return oe.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return Ae.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Uw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):oe.resolve(ka());let m=gu,p=u;return f.next((g=>oe.forEach(g,((E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?oe.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,nt()))).next((E=>({batchId:m,changes:qw(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((s=>{let o=tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=tu();return this.indexManager.getCollectionParents(e,u).next((m=>oe.forEach(m,(p=>{const g=(function(w,A){return new Mu(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((w,A)=>{f=f.insert(w,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,vn.newInvalidDocument(E)))}));let m=tu();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&hu(E.mutation,g,yi.empty(),Dt.now()),uf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:bN(o.bundledQuery),readTime:_i(o.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.overlays=new Bt(Ae.comparator),this.kr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ka();return oe.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.wt(e,n,u)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const o=ka(),u=n.length+1,f=new Ae(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Bt(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ka(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ka(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return oe.resolve(m)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new tN(n,s));let u=this.kr.get(n);u===void 0&&(u=nt(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.qr=new fn(yn.Qr),this.$r=new fn(yn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new yn(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new yn(e,n))}Gr(e,n){e.forEach((s=>this.removeReference(s,n)))}zr(e){const n=new Ae(new wt([])),s=new yn(n,e),o=new yn(n,e+1),u=[];return this.$r.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ae(new wt([])),s=new yn(n,e),o=new yn(n,e+1);let u=nt();return this.$r.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new yn(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class yn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ae.comparator(e.key,n.key)||Fe(e.Hr,n.Hr)}static Ur(e,n){return Fe(e.Hr,n.Hr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new fn(yn.Qr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new eN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new yn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(f)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Yp:this.er-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new yn(n,0),o=new yn(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new fn(Fe);return n.forEach((o=>{const u=new yn(o,0),f=new yn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),oe.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ae.isDocumentKey(u)||(u=u.child(""));const f=new yn(new Ae(u),0);let m=new fn(Fe);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),f),oe.resolve(this.ei(m))}ei(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){st(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return oe.forEach(n.mutations,(o=>{const u=new yn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,n){const s=new yn(n,0),o=this.Yr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.ni=e,this.docs=(function(){return new Bt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let s=rs();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():vn.newInvalidDocument(o))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=rs();const f=n.path,m=new Ae(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||yx(gx(E),s)<=0||(o.has(E.key)||uf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ne(9500)}ri(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new zN(this)}getSize(e){return oe.resolve(this.size)}}class zN extends DN{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.persistence=e,this.ii=new qa((n=>Xp(n)),Jp),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.si=0,this.oi=new rg,this.targetCount=0,this._i=Qo.ar()}forEachTarget(e,n){return this.ii.forEach(((s,o)=>n(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),oe.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Qo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.hr(n),oe.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),oe.waitFor(u).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),oe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n){this.ai={},this.overlays={},this.ui=new af(0),this.ci=!1,this.ci=!0,this.li=new PN,this.referenceDelegate=e(this),this.hi=new jN(this),this.indexManager=new SN,this.remoteDocumentCache=(function(o){return new UN(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new wN(n),this.Ti=new VN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new LN(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ve("MemoryPersistence","Starting transaction:",e);const o=new BN(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return oe.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,n))))}}class BN extends _x{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Ai=new rg,this.Ri=null}static Vi(e){return new sg(e)}get mi(){if(this.Ri)return this.Ri;throw Ne(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.mi,(s=>{const o=Ae.fromPath(s);return this.fi(e,o).next((u=>{u||n.removeEntry(o,Oe.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return oe.or([()=>oe.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Gh{constructor(e,n){this.persistence=e,this.gi=new qa((s=>wx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=NN(this,n)}static Vi(e,n){return new Gh(e,n)}Ii(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}yr(e){let n=0;return this.gr(e,(s=>{n++})).next((()=>n))}gr(e,n){return oe.forEach(this.gi,((s,o)=>this.Sr(e,s,o).next((u=>u?oe.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,(f=>this.Sr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Oe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bh(e.data.value)),n}Sr(e,n,s){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return oe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=nt(),o=nt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ag(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return FR()?8:Ex(Un())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new qN;return this.ws(e,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)}))})).next((()=>u.result))}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(No()<=tt.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Do(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(No()<=tt.DEBUG&&ve("QueryEngine","Query:",Do(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(No()<=tt.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Do(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):oe.resolve())}ps(e,n){if(cE(n))return oe.resolve(null);let s=_r(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=dp(n,null,"F"),s=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=nt(...u);return this.gs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,f,p.readTime)?this.ps(e,dp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ys(e,n,s,o){return cE(n)||o.isEqual(Oe.min())?oe.resolve(null):this.gs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?oe.resolve(null):(No()<=tt.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Do(n)),this.vs(e,f,n,px(o,gu)).next((m=>m)))}))}bs(e,n){let s=new fn(jw(e));return n.forEach(((o,u)=>{uf(e,u)&&(s=s.add(u))})),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return No()<=tt.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Do(n)),this.gs.getDocumentsMatchingQuery(e,n,ea.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="LocalStore",FN=3e8;class GN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new Bt(Fe),this.Ms=new qa((u=>Xp(u)),Jp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ON(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function QN(r,e,n,s){return new GN(r,e,n,s)}async function d1(r,e){const n=Ue(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=nt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function YN(r,e){const n=Ue(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const w=g.batch,A=w.keys();let k=oe.resolve();return A.forEach((G=>{k=k.next((()=>E.getEntry(p,G))).next((Z=>{const U=g.docVersions.get(G);st(U!==null,48541),Z.version.compareTo(U)<0&&(w.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),E.addEntry(Z)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,w)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=nt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function m1(r){const e=Ue(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function KN(r,e){const n=Ue(r),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach(((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,w).next((()=>n.hi.addMatchingKeys(u,E.addedDocuments,w))));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?k=k.withResumeToken(In.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(w,k),(function(Z,U,ue){return Z.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=FN?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(A,k,E)&&m.push(n.hi.updateTargetData(u,k))}));let p=rs(),g=nt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push($N(u,f,e.documentUpdates).next((E=>{p=E.Ls,g=E.ks}))),!s.isEqual(Oe.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next((w=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return oe.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function $N(r,e,n){let s=nt(),o=nt();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=rs();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ve(og,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:f,ks:o}}))}function XN(r,e){const n=Ue(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Yp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function JN(r,e){const n=Ue(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,e).next((u=>u?(o=u,oe.resolve(o)):n.hi.allocateTargetId(s).next((f=>(o=new Fs(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s}))}async function yp(r,e,n){const s=Ue(r),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!el(f))throw f;ve(og,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function bE(r,e,n){const s=Ue(r);let o=Oe.min(),u=nt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const w=Ue(p),A=w.Ms.get(E);return A!==void 0?oe.resolve(w.Fs.get(A)):w.hi.getTargetData(g,E)})(s,f,_r(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Oe.min(),n?u:nt()))).next((m=>(WN(s,Bx(e),m),{documents:m,qs:u})))))}function WN(r,e,n){let s=r.xs.get(e)||Oe.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(e,s)}class SE{constructor(){this.activeTargetIds=Yx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZN{constructor(){this.Fo=new SE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new SE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="ConnectivityMonitor";class RE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ve(AE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ve(AE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function vp(){return ph===null?ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",tD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Uh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=vp(),m=this.Go(e,n.toUriEncodedString());ve(km,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=$o(g);return this.jo(e,m,p,s,E).then((w=>(ve(km,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw Zs(km,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w}))}Jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Go(e,n){const s=tD[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="WebChannelConnection";class rD extends nD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const f=vp();return new Promise(((m,p)=>{const g=new fw;g.setWithCredentials(!0),g.listenOnce(dw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case wh.NO_ERROR:const w=g.getResponseJson();ve(Pn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case wh.TIMEOUT:ve(Pn,`RPC '${e}' ${f} timed out`),p(new ye(ie.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const A=g.getStatus();if(ve(Pn,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const G=k==null?void 0:k.error;if(G&&G.status&&G.message){const Z=(function(ue){const ce=ue.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(ce)>=0?ce:ie.UNKNOWN})(G.status);p(new ye(Z,G.message))}else p(new ye(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ye(ie.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{c_:e,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ve(Pn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ve(Pn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}P_(e,n,s){const o=vp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=gw(),m=pw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ve(Pn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.T_(w);let A=!1,k=!1;const G=new iD({Ho:U=>{k?ve(Pn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(A||(ve(Pn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ve(Pn,`RPC '${e}' stream ${o} sending:`,U),w.send(U))},Yo:()=>w.close()}),Z=(U,ue,ce)=>{U.listen(ue,(re=>{try{ce(re)}catch(Se){setTimeout((()=>{throw Se}),0)}}))};return Z(w,eu.EventType.OPEN,(()=>{k||(ve(Pn,`RPC '${e}' stream ${o} transport opened.`),G.s_())})),Z(w,eu.EventType.CLOSE,(()=>{k||(k=!0,ve(Pn,`RPC '${e}' stream ${o} transport closed`),G.__(),this.I_(w))})),Z(w,eu.EventType.ERROR,(U=>{k||(k=!0,Zs(Pn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),G.__(new ye(ie.UNAVAILABLE,"The operation could not be completed")))})),Z(w,eu.EventType.MESSAGE,(U=>{var ue;if(!k){const ce=U.data[0];st(!!ce,16349);const re=ce,Se=(re==null?void 0:re.error)||((ue=re[0])===null||ue===void 0?void 0:ue.error);if(Se){ve(Pn,`RPC '${e}' stream ${o} received error:`,Se);const Pe=Se.status;let Ie=(function(C){const M=an[C];if(M!==void 0)return e1(M)})(Pe),D=Se.message;Ie===void 0&&(Ie=ie.INTERNAL,D="Unknown error status: "+Pe+" with message "+Se.message),k=!0,G.__(new ye(Ie,D)),w.close()}else ve(Pn,`RPC '${e}' stream ${o} received:`,ce),G.a_(ce)}})),Z(m,mw.STAT_EVENT,(U=>{U.stat===ap.PROXY?ve(Pn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===ap.NOPROXY&&ve(Pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.o_()}),0),G}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(r){return new lN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="PersistentStream";class p1{constructor(e,n,s,o,u,f,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new lg(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{e((()=>{const o=new ye(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return ve(IE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(ve(IE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sD extends p1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=fN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Oe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Oe.min():f.readTime?_i(f.readTime):Oe.min()})(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=gp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=hp(p)?{documents:mN(u,p)}:{query:pN(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=i1(u,f.resumeToken);const g=mp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Oe.min())>0){m.readTime=Hh(u,f.snapshotVersion.toTimestamp());const g=mp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=yN(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=gp(this.serializer),n.removeTarget=e,this.k_(n)}}class aD extends p1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=dN(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=gp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>o1(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{}class lD extends oD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,pp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ie.UNKNOWN,u.toString())}))}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(e,pp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ye(ie.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class uD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(is(n),this._a=!1):ve("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="RemoteStore";class cD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{Ha(this)&&(ve(ja,"Restarting streams for network reachability change."),await(async function(p){const g=Ue(p);g.Ia.add(4),await Pu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await mf(g)})(this))}))})),this.Aa=new uD(s,o)}}async function mf(r){if(Ha(r))for(const e of r.da)await e(!0)}async function Pu(r){for(const e of r.da)await e(!1)}function g1(r,e){const n=Ue(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),fg(n)?hg(n):tl(n).x_()&&cg(n,e))}function ug(r,e){const n=Ue(r),s=tl(n);n.Ta.delete(e),s.x_()&&y1(n,e),n.Ta.size===0&&(s.x_()?s.B_():Ha(n)&&n.Aa.set("Unknown"))}function cg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tl(r).H_(e)}function y1(r,e){r.Ra.$e(e),tl(r).Y_(e)}function hg(r){r.Ra=new rN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),tl(r).start(),r.Aa.aa()}function fg(r){return Ha(r)&&!tl(r).M_()&&r.Ta.size>0}function Ha(r){return Ue(r).Ia.size===0}function v1(r){r.Ra=void 0}async function hD(r){r.Aa.set("Online")}async function fD(r){r.Ta.forEach(((e,n)=>{cg(r,e)}))}async function dD(r,e){v1(r),fg(r)?(r.Aa.la(e),hg(r)):r.Aa.set("Unknown")}async function mD(r,e,n){if(r.Aa.set("Online"),e instanceof n1&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))})(r,e)}catch(s){ve(ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qh(r,s)}else if(e instanceof Rh?r.Ra.Ye(e):e instanceof t1?r.Ra.it(e):r.Ra.et(e),!n.isEqual(Oe.min()))try{const s=await m1(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(In.EMPTY_BYTE_STRING,E.snapshotVersion)),y1(u,p);const w=new Fs(E.target,p,g,E.sequenceNumber);cg(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ve(ja,"Failed to raise snapshot:",s),await Qh(r,s)}}async function Qh(r,e,n){if(!el(e))throw e;r.Ia.add(1),await Pu(r),r.Aa.set("Offline"),n||(n=()=>m1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ve(ja,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await mf(r)}))}function _1(r,e){return e().catch((n=>Qh(r,n,e)))}async function pf(r){const e=Ue(r),n=ra(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Yp;for(;pD(e);)try{const o=await XN(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,gD(e,o)}catch(o){await Qh(e,o)}E1(e)&&T1(e)}function pD(r){return Ha(r)&&r.Pa.length<10}function gD(r,e){r.Pa.push(e);const n=ra(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function E1(r){return Ha(r)&&!ra(r).M_()&&r.Pa.length>0}function T1(r){ra(r).start()}async function yD(r){ra(r).na()}async function vD(r){const e=ra(r);for(const n of r.Pa)e.X_(n.mutations)}async function _D(r,e,n){const s=r.Pa.shift(),o=tg.from(s,e,n);await _1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await pf(r)}async function ED(r,e){e&&ra(r).Z_&&await(async function(s,o){if((function(f){return Zw(f)&&f!==ie.ABORTED})(o.code)){const u=s.Pa.shift();ra(s).N_(),await _1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await pf(s)}})(r,e),E1(r)&&T1(r)}async function CE(r,e){const n=Ue(r);n.asyncQueue.verifyOperationInProgress(),ve(ja,"RemoteStore received new credentials");const s=Ha(n);n.Ia.add(3),await Pu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await mf(n)}async function TD(r,e){const n=Ue(r);e?(n.Ia.delete(2),await mf(n)):e||(n.Ia.add(2),await Pu(n),n.Aa.set("Unknown"))}function tl(r){return r.Va||(r.Va=(function(n,s,o){const u=Ue(n);return u.ia(),new sD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:hD.bind(null,r),e_:fD.bind(null,r),n_:dD.bind(null,r),J_:mD.bind(null,r)}),r.da.push((async e=>{e?(r.Va.N_(),fg(r)?hg(r):r.Aa.set("Unknown")):(await r.Va.stop(),v1(r))}))),r.Va}function ra(r){return r.ma||(r.ma=(function(n,s,o){const u=Ue(n);return u.ia(),new aD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:yD.bind(null,r),n_:ED.bind(null,r),ea:vD.bind(null,r),ta:_D.bind(null,r)}),r.da.push((async e=>{e?(r.ma.N_(),await pf(r)):(await r.ma.stop(),r.Pa.length>0&&(ve(ja,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new dg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mg(r,e){if(is("AsyncQueue",`${e}: ${r}`),el(r))return new ye(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static emptySet(e){return new Uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ae.comparator(n.key,s.key):(n,s)=>Ae.comparator(n.key,s.key),this.keyedMap=tu(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.fa=new Bt(Ae.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ne(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Yo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Yo(e,n,Uo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class bD{constructor(){this.queries=NE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Ue(n),u=o.queries;o.queries=NE(),u.forEach(((f,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ye(ie.ABORTED,"Firestore shutting down"))}}function NE(){return new qa((r=>zw(r)),lf)}async function w1(r,e){const n=Ue(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new wD,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=mg(f,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&pg(n)}async function b1(r,e){const n=Ue(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function SD(r,e){const n=Ue(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&pg(n)}function AD(r,e,n){const s=Ue(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function pg(r){r.Da.forEach((e=>{e.next()}))}var _p,DE;(DE=_p||(_p={})).Fa="default",DE.Cache="cache";class S1{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==_p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.key=e}}class R1{constructor(e){this.key=e}}class RD{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=nt(),this.mutatedKeys=nt(),this.Xa=jw(e),this.eu=new Uo(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new xE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const A=o.get(E),k=uf(this.query,w)?w:null,G=!!A&&this.mutatedKeys.has(A.key),Z=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let U=!1;A&&k?A.data.isEqual(k.data)?G!==Z&&(s.track({type:3,doc:k}),U=!0):this.iu(A,k)||(s.track({type:2,doc:k}),U=!0,(p&&this.Xa(k,p)>0||g&&this.Xa(k,g)<0)&&(m=!0)):!A&&k?(s.track({type:0,doc:k}),U=!0):A&&!k&&(s.track({type:1,doc:A}),U=!0,(p||g)&&(m=!0)),U&&(k?(f=f.add(k),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort(((E,w)=>(function(k,G){const Z=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{At:U})}};return Z(k)-Z(G)})(E.type,w.type)||this.Xa(E.doc,w.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new Yo(this.query,e.eu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new xE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=nt(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return e.forEach((s=>{this.Za.has(s)||n.push(new R1(s))})),this.Za.forEach((s=>{e.has(s)||n.push(new A1(s))})),n}uu(e){this.Ha=e.qs,this.Za=nt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Yo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const gg="SyncEngine";class ID{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class CD{constructor(e){this.key=e,this.lu=!1}}class xD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new qa((m=>zw(m)),lf),this.Tu=new Map,this.Iu=new Set,this.du=new Bt(Ae.comparator),this.Eu=new Map,this.Au=new rg,this.Ru={},this.Vu=new Map,this.mu=Qo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function ND(r,e,n=!0){const s=M1(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await I1(s,e,n,!0),o}async function DD(r,e){const n=M1(r);await I1(n,e,!0,!1)}async function I1(r,e,n,s){const o=await JN(r.localStore,_r(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await MD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&g1(r.remoteStore,o),m}async function MD(r,e,n,s,o){r.gu=(w,A,k)=>(async function(Z,U,ue,ce){let re=U.view.nu(ue);re.Ds&&(re=await bE(Z.localStore,U.query,!1).then((({documents:D})=>U.view.nu(D,re))));const Se=ce&&ce.targetChanges.get(U.targetId),Pe=ce&&ce.targetMismatches.get(U.targetId)!=null,Ie=U.view.applyChanges(re,Z.isPrimaryClient,Se,Pe);return OE(Z,U.targetId,Ie._u),Ie.snapshot})(r,w,A,k);const u=await bE(r.localStore,e,!0),f=new RD(e,u.qs),m=f.nu(u.documents),p=ku.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);OE(r,n,g._u);const E=new ID(e,n,f);return r.Pu.set(e,E),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),g.snapshot}async function OD(r,e,n){const s=Ue(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((f=>!lf(f,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await yp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ug(s.remoteStore,o.targetId),Ep(s,o.targetId)})).catch(Zo)):(Ep(s,o.targetId),await yp(s.localStore,o.targetId,!0))}async function VD(r,e){const n=Ue(r),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ug(n.remoteStore,s.targetId))}async function kD(r,e,n){const s=qD(r);try{const o=await(function(f,m){const p=Ue(f),g=Dt.now(),E=m.reduce(((k,G)=>k.add(G.key)),nt());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let G=rs(),Z=nt();return p.Os.getEntries(k,E).next((U=>{G=U,G.forEach(((ue,ce)=>{ce.isValidDocument()||(Z=Z.add(ue))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,G))).next((U=>{w=U;const ue=[];for(const ce of m){const re=Zx(ce,w.get(ce.key).overlayedDocument);re!=null&&ue.push(new la(ce.key,re,Dw(re.value.mapValue),hn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,ue,m)})).next((U=>{A=U;const ue=U.applyToLocalDocumentSet(w,Z);return p.documentOverlayCache.saveOverlays(k,U.batchId,ue)}))})).then((()=>({batchId:A.batchId,changes:qw(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new Bt(Fe)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g})(s,o.batchId,n),await Lu(s,o.changes),await pf(s.remoteStore)}catch(o){const u=mg(o,"Failed to persist write");n.reject(u)}}async function C1(r,e){const n=Ue(r);try{const s=await KN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?st(f.lu,14607):o.removedDocuments.size>0&&(st(f.lu,42227),f.lu=!1))})),await Lu(n,s,e)}catch(s){await Zo(s)}}function ME(r,e,n){const s=Ue(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ue(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,w)=>{for(const A of w.wa)A.va(m)&&(g=!0)})),g&&pg(p)})(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function PD(r,e,n){const s=Ue(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new Bt(Ae.comparator);f=f.insert(u,vn.newNoDocument(u,Oe.min()));const m=nt().add(u),p=new ff(Oe.min(),new Map,new Bt(Fe),f,m);await C1(s,p),s.du=s.du.remove(u),s.Eu.delete(e),yg(s)}else await yp(s.localStore,e,!1).then((()=>Ep(s,e,n))).catch(Zo)}async function LD(r,e){const n=Ue(r),s=e.batch.batchId;try{const o=await YN(n.localStore,e);N1(n,s,null),x1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Lu(n,o)}catch(o){await Zo(o)}}async function UD(r,e,n){const s=Ue(r);try{const o=await(function(f,m){const p=Ue(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((w=>(st(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);N1(s,e,n),x1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Lu(s,o)}catch(o){await Zo(o)}}function x1(r,e){(r.Vu.get(e)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(e)}function N1(r,e,n){const s=Ue(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Ep(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach((s=>{r.Au.containsKey(s)||D1(r,s)}))}function D1(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(ug(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),yg(r))}function OE(r,e,n){for(const s of n)s instanceof A1?(r.Au.addReference(s.key,e),zD(r,s)):s instanceof R1?(ve(gg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||D1(r,s.key)):Ne(19791,{yu:s})}function zD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(ve(gg,"New document in limbo: "+n),r.Iu.add(s),yg(r))}function yg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new Ae(wt.fromString(e)),s=r.mu.next();r.Eu.set(s,new CD(n)),r.du=r.du.insert(n,s),g1(r.remoteStore,new Fs(_r(Wp(n.path)),s,"TargetPurposeLimboResolution",af.ue))}}async function Lu(r,e,n){const s=Ue(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{f.push(s.gu(p,e,n).then((g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=ag.Es(p.targetId,g);u.push(w)}})))})),await Promise.all(f),s.hu.J_(o),await(async function(p,g){const E=Ue(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>oe.forEach(g,(A=>oe.forEach(A.Is,(k=>E.persistence.referenceDelegate.addReference(w,A.targetId,k))).next((()=>oe.forEach(A.ds,(k=>E.persistence.referenceDelegate.removeReference(w,A.targetId,k)))))))))}catch(w){if(!el(w))throw w;ve(og,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const k=E.Fs.get(A),G=k.snapshotVersion,Z=k.withLastLimboFreeSnapshotVersion(G);E.Fs=E.Fs.insert(A,Z)}}})(s.localStore,u))}async function jD(r,e){const n=Ue(r);if(!n.currentUser.isEqual(e)){ve(gg,"User change. New user:",e.toKey());const s=await d1(n.localStore,e);n.currentUser=e,(function(u,f){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ye(ie.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Lu(n,s.Bs)}}function BD(r,e){const n=Ue(r),s=n.Eu.get(e);if(s&&s.lu)return nt().add(s.key);{let o=nt();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function M1(r){const e=Ue(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=C1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PD.bind(null,e),e.hu.J_=SD.bind(null,e.eventManager),e.hu.pu=AD.bind(null,e.eventManager),e}function qD(r){const e=Ue(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UD.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return QN(this.persistence,new HN,e.initialUser,this.serializer)}Du(e){return new f1(sg.Vi,this.serializer)}bu(e){return new ZN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class HD extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){st(this.persistence.referenceDelegate instanceof Gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new CN(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?ei.withCacheSize(this.cacheSizeBytes):ei.DEFAULT;return new f1((s=>Gh.Vi(s,n)),this.serializer)}}class Tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ME(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=jD.bind(null,this.syncEngine),await TD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bD})()}createDatastore(e){const n=df(e.databaseInfo.databaseId),s=(function(u){return new rD(u)})(e.databaseInfo);return(function(u,f,m,p){return new lD(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new cD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>ME(this.syncEngine,n,0)),(function(){return RE.C()?new RE:new eD})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const w=new xD(o,u,f,m,p,g);return E&&(w.fu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Ue(o);ve(ja,"RemoteStore shutting down."),u.Ia.add(5),await Pu(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Tp.provider={build:()=>new Tp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ye(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=Ue(o),m={documents:u.map((w=>Fh(f.serializer,w)))},p=await f.Jo("BatchGetDocuments",f.serializer.databaseId,wt.emptyPath(),m,u.length),g=new Map;p.forEach((w=>{const A=hN(f.serializer,w);g.set(A.key.toString(),A)}));const E=[];return u.forEach((w=>{const A=g.get(w.toString());st(!!A,55234,{key:w}),E.push(A)})),E})(this.datastore,e);return n.forEach((s=>this.recordVersion(s))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,s)=>{const o=Ae.fromPath(s);this.mutations.push(new Ww(o,this.precondition(o)))})),await(async function(s,o){const u=Ue(s),f={writes:o.map((m=>o1(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,wt.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ne(50498,{Wu:e.constructor.name});n=Oe.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new ye(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Oe.min())?hn.exists(!1):hn.updateTime(n):hn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Oe.min()))throw new ye(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hn.updateTime(n)}return hn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,s,o,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new lg(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const e=new FD(this.datastore),n=this.Ju(e);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(e){try{const n=this.updateFunction(e);return!Du(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Zw(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="FirestoreClient";class QD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ln.UNAUTHENTICATED,this.clientId=Qp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ve(sa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ve(sa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=mg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Lm(r,e){r.asyncQueue.verifyOperationInProgress(),ve(sa,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await d1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>{Zs("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{ve("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Zs("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=e}async function VE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await YD(r);ve(sa,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>CE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>CE(e.remoteStore,o))),r._onlineComponents=e}async function YD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ve(sa,"Using user provided OfflineComponentProvider");try{await Lm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Zs("Error using user provided cache. Falling back to memory cache: "+n),await Lm(r,new Yh)}}else ve(sa,"Using default OfflineComponentProvider"),await Lm(r,new HD(void 0));return r._offlineComponents}async function vg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ve(sa,"Using user provided OnlineComponentProvider"),await VE(r,r._uninitializedComponentsProvider._online)):(ve(sa,"Using default OnlineComponentProvider"),await VE(r,new Tp))),r._onlineComponents}function KD(r){return vg(r).then((e=>e.syncEngine))}function $D(r){return vg(r).then((e=>e.datastore))}async function wp(r){const e=await vg(r),n=e.eventManager;return n.onListen=ND.bind(null,e.syncEngine),n.onUnlisten=OD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VD.bind(null,e.syncEngine),n}function XD(r,e,n={}){const s=new Wr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new O1({next:A=>{E.Ou(),f.enqueueAndForget((()=>b1(u,w))),A.fromCache&&p.source==="server"?g.reject(new ye(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new S1(m,E,{includeMetadataChanges:!0,ka:!0});return w1(u,w)})(await wp(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="firestore.googleapis.com",PE=!0;class LE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=k1,this.ssl=PE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:PE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=h1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RN)throw new ye(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V1((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new sx;switch(s.type){case"firstParty":return new ux(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=kE.get(n);s&&(ve("ComponentProvider","Removing Datastore"),kE.delete(n),s.terminate())})(this),Promise.resolve()}}function JD(r,e,n,s={}){var o;r=vi(r,gf);const u=$o(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(bT(`https://${p}`),ST("Firestore",!0)),f.host!==k1&&f.host!==p&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!es(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=Ln.MOCK_USER;else{E=kR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ye(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ln(A)}r._authCredentials=new ax(new vw(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fa(this.firestore,e,this._query)}}class Qt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Nu(n,Qt._jsonSchema))return new Qt(e,s||null,new Ae(wt.fromString(n.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:ln("string",Qt._jsonSchemaVersion),referencePath:ln("string")};class Js extends Fa{constructor(e,n,s){super(e,n,Wp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new Ae(e))}withConverter(e){return new Js(this.firestore,e,this._path)}}function Wl(r,e,...n){if(r=Yt(r),Ew("collection","path",e),r instanceof gf){const s=wt.fromString(e,...n);return X0(s),new Js(r,null,s)}{if(!(r instanceof Qt||r instanceof Js))throw new ye(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(wt.fromString(e,...n));return X0(s),new Js(r.firestore,null,s)}}function Fn(r,e,...n){if(r=Yt(r),arguments.length===1&&(e=Qp.newId()),Ew("doc","path",e),r instanceof gf){const s=wt.fromString(e,...n);return $0(s),new Qt(r,null,new Ae(s))}{if(!(r instanceof Qt||r instanceof Js))throw new ye(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(wt.fromString(e,...n));return $0(s),new Qt(r.firestore,r instanceof Js?r.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="AsyncQueue";class zE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new lg(this,"async_queue_retry"),this.oc=()=>{const s=Pm();s&&ve(UE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Wr;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!el(e))throw e;ve(UE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,is("INTERNAL UNHANDLED ERROR: ",jE(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=dg.createAndSchedule(this,e,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&Ne(47125,{hc:jE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function jE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ss extends gf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new zE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zE(e),this._firestoreClient=void 0,await e}}}function WD(r,e){const n=typeof r=="object"?r:CT(),s=typeof r=="string"?r:Uh,o=Op(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=OR("firestore");u&&JD(o,...u)}return o}function Uu(r){if(r._terminated)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ZD(r),r._firestoreClient}function ZD(r){var e,n,s;const o=r._freezeSettings(),u=(function(m,p,g,E){return new Ax(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,V1(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new QD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gi(In.fromBase64String(e))}catch(n){throw new ye(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gi(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nu(e,gi._jsonSchema))return gi.fromBase64String(e.bytes)}}gi._jsonSchemaVersion="firestore/bytes/1.0",gi._jsonSchema={type:ln("string",gi._jsonSchemaVersion),bytes:ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Er._jsonSchemaVersion}}static fromJSON(e){if(Nu(e,Er._jsonSchema))return new Er(e.latitude,e.longitude)}}Er._jsonSchemaVersion="firestore/geoPoint/1.0",Er._jsonSchema={type:ln("string",Er._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nu(e,Tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Tr(e.vectorValues);throw new ye(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tr._jsonSchemaVersion="firestore/vectorValue/1.0",Tr._jsonSchema={type:ln("string",Tr._jsonSchemaVersion),vectorValues:ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=/^__.*__$/;class tM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new la(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(e,this.data,n,this.fieldTransforms)}}class P1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new la(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function L1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ec:r})}}class yf{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new yf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Kh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(L1(this.Ec)&&eM.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class nM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||df(e)}Dc(e,n,s,o=!1){return new yf({Ec:e,methodName:n,bc:s,path:Rn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zu(r){const e=r._freezeSettings(),n=df(r._databaseId);return new nM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function _g(r,e,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);Ag("Data must be an object, but it was:",f,s);const m=z1(s,f);let p,g;if(u.merge)p=new yi(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=bp(e,w,n);if(!f.contains(A))throw new ye(ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);B1(E,A)||E.push(A)}p=new yi(E),g=f.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,g=f.fieldTransforms;return new tM(new Gn(m),p,g)}class ju extends il{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ju}}function U1(r,e,n){return new yf({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Eg extends il{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=U1(this,e,!0),s=this.vc.map((u=>Ga(u,n))),o=new Fo(s);return new eg(e.path,o)}isEqual(e){return e instanceof Eg&&es(this.vc,e.vc)}}class Tg extends il{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=U1(this,e,!0),s=this.vc.map((u=>Ga(u,n))),o=new Go(s);return new eg(e.path,o)}isEqual(e){return e instanceof Tg&&es(this.vc,e.vc)}}class wg extends il{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new Eu(e.serializer,Gw(e.serializer,this.Cc));return new eg(e.path,n)}isEqual(e){return e instanceof wg&&this.Cc===e.Cc}}function bg(r,e,n,s){const o=r.Dc(1,e,n);Ag("Data must be an object, but it was:",o,s);const u=[],f=Gn.empty();oa(s,((p,g)=>{const E=Rg(e,p,n);g=Yt(g);const w=o.gc(E);if(g instanceof ju)u.push(E);else{const A=Ga(g,w);A!=null&&(u.push(E),f.set(E,A))}}));const m=new yi(u);return new P1(f,m,o.fieldTransforms)}function Sg(r,e,n,s,o,u){const f=r.Dc(1,e,n),m=[bp(e,s,n)],p=[o];if(u.length%2!=0)throw new ye(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(bp(e,u[A])),p.push(u[A+1]);const g=[],E=Gn.empty();for(let A=m.length-1;A>=0;--A)if(!B1(g,m[A])){const k=m[A];let G=p[A];G=Yt(G);const Z=f.gc(k);if(G instanceof ju)g.push(k);else{const U=Ga(G,Z);U!=null&&(g.push(k),E.set(k,U))}}const w=new yi(g);return new P1(E,w,f.fieldTransforms)}function iM(r,e,n,s=!1){return Ga(n,r.Dc(s?4:3,e))}function Ga(r,e){if(j1(r=Yt(r)))return Ag("Unsupported field value:",e,r),z1(r,e);if(r instanceof il)return(function(s,o){if(!L1(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Ga(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Gw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:Hh(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hh(o.serializer,u)}}if(s instanceof Er)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof gi)return{bytesValue:i1(o.serializer,s._byteString)};if(s instanceof Qt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ig(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Tr)return(function(f,m){return{mapValue:{fields:{[xw]:{stringValue:Nw},[zh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return Zp(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${sf(s)}`)})(r,e)}function z1(r,e){const n={};return bw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(r,((s,o)=>{const u=Ga(o,e.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function j1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Dt||r instanceof Er||r instanceof gi||r instanceof Qt||r instanceof il||r instanceof Tr)}function Ag(r,e,n){if(!j1(n)||!Tw(n)){const s=sf(n);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function bp(r,e,n){if((e=Yt(e))instanceof nl)return e._internalPath;if(typeof e=="string")return Rg(r,e);throw Kh("Field path arguments must be of type string or ",r,!1,void 0,n)}const rM=new RegExp("[~\\*/\\[\\]]");function Rg(r,e,n){if(e.search(rM)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new nl(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Kh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ye(ie.INVALID_ARGUMENT,m+r+p)}function B1(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ig("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sM extends $h{data(){return super.data()}}function Ig(r,e){return typeof e=="string"?Rg(r,e):e instanceof nl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cg{}class aM extends Cg{}function oM(r,e,...n){let s=[];e instanceof Cg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof xg)).length,m=u.filter((p=>p instanceof vf)).length;if(f>1||f>0&&m>0)throw new ye(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class vf extends aM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new vf(e,n,s)}_apply(e){const n=this._parse(e);return H1(e._query,n),new Fa(e.firestore,e.converter,fp(e._query,n))}_parse(e){const n=zu(e.firestore);return(function(u,f,m,p,g,E,w){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ye(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){HE(w,E);const G=[];for(const Z of w)G.push(qE(p,u,Z));A={arrayValue:{values:G}}}else A=qE(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||HE(w,E),A=iM(m,f,w,E==="in"||E==="not-in");return on.create(g,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lM(r,e,n){const s=e,o=Ig("where",r);return vf._create(o,s,n)}class xg extends Cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)H1(f,p),f=fp(f,p)})(e._query,n),new Fa(e.firestore,e.converter,fp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function qE(r,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new ye(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uw(e)&&n.indexOf("/")!==-1)throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(wt.fromString(n));if(!Ae.isDocumentKey(s))throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return rE(r,new Ae(s))}if(n instanceof Qt)return rE(r,n._key);throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sf(n)}.`)}function HE(r,e){if(!Array.isArray(r)||r.length===0)throw new ye(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H1(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class F1{convertValue(e,n="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return oa(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[zh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>Wt(f.doubleValue)));return new Tr(u)}convertGeoPoint(e){return new Er(Wt(e.latitude),Wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=of(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const n=ta(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=wt.fromString(e);st(c1(s),9688,{name:e});const o=new vu(s.get(1),s.get(3)),u=new Ae(s.popFirst(5));return o.isEqual(n)||is(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class uM extends F1{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}class Vo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ws extends $h{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ig("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ws._jsonSchema={type:ln("string",Ws._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};class Ih extends Ws{data(e={}){return super.data(e)}}class Pa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Vo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ih(this._firestore,this._userDataWriter,s.key,s,new Vo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:cM(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:r})}}Pa._jsonSchemaVersion="firestore/querySnapshot/1.0",Pa._jsonSchema={type:ln("string",Pa._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};class _f extends F1{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}function FE(r){r=vi(r,Fa);const e=vi(r.firestore,ss),n=Uu(e),s=new _f(e);return q1(r._query),XD(n,r._query).then((o=>new Pa(e,s,r,o)))}function Zl(r,e,n){r=vi(r,Qt);const s=vi(r.firestore,ss),o=Ng(r.converter,e,n);return Ef(s,[_g(zu(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,hn.none())])}function xo(r,e,n,...s){r=vi(r,Qt);const o=vi(r.firestore,ss),u=zu(o);let f;return f=typeof(e=Yt(e))=="string"||e instanceof nl?Sg(u,"updateDoc",r._key,e,n,s):bg(u,"updateDoc",r._key,e),Ef(o,[f.toMutation(r._key,hn.exists(!0))])}function Um(r){return Ef(vi(r.firestore,ss),[new Vu(r._key,hn.none())])}function zm(r,...e){var n,s,o;r=Yt(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||BE(e[f])||(u=e[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(BE(e[f])){const w=e[f];e[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,E;if(r instanceof Qt)g=vi(r.firestore,ss),E=Wp(r._key.path),p={next:w=>{e[f]&&e[f](hM(g,r,w))},error:e[f+1],complete:e[f+2]};else{const w=vi(r,Fa);g=vi(w.firestore,ss),E=w._query;const A=new _f(g);p={next:k=>{e[f]&&e[f](new Pa(g,A,w,k))},error:e[f+1],complete:e[f+2]},q1(r._query)}return(function(A,k,G,Z){const U=new O1(Z),ue=new S1(k,U,G);return A.asyncQueue.enqueueAndForget((async()=>w1(await wp(A),ue))),()=>{U.Ou(),A.asyncQueue.enqueueAndForget((async()=>b1(await wp(A),ue)))}})(Uu(g),E,m,p)}function Ef(r,e){return(function(s,o){const u=new Wr;return s.asyncQueue.enqueueAndForget((async()=>kD(await KD(s),o,u))),u.promise})(Uu(r),e)}function hM(r,e,n){const s=n.docs.get(e._key),o=new _f(r);return new Ws(r,o,e._key,s,new Vo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zu(e)}set(e,n,s){this._verifyNotCommitted();const o=Gs(e,this._firestore),u=Ng(o.converter,n,s),f=_g(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,hn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Gs(e,this._firestore);let f;return f=typeof(n=Yt(n))=="string"||n instanceof nl?Sg(this._dataReader,"WriteBatch.update",u._key,n,s,o):bg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Gs(e,this._firestore);return this._mutations=this._mutations.concat(new Vu(n._key,hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gs(r,e){if((r=Yt(r)).firestore!==e)throw new ye(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=zu(e)}get(e){const n=Gs(e,this._firestore),s=new uM(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return Ne(24041);const u=o[0];if(u.isFoundDocument())return new $h(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new $h(this._firestore,s,n._key,null,n.converter);throw Ne(18433,{doc:u})}))}set(e,n,s){const o=Gs(e,this._firestore),u=Ng(o.converter,n,s),f=_g(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,n,s,...o){const u=Gs(e,this._firestore);let f;return f=typeof(n=Yt(n))=="string"||n instanceof nl?Sg(this._dataReader,"Transaction.update",u._key,n,s,o):bg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(e){const n=Gs(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM extends mM{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Gs(e,this._firestore),s=new _f(this._firestore);return super.get(e).then((o=>new Ws(this._firestore,s,n._key,o._document,new Vo(!1,!1),n.converter)))}}function gM(r,e,n){r=vi(r,ss);const s=Object.assign(Object.assign({},fM),n);return(function(u){if(u.maxAttempts<1)throw new ye(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Wr;return u.asyncQueue.enqueueAndForget((async()=>{const g=await $D(u);new GD(u.asyncQueue,g,m,f,p).zu()})),p.promise})(Uu(r),(o=>e(new pM(r,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(){return new ju("deleteField")}function vM(...r){return new Eg("arrayUnion",r)}function _M(...r){return new Tg("arrayRemove",r)}function EM(r){return new wg("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(r){return Uu(r=vi(r,ss)),new dM(r,(e=>Ef(r,e)))}(function(e,n=!0){(function(o){Wo=o})(Xo),zo(new La("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ss(new ox(s.getProvider("auth-internal")),new cx(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(g.options.projectId,E)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ks(F0,G0,e),Ks(F0,G0,"esm2017")})();var wM="firebase",bM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks(wM,bM,"app");const SM={apiKey:"AIzaSyA6gk3B0uFG3y7v4jhCWb9zzlPSmX0CjdU",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.appspot.com",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},G1=IT(SM),zi=ix(G1),cn=WD(G1),jm=new Kr;(async()=>{try{await ou(zi,aw)}catch{try{await ou(zi,tf)}catch{await ou(zi,rp)}}})();var Dg={};(function r(e,n,s,o){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=(function(){if(!e.OffscreenCanvas)return!1;try{var q=new OffscreenCanvas(1,1),T=q.getContext("2d");T.fillRect(0,0,1,1);var B=q.transferToImageBitmap();T.createPattern(B,"no-repeat")}catch{return!1}return!0})();function p(){}function g(q){var T=n.exports.Promise,B=T!==void 0?T:e.Promise;return typeof B=="function"?new B(q):(q(p,p),null)}var E=(function(q,T){return{transform:function(B){if(q)return B;if(T.has(B))return T.get(B);var J=new OffscreenCanvas(B.width,B.height),le=J.getContext("2d");return le.drawImage(B,0,0),T.set(B,J),J},clear:function(){T.clear()}}})(m,new Map),w=(function(){var q=Math.floor(16.666666666666668),T,B,J={},le=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(he){var ge=Math.random();return J[ge]=requestAnimationFrame(function de(be){le===be||le+q-1<be?(le=be,delete J[ge],he()):J[ge]=requestAnimationFrame(de)}),ge},B=function(he){J[he]&&cancelAnimationFrame(J[he])}):(T=function(he){return setTimeout(he,q)},B=function(he){return clearTimeout(he)}),{frame:T,cancel:B}})(),A=(function(){var q,T,B={};function J(le){function he(ge,de){le.postMessage({options:ge||{},callback:de})}le.init=function(de){var be=de.transferControlToOffscreen();le.postMessage({canvas:be},[be])},le.fire=function(de,be,Ce){if(T)return he(de,null),T;var Ge=Math.random().toString(36).slice(2);return T=g(function(Ee){function Ke($e){$e.data.callback===Ge&&(delete B[Ge],le.removeEventListener("message",Ke),T=null,E.clear(),Ce(),Ee())}le.addEventListener("message",Ke),he(de,Ge),B[Ge]=Ke.bind(null,{data:{callback:Ge}})}),T},le.reset=function(){le.postMessage({reset:!0});for(var de in B)B[de](),delete B[de]}}return function(){if(q)return q;if(!s&&u){var le=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{q=new Worker(URL.createObjectURL(new Blob([le])))}catch(he){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",he),null}J(q)}return q}})(),k={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function G(q,T){return T?T(q):q}function Z(q){return q!=null}function U(q,T,B){return G(q&&Z(q[T])?q[T]:k[T],B)}function ue(q){return q<0?0:Math.floor(q)}function ce(q,T){return Math.floor(Math.random()*(T-q))+q}function re(q){return parseInt(q,16)}function Se(q){return q.map(Pe)}function Pe(q){var T=String(q).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:re(T.substring(0,2)),g:re(T.substring(2,4)),b:re(T.substring(4,6))}}function Ie(q){var T=U(q,"origin",Object);return T.x=U(T,"x",Number),T.y=U(T,"y",Number),T}function D(q){q.width=document.documentElement.clientWidth,q.height=document.documentElement.clientHeight}function I(q){var T=q.getBoundingClientRect();q.width=T.width,q.height=T.height}function C(q){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=q,T}function M(q,T,B,J,le,he,ge,de,be){q.save(),q.translate(T,B),q.rotate(he),q.scale(J,le),q.arc(0,0,1,ge,de,be),q.restore()}function L(q){var T=q.angle*(Math.PI/180),B=q.spread*(Math.PI/180);return{x:q.x,y:q.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:q.startVelocity*.5+Math.random()*q.startVelocity,angle2D:-T+(.5*B-Math.random()*B),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:q.color,shape:q.shape,tick:0,totalTicks:q.ticks,decay:q.decay,drift:q.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:q.gravity*3,ovalScalar:.6,scalar:q.scalar,flat:q.flat}}function z(q,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var B=T.tick++/T.totalTicks,J=T.x+T.random*T.tiltCos,le=T.y+T.random*T.tiltSin,he=T.wobbleX+T.random*T.tiltCos,ge=T.wobbleY+T.random*T.tiltSin;if(q.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-B)+")",q.beginPath(),f&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))q.fill(fe(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(he-J)*.1,Math.abs(ge-le)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var de=Math.PI/10*T.wobble,be=Math.abs(he-J)*.1,Ce=Math.abs(ge-le)*.1,Ge=T.shape.bitmap.width*T.scalar,Ee=T.shape.bitmap.height*T.scalar,Ke=new DOMMatrix([Math.cos(de)*be,Math.sin(de)*be,-Math.sin(de)*Ce,Math.cos(de)*Ce,T.x,T.y]);Ke.multiplySelf(new DOMMatrix(T.shape.matrix));var $e=q.createPattern(E.transform(T.shape.bitmap),"no-repeat");$e.setTransform(Ke),q.globalAlpha=1-B,q.fillStyle=$e,q.fillRect(T.x-Ge/2,T.y-Ee/2,Ge,Ee),q.globalAlpha=1}else if(T.shape==="circle")q.ellipse?q.ellipse(T.x,T.y,Math.abs(he-J)*T.ovalScalar,Math.abs(ge-le)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):M(q,T.x,T.y,Math.abs(he-J)*T.ovalScalar,Math.abs(ge-le)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var xe=Math.PI/2*3,yt=4*T.scalar,Ot=8*T.scalar,Rt=T.x,Vt=T.y,Kt=5,vt=Math.PI/Kt;Kt--;)Rt=T.x+Math.cos(xe)*Ot,Vt=T.y+Math.sin(xe)*Ot,q.lineTo(Rt,Vt),xe+=vt,Rt=T.x+Math.cos(xe)*yt,Vt=T.y+Math.sin(xe)*yt,q.lineTo(Rt,Vt),xe+=vt;else q.moveTo(Math.floor(T.x),Math.floor(T.y)),q.lineTo(Math.floor(T.wobbleX),Math.floor(le)),q.lineTo(Math.floor(he),Math.floor(ge)),q.lineTo(Math.floor(J),Math.floor(T.wobbleY));return q.closePath(),q.fill(),T.tick<T.totalTicks}function N(q,T,B,J,le){var he=T.slice(),ge=q.getContext("2d"),de,be,Ce=g(function(Ge){function Ee(){de=be=null,ge.clearRect(0,0,J.width,J.height),E.clear(),le(),Ge()}function Ke(){s&&!(J.width===o.width&&J.height===o.height)&&(J.width=q.width=o.width,J.height=q.height=o.height),!J.width&&!J.height&&(B(q),J.width=q.width,J.height=q.height),ge.clearRect(0,0,J.width,J.height),he=he.filter(function($e){return z(ge,$e)}),he.length?de=w.frame(Ke):Ee()}de=w.frame(Ke),be=Ee});return{addFettis:function(Ge){return he=he.concat(Ge),Ce},canvas:q,promise:Ce,reset:function(){de&&w.cancel(de),be&&be()}}}function St(q,T){var B=!q,J=!!U(T||{},"resize"),le=!1,he=U(T,"disableForReducedMotion",Boolean),ge=u&&!!U(T||{},"useWorker"),de=ge?A():null,be=B?D:I,Ce=q&&de?!!q.__confetti_initialized:!1,Ge=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ee;function Ke(xe,yt,Ot){for(var Rt=U(xe,"particleCount",ue),Vt=U(xe,"angle",Number),Kt=U(xe,"spread",Number),vt=U(xe,"startVelocity",Number),ft=U(xe,"decay",Number),xn=U(xe,"gravity",Number),Nn=U(xe,"drift",Number),mt=U(xe,"colors",Se),ti=U(xe,"ticks",Number),At=U(xe,"shapes"),qt=U(xe,"scalar"),ni=!!U(xe,"flat"),Sr=Ie(xe),ir=Rt,Ar=[],Bi=q.width*Sr.x,Ti=q.height*Sr.y;ir--;)Ar.push(L({x:Bi,y:Ti,angle:Vt,spread:Kt,startVelocity:vt,color:mt[ir%mt.length],shape:At[ce(0,At.length)],ticks:ti,decay:ft,gravity:xn,drift:Nn,scalar:qt,flat:ni}));return Ee?Ee.addFettis(Ar):(Ee=N(q,Ar,be,yt,Ot),Ee.promise)}function $e(xe){var yt=he||U(xe,"disableForReducedMotion",Boolean),Ot=U(xe,"zIndex",Number);if(yt&&Ge)return g(function(vt){vt()});B&&Ee?q=Ee.canvas:B&&!q&&(q=C(Ot),document.body.appendChild(q)),J&&!Ce&&be(q);var Rt={width:q.width,height:q.height};de&&!Ce&&de.init(q),Ce=!0,de&&(q.__confetti_initialized=!0);function Vt(){if(de){var vt={getBoundingClientRect:function(){if(!B)return q.getBoundingClientRect()}};be(vt),de.postMessage({resize:{width:vt.width,height:vt.height}});return}Rt.width=Rt.height=null}function Kt(){Ee=null,J&&(le=!1,e.removeEventListener("resize",Vt)),B&&q&&(document.body.contains(q)&&document.body.removeChild(q),q=null,Ce=!1)}return J&&!le&&(le=!0,e.addEventListener("resize",Vt,!1)),de?de.fire(xe,Rt,Kt):Ke(xe,Rt,Kt)}return $e.reset=function(){de&&de.reset(),Ee&&Ee.reset()},$e}var Mt;function ee(){return Mt||(Mt=St(null,{useWorker:!0,resize:!0})),Mt}function fe(q,T,B,J,le,he,ge){var de=new Path2D(q),be=new Path2D;be.addPath(de,new DOMMatrix(T));var Ce=new Path2D;return Ce.addPath(be,new DOMMatrix([Math.cos(ge)*le,Math.sin(ge)*le,-Math.sin(ge)*he,Math.cos(ge)*he,B,J])),Ce}function we(q){if(!f)throw new Error("path confetti are not supported in this browser");var T,B;typeof q=="string"?T=q:(T=q.path,B=q.matrix);var J=new Path2D(T),le=document.createElement("canvas"),he=le.getContext("2d");if(!B){for(var ge=1e3,de=ge,be=ge,Ce=0,Ge=0,Ee,Ke,$e=0;$e<ge;$e+=2)for(var xe=0;xe<ge;xe+=2)he.isPointInPath(J,$e,xe,"nonzero")&&(de=Math.min(de,$e),be=Math.min(be,xe),Ce=Math.max(Ce,$e),Ge=Math.max(Ge,xe));Ee=Ce-de,Ke=Ge-be;var yt=10,Ot=Math.min(yt/Ee,yt/Ke);B=[Ot,0,0,Ot,-Math.round(Ee/2+de)*Ot,-Math.round(Ke/2+be)*Ot]}return{type:"path",path:T,matrix:B}}function We(q){var T,B=1,J="#000000",le='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof q=="string"?T=q:(T=q.text,B="scalar"in q?q.scalar:B,le="fontFamily"in q?q.fontFamily:le,J="color"in q?q.color:J);var he=10*B,ge=""+he+"px "+le,de=new OffscreenCanvas(he,he),be=de.getContext("2d");be.font=ge;var Ce=be.measureText(T),Ge=Math.ceil(Ce.actualBoundingBoxRight+Ce.actualBoundingBoxLeft),Ee=Math.ceil(Ce.actualBoundingBoxAscent+Ce.actualBoundingBoxDescent),Ke=2,$e=Ce.actualBoundingBoxLeft+Ke,xe=Ce.actualBoundingBoxAscent+Ke;Ge+=Ke+Ke,Ee+=Ke+Ke,de=new OffscreenCanvas(Ge,Ee),be=de.getContext("2d"),be.font=ge,be.fillStyle=J,be.fillText(T,$e,xe);var yt=1/B;return{type:"bitmap",bitmap:de.transferToImageBitmap(),matrix:[yt,0,0,yt,-Ge*yt/2,-Ee*yt/2]}}n.exports=function(){return ee().apply(this,arguments)},n.exports.reset=function(){ee().reset()},n.exports.create=St,n.exports.shapeFromPath=we,n.exports.shapeFromText=We})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Dg,!1);const AM=Dg.exports;Dg.exports.create;const RM=({className:r})=>V.jsxs("span",{className:"relative inline-block "+(r||""),children:[V.jsx(pT,{className:"w-5 h-5"}),V.jsx("span",{className:"absolute -right-1 -top-1",children:V.jsx($m,{className:"w-3.5 h-3.5"})})]});(async()=>{try{await ou(zi,tf)}catch{}})();function IM(r,e){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(r)}&token=${encodeURIComponent(e)}`}async function CM(r){try{return await navigator.clipboard.writeText(r),!0}catch{return window.prompt("  :",r),!1}}async function iu(){try{try{await ou(zi,tf)}catch{}await fC(zi,jm)}catch(r){const e=r==null?void 0:r.code;if(e==="auth/popup-blocked"||e==="auth/cancelled-popup-request"||e==="auth/popup-closed-by-user"){await k0(zi,jm);return}await k0(zi,jm)}}function xM(r){const e=encodeURIComponent(r);window.open(`https://wa.me/?text=${e}`,"_blank")}const NM=()=>{const[r]=lR(),e=Rp(),n=r.get("listId"),s=r.get("token"),[o,u]=P.useState(zi.currentUser),[f,m]=P.useState(!0),[p,g]=P.useState(!1),[E,w]=P.useState(null);P.useEffect(()=>JT(zi,G=>{u(G),m(!1)}),[]);const A=async()=>{w(null);try{await iu()}catch(G){w((G==null?void 0:G.message)||" ")}},k=async()=>{if(!n||!s){w("    (listId  token)");return}if(!o){await A();return}g(!0),w(null);try{await gM(cn,async G=>{var re;const Z=Fn(cn,"lists",n),U=await G.get(Z);if(!U.exists())throw new Error("  ");const ce=(re=U.data().pendingInvites)==null?void 0:re[s];if(!ce)throw new Error("  ");if(ce.expiresAt<Date.now())throw new Error("  ");G.update(Z,{sharedWith:vM(o.uid),[`pendingInvites.${s}`]:yM()})}),localStorage.setItem("activeListId",n),e("/")}catch(G){w((G==null?void 0:G.message)||"  ")}finally{g(!1)}};return f?V.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif'},children:[V.jsx("style",{children:`
        html, body, #root {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        *, *::before, *::after,
        input, button, select, textarea, option, label {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        input::placeholder, textarea::placeholder {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
      `}),V.jsx(ru,{className:"animate-spin text-indigo-600"})]}):V.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:V.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[V.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:V.jsx(Xm,{className:"w-10 h-10"})}),V.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?V.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,E?V.jsx("p",{className:"text-rose-500 font-bold break-words",children:E}):null,o?V.jsx("button",{onClick:k,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?V.jsx(ru,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):V.jsxs("button",{onClick:A,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[V.jsx(gT,{className:"w-4 h-4"}),"   "]})]})})},Q1={:1,:1,:2,:2,:2,:2,:2,:3,:3,:4,:4,:5,:5,:6,:6,:7,:7,:8,:9,:9,:10,:10},Li=r=>(r||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),Y1=r=>(r||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\b\b/g,",").replace(/\b\b/g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim();function Xh(r){return r?/^\d+$/.test(r)?!0:Q1[r]!=null:!1}function DM(r){if(!r)return null;if(/^\d+$/.test(r))return Number(r);const e=Q1[r];return e??null}const MM=new Set(["","","","","","","","","","","","","","","","","","","","","","","",""]);function OM(r){return MM.has(r)}const Bm=new Set([" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","' "," "," "," "]),qm=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),Hm=new Set(["","","","","","","","","","","","",""]);function VM(r){const e=[];let n=0;const s=o=>o&&o.startsWith("")&&o.length>1?o.slice(1):o;for(;n<r.length;){const o=r[n],u=n+1<r.length?r[n+1]:"";if(o&&u&&!Xh(o)&&!Xh(u)){const f=`${o} ${u}`,m=s(u),p=`${o} ${m}`;if(Bm.has(f)||Bm.has(p)){e.push(Bm.has(f)?f:p),n+=2;continue}if(qm.has(u)||qm.has(m)){e.push(qm.has(u)?f:p),n+=2;continue}if(Hm.has(u)||Hm.has(m)){e.push(Hm.has(u)?f:p),n+=2;continue}}e.push(o),n+=1}return e}function kM(r){const e=Li(r);if(!e)return[];let n=e.split(" ").filter(Boolean);if(n=VM(n),n.length===0)return[];const s=[];let o=1,u=[];const f=p=>{const g=u.join(" ").trim();if(g){const E=Math.max(1,Number(p??o??1));s.push({name:g,qty:E})}o=1,u=[]},m=p=>p+1<n.length?n[p+1]:"";for(let p=0;p<n.length;p++){const g=n[p];if(Xh(g)){const w=Math.max(1,DM(g)||1),A=m(p);if(u.length===0){o=w;continue}if(!A){f(w);continue}f(),o=w;continue}u.push(g);const E=m(p);u.length===1&&OM(u[0])||g===""||g===""||E===""||E===""||Xh(E)||f()}return u.length>0&&f(),s.map(p=>({name:p.name.replace(/\s+/g," ").trim(),qty:Math.max(1,Number(p.qty||1))})).filter(p=>p.name.length>0)}function PM(r){const e=Y1(r),n=Li(e);if(!n)return[];const o=n.replace(/\s+\s+/g,",").replace(/\s+\s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+\s+/g,",").split(/,|\n/).map(f=>f.trim()).filter(Boolean),u=[];for(const f of o){const m=kM(f);for(const p of m)u.push(p)}return u}const LM=["","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","'"," "," "," ","","","","","","",""," "," ","",""," ","","","","","",""," ",""," "," "," "," "," "," ","",""," "];function yr(r){return r.trim().replace(/\s+/g," ").replace(/[]/g,'"').replace(/[]/g,"'").toLowerCase()}const K1="shopping_list_item_history_v1",$1="shopping_list_hidden_suggestions_v1",UM=1440*60*1e3;function Mg(){try{const r=localStorage.getItem($1);if(!r)return{};const e=JSON.parse(r);if(!e||typeof e!="object"||Array.isArray(e))return{};const n={};for(const[s,o]of Object.entries(e))typeof s=="string"&&typeof o=="number"&&Number.isFinite(o)&&(n[s]=o);return n}catch{return{}}}function Og(r){try{localStorage.setItem($1,JSON.stringify(r))}catch{}}function GE(){const r=Mg(),e=Date.now(),n=[];let s=!1;for(const[o,u]of Object.entries(r)){if(typeof u!="number"||!Number.isFinite(u)){delete r[o],s=!0;continue}u>e?n.push(o):(delete r[o],s=!0)}return s&&Og(r),n}function zM(r){const e=Mg();e[r]=Date.now()+UM,Og(e)}function Fm(r){try{const e=Mg();e[r]&&(delete e[r],Og(e))}catch{}}function jM(){try{const r=localStorage.getItem(K1);if(!r)return{};const e=JSON.parse(r);return!e||typeof e!="object"?{}:e}catch{return{}}}function QE(r){try{localStorage.setItem(K1,JSON.stringify(r))}catch{}}function BM(r){const e=r.query,n=yr(e),s=r.limit??8;if(!n)return[];const o=new Map,u=(g,E)=>{const w=g.trim();if(!w)return;const A=yr(w);if(!A||r.hiddenKeys.has(A))return;const k=o.get(A);if(k){k.sources.add(E);return}o.set(A,{name:w,key:A,sources:new Set([E])})};for(const g of r.favorites)u(g,"favorite");for(const g of r.items)u(g.name,"items");for(const[g,E]of Object.entries(r.history)){u((E==null?void 0:E.name)||g,"history");const w=o.get(g);w&&(w.history=E)}for(const g of LM)u(g,"static");const f=Array.from(o.values()),m=new Map;for(const g of r.items){const E=yr(g.name);E&&(m.has(E)||m.set(E,{id:g.id,quantity:g.quantity}))}const p=g=>{const E=g.key,w=E.startsWith(n),A=!w&&E.includes(n);if(!w&&!A)return-1/0;let k=w?120:70;if(g.sources.has("favorite")&&(k+=45),g.sources.has("history")&&(k+=35),g.sources.has("items")&&(k+=20),g.sources.has("static")&&(k+=10),g.history){const G=Math.max(0,g.history.count||0),Z=Math.max(0,g.history.lastUsed||0);k+=Math.min(30,Math.log2(G+1)*8);const U=(Date.now()-Z)/(1e3*60*60*24),ue=Math.max(0,20-U);k+=Math.min(20,ue)}return k};return f.map(g=>({c:g,s:p(g)})).filter(g=>Number.isFinite(g.s)).sort((g,E)=>E.s-g.s).slice(0,s).map(g=>{const E=m.get(g.c.key);return{name:g.c.name,key:g.c.key,canHide:g.c.sources.has("history")&&!g.c.sources.has("favorite"),isInList:!!E,itemId:E==null?void 0:E.id,currentQty:E==null?void 0:E.quantity}})}const qM=()=>{const[r,e]=P.useState(null),[n,s]=P.useState(null),[o,u]=P.useState([]),[f,m]=P.useState([]),[p,g]=P.useState("list"),[E,w]=P.useState(""),A=P.useRef(null),[k,G]=P.useState(!1),[Z,U]=P.useState(-1),ue=P.useRef({}),ce=P.useRef(null);P.useEffect(()=>{ue.current=jM()},[]);const[re,Se]=P.useState(!1),[Pe,Ie]=P.useState(!1),D=P.useRef(null),I=async()=>{if(!(!r||!(n!=null&&n.id))){if(n!=null&&n.ownerUid&&r.uid===n.ownerUid){Ee("       "),z(!1);return}try{await xo(Fn(cn,"lists",n.id),{sharedWith:_M(r.uid)}),localStorage.removeItem("activeListId"),z(!1),Ie(!1),Ee("   ")}catch(R){console.error(R),z(!1),Ee("  ")}}},[C,M]=P.useState(!1),[L,z]=P.useState(!1),[N,St]=P.useState(!1),[Mt,ee]=P.useState(()=>{const R=new Date,H=new Date(R);H.setMinutes(0,0,0),H.setHours(18),H.getTime()<R.getTime()&&H.setHours(R.getHours()+1);const $=ae=>String(ae).padStart(2,"0");return`${H.getFullYear()}-${$(H.getMonth()+1)}-${$(H.getDate())}T${$(H.getHours())}:${$(H.getMinutes())}`}),[fe,we]=P.useState(60),[We,q]=P.useState(!0),[T,B]=P.useState(!1),[J,le]=P.useState(!1),[he,ge]=P.useState(!1),[de]=P.useState("hold_to_talk"),[be,Ce]=P.useState(""),[Ge,Ee]=P.useState(null),Ke=P.useRef(null),$e=P.useRef(!1),xe=P.useRef([]),yt=P.useRef(""),Ot=P.useRef(!1),Rt=P.useRef(null),Vt=P.useRef(null),Kt=P.useRef(!1),vt=P.useRef(null),[ft,xn]=P.useState({id:null,dx:0}),Nn=P.useRef({}),mt=70,ti=110,At=R=>{const H=R;return H?!!H.closest("button, input, textarea, select, a, [data-noswipe='true']"):!1},qt=R=>H=>{At(H.target)||(Kt.current=!1,Rt.current={x:H.clientX,y:H.clientY,id:R,pointerId:H.pointerId},Vt.current={x:H.clientX,y:H.clientY},xn({id:R,dx:0}),Nn.current[R]=!1)},ni=R=>H=>{const $=Rt.current;if(!$||$.id!==R||$.pointerId!==H.pointerId)return;Vt.current={x:H.clientX,y:H.clientY};const ae=H.clientX-$.x,pe=Math.max(-ti,Math.min(ti,ae)),Ve=Math.abs(ae)>=mt;if(Ve&&!Nn.current[R]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),Nn.current[R]=!0),Ve||(Nn.current[R]=!1),!vt.current&&Math.abs(ae)>10&&Math.abs(ae)>=Math.abs(H.clientY-$.y))try{H.currentTarget.setPointerCapture(H.pointerId),vt.current={el:H.currentTarget,pointerId:H.pointerId}}catch{}xn({id:R,dx:pe})},Sr=R=>async H=>{const $=Rt.current,ae=Vt.current;Rt.current=null;try{vt.current&&vt.current.el.releasePointerCapture($.pointerId)}catch{}if(vt.current=null,Vt.current=null,!$||$.id!==R){xn({id:null,dx:0});return}const pe=(ae==null?void 0:ae.x)??H.clientX,Ve=(ae==null?void 0:ae.y)??H.clientY,De=pe-$.x,ot=Ve-$.y;if(xn({id:null,dx:0}),!(Math.abs(De)<mt||Math.abs(De)<Math.abs(ot))){Kt.current=!0;try{De>0?await sr(R):ua.has(R)||await Gi(R)}finally{window.setTimeout(()=>{Kt.current=!1},0)}}},ir=R=>H=>{if(At(H.target))return;const $=H.touches[0];$&&(Kt.current=!1,Rt.current={x:$.clientX,y:$.clientY,id:R,pointerId:-1},Vt.current={x:$.clientX,y:$.clientY},xn({id:R,dx:0}),Nn.current[R]=!1)},Ar=R=>H=>{const $=Rt.current;if(!$||$.id!==R)return;const ae=H.touches[0];if(!ae)return;Vt.current={x:ae.clientX,y:ae.clientY};const pe=ae.clientX-$.x,Ve=ae.clientY-$.y,De=Math.abs(pe)>=mt;if(De&&!Nn.current[R]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),Nn.current[R]=!0),De||(Nn.current[R]=!1),Math.abs(pe)<6||Math.abs(pe)<Math.abs(Ve))return;try{H.preventDefault()}catch{}const ot=Math.max(-ti,Math.min(ti,pe));xn({id:R,dx:ot})},Bi=R=>async H=>{const $=Rt.current,ae=Vt.current;if(Rt.current=null,Vt.current=null,!$||$.id!==R){xn({id:null,dx:0});return}const pe=ae?ae.x-$.x:0;if(Math.abs(pe)<mt){xn({id:null,dx:0});return}Kt.current=!0,pe>0?await sr(R):ua.has(R)||await Gi(R),xn({id:null,dx:0})},Ti=()=>{Rt.current=null,Vt.current=null;try{vt.current&&vt.current.el.releasePointerCapture(vt.current.pointerId)}catch{}vt.current=null,xn({id:null,dx:0})},$t=P.useRef(null),zn=P.useRef([]),Zt=P.useRef(!1);P.useEffect(()=>{$t.current=(n==null?void 0:n.id)??null},[n==null?void 0:n.id]),P.useEffect(()=>{zn.current=o},[o]),P.useEffect(()=>{if(!o||o.length===0){Zt.current=!1;return}const R=o.every(H=>H.isPurchased);R&&!Zt.current&&(Zt.current=!0,AM({particleCount:140,spread:75,origin:{y:.65}})),R||(Zt.current=!1)},[o]),P.useEffect(()=>{if(!Ge)return;const R=setTimeout(()=>Ee(null),2500);return()=>clearTimeout(R)},[Ge]),P.useEffect(()=>JT(zi,async R=>{try{if(e(R),q(!1),!R){s(null),u([]),m([]);return}le(!0);const H=oM(Wl(cn,"lists"),lM("sharedWith","array-contains",R.uid)),$=await FE(H);if($.empty){const ae=Fn(Wl(cn,"lists")),pe={id:ae.id,title:" ",ownerUid:R.uid,sharedWith:[R.uid],createdAt:Date.now(),updatedAt:Date.now()};await Zl(ae,pe),s(pe),localStorage.setItem("activeListId",ae.id)}else{const ae=localStorage.getItem("activeListId"),pe=ae?$.docs.find(De=>De.id===ae)??$.docs[0]:$.docs[0],Ve=pe.data();s({...Ve,id:pe.id}),localStorage.setItem("activeListId",pe.id)}le(!1)}finally{B(!0)}}),[]),P.useEffect(()=>{if(!(n!=null&&n.id))return;const R=Fn(cn,"lists",n.id),H=Wl(R,"items"),$=Wl(R,"favorites"),ae=zm(R,De=>{De.exists()&&s({...De.data(),id:De.id})}),pe=zm(H,De=>{const ot=De.docs.map(ct=>ct.data());u(ot)}),Ve=zm($,De=>{const ot=De.docs.map(ct=>{const Qe=ct.data();return{id:ct.id,name:String((Qe==null?void 0:Qe.name)||""),createdAt:Number((Qe==null?void 0:Qe.createdAt)||0)}});ot.sort((ct,Qe)=>Qe.createdAt-ct.createdAt),m(ot)});return()=>{ae(),pe(),Ve()}},[n==null?void 0:n.id]);const ua=P.useMemo(()=>{const R=new Set;for(const H of f)R.add(H.id);return R},[f]),ls=P.useMemo(()=>{const R=new Set,H=[];for(const $ of f){const ae=Li($.name);ae&&(R.has(ae)||(R.add(ae),H.push($)))}return H},[f]),Qa=P.useMemo(()=>o.filter(R=>!R.isPurchased).sort((R,H)=>H.createdAt-R.createdAt),[o]),qi=P.useMemo(()=>o.filter(R=>R.isPurchased).sort((R,H)=>(H.purchasedAt||0)-(R.purchasedAt||0)),[o]),ii=R=>{const H=R.trim();if(!H)return;const $=yr(H);if(!$)return;const ae=ue.current[$],pe={name:H,count:((ae==null?void 0:ae.count)||0)+1,lastUsed:Date.now()};ue.current={...ue.current,[$]:pe},QE(ue.current)},Dn=P.useRef(new Set);P.useEffect(()=>{Dn.current=new Set(GE())},[]);const Ht=P.useMemo(()=>{const R=new Set(GE());return Dn.current=R,BM({query:E,favorites:(f??[]).map(H=>H.name),items:o??[],history:ue.current,hiddenKeys:R,limit:8})},[E,f,o]),Qn=()=>{ce.current&&window.clearTimeout(ce.current),ce.current=window.setTimeout(()=>{G(!1),U(-1)},120)},Hi=()=>{ce.current&&window.clearTimeout(ce.current),G(!0)},rr=async R=>{if(R.isInList&&R.itemId){const H=(R.currentQty??1)+1;await kt(R.itemId,1);const $=R.key||yr(R.name);$&&(Fm($),Dn.current.delete($)),Ee(`  -   -${H}`),w(""),U(-1),G(!1),window.requestAnimationFrame(()=>{var ae;return(ae=A.current)==null?void 0:ae.focus()});return}w(R.name),U(-1),G(!1),window.requestAnimationFrame(()=>{var H;return(H=A.current)==null?void 0:H.focus()})},ca=R=>{const H=R.key||yr(R.name);if(!H)return;const $={...ue.current};$[H]&&(delete $[H],ue.current=$,QE($));const ae=new Set(Dn.current);ae.add(H),Dn.current=ae,zM(H),G(!1),U(-1),window.requestAnimationFrame(()=>{var pe;return(pe=A.current)==null?void 0:pe.focus()})},Fi=async R=>{if(R&&R.preventDefault(),!r){await iu();return}if(!(n!=null&&n.id))return;const H=E.trim();if(!H)return;const $=yr(H),ae=o.find(De=>yr(De.name)===$);if(ae){await kt(ae.id,1),$&&(Fm($),Dn.current.delete($)),ii(ae.name),w(""),G(!1),U(-1);return}const pe=crypto.randomUUID(),Ve={id:pe,name:H,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Zl(Fn(cn,"lists",n.id,"items",pe),Ve),$&&(Fm($),Dn.current.delete($)),ii(H),w(""),G(!1),U(-1)},wi=async R=>{if(!(n!=null&&n.id))return;const H=o.find(ae=>ae.id===R);if(!H)return;const $=!H.isPurchased;await xo(Fn(cn,"lists",n.id,"items",R),{isPurchased:$,purchasedAt:$?Date.now():null})},kt=async(R,H)=>{if(!(n!=null&&n.id))return;if(H>0){await xo(Fn(cn,"lists",n.id,"items",R),{quantity:EM(H)});return}const $=o.find(ae=>ae.id===R);$&&await xo(Fn(cn,"lists",n.id,"items",R),{quantity:Math.max(1,$.quantity+H)})},sr=async R=>{n!=null&&n.id&&await Um(Fn(cn,"lists",n.id,"items",R))},Gi=async R=>{if(!(n!=null&&n.id))return;const H=Fn(cn,"lists",n.id,"favorites",R);if(ua.has(R)){await Um(H);return}const $=o.find(Ve=>Ve.id===R),ae=String(($==null?void 0:$.name)||""),pe=Li(ae);pe&&f.some(De=>Li(De.name)===pe)||await Zl(H,{name:ae,createdAt:Date.now()})},ar=async R=>{n!=null&&n.id&&await Um(Fn(cn,"lists",n.id,"favorites",R))},us=async()=>{const R=$t.current||(n==null?void 0:n.id);if(!R)return;const H=Wl(cn,"lists",R,"items"),$=await FE(H);if($.empty){M(!1);return}const ae=$.docs;let pe=0;for(;pe<ae.length;){const Ve=TM(cn),De=ae.slice(pe,pe+450);for(const ot of De)Ve.delete(ot.ref);await Ve.commit(),pe+=De.length}M(!1)},ha=async()=>{if(!r)return await iu(),null;if(!(n!=null&&n.id))return null;const R=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),H=Date.now()+2880*60*1e3;return await xo(Fn(cn,"lists",n.id),{[`pendingInvites.${R}`]:{createdAt:Date.now(),expiresAt:H}}),IM(n.id,R)},Qi=async()=>{const R=await ha();if(R){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:" ",text:"   ",url:R});return}}catch{}await CM(R),Se(!0),setTimeout(()=>Se(!1),2e3)}},Ya=(R,H)=>{const[$,ae]=R.split("T"),[pe,Ve,De]=$.split("-").map(It=>parseInt(It,10)),[ot,ct]=ae.split(":").map(It=>parseInt(It,10)),Qe=new Date(pe,Ve-1,De,ot,ct,0,0),ke=new Date(Qe.getTime()+Math.max(15,H)*6e4),Ye=It=>String(It).padStart(2,"0"),En=It=>`${It.getFullYear()}${Ye(It.getMonth()+1)}${Ye(It.getDate())}T${Ye(It.getHours())}${Ye(It.getMinutes())}00`,Ri=`${En(Qe)}/${En(ke)}`,Ii=encodeURIComponent("  "),qe=encodeURIComponent("   -     "),ai=encodeURIComponent("Asia/Jerusalem");return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${Ii}&dates=${encodeURIComponent(Ri)}&details=${qe}&ctz=${ai}`},bi=()=>{const R=Ya(Mt,fe),H=navigator.userAgent||"",$=/Android/i.test(H),ae=/iPhone|iPad|iPod/i.test(H);if($){const pe=R.replace(/^https:\/\//i,"intent://")+"#Intent;scheme=https;package=com.google.android.calendar;end";window.location.href=pe,window.setTimeout(()=>{window.location.href=R},700);return}if(ae){window.location.href="googlecalendar://",window.setTimeout(()=>{window.location.href=R},700);return}window.open(R,"_blank","noopener,noreferrer")},Pt=()=>{const R=(n==null?void 0:n.title)||" ",H=o.filter(ke=>!ke.isPurchased),$="",ae="",pe="",Ve="",De=H.length>0?H.map(ke=>(ke.quantity||1)<=1?`${$}${ke.name}${ae}`:`${$}${ke.name} X ${pe}${ke.quantity}${Ve}${ae}`).join(`
`):`${$}(  )${ae}`,Qe=`${`*${R}:*`}

${De}

   `;xM(Qe)},Ut=P.useRef(null),Mn=P.useRef(null),jn=P.useRef(null),[at,Rr]=P.useState({id:null,dx:0,rawDx:0}),or=P.useRef({}),On=60,Si=110,Yi=async R=>{if(!(n!=null&&n.id))return;const H=yr(R.name);if(!o.find(ae=>!ae.isPurchased&&yr(ae.name)===H)){const ae=crypto.randomUUID(),pe={id:ae,name:R.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Zl(Fn(cn,"lists",n.id,"items",ae),pe)}},Ki=R=>H=>{At(H.target)||(Ut.current={x:H.clientX,y:H.clientY,id:R,pointerId:H.pointerId},Mn.current={x:H.clientX,y:H.clientY},Rr({id:R,dx:0,rawDx:0}),or.current[R]=!1)},Ir=R=>H=>{const $=Ut.current;if(!$||$.id!==R)return;Mn.current={x:H.clientX,y:H.clientY};const ae=H.clientX-$.x,pe=H.clientY-$.y,Ve=Math.abs(ae)>=On;if(Ve&&!or.current[R]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),or.current[R]=!0),Ve||(or.current[R]=!1),!jn.current&&Math.abs(ae)>10&&Math.abs(pe)<=Math.abs(ae)*1.2)try{H.currentTarget.setPointerCapture(H.pointerId),jn.current={el:H.currentTarget,pointerId:H.pointerId}}catch{}if(Math.abs(pe)>Math.abs(ae)*1.6)return;const De=Math.max(-Si,Math.min(Si,ae));Rr({id:R,dx:De,rawDx:ae})},ri=R=>async H=>{const $=Ut.current,ae=Mn.current;Ut.current=null;try{jn.current&&$&&jn.current.el.releasePointerCapture($.pointerId)}catch{}if(jn.current=null,Mn.current=null,Rr({id:null,dx:0,rawDx:0}),!$||$.id!==R)return;const pe=(ae==null?void 0:ae.x)??H.clientX,Ve=(ae==null?void 0:ae.y)??H.clientY,De=pe-$.x,ot=Ve-$.y;if(Math.abs(De)<On||Math.abs(ot)>Math.abs(De)*1.6)return;const ct=f.find(Qe=>Qe.id===R);De>0?(await ar(R),Ee(" ")):ct&&await Yi(ct)},zt=()=>{Ut.current=null,Mn.current=null,jn.current=null,Rr({id:null,dx:0,rawDx:0})},$i=R=>{const H=Li(R),$=o.find(pe=>Li(pe.name)===H);return $||o.find(pe=>Li(pe.name).includes(H)||H.includes(Li(pe.name)))||null},lr=async(R,H)=>{const $=$t.current||(n==null?void 0:n.id);if(!$)return;const ae=zn.current||o,pe=R.trim();if(!pe)return;const Ve=ae.find(ct=>!ct.isPurchased&&Li(ct.name)===Li(pe));if(Ve){await xo(Fn(cn,"lists",$,"items",Ve.id),{quantity:H});return}const De=crypto.randomUUID(),ot={id:De,name:pe,quantity:H,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Zl(Fn(cn,"lists",$,"items",De),ot)},_n=R=>/(|||||||||)\s*(\s*)?(\s*)?(\s*)?(|)?/.test(R)||/^(||)$/.test(R)||R.includes("")&&R.includes("")&&(R.includes("")||R.includes(""))||R.includes("")&&(R.includes("")||R.includes("")),Ai=async R=>{if(!($t.current||(n==null?void 0:n.id)))return;const $=Li(R);if(!$)return;if(_n($)){await us(),Ee(" ");return}if(/^(|||)\s+/.test($)){const Qe=$.replace(/^(|||)\s+/,"").trim(),ke=$i(Qe);if(!ke){Ee("   ");return}await sr(ke.id),Ee(`: ${ke.name}`);return}const ae=$.match(/^(||)\s+(.+)\s+(||)$/);if(ae){const Qe=ae[2].trim(),ke=$i(Qe);if(!ke){Ee("   ");return}ke.isPurchased||await wi(ke.id),Ee(` : ${ke.name}`);return}const pe=$.match(/^(||)\s+(.+)$/);if(pe){const Qe=pe[2].trim(),ke=$i(Qe);return ke?(await kt(ke.id,1),Ee(`: ${ke.name}`)):Ee("   ")}const Ve=$.match(/^(||)\s+(.+)$/);if(Ve){const Qe=Ve[2].trim(),ke=$i(Qe);return ke?(await kt(ke.id,-1),Ee(`: ${ke.name}`)):Ee("   ")}const De=$.match(/^(|||)(?:\s+)?\s+(.+)$/),ot=De?De[2]:$,ct=PM(ot);if(ct.length!==0)for(const Qe of ct)await lr(Qe.name,Qe.qty)},rl=()=>{const R=window.SpeechRecognition||window.webkitSpeechRecognition;return R||null},Cr=()=>{const R=rl();if(!R){alert("    .  Chrome  Edge.");return}if(!r){Ee("    "),iu();return}if(xe.current=[],yt.current="",Ot.current=!1,$e.current=!0,Ce(""),ge(!0),Ee("  -   "),Ke.current){try{Ke.current.stop()}catch{}Ke.current=null}const H=new R;Ke.current=H,H.lang="he-IL",H.interimResults=!0,H.maxAlternatives=1,H.continuous=!0;const $=3e3,ae=9e4;let pe=!1,Ve=Date.now(),De=null,ot=null;const ct=()=>{De!=null&&window.clearTimeout(De),ot!=null&&window.clearTimeout(ot),De=null,ot=null},Qe=()=>{$e.current&&pe&&(De!=null&&window.clearTimeout(De),De=window.setTimeout(()=>{if(!$e.current)return;Date.now()-Ve>=$&&si()},$+50))};ot=window.setTimeout(()=>{$e.current&&(Ee("     - ..."),si())},ae),H.onstart=()=>{},H.onaudiostart=()=>{},H.onspeechstart=()=>{},H.onresult=ke=>{try{let Ye="";const En=ke.results;if(!En)return;for(let Ii=ke.resultIndex??0;Ii<((En==null?void 0:En.length)??0);Ii++){const qe=En[Ii],ai=qe==null?void 0:qe[0],It=Y1(String((ai==null?void 0:ai.transcript)||""));It&&(qe.isFinal?(xe.current.push(It),yt.current=""):(Ye=It,yt.current=It))}const Ri=Ye||(xe.current.length?xe.current[xe.current.length-1]:"");Ri&&Ce(Ri),pe=!0,Ve=Date.now(),Qe()}catch{}},H.onerror=ke=>{const Ye=String((ke==null?void 0:ke.error)||"");console.warn("Speech error:",Ye,ke),Ye!=="no-speech"&&(ct(),clearVoiceTimers(),ge(!1),$e.current=!1,Ye==="not-allowed"||Ye==="service-not-allowed"?alert("  .     ."):Ee(Ye==="audio-capture"?"   (    )":` : ${Ye||"unknown"}`))},H.onend=()=>{if(!$e.current){ct();return}Qe(),!Ot.current&&(Ot.current=!0,setTimeout(()=>{if(!$e.current){Ot.current=!1,ct();return}try{H.start()}catch{}finally{Ot.current=!1}},180))};try{H.start(),Qe()}catch(ke){console.error(ke),ct(),clearVoiceTimers(),ge(!1),$e.current=!1,Ee("   ")}},si=async()=>{var ae,pe;if(!$e.current)return;$e.current=!1,ge(!1);try{(pe=(ae=Ke.current)==null?void 0:ae.stop)==null||pe.call(ae)}catch{}const R=xe.current.join(" ").trim(),H=(yt.current||"").trim(),$=`${R} ${H}`.replace(/\s+/g," ").trim();if(xe.current=[],yt.current="",!$){Ee("   -  ");return}Ee("...");try{await Ai($)}catch(Ve){console.error(Ve),Ee(`: ${String((Ve==null?void 0:Ve.message)||Ve||"")}`)}};return P.useEffect(()=>()=>{var R,H;try{$e.current=!1,(H=(R=Ke.current)==null?void 0:R.stop)==null||H.call(R)}catch{}},[]),P.useEffect(()=>{const R=H=>{if(!Pe)return;const $=D.current;$&&(H.target&&$.contains(H.target)||Ie(!1))};return document.addEventListener("pointerdown",R),()=>document.removeEventListener("pointerdown",R)},[Pe]),T?r?We?V.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:V.jsx(ru,{className:"animate-spin text-indigo-600"})}):J||!(n!=null&&n.id)?V.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:V.jsx(ru,{className:"animate-spin text-indigo-600"})}):V.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[V.jsx("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-4 py-3 border-b border-slate-100",children:V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx("button",{onClick:()=>KI(zi),className:"w-9 h-9 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:"","aria-label":"",children:V.jsx(_R,{className:"w-4 h-4"})}),V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsx("button",{onClick:()=>M(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ","aria-label":" ",children:V.jsx(uh,{className:"w-5 h-5"})}),V.jsxs("div",{className:"relative inline-flex items-center",ref:D,children:[V.jsx("button",{type:"button",onClick:()=>Ie(R=>!R),className:"p-2 text-slate-400 hover:text-indigo-600",title:"","aria-label":"",children:re?V.jsx(yR,{className:"w-5 h-5 text-emerald-500"}):V.jsx(Xm,{className:"w-5 h-5"})}),Pe?V.jsxs("div",{className:"absolute top-11 left-0 z-[80] w-64 rounded-2xl border border-slate-200 bg-white shadow-lg overflow-hidden text-[15px] leading-tight",children:[V.jsxs("button",{type:"button",onClick:async()=>{Ie(!1),await Qi()},className:"w-full text-right px-4 py-3 text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[V.jsx(Xm,{className:"w-4 h-4 text-slate-500"}),V.jsx("span",{className:"font-semibold text-[15px] leading-tight whitespace-normal break-words text-right",children:"  "})]}),V.jsxs("button",{type:"button",onClick:()=>{const R=!!(r&&(n!=null&&n.ownerUid)&&r.uid!==n.ownerUid);if(Ie(!1),!R){Ee("       ");return}z(!0)},className:`w-full text-right px-4 py-3 flex items-center gap-2 ${r&&(n!=null&&n.ownerUid)&&r.uid!==n.ownerUid?"text-rose-700 hover:bg-rose-50":"text-slate-400 cursor-not-allowed"}`,children:[V.jsx(Im,{className:`w-4 h-4 ${r&&(n!=null&&n.ownerUid)&&r.uid!==n.ownerUid?"text-rose-600":"text-slate-400"}`}),V.jsx("span",{className:"font-semibold text-[15px] leading-tight whitespace-normal break-words text-right",children:"   "})]})]}):null]}),V.jsx("span",{className:"text-lg font-bold text-indigo-600 leading-tight whitespace-nowrap",children:"Shopping-List"})]})]})}),V.jsx("div",{className:"px-5 pt-3",children:V.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[V.jsx("div",{className:"text-[11px] font-black text-slate-400",children:he?"  -    ":" :    ,  "}),be?V.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[": ",be]}):null,V.jsx("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:': "    " | " " | " "'})]})}),V.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:p==="list"?V.jsxs(V.Fragment,{children:[V.jsxs("form",{onSubmit:Fi,className:"relative",children:[V.jsx("input",{ref:A,value:E,onFocus:Hi,onBlur:Qn,onKeyDown:R=>{if(k){if(R.key==="Escape"){R.preventDefault(),G(!1),U(-1);return}if(R.key==="ArrowDown"){if(R.preventDefault(),Ht.length===0)return;U(H=>{const $=H+1;return $>=Ht.length?0:$});return}if(R.key==="ArrowUp"){if(R.preventDefault(),Ht.length===0)return;U(H=>{const $=H-1;return $<0?Ht.length-1:$});return}if(R.key==="Tab"){if(Ht.length===0)return;R.preventDefault(),rr(Ht[Math.max(0,Z>=0?Z:0)]);return}if(R.key==="Enter"&&Ht.length>0){R.preventDefault();const H=Z>=0?Z:0;rr(Ht[H]);return}}},onChange:R=>{w(R.target.value),Hi(),U(-1)},placeholder:"  ?",className:"w-full p-4 pr-12 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),V.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:V.jsx($m,{className:"w-6 h-6"})}),k&&E.trim()&&Ht.length>0?V.jsx("div",{className:"absolute right-0 top-full mt-2 z-50 bg-white border border-slate-200 rounded-2xl shadow-lg overflow-hidden w-[280px] max-w-[calc(100vw-16px)]",dir:"rtl",onMouseDown:R=>{R.preventDefault()},onPointerDown:R=>{R.preventDefault()},children:Ht.map((R,H)=>V.jsxs("div",{className:"w-full flex items-stretch justify-between gap-2 hover:bg-slate-50 transition-colors "+(H===Z?"bg-slate-100":""),children:[V.jsxs("button",{type:"button",className:"flex-1 text-right px-4 py-3 flex items-center justify-between",onPointerDown:$=>{$.preventDefault(),rr(R)},title:"",children:[V.jsx("span",{className:"font-semibold text-slate-700",children:R.name}),R.isInList?V.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:["",typeof R.currentQty=="number"?` (${R.currentQty})`:""]}):V.jsx("span",{className:"text-xs text-slate-400",children:"Tab"})]}),R.canHide?V.jsx("button",{type:"button",className:"px-3 text-slate-400 hover:text-slate-700",onPointerDown:$=>{$.preventDefault(),$.stopPropagation(),ca(R)},title:" ","aria-label":" ",children:""}):null]},R.key+"-"+H))}):null]}),((o==null?void 0:o.length)??0)===0?V.jsxs("div",{className:"text-center py-20 opacity-20",children:[V.jsx(SR,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),V.jsx("p",{className:"text-lg font-bold",children:" "})]}):V.jsx("div",{className:"space-y-4",children:V.jsxs("div",{className:"space-y-3",children:[Qa.map(R=>V.jsxs("div",{className:"relative overflow-hidden flex items-center justify-between p-3 bg-white rounded-2xl border border-slate-100 shadow-sm select-none",dir:"rtl",onPointerDown:qt(R.id),onPointerMove:ni(R.id),onPointerUp:Sr(R.id),onPointerCancel:Ti,onTouchStart:ir(R.id),onTouchMove:Ar(R.id),onTouchEnd:Bi(R.id),style:{touchAction:"pan-y"},children:[V.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl",children:[V.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-rose-50",style:{width:ft.id===R.id&&ft.dx>0?Math.min(Math.abs(ft.dx),ti):0,opacity:.9,zIndex:0}}),V.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-emerald-50",style:{width:ft.id===R.id&&ft.dx<0?Math.min(Math.abs(ft.dx),ti):0,opacity:.9,zIndex:0}}),V.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 flex-row-reverse",children:[V.jsx("div",{className:"text-rose-600",style:{zIndex:2,opacity:ft.id===R.id&&ft.dx>0?Math.abs(ft.dx)>=mt?1:.65:0,transform:ft.id===R.id&&ft.dx>0&&Math.abs(ft.dx)>=mt?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:V.jsx(uh,{className:"w-6 h-6"})}),V.jsx("div",{className:"text-emerald-600",style:{zIndex:2,opacity:ft.id===R.id&&ft.dx<0?Math.abs(ft.dx)>=mt?1:.65:0,transform:ft.id===R.id&&ft.dx<0&&Math.abs(ft.dx)>=mt?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:V.jsx(lh,{className:"w-6 h-6"})})]})]}),V.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full",style:{transform:ft.id===R.id?`translateX(${ft.dx}px)`:void 0,transition:ft.id===R.id?"none":"transform 120ms ease-out"},children:[V.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>{Kt.current||wi(R.id)},children:R.name}),V.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100","data-noswipe":"true",children:[V.jsx("button",{onClick:()=>kt(R.id,-1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:V.jsx(bR,{className:"w-3 h-3"})}),V.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:R.quantity}),V.jsx("button",{onClick:()=>kt(R.id,1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:V.jsx($m,{className:"w-3 h-3"})})]})]})]},R.id)),qi.length>0?V.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[V.jsxs("h3",{className:"text-lg font-bold text-slate-700 text-right mb-2",children:[" (",qi.length,")"]}),qi.map(R=>V.jsx("div",{className:"flex items-center justify-between p-3 bg-slate-100/50 rounded-2xl opacity-60 grayscale transition-all",dir:"rtl",children:V.jsxs("div",{className:"flex items-center justify-between w-full",children:[V.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-start cursor-pointer",onClick:()=>wi(R.id),style:{direction:"rtl",unicodeBidi:"plaintext"},children:[V.jsx(vR,{className:"w-6 h-6 text-emerald-500 flex-shrink-0"}),V.jsx("span",{className:"text-base font-bold text-slate-500 line-through truncate text-left",children:V.jsxs("span",{className:"flex gap-1",children:[V.jsx("span",{children:R.name}),(R.quantity||1)>1&&V.jsxs(V.Fragment,{children:[V.jsx("span",{children:"x"}),V.jsx("span",{children:R.quantity})]})]})})]}),V.jsx("button",{onClick:()=>sr(R.id),className:"p-2 text-slate-300",title:"",children:V.jsx(uh,{className:"w-4 h-4"})})]})},R.id))]}):null]})})]}):V.jsxs("div",{className:"space-y-6",children:[V.jsxs("div",{className:"text-right",children:[V.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),V.jsx("p",{className:"text-sm text-slate-400 font-bold",children:V.jsx("span",{className:"font-semibold text-[15px] leading-none",children:"  "})})]}),ls.length===0?V.jsxs("div",{className:"text-center py-20 opacity-20",children:[V.jsx(lh,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),V.jsx("p",{className:"font-bold",children:"  "})]}):V.jsx("div",{className:"grid grid-cols-1 gap-3",children:ls.map(R=>V.jsxs("div",{className:"relative overflow-hidden rounded-2xl select-none",dir:"ltr",onPointerDown:Ki(R.id),onPointerMove:Ir(R.id),onPointerUp:ri(R.id),onPointerCancel:zt,style:{touchAction:"pan-y"},children:[V.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl",children:[V.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-rose-50",style:{width:at.id===R.id&&at.rawDx>0?Math.min(Math.abs(at.rawDx),Si):0,opacity:.9,zIndex:0}}),V.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-emerald-50",style:{width:at.id===R.id&&at.rawDx<0?Math.min(Math.abs(at.rawDx),Si):0,opacity:.9,zIndex:0}}),V.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4",children:[V.jsx("div",{className:"text-rose-600",style:{zIndex:2,opacity:at.id===R.id&&at.rawDx>0?Math.abs(at.rawDx)>=On?1:.65:0,transform:at.id===R.id&&at.rawDx>0&&Math.abs(at.rawDx)>=On?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:V.jsx(uh,{className:"w-6 h-6"})}),V.jsx("div",{className:"text-emerald-600",style:{zIndex:2,opacity:at.id===R.id&&at.rawDx<0?Math.abs(at.rawDx)>=On?1:.65:0,transform:at.id===R.id&&at.rawDx<0&&Math.abs(at.rawDx)>=On?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:V.jsx(RM,{className:"w-6 h-6"})})]})]}),V.jsxs("div",{className:"relative z-10 flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-100 shadow-sm",style:{transform:at.id===R.id?`translateX(${at.dx}px)`:void 0,transition:at.id===R.id?"none":"transform 160ms ease-out"},children:[V.jsx("div",{className:"flex items-center gap-2"}),V.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate px-3 text-base",style:{direction:"rtl",unicodeBidi:"plaintext"},children:R.name}),V.jsx(lh,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]})]},R.id))})]})}),V.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:V.jsx("div",{className:"max-w-md mx-auto px-4 pb-3",children:V.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:V.jsxs("div",{className:"relative flex items-center justify-between px-8 pt-9 pb-3",children:[V.jsxs("button",{onClick:()=>g("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[V.jsx(lh,{className:`w-7 h-7 ${p==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),""]}),V.jsxs("button",{onClick:Pt,className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:"",children:[V.jsx(ER,{className:"w-7 h-7"}),""]}),V.jsxs("button",{onClick:()=>St(!0),className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:"",children:[V.jsx(m0,{className:"w-7 h-7"}),""]}),V.jsxs("button",{onClick:()=>g("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[V.jsx(pT,{className:"w-7 h-7"}),""]}),V.jsx("button",{onPointerDown:R=>{R.preventDefault(),Cr()},onPointerUp:R=>{R.preventDefault(),si()},onPointerCancel:R=>{R.preventDefault(),si()},onPointerLeave:R=>{$e.current&&(R.preventDefault(),si())},onTouchStart:R=>{R.preventDefault(),Cr()},onTouchEnd:R=>{R.preventDefault(),si()},onMouseDown:R=>{R.preventDefault(),Cr()},onMouseUp:R=>{R.preventDefault(),si()},style:{touchAction:"none"},className:`absolute left-1/2 -translate-x-1/2 -top-8 w-16 h-16 rounded-full border-4 border-white shadow-xl flex items-center justify-center ${he?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:he?"  -   ":"   ",children:he?V.jsx(TR,{className:"w-7 h-7"}):V.jsx(wR,{className:"w-7 h-7"})})]})})})}),N?V.jsx("div",{className:"fixed inset-0 z-[70] bg-black/50 flex items-center justify-center p-6",dir:"rtl",children:V.jsx("div",{className:"w-full max-w-sm rounded-3xl bg-white shadow-2xl border border-slate-100 overflow-hidden",children:V.jsxs("div",{className:"p-6 space-y-4",children:[V.jsxs("div",{className:"flex items-start justify-between gap-3",children:[V.jsxs("div",{className:"text-right",children:[V.jsx("div",{className:"text-xl font-black text-slate-800",children:" "}),V.jsx("div",{className:"text-sm font-bold text-slate-400",children:"   (  )"})]}),V.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center",children:V.jsx(m0,{className:"w-5 h-5"})})]}),V.jsxs("div",{className:"space-y-3",children:[V.jsx("label",{className:"block text-sm font-black text-slate-600",children:"  ?"}),V.jsx("input",{type:"datetime-local",value:Mt,onChange:R=>ee(R.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 font-bold text-slate-700 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),V.jsxs("div",{className:"space-y-3",children:[V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx("span",{className:"text-sm font-black text-slate-600",children:""}),V.jsxs("span",{className:"text-sm font-black text-slate-500",children:[fe," "]})]}),V.jsx("div",{className:"grid grid-cols-4 gap-2",dir:"ltr",children:[30,45,60,90].map(R=>V.jsx("button",{onClick:()=>we(R),className:`py-2 rounded-2xl font-black text-sm ${fe===R?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700"}`,children:R},R))})]}),V.jsxs("div",{className:"flex gap-3 pt-2",children:[V.jsx("button",{onClick:()=>St(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),V.jsx("button",{onClick:()=>{St(!1),bi()},className:"flex-1 py-3 rounded-2xl font-black bg-indigo-600 text-white shadow-lg shadow-indigo-100",children:" "})]})]})})}):null,L?V.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:V.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:V.jsx(Im,{className:"w-5 h-5"})}),V.jsxs("div",{className:"text-right",children:[V.jsx("div",{className:"text-lg font-black text-slate-800",children:"  ?"}),V.jsx("div",{className:"text-sm font-bold text-slate-400",children:"    ."})]})]}),V.jsxs("div",{className:"flex gap-3",children:[V.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),V.jsx("button",{onClick:I,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:""})]})]})}):null,C?V.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:V.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:V.jsx(Im,{className:"w-5 h-5"})}),V.jsxs("div",{className:"text-right",children:[V.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),V.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),V.jsxs("div",{className:"flex gap-3",children:[V.jsx("button",{onClick:()=>M(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),V.jsx("button",{onClick:us,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null,Ge?V.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50",children:Ge}):null]}):V.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:V.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[V.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),V.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),V.jsxs("button",{onClick:async()=>{await iu()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[V.jsx(gT,{className:"w-4 h-4"}),"  "]})]})}):V.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Heebo", "Rubik", Arial'},children:V.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-70",children:[V.jsx(ru,{className:"w-10 h-10 animate-spin"}),V.jsx("div",{className:"font-bold text-slate-500",children:"..."})]})})},HM=()=>V.jsx(iR,{children:V.jsxs(MA,{children:[V.jsx(Qm,{path:"/",element:V.jsx(qM,{})}),V.jsx(Qm,{path:"/invite",element:V.jsx(NM,{})})]})}),X1=document.getElementById("root");if(!X1)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",r=>{const e=(r==null?void 0:r.message)||"unknown",n=r==null?void 0:r.error;console.error("WINDOW_ERROR:",e,n),alert("WINDOW_ERROR: "+e)});window.addEventListener("unhandledrejection",r=>{const e=r==null?void 0:r.reason;console.error("UNHANDLED_REJECTION:",e);let n="";try{typeof e=="string"?n=e:e!=null&&e.message?n=e.message:n=JSON.stringify(e)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());kS.createRoot(X1).render(V.jsx(CS.StrictMode,{children:V.jsx(HM,{})}));
