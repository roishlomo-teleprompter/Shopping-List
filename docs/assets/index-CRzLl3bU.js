(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function TS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vm={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function wS(){if(K_)return Ql;K_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ql.Fragment=e,Ql.jsx=n,Ql.jsxs=n,Ql}var $_;function bS(){return $_||($_=1,vm.exports=wS()),vm.exports}var z=bS(),_m={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function SS(){if(X_)return Be;X_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function V(T){return T===null||typeof T!="object"?null:(T=A&&T[A]||T["@@iterator"],typeof T=="function"?T:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,L={};function ue(T,j,J){this.props=T,this.context=j,this.refs=L,this.updater=J||G}ue.prototype.isReactComponent={},ue.prototype.setState=function(T,j){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,j,"setState")},ue.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function he(){}he.prototype=ue.prototype;function re(T,j,J){this.props=T,this.context=j,this.refs=L,this.updater=J||G}var be=re.prototype=new he;be.constructor=re,Z(be,ue.prototype),be.isPureReactComponent=!0;var Le=Array.isArray;function xe(){}var N={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function C(T,j,J){var oe=J.ref;return{$$typeof:r,type:T,key:j,ref:oe!==void 0?oe:null,props:J}}function O(T,j){return C(T.type,j,T.props)}function k(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function B(T){var j={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(J){return j[J]})}var D=/\/+/g;function Ct(T,j){return typeof T=="object"&&T!==null&&T.key!=null?B(""+T.key):j.toString(36)}function Ot(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(xe,xe):(T.status="pending",T.then(function(j){T.status==="pending"&&(T.status="fulfilled",T.value=j)},function(j){T.status==="pending"&&(T.status="rejected",T.reason=j)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ee(T,j,J,oe,le){var pe=typeof T;(pe==="undefined"||pe==="boolean")&&(T=null);var fe=!1;if(T===null)fe=!0;else switch(pe){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(T.$$typeof){case r:case e:fe=!0;break;case E:return fe=T._init,ee(fe(T._payload),j,J,oe,le)}}if(fe)return le=le(T),fe=oe===""?"."+Ct(T,0):oe,Le(le)?(J="",fe!=null&&(J=fe.replace(D,"$&/")+"/"),ee(le,j,J,"",function(Qe){return Qe})):le!=null&&(k(le)&&(le=O(le,J+(le.key==null||T&&T.key===le.key?"":(""+le.key).replace(D,"$&/")+"/")+fe)),j.push(le)),1;fe=0;var Ee=oe===""?".":oe+":";if(Le(T))for(var Se=0;Se<T.length;Se++)oe=T[Se],pe=Ee+Ct(oe,Se),fe+=ee(oe,j,J,pe,le);else if(Se=V(T),typeof Se=="function")for(T=Se.call(T),Se=0;!(oe=T.next()).done;)oe=oe.value,pe=Ee+Ct(oe,Se++),fe+=ee(oe,j,J,pe,le);else if(pe==="object"){if(typeof T.then=="function")return ee(Ot(T),j,J,oe,le);throw j=String(T),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return fe}function de(T,j,J){if(T==null)return T;var oe=[],le=0;return ee(T,oe,"","",function(pe){return j.call(J,pe,le++)}),oe}function we(T){if(T._status===-1){var j=T._result;j=j(),j.then(function(J){(T._status===0||T._status===-1)&&(T._status=1,T._result=J)},function(J){(T._status===0||T._status===-1)&&(T._status=2,T._result=J)}),T._status===-1&&(T._status=0,T._result=j)}if(T._status===1)return T._result.default;throw T._result}var Ge=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},q={map:de,forEach:function(T,j,J){de(T,function(){j.apply(this,arguments)},J)},count:function(T){var j=0;return de(T,function(){j++}),j},toArray:function(T){return de(T,function(j){return j})||[]},only:function(T){if(!k(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Be.Activity=w,Be.Children=q,Be.Component=ue,Be.Fragment=n,Be.Profiler=o,Be.PureComponent=re,Be.StrictMode=s,Be.Suspense=p,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Be.__COMPILER_RUNTIME={__proto__:null,c:function(T){return N.H.useMemoCache(T)}},Be.cache=function(T){return function(){return T.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(T,j,J){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var oe=Z({},T.props),le=T.key;if(j!=null)for(pe in j.key!==void 0&&(le=""+j.key),j)!I.call(j,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&j.ref===void 0||(oe[pe]=j[pe]);var pe=arguments.length-2;if(pe===1)oe.children=J;else if(1<pe){for(var fe=Array(pe),Ee=0;Ee<pe;Ee++)fe[Ee]=arguments[Ee+2];oe.children=fe}return C(T.type,le,oe)},Be.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Be.createElement=function(T,j,J){var oe,le={},pe=null;if(j!=null)for(oe in j.key!==void 0&&(pe=""+j.key),j)I.call(j,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=j[oe]);var fe=arguments.length-2;if(fe===1)le.children=J;else if(1<fe){for(var Ee=Array(fe),Se=0;Se<fe;Se++)Ee[Se]=arguments[Se+2];le.children=Ee}if(T&&T.defaultProps)for(oe in fe=T.defaultProps,fe)le[oe]===void 0&&(le[oe]=fe[oe]);return C(T,pe,le)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(T){return{$$typeof:m,render:T}},Be.isValidElement=k,Be.lazy=function(T){return{$$typeof:E,_payload:{_status:-1,_result:T},_init:we}},Be.memo=function(T,j){return{$$typeof:g,type:T,compare:j===void 0?null:j}},Be.startTransition=function(T){var j=N.T,J={};N.T=J;try{var oe=T(),le=N.S;le!==null&&le(J,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(xe,Ge)}catch(pe){Ge(pe)}finally{j!==null&&J.types!==null&&(j.types=J.types),N.T=j}},Be.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Be.use=function(T){return N.H.use(T)},Be.useActionState=function(T,j,J){return N.H.useActionState(T,j,J)},Be.useCallback=function(T,j){return N.H.useCallback(T,j)},Be.useContext=function(T){return N.H.useContext(T)},Be.useDebugValue=function(){},Be.useDeferredValue=function(T,j){return N.H.useDeferredValue(T,j)},Be.useEffect=function(T,j){return N.H.useEffect(T,j)},Be.useEffectEvent=function(T){return N.H.useEffectEvent(T)},Be.useId=function(){return N.H.useId()},Be.useImperativeHandle=function(T,j,J){return N.H.useImperativeHandle(T,j,J)},Be.useInsertionEffect=function(T,j){return N.H.useInsertionEffect(T,j)},Be.useLayoutEffect=function(T,j){return N.H.useLayoutEffect(T,j)},Be.useMemo=function(T,j){return N.H.useMemo(T,j)},Be.useOptimistic=function(T,j){return N.H.useOptimistic(T,j)},Be.useReducer=function(T,j,J){return N.H.useReducer(T,j,J)},Be.useRef=function(T){return N.H.useRef(T)},Be.useState=function(T){return N.H.useState(T)},Be.useSyncExternalStore=function(T,j,J){return N.H.useSyncExternalStore(T,j,J)},Be.useTransition=function(){return N.H.useTransition()},Be.version="19.2.3",Be}var J_;function wp(){return J_||(J_=1,_m.exports=SS()),_m.exports}var P=wp();const AS=TS(P);var Em={exports:{}},Yl={},Tm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function RS(){return W_||(W_=1,(function(r){function e(ee,de){var we=ee.length;ee.push(de);e:for(;0<we;){var Ge=we-1>>>1,q=ee[Ge];if(0<o(q,de))ee[Ge]=de,ee[we]=q,we=Ge;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var de=ee[0],we=ee.pop();if(we!==de){ee[0]=we;e:for(var Ge=0,q=ee.length,T=q>>>1;Ge<T;){var j=2*(Ge+1)-1,J=ee[j],oe=j+1,le=ee[oe];if(0>o(J,we))oe<q&&0>o(le,J)?(ee[Ge]=le,ee[oe]=we,Ge=oe):(ee[Ge]=J,ee[j]=we,Ge=j);else if(oe<q&&0>o(le,we))ee[Ge]=le,ee[oe]=we,Ge=oe;else break e}}return de}function o(ee,de){var we=ee.sortIndex-de.sortIndex;return we!==0?we:ee.id-de.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,A=3,V=!1,G=!1,Z=!1,L=!1,ue=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function be(ee){for(var de=n(g);de!==null;){if(de.callback===null)s(g);else if(de.startTime<=ee)s(g),de.sortIndex=de.expirationTime,e(p,de);else break;de=n(g)}}function Le(ee){if(Z=!1,be(ee),!G)if(n(p)!==null)G=!0,xe||(xe=!0,B());else{var de=n(g);de!==null&&Ot(Le,de.startTime-ee)}}var xe=!1,N=-1,I=5,C=-1;function O(){return L?!0:!(r.unstable_now()-C<I)}function k(){if(L=!1,xe){var ee=r.unstable_now();C=ee;var de=!0;try{e:{G=!1,Z&&(Z=!1,he(N),N=-1),V=!0;var we=A;try{t:{for(be(ee),w=n(p);w!==null&&!(w.expirationTime>ee&&O());){var Ge=w.callback;if(typeof Ge=="function"){w.callback=null,A=w.priorityLevel;var q=Ge(w.expirationTime<=ee);if(ee=r.unstable_now(),typeof q=="function"){w.callback=q,be(ee),de=!0;break t}w===n(p)&&s(p),be(ee)}else s(p);w=n(p)}if(w!==null)de=!0;else{var T=n(g);T!==null&&Ot(Le,T.startTime-ee),de=!1}}break e}finally{w=null,A=we,V=!1}de=void 0}}finally{de?B():xe=!1}}}var B;if(typeof re=="function")B=function(){re(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ct=D.port2;D.port1.onmessage=k,B=function(){Ct.postMessage(null)}}else B=function(){ue(k,0)};function Ot(ee,de){N=ue(function(){ee(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(ee){switch(A){case 1:case 2:case 3:var de=3;break;default:de=A}var we=A;A=de;try{return ee()}finally{A=we}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var we=A;A=ee;try{return de()}finally{A=we}},r.unstable_scheduleCallback=function(ee,de,we){var Ge=r.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Ge+we:Ge):we=Ge,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=we+q,ee={id:E++,callback:de,priorityLevel:ee,startTime:we,expirationTime:q,sortIndex:-1},we>Ge?(ee.sortIndex=we,e(g,ee),n(p)===null&&ee===n(g)&&(Z?(he(N),N=-1):Z=!0,Ot(Le,we-Ge))):(ee.sortIndex=q,e(p,ee),G||V||(G=!0,xe||(xe=!0,B()))),ee},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(ee){var de=A;return function(){var we=A;A=de;try{return ee.apply(this,arguments)}finally{A=we}}}})(wm)),wm}var Z_;function IS(){return Z_||(Z_=1,Tm.exports=RS()),Tm.exports}var bm={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function CS(){if(e0)return xn;e0=1;var r=wp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,xn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},xn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},xn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},xn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},xn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},xn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},xn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},xn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},xn.requestFormReset=function(p){s.d.r(p)},xn.unstable_batchedUpdates=function(p,g){return p(g)},xn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},xn.useFormStatus=function(){return f.H.useHostTransitionStatus()},xn.version="19.2.3",xn}var t0;function xS(){if(t0)return bm.exports;t0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bm.exports=CS(),bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function DS(){if(n0)return Yl;n0=1;var r=IS(),e=wp(),n=xS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),re=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Ct(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ue:return"Profiler";case L:return"StrictMode";case Le:return"Suspense";case xe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case re:return t.displayName||"Context";case he:return(t._context.displayName||"Context")+".Consumer";case be:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:Ct(t.type)||"Memo";case I:i=t._payload,t=t._init;try{return Ct(t(i))}catch{}}return null}var Ot=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Ge=[],q=-1;function T(t){return{current:t}}function j(t){0>q||(t.current=Ge[q],Ge[q]=null,q--)}function J(t,i){q++,Ge[q]=t.current,t.current=i}var oe=T(null),le=T(null),pe=T(null),fe=T(null);function Ee(t,i){switch(J(pe,i),J(le,t),J(oe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?y_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=y_(i),t=v_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(oe),J(oe,t)}function Se(){j(oe),j(le),j(pe)}function Qe(t){t.memoizedState!==null&&J(fe,t);var i=oe.current,a=v_(i,t.type);i!==a&&(J(le,t),J(oe,a))}function Ue(t){le.current===t&&(j(oe),j(le)),fe.current===t&&(j(fe),ql._currentValue=we)}var Fe,ct;function Re(t){if(Fe===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Fe=i&&i[1]||"",ct=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fe+t+ct}var ze=!1;function dt(t,i){if(!t||ze)return"";ze=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var K=X}Reflect.construct(t,[],se)}else{try{se.call()}catch(X){K=X}t.call(se.prototype)}}else{try{throw Error()}catch(X){K=X}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var x=v.split(`
`),Y=b.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===Y.length)for(l=x.length-1,h=Y.length-1;1<=l&&0<=h&&x[l]!==Y[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==Y[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==Y[h]){var te=`
`+x[l].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=l&&0<=h);break}}}finally{ze=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Re(a):""}function xt(t,i){switch(t.tag){case 26:case 27:case 5:return Re(t.type);case 16:return Re("Lazy");case 13:return t.child!==i&&i!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return dt(t.type,!1);case 11:return dt(t.type.render,!1);case 1:return dt(t.type,!0);case 31:return Re("Activity");default:return""}}function Vt(t){try{var i="",a=null;do i+=xt(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Gt=Object.prototype.hasOwnProperty,Ut=r.unstable_scheduleCallback,Zi=r.unstable_cancelCallback,sa=r.unstable_shouldYield,Tr=r.unstable_requestPaint,zt=r.unstable_now,ns=r.unstable_getCurrentPriorityLevel,Dt=r.unstable_ImmediatePriority,jt=r.unstable_UserBlockingPriority,Rn=r.unstable_NormalPriority,er=r.unstable_LowPriority,Zn=r.unstable_IdlePriority,Li=r.log,yi=r.unstable_setDisableYieldValue,vi=null,$t=null;function On(t){if(typeof Li=="function"&&yi(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(vi,t)}catch{}}var kt=Math.clz32?Math.clz32:oa,qn=Math.log,aa=Math.LN2;function oa(t){return t>>>=0,t===0?32:31-(qn(t)/aa|0)|0}var Ui=256,_i=262144,tr=4194304;function Vn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function an(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Vn(l):(v&=b,v!==0?h=Vn(v):a||(a=b&~t,a!==0&&(h=Vn(a))))):(b=l&~d,b!==0?h=Vn(b):v!==0?h=Vn(v):a||(a=l&~t,a!==0&&(h=Vn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ei(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function wr(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function la(){var t=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),t}function Ei(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function nr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function on(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,x=t.expirationTimes,Y=t.hiddenUpdates;for(a=v&~a;0<a;){var te=31-kt(a),se=1<<te;b[te]=0,x[te]=-1;var K=Y[te];if(K!==null)for(Y[te]=null,te=0;te<K.length;te++){var X=K[te];X!==null&&(X.lane&=-536870913)}a&=~se}l!==0&&ua(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function ua(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-kt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ir(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-kt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function rr(t,i){var a=i&-i;return a=(a&42)!==0?1:zi(a),(a&(t.suspendedLanes|i))!==0?0:a}function zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function In(){var t=de.p;return t!==0?t:(t=window.event,t===void 0?32:B_(t.type))}function wt(t,i){var a=de.p;try{return de.p=t,i()}finally{de.p=a}}var kn=Math.random().toString(36).slice(2),Et="__reactFiber$"+kn,Nt="__reactProps$"+kn,Pn="__reactContainer$"+kn,sr="__reactEvents$"+kn,Ti="__reactListeners$"+kn,Qa="__reactHandles$"+kn,ca="__reactResources$"+kn,Bi="__reactMarker$"+kn;function wi(t){delete t[Et],delete t[Nt],delete t[sr],delete t[Ti],delete t[Qa]}function qi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Pn]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=A_(t);t!==null;){if(a=t[Et])return a;t=A_(t)}return i}t=a,a=t.parentNode}return null}function Hi(t){if(t=t[Et]||t[Pn]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function br(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ti(t){var i=t[ca];return i||(i=t[ca]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[Bi]=!0}var Hn=new Set,R={};function H(t,i){$(t,i),$(t+"Capture",i)}function $(t,i){for(R[t]=i,t=0;t<i.length;t++)Hn.add(i[t])}var ce=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ye={},Oe={};function Ne(t){return Gt.call(Oe,t)?!0:Gt.call(ye,t)?!1:ce.test(t)?Oe[t]=!0:(ye[t]=!0,!1)}function it(t,i,a){if(Ne(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function rt(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function je(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ce(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xt(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bi(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Fi(t){if(!t._valueTracker){var i=Xt(t)?"checked":"value";t._valueTracker=bi(t,i,""+t[i])}}function Gi(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Xt(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ln=/[\n"\\]/g;function Ye(t){return t.replace(Ln,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function is(t,i,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ce(i)):t.value!==""+Ce(i)&&(t.value=""+Ce(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Ya(t,v,Ce(i)):a!=null?Ya(t,v,Ce(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ce(b):t.removeAttribute("name")}function ha(t,i,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Fi(t);return}a=a!=null?""+Ce(a):"",i=i!=null?""+Ce(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Fi(t)}function Ya(t,i,a){i==="number"&&ni(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ot(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ce(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function fa(t,i,a){if(i!=null&&(i=""+Ce(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ce(a):""}function rs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ce(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Fi(t)}function Si(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Tf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Tf.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Bu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&nl(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&nl(t,d,i[d])}function il(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ar(t){return bf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hn(){}var Ka=null;function $a(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,ii=null;function qu(t){var i=Hi(t);if(i&&(t=i.stateNode)){var a=t[Nt]||null;e:switch(t=i.stateNode,i.type){case"input":if(is(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ye(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Nt]||null;if(!h)throw Error(s(90));is(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Gi(l)}break e;case"textarea":fa(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ot(t,!!a.multiple,i,!1)}}}var rl=!1;function Hu(t,i,a){if(rl)return t(i,a);rl=!0;try{var l=t(i);return l}finally{if(rl=!1,(Sr!==null||ii!==null)&&(zc(),Sr&&(i=Sr,t=ii,ii=Sr=null,qu(i),t)))for(i=0;i<t.length;i++)qu(t[i])}}function Fn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Nt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=!1;if(Qi)try{var or={};Object.defineProperty(or,"passive",{get:function(){sl=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{sl=!1}var ri=null,Xa=null,lr=null;function ss(){if(lr)return lr;var t,i=Xa,a=i.length,l,h="value"in ri?ri.value:ri.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return lr=h.slice(t,1<l?1-l:void 0)}function da(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function as(){return!0}function St(){return!1}function Cn(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?as:St,this.isPropagationStopped=St,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),i}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ma=Cn(Ar),os=w({},Ar,{view:0,detail:0}),Fu=Cn(os),ls,Ja,Un,pa=w({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Un&&(Un&&t.type==="mousemove"?(ls=t.screenX-Un.screenX,Ja=t.screenY-Un.screenY):Ja=ls=0,Un=t),ls)},movementY:function(t){return"movementY"in t?t.movementY:Ja}}),Gu=Cn(pa),ga=w({},pa,{dataTransfer:0}),Qu=Cn(ga),al=w({},os,{relatedTarget:0}),us=Cn(al),Yu=w({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Wa=Cn(Yu),Sf=w({},Ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ku=Cn(Sf),ya=w({},Ar,{data:0}),ol=Cn(ya),$u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ll={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ul={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ul[t])?!!i[t]:!1}function cs(){return Xu}var Ju=w({},os,{key:function(t){if(t.key){var i=$u[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=da(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ll[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(t){return t.type==="keypress"?da(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?da(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wu=Cn(Ju),Rr=w({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=Cn(Rr),Zu=w({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),ec=Cn(Zu),tc=w({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),Za=Cn(tc),zn=w({},pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nc=Cn(zn),ic=w({},Ar,{newState:0,oldState:0}),hs=Cn(ic),c=[9,13,27,32],y=Qi&&"CompositionEvent"in window,_=null;Qi&&"documentMode"in document&&(_=document.documentMode);var S=Qi&&"TextEvent"in window&&!_,F=Qi&&(!y||_&&8<_&&11>=_),W=" ",me=!1;function ft(t,i){switch(t){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ke=!1;function fn(t,i){switch(t){case"compositionend":return Jt(i);case"keypress":return i.which!==32?null:(me=!0,W);case"textInput":return t=i.data,t===W&&me?null:t;default:return null}}function dn(t,i){if(Ke)return t==="compositionend"||!y&&ft(t,i)?(t=ss(),lr=Xa=ri=null,Ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return F&&i.locale!=="ko"?null:i.data;default:return null}}var fs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!fs[t.type]:i==="textarea"}function va(t,i,a,l){Sr?ii?ii.push(l):ii=[l]:Sr=l,i=Qc(i,"onChange"),0<i.length&&(a=new ma("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ir=null,hl=null;function Kw(t){h_(t,0)}function rc(t){var i=br(t);if(Gi(i))return t}function Dg(t,i){if(t==="change")return i}var Ng=!1;if(Qi){var Af;if(Qi){var Rf="oninput"in document;if(!Rf){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Rf=typeof Mg.oninput=="function"}Af=Rf}else Af=!1;Ng=Af&&(!document.documentMode||9<document.documentMode)}function Og(){Ir&&(Ir.detachEvent("onpropertychange",Vg),hl=Ir=null)}function Vg(t){if(t.propertyName==="value"&&rc(hl)){var i=[];va(i,hl,t,$a(t)),Hu(Kw,i)}}function $w(t,i,a){t==="focusin"?(Og(),Ir=i,hl=a,Ir.attachEvent("onpropertychange",Vg)):t==="focusout"&&Og()}function Xw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rc(hl)}function Jw(t,i){if(t==="click")return rc(i)}function Ww(t,i){if(t==="input"||t==="change")return rc(i)}function Zw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var si=typeof Object.is=="function"?Object.is:Zw;function fl(t,i){if(si(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Gt.call(i,h)||!si(t[h],i[h]))return!1}return!0}function kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pg(t,i){var a=kg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kg(a)}}function Lg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Lg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ni(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ni(t.document)}return i}function If(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var eb=Qi&&"documentMode"in document&&11>=document.documentMode,eo=null,Cf=null,dl=null,xf=!1;function zg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||eo==null||eo!==ni(l)||(l=eo,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Qc(Cf,"onSelect"),0<l.length&&(i=new ma("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=eo)))}function _a(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var to={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},Df={},jg={};Qi&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function Ea(t){if(Df[t])return Df[t];if(!to[t])return t;var i=to[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in jg)return Df[t]=i[a];return t}var Bg=Ea("animationend"),qg=Ea("animationiteration"),Hg=Ea("animationstart"),tb=Ea("transitionrun"),nb=Ea("transitionstart"),ib=Ea("transitioncancel"),Fg=Ea("transitionend"),Gg=new Map,Nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nf.push("scrollEnd");function Yi(t,i){Gg.set(t,i),H(i,[t])}var sc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ai=[],no=0,Mf=0;function ac(){for(var t=no,i=Mf=no=0;i<t;){var a=Ai[i];Ai[i++]=null;var l=Ai[i];Ai[i++]=null;var h=Ai[i];Ai[i++]=null;var d=Ai[i];if(Ai[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Qg(a,h,d)}}function oc(t,i,a,l){Ai[no++]=t,Ai[no++]=i,Ai[no++]=a,Ai[no++]=l,Mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Of(t,i,a,l){return oc(t,i,a,l),lc(t)}function Ta(t,i){return oc(t,null,null,i),lc(t)}function Qg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-kt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function lc(t){if(50<kl)throw kl=0,qd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var io={};function rb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(t,i,a,l){return new rb(t,i,a,l)}function Vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cr(t,i){var a=t.alternate;return a===null?(a=ai(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Yg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function uc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Vf(t)&&(v=1);else if(typeof t=="string")v=uS(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=ai(31,a,i,h),t.elementType=C,t.lanes=d,t;case Z:return wa(a.children,h,d,i);case L:v=8,h|=24;break;case ue:return t=ai(12,a,i,h|2),t.elementType=ue,t.lanes=d,t;case Le:return t=ai(13,a,i,h),t.elementType=Le,t.lanes=d,t;case xe:return t=ai(19,a,i,h),t.elementType=xe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case he:v=9;break e;case be:v=11;break e;case N:v=14;break e;case I:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=ai(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function wa(t,i,a,l){return t=ai(7,t,l,i),t.lanes=a,t}function kf(t,i,a){return t=ai(6,t,null,i),t.lanes=a,t}function Kg(t){var i=ai(18,null,null,0);return i.stateNode=t,i}function Pf(t,i,a){return i=ai(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var $g=new WeakMap;function Ri(t,i){if(typeof t=="object"&&t!==null){var a=$g.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Vt(i)},$g.set(t,i),i)}return{value:t,source:i,stack:Vt(i)}}var ro=[],so=0,cc=null,ml=0,Ii=[],Ci=0,ds=null,ur=1,cr="";function xr(t,i){ro[so++]=ml,ro[so++]=cc,cc=t,ml=i}function Xg(t,i,a){Ii[Ci++]=ur,Ii[Ci++]=cr,Ii[Ci++]=ds,ds=t;var l=ur;t=cr;var h=32-kt(l)-1;l&=~(1<<h),a+=1;var d=32-kt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,ur=1<<32-kt(i)+h|a<<h|l,cr=d+t}else ur=1<<d|a<<h|l,cr=t}function Lf(t){t.return!==null&&(xr(t,1),Xg(t,1,0))}function Uf(t){for(;t===cc;)cc=ro[--so],ro[so]=null,ml=ro[--so],ro[so]=null;for(;t===ds;)ds=Ii[--Ci],Ii[Ci]=null,cr=Ii[--Ci],Ii[Ci]=null,ur=Ii[--Ci],Ii[Ci]=null}function Jg(t,i){Ii[Ci++]=ur,Ii[Ci++]=cr,Ii[Ci++]=ds,ur=i.id,cr=i.overflow,ds=t}var vn=null,At=null,nt=!1,ms=null,xi=!1,zf=Error(s(519));function ps(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(Ri(i,t)),zf}function Wg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[Nt]=l,a){case"dialog":Je("cancel",i),Je("close",i);break;case"iframe":case"object":case"embed":Je("load",i);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Je(Ll[a],i);break;case"source":Je("error",i);break;case"img":case"image":case"link":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"input":Je("invalid",i),ha(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Je("invalid",i);break;case"textarea":Je("invalid",i),rs(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||p_(i.textContent,a)?(l.popover!=null&&(Je("beforetoggle",i),Je("toggle",i)),l.onScroll!=null&&Je("scroll",i),l.onScrollEnd!=null&&Je("scrollend",i),l.onClick!=null&&(i.onclick=hn),i=!0):i=!1,i||ps(t,!0)}function Zg(t){for(vn=t.return;vn;)switch(vn.tag){case 5:case 31:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:vn=vn.return}}function ao(t){if(t!==vn)return!1;if(!nt)return Zg(t),nt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||im(t.type,t.memoizedProps)),a=!a),a&&At&&ps(t),Zg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));At=S_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));At=S_(t)}else i===27?(i=At,xs(t.type)?(t=lm,lm=null,At=t):At=i):At=vn?Ni(t.stateNode.nextSibling):null;return!0}function ba(){At=vn=null,nt=!1}function jf(){var t=ms;return t!==null&&($n===null?$n=t:$n.push.apply($n,t),ms=null),t}function pl(t){ms===null?ms=[t]:ms.push(t)}var Bf=T(null),Sa=null,Dr=null;function gs(t,i,a){J(Bf,i._currentValue),i._currentValue=a}function Nr(t){t._currentValue=Bf.current,j(Bf)}function qf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Hf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var x=0;x<i.length;x++)if(b.context===i[x]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),qf(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),qf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function oo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;si(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===fe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}h=h.return}t!==null&&Hf(i,t,a,l),i.flags|=262144}function hc(t){for(t=t.firstContext;t!==null;){if(!si(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Aa(t){Sa=t,Dr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _n(t){return ey(Sa,t)}function fc(t,i){return Sa===null&&Aa(t),ey(t,i)}function ey(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Dr===null){if(t===null)throw Error(s(308));Dr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Dr=Dr.next=i;return a}var sb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ab=r.unstable_scheduleCallback,ob=r.unstable_NormalPriority,Wt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new sb,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&ab(ob,function(){t.controller.abort()})}var yl=null,Gf=0,lo=0,uo=null;function lb(t,i){if(yl===null){var a=yl=[];Gf=0,lo=Kd(),uo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,i.then(ty,ty),i}function ty(){if(--Gf===0&&yl!==null){uo!==null&&(uo.status="fulfilled");var t=yl;yl=null,lo=0,uo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ub(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ny=ee.S;ee.S=function(t,i){zv=zt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&lb(t,i),ny!==null&&ny(t,i)};var Ra=T(null);function Qf(){var t=Ra.current;return t!==null?t:Tt.pooledCache}function dc(t,i){i===null?J(Ra,Ra.current):J(Ra,i.pool)}function iy(){var t=Qf();return t===null?null:{parent:Wt._currentValue,pool:t}}var co=Error(s(460)),Yf=Error(s(474)),mc=Error(s(542)),pc={then:function(){}};function ry(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(hn,hn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,oy(t),t;default:if(typeof i.status=="string")i.then(hn,hn);else{if(t=Tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,oy(t),t}throw Ca=i,co}}function Ia(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ca=a,co):a}}var Ca=null;function ay(){if(Ca===null)throw Error(s(459));var t=Ca;return Ca=null,t}function oy(t){if(t===co||t===mc)throw Error(s(483))}var ho=null,vl=0;function gc(t){var i=vl;return vl+=1,ho===null&&(ho=[]),sy(ho,t,i)}function _l(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function yc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ly(t){function i(U,M){if(t){var Q=U.deletions;Q===null?(U.deletions=[M],U.flags|=16):Q.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Cr(U,M),U.index=0,U.sibling=null,U}function d(U,M,Q){return U.index=Q,t?(Q=U.alternate,Q!==null?(Q=Q.index,Q<M?(U.flags|=67108866,M):Q):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,M,Q,ne){return M===null||M.tag!==6?(M=kf(Q,U.mode,ne),M.return=U,M):(M=h(M,Q),M.return=U,M)}function x(U,M,Q,ne){var Ie=Q.type;return Ie===Z?te(U,M,Q.props.children,ne,Q.key):M!==null&&(M.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===I&&Ia(Ie)===M.type)?(M=h(M,Q.props),_l(M,Q),M.return=U,M):(M=uc(Q.type,Q.key,Q.props,null,U.mode,ne),_l(M,Q),M.return=U,M)}function Y(U,M,Q,ne){return M===null||M.tag!==4||M.stateNode.containerInfo!==Q.containerInfo||M.stateNode.implementation!==Q.implementation?(M=Pf(Q,U.mode,ne),M.return=U,M):(M=h(M,Q.children||[]),M.return=U,M)}function te(U,M,Q,ne,Ie){return M===null||M.tag!==7?(M=wa(Q,U.mode,ne,Ie),M.return=U,M):(M=h(M,Q),M.return=U,M)}function se(U,M,Q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=kf(""+M,U.mode,Q),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case V:return Q=uc(M.type,M.key,M.props,null,U.mode,Q),_l(Q,M),Q.return=U,Q;case G:return M=Pf(M,U.mode,Q),M.return=U,M;case I:return M=Ia(M),se(U,M,Q)}if(Ot(M)||B(M))return M=wa(M,U.mode,Q,null),M.return=U,M;if(typeof M.then=="function")return se(U,gc(M),Q);if(M.$$typeof===re)return se(U,fc(U,M),Q);yc(U,M)}return null}function K(U,M,Q,ne){var Ie=M!==null?M.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ie!==null?null:b(U,M,""+Q,ne);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case V:return Q.key===Ie?x(U,M,Q,ne):null;case G:return Q.key===Ie?Y(U,M,Q,ne):null;case I:return Q=Ia(Q),K(U,M,Q,ne)}if(Ot(Q)||B(Q))return Ie!==null?null:te(U,M,Q,ne,null);if(typeof Q.then=="function")return K(U,M,gc(Q),ne);if(Q.$$typeof===re)return K(U,M,fc(U,Q),ne);yc(U,Q)}return null}function X(U,M,Q,ne,Ie){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return U=U.get(Q)||null,b(M,U,""+ne,Ie);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case V:return U=U.get(ne.key===null?Q:ne.key)||null,x(M,U,ne,Ie);case G:return U=U.get(ne.key===null?Q:ne.key)||null,Y(M,U,ne,Ie);case I:return ne=Ia(ne),X(U,M,Q,ne,Ie)}if(Ot(ne)||B(ne))return U=U.get(Q)||null,te(M,U,ne,Ie,null);if(typeof ne.then=="function")return X(U,M,Q,gc(ne),Ie);if(ne.$$typeof===re)return X(U,M,Q,fc(M,ne),Ie);yc(M,ne)}return null}function _e(U,M,Q,ne){for(var Ie=null,lt=null,Te=M,He=M=0,Ze=null;Te!==null&&He<Q.length;He++){Te.index>He?(Ze=Te,Te=null):Ze=Te.sibling;var ut=K(U,Te,Q[He],ne);if(ut===null){Te===null&&(Te=Ze);break}t&&Te&&ut.alternate===null&&i(U,Te),M=d(ut,M,He),lt===null?Ie=ut:lt.sibling=ut,lt=ut,Te=Ze}if(He===Q.length)return a(U,Te),nt&&xr(U,He),Ie;if(Te===null){for(;He<Q.length;He++)Te=se(U,Q[He],ne),Te!==null&&(M=d(Te,M,He),lt===null?Ie=Te:lt.sibling=Te,lt=Te);return nt&&xr(U,He),Ie}for(Te=l(Te);He<Q.length;He++)Ze=X(Te,U,He,Q[He],ne),Ze!==null&&(t&&Ze.alternate!==null&&Te.delete(Ze.key===null?He:Ze.key),M=d(Ze,M,He),lt===null?Ie=Ze:lt.sibling=Ze,lt=Ze);return t&&Te.forEach(function(Vs){return i(U,Vs)}),nt&&xr(U,He),Ie}function Me(U,M,Q,ne){if(Q==null)throw Error(s(151));for(var Ie=null,lt=null,Te=M,He=M=0,Ze=null,ut=Q.next();Te!==null&&!ut.done;He++,ut=Q.next()){Te.index>He?(Ze=Te,Te=null):Ze=Te.sibling;var Vs=K(U,Te,ut.value,ne);if(Vs===null){Te===null&&(Te=Ze);break}t&&Te&&Vs.alternate===null&&i(U,Te),M=d(Vs,M,He),lt===null?Ie=Vs:lt.sibling=Vs,lt=Vs,Te=Ze}if(ut.done)return a(U,Te),nt&&xr(U,He),Ie;if(Te===null){for(;!ut.done;He++,ut=Q.next())ut=se(U,ut.value,ne),ut!==null&&(M=d(ut,M,He),lt===null?Ie=ut:lt.sibling=ut,lt=ut);return nt&&xr(U,He),Ie}for(Te=l(Te);!ut.done;He++,ut=Q.next())ut=X(Te,U,He,ut.value,ne),ut!==null&&(t&&ut.alternate!==null&&Te.delete(ut.key===null?He:ut.key),M=d(ut,M,He),lt===null?Ie=ut:lt.sibling=ut,lt=ut);return t&&Te.forEach(function(ES){return i(U,ES)}),nt&&xr(U,He),Ie}function vt(U,M,Q,ne){if(typeof Q=="object"&&Q!==null&&Q.type===Z&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case V:e:{for(var Ie=Q.key;M!==null;){if(M.key===Ie){if(Ie=Q.type,Ie===Z){if(M.tag===7){a(U,M.sibling),ne=h(M,Q.props.children),ne.return=U,U=ne;break e}}else if(M.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===I&&Ia(Ie)===M.type){a(U,M.sibling),ne=h(M,Q.props),_l(ne,Q),ne.return=U,U=ne;break e}a(U,M);break}else i(U,M);M=M.sibling}Q.type===Z?(ne=wa(Q.props.children,U.mode,ne,Q.key),ne.return=U,U=ne):(ne=uc(Q.type,Q.key,Q.props,null,U.mode,ne),_l(ne,Q),ne.return=U,U=ne)}return v(U);case G:e:{for(Ie=Q.key;M!==null;){if(M.key===Ie)if(M.tag===4&&M.stateNode.containerInfo===Q.containerInfo&&M.stateNode.implementation===Q.implementation){a(U,M.sibling),ne=h(M,Q.children||[]),ne.return=U,U=ne;break e}else{a(U,M);break}else i(U,M);M=M.sibling}ne=Pf(Q,U.mode,ne),ne.return=U,U=ne}return v(U);case I:return Q=Ia(Q),vt(U,M,Q,ne)}if(Ot(Q))return _e(U,M,Q,ne);if(B(Q)){if(Ie=B(Q),typeof Ie!="function")throw Error(s(150));return Q=Ie.call(Q),Me(U,M,Q,ne)}if(typeof Q.then=="function")return vt(U,M,gc(Q),ne);if(Q.$$typeof===re)return vt(U,M,fc(U,Q),ne);yc(U,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,M!==null&&M.tag===6?(a(U,M.sibling),ne=h(M,Q),ne.return=U,U=ne):(a(U,M),ne=kf(Q,U.mode,ne),ne.return=U,U=ne),v(U)):a(U,M)}return function(U,M,Q,ne){try{vl=0;var Ie=vt(U,M,Q,ne);return ho=null,Ie}catch(Te){if(Te===co||Te===mc)throw Te;var lt=ai(29,Te,null,U.mode);return lt.lanes=ne,lt.return=U,lt}finally{}}}var xa=ly(!0),uy=ly(!1),ys=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _s(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ht&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=lc(t),Qg(t,null,a),i}return oc(t,l,i,a),lc(t)}function El(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ir(t,a)}}function Xf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Jf=!1;function Tl(){if(Jf){var t=uo;if(t!==null)throw t}}function wl(t,i,a,l){Jf=!1;var h=t.updateQueue;ys=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var x=b,Y=x.next;x.next=null,v===null?d=Y:v.next=Y,v=x;var te=t.alternate;te!==null&&(te=te.updateQueue,b=te.lastBaseUpdate,b!==v&&(b===null?te.firstBaseUpdate=Y:b.next=Y,te.lastBaseUpdate=x))}if(d!==null){var se=h.baseState;v=0,te=Y=x=null,b=d;do{var K=b.lane&-536870913,X=K!==b.lane;if(X?(We&K)===K:(l&K)===K){K!==0&&K===lo&&(Jf=!0),te!==null&&(te=te.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var _e=t,Me=b;K=i;var vt=a;switch(Me.tag){case 1:if(_e=Me.payload,typeof _e=="function"){se=_e.call(vt,se,K);break e}se=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Me.payload,K=typeof _e=="function"?_e.call(vt,se,K):_e,K==null)break e;se=w({},se,K);break e;case 2:ys=!0}}K=b.callback,K!==null&&(t.flags|=64,X&&(t.flags|=8192),X=h.callbacks,X===null?h.callbacks=[K]:X.push(K))}else X={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},te===null?(Y=te=X,x=se):te=te.next=X,v|=K;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;X=b,b=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);te===null&&(x=se),h.baseState=x,h.firstBaseUpdate=Y,h.lastBaseUpdate=te,d===null&&(h.shared.lanes=0),Ss|=v,t.lanes=v,t.memoizedState=se}}function cy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function hy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)cy(a[t],i)}var fo=T(null),vc=T(0);function fy(t,i){t=jr,J(vc,t),J(fo,i),jr=t|i.baseLanes}function Wf(){J(vc,jr),J(fo,fo.current)}function Zf(){jr=vc.current,j(fo),j(vc)}var oi=T(null),Di=null;function Es(t){var i=t.alternate;J(Qt,Qt.current&1),J(oi,t),Di===null&&(i===null||fo.current!==null||i.memoizedState!==null)&&(Di=t)}function ed(t){J(Qt,Qt.current),J(oi,t),Di===null&&(Di=t)}function dy(t){t.tag===22?(J(Qt,Qt.current),J(oi,t),Di===null&&(Di=t)):Ts()}function Ts(){J(Qt,Qt.current),J(oi,oi.current)}function li(t){j(oi),Di===t&&(Di=null),j(Qt)}var Qt=T(0);function _c(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||am(a)||om(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Mr=0,qe=null,gt=null,Zt=null,Ec=!1,mo=!1,Da=!1,Tc=0,bl=0,po=null,cb=0;function Bt(){throw Error(s(321))}function td(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!si(t[a],i[a]))return!1;return!0}function nd(t,i,a,l,h,d){return Mr=d,qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ee.H=t===null||t.memoizedState===null?Xy:yd,Da=!1,d=a(l,h),Da=!1,mo&&(d=py(i,a,l,h)),my(t),d}function my(t){ee.H=Rl;var i=gt!==null&&gt.next!==null;if(Mr=0,Zt=gt=qe=null,Ec=!1,bl=0,po=null,i)throw Error(s(300));t===null||en||(t=t.dependencies,t!==null&&hc(t)&&(en=!0))}function py(t,i,a,l){qe=t;var h=0;do{if(mo&&(po=null),bl=0,mo=!1,25<=h)throw Error(s(301));if(h+=1,Zt=gt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}ee.H=Jy,d=i(a,l)}while(mo);return d}function hb(){var t=ee.H,i=t.useState()[0];return i=typeof i.then=="function"?Sl(i):i,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(qe.flags|=1024),i}function id(){var t=Tc!==0;return Tc=0,t}function rd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function sd(t){if(Ec){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ec=!1}Mr=0,Zt=gt=qe=null,mo=!1,bl=Tc=0,po=null}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?qe.memoizedState=Zt=t:Zt=Zt.next=t,Zt}function Yt(){if(gt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var i=Zt===null?qe.memoizedState:Zt.next;if(i!==null)Zt=i,gt=t;else{if(t===null)throw qe.alternate===null?Error(s(467)):Error(s(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Zt===null?qe.memoizedState=Zt=t:Zt=Zt.next=t}return Zt}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var i=bl;return bl+=1,po===null&&(po=[]),t=sy(po,t,i),i=qe,(Zt===null?i.memoizedState:Zt.next)===null&&(i=i.alternate,ee.H=i===null||i.memoizedState===null?Xy:yd),t}function bc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===re)return _n(t)}throw Error(s(438,String(t)))}function ad(t){var i=null,a=qe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=qe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=wc(),qe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Or(t,i){return typeof i=="function"?i(t):i}function Sc(t){var i=Yt();return od(i,gt,t)}function od(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=v=null,x=null,Y=i,te=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(We&se)===se:(Mr&se)===se){var K=Y.revertLane;if(K===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===lo&&(te=!0);else if((Mr&K)===K){Y=Y.next,K===lo&&(te=!0);continue}else se={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},x===null?(b=x=se,v=d):x=x.next=se,qe.lanes|=K,Ss|=K;se=Y.action,Da&&a(d,se),d=Y.hasEagerState?Y.eagerState:a(d,se)}else K={lane:se,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},x===null?(b=x=K,v=d):x=x.next=K,qe.lanes|=se,Ss|=se;Y=Y.next}while(Y!==null&&Y!==i);if(x===null?v=d:x.next=b,!si(d,t.memoizedState)&&(en=!0,te&&(a=uo,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ld(t){var i=Yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);si(d,i.memoizedState)||(en=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function gy(t,i,a){var l=qe,h=Yt(),d=nt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!si((gt||h).memoizedState,a);if(v&&(h.memoizedState=a,en=!0),h=h.queue,hd(_y.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Zt!==null&&Zt.memoizedState.tag&1){if(l.flags|=2048,go(9,{destroy:void 0},vy.bind(null,l,h,a,i),null),Tt===null)throw Error(s(349));d||(Mr&127)!==0||yy(l,i,a)}return a}function yy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=qe.updateQueue,i===null?(i=wc(),qe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function vy(t,i,a,l){i.value=a,i.getSnapshot=l,Ey(i)&&Ty(t)}function _y(t,i,a){return a(function(){Ey(i)&&Ty(t)})}function Ey(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!si(t,a)}catch{return!0}}function Ty(t){var i=Ta(t,2);i!==null&&Xn(i,t,2)}function ud(t){var i=jn();if(typeof t=="function"){var a=t;if(t=a(),Da){On(!0);try{a()}finally{On(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:t},i}function wy(t,i,a,l){return t.baseState=a,od(t,gt,typeof l=="function"?l:Or)}function fb(t,i,a,l,h){if(Ic(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};ee.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,by(i,d)):(d.next=a.next,i.pending=a.next=d)}}function by(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=ee.T,v={};ee.T=v;try{var b=a(h,l),x=ee.S;x!==null&&x(v,b),Sy(t,i,b)}catch(Y){cd(t,i,Y)}finally{d!==null&&v.types!==null&&(d.types=v.types),ee.T=d}}else try{d=a(h,l),Sy(t,i,d)}catch(Y){cd(t,i,Y)}}function Sy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ay(t,i,l)},function(l){return cd(t,i,l)}):Ay(t,i,a)}function Ay(t,i,a){i.status="fulfilled",i.value=a,Ry(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,by(t,a)))}function cd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ry(i),i=i.next;while(i!==l)}t.action=null}function Ry(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Iy(t,i){return i}function Cy(t,i){if(nt){var a=Tt.formState;if(a!==null){e:{var l=qe;if(nt){if(At){t:{for(var h=At,d=xi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ni(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){At=Ni(h.nextSibling),l=h.data==="F!";break e}}ps(l)}l=!1}l&&(i=a[0])}}return a=jn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iy,lastRenderedState:i},a.queue=l,a=Yy.bind(null,qe,l),l.dispatch=a,l=ud(!1),d=gd.bind(null,qe,!1,l.queue),l=jn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=fb.bind(null,qe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function xy(t){var i=Yt();return Dy(i,gt,t)}function Dy(t,i,a){if(i=od(t,i,Iy)[0],t=Sc(Or)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Sl(i)}catch(v){throw v===co?mc:v}else l=i;i=Yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(qe.flags|=2048,go(9,{destroy:void 0},db.bind(null,h,a),null)),[l,d,t]}function db(t,i){t.action=i}function Ny(t){var i=Yt(),a=gt;if(a!==null)return Dy(i,a,t);Yt(),i=i.memoizedState,a=Yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function go(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=qe.updateQueue,i===null&&(i=wc(),qe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function My(){return Yt().memoizedState}function Ac(t,i,a,l){var h=jn();qe.flags|=t,h.memoizedState=go(1|i,{destroy:void 0},a,l===void 0?null:l)}function Rc(t,i,a,l){var h=Yt();l=l===void 0?null:l;var d=h.memoizedState.inst;gt!==null&&l!==null&&td(l,gt.memoizedState.deps)?h.memoizedState=go(i,d,a,l):(qe.flags|=t,h.memoizedState=go(1|i,d,a,l))}function Oy(t,i){Ac(8390656,8,t,i)}function hd(t,i){Rc(2048,8,t,i)}function mb(t){qe.flags|=4;var i=qe.updateQueue;if(i===null)i=wc(),qe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Vy(t){var i=Yt().memoizedState;return mb({ref:i,nextImpl:t}),function(){if((ht&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ky(t,i){return Rc(4,2,t,i)}function Py(t,i){return Rc(4,4,t,i)}function Ly(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Uy(t,i,a){a=a!=null?a.concat([t]):null,Rc(4,4,Ly.bind(null,i,t),a)}function fd(){}function zy(t,i){var a=Yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&td(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function jy(t,i){var a=Yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&td(i,l[1]))return l[0];if(l=t(),Da){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,i],l}function dd(t,i,a){return a===void 0||(Mr&1073741824)!==0&&(We&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Bv(),qe.lanes|=t,Ss|=t,a)}function By(t,i,a,l){return si(a,i)?a:fo.current!==null?(t=dd(t,a,l),si(t,i)||(en=!0),t):(Mr&42)===0||(Mr&1073741824)!==0&&(We&261930)===0?(en=!0,t.memoizedState=a):(t=Bv(),qe.lanes|=t,Ss|=t,i)}function qy(t,i,a,l,h){var d=de.p;de.p=d!==0&&8>d?d:8;var v=ee.T,b={};ee.T=b,gd(t,!1,i,a);try{var x=h(),Y=ee.S;if(Y!==null&&Y(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var te=ub(x,l);Al(t,i,te,hi(t))}else Al(t,i,l,hi(t))}catch(se){Al(t,i,{then:function(){},status:"rejected",reason:se},hi())}finally{de.p=d,v!==null&&b.types!==null&&(v.types=b.types),ee.T=v}}function pb(){}function md(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Hy(t).queue;qy(t,h,i,we,a===null?pb:function(){return Fy(t),a(l)})}function Hy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:we},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Fy(t){var i=Hy(t);i.next===null&&(i=t.alternate.memoizedState),Al(t,i.next.queue,{},hi())}function pd(){return _n(ql)}function Gy(){return Yt().memoizedState}function Qy(){return Yt().memoizedState}function gb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=hi();t=vs(a);var l=_s(i,t,a);l!==null&&(Xn(l,i,a),El(l,i,a)),i={cache:Ff()},t.payload=i;return}i=i.return}}function yb(t,i,a){var l=hi();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ic(t)?Ky(i,a):(a=Of(t,i,a,l),a!==null&&(Xn(a,t,l),$y(a,i,l)))}function Yy(t,i,a){var l=hi();Al(t,i,a,l)}function Al(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ic(t))Ky(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,si(b,v))return oc(t,i,h,0),Tt===null&&ac(),!1}catch{}finally{}if(a=Of(t,i,h,l),a!==null)return Xn(a,t,l),$y(a,i,l),!0}return!1}function gd(t,i,a,l){if(l={lane:2,revertLane:Kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ic(t)){if(i)throw Error(s(479))}else i=Of(t,a,l,2),i!==null&&Xn(i,t,2)}function Ic(t){var i=t.alternate;return t===qe||i!==null&&i===qe}function Ky(t,i){mo=Ec=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function $y(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ir(t,a)}}var Rl={readContext:_n,use:bc,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};Rl.useEffectEvent=Bt;var Xy={readContext:_n,use:bc,useCallback:function(t,i){return jn().memoizedState=[t,i===void 0?null:i],t},useContext:_n,useEffect:Oy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ac(4194308,4,Ly.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ac(4194308,4,t,i)},useInsertionEffect:function(t,i){Ac(4,2,t,i)},useMemo:function(t,i){var a=jn();i=i===void 0?null:i;var l=t();if(Da){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=jn();if(a!==void 0){var h=a(i);if(Da){On(!0);try{a(i)}finally{On(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=yb.bind(null,qe,t),[l.memoizedState,t]},useRef:function(t){var i=jn();return t={current:t},i.memoizedState=t},useState:function(t){t=ud(t);var i=t.queue,a=Yy.bind(null,qe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:fd,useDeferredValue:function(t,i){var a=jn();return dd(a,t,i)},useTransition:function(){var t=ud(!1);return t=qy.bind(null,qe,t.queue,!0,!1),jn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=qe,h=jn();if(nt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Tt===null)throw Error(s(349));(We&127)!==0||yy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Oy(_y.bind(null,l,d,t),[t]),l.flags|=2048,go(9,{destroy:void 0},vy.bind(null,l,d,a,i),null),a},useId:function(){var t=jn(),i=Tt.identifierPrefix;if(nt){var a=cr,l=ur;a=(l&~(1<<32-kt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Tc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=cb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:pd,useFormState:Cy,useActionState:Cy,useOptimistic:function(t){var i=jn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gd.bind(null,qe,!0,a),a.dispatch=i,[t,i]},useMemoCache:ad,useCacheRefresh:function(){return jn().memoizedState=gb.bind(null,qe)},useEffectEvent:function(t){var i=jn(),a={impl:t};return i.memoizedState=a,function(){if((ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},yd={readContext:_n,use:bc,useCallback:zy,useContext:_n,useEffect:hd,useImperativeHandle:Uy,useInsertionEffect:ky,useLayoutEffect:Py,useMemo:jy,useReducer:Sc,useRef:My,useState:function(){return Sc(Or)},useDebugValue:fd,useDeferredValue:function(t,i){var a=Yt();return By(a,gt.memoizedState,t,i)},useTransition:function(){var t=Sc(Or)[0],i=Yt().memoizedState;return[typeof t=="boolean"?t:Sl(t),i]},useSyncExternalStore:gy,useId:Gy,useHostTransitionStatus:pd,useFormState:xy,useActionState:xy,useOptimistic:function(t,i){var a=Yt();return wy(a,gt,t,i)},useMemoCache:ad,useCacheRefresh:Qy};yd.useEffectEvent=Vy;var Jy={readContext:_n,use:bc,useCallback:zy,useContext:_n,useEffect:hd,useImperativeHandle:Uy,useInsertionEffect:ky,useLayoutEffect:Py,useMemo:jy,useReducer:ld,useRef:My,useState:function(){return ld(Or)},useDebugValue:fd,useDeferredValue:function(t,i){var a=Yt();return gt===null?dd(a,t,i):By(a,gt.memoizedState,t,i)},useTransition:function(){var t=ld(Or)[0],i=Yt().memoizedState;return[typeof t=="boolean"?t:Sl(t),i]},useSyncExternalStore:gy,useId:Gy,useHostTransitionStatus:pd,useFormState:Ny,useActionState:Ny,useOptimistic:function(t,i){var a=Yt();return gt!==null?wy(a,gt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:Qy};Jy.useEffectEvent=Vy;function vd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _d={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=hi(),h=vs(l);h.payload=i,a!=null&&(h.callback=a),i=_s(t,h,l),i!==null&&(Xn(i,t,l),El(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=hi(),h=vs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=_s(t,h,l),i!==null&&(Xn(i,t,l),El(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=hi(),l=vs(a);l.tag=2,i!=null&&(l.callback=i),i=_s(t,l,a),i!==null&&(Xn(i,t,a),El(i,t,a))}};function Wy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!fl(a,l)||!fl(h,d):!0}function Zy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&_d.enqueueReplaceState(i,i.state,null)}function Na(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ev(t){sc(t)}function tv(t){console.error(t)}function nv(t){sc(t)}function Cc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function iv(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ed(t,i,a){return a=vs(a),a.tag=3,a.payload={element:null},a.callback=function(){Cc(t,i)},a}function rv(t){return t=vs(t),t.tag=3,t}function sv(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){iv(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){iv(i,a,l),typeof h!="function"&&(As===null?As=new Set([this]):As.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function vb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&oo(i,a,h,!0),a=oi.current,a!==null){switch(a.tag){case 31:case 13:return Di===null?jc():a.alternate===null&&qt===0&&(qt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===pc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Gd(t,l,h)),!1;case 22:return a.flags|=65536,l===pc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Gd(t,l,h)),!1}throw Error(s(435,a.tag))}return Gd(t,l,h),jc(),!1}if(nt)return i=oi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==zf&&(t=Error(s(422),{cause:l}),pl(Ri(t,a)))):(l!==zf&&(i=Error(s(423),{cause:l}),pl(Ri(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ri(l,a),h=Ed(t.stateNode,l,h),Xf(t,h),qt!==4&&(qt=2)),!1;var d=Error(s(520),{cause:l});if(d=Ri(d,a),Vl===null?Vl=[d]:Vl.push(d),qt!==4&&(qt=2),i===null)return!0;l=Ri(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ed(a.stateNode,l,t),Xf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(As===null||!As.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=rv(h),sv(h,t,a,l),Xf(a,h),!1}a=a.return}while(a!==null);return!1}var Td=Error(s(461)),en=!1;function En(t,i,a,l){i.child=t===null?uy(i,null,a,l):xa(i,t.child,a,l)}function av(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Aa(i),l=nd(t,i,a,v,d,h),b=id(),t!==null&&!en?(rd(t,i,h),Vr(t,i,h)):(nt&&b&&Lf(i),i.flags|=1,En(t,i,l,h),i.child)}function ov(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,lv(t,i,d,l,h)):(t=uc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!xd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(v,l)&&t.ref===i.ref)return Vr(t,i,h)}return i.flags|=1,t=Cr(d,l),t.ref=i.ref,t.return=i,i.child=t}function lv(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(fl(d,l)&&t.ref===i.ref)if(en=!1,i.pendingProps=l=d,xd(t,h))(t.flags&131072)!==0&&(en=!0);else return i.lanes=t.lanes,Vr(t,i,h)}return wd(t,i,a,l,h)}function uv(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return cv(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&dc(i,d!==null?d.cachePool:null),d!==null?fy(i,d):Wf(),dy(i);else return l=i.lanes=536870912,cv(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(dc(i,d.cachePool),fy(i,d),Ts(),i.memoizedState=null):(t!==null&&dc(i,null),Wf(),Ts());return En(t,i,h,a),i.child}function Il(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function cv(t,i,a,l,h){var d=Qf();return d=d===null?null:{parent:Wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&dc(i,null),Wf(),dy(i),t!==null&&oo(t,i,l,!0),i.childLanes=h,null}function xc(t,i){return i=Nc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function hv(t,i,a){return xa(i,t.child,null,a),t=xc(i,i.pendingProps),t.flags|=2,li(i),i.memoizedState=null,t}function _b(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(nt){if(l.mode==="hidden")return t=xc(i,l),i.lanes=536870912,Il(null,t);if(ed(i),(t=At)?(t=b_(t,xi),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ds!==null?{id:ur,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},a=Kg(t),a.return=i,i.child=a,vn=i,At=null)):t=null,t===null)throw ps(i);return i.lanes=536870912,null}return xc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(ed(i),h)if(i.flags&256)i.flags&=-257,i=hv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(en||oo(t,i,a,!1),h=(a&t.childLanes)!==0,en||h){if(l=Tt,l!==null&&(v=rr(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ta(t,v),Xn(l,t,v),Td;jc(),i=hv(t,i,a)}else t=d.treeContext,At=Ni(v.nextSibling),vn=i,nt=!0,ms=null,xi=!1,t!==null&&Jg(i,t),i=xc(i,l),i.flags|=4096;return i}return t=Cr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Dc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function wd(t,i,a,l,h){return Aa(i),a=nd(t,i,a,l,void 0,h),l=id(),t!==null&&!en?(rd(t,i,h),Vr(t,i,h)):(nt&&l&&Lf(i),i.flags|=1,En(t,i,a,h),i.child)}function fv(t,i,a,l,h,d){return Aa(i),i.updateQueue=null,a=py(i,l,a,h),my(t),l=id(),t!==null&&!en?(rd(t,i,d),Vr(t,i,d)):(nt&&l&&Lf(i),i.flags|=1,En(t,i,a,d),i.child)}function dv(t,i,a,l,h){if(Aa(i),i.stateNode===null){var d=io,v=a.contextType;typeof v=="object"&&v!==null&&(d=_n(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Kf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?_n(v):io,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(vd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&_d.enqueueReplaceState(d,d.state,null),wl(i,l,d,h),Tl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,x=Na(a,b);d.props=x;var Y=d.context,te=a.contextType;v=io,typeof te=="object"&&te!==null&&(v=_n(te));var se=a.getDerivedStateFromProps;te=typeof se=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,te||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||Y!==v)&&Zy(i,d,l,v),ys=!1;var K=i.memoizedState;d.state=K,wl(i,l,d,h),Tl(),Y=i.memoizedState,b||K!==Y||ys?(typeof se=="function"&&(vd(i,a,se,l),Y=i.memoizedState),(x=ys||Wy(i,a,x,l,K,Y,v))?(te||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=v,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,$f(t,i),v=i.memoizedProps,te=Na(a,v),d.props=te,se=i.pendingProps,K=d.context,Y=a.contextType,x=io,typeof Y=="object"&&Y!==null&&(x=_n(Y)),b=a.getDerivedStateFromProps,(Y=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==se||K!==x)&&Zy(i,d,l,x),ys=!1,K=i.memoizedState,d.state=K,wl(i,l,d,h),Tl();var X=i.memoizedState;v!==se||K!==X||ys||t!==null&&t.dependencies!==null&&hc(t.dependencies)?(typeof b=="function"&&(vd(i,a,b,l),X=i.memoizedState),(te=ys||Wy(i,a,te,l,K,X,x)||t!==null&&t.dependencies!==null&&hc(t.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=x,l=te):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Dc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=xa(i,t.child,null,h),i.child=xa(i,null,a,h)):En(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Vr(t,i,h),t}function mv(t,i,a,l){return ba(),i.flags|=256,En(t,i,a,l),i.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(t){return{baseLanes:t,cachePool:iy()}}function Ad(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=ci),t}function pv(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(nt){if(h?Es(i):Ts(),(t=At)?(t=b_(t,xi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ds!==null?{id:ur,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},a=Kg(t),a.return=i,i.child=a,vn=i,At=null)):t=null,t===null)throw ps(i);return om(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Ts(),h=i.mode,b=Nc({mode:"hidden",children:b},h),l=wa(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,v,a),i.memoizedState=bd,Il(null,l)):(Es(i),Rd(i,b))}var x=t.memoizedState;if(x!==null&&(b=x.dehydrated,b!==null)){if(d)i.flags&256?(Es(i),i.flags&=-257,i=Id(t,i,a)):i.memoizedState!==null?(Ts(),i.child=t.child,i.flags|=128,i=null):(Ts(),b=l.fallback,h=i.mode,l=Nc({mode:"visible",children:l.children},h),b=wa(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,xa(i,t.child,null,a),l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,v,a),i.memoizedState=bd,i=Il(null,l));else if(Es(i),om(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var Y=v.dgst;v=Y,l=Error(s(419)),l.stack="",l.digest=v,pl({value:l,source:null,stack:null}),i=Id(t,i,a)}else if(en||oo(t,i,a,!1),v=(a&t.childLanes)!==0,en||v){if(v=Tt,v!==null&&(l=rr(v,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,Ta(t,l),Xn(v,t,l),Td;am(b)||jc(),i=Id(t,i,a)}else am(b)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,At=Ni(b.nextSibling),vn=i,nt=!0,ms=null,xi=!1,t!==null&&Jg(i,t),i=Rd(i,l.children),i.flags|=4096);return i}return h?(Ts(),b=l.fallback,h=i.mode,x=t.child,Y=x.sibling,l=Cr(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,Y!==null?b=Cr(Y,b):(b=wa(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Il(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Sd(a):(h=b.cachePool,h!==null?(x=Wt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=iy(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=Ad(t,v,a),i.memoizedState=bd,Il(t.child,l)):(Es(i),a=t.child,t=a.sibling,a=Cr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Rd(t,i){return i=Nc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Nc(t,i){return t=ai(22,t,null,i),t.lanes=0,t}function Id(t,i,a){return xa(i,t.child,null,a),t=Rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function gv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),qf(t.return,i,a)}function Cd(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function yv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=Qt.current,b=(v&2)!==0;if(b?(v=v&1|2,i.flags|=128):v&=1,J(Qt,v),En(t,i,l,a),l=nt?ml:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gv(t,a,i);else if(t.tag===19)gv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&_c(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Cd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&_c(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Cd(i,!0,a,null,d,l);break;case"together":Cd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Vr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ss|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(oo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Cr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Cr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function xd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&hc(t)))}function Eb(t,i,a){switch(i.tag){case 3:Ee(i,i.stateNode.containerInfo),gs(i,Wt,t.memoizedState.cache),ba();break;case 27:case 5:Qe(i);break;case 4:Ee(i,i.stateNode.containerInfo);break;case 10:gs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ed(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Es(i),i.flags|=128,null):(a&i.child.childLanes)!==0?pv(t,i,a):(Es(i),t=Vr(t,i,a),t!==null?t.sibling:null);Es(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(oo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return yv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Qt,Qt.current),l)break;return null;case 22:return i.lanes=0,uv(t,i,a,i.pendingProps);case 24:gs(i,Wt,t.memoizedState.cache)}return Vr(t,i,a)}function vv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)en=!0;else{if(!xd(t,a)&&(i.flags&128)===0)return en=!1,Eb(t,i,a);en=(t.flags&131072)!==0}else en=!1,nt&&(i.flags&1048576)!==0&&Xg(i,ml,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ia(i.elementType),i.type=t,typeof t=="function")Vf(t)?(l=Na(t,l),i.tag=1,i=dv(null,i,t,l,a)):(i.tag=0,i=wd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===be){i.tag=11,i=av(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=ov(null,i,t,l,a);break e}}throw i=Ct(t)||t,Error(s(306,i,""))}}return i;case 0:return wd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Na(l,i.pendingProps),dv(t,i,l,h,a);case 3:e:{if(Ee(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,$f(t,i),wl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,gs(i,Wt,l),l!==d.cache&&Hf(i,[Wt],a,!0),Tl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=mv(t,i,l,a);break e}else if(l!==h){h=Ri(Error(s(424)),i),pl(h),i=mv(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(At=Ni(t.firstChild),vn=i,nt=!0,ms=null,xi=!0,a=uy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ba(),l===h){i=Vr(t,i,a);break e}En(t,i,l,a)}i=i.child}return i;case 26:return Dc(t,i),t===null?(a=x_(i.type,null,i.pendingProps,null))?i.memoizedState=a:nt||(a=i.type,t=i.pendingProps,l=Yc(pe.current).createElement(a),l[Et]=i,l[Nt]=t,Tn(l,a,t),bt(l),i.stateNode=l):i.memoizedState=x_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Qe(i),t===null&&nt&&(l=i.stateNode=R_(i.type,i.pendingProps,pe.current),vn=i,xi=!0,h=At,xs(i.type)?(lm=h,At=Ni(l.firstChild)):At=h),En(t,i,i.pendingProps.children,a),Dc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&nt&&((h=l=At)&&(l=Xb(l,i.type,i.pendingProps,xi),l!==null?(i.stateNode=l,vn=i,At=Ni(l.firstChild),xi=!1,h=!0):h=!1),h||ps(i)),Qe(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,im(h,d)?l=null:v!==null&&im(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=nd(t,i,hb,null,null,a),ql._currentValue=h),Dc(t,i),En(t,i,l,a),i.child;case 6:return t===null&&nt&&((t=a=At)&&(a=Jb(a,i.pendingProps,xi),a!==null?(i.stateNode=a,vn=i,At=null,t=!0):t=!1),t||ps(i)),null;case 13:return pv(t,i,a);case 4:return Ee(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=xa(i,null,l,a):En(t,i,l,a),i.child;case 11:return av(t,i,i.type,i.pendingProps,a);case 7:return En(t,i,i.pendingProps,a),i.child;case 8:return En(t,i,i.pendingProps.children,a),i.child;case 12:return En(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,gs(i,i.type,l.value),En(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Aa(i),h=_n(h),l=l(h),i.flags|=1,En(t,i,l,a),i.child;case 14:return ov(t,i,i.type,i.pendingProps,a);case 15:return lv(t,i,i.type,i.pendingProps,a);case 19:return yv(t,i,a);case 31:return _b(t,i,a);case 22:return uv(t,i,a,i.pendingProps);case 24:return Aa(i),l=_n(Wt),t===null?(h=Qf(),h===null&&(h=Tt,d=Ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Kf(i),gs(i,Wt,h)):((t.lanes&a)!==0&&($f(t,i),wl(i,null,null,a),Tl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),gs(i,Wt,l)):(l=d.cache,gs(i,Wt,l),l!==h.cache&&Hf(i,[Wt],a,!0))),En(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function kr(t){t.flags|=4}function Dd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Gv())t.flags|=8192;else throw Ca=pc,Yf}else t.flags&=-16777217}function _v(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!V_(i))if(Gv())t.flags|=8192;else throw Ca=pc,Yf}function Mc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?la():536870912,t.lanes|=i,Eo|=i)}function Cl(t,i){if(!nt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Tb(t,i,a){var l=i.pendingProps;switch(Uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(i),null;case 1:return Rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Nr(Wt),Se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ao(i)?kr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jf())),Rt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(kr(i),d!==null?(Rt(i),_v(i,d)):(Rt(i),Dd(i,h,null,l,a))):d?d!==t.memoizedState?(kr(i),Rt(i),_v(i,d)):(Rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&kr(i),Rt(i),Dd(i,h,t,l,a)),null;case 27:if(Ue(i),a=pe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&kr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Rt(i),null}t=oe.current,ao(i)?Wg(i):(t=R_(h,l,a),i.stateNode=t,kr(i))}return Rt(i),null;case 5:if(Ue(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&kr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Rt(i),null}if(d=oe.current,ao(i))Wg(i);else{var v=Yc(pe.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Et]=i,d[Nt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Tn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&kr(i)}}return Rt(i),Dd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&kr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=pe.current,ao(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=vn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||p_(t.nodeValue,a)),t||ps(i,!0)}else t=Yc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return Rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ao(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=i}else ba(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Rt(i),t=!1}else a=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(li(i),i):(li(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ao(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=i}else ba(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Rt(i),h=!1}else h=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(li(i),i):(li(i),null)}return li(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Mc(i,i.updateQueue),Rt(i),null);case 4:return Se(),t===null&&Wd(i.stateNode.containerInfo),Rt(i),null;case 10:return Nr(i.type),Rt(i),null;case 19:if(j(Qt),l=i.memoizedState,l===null)return Rt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Cl(l,!1);else{if(qt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=_c(t),d!==null){for(i.flags|=128,Cl(l,!1),t=d.updateQueue,i.updateQueue=t,Mc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Yg(a,t),a=a.sibling;return J(Qt,Qt.current&1|2),nt&&xr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&zt()>Lc&&(i.flags|=128,h=!0,Cl(l,!1),i.lanes=4194304)}else{if(!h)if(t=_c(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Mc(i,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!nt)return Rt(i),null}else 2*zt()-l.renderingStartTime>Lc&&a!==536870912&&(i.flags|=128,h=!0,Cl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=zt(),t.sibling=null,a=Qt.current,J(Qt,h?a&1|2:a&1),nt&&xr(i,l.treeForkCount),t):(Rt(i),null);case 22:case 23:return li(i),Zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Rt(i),i.subtreeFlags&6&&(i.flags|=8192)):Rt(i),a=i.updateQueue,a!==null&&Mc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&j(Ra),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Nr(Wt),Rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function wb(t,i){switch(Uf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Nr(Wt),Se(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ue(i),null;case 31:if(i.memoizedState!==null){if(li(i),i.alternate===null)throw Error(s(340));ba()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(li(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ba()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return j(Qt),null;case 4:return Se(),null;case 10:return Nr(i.type),null;case 22:case 23:return li(i),Zf(),t!==null&&j(Ra),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Nr(Wt),null;case 25:return null;default:return null}}function Ev(t,i){switch(Uf(i),i.tag){case 3:Nr(Wt),Se();break;case 26:case 27:case 5:Ue(i);break;case 4:Se();break;case 31:i.memoizedState!==null&&li(i);break;case 13:li(i);break;case 19:j(Qt);break;case 10:Nr(i.type);break;case 22:case 23:li(i),Zf(),t!==null&&j(Ra);break;case 24:Nr(Wt)}}function xl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){pt(i,i.return,b)}}function ws(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var x=a,Y=b;try{Y()}catch(te){pt(h,x,te)}}}l=l.next}while(l!==d)}}catch(te){pt(i,i.return,te)}}function Tv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{hy(i,a)}catch(l){pt(t,t.return,l)}}}function wv(t,i,a){a.props=Na(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){pt(t,i,l)}}function Dl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){pt(t,i,h)}}function hr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){pt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){pt(t,i,h)}else a.current=null}function bv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){pt(t,t.return,h)}}function Nd(t,i,a){try{var l=t.stateNode;Fb(l,t.type,a,i),l[Nt]=i}catch(h){pt(t,t.return,h)}}function Sv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xs(t.type)||t.tag===4}function Md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Od(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=hn));else if(l!==4&&(l===27&&xs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Od(t,i,a),t=t.sibling;t!==null;)Od(t,i,a),t=t.sibling}function Oc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&xs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Oc(t,i,a),t=t.sibling;t!==null;)Oc(t,i,a),t=t.sibling}function Av(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Tn(i,l,a),i[Et]=t,i[Nt]=a}catch(d){pt(t,t.return,d)}}var Pr=!1,tn=!1,Vd=!1,Rv=typeof WeakSet=="function"?WeakSet:Set,mn=null;function bb(t,i){if(t=t.containerInfo,tm=eh,t=Ug(t),If(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,x=-1,Y=0,te=0,se=t,K=null;t:for(;;){for(var X;se!==a||h!==0&&se.nodeType!==3||(b=v+h),se!==d||l!==0&&se.nodeType!==3||(x=v+l),se.nodeType===3&&(v+=se.nodeValue.length),(X=se.firstChild)!==null;)K=se,se=X;for(;;){if(se===t)break t;if(K===a&&++Y===h&&(b=v),K===d&&++te===l&&(x=v),(X=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=X}a=b===-1||x===-1?null:{start:b,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:t,selectionRange:a},eh=!1,mn=i;mn!==null;)if(i=mn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,mn=t;else for(;mn!==null;){switch(i=mn,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var _e=Na(a.type,h);t=l.getSnapshotBeforeUpdate(_e,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Me){pt(a,a.return,Me)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,mn=t;break}mn=i.return}}function Iv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ur(t,a),l&4&&xl(5,a);break;case 1:if(Ur(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){pt(a,a.return,v)}else{var h=Na(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){pt(a,a.return,v)}}l&64&&Tv(a),l&512&&Dl(a,a.return);break;case 3:if(Ur(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{hy(t,i)}catch(v){pt(a,a.return,v)}}break;case 27:i===null&&l&4&&Av(a);case 26:case 5:Ur(t,a),i===null&&l&4&&bv(a),l&512&&Dl(a,a.return);break;case 12:Ur(t,a);break;case 31:Ur(t,a),l&4&&Dv(t,a);break;case 13:Ur(t,a),l&4&&Nv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Mb.bind(null,a),Wb(t,a))));break;case 22:if(l=a.memoizedState!==null||Pr,!l){i=i!==null&&i.memoizedState!==null||tn,h=Pr;var d=tn;Pr=l,(tn=i)&&!d?zr(t,a,(a.subtreeFlags&8772)!==0):Ur(t,a),Pr=h,tn=d}break;case 30:break;default:Ur(t,a)}}function Cv(t){var i=t.alternate;i!==null&&(t.alternate=null,Cv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&wi(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Mt=null,Qn=!1;function Lr(t,i,a){for(a=a.child;a!==null;)xv(t,i,a),a=a.sibling}function xv(t,i,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(vi,a)}catch{}switch(a.tag){case 26:tn||hr(a,i),Lr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tn||hr(a,i);var l=Mt,h=Qn;xs(a.type)&&(Mt=a.stateNode,Qn=!1),Lr(t,i,a),zl(a.stateNode),Mt=l,Qn=h;break;case 5:tn||hr(a,i);case 6:if(l=Mt,h=Qn,Mt=null,Lr(t,i,a),Mt=l,Qn=h,Mt!==null)if(Qn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(a.stateNode)}catch(d){pt(a,i,d)}else try{Mt.removeChild(a.stateNode)}catch(d){pt(a,i,d)}break;case 18:Mt!==null&&(Qn?(t=Mt,T_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Co(t)):T_(Mt,a.stateNode));break;case 4:l=Mt,h=Qn,Mt=a.stateNode.containerInfo,Qn=!0,Lr(t,i,a),Mt=l,Qn=h;break;case 0:case 11:case 14:case 15:ws(2,a,i),tn||ws(4,a,i),Lr(t,i,a);break;case 1:tn||(hr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&wv(a,i,l)),Lr(t,i,a);break;case 21:Lr(t,i,a);break;case 22:tn=(l=tn)||a.memoizedState!==null,Lr(t,i,a),tn=l;break;default:Lr(t,i,a)}}function Dv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Co(t)}catch(a){pt(i,i.return,a)}}}function Nv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Co(t)}catch(a){pt(i,i.return,a)}}function Sb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Rv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Rv),i;default:throw Error(s(435,t.tag))}}function Vc(t,i){var a=Sb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Ob.bind(null,t,l);l.then(h,h)}})}function Yn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(xs(b.type)){Mt=b.stateNode,Qn=!1;break e}break;case 5:Mt=b.stateNode,Qn=!1;break e;case 3:case 4:Mt=b.stateNode.containerInfo,Qn=!0;break e}b=b.return}if(Mt===null)throw Error(s(160));xv(d,v,h),Mt=null,Qn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Mv(i,t),i=i.sibling}var Ki=null;function Mv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Yn(i,t),Kn(t),l&4&&(ws(3,t,t.return),xl(3,t),ws(5,t,t.return));break;case 1:Yn(i,t),Kn(t),l&512&&(tn||a===null||hr(a,a.return)),l&64&&Pr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ki;if(Yn(i,t),Kn(t),l&512&&(tn||a===null||hr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Bi]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Tn(d,l,a),d[Et]=t,bt(d),l=d;break e;case"link":var v=M_("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),Tn(d,l,a),h.head.appendChild(d);break;case"meta":if(v=M_("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),Tn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,bt(d),l=d}t.stateNode=l}else O_(h,t.type,t.stateNode);else t.stateNode=N_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?O_(h,t.type,t.stateNode):N_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Yn(i,t),Kn(t),l&512&&(tn||a===null||hr(a,a.return)),a!==null&&l&4&&Nd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Yn(i,t),Kn(t),l&512&&(tn||a===null||hr(a,a.return)),t.flags&32){h=t.stateNode;try{Si(h,"")}catch(_e){pt(t,t.return,_e)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Nd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Vd=!0);break;case 6:if(Yn(i,t),Kn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(_e){pt(t,t.return,_e)}}break;case 3:if(Xc=null,h=Ki,Ki=Kc(i.containerInfo),Yn(i,t),Ki=h,Kn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Co(i.containerInfo)}catch(_e){pt(t,t.return,_e)}Vd&&(Vd=!1,Ov(t));break;case 4:l=Ki,Ki=Kc(t.stateNode.containerInfo),Yn(i,t),Kn(t),Ki=l;break;case 12:Yn(i,t),Kn(t);break;case 31:Yn(i,t),Kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 13:Yn(i,t),Kn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pc=zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,Y=Pr,te=tn;if(Pr=Y||h,tn=te||x,Yn(i,t),tn=te,Pr=Y,Kn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||Pr||tn||Ma(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=x.stateNode;var se=x.memoizedProps.style,K=se!=null&&se.hasOwnProperty("display")?se.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(_e){pt(x,x.return,_e)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(_e){pt(x,x.return,_e)}}}else if(i.tag===18){if(a===null){x=i;try{var X=x.stateNode;h?w_(X,!0):w_(x.stateNode,!1)}catch(_e){pt(x,x.return,_e)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vc(t,a))));break;case 19:Yn(i,t),Kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 30:break;case 21:break;default:Yn(i,t),Kn(t)}}function Kn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Sv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Md(t);Oc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Si(v,""),a.flags&=-33);var b=Md(t);Oc(t,b,v);break;case 3:case 4:var x=a.stateNode.containerInfo,Y=Md(t);Od(t,Y,x);break;default:throw Error(s(161))}}catch(te){pt(t,t.return,te)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ov(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ov(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ur(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Iv(t,i.alternate,i),i=i.sibling}function Ma(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ws(4,i,i.return),Ma(i);break;case 1:hr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&wv(i,i.return,a),Ma(i);break;case 27:zl(i.stateNode);case 26:case 5:hr(i,i.return),Ma(i);break;case 22:i.memoizedState===null&&Ma(i);break;case 30:Ma(i);break;default:Ma(i)}t=t.sibling}}function zr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:zr(h,d,a),xl(4,d);break;case 1:if(zr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Y){pt(l,l.return,Y)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)cy(x[h],b)}catch(Y){pt(l,l.return,Y)}}a&&v&64&&Tv(d),Dl(d,d.return);break;case 27:Av(d);case 26:case 5:zr(h,d,a),a&&l===null&&v&4&&bv(d),Dl(d,d.return);break;case 12:zr(h,d,a);break;case 31:zr(h,d,a),a&&v&4&&Dv(h,d);break;case 13:zr(h,d,a),a&&v&4&&Nv(h,d);break;case 22:d.memoizedState===null&&zr(h,d,a),Dl(d,d.return);break;case 30:break;default:zr(h,d,a)}i=i.sibling}}function kd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&gl(a))}function Pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&gl(t))}function $i(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Vv(t,i,a,l),i=i.sibling}function Vv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:$i(t,i,a,l),h&2048&&xl(9,i);break;case 1:$i(t,i,a,l);break;case 3:$i(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&gl(t)));break;case 12:if(h&2048){$i(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){pt(i,i.return,x)}}else $i(t,i,a,l);break;case 31:$i(t,i,a,l);break;case 13:$i(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?$i(t,i,a,l):Nl(t,i):d._visibility&2?$i(t,i,a,l):(d._visibility|=2,yo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&kd(v,i);break;case 24:$i(t,i,a,l),h&2048&&Pd(i.alternate,i);break;default:$i(t,i,a,l)}}function yo(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,b=a,x=l,Y=v.flags;switch(v.tag){case 0:case 11:case 15:yo(d,v,b,x,h),xl(8,v);break;case 23:break;case 22:var te=v.stateNode;v.memoizedState!==null?te._visibility&2?yo(d,v,b,x,h):Nl(d,v):(te._visibility|=2,yo(d,v,b,x,h)),h&&Y&2048&&kd(v.alternate,v);break;case 24:yo(d,v,b,x,h),h&&Y&2048&&Pd(v.alternate,v);break;default:yo(d,v,b,x,h)}i=i.sibling}}function Nl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Nl(a,l),h&2048&&kd(l.alternate,l);break;case 24:Nl(a,l),h&2048&&Pd(l.alternate,l);break;default:Nl(a,l)}i=i.sibling}}var Ml=8192;function vo(t,i,a){if(t.subtreeFlags&Ml)for(t=t.child;t!==null;)kv(t,i,a),t=t.sibling}function kv(t,i,a){switch(t.tag){case 26:vo(t,i,a),t.flags&Ml&&t.memoizedState!==null&&cS(a,Ki,t.memoizedState,t.memoizedProps);break;case 5:vo(t,i,a);break;case 3:case 4:var l=Ki;Ki=Kc(t.stateNode.containerInfo),vo(t,i,a),Ki=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ml,Ml=16777216,vo(t,i,a),Ml=l):vo(t,i,a));break;default:vo(t,i,a)}}function Pv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];mn=l,Uv(l,t)}Pv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lv(t),t=t.sibling}function Lv(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&ws(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,kc(t)):Ol(t);break;default:Ol(t)}}function kc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];mn=l,Uv(l,t)}Pv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ws(8,i,i.return),kc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,kc(i));break;default:kc(i)}t=t.sibling}}function Uv(t,i){for(;mn!==null;){var a=mn;switch(a.tag){case 0:case 11:case 15:ws(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,mn=l;else e:for(a=t;mn!==null;){l=mn;var h=l.sibling,d=l.return;if(Cv(l),l===a){mn=null;break e}if(h!==null){h.return=d,mn=h;break e}mn=d}}}var Ab={getCacheForType:function(t){var i=_n(Wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return _n(Wt).controller.signal}},Rb=typeof WeakMap=="function"?WeakMap:Map,ht=0,Tt=null,Xe=null,We=0,mt=0,ui=null,bs=!1,_o=!1,Ld=!1,jr=0,qt=0,Ss=0,Oa=0,Ud=0,ci=0,Eo=0,Vl=null,$n=null,zd=!1,Pc=0,zv=0,Lc=1/0,Uc=null,As=null,ln=0,Rs=null,To=null,Br=0,jd=0,Bd=null,jv=null,kl=0,qd=null;function hi(){return(ht&2)!==0&&We!==0?We&-We:ee.T!==null?Kd():In()}function Bv(){if(ci===0)if((We&536870912)===0||nt){var t=_i;_i<<=1,(_i&3932160)===0&&(_i=262144),ci=t}else ci=536870912;return t=oi.current,t!==null&&(t.flags|=32),ci}function Xn(t,i,a){(t===Tt&&(mt===2||mt===9)||t.cancelPendingCommit!==null)&&(wo(t,0),Is(t,We,ci,!1)),nr(t,a),((ht&2)===0||t!==Tt)&&(t===Tt&&((ht&2)===0&&(Oa|=a),qt===4&&Is(t,We,ci,!1)),fr(t))}function qv(t,i,a){if((ht&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ei(t,i),h=l?xb(t,i):Fd(t,i,!0),d=l;do{if(h===0){_o&&!l&&Is(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Ib(a)){h=Fd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=Vl;var x=b.current.memoizedState.isDehydrated;if(x&&(wo(b,v).flags|=256),v=Fd(b,v,!1),v!==2){if(Ld&&!x){b.errorRecoveryDisabledLanes|=d,Oa|=d,h=4;break e}d=$n,$n=h,d!==null&&($n===null?$n=d:$n.push.apply($n,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){wo(t,0),Is(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Is(l,i,ci,!bs);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Pc+300-zt(),10<h)){if(Is(l,i,ci,!bs),an(l,0,!0)!==0)break e;Br=i,l.timeoutHandle=__(Hv.bind(null,l,a,$n,Uc,zd,i,ci,Oa,Eo,bs,d,"Throttled",-0,0),h);break e}Hv(l,a,$n,Uc,zd,i,ci,Oa,Eo,bs,d,null,-0,0)}}break}while(!0);fr(t)}function Hv(t,i,a,l,h,d,v,b,x,Y,te,se,K,X){if(t.timeoutHandle=-1,se=i.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hn},kv(i,d,se);var _e=(d&62914560)===d?Pc-zt():(d&4194048)===d?zv-zt():0;if(_e=hS(se,_e),_e!==null){Br=d,t.cancelPendingCommit=_e(Jv.bind(null,t,i,d,a,l,h,v,b,x,te,se,null,K,X)),Is(t,d,v,!Y);return}}Jv(t,i,d,a,l,h,v,b,x)}function Ib(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!si(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Is(t,i,a,l){i&=~Ud,i&=~Oa,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-kt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ua(t,a,i)}function zc(){return(ht&6)===0?(Pl(0),!1):!0}function Hd(){if(Xe!==null){if(mt===0)var t=Xe.return;else t=Xe,Dr=Sa=null,sd(t),ho=null,vl=0,t=Xe;for(;t!==null;)Ev(t.alternate,t),t=t.return;Xe=null}}function wo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Yb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Br=0,Hd(),Tt=t,Xe=a=Cr(t.current,null),We=i,mt=0,ui=null,bs=!1,_o=ei(t,i),Ld=!1,Eo=ci=Ud=Oa=Ss=qt=0,$n=Vl=null,zd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-kt(l),d=1<<h;i|=t[h],l&=~d}return jr=i,ac(),a}function Fv(t,i){qe=null,ee.H=Rl,i===co||i===mc?(i=ay(),mt=3):i===Yf?(i=ay(),mt=4):mt=i===Td?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ui=i,Xe===null&&(qt=1,Cc(t,Ri(i,t.current)))}function Gv(){var t=oi.current;return t===null?!0:(We&4194048)===We?Di===null:(We&62914560)===We||(We&536870912)!==0?t===Di:!1}function Qv(){var t=ee.H;return ee.H=Rl,t===null?Rl:t}function Yv(){var t=ee.A;return ee.A=Ab,t}function jc(){qt=4,bs||(We&4194048)!==We&&oi.current!==null||(_o=!0),(Ss&134217727)===0&&(Oa&134217727)===0||Tt===null||Is(Tt,We,ci,!1)}function Fd(t,i,a){var l=ht;ht|=2;var h=Qv(),d=Yv();(Tt!==t||We!==i)&&(Uc=null,wo(t,i)),i=!1;var v=qt;e:do try{if(mt!==0&&Xe!==null){var b=Xe,x=ui;switch(mt){case 8:Hd(),v=6;break e;case 3:case 2:case 9:case 6:oi.current===null&&(i=!0);var Y=mt;if(mt=0,ui=null,bo(t,b,x,Y),a&&_o){v=0;break e}break;default:Y=mt,mt=0,ui=null,bo(t,b,x,Y)}}Cb(),v=qt;break}catch(te){Fv(t,te)}while(!0);return i&&t.shellSuspendCounter++,Dr=Sa=null,ht=l,ee.H=h,ee.A=d,Xe===null&&(Tt=null,We=0,ac()),v}function Cb(){for(;Xe!==null;)Kv(Xe)}function xb(t,i){var a=ht;ht|=2;var l=Qv(),h=Yv();Tt!==t||We!==i?(Uc=null,Lc=zt()+500,wo(t,i)):_o=ei(t,i);e:do try{if(mt!==0&&Xe!==null){i=Xe;var d=ui;t:switch(mt){case 1:mt=0,ui=null,bo(t,i,d,1);break;case 2:case 9:if(ry(d)){mt=0,ui=null,$v(i);break}i=function(){mt!==2&&mt!==9||Tt!==t||(mt=7),fr(t)},d.then(i,i);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:ry(d)?(mt=0,ui=null,$v(i)):(mt=0,ui=null,bo(t,i,d,7));break;case 5:var v=null;switch(Xe.tag){case 26:v=Xe.memoizedState;case 5:case 27:var b=Xe;if(v?V_(v):b.stateNode.complete){mt=0,ui=null;var x=b.sibling;if(x!==null)Xe=x;else{var Y=b.return;Y!==null?(Xe=Y,Bc(Y)):Xe=null}break t}}mt=0,ui=null,bo(t,i,d,5);break;case 6:mt=0,ui=null,bo(t,i,d,6);break;case 8:Hd(),qt=6;break e;default:throw Error(s(462))}}Db();break}catch(te){Fv(t,te)}while(!0);return Dr=Sa=null,ee.H=l,ee.A=h,ht=a,Xe!==null?0:(Tt=null,We=0,ac(),qt)}function Db(){for(;Xe!==null&&!sa();)Kv(Xe)}function Kv(t){var i=vv(t.alternate,t,jr);t.memoizedProps=t.pendingProps,i===null?Bc(t):Xe=i}function $v(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=fv(a,i,i.pendingProps,i.type,void 0,We);break;case 11:i=fv(a,i,i.pendingProps,i.type.render,i.ref,We);break;case 5:sd(i);default:Ev(a,i),i=Xe=Yg(i,jr),i=vv(a,i,jr)}t.memoizedProps=t.pendingProps,i===null?Bc(t):Xe=i}function bo(t,i,a,l){Dr=Sa=null,sd(i),ho=null,vl=0;var h=i.return;try{if(vb(t,h,i,a,We)){qt=1,Cc(t,Ri(a,t.current)),Xe=null;return}}catch(d){if(h!==null)throw Xe=h,d;qt=1,Cc(t,Ri(a,t.current)),Xe=null;return}i.flags&32768?(nt||l===1?t=!0:_o||(We&536870912)!==0?t=!1:(bs=t=!0,(l===2||l===9||l===3||l===6)&&(l=oi.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xv(i,t)):Bc(i)}function Bc(t){var i=t;do{if((i.flags&32768)!==0){Xv(i,bs);return}t=i.return;var a=Tb(i.alternate,i,jr);if(a!==null){Xe=a;return}if(i=i.sibling,i!==null){Xe=i;return}Xe=i=t}while(i!==null);qt===0&&(qt=5)}function Xv(t,i){do{var a=wb(t.alternate,t);if(a!==null){a.flags&=32767,Xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Xe=t;return}Xe=t=a}while(t!==null);qt=6,Xe=null}function Jv(t,i,a,l,h,d,v,b,x){t.cancelPendingCommit=null;do qc();while(ln!==0);if((ht&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Mf,on(t,a,d,v,b,x),t===Tt&&(Xe=Tt=null,We=0),To=i,Rs=t,Br=a,jd=d,Bd=h,jv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Vb(Rn,function(){return n_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null,h=de.p,de.p=2,v=ht,ht|=4;try{bb(t,i,a)}finally{ht=v,de.p=h,ee.T=l}}ln=1,Wv(),Zv(),e_()}}function Wv(){if(ln===1){ln=0;var t=Rs,i=To,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=ee.T,ee.T=null;var l=de.p;de.p=2;var h=ht;ht|=4;try{Mv(i,t);var d=nm,v=Ug(t.containerInfo),b=d.focusedElem,x=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Lg(b.ownerDocument.documentElement,b)){if(x!==null&&If(b)){var Y=x.start,te=x.end;if(te===void 0&&(te=Y),"selectionStart"in b)b.selectionStart=Y,b.selectionEnd=Math.min(te,b.value.length);else{var se=b.ownerDocument||document,K=se&&se.defaultView||window;if(K.getSelection){var X=K.getSelection(),_e=b.textContent.length,Me=Math.min(x.start,_e),vt=x.end===void 0?Me:Math.min(x.end,_e);!X.extend&&Me>vt&&(v=vt,vt=Me,Me=v);var U=Pg(b,Me),M=Pg(b,vt);if(U&&M&&(X.rangeCount!==1||X.anchorNode!==U.node||X.anchorOffset!==U.offset||X.focusNode!==M.node||X.focusOffset!==M.offset)){var Q=se.createRange();Q.setStart(U.node,U.offset),X.removeAllRanges(),Me>vt?(X.addRange(Q),X.extend(M.node,M.offset)):(Q.setEnd(M.node,M.offset),X.addRange(Q))}}}}for(se=[],X=b;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<se.length;b++){var ne=se[b];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}eh=!!tm,nm=tm=null}finally{ht=h,de.p=l,ee.T=a}}t.current=i,ln=2}}function Zv(){if(ln===2){ln=0;var t=Rs,i=To,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=ee.T,ee.T=null;var l=de.p;de.p=2;var h=ht;ht|=4;try{Iv(t,i.alternate,i)}finally{ht=h,de.p=l,ee.T=a}}ln=3}}function e_(){if(ln===4||ln===3){ln=0,Tr();var t=Rs,i=To,a=Br,l=jv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ln=5:(ln=0,To=Rs=null,t_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(As=null),ji(a),i=i.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(vi,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=ee.T,h=de.p,de.p=2,ee.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{ee.T=i,de.p=h}}(Br&3)!==0&&qc(),fr(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===qd?kl++:(kl=0,qd=t):kl=0,Pl(0)}}function t_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,gl(i)))}function qc(){return Wv(),Zv(),e_(),n_()}function n_(){if(ln!==5)return!1;var t=Rs,i=jd;jd=0;var a=ji(Br),l=ee.T,h=de.p;try{de.p=32>a?32:a,ee.T=null,a=Bd,Bd=null;var d=Rs,v=Br;if(ln=0,To=Rs=null,Br=0,(ht&6)!==0)throw Error(s(331));var b=ht;if(ht|=4,Lv(d.current),Vv(d,d.current,v,a),ht=b,Pl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(vi,d)}catch{}return!0}finally{de.p=h,ee.T=l,t_(t,i)}}function i_(t,i,a){i=Ri(a,i),i=Ed(t.stateNode,i,2),t=_s(t,i,2),t!==null&&(nr(t,2),fr(t))}function pt(t,i,a){if(t.tag===3)i_(t,t,a);else for(;i!==null;){if(i.tag===3){i_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(As===null||!As.has(l))){t=Ri(a,t),a=rv(2),l=_s(i,a,2),l!==null&&(sv(a,l,i,t),nr(l,2),fr(l));break}}i=i.return}}function Gd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Rb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ld=!0,h.add(a),t=Nb.bind(null,t,i,a),i.then(t,t))}function Nb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Tt===t&&(We&a)===a&&(qt===4||qt===3&&(We&62914560)===We&&300>zt()-Pc?(ht&2)===0&&wo(t,0):Ud|=a,Eo===We&&(Eo=0)),fr(t)}function r_(t,i){i===0&&(i=la()),t=Ta(t,i),t!==null&&(nr(t,i),fr(t))}function Mb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),r_(t,a)}function Ob(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),r_(t,a)}function Vb(t,i){return Ut(t,i)}var Hc=null,So=null,Qd=!1,Fc=!1,Yd=!1,Cs=0;function fr(t){t!==So&&t.next===null&&(So===null?Hc=So=t:So=So.next=t),Fc=!0,Qd||(Qd=!0,Pb())}function Pl(t,i){if(!Yd&&Fc){Yd=!0;do for(var a=!1,l=Hc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-kt(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,l_(l,d))}else d=We,d=an(l,l===Tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ei(l,d)||(a=!0,l_(l,d));l=l.next}while(a);Yd=!1}}function kb(){s_()}function s_(){Fc=Qd=!1;var t=0;Cs!==0&&Qb()&&(t=Cs);for(var i=zt(),a=null,l=Hc;l!==null;){var h=l.next,d=a_(l,i);d===0?(l.next=null,a===null?Hc=h:a.next=h,h===null&&(So=a)):(a=l,(t!==0||(d&3)!==0)&&(Fc=!0)),l=h}ln!==0&&ln!==5||Pl(t),Cs!==0&&(Cs=0)}function a_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-kt(d),b=1<<v,x=h[v];x===-1?((b&a)===0||(b&l)!==0)&&(h[v]=wr(b,i)):x<=i&&(t.expiredLanes|=b),d&=~b}if(i=Tt,a=We,a=an(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(mt===2||mt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Zi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ei(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Zi(l),ji(a)){case 2:case 8:a=jt;break;case 32:a=Rn;break;case 268435456:a=Zn;break;default:a=Rn}return l=o_.bind(null,t),a=Ut(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Zi(l),t.callbackPriority=2,t.callbackNode=null,2}function o_(t,i){if(ln!==0&&ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(qc()&&t.callbackNode!==a)return null;var l=We;return l=an(t,t===Tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(qv(t,l,i),a_(t,zt()),t.callbackNode!=null&&t.callbackNode===a?o_.bind(null,t):null)}function l_(t,i){if(qc())return null;qv(t,i,!0)}function Pb(){Kb(function(){(ht&6)!==0?Ut(Dt,kb):s_()})}function Kd(){if(Cs===0){var t=lo;t===0&&(t=Ui,Ui<<=1,(Ui&261888)===0&&(Ui=256)),Cs=t}return Cs}function u_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ar(""+t)}function c_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Lb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=u_((h[Nt]||null).action),v=l.submitter;v&&(i=(i=v[Nt]||null)?u_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var b=new ma("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Cs!==0){var x=v?c_(h,v):new FormData(h);md(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(b.preventDefault(),x=v?c_(h,v):new FormData(h),md(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var $d=0;$d<Nf.length;$d++){var Xd=Nf[$d],Ub=Xd.toLowerCase(),zb=Xd[0].toUpperCase()+Xd.slice(1);Yi(Ub,"on"+zb)}Yi(Bg,"onAnimationEnd"),Yi(qg,"onAnimationIteration"),Yi(Hg,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(tb,"onTransitionRun"),Yi(nb,"onTransitionStart"),Yi(ib,"onTransitionCancel"),Yi(Fg,"onTransitionEnd"),$("onMouseEnter",["mouseout","mouseover"]),$("onMouseLeave",["mouseout","mouseover"]),$("onPointerEnter",["pointerout","pointerover"]),$("onPointerLeave",["pointerout","pointerover"]),H("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),H("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),H("onBeforeInput",["compositionend","keypress","textInput","paste"]),H("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),H("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),H("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function h_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var b=l[v],x=b.instance,Y=b.currentTarget;if(b=b.listener,x!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=Y;try{d(h)}catch(te){sc(te)}h.currentTarget=null,d=x}else for(v=0;v<l.length;v++){if(b=l[v],x=b.instance,Y=b.currentTarget,b=b.listener,x!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=Y;try{d(h)}catch(te){sc(te)}h.currentTarget=null,d=x}}}}function Je(t,i){var a=i[sr];a===void 0&&(a=i[sr]=new Set);var l=t+"__bubble";a.has(l)||(f_(i,t,2,!1),a.add(l))}function Jd(t,i,a){var l=0;i&&(l|=4),f_(a,t,l,i)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[Gc]){t[Gc]=!0,Hn.forEach(function(a){a!=="selectionchange"&&(jb.has(a)||Jd(a,!1,t),Jd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Gc]||(i[Gc]=!0,Jd("selectionchange",!1,i))}}function f_(t,i,a,l){switch(B_(i)){case 2:var h=mS;break;case 8:h=pS;break;default:h=dm}a=h.bind(null,i,a,t),h=void 0,!sl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Zd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=qi(b),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Hu(function(){var Y=d,te=$a(a),se=[];e:{var K=Gg.get(t);if(K!==void 0){var X=ma,_e=t;switch(t){case"keypress":if(da(a)===0)break e;case"keydown":case"keyup":X=Wu;break;case"focusin":_e="focus",X=us;break;case"focusout":_e="blur",X=us;break;case"beforeblur":case"afterblur":X=us;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=ec;break;case Bg:case qg:case Hg:X=Wa;break;case Fg:X=Za;break;case"scroll":case"scrollend":X=Fu;break;case"wheel":X=nc;break;case"copy":case"cut":case"paste":X=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=cl;break;case"toggle":case"beforetoggle":X=hs}var Me=(i&4)!==0,vt=!Me&&(t==="scroll"||t==="scrollend"),U=Me?K!==null?K+"Capture":null:K;Me=[];for(var M=Y,Q;M!==null;){var ne=M;if(Q=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Q===null||U===null||(ne=Fn(M,U),ne!=null&&Me.push(Ul(M,ne,Q))),vt)break;M=M.return}0<Me.length&&(K=new X(K,_e,null,a,te),se.push({event:K,listeners:Me}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",K&&a!==Ka&&(_e=a.relatedTarget||a.fromElement)&&(qi(_e)||_e[Pn]))break e;if((X||K)&&(K=te.window===te?te:(K=te.ownerDocument)?K.defaultView||K.parentWindow:window,X?(_e=a.relatedTarget||a.toElement,X=Y,_e=_e?qi(_e):null,_e!==null&&(vt=u(_e),Me=_e.tag,_e!==vt||Me!==5&&Me!==27&&Me!==6)&&(_e=null)):(X=null,_e=Y),X!==_e)){if(Me=Gu,ne="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Me=cl,ne="onPointerLeave",U="onPointerEnter",M="pointer"),vt=X==null?K:br(X),Q=_e==null?K:br(_e),K=new Me(ne,M+"leave",X,a,te),K.target=vt,K.relatedTarget=Q,ne=null,qi(te)===Y&&(Me=new Me(U,M+"enter",_e,a,te),Me.target=Q,Me.relatedTarget=vt,ne=Me),vt=ne,X&&_e)t:{for(Me=Bb,U=X,M=_e,Q=0,ne=U;ne;ne=Me(ne))Q++;ne=0;for(var Ie=M;Ie;Ie=Me(Ie))ne++;for(;0<Q-ne;)U=Me(U),Q--;for(;0<ne-Q;)M=Me(M),ne--;for(;Q--;){if(U===M||M!==null&&U===M.alternate){Me=U;break t}U=Me(U),M=Me(M)}Me=null}else Me=null;X!==null&&d_(se,K,X,Me,!1),_e!==null&&vt!==null&&d_(se,vt,_e,Me,!0)}}e:{if(K=Y?br(Y):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var lt=Dg;else if(Gn(K))if(Ng)lt=Ww;else{lt=Xw;var Te=$w}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&il(Y.elementType)&&(lt=Dg):lt=Jw;if(lt&&(lt=lt(t,Y))){va(se,lt,a,te);break e}Te&&Te(t,K,Y),t==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&Ya(K,"number",K.value)}switch(Te=Y?br(Y):window,t){case"focusin":(Gn(Te)||Te.contentEditable==="true")&&(eo=Te,Cf=Y,dl=null);break;case"focusout":dl=Cf=eo=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,zg(se,a,te);break;case"selectionchange":if(eb)break;case"keydown":case"keyup":zg(se,a,te)}var He;if(y)e:{switch(t){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Ke?ft(t,a)&&(Ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ze="onCompositionStart");Ze&&(F&&a.locale!=="ko"&&(Ke||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Ke&&(He=ss()):(ri=te,Xa="value"in ri?ri.value:ri.textContent,Ke=!0)),Te=Qc(Y,Ze),0<Te.length&&(Ze=new ol(Ze,t,null,a,te),se.push({event:Ze,listeners:Te}),He?Ze.data=He:(He=Jt(a),He!==null&&(Ze.data=He)))),(He=S?fn(t,a):dn(t,a))&&(Ze=Qc(Y,"onBeforeInput"),0<Ze.length&&(Te=new ol("onBeforeInput","beforeinput",null,a,te),se.push({event:Te,listeners:Ze}),Te.data=He)),Lb(se,t,Y,a,te)}h_(se,i)})}function Ul(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Qc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Fn(t,a),h!=null&&l.unshift(Ul(t,h,d)),h=Fn(t,i),h!=null&&l.push(Ul(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Bb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function d_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var b=a,x=b.alternate,Y=b.stateNode;if(b=b.tag,x!==null&&x===l)break;b!==5&&b!==26&&b!==27||Y===null||(x=Y,h?(Y=Fn(a,d),Y!=null&&v.unshift(Ul(a,Y,x))):h||(Y=Fn(a,d),Y!=null&&v.push(Ul(a,Y,x)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var qb=/\r\n?/g,Hb=/\u0000|\uFFFD/g;function m_(t){return(typeof t=="string"?t:""+t).replace(qb,`
`).replace(Hb,"")}function p_(t,i){return i=m_(i),m_(t)===i}function yt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Si(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Si(t,""+l);break;case"className":rt(t,"class",l);break;case"tabIndex":rt(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(t,a,l);break;case"style":Bu(t,l,d);break;case"data":if(i!=="object"){rt(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ar(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&yt(t,i,"name",h.name,h,null),yt(t,i,"formEncType",h.formEncType,h,null),yt(t,i,"formMethod",h.formMethod,h,null),yt(t,i,"formTarget",h.formTarget,h,null)):(yt(t,i,"encType",h.encType,h,null),yt(t,i,"method",h.method,h,null),yt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ar(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=hn);break;case"onScroll":l!=null&&Je("scroll",t);break;case"onScrollEnd":l!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ar(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Je("beforetoggle",t),Je("toggle",t),it(t,"popover",l);break;case"xlinkActuate":je(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":je(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":je(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":je(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":je(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":je(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":je(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":je(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":je(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":it(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wf.get(a)||a,it(t,a,l))}}function em(t,i,a,l,h,d){switch(a){case"style":Bu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Si(t,l):(typeof l=="number"||typeof l=="bigint")&&Si(t,""+l);break;case"onScroll":l!=null&&Je("scroll",t);break;case"onScrollEnd":l!=null&&Je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!R.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Nt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):it(t,a,l)}}}function Tn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:yt(t,i,d,v,a,null)}}h&&yt(t,i,"srcSet",a.srcSet,a,null),l&&yt(t,i,"src",a.src,a,null);return;case"input":Je("invalid",t);var b=d=v=h=null,x=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":h=te;break;case"type":v=te;break;case"checked":x=te;break;case"defaultChecked":Y=te;break;case"value":d=te;break;case"defaultValue":b=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:yt(t,i,l,te,a,null)}}ha(t,d,b,x,Y,v,h,!1);return;case"select":Je("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:yt(t,i,h,b,a,null)}i=d,a=v,t.multiple=!!l,i!=null?ot(t,!!l,i,!1):a!=null&&ot(t,!!l,a,!0);return;case"textarea":Je("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:yt(t,i,v,b,a,null)}rs(t,l,h,d);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:yt(t,i,x,l,a,null)}return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Je(Ll[l],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:yt(t,i,Y,l,a,null)}return;default:if(il(i)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&em(t,i,te,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&yt(t,i,b,l,a,null))}function Fb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,x=null,Y=null,te=null;for(X in a){var se=a[X];if(a.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":x=se;default:l.hasOwnProperty(X)||yt(t,i,X,null,l,se)}}for(var K in l){var X=l[K];if(se=a[K],l.hasOwnProperty(K)&&(X!=null||se!=null))switch(K){case"type":d=X;break;case"name":h=X;break;case"checked":Y=X;break;case"defaultChecked":te=X;break;case"value":v=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==se&&yt(t,i,K,X,l,se)}}is(t,v,b,x,Y,te,d,h);return;case"select":X=v=b=K=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":X=x;default:l.hasOwnProperty(d)||yt(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":K=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==x&&yt(t,i,h,d,l,x)}i=b,a=v,l=X,K!=null?ot(t,!!a,K,!1):!!l!=!!a&&(i!=null?ot(t,!!a,i,!0):ot(t,!!a,a?[]:"",!1));return;case"textarea":X=K=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:yt(t,i,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":K=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&yt(t,i,v,h,l,d)}fa(t,K,X);return;case"option":for(var _e in a)if(K=a[_e],a.hasOwnProperty(_e)&&K!=null&&!l.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:yt(t,i,_e,null,l,K)}for(x in l)if(K=l[x],X=a[x],l.hasOwnProperty(x)&&K!==X&&(K!=null||X!=null))switch(x){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:yt(t,i,x,K,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in a)K=a[Me],a.hasOwnProperty(Me)&&K!=null&&!l.hasOwnProperty(Me)&&yt(t,i,Me,null,l,K);for(Y in l)if(K=l[Y],X=a[Y],l.hasOwnProperty(Y)&&K!==X&&(K!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:yt(t,i,Y,K,l,X)}return;default:if(il(i)){for(var vt in a)K=a[vt],a.hasOwnProperty(vt)&&K!==void 0&&!l.hasOwnProperty(vt)&&em(t,i,vt,void 0,l,K);for(te in l)K=l[te],X=a[te],!l.hasOwnProperty(te)||K===X||K===void 0&&X===void 0||em(t,i,te,K,l,X);return}}for(var U in a)K=a[U],a.hasOwnProperty(U)&&K!=null&&!l.hasOwnProperty(U)&&yt(t,i,U,null,l,K);for(se in l)K=l[se],X=a[se],!l.hasOwnProperty(se)||K===X||K==null&&X==null||yt(t,i,se,K,l,X)}function g_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,b=h.duration;if(d&&b&&g_(v)){for(v=0,b=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],Y=x.startTime;if(Y>b)break;var te=x.transferSize,se=x.initiatorType;te&&g_(se)&&(x=x.responseEnd,v+=te*(x<b?1:(b-Y)/(x-Y)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tm=null,nm=null;function Yc(t){return t.nodeType===9?t:t.ownerDocument}function y_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function im(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rm=null;function Qb(){var t=window.event;return t&&t.type==="popstate"?t===rm?!1:(rm=t,!0):(rm=null,!1)}var __=typeof setTimeout=="function"?setTimeout:void 0,Yb=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,Kb=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(t){return E_.resolve(null).then(t).catch($b)}:__;function $b(t){setTimeout(function(){throw t})}function xs(t){return t==="head"}function T_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Co(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")zl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,zl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[Bi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&zl(t.ownerDocument.body);a=h}while(a);Co(i)}function w_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),wi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Xb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Bi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ni(t.nextSibling),t===null)break}return null}function Jb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ni(t.nextSibling),t===null))return null;return t}function b_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ni(t.nextSibling),t===null))return null;return t}function am(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Wb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ni(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var lm=null;function S_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ni(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function A_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function R_(t,i,a){switch(i=Yc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function zl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);wi(t)}var Mi=new Map,I_=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qr=de.d;de.d={f:Zb,r:eS,D:tS,C:nS,L:iS,m:rS,X:aS,S:sS,M:oS};function Zb(){var t=qr.f(),i=zc();return t||i}function eS(t){var i=Hi(t);i!==null&&i.tag===5&&i.type==="form"?Fy(i):qr.r(t)}var Ao=typeof document>"u"?null:document;function C_(t,i,a){var l=Ao;if(l&&typeof i=="string"&&i){var h=Ye(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),I_.has(h)||(I_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Tn(i,"link",t),bt(i),l.head.appendChild(i)))}}function tS(t){qr.D(t),C_("dns-prefetch",t,null)}function nS(t,i){qr.C(t,i),C_("preconnect",t,i)}function iS(t,i,a){qr.L(t,i,a);var l=Ao;if(l&&t&&i){var h='link[rel="preload"][as="'+Ye(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ye(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ye(a.imageSizes)+'"]')):h+='[href="'+Ye(t)+'"]';var d=h;switch(i){case"style":d=Ro(t);break;case"script":d=Io(t)}Mi.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Mi.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(jl(d))||i==="script"&&l.querySelector(Bl(d))||(i=l.createElement("link"),Tn(i,"link",t),bt(i),l.head.appendChild(i)))}}function rS(t,i){qr.m(t,i);var a=Ao;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ye(l)+'"][href="'+Ye(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Io(t)}if(!Mi.has(d)&&(t=w({rel:"modulepreload",href:t},i),Mi.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(d)))return}l=a.createElement("link"),Tn(l,"link",t),bt(l),a.head.appendChild(l)}}}function sS(t,i,a){qr.S(t,i,a);var l=Ao;if(l&&t){var h=ti(l).hoistableStyles,d=Ro(t);i=i||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(jl(d)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Mi.get(d))&&um(t,a);var x=v=l.createElement("link");bt(x),Tn(x,"link",t),x._p=new Promise(function(Y,te){x.onload=Y,x.onerror=te}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,$c(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function aS(t,i){qr.X(t,i);var a=Ao;if(a&&t){var l=ti(a).hoistableScripts,h=Io(t),d=l.get(h);d||(d=a.querySelector(Bl(h)),d||(t=w({src:t,async:!0},i),(i=Mi.get(h))&&cm(t,i),d=a.createElement("script"),bt(d),Tn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function oS(t,i){qr.M(t,i);var a=Ao;if(a&&t){var l=ti(a).hoistableScripts,h=Io(t),d=l.get(h);d||(d=a.querySelector(Bl(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=Mi.get(h))&&cm(t,i),d=a.createElement("script"),bt(d),Tn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function x_(t,i,a,l){var h=(h=pe.current)?Kc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ro(a.href),a=ti(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ro(a.href);var d=ti(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(jl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Mi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mi.set(t,a),d||lS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Io(a),a=ti(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ro(t){return'href="'+Ye(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function D_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function lS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Tn(i,"link",a),bt(i),t.head.appendChild(i))}function Io(t){return'[src="'+Ye(t)+'"]'}function Bl(t){return"script[async]"+t}function N_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Ye(a.href)+'"]');if(l)return i.instance=l,bt(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Tn(l,"style",h),$c(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ro(a.href);var d=t.querySelector(jl(h));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=D_(a),(h=Mi.get(h))&&um(l,h),d=(t.ownerDocument||t).createElement("link"),bt(d);var v=d;return v._p=new Promise(function(b,x){v.onload=b,v.onerror=x}),Tn(d,"link",l),i.state.loading|=4,$c(d,a.precedence,t),i.instance=d;case"script":return d=Io(a.src),(h=t.querySelector(Bl(d)))?(i.instance=h,bt(h),h):(l=a,(h=Mi.get(d))&&(l=w({},a),cm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Tn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,$c(l,a.precedence,t));return i.instance}function $c(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Xc=null;function M_(t,i,a){if(Xc===null){var l=new Map,h=Xc=new Map;h.set(a,l)}else h=Xc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Bi]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function O_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function uS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function V_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function cS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ro(l.href),d=i.querySelector(jl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Jc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,l=D_(l),(h=Mi.get(h))&&um(l,h),d=d.createElement("link"),bt(d);var v=d;v._p=new Promise(function(b,x){v.onload=b,v.onerror=x}),Tn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Jc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var hm=0;function hS(t,i){return t.stylesheets&&t.count===0&&Zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Zc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&hm===0&&(hm=62500*Gb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>hm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wc=null;function Zc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wc=new Map,i.forEach(fS,t),Wc=null,Jc.call(t))}function fS(t,i){if(!(i.state.loading&4)){var a=Wc.get(t);if(a)var l=a.get(null);else{a=new Map,Wc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Jc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ql={$$typeof:re,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function dS(t,i,a,l,h,d,v,b,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function k_(t,i,a,l,h,d,v,b,x,Y,te,se){return t=new dS(t,i,a,v,x,Y,te,se,b),i=1,d===!0&&(i|=24),d=ai(3,null,null,i),t.current=d,d.stateNode=t,i=Ff(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Kf(d),t}function P_(t){return t?(t=io,t):io}function L_(t,i,a,l,h,d){h=P_(h),l.context===null?l.context=h:l.pendingContext=h,l=vs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_s(t,l,i),a!==null&&(Xn(a,t,i),El(a,t,i))}function U_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function fm(t,i){U_(t,i),(t=t.alternate)&&U_(t,i)}function z_(t){if(t.tag===13||t.tag===31){var i=Ta(t,67108864);i!==null&&Xn(i,t,67108864),fm(t,67108864)}}function j_(t){if(t.tag===13||t.tag===31){var i=hi();i=zi(i);var a=Ta(t,i);a!==null&&Xn(a,t,i),fm(t,i)}}var eh=!0;function mS(t,i,a,l){var h=ee.T;ee.T=null;var d=de.p;try{de.p=2,dm(t,i,a,l)}finally{de.p=d,ee.T=h}}function pS(t,i,a,l){var h=ee.T;ee.T=null;var d=de.p;try{de.p=8,dm(t,i,a,l)}finally{de.p=d,ee.T=h}}function dm(t,i,a,l){if(eh){var h=mm(l);if(h===null)Zd(t,i,l,th,a),q_(t,l);else if(yS(h,t,i,a,l))l.stopPropagation();else if(q_(t,l),i&4&&-1<gS.indexOf(t)){for(;h!==null;){var d=Hi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var x=1<<31-kt(v);b.entanglements[1]|=x,v&=~x}fr(d),(ht&6)===0&&(Lc=zt()+500,Pl(0))}}break;case 31:case 13:b=Ta(d,2),b!==null&&Xn(b,d,2),zc(),fm(d,2)}if(d=mm(l),d===null&&Zd(t,i,l,th,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Zd(t,i,l,null,a)}}function mm(t){return t=$a(t),pm(t)}var th=null;function pm(t){if(th=null,t=qi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return th=t,null}function B_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ns()){case Dt:return 2;case jt:return 8;case Rn:case er:return 32;case Zn:return 268435456;default:return 32}default:return 32}}var gm=!1,Ds=null,Ns=null,Ms=null,Hl=new Map,Fl=new Map,Os=[],gS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(t,i){switch(t){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(i.pointerId)}}function Gl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Hi(i),i!==null&&z_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function yS(t,i,a,l,h){switch(i){case"focusin":return Ds=Gl(Ds,t,i,a,l,h),!0;case"dragenter":return Ns=Gl(Ns,t,i,a,l,h),!0;case"mouseover":return Ms=Gl(Ms,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Hl.set(d,Gl(Hl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Fl.set(d,Gl(Fl.get(d)||null,t,i,a,l,h)),!0}return!1}function H_(t){var i=qi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,wt(t.priority,function(){j_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,wt(t.priority,function(){j_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ka=l,a.target.dispatchEvent(l),Ka=null}else return i=Hi(a),i!==null&&z_(i),t.blockedOn=a,!1;i.shift()}return!0}function F_(t,i,a){nh(t)&&a.delete(i)}function vS(){gm=!1,Ds!==null&&nh(Ds)&&(Ds=null),Ns!==null&&nh(Ns)&&(Ns=null),Ms!==null&&nh(Ms)&&(Ms=null),Hl.forEach(F_),Fl.forEach(F_)}function ih(t,i){t.blockedOn===i&&(t.blockedOn=null,gm||(gm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vS)))}var rh=null;function G_(t){rh!==t&&(rh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){rh===t&&(rh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var d=Hi(a);d!==null&&(t.splice(i,3),i-=3,md(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Co(t){function i(x){return ih(x,t)}Ds!==null&&ih(Ds,t),Ns!==null&&ih(Ns,t),Ms!==null&&ih(Ms,t),Hl.forEach(i),Fl.forEach(i);for(var a=0;a<Os.length;a++){var l=Os[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Os.length&&(a=Os[0],a.blockedOn===null);)H_(a),a.blockedOn===null&&Os.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Nt]||null;if(typeof d=="function")v||G_(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Nt]||null)b=v.formAction;else if(pm(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),G_(a)}}}function Q_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function ym(t){this._internalRoot=t}sh.prototype.render=ym.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=hi();L_(a,l,t,i,null,null)},sh.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;L_(t.current,2,null,t,null,null),zc(),i[Pn]=null}};function sh(t){this._internalRoot=t}sh.prototype.unstable_scheduleHydration=function(t){if(t){var i=In();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Os.length&&i!==0&&i<Os[a].priority;a++);Os.splice(a,0,t),a===0&&H_(t)}};var Y_=e.version;if(Y_!=="19.2.3")throw Error(s(527,Y_,"19.2.3"));de.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var _S={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{vi=ah.inject(_S),$t=ah}catch{}}return Yl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=ev,d=tv,v=nv;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=k_(t,1,!1,null,null,a,l,null,h,d,v,Q_),t[Pn]=i.current,Wd(t),new ym(i)},Yl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=ev,v=tv,b=nv,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=k_(t,1,!0,i,a??null,l,h,x,d,v,b,Q_),i.context=P_(null),a=i.current,l=hi(),l=zi(l),h=vs(l),h.callback=null,_s(a,h,l),a=l,i.current.lanes=a,nr(i,a),fr(i),t[Pn]=i.current,Wd(t),new sh(i)},Yl.version="19.2.3",Yl}var i0;function NS(){if(i0)return Em.exports;i0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=DS(),Em.exports}var MS=NS();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var r0="popstate";function OS(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=qa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Fm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:hu(u))}function s(o,u){gi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return kS(e,n,s,r)}function Pt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function gi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VS(){return Math.random().toString(36).substring(2,10)}function s0(r,e){return{usr:r.state,key:r.key,idx:e}}function Fm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?qa(e):e,state:n,key:e&&e.key||s||VS()}}function hu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function qa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function kS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let L=E(),ue=L==null?null:L-g;g=L,p&&p({action:m,location:Z.location,delta:ue})}function A(L,ue){m="PUSH";let he=Fm(Z.location,L,ue);n&&n(he,L),g=E()+1;let re=s0(he,g),be=Z.createHref(he);try{f.pushState(re,"",be)}catch(Le){if(Le instanceof DOMException&&Le.name==="DataCloneError")throw Le;o.location.assign(be)}u&&p&&p({action:m,location:Z.location,delta:1})}function V(L,ue){m="REPLACE";let he=Fm(Z.location,L,ue);n&&n(he,L),g=E();let re=s0(he,g),be=Z.createHref(he);f.replaceState(re,"",be),u&&p&&p({action:m,location:Z.location,delta:0})}function G(L){return PS(L)}let Z={get action(){return m},get location(){return r(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(r0,w),p=L,()=>{o.removeEventListener(r0,w),p=null}},createHref(L){return e(o,L)},createURL:G,encodeLocation(L){let ue=G(L);return{pathname:ue.pathname,search:ue.search,hash:ue.hash}},push:A,replace:V,go(L){return f.go(L)}};return Z}function PS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Pt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:hu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function HE(r,e,n="/"){return LS(r,e,n,!1)}function LS(r,e,n,s){let o=typeof e=="string"?qa(e):e,u=Kr(o.pathname||"/",n);if(u==null)return null;let f=FE(r);US(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=$S(u);m=YS(f[p],g,s)}return m}function FE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;Pt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let w=Qr([s,E.relativePath]),A=n.concat(E);f.children&&f.children.length>0&&(Pt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),FE(f.children,e,A,w,p)),!(f.path==null&&!f.index)&&e.push({path:w,score:GS(w,f.index),routesMeta:A})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let g of GE(f.path))u(f,m,!0,g)}),e}function GE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=GE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function US(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:QS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var zS=/^:[\w-]+$/,jS=3,BS=2,qS=1,HS=10,FS=-2,a0=r=>r==="*";function GS(r,e){let n=r.split("/"),s=n.length;return n.some(a0)&&(s+=FS),e&&(s+=BS),n.filter(o=>!a0(o)).reduce((o,u)=>o+(zS.test(u)?jS:u===""?qS:HS),s)}function QS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function YS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=Ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=Ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Qr([u,w.pathname]),pathnameBase:ZS(Qr([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=Qr([u,w.pathnameBase]))}return f}function Ch(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=KS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},A)=>{if(E==="*"){let G=m[A]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const V=m[A];return w&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function KS(r,e=!1,n=!0){gi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function $S(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Kr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var QE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XS=r=>QE.test(r);function JS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?qa(r):r,u;if(n)if(XS(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),gi(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=o0(n.substring(1),"/"):u=o0(n,e)}else u=e;return{pathname:u,search:eA(s),hash:tA(o)}}function o0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function YE(r){let e=WS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function KE(r,e,n,s=!1){let o;typeof r=="string"?o=qa(r):(o={...r},Pt(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),Pt(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),Pt(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=JS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Qr=r=>r.join("/").replace(/\/\/+/g,"/"),ZS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),eA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,tA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,nA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function iA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function rA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function XE(r,e){let n=r;if(typeof n!="string"||!QE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if($E)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Kr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{gi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var JE=["POST","PUT","PATCH","DELETE"];new Set(JE);var sA=["GET",...JE];new Set(sA);var Qo=P.createContext(null);Qo.displayName="DataRouter";var Jh=P.createContext(null);Jh.displayName="DataRouterState";var aA=P.createContext(!1),WE=P.createContext({isTransitioning:!1});WE.displayName="ViewTransition";var oA=P.createContext(new Map);oA.displayName="Fetchers";var lA=P.createContext(null);lA.displayName="Await";var Pi=P.createContext(null);Pi.displayName="Navigation";var Eu=P.createContext(null);Eu.displayName="Location";var es=P.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var bp=P.createContext(null);bp.displayName="RouteError";var ZE="REACT_ROUTER_ERROR",uA="REDIRECT",cA="ROUTE_ERROR_RESPONSE";function hA(r){if(r.startsWith(`${ZE}:${uA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fA(r){if(r.startsWith(`${ZE}:${cA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new nA(e.status,e.statusText,e.data)}catch{}}function dA(r,{relative:e}={}){Pt(Tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Pi),{hash:o,pathname:u,search:f}=wu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Qr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Tu(){return P.useContext(Eu)!=null}function na(){return Pt(Tu(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Eu).location}var eT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tT(r){P.useContext(Pi).static||P.useLayoutEffect(r)}function Sp(){let{isDataRoute:r}=P.useContext(es);return r?RA():mA()}function mA(){Pt(Tu(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(Qo),{basename:e,navigator:n}=P.useContext(Pi),{matches:s}=P.useContext(es),{pathname:o}=na(),u=JSON.stringify(YE(s)),f=P.useRef(!1);return tT(()=>{f.current=!0}),P.useCallback((p,g={})=>{if(gi(f.current,eT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=KE(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Qr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}P.createContext(null);function wu(r,{relative:e}={}){let{matches:n}=P.useContext(es),{pathname:s}=na(),o=JSON.stringify(YE(n));return P.useMemo(()=>KE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function pA(r,e){return nT(r,e)}function nT(r,e,n,s,o){var he;Pt(Tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(Pi),{matches:f}=P.useContext(es),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let re=w&&w.path||"";rT(g,!w||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let A=na(),V;if(e){let re=typeof e=="string"?qa(e):e;Pt(E==="/"||((he=re.pathname)==null?void 0:he.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${re.pathname}" was given in the \`location\` prop.`),V=re}else V=A;let G=V.pathname||"/",Z=G;if(E!=="/"){let re=E.replace(/^\//,"").split("/");Z="/"+G.replace(/^\//,"").split("/").slice(re.length).join("/")}let L=HE(r,{pathname:Z});gi(w||L!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),gi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ue=EA(L&&L.map(re=>Object.assign({},re,{params:Object.assign({},p,re.params),pathname:Qr([E,u.encodeLocation?u.encodeLocation(re.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?E:Qr([E,u.encodeLocation?u.encodeLocation(re.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathnameBase])})),f,n,s,o);return e&&ue?P.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},ue):ue}function gA(){let r=AA(),e=iA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,f)}var yA=P.createElement(gA,null),iT=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=fA(r.digest);n&&(r=n)}let e=r!==void 0?P.createElement(es.Provider,{value:this.props.routeContext},P.createElement(bp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?P.createElement(vA,{error:r},e):e}};iT.contextType=aA;var Am=new WeakMap;function vA({children:r,error:e}){let{basename:n}=P.useContext(Pi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=hA(e.digest);if(s){let o=Am.get(e);if(o)throw o;let u=XE(s.location,n);if($E&&!Am.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Am.set(e,f),f}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function _A({routeContext:r,match:e,children:n}){let s=P.useContext(Qo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(es.Provider,{value:r},n)}function EA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let E=u.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);Pt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let w=u[E];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=E),w.route.id){let{loaderData:A,errors:V}=n,G=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!V||V[w.route.id]===void 0);if(w.route.lazy||G){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,w)=>{var A,V;s(E,{location:n.location,params:((V=(A=n.matches)==null?void 0:A[0])==null?void 0:V.params)??{},unstable_pattern:rA(n.matches),errorInfo:w})}:void 0;return u.reduceRight((E,w,A)=>{let V,G=!1,Z=null,L=null;n&&(V=f&&w.route.id?f[w.route.id]:void 0,Z=w.route.errorElement||yA,m&&(p<0&&A===0?(rT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,L=null):p===A&&(G=!0,L=w.route.hydrateFallbackElement||null)));let ue=e.concat(u.slice(0,A+1)),he=()=>{let re;return V?re=Z:G?re=L:w.route.Component?re=P.createElement(w.route.Component,null):w.route.element?re=w.route.element:re=E,P.createElement(_A,{match:w,routeContext:{outlet:E,matches:ue,isDataRoute:n!=null},children:re})};return n&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?P.createElement(iT,{location:n.location,revalidation:n.revalidation,component:Z,error:V,children:he(),routeContext:{outlet:null,matches:ue,isDataRoute:!0},onError:g}):he()},null)}function Ap(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TA(r){let e=P.useContext(Qo);return Pt(e,Ap(r)),e}function wA(r){let e=P.useContext(Jh);return Pt(e,Ap(r)),e}function bA(r){let e=P.useContext(es);return Pt(e,Ap(r)),e}function Rp(r){let e=bA(r),n=e.matches[e.matches.length-1];return Pt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function SA(){return Rp("useRouteId")}function AA(){var s;let r=P.useContext(bp),e=wA("useRouteError"),n=Rp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function RA(){let{router:r}=TA("useNavigate"),e=Rp("useNavigate"),n=P.useRef(!1);return tT(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{gi(n.current,eT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var l0={};function rT(r,e,n){!e&&!l0[r]&&(l0[r]=!0,gi(!1,n))}P.memo(IA);function IA({routes:r,future:e,state:n,onError:s}){return nT(r,void 0,n,s,e)}function Gm(r){Pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Pt(!Tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=qa(n));let{pathname:g="/",search:E="",hash:w="",state:A=null,key:V="default"}=n,G=P.useMemo(()=>{let Z=Kr(g,m);return Z==null?null:{location:{pathname:Z,search:E,hash:w,state:A,key:V},navigationType:s}},[m,g,E,w,A,V,s]);return gi(G!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${w}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:P.createElement(Pi.Provider,{value:p},P.createElement(Eu.Provider,{children:e,value:G}))}function xA({children:r,location:e}){return pA(Qm(r),e)}function Qm(r,e=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,Qm(s.props.children,u));return}Pt(s.type===Gm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Qm(s.props.children,u)),n.push(f)}),n}var gh="get",yh="application/x-www-form-urlencoded";function Wh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function DA(r){return Wh(r)&&r.tagName.toLowerCase()==="button"}function NA(r){return Wh(r)&&r.tagName.toLowerCase()==="form"}function MA(r){return Wh(r)&&r.tagName.toLowerCase()==="input"}function OA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function VA(r,e){return r.button===0&&(!e||e==="_self")&&!OA(r)}function Ym(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function kA(r,e){let n=Ym(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var oh=null;function PA(){if(oh===null)try{new FormData(document.createElement("form"),0),oh=!1}catch{oh=!0}return oh}var LA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(r){return r!=null&&!LA.has(r)?(gi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yh}"`),null):r}function UA(r,e){let n,s,o,u,f;if(NA(r)){let m=r.getAttribute("action");s=m?Kr(m,e):null,n=r.getAttribute("method")||gh,o=Rm(r.getAttribute("enctype"))||yh,u=new FormData(r)}else if(DA(r)||MA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Kr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||gh,o=Rm(r.getAttribute("formenctype"))||Rm(m.getAttribute("enctype"))||yh,u=new FormData(m,r),!PA()){let{name:g,type:E,value:w}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(Wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gh,s=null,o=yh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ip(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Kr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function jA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function qA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await jA(u,n);return f.links?f.links():[]}return[]}));return QA(s.flat(1).filter(BA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function u0(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function HA(r,e,{includeHydrateFallback:n}={}){return FA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function FA(r){return[...new Set(r)]}function GA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function QA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(GA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function sT(){let r=P.useContext(Qo);return Ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function YA(){let r=P.useContext(Jh);return Ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Cp=P.createContext(void 0);Cp.displayName="FrameworkContext";function aT(){let r=P.useContext(Cp);return Ip(r,"You must render this element inside a <HydratedRouter> element"),r}function KA(r,e){let n=P.useContext(Cp),[s,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,A=P.useRef(null);P.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=ue=>{ue.forEach(he=>{f(he.isIntersecting)})},L=new IntersectionObserver(Z,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[r]),P.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let V=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Kl(m,V),onBlur:Kl(p,G),onMouseEnter:Kl(g,V),onMouseLeave:Kl(E,G),onTouchStart:Kl(w,V)}]:[!1,A,{}]}function Kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function $A({page:r,...e}){let{router:n}=sT(),s=P.useMemo(()=>HE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(JA,{page:r,matches:s,...e}):null}function XA(r){let{manifest:e,routeModules:n}=aT(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return qA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function JA({page:r,matches:e,...n}){let s=na(),{future:o,manifest:u,routeModules:f}=aT(),{basename:m}=sT(),{loaderData:p,matches:g}=YA(),E=P.useMemo(()=>u0(r,e,g,u,s,"data"),[r,e,g,u,s]),w=P.useMemo(()=>u0(r,e,g,u,s,"assets"),[r,e,g,u,s]),A=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Z=new Set,L=!1;if(e.forEach(he=>{var be;let re=u.routes[he.route.id];!re||!re.hasLoader||(!E.some(Le=>Le.route.id===he.route.id)&&he.route.id in p&&((be=f[he.route.id])!=null&&be.shouldRevalidate)||re.hasClientLoader?L=!0:Z.add(he.route.id))}),Z.size===0)return[];let ue=zA(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return L&&Z.size>0&&ue.searchParams.set("_routes",e.filter(he=>Z.has(he.route.id)).map(he=>he.route.id).join(",")),[ue.pathname+ue.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,f]),V=P.useMemo(()=>HA(w,u),[w,u]),G=XA(w);return P.createElement(P.Fragment,null,A.map(Z=>P.createElement("link",{key:Z,rel:"prefetch",as:"fetch",href:Z,...n})),V.map(Z=>P.createElement("link",{key:Z,rel:"modulepreload",href:Z,...n})),G.map(({key:Z,link:L})=>P.createElement("link",{key:Z,nonce:n.nonce,...L})))}function WA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZA&&(window.__reactRouterVersion="7.12.0")}catch{}function eR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=OS({window:s,v5Compat:!0}));let u=o.current,[f,m]=P.useState({action:u.action,location:u.location}),p=P.useCallback(g=>{n===!1?m(g):P.startTransition(()=>m(g))},[n]);return P.useLayoutEffect(()=>u.listen(p),[u,p]),P.createElement(CA,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var oT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lT=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:A,...V},G){let{basename:Z,unstable_useTransitions:L}=P.useContext(Pi),ue=typeof g=="string"&&oT.test(g),he=XE(g,Z);g=he.to;let re=dA(g,{relative:o}),[be,Le,xe]=KA(s,V),N=rR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:A,unstable_useTransitions:L});function I(O){e&&e(O),O.defaultPrevented||N(O)}let C=P.createElement("a",{...V,...xe,href:he.absoluteURL||re,onClick:he.isExternal||u?e:I,ref:WA(G,Le),target:p,"data-discover":!ue&&n==="render"?"true":void 0});return be&&!ue?P.createElement(P.Fragment,null,C,P.createElement($A,{page:re})):C});lT.displayName="Link";var tR=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=wu(f,{relative:g.relative}),A=na(),V=P.useContext(Jh),{navigator:G,basename:Z}=P.useContext(Pi),L=V!=null&&cR(w)&&m===!0,ue=G.encodeLocation?G.encodeLocation(w).pathname:w.pathname,he=A.pathname,re=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(he=he.toLowerCase(),re=re?re.toLowerCase():null,ue=ue.toLowerCase()),re&&Z&&(re=Kr(re,Z)||re);const be=ue!=="/"&&ue.endsWith("/")?ue.length-1:ue.length;let Le=he===ue||!o&&he.startsWith(ue)&&he.charAt(be)==="/",xe=re!=null&&(re===ue||!o&&re.startsWith(ue)&&re.charAt(ue.length)==="/"),N={isActive:Le,isPending:xe,isTransitioning:L},I=Le?e:void 0,C;typeof s=="function"?C=s(N):C=[s,Le?"active":null,xe?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(N):u;return P.createElement(lT,{...g,"aria-current":I,className:C,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(N):p)});tR.displayName="NavLink";var nR=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=gh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:A,...V},G)=>{let{unstable_useTransitions:Z}=P.useContext(Pi),L=lR(),ue=uR(m,{relative:g}),he=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&oT.test(m),be=Le=>{if(p&&p(Le),Le.defaultPrevented)return;Le.preventDefault();let xe=Le.nativeEvent.submitter,N=(xe==null?void 0:xe.getAttribute("formmethod"))||f,I=()=>L(xe||Le.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:A});Z&&n!==!1?P.startTransition(()=>I()):I()};return P.createElement("form",{ref:G,method:he,action:ue,onSubmit:s?p:be,...V,"data-discover":!re&&r==="render"?"true":void 0})});nR.displayName="Form";function iR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uT(r){let e=P.useContext(Qo);return Pt(e,iR(r)),e}function rR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Sp(),E=na(),w=wu(r,{relative:u});return P.useCallback(A=>{if(VA(A,e)){A.preventDefault();let V=n!==void 0?n:hu(E)===hu(w),G=()=>g(r,{replace:V,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?P.startTransition(()=>G()):G()}},[E,g,w,n,s,e,r,o,u,f,m,p])}function sR(r){gi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(Ym(r)),n=P.useRef(!1),s=na(),o=P.useMemo(()=>kA(s.search,n.current?null:e.current),[s.search]),u=Sp(),f=P.useCallback((m,p)=>{const g=Ym(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var aR=0,oR=()=>`__${String(++aR)}__`;function lR(){let{router:r}=uT("useSubmit"),{basename:e}=P.useContext(Pi),n=SA(),s=r.fetch,o=r.navigate;return P.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:w}=UA(u,e);if(f.navigate===!1){let A=f.fetcherKey||oR();await s(A,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:w,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:w,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function uR(r,{relative:e}={}){let{basename:n}=P.useContext(Pi),s=P.useContext(es);Pt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...wu(r||".",{relative:e})},f=na();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Qr([n,u.pathname])),hu(u)}function cR(r,{relative:e}={}){let n=P.useContext(WE);Pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=uT("useViewTransitionState"),o=wu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Kr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Kr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ch(o.pathname,f)!=null||Ch(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cT=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=P.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>P.createElement("svg",{ref:p,...fR,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:cT("lucide",o),...m},[...f.map(([g,E])=>P.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=(r,e)=>{const n=P.forwardRef(({className:s,...o},u)=>P.createElement(dR,{ref:u,iconNode:e,className:cT(`lucide-${hR(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=An("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=An("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=An("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=An("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=An("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=An("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=An("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=An("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=An("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=An("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=An("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=An("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=An("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=An("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=An("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=An("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=An("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),bR=()=>{};var h0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},SR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},pT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(A=64)),s.push(n[E],n[w],n[A],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(mT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):SR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new AR;const A=u<<2|m>>4;if(s.push(A),g!==64){const V=m<<4&240|g>>2;if(s.push(V),w!==64){const G=g<<6&192|w;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class AR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RR=function(r){const e=mT(r);return pT.encodeByteArray(e,!0)},xh=function(r){return RR(r).replace(/\./g,"")},gT=function(r){try{return pT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=()=>IR().__FIREBASE_DEFAULTS__,xR=()=>{if(typeof process>"u"||typeof h0>"u")return;const r=h0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},DR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&gT(r[1]);return e&&JSON.parse(e)},Zh=()=>{try{return bR()||CR()||xR()||DR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},yT=r=>{var e,n;return(n=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},NR=r=>{const e=yT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},vT=()=>{var r;return(r=Zh())===null||r===void 0?void 0:r.config},_T=r=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ET(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[xh(JSON.stringify(n)),xh(JSON.stringify(f)),""].join(".")}const iu={};function VR(){const r={prod:[],emulator:[]};for(const e of Object.keys(iu))iu[e]?r.emulator.push(e):r.prod.push(e);return r}function kR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let f0=!1;function TT(r,e){if(typeof window>"u"||typeof document>"u"||!Yo(window.location.host)||iu[r]===e||iu[r]||f0)return;iu[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=VR().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{f0=!0,f()},A}function E(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=kR(s),V=n("text"),G=document.getElementById(V)||document.createElement("span"),Z=n("learnmore"),L=document.getElementById(Z)||document.createElement("a"),ue=n("preprendIcon"),he=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;m(re),E(L,Z);const be=g();p(he,ue),re.append(he,G,L,be),document.body.appendChild(re)}u?(G.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function LR(){var r;const e=(r=Zh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function jR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BR(){const r=Mn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qR(){return!LR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HR(){try{return typeof indexedDB=="object"}catch{return!1}}function FR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="FirebaseError";class ts extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=GR,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?QR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ts(o,m,s)}}function QR(r,e){return r.replace(YR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const YR=/\{\$([^}]+)}/g;function KR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ks(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(d0(u)&&d0(f)){if(!Ks(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function d0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $R(r,e){const n=new XR(r,e);return n.subscribe.bind(n)}class XR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");JR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Im),o.error===void 0&&(o.error=Im),o.complete===void 0&&(o.complete=Im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(r){return r&&r._delegate?r._delegate:r}class Ua{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new MR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e2(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZR(r){return r===Va?void 0:r}function e2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(et||(et={}));const n2={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},i2=et.INFO,r2={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},s2=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=r2[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xp{constructor(e){this.name=e,this._logLevel=i2,this._logHandler=s2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const a2=(r,e)=>e.some(n=>r instanceof n);let m0,p0;function o2(){return m0||(m0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l2(){return p0||(p0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wT=new WeakMap,$m=new WeakMap,bT=new WeakMap,Cm=new WeakMap,Dp=new WeakMap;function u2(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Bs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&wT.set(n,r)}).catch(()=>{}),Dp.set(e,r),e}function c2(r){if($m.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});$m.set(r,e)}let Xm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return $m.get(r);if(e==="objectStoreNames")return r.objectStoreNames||bT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function h2(r){Xm=r(Xm)}function f2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(xm(this),e,...n);return bT.set(s,e.sort?e.sort():[e]),Bs(s)}:l2().includes(r)?function(...e){return r.apply(xm(this),e),Bs(wT.get(this))}:function(...e){return Bs(r.apply(xm(this),e))}}function d2(r){return typeof r=="function"?f2(r):(r instanceof IDBTransaction&&c2(r),a2(r,o2())?new Proxy(r,Xm):r)}function Bs(r){if(r instanceof IDBRequest)return u2(r);if(Cm.has(r))return Cm.get(r);const e=d2(r);return e!==r&&(Cm.set(r,e),Dp.set(e,r)),e}const xm=r=>Dp.get(r);function m2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Bs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Bs(f.result),p.oldVersion,p.newVersion,Bs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const p2=["get","getKey","getAll","getAllKeys","count"],g2=["put","add","delete","clear"],Dm=new Map;function g0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dm.get(e))return Dm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=g2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||p2.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Dm.set(e,u),u}h2(r=>({...r,get:(e,n,s)=>g0(e,n)||r.get(e,n,s),has:(e,n)=>!!g0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function v2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jm="@firebase/app",y0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new xp("@firebase/app"),_2="@firebase/app-compat",E2="@firebase/analytics-compat",T2="@firebase/analytics",w2="@firebase/app-check-compat",b2="@firebase/app-check",S2="@firebase/auth",A2="@firebase/auth-compat",R2="@firebase/database",I2="@firebase/data-connect",C2="@firebase/database-compat",x2="@firebase/functions",D2="@firebase/functions-compat",N2="@firebase/installations",M2="@firebase/installations-compat",O2="@firebase/messaging",V2="@firebase/messaging-compat",k2="@firebase/performance",P2="@firebase/performance-compat",L2="@firebase/remote-config",U2="@firebase/remote-config-compat",z2="@firebase/storage",j2="@firebase/storage-compat",B2="@firebase/firestore",q2="@firebase/ai",H2="@firebase/firestore-compat",F2="firebase",G2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="[DEFAULT]",Q2={[Jm]:"fire-core",[_2]:"fire-core-compat",[T2]:"fire-analytics",[E2]:"fire-analytics-compat",[b2]:"fire-app-check",[w2]:"fire-app-check-compat",[S2]:"fire-auth",[A2]:"fire-auth-compat",[R2]:"fire-rtdb",[I2]:"fire-data-connect",[C2]:"fire-rtdb-compat",[x2]:"fire-fn",[D2]:"fire-fn-compat",[N2]:"fire-iid",[M2]:"fire-iid-compat",[O2]:"fire-fcm",[V2]:"fire-fcm-compat",[k2]:"fire-perf",[P2]:"fire-perf-compat",[L2]:"fire-rc",[U2]:"fire-rc-compat",[z2]:"fire-gcs",[j2]:"fire-gcs-compat",[B2]:"fire-fst",[H2]:"fire-fst-compat",[q2]:"fire-vertex","fire-js":"fire-js",[F2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,Y2=new Map,Zm=new Map;function v0(r,e){try{r.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Uo(r){const e=r.name;if(Zm.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,r);for(const n of Dh.values())v0(n,r);for(const n of Y2.values())v0(n,r);return!0}function Np(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Vi(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new bu("app","Firebase",K2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=G2;function ST(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Wm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw qs.create("bad-app-name",{appName:String(o)});if(n||(n=vT()),!n)throw qs.create("no-options");const u=Dh.get(o);if(u){if(Ks(n,u.options)&&Ks(s,u.config))return u;throw qs.create("duplicate-app",{appName:o})}const f=new t2(o);for(const p of Zm.values())f.addComponent(p);const m=new $2(n,s,f);return Dh.set(o,m),m}function AT(r=Wm){const e=Dh.get(r);if(!e&&r===Wm&&vT())return ST();if(!e)throw qs.create("no-app",{appName:r});return e}function Hs(r,e,n){var s;let o=(s=Q2[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(m.join(" "));return}Uo(new Ua(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="firebase-heartbeat-database",J2=1,fu="firebase-heartbeat-store";let Nm=null;function RT(){return Nm||(Nm=m2(X2,J2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(r=>{throw qs.create("idb-open",{originalErrorMessage:r.message})})),Nm}async function W2(r){try{const n=(await RT()).transaction(fu),s=await n.objectStore(fu).get(IT(r));return await n.done,s}catch(e){if(e instanceof ts)$r.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(n.message)}}}async function _0(r,e){try{const s=(await RT()).transaction(fu,"readwrite");await s.objectStore(fu).put(e,IT(r)),await s.done}catch(n){if(n instanceof ts)$r.warn(n.message);else{const s=qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$r.warn(s.message)}}}function IT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=1024,eI=30;class tI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=E0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>eI){const f=rI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){$r.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=E0(),{heartbeatsToSend:s,unsentEntries:o}=nI(this._heartbeatsCache.heartbeats),u=xh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return $r.warn(n),""}}}function E0(){return new Date().toISOString().substring(0,10)}function nI(r,e=Z2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),T0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),T0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class iI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HR()?FR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await W2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return _0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return _0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function T0(r){return xh(JSON.stringify({version:2,heartbeats:r})).length}function rI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(r){Uo(new Ua("platform-logger",e=>new y2(e),"PRIVATE")),Uo(new Ua("heartbeat",e=>new tI(e),"PRIVATE")),Hs(Jm,y0,r),Hs(Jm,y0,"esm2017"),Hs("fire-js","")}sI("");function Mp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function CT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aI=CT,xT=new bu("auth","Firebase",CT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new xp("@firebase/auth");function oI(r,...e){Nh.logLevel<=et.WARN&&Nh.warn(`Auth (${Ko}): ${r}`,...e)}function vh(r,...e){Nh.logLevel<=et.ERROR&&Nh.error(`Auth (${Ko}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(r,...e){throw Vp(r,...e)}function Ji(r,...e){return Vp(r,...e)}function Op(r,e,n){const s=Object.assign(Object.assign({},aI()),{[e]:n});return new bu("auth","Firebase",s).create(e,{appName:r.name})}function Fs(r){return Op(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DT(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&_r(r,"argument-error"),Op(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return xT.create(r,...e)}function ke(r,e,...n){if(!r)throw Vp(e,...n)}function Fr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw vh(e),new Error(e)}function Xr(r,e){r||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function lI(){return w0()==="http:"||w0()==="https:"}function w0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lI()||zR()||"connection"in navigator)?navigator.onLine:!0}function cI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xr(n>e,"Short delay should be less than long delay!"),this.isMobile=PR()||jR()}get(){return uI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(r,e){Xr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dI=new Au(3e4,6e4);function Pp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function $o(r,e,n,s,o={}){return MT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Su(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return UR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Yo(r.emulatorConfig.host)&&(g.credentials="include"),NT.fetch()(await OT(r,r.config.apiHost,n,m),g)})}async function MT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},hI),e);try{const o=new pI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ch(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ch(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw ch(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Op(r,E,g);_r(r,E)}}catch(o){if(o instanceof ts)throw o;_r(r,"network-request-failed",{message:String(o)})}}async function mI(r,e,n,s,o={}){const u=await $o(r,e,n,s,o);return"mfaPendingCredential"in u&&_r(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function OT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?kp(r.config,o):`${r.config.apiScheme}://${o}`;return fI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class pI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ji(this.auth,"network-request-failed")),dI.get())})}}function ch(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ji(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(r,e){return $o(r,"POST","/v1/accounts:delete",e)}async function Mh(r,e){return $o(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yI(r,e=!1){const n=Ft(r),s=await n.getIdToken(e),o=Lp(s);ke(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:ru(Mm(o.auth_time)),issuedAtTime:ru(Mm(o.iat)),expirationTime:ru(Mm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Mm(r){return Number(r)*1e3}function Lp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=gT(n);return o?JSON.parse(o):(vh("Failed to decode base64 JWT payload"),null)}catch(o){return vh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function b0(r){const e=Lp(r);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ts&&vI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function vI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await du(r,Mh(n,{idToken:s}));ke(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?VT(u.providerUserInfo):[],m=TI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new tp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function EI(r){const e=Ft(r);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function VT(r){return r.map(e=>{var{providerId:n}=e,s=Mp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(r,e){const n=await MT(r,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await OT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Yo(r.emulatorConfig.host)&&(p.credentials="include"),NT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bI(r,e){return $o(r,"POST","/v2/accounts:revokeToken",Pp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=b0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await wI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Vo;return s&&(ke(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ke(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ke(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(r,e){ke(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _I(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new tp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await du(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yI(this,e)}reload(){return EI(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vi(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await du(this,gI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,G=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ue=(g=n.createdAt)!==null&&g!==void 0?g:void 0,he=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:be,isAnonymous:Le,providerData:xe,stsTokenManager:N}=n;ke(re&&N,e,"internal-error");const I=Vo.fromJSON(this.name,N);ke(typeof re=="string",e,"internal-error"),ks(w,e.name),ks(A,e.name),ke(typeof be=="boolean",e,"internal-error"),ke(typeof Le=="boolean",e,"internal-error"),ks(V,e.name),ks(G,e.name),ks(Z,e.name),ks(L,e.name),ks(ue,e.name),ks(he,e.name);const C=new Xi({uid:re,auth:e,email:A,emailVerified:be,displayName:w,isAnonymous:Le,photoURL:G,phoneNumber:V,tenantId:Z,stsTokenManager:I,createdAt:ue,lastLoginAt:he});return xe&&Array.isArray(xe)&&(C.providerData=xe.map(O=>Object.assign({},O))),L&&(C._redirectEventId=L),C}static async _fromIdTokenResponse(e,n,s=!1){const o=new Vo;o.updateFromServerResponse(n);const u=new Xi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Oh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ke(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?VT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Vo;m.updateFromIdToken(s);const p=new Xi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=new Map;function Gr(r){Xr(r instanceof Function,"Expected a class definition");let e=S0.get(r);return e?(Xr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,S0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kT.type="NONE";const np=kT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(r,e,n){return`firebase:${r}:${e}:${n}`}class ko{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,u),this.fullPersistenceKey=_h("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?Xi._fromGetAccountInfoResponse(this.auth,n,e):null}return Xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ko(Gr(np),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Gr(np);const f=_h(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const A=await Mh(e,{idToken:E}).catch(()=>{});if(!A)break;w=await Xi._fromGetAccountInfoResponse(e,A,E)}else w=Xi._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ko(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ko(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BT(e))return"Blackberry";if(qT(e))return"Webos";if(LT(e))return"Safari";if((e.includes("chrome/")||UT(e))&&!e.includes("edge/"))return"Chrome";if(jT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function PT(r=Mn()){return/firefox\//i.test(r)}function LT(r=Mn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UT(r=Mn()){return/crios\//i.test(r)}function zT(r=Mn()){return/iemobile/i.test(r)}function jT(r=Mn()){return/android/i.test(r)}function BT(r=Mn()){return/blackberry/i.test(r)}function qT(r=Mn()){return/webos/i.test(r)}function Up(r=Mn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function SI(r=Mn()){var e;return Up(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AI(){return BR()&&document.documentMode===10}function HT(r=Mn()){return Up(r)||jT(r)||qT(r)||BT(r)||/windows phone/i.test(r)||zT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(r,e=[]){let n;switch(r){case"Browser":n=A0(Mn());break;case"Worker":n=`${A0(Mn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ko}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(r,e={}){return $o(r,"GET","/v2/passwordPolicy",Pp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=6;class xI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:CI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R0(this),this.idTokenSubscription=new R0(this),this.beforeStateQueue=new RI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),s=await Xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vi(this.app))return Promise.reject(Fs(this));const n=e?Ft(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vi(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vi(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await II(this),n=new xI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await bI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gr(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&oI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ru(r){return Ft(r)}class R0{constructor(e){this.auth=e,this.observer=null,this.addObserver=$R(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NI(r){zp=r}function MI(r){return zp.loadJS(r)}function OI(){return zp.gapiScript}function VI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(r,e){const n=Np(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ks(u,e??{}))return o;_r(o,"already-initialized")}return n.initialize({options:e})}function PI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Gr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function LI(r,e,n){const s=Ru(r);ke(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=GT(e),{host:f,port:m}=UI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ke(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ke(Ks(g,s.config.emulator)&&Ks(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Yo(f)?(ET(`${u}//${f}${p}`),TT("Auth",!0)):zI()}function GT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function UI(r){const e=GT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:I0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:I0(f)}}}function I0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function zI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(r,e){return mI(r,"POST","/v1/accounts:signInWithIdp",Pp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="http://localhost";class za extends QT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Mp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new za(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Po(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Po(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Po(e,n)}buildRequest(){const e={requestUri:jI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends ef{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Iu{constructor(){super("facebook.com")}static credential(e){return za._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return za._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Hr.credential(n,s)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Iu{constructor(){super("github.com")}static credential(e){return za._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Iu{constructor(){super("twitter.com")}static credential(e,n){return za._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Us.credential(n,s)}catch{return null}}}Us.TWITTER_SIGN_IN_METHOD="twitter.com";Us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Xi._fromIdTokenResponse(e,s,o),f=C0(s);return new zo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=C0(s);return new zo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function C0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends ts{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Vh(e,n,s,o)}}function YT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(r,u,e,s):u})}async function BI(r,e,n=!1){const s=await du(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return zo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(r,e,n=!1){const{auth:s}=r;if(Vi(s.app))return Promise.reject(Fs(s));const o="reauthenticate";try{const u=await du(r,YT(s,o,e,r),n);ke(u.idToken,s,"internal-error");const f=Lp(u.idToken);ke(f,s,"internal-error");const{sub:m}=f;return ke(r.uid===m,s,"user-mismatch"),zo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&_r(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(r,e,n=!1){if(Vi(r.app))return Promise.reject(Fs(r));const s="signIn",o=await YT(r,s,e),u=await zo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(r,e){return Ft(r).setPersistence(e)}function FI(r,e,n,s){return Ft(r).onIdTokenChanged(e,n,s)}function GI(r,e,n){return Ft(r).beforeAuthStateChanged(e,n)}function KT(r,e,n,s){return Ft(r).onAuthStateChanged(e,n,s)}function QI(r){return Ft(r).signOut()}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=1e3,KI=10;class XT extends $T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);AI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,KI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},YI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XT.type="LOCAL";const tf=XT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT extends $T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JT.type="SESSION";const WT=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new nf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await $I(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=jp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function JI(r){pr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function WI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function eC(){return ZT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="firebaseLocalStorageDb",tC=1,Ph="firebaseLocalStorage",t1="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(r,e){return r.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function nC(){const r=indexedDB.deleteDatabase(e1);return new Cu(r).toPromise()}function ip(){const r=indexedDB.open(e1,tC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ph,{keyPath:t1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ph)?e(s):(s.close(),await nC(),e(await ip()))})})}async function x0(r,e,n){const s=rf(r,!0).put({[t1]:e,value:n});return new Cu(s).toPromise()}async function iC(r,e){const n=rf(r,!1).get(e),s=await new Cu(n).toPromise();return s===void 0?null:s.value}function D0(r,e){const n=rf(r,!0).delete(e);return new Cu(n).toPromise()}const rC=800,sC=3;class n1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ip(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>sC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(eC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WI(),!this.activeServiceWorker)return;this.sender=new XI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ip();return await x0(e,kh,"1"),await D0(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>x0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>iC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>D0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=rf(o,!1).getAll();return new Cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n1.type="LOCAL";const i1=n1;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(r,e){return e?Gr(e):(ke(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends QT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aC(r){return HI(r.auth,new qp(r),r.bypassAuthState)}function oC(r){const{auth:e,user:n}=r;return ke(n,e,"internal-error"),qI(n,new qp(r),r.bypassAuthState)}async function lC(r){const{auth:e,user:n}=r;return ke(n,e,"internal-error"),BI(n,new qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aC;case"linkViaPopup":case"linkViaRedirect":return lC;case"reauthViaPopup":case"reauthViaRedirect":return oC;default:_r(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new Au(2e3,1e4);async function cC(r,e,n){if(Vi(r.app))return Promise.reject(Ji(r,"operation-not-supported-in-this-environment"));const s=Ru(r);DT(r,e,ef);const o=Bp(s,n);return new ka(s,"signInViaPopup",e,o).executeNotNull()}class ka extends r1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uC.get())};e()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="pendingRedirect",Eh=new Map;class fC extends r1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const s=await dC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dC(r,e){const n=a1(e),s=s1(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function mC(r,e){return s1(r)._set(a1(e),"true")}function pC(r,e){Eh.set(r._key(),e)}function s1(r){return Gr(r._redirectPersistence)}function a1(r){return _h(hC,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r,e,n){return gC(r,e,n)}async function gC(r,e,n){if(Vi(r.app))return Promise.reject(Fs(r));const s=Ru(r);DT(r,e,ef),await s._initializationPromise;const o=Bp(s,n);return await mC(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function yC(r,e,n=!1){if(Vi(r.app))return Promise.reject(Fs(r));const s=Ru(r),o=Bp(s,e),f=await new fC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=600*1e3;class _C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!o1(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ji(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vC&&this.cachedEventUids.clear(),this.cachedEventUids.has(M0(e))}saveEventToCache(e){this.cachedEventUids.add(M0(e)),this.lastProcessedEventTime=Date.now()}}function M0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function o1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(r,e={}){return $o(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bC=/^https?/;async function SC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await TC(r);for(const n of e)try{if(AC(n))return}catch{}_r(r,"unauthorized-domain")}function AC(r){const e=ep(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!bC.test(n))return!1;if(wC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new Au(3e4,6e4);function O0(){const r=pr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function IC(r){return new Promise((e,n)=>{var s,o,u;function f(){O0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O0(),n(Ji(r,"network-request-failed"))},timeout:RC.get()})}if(!((o=(s=pr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=pr().gapi)===null||u===void 0)&&u.load)f();else{const m=VI("iframefcb");return pr()[m]=()=>{gapi.load?f():n(Ji(r,"network-request-failed"))},MI(`${OI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Th=null,e})}let Th=null;function CC(r){return Th=Th||IC(r),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new Au(5e3,15e3),DC="__/auth/iframe",NC="emulator/auth/iframe",MC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VC(r){const e=r.config;ke(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?kp(e,NC):`https://${r.config.authDomain}/${DC}`,s={apiKey:e.apiKey,appName:r.name,v:Ko},o=OC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Su(s).slice(1)}`}async function kC(r){const e=await CC(r),n=pr().gapi;return ke(n,r,"internal-error"),e.open({where:document.body,url:VC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ji(r,"network-request-failed"),m=pr().setTimeout(()=>{u(f)},xC.get());function p(){pr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LC=500,UC=600,zC="_blank",jC="http://localhost";class V0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BC(r,e,n,s=LC,o=UC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},PC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Mn().toLowerCase();n&&(m=UT(g)?zC:n),PT(g)&&(e=e||jC,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[V,G])=>`${A}${V}=${G},`,"");if(SI(g)&&m!=="_self")return qC(e||"",m),new V0(null);const w=window.open(e||"",m,E);ke(w,r,"popup-blocked");try{w.focus()}catch{}return new V0(w)}function qC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="__/auth/handler",FC="emulator/auth/handler",GC=encodeURIComponent("fac");async function k0(r,e,n,s,o,u){ke(r.config.authDomain,r,"auth-domain-config-required"),ke(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ko,eventId:o};if(e instanceof ef){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",KR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Iu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${GC}=${encodeURIComponent(p)}`:"";return`${QC(r)}?${Su(m).slice(1)}${g}`}function QC({config:r}){return r.emulator?kp(r,FC):`https://${r.authDomain}/${HC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class YC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WT,this._completeRedirectFn=yC,this._overrideRedirectResult=pC}async _openPopup(e,n,s,o){var u;Xr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await k0(e,n,s,ep(),o);return BC(e,f,jp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await k0(e,n,s,ep(),o);return JI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Xr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await kC(e),s=new _C(e);return n.register("authEvent",o=>(ke(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Om];f!==void 0&&n(!!f),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HT()||LT()||Up()}}const KC=YC;var P0="@firebase/auth",L0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JC(r){Uo(new Ua("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ke(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FT(r)},g=new DI(s,o,u,p);return PI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Uo(new Ua("auth-internal",e=>{const n=Ru(e.getProvider("auth").getImmediate());return(s=>new $C(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hs(P0,L0,XC(r)),Hs(P0,L0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=300,ZC=_T("authIdTokenMaxAge")||WC;let U0=null;const ex=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZC)return;const o=n==null?void 0:n.token;U0!==o&&(U0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tx(r=AT()){const e=Np(r,"auth");if(e.isInitialized())return e.getImmediate();const n=kI(r,{popupRedirectResolver:KC,persistence:[i1,tf,WT]}),s=_T("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=ex(u.toString());GI(n,f,()=>f(n.currentUser)),FI(n,m=>f(m))}}const o=yT("auth");return o&&LI(n,`http://${o}`),n}function nx(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}NI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ji("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",nx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JC("Browser");var z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gs,l1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function C(){}C.prototype=I.prototype,N.D=I.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(O,k,B){for(var D=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)D[Ct-2]=arguments[Ct];return I.prototype[k].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,I,C){C||(C=0);var O=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)O[k]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(k=0;16>k;++k)O[k]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=N.g[0],C=N.g[1],k=N.g[2];var B=N.g[3],D=I+(B^C&(k^B))+O[0]+3614090360&4294967295;I=C+(D<<7&4294967295|D>>>25),D=B+(k^I&(C^k))+O[1]+3905402710&4294967295,B=I+(D<<12&4294967295|D>>>20),D=k+(C^B&(I^C))+O[2]+606105819&4294967295,k=B+(D<<17&4294967295|D>>>15),D=C+(I^k&(B^I))+O[3]+3250441966&4294967295,C=k+(D<<22&4294967295|D>>>10),D=I+(B^C&(k^B))+O[4]+4118548399&4294967295,I=C+(D<<7&4294967295|D>>>25),D=B+(k^I&(C^k))+O[5]+1200080426&4294967295,B=I+(D<<12&4294967295|D>>>20),D=k+(C^B&(I^C))+O[6]+2821735955&4294967295,k=B+(D<<17&4294967295|D>>>15),D=C+(I^k&(B^I))+O[7]+4249261313&4294967295,C=k+(D<<22&4294967295|D>>>10),D=I+(B^C&(k^B))+O[8]+1770035416&4294967295,I=C+(D<<7&4294967295|D>>>25),D=B+(k^I&(C^k))+O[9]+2336552879&4294967295,B=I+(D<<12&4294967295|D>>>20),D=k+(C^B&(I^C))+O[10]+4294925233&4294967295,k=B+(D<<17&4294967295|D>>>15),D=C+(I^k&(B^I))+O[11]+2304563134&4294967295,C=k+(D<<22&4294967295|D>>>10),D=I+(B^C&(k^B))+O[12]+1804603682&4294967295,I=C+(D<<7&4294967295|D>>>25),D=B+(k^I&(C^k))+O[13]+4254626195&4294967295,B=I+(D<<12&4294967295|D>>>20),D=k+(C^B&(I^C))+O[14]+2792965006&4294967295,k=B+(D<<17&4294967295|D>>>15),D=C+(I^k&(B^I))+O[15]+1236535329&4294967295,C=k+(D<<22&4294967295|D>>>10),D=I+(k^B&(C^k))+O[1]+4129170786&4294967295,I=C+(D<<5&4294967295|D>>>27),D=B+(C^k&(I^C))+O[6]+3225465664&4294967295,B=I+(D<<9&4294967295|D>>>23),D=k+(I^C&(B^I))+O[11]+643717713&4294967295,k=B+(D<<14&4294967295|D>>>18),D=C+(B^I&(k^B))+O[0]+3921069994&4294967295,C=k+(D<<20&4294967295|D>>>12),D=I+(k^B&(C^k))+O[5]+3593408605&4294967295,I=C+(D<<5&4294967295|D>>>27),D=B+(C^k&(I^C))+O[10]+38016083&4294967295,B=I+(D<<9&4294967295|D>>>23),D=k+(I^C&(B^I))+O[15]+3634488961&4294967295,k=B+(D<<14&4294967295|D>>>18),D=C+(B^I&(k^B))+O[4]+3889429448&4294967295,C=k+(D<<20&4294967295|D>>>12),D=I+(k^B&(C^k))+O[9]+568446438&4294967295,I=C+(D<<5&4294967295|D>>>27),D=B+(C^k&(I^C))+O[14]+3275163606&4294967295,B=I+(D<<9&4294967295|D>>>23),D=k+(I^C&(B^I))+O[3]+4107603335&4294967295,k=B+(D<<14&4294967295|D>>>18),D=C+(B^I&(k^B))+O[8]+1163531501&4294967295,C=k+(D<<20&4294967295|D>>>12),D=I+(k^B&(C^k))+O[13]+2850285829&4294967295,I=C+(D<<5&4294967295|D>>>27),D=B+(C^k&(I^C))+O[2]+4243563512&4294967295,B=I+(D<<9&4294967295|D>>>23),D=k+(I^C&(B^I))+O[7]+1735328473&4294967295,k=B+(D<<14&4294967295|D>>>18),D=C+(B^I&(k^B))+O[12]+2368359562&4294967295,C=k+(D<<20&4294967295|D>>>12),D=I+(C^k^B)+O[5]+4294588738&4294967295,I=C+(D<<4&4294967295|D>>>28),D=B+(I^C^k)+O[8]+2272392833&4294967295,B=I+(D<<11&4294967295|D>>>21),D=k+(B^I^C)+O[11]+1839030562&4294967295,k=B+(D<<16&4294967295|D>>>16),D=C+(k^B^I)+O[14]+4259657740&4294967295,C=k+(D<<23&4294967295|D>>>9),D=I+(C^k^B)+O[1]+2763975236&4294967295,I=C+(D<<4&4294967295|D>>>28),D=B+(I^C^k)+O[4]+1272893353&4294967295,B=I+(D<<11&4294967295|D>>>21),D=k+(B^I^C)+O[7]+4139469664&4294967295,k=B+(D<<16&4294967295|D>>>16),D=C+(k^B^I)+O[10]+3200236656&4294967295,C=k+(D<<23&4294967295|D>>>9),D=I+(C^k^B)+O[13]+681279174&4294967295,I=C+(D<<4&4294967295|D>>>28),D=B+(I^C^k)+O[0]+3936430074&4294967295,B=I+(D<<11&4294967295|D>>>21),D=k+(B^I^C)+O[3]+3572445317&4294967295,k=B+(D<<16&4294967295|D>>>16),D=C+(k^B^I)+O[6]+76029189&4294967295,C=k+(D<<23&4294967295|D>>>9),D=I+(C^k^B)+O[9]+3654602809&4294967295,I=C+(D<<4&4294967295|D>>>28),D=B+(I^C^k)+O[12]+3873151461&4294967295,B=I+(D<<11&4294967295|D>>>21),D=k+(B^I^C)+O[15]+530742520&4294967295,k=B+(D<<16&4294967295|D>>>16),D=C+(k^B^I)+O[2]+3299628645&4294967295,C=k+(D<<23&4294967295|D>>>9),D=I+(k^(C|~B))+O[0]+4096336452&4294967295,I=C+(D<<6&4294967295|D>>>26),D=B+(C^(I|~k))+O[7]+1126891415&4294967295,B=I+(D<<10&4294967295|D>>>22),D=k+(I^(B|~C))+O[14]+2878612391&4294967295,k=B+(D<<15&4294967295|D>>>17),D=C+(B^(k|~I))+O[5]+4237533241&4294967295,C=k+(D<<21&4294967295|D>>>11),D=I+(k^(C|~B))+O[12]+1700485571&4294967295,I=C+(D<<6&4294967295|D>>>26),D=B+(C^(I|~k))+O[3]+2399980690&4294967295,B=I+(D<<10&4294967295|D>>>22),D=k+(I^(B|~C))+O[10]+4293915773&4294967295,k=B+(D<<15&4294967295|D>>>17),D=C+(B^(k|~I))+O[1]+2240044497&4294967295,C=k+(D<<21&4294967295|D>>>11),D=I+(k^(C|~B))+O[8]+1873313359&4294967295,I=C+(D<<6&4294967295|D>>>26),D=B+(C^(I|~k))+O[15]+4264355552&4294967295,B=I+(D<<10&4294967295|D>>>22),D=k+(I^(B|~C))+O[6]+2734768916&4294967295,k=B+(D<<15&4294967295|D>>>17),D=C+(B^(k|~I))+O[13]+1309151649&4294967295,C=k+(D<<21&4294967295|D>>>11),D=I+(k^(C|~B))+O[4]+4149444226&4294967295,I=C+(D<<6&4294967295|D>>>26),D=B+(C^(I|~k))+O[11]+3174756917&4294967295,B=I+(D<<10&4294967295|D>>>22),D=k+(I^(B|~C))+O[2]+718787259&4294967295,k=B+(D<<15&4294967295|D>>>17),D=C+(B^(k|~I))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+B&4294967295}s.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var C=I-this.blockSize,O=this.B,k=this.h,B=0;B<I;){if(k==0)for(;B<=C;)o(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<I;)if(O[k++]=N.charCodeAt(B++),k==this.blockSize){o(this,O),k=0;break}}else for(;B<I;)if(O[k++]=N[B++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=I},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var C=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=C&255,C/=256;for(this.u(N),N=Array(16),I=C=0;4>I;++I)for(var O=0;32>O;O+=8)N[C++]=this.g[I]>>>O&255;return N};function u(N,I){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=I(N)}function f(N,I){this.h=I;for(var C=[],O=!0,k=N.length-1;0<=k;k--){var B=N[k]|0;O&&B==I||(C[k]=B,O=!1)}this.g=C}var m={};function p(N){return-128<=N&&128>N?u(N,function(I){return new f([I|0],0>I?-1:0)}):new f([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return L(g(-N));for(var I=[],C=1,O=0;N>=C;O++)I[O]=N/C|0,C*=4294967296;return new f(I,0)}function E(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return L(E(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(I,8)),O=w,k=0;k<N.length;k+=8){var B=Math.min(8,N.length-k),D=parseInt(N.substring(k,k+B),I);8>B?(B=g(Math.pow(I,B)),O=O.j(B).add(g(D))):(O=O.j(C),O=O.add(g(D)))}return O}var w=p(0),A=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(Z(this))return-L(this).m();for(var N=0,I=1,C=0;C<this.g.length;C++){var O=this.i(C);N+=(0<=O?O:4294967296+O)*I,I*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(G(this))return"0";if(Z(this))return"-"+L(this).toString(N);for(var I=g(Math.pow(N,6)),C=this,O="";;){var k=be(C,I).g;C=ue(C,k.j(I));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=k,G(C))return B+O;for(;6>B.length;)B="0"+B;O=B+O}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function G(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function Z(N){return N.h==-1}r.l=function(N){return N=ue(this,N),Z(N)?-1:G(N)?0:1};function L(N){for(var I=N.g.length,C=[],O=0;O<I;O++)C[O]=~N.g[O];return new f(C,~N.h).add(A)}r.abs=function(){return Z(this)?L(this):this},r.add=function(N){for(var I=Math.max(this.g.length,N.g.length),C=[],O=0,k=0;k<=I;k++){var B=O+(this.i(k)&65535)+(N.i(k)&65535),D=(B>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);O=D>>>16,B&=65535,D&=65535,C[k]=D<<16|B}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ue(N,I){return N.add(L(I))}r.j=function(N){if(G(this)||G(N))return w;if(Z(this))return Z(N)?L(this).j(L(N)):L(L(this).j(N));if(Z(N))return L(this.j(L(N)));if(0>this.l(V)&&0>N.l(V))return g(this.m()*N.m());for(var I=this.g.length+N.g.length,C=[],O=0;O<2*I;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<N.g.length;k++){var B=this.i(O)>>>16,D=this.i(O)&65535,Ct=N.i(k)>>>16,Ot=N.i(k)&65535;C[2*O+2*k]+=D*Ot,he(C,2*O+2*k),C[2*O+2*k+1]+=B*Ot,he(C,2*O+2*k+1),C[2*O+2*k+1]+=D*Ct,he(C,2*O+2*k+1),C[2*O+2*k+2]+=B*Ct,he(C,2*O+2*k+2)}for(O=0;O<I;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=I;O<2*I;O++)C[O]=0;return new f(C,0)};function he(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function re(N,I){this.g=N,this.h=I}function be(N,I){if(G(I))throw Error("division by zero");if(G(N))return new re(w,w);if(Z(N))return I=be(L(N),I),new re(L(I.g),L(I.h));if(Z(I))return I=be(N,L(I)),new re(L(I.g),I.h);if(30<N.g.length){if(Z(N)||Z(I))throw Error("slowDivide_ only works with positive integers.");for(var C=A,O=I;0>=O.l(N);)C=Le(C),O=Le(O);var k=xe(C,1),B=xe(O,1);for(O=xe(O,2),C=xe(C,2);!G(O);){var D=B.add(O);0>=D.l(N)&&(k=k.add(C),B=D),O=xe(O,1),C=xe(C,1)}return I=ue(N,k.j(I)),new re(k,I)}for(k=w;0<=N.l(I);){for(C=Math.max(1,Math.floor(N.m()/I.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),B=g(C),D=B.j(I);Z(D)||0<D.l(N);)C-=O,B=g(C),D=B.j(I);G(B)&&(B=A),k=k.add(B),N=ue(N,D)}return new re(k,N)}r.A=function(N){return be(this,N).h},r.and=function(N){for(var I=Math.max(this.g.length,N.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)&N.i(O);return new f(C,this.h&N.h)},r.or=function(N){for(var I=Math.max(this.g.length,N.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)|N.i(O);return new f(C,this.h|N.h)},r.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)^N.i(O);return new f(C,this.h^N.h)};function Le(N){for(var I=N.g.length+1,C=[],O=0;O<I;O++)C[O]=N.i(O)<<1|N.i(O-1)>>>31;return new f(C,N.h)}function xe(N,I){var C=I>>5;I%=32;for(var O=N.g.length-C,k=[],B=0;B<O;B++)k[B]=0<I?N.i(B+C)>>>I|N.i(B+C+1)<<32-I:N.i(B+C);return new f(k,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,l1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Gs=f}).apply(typeof z0<"u"?z0:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u1,Wl,c1,wh,rp,h1,f1,d1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var F=c[S];if(!(F in _))break e;_=_[F]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,F={next:function(){if(!S&&_<c.length){var W=_++;return{value:y(W,c[W]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function V(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function G(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,F,W){for(var me=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)me[ft-2]=arguments[ft];return y.prototype[F].apply(S,me)}}function Z(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const F=c.length||0,W=S.length||0;c.length=F+W;for(let me=0;me<W;me++)c[F+me]=S[me]}else c.push(S)}}class ue{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function he(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function be(c){return be[" "](c),c}be[" "]=function(){};var Le=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function xe(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function I(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(_ in S)c[_]=S[_];for(let W=0;W<C.length;W++)_=C[W],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function B(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Ge;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ct{constructor(){this.h=this.g=null}add(y,_){const S=Ot.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Ot=new ue(()=>new ee,c=>c.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let de,we=!1,Ge=new Ct,q=()=>{const c=m.Promise.resolve(void 0);de=()=>{c.then(T)}};var T=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){B(_)}var y=Ot;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}we=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var oe=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c})();function le(c,y){if(J.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Le){e:{try{be(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&le.aa.h.call(this)}}G(le,J);var pe={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Se(c,y,_,S,F){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=F,this.key=++Ee,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c){this.src=c,this.g={},this.h=0}Ue.prototype.add=function(c,y,_,S,F){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var me=ct(c,y,S,F);return-1<me?(y=c[me],_||(y.fa=!1)):(y=new Se(y,this.src,W,!!S,F),y.fa=_,c.push(y)),y};function Fe(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],F=Array.prototype.indexOf.call(S,y,void 0),W;(W=0<=F)&&Array.prototype.splice.call(S,F,1),W&&(Qe(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ct(c,y,_,S){for(var F=0;F<c.length;++F){var W=c[F];if(!W.da&&W.listener==y&&W.capture==!!_&&W.ha==S)return F}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),ze={};function dt(c,y,_,S,F){if(Array.isArray(y)){for(var W=0;W<y.length;W++)dt(c,y[W],_,S,F);return null}return _=ns(_),c&&c[fe]?c.K(y,_,g(S)?!!S.capture:!1,F):xt(c,y,_,!1,S,F)}function xt(c,y,_,S,F,W){if(!y)throw Error("Invalid event type");var me=g(F)?!!F.capture:!!F,ft=Tr(c);if(ft||(c[Re]=ft=new Ue(c)),_=ft.add(y,_,S,me,W),_.proxy)return _;if(S=Vt(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)oe||(F=me),F===void 0&&(F=!1),c.addEventListener(y.toString(),S,F);else if(c.attachEvent)c.attachEvent(Zi(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Vt(){function c(_){return y.call(c.src,c.listener,_)}const y=sa;return c}function Gt(c,y,_,S,F){if(Array.isArray(y))for(var W=0;W<y.length;W++)Gt(c,y[W],_,S,F);else S=g(S)?!!S.capture:!!S,_=ns(_),c&&c[fe]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],_=ct(W,_,S,F),-1<_&&(Qe(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=Tr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ct(y,_,S,F)),(_=-1<c?y[c]:null)&&Ut(_))}function Ut(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[fe])Fe(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(Zi(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Tr(y))?(Fe(_,c),_.h==0&&(_.src=null,y[Re]=null)):Qe(c)}}}function Zi(c){return c in ze?ze[c]:ze[c]="on"+c}function sa(c,y){if(c.da)c=!0;else{y=new le(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Ut(c),c=_.call(S,y)}return c}function Tr(c){return c=c[Re],c instanceof Ue?c:null}var zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ns(c){return typeof c=="function"?c:(c[zt]||(c[zt]=function(y){return c.handleEvent(y)}),c[zt])}function Dt(){j.call(this),this.i=new Ue(this),this.M=this,this.F=null}G(Dt,j),Dt.prototype[fe]=!0,Dt.prototype.removeEventListener=function(c,y,_,S){Gt(this,c,y,_,S)};function jt(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new J(y,c);else if(y instanceof J)y.target=y.target||c;else{var F=y;y=new J(S,c),O(y,F)}if(F=!0,_)for(var W=_.length-1;0<=W;W--){var me=y.g=_[W];F=Rn(me,S,!0,y)&&F}if(me=y.g=c,F=Rn(me,S,!0,y)&&F,F=Rn(me,S,!1,y)&&F,_)for(W=0;W<_.length;W++)me=y.g=_[W],F=Rn(me,S,!1,y)&&F}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)Qe(_[S]);delete c.g[y],c.h--}}this.F=null},Dt.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},Dt.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function Rn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,W=0;W<y.length;++W){var me=y[W];if(me&&!me.da&&me.capture==_){var ft=me.listener,Jt=me.ha||me.src;me.fa&&Fe(c.i,me),F=ft.call(Jt,S)!==!1&&F}}return F&&!S.defaultPrevented}function er(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Zn(c){c.g=er(()=>{c.g=null,c.i&&(c.i=!1,Zn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Li extends j{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Zn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yi(c){j.call(this),this.h=c,this.g={}}G(yi,j);var vi=[];function $t(c){xe(c.g,function(y,_){this.g.hasOwnProperty(_)&&Ut(y)},c),c.g={}}yi.prototype.N=function(){yi.aa.N.call(this),$t(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=m.JSON.stringify,kt=m.JSON.parse,qn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function aa(){}aa.prototype.h=null;function oa(c){return c.h||(c.h=c.i())}function Ui(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){J.call(this,"d")}G(tr,J);function Vn(){J.call(this,"c")}G(Vn,J);var an={},ei=null;function wr(){return ei=ei||new Dt}an.La="serverreachability";function la(c){J.call(this,an.La,c)}G(la,J);function Ei(c){const y=wr();jt(y,new la(y))}an.STAT_EVENT="statevent";function nr(c,y){J.call(this,an.STAT_EVENT,c),this.stat=y}G(nr,J);function on(c){const y=wr();jt(y,new nr(y,c))}an.Ma="timingevent";function ua(c,y){J.call(this,an.Ma,c),this.size=y}G(ua,J);function ir(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function rr(){this.g=!0}rr.prototype.xa=function(){this.g=!1};function zi(c,y,_,S,F,W){c.info(function(){if(c.g)if(W)for(var me="",ft=W.split("&"),Jt=0;Jt<ft.length;Jt++){var Ke=ft[Jt].split("=");if(1<Ke.length){var fn=Ke[0];Ke=Ke[1];var dn=fn.split("_");me=2<=dn.length&&dn[1]=="type"?me+(fn+"="+Ke+"&"):me+(fn+"=redacted&")}}else me=null;else me=W;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+y+`
`+_+`
`+me})}function ji(c,y,_,S,F,W,me){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+y+`
`+_+`
`+W+" "+me})}function In(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+kn(c,_)+(S?" "+S:"")})}function wt(c,y){c.info(function(){return"TIMEOUT: "+y})}rr.prototype.info=function(){};function kn(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var me=1;me<F.length;me++)F[me]=""}}}}return On(_)}catch{return y}}var Et={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function sr(){}G(sr,aa),sr.prototype.g=function(){return new XMLHttpRequest},sr.prototype.i=function(){return{}},Pn=new sr;function Ti(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new yi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qa}function Qa(){this.i=null,this.g="",this.h=!1}var ca={},Bi={};function wi(c,y,_){c.L=1,c.v=fa(Ye(y)),c.m=_,c.P=!0,qi(c,null)}function qi(c,y){c.F=Date.now(),ti(c),c.A=Ye(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Sr(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Qa,c.g=ec(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Li(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(vi[0]=F.toString()),F=vi);for(var W=0;W<F.length;W++){var me=dt(_,F[W],S||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ei(),zi(c.i,c.u,c.A,c.l,c.R,c.m)}Ti.prototype.ca=function(c){c=c.target;const y=this.M;y&&Un(c)==3?y.j():this.Y(c)},Ti.prototype.Y=function(c){try{if(c==this.g)e:{const dn=Un(this.g);var y=this.g.Ba();const fs=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||pa(this.g)))){this.J||dn!=4||y==7||(y==8||0>=fs?Ei(3):Ei(2)),Hn(this);var _=this.g.Z();this.X=_;t:if(Hi(this)){var S=pa(this.g);c="";var F=S.length,W=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){H(this),R(this);var me="";break t}this.h.i=new m.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(W&&y==F-1)});S.length=0,this.h.g+=c,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=_==200,ji(this.i,this.u,this.A,this.l,this.R,dn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,Jt=this.g;if((ft=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!he(ft)){var Ke=ft;break t}}Ke=null}if(_=Ke)In(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$(this,_);else{this.o=!1,this.s=3,on(12),H(this),R(this);break e}}if(this.P){_=!0;let Gn;for(;!this.J&&this.C<me.length;)if(Gn=br(this,me),Gn==Bi){dn==4&&(this.s=4,on(14),_=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(Gn==ca){this.s=4,on(15),In(this.i,this.l,me,"[Invalid Chunk]"),_=!1;break}else In(this.i,this.l,Gn,null),$(this,Gn);if(Hi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||me.length!=0||this.h.h||(this.s=1,on(16),_=!1),this.o=this.o&&_,!_)In(this.i,this.l,me,"[Invalid Chunked Response]"),H(this),R(this);else if(0<me.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),ul(fn),fn.M=!0,on(11))}}else In(this.i,this.l,me,null),$(this,me);dn==4&&H(this),this.o&&!this.J&&(dn==4?Ju(this.j,this):(this.o=!1,ti(this)))}else Gu(this.g),_==400&&0<me.indexOf("Unknown SID")?(this.s=3,on(12)):(this.s=0,on(13)),H(this),R(this)}}}catch{}finally{}};function Hi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function br(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?Bi:(_=Number(y.substring(_,S)),isNaN(_)?ca:(S+=1,S+_>y.length?Bi:(y=y.slice(S,S+_),c.C=S+_,y)))}Ti.prototype.cancel=function(){this.J=!0,H(this)};function ti(c){c.S=Date.now()+c.I,bt(c,c.I)}function bt(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ir(A(c.ba,c),y)}function Hn(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Ti.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(wt(this.i,this.A),this.L!=2&&(Ei(),on(17)),H(this),this.s=2,R(this)):bt(this,this.S-c)};function R(c){c.j.G==0||c.J||Ju(c.j,c)}function H(c){Hn(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,$t(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function $(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||it(_.h,c))){if(!c.K&&it(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)cs(_),us(_);else break e;ll(_),on(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=ir(A(_.Za,_),6e3));if(1>=Ne(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Rr(_,11)}else if((c.K||_.g==c)&&cs(_),!he(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let Ke=F[y];if(_.T=Ke[0],Ke=Ke[1],_.G==2)if(Ke[0]=="c"){_.K=Ke[1],_.ia=Ke[2];const fn=Ke[3];fn!=null&&(_.la=fn,_.j.info("VER="+_.la));const dn=Ke[4];dn!=null&&(_.Aa=dn,_.j.info("SVER="+_.Aa));const fs=Ke[5];fs!=null&&typeof fs=="number"&&0<fs&&(S=1.5*fs,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Gn=c.g;if(Gn){const va=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var W=S.h;W.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(rt(W,W.h),W.h=null))}if(S.D){const Ir=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ir&&(S.ya=Ir,ot(S.I,S.D,Ir))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var me=c;if(S.qa=Zu(S,S.J?S.ia:null,S.W),me.K){je(S.h,me);var ft=me,Jt=S.L;Jt&&(ft.I=Jt),ft.B&&(Hn(ft),ti(ft)),S.g=me}else $u(S);0<_.i.length&&Wa(_)}else Ke[0]!="stop"&&Ke[0]!="close"||Rr(_,7);else _.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Rr(_,7):al(_):Ke[0]!="noop"&&_.l&&_.l.ta(Ke),_.v=0)}}Ei(4)}catch{}}var ce=class{constructor(c,y){this.g=c,this.map=y}};function ye(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oe(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ne(c){return c.h?1:c.g?c.g.size:0}function it(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function rt(c,y){c.g?c.g.add(y):c.h=y}function je(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ye.prototype.cancel=function(){if(this.i=Ce(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ce(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Z(c.i)}function Xt(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function bi(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Fi(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=bi(c),S=Xt(c),F=S.length,W=0;W<F;W++)y.call(void 0,S[W],_&&_[W],c)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ni(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),F=null;if(0<=S){var W=c[_].substring(0,S);F=c[_].substring(S+1)}else W=c[_];y(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ln(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ln){this.h=c.h,is(this,c.j),this.o=c.o,this.g=c.g,ha(this,c.s),this.l=c.l;var y=c.i,_=new ar;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ya(this,_),this.m=c.m}else c&&(y=String(c).match(Gi))?(this.h=!1,is(this,y[1]||"",!0),this.o=rs(y[2]||""),this.g=rs(y[3]||"",!0),ha(this,y[4]),this.l=rs(y[5]||"",!0),Ya(this,y[6]||"",!0),this.m=rs(y[7]||"")):(this.h=!1,this.i=new ar(null,this.h))}Ln.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Si(y,nl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Si(y,nl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Si(_,_.charAt(0)=="/"?il:Bu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Si(_,bf)),c.join("")};function Ye(c){return new Ln(c)}function is(c,y,_){c.j=_?rs(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ha(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ya(c,y,_){y instanceof ar?(c.i=y,qu(c.i,c.h)):(_||(y=Si(y,wf)),c.i=new ar(y,c.h))}function ot(c,y,_){c.i.set(y,_)}function fa(c){return ot(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function rs(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Si(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Tf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nl=/[#\/\?@]/g,Bu=/[#\?:]/g,il=/[#\?]/g,wf=/[#\?@]/g,bf=/#/g;function ar(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function hn(c){c.g||(c.g=new Map,c.h=0,c.i&&ni(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=ar.prototype,r.add=function(c,y){hn(this),this.i=null,c=ii(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ka(c,y){hn(c),y=ii(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function $a(c,y){return hn(c),y=ii(c,y),c.g.has(y)}r.forEach=function(c,y){hn(this),this.g.forEach(function(_,S){_.forEach(function(F){c.call(y,F,S,this)},this)},this)},r.na=function(){hn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const F=c[S];for(let W=0;W<F.length;W++)_.push(y[S])}return _},r.V=function(c){hn(this);let y=[];if(typeof c=="string")$a(this,c)&&(y=y.concat(this.g.get(ii(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return hn(this),this.i=null,c=ii(this,c),$a(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Sr(c,y,_){Ka(c,y),0<_.length&&(c.i=null,c.g.set(ii(c,y),Z(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const W=encodeURIComponent(String(S)),me=this.V(S);for(S=0;S<me.length;S++){var F=W;me[S]!==""&&(F+="="+encodeURIComponent(String(me[S]))),c.push(F)}}return this.i=c.join("&")};function ii(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function qu(c,y){y&&!c.j&&(hn(c),c.i=null,c.g.forEach(function(_,S){var F=S.toLowerCase();S!=F&&(Ka(this,S),Sr(this,F,_))},c)),c.j=y}function rl(c,y){const _=new rr;if(m.Image){const S=new Image;S.onload=V(Fn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=V(Fn,_,"TestLoadImage: error",!1,y,S),S.onabort=V(Fn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=V(Fn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Hu(c,y){const _=new rr,S=new AbortController,F=setTimeout(()=>{S.abort(),Fn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(W=>{clearTimeout(F),W.ok?Fn(_,"TestPingServer: ok",!0,y):Fn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Fn(_,"TestPingServer: error",!1,y)})}function Fn(c,y,_,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(_)}catch{}}function Qi(){this.g=new qn}function sl(c,y,_){const S=_||"";try{Fi(c,function(F,W){let me=F;g(F)&&(me=On(F)),y.push(S+W+"="+encodeURIComponent(me))})}catch(F){throw y.push(S+"type="+encodeURIComponent("_badmap")),F}}function or(c){this.l=c.Ub||null,this.j=c.eb||!1}G(or,aa),or.prototype.g=function(){return new ri(this.l,this.j)},or.prototype.i=(function(c){return function(){return c}})({});function ri(c,y){Dt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(ri,Dt),r=ri.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ss(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ss(this)),this.g&&(this.readyState=3,ss(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xa(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xa(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?lr(this):ss(this),this.readyState==3&&Xa(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,lr(this))},r.Qa=function(c){this.g&&(this.response=c,lr(this))},r.ga=function(){this.g&&lr(this)};function lr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ss(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ss(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function da(c){let y="";return xe(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function as(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=da(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ot(c,y,_))}function St(c){Dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(St,Dt);var Cn=/^https?$/i,Ar=["POST","PUT"];r=St.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?oa(this.o):oa(Pn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){ma(this,W);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)_.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const W of S.keys())_.set(W,S.get(W));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ar,y,void 0))||S||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,me]of _)this.g.setRequestHeader(W,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ja(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){ma(this,W)}};function ma(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,os(c),ls(c)}function os(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,jt(this,"complete"),jt(this,"abort"),ls(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),St.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Fu(this):this.bb())},r.bb=function(){Fu(this)};function Fu(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Un(c)!=4||c.Z()!=2)){if(c.u&&Un(c)==4)er(c.Ea,0,c);else if(jt(c,"readystatechange"),Un(c)==4){c.h=!1;try{const me=c.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=me===0){var F=String(c.D).match(Gi)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),S=!Cn.test(F?F.toLowerCase():"")}_=S}if(_)jt(c,"complete"),jt(c,"success");else{c.m=6;try{var W=2<Un(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",os(c)}}finally{ls(c)}}}}function ls(c,y){if(c.g){Ja(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||jt(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ja(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Un(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),kt(y)}};function pa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gu(c){const y={};c=(c.g&&2<=Un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(he(c[S]))continue;var _=k(c[S]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=y[F]||[];y[F]=W,W.push(_)}N(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ga(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Qu(c){this.Aa=0,this.i=[],this.j=new rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ga("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ga("baseRetryDelayMs",5e3,c),this.cb=ga("retryDelaySeedMs",1e4,c),this.Wa=ga("forwardChannelMaxRetries",2,c),this.wa=ga("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ye(c&&c.concurrentRequestLimit),this.Da=new Qi,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qu.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,S){on(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Zu(this,null,this.W),Wa(this)};function al(c){if(Yu(c),c.G==3){var y=c.U++,_=Ye(c.I);if(ot(_,"SID",c.K),ot(_,"RID",y),ot(_,"TYPE","terminate"),ya(c,_),y=new Ti(c,c.j,y),y.L=2,y.v=fa(Ye(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=ec(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ti(y)}cl(c)}function us(c){c.g&&(ul(c),c.g.cancel(),c.g=null)}function Yu(c){us(c),c.u&&(m.clearTimeout(c.u),c.u=null),cs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Wa(c){if(!Oe(c.h)&&!c.s){c.s=!0;var y=c.Ga;de||q(),we||(de(),we=!0),Ge.add(y,c),c.B=0}}function Sf(c,y){return Ne(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ir(A(c.Ga,c,y),Wu(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new Ti(this,this.j,c);let W=this.o;if(this.S&&(W?(W=I(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ol(this,F,y),_=Ye(this.I),ot(_,"RID",c),ot(_,"CVER",22),this.D&&ot(_,"X-HTTP-Session-Id",this.D),ya(this,_),W&&(this.O?y="headers="+encodeURIComponent(String(da(W)))+"&"+y:this.m&&as(_,this.m,W)),rt(this.h,F),this.Ua&&ot(_,"TYPE","init"),this.P?(ot(_,"$req",y),ot(_,"SID","null"),F.T=!0,wi(F,_,null)):wi(F,_,y),this.G=2}}else this.G==3&&(c?Ku(this,c):this.i.length==0||Oe(this.h)||Ku(this))};function Ku(c,y){var _;y?_=y.l:_=c.U++;const S=Ye(c.I);ot(S,"SID",c.K),ot(S,"RID",_),ot(S,"AID",c.T),ya(c,S),c.m&&c.o&&as(S,c.m,c.o),_=new Ti(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ol(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),rt(c.h,_),wi(_,S,y)}function ya(c,y){c.H&&xe(c.H,function(_,S){ot(y,S,_)}),c.l&&Fi({},function(_,S){ot(y,S,_)})}function ol(c,y,_){_=Math.min(c.i.length,_);var S=c.l?A(c.l.Na,c.l,c):null;e:{var F=c.i;let W=-1;for(;;){const me=["count="+_];W==-1?0<_?(W=F[0].g,me.push("ofs="+W)):W=0:me.push("ofs="+W);let ft=!0;for(let Jt=0;Jt<_;Jt++){let Ke=F[Jt].g;const fn=F[Jt].map;if(Ke-=W,0>Ke)W=Math.max(0,F[Jt].g-100),ft=!1;else try{sl(fn,me,"req"+Ke+"_")}catch{S&&S(fn)}}if(ft){S=me.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function $u(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;de||q(),we||(de(),we=!0),Ge.add(y,c),c.v=0}}function ll(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ir(A(c.Fa,c),Wu(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ir(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,on(10),us(this),Xu(this))};function ul(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new Ti(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Ye(c.qa);ot(y,"RID","rpc"),ot(y,"SID",c.K),ot(y,"AID",c.T),ot(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ot(y,"TO",c.ja),ot(y,"TYPE","xmlhttp"),ya(c,y),c.m&&c.o&&as(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=fa(Ye(y)),_.m=null,_.P=!0,qi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,us(this),ll(this),on(19))};function cs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ju(c,y){var _=null;if(c.g==y){cs(c),ul(c),c.g=null;var S=2}else if(it(c.h,y))_=y.D,je(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;S=wr(),jt(S,new ua(S,_)),Wa(c)}else $u(c);else if(F=y.s,F==3||F==0&&0<y.X||!(S==1&&Sf(c,y)||S==2&&ll(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),F){case 1:Rr(c,5);break;case 4:Rr(c,10);break;case 3:Rr(c,6);break;default:Rr(c,2)}}}function Wu(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Rr(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),S=c.Xa;const F=!S;S=new Ln(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||is(S,"https"),fa(S),F?rl(S.toString(),_):Hu(S.toString(),_)}else on(2);c.G=0,c.l&&c.l.sa(y),cl(c),Yu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),on(2)):(this.j.info("Failed to ping google.com"),on(1))};function cl(c){if(c.G=0,c.ka=[],c.l){const y=Ce(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function Zu(c,y,_){var S=_ instanceof Ln?Ye(_):new Ln(_);if(S.g!="")y&&(S.g=y+"."+S.g),ha(S,S.s);else{var F=m.location;S=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var W=new Ln(null);S&&is(W,S),y&&(W.g=y),F&&ha(W,F),_&&(W.l=_),S=W}return _=c.D,y=c.ya,_&&y&&ot(S,_,y),ot(S,"VER",c.la),ya(c,S),S}function ec(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new St(new or({eb:_})):new St(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}r=tc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Za(){}Za.prototype.g=function(c,y){return new zn(c,y)};function zn(c,y){Dt.call(this),this.g=new Qu(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!he(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!he(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new hs(this)}G(zn,Dt),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){al(this.g)},zn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=On(c),c=_);y.i.push(new ce(y.Ya++,c)),y.G==3&&Wa(y)},zn.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,zn.aa.N.call(this)};function nc(c){tr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}G(nc,tr);function ic(){Vn.call(this),this.status=1}G(ic,Vn);function hs(c){this.g=c}G(hs,tc),hs.prototype.ua=function(){jt(this.g,"a")},hs.prototype.ta=function(c){jt(this.g,new nc(c))},hs.prototype.sa=function(c){jt(this.g,new ic)},hs.prototype.ra=function(){jt(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,d1=function(){return new Za},f1=function(){return wr()},h1=an,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,wh=Et,Nt.COMPLETE="complete",c1=Nt,Ui.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Wl=Ui,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,u1=St}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const j0="@firebase/firestore",B0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new xp("@firebase/firestore");function xo(){return ja.logLevel}function ve(r,...e){if(ja.logLevel<=et.DEBUG){const n=e.map(Hp);ja.debug(`Firestore (${Xo}): ${r}`,...n)}}function Jr(r,...e){if(ja.logLevel<=et.ERROR){const n=e.map(Hp);ja.error(`Firestore (${Xo}): ${r}`,...n)}}function $s(r,...e){if(ja.logLevel<=et.WARN){const n=e.map(Hp);ja.warn(`Firestore (${Xo}): ${r}`,...n)}}function Hp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,m1(r,s,n)}function m1(r,e,n){let s=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Jr(s),new Error(s)}function at(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||m1(e,o,s)}function Pe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ix{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nn.UNAUTHENTICATED)))}shutdown(){}}class rx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sx{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Yr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Yr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(at(typeof s.accessToken=="string",31837,{l:s}),new p1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class ax{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ox{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ax(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const s=u=>{u.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ve("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new q0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ux(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function $e(r,e){return r<e?-1:r>e?1:0}function sp(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return $e(s,o);{const u=g1(),f=cx(u.encode(H0(r,n)),u.encode(H0(e,n)));return f!==0?f:$e(s,o)}}n+=s>65535?2:1}return $e(r.length,e.length)}function H0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function cx(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return $e(r[n],e[n]);return $e(r.length,e.length)}function jo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="__name__";class dr{constructor(e,n,s){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&De(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return dr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=dr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return $e(e.length,n.length)}static compareSegments(e,n){const s=dr.isNumericId(e),o=dr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?dr.extractNumericId(e).compare(dr.extractNumericId(n)):sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gs.fromString(e.substring(4,e.length-2))}}class _t extends dr{construct(e,n,s){return new _t(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const hx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends dr{construct(e,n,s){return new bn(e,n,s)}static isValidIdentifier(e){return hx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F0}static keyField(){return new bn([F0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ge(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ge(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(_t.fromString(e))}static fromName(e){return new Ae(_t.fromString(e).popFirst(5))}static empty(){return new Ae(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(r,e,n){if(!n)throw new ge(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function fx(r,e,n,s){if(e===!0&&s===!0)throw new ge(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function G0(r){if(!Ae.isDocumentKey(r))throw new ge(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Q0(r){if(Ae.isDocumentKey(r))throw new ge(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function v1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function sf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":De(12329,{type:typeof r})}function mi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sf(r);throw new ge(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(r,e){const n={typeString:r};return e&&(n.value=e),n}function xu(r,e){if(!v1(r))throw new ge(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ge(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=-62135596800,K0=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*K0);return new It(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Y0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K0}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xu(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Y0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:sn("string",It._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new It(0,0))}static max(){return new Ve(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=-1;function dx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(s===1e9?new It(n+1,0):new It(n,s));return new Xs(o,Ae.empty(),e)}function mx(r){return new Xs(r.readTime,r.key,mu)}class Xs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xs(Ve.min(),Ae.empty(),mu)}static max(){return new Xs(Ve.max(),Ae.empty(),mu)}}function px(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(r.documentKey,e.documentKey),n!==0?n:$e(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==gx)throw r;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,s)=>{n(e)}))}static reject(e){return new ae(((n,s)=>{s(e)}))}static waitFor(e){return new ae(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next((o=>o?ae.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ae(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ae(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function vx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}af.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function Du(r){return r==null}function Lh(r){return r===0&&1/r==-1/0}function _x(r){return typeof r=="number"&&Number.isInteger(r)&&!Lh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="";function Ex(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=$0(e)),e=Tx(r.get(n),e);return $0(e)}function Tx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case _1:n+="";break;default:n+=u}}return n}function $0(r){return r+_1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ia(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function E1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??wn.RED,this.left=o??wn.EMPTY,this.right=u??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new wn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return wn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J0(this.data.getIterator())}getIteratorFrom(e){return new J0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new cn(this.comparator);return n.data=e,n}}class J0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new di([])}unionWith(e){let n=new cn(bn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new T1("Invalid base64 string: "+u):u}})(e);return new Sn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const wx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(r){if(at(!!r,39018),typeof r=="string"){let e=0;const n=wx.exec(r);if(at(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Kt(r.seconds),nanos:Kt(r.nanos)}}function Kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ws(r){return typeof r=="string"?Sn.fromBase64String(r):Sn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="server_timestamp",b1="__type__",S1="__previous_value__",A1="__local_write_time__";function Qp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[b1])===null||n===void 0?void 0:n.stringValue)===w1}function of(r){const e=r.mapValue.fields[S1];return Qp(e)?of(e):e}function pu(r){const e=Js(r.mapValue.fields[A1].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Uh="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="__type__",Sx="__max__",dh={mapValue:{}},I1="__vector__",zh="value";function Zs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qp(r)?4:Rx(r)?9007199254740991:Ax(r)?10:11:De(28295,{value:r})}function Er(r,e){if(r===e)return!0;const n=Zs(r);if(n!==Zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return pu(r).isEqual(pu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Js(o.timestampValue),m=Js(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ws(o.bytesValue).isEqual(Ws(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Kt(o.geoPointValue.latitude)===Kt(u.geoPointValue.latitude)&&Kt(o.geoPointValue.longitude)===Kt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Kt(o.integerValue)===Kt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Kt(o.doubleValue),m=Kt(u.doubleValue);return f===m?Lh(f)===Lh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return jo(r.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(X0(f)!==X0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Er(f[p],m[p])))return!1;return!0})(r,e);default:return De(52216,{left:r})}}function yu(r,e){return(r.values||[]).find((n=>Er(n,e)))!==void 0}function Bo(r,e){if(r===e)return 0;const n=Zs(r),s=Zs(e);if(n!==s)return $e(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Kt(u.integerValue||u.doubleValue),p=Kt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return W0(r.timestampValue,e.timestampValue);case 4:return W0(pu(r),pu(e));case 5:return sp(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=Ws(u),p=Ws(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=$e(m[g],p[g]);if(E!==0)return E}return $e(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=$e(Kt(u.latitude),Kt(f.latitude));return m!==0?m:$e(Kt(u.longitude),Kt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Z0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var m,p,g,E;const w=u.fields||{},A=f.fields||{},V=(m=w[zh])===null||m===void 0?void 0:m.arrayValue,G=(p=A[zh])===null||p===void 0?void 0:p.arrayValue,Z=$e(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((E=G==null?void 0:G.values)===null||E===void 0?void 0:E.length)||0);return Z!==0?Z:Z0(V,G)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===dh.mapValue&&f===dh.mapValue)return 0;if(u===dh.mapValue)return 1;if(f===dh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=sp(p[w],E[w]);if(A!==0)return A;const V=Bo(m[p[w]],g[E[w]]);if(V!==0)return V}return $e(p.length,E.length)})(r.mapValue,e.mapValue);default:throw De(23264,{le:n})}}function W0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return $e(r,e);const n=Js(r),s=Js(e),o=$e(n.seconds,s.seconds);return o!==0?o:$e(n.nanos,s.nanos)}function Z0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Bo(n[o],s[o]);if(u)return u}return $e(n.length,s.length)}function qo(r){return ap(r)}function ap(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Js(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ws(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ae.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ap(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${ap(n.fields[f])}`;return o+"}"})(r.mapValue):De(61005,{value:r})}function bh(r){switch(Zs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=of(r);return e?16+bh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ws(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+bh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ia(s.fields,((u,f)=>{o+=u.length+bh(f)})),o})(r.mapValue);default:throw De(13486,{value:r})}}function eE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function op(r){return!!r&&"integerValue"in r}function Yp(r){return!!r&&"arrayValue"in r}function tE(r){return!!r&&"nullValue"in r}function nE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Sh(r){return!!r&&"mapValue"in r}function Ax(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[R1])===null||n===void 0?void 0:n.stringValue)===I1}function au(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ia(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=au(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Rx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Sx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(n)}setAll(e){let n=bn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=au(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ia(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Bn(au(this.value))}}function C1(r){const e=[];return ia(r.fields,((n,s)=>{const o=new bn([n]);if(Sh(s)){const u=C1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new di(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new yn(e,0,Ve.min(),Ve.min(),Ve.min(),Bn.empty(),0)}static newFoundDocument(e,n,s,o){return new yn(e,1,n,Ve.min(),s,o,0)}static newNoDocument(e,n){return new yn(e,2,n,Ve.min(),Ve.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Ve.min(),Ve.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.position=e,this.inclusive=n}}function iE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ae.comparator(Ae.fromName(f.referenceValue),n.key):s=Bo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function rE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Er(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ix(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{}class rn extends x1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new xx(e,n,s):n==="array-contains"?new Mx(e,s):n==="in"?new Ox(e,s):n==="not-in"?new Vx(e,s):n==="array-contains-any"?new kx(e,s):new rn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Dx(e,s):new Nx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bo(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.matchesComparison(Bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends x1{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Wi(e,n)}matches(e){return D1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function D1(r){return r.op==="and"}function N1(r){return Cx(r)&&D1(r)}function Cx(r){for(const e of r.filters)if(e instanceof Wi)return!1;return!0}function lp(r){if(r instanceof rn)return r.field.canonicalString()+r.op.toString()+qo(r.value);if(N1(r))return r.filters.map((e=>lp(e))).join(",");{const e=r.filters.map((n=>lp(n))).join(",");return`${r.op}(${e})`}}function M1(r,e){return r instanceof rn?(function(s,o){return o instanceof rn&&s.op===o.op&&s.field.isEqual(o.field)&&Er(s.value,o.value)})(r,e):r instanceof Wi?(function(s,o){return o instanceof Wi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&M1(f,o.filters[m])),!0):!1})(r,e):void De(19439)}function O1(r){return r instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${qo(n.value)}`})(r):r instanceof Wi?(function(n){return n.op.toString()+" {"+n.getFilters().map(O1).join(" ,")+"}"})(r):"Filter"}class xx extends rn{constructor(e,n,s){super(e,n,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dx extends rn{constructor(e,n){super(e,"in",n),this.keys=V1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Nx extends rn{constructor(e,n){super(e,"not-in",n),this.keys=V1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function V1(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>Ae.fromName(s.referenceValue)))}class Mx extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yp(n)&&yu(n.arrayValue,this.value)}}class Ox extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class Vx extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class kx extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>yu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function sE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new Px(r,e,n,s,o,u,f)}function Kp(r){const e=Pe(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>lp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Du(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>qo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>qo(s))).join(",")),e.Pe=n}return e.Pe}function $p(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Ix(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!M1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!rE(r.startAt,e.startAt)&&rE(r.endAt,e.endAt)}function up(r){return Ae.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Lx(r,e,n,s,o,u,f,m){return new Nu(r,e,n,s,o,u,f,m)}function Xp(r){return new Nu(r)}function aE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function k1(r){return r.collectionGroup!==null}function ou(r){const e=Pe(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new cn(bn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Bh(u,s))})),n.has(bn.keyField().canonicalString())||e.Te.push(new Bh(bn.keyField(),s))}return e.Te}function gr(r){const e=Pe(r);return e.Ie||(e.Ie=Ux(e,ou(r))),e.Ie}function Ux(r,e){if(r.limitType==="F")return sE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Bh(o.field,u)}));const n=r.endAt?new jh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new jh(r.startAt.position,r.startAt.inclusive):null;return sE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function cp(r,e){const n=r.filters.concat([e]);return new Nu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function hp(r,e,n){return new Nu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function lf(r,e){return $p(gr(r),gr(e))&&r.limitType===e.limitType}function P1(r){return`${Kp(gr(r))}|lt:${r.limitType}`}function Do(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>O1(o))).join(", ")}]`),Du(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>qo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>qo(o))).join(",")),`Target(${s})`})(gr(r))}; limitType=${r.limitType})`}function uf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ae.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of ou(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=iE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,ou(s),o)||s.endAt&&!(function(f,m,p){const g=iE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,ou(s),o))})(r,e)}function zx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function L1(r){return(e,n)=>{let s=!1;for(const o of ou(r)){const u=jx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function jx(r,e,n){const s=r.field.isKeyField()?Ae.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Bo(p,g):De(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return De(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return E1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Lt(Ae.comparator);function Wr(){return Bx}const U1=new Lt(Ae.comparator);function Zl(...r){let e=U1;for(const n of r)e=e.insert(n.key,n);return e}function z1(r){let e=U1;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Pa(){return lu()}function j1(){return lu()}function lu(){return new Ha((r=>r.toString()),((r,e)=>r.isEqual(e)))}const qx=new Lt(Ae.comparator),Hx=new cn(Ae.comparator);function tt(...r){let e=Hx;for(const n of r)e=e.add(n);return e}const Fx=new cn($e);function Gx(){return Fx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function B1(r){return{integerValue:""+r}}function q1(r,e){return _x(e)?B1(e):Jp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function Qx(r,e,n){return r instanceof qh?(function(o,u){const f={fields:{[b1]:{stringValue:w1},[A1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qp(u)&&(u=of(u)),u&&(f.fields[S1]=u),{mapValue:f}})(n,e):r instanceof Ho?F1(r,e):r instanceof vu?G1(r,e):(function(o,u){const f=H1(o,u),m=oE(f)+oE(o.Ee);return op(f)&&op(o.Ee)?B1(m):Jp(o.serializer,m)})(r,e)}function Yx(r,e,n){return r instanceof Ho?F1(r,e):r instanceof vu?G1(r,e):n}function H1(r,e){return r instanceof _u?(function(s){return op(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class qh extends cf{}class Ho extends cf{constructor(e){super(),this.elements=e}}function F1(r,e){const n=Q1(e);for(const s of r.elements)n.some((o=>Er(o,s)))||n.push(s);return{arrayValue:{values:n}}}class vu extends cf{constructor(e){super(),this.elements=e}}function G1(r,e){let n=Q1(e);for(const s of r.elements)n=n.filter((o=>!Er(o,s)));return{arrayValue:{values:n}}}class _u extends cf{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function oE(r){return Kt(r.integerValue||r.doubleValue)}function Q1(r){return Yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n){this.field=e,this.transform=n}}function Kx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Ho&&o instanceof Ho||s instanceof vu&&o instanceof vu?jo(s.elements,o.elements,Er):s instanceof _u&&o instanceof _u?Er(s.Ee,o.Ee):s instanceof qh&&o instanceof qh})(r.transform,e.transform)}class $x{constructor(e,n){this.version=e,this.transformResults=n}}class un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class hf{}function K1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ou(r.key,un.none()):new Mu(r.key,r.data,un.none());{const n=r.data,s=Bn.empty();let o=new cn(bn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ra(r.key,s,new di(o.toArray()),un.none())}}function Xx(r,e,n){r instanceof Mu?(function(o,u,f){const m=o.value.clone(),p=uE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ra?(function(o,u,f){if(!Ah(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=uE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll($1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function uu(r,e,n,s){return r instanceof Mu?(function(u,f,m,p){if(!Ah(u.precondition,f))return m;const g=u.value.clone(),E=cE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof ra?(function(u,f,m,p){if(!Ah(u.precondition,f))return m;const g=cE(u.fieldTransforms,p,f),E=f.data;return E.setAll($1(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,e,n,s):(function(u,f,m){return Ah(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function Jx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=H1(s.transform,o||null);u!=null&&(n===null&&(n=Bn.empty()),n.set(s.field,u))}return n||null}function lE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&jo(s,o,((u,f)=>Kx(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Mu extends hf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ra extends hf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function uE(r,e,n){const s=new Map;at(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Yx(f,m,n[o]))}return s}function cE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Qx(u,f,e))}return s}class Ou extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X1 extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Xx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=j1();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=K1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tt())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,((n,s)=>lE(n,s)))&&jo(this.baseMutations,e.baseMutations,((n,s)=>lE(n,s)))}}class Wp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){at(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=(function(){return qx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Wp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,st;function J1(r){switch(r){case ie.OK:return De(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return De(15467,{code:r})}}function W1(r){if(r===void 0)return Jr("GRPC error has no .code"),ie.UNKNOWN;switch(r){case nn.OK:return ie.OK;case nn.CANCELLED:return ie.CANCELLED;case nn.UNKNOWN:return ie.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ie.INTERNAL;case nn.UNAVAILABLE:return ie.UNAVAILABLE;case nn.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case nn.NOT_FOUND:return ie.NOT_FOUND;case nn.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case nn.ABORTED:return ie.ABORTED;case nn.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case nn.DATA_LOSS:return ie.DATA_LOSS;default:return De(39323,{code:r})}}(st=nn||(nn={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new Gs([4294967295,4294967295],0);function hE(r){const e=g1().encode(r),n=new l1;return n.update(e),new Uint8Array(n.digest())}function fE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Gs([n,s],0),new Gs([o,u],0)]}class Zp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(s<0)throw new eu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Gs.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(Gs.fromNumber(s)));return o.compare(tD)===1&&(o=new Gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=hE(e),[s,o]=fE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Zp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.fe===0)return;const n=hE(e),[s,o]=fE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ff(Ve.min(),o,new Lt($e),Wr(),tt())}}class Vu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Vu(s,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class Z1{constructor(e,n){this.targetId=e,this.De=n}}class ew{constructor(e,n,s=Sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class dE{constructor(){this.ve=0,this.Ce=mE(),this.Fe=Sn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=tt(),n=tt(),s=tt();return this.Ce.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:De(38017,{changeType:u})}})),new Vu(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=mE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class nD{constructor(e){this.We=e,this.Ge=new Map,this.ze=Wr(),this.je=mh(),this.Je=mh(),this.He=new Lt($e)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(up(u))if(s===0){const f=new Ae(u.path);this.Xe(n,f,yn.newNoDocument(f,Ve.min()))}else at(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ws(s).toUint8Array()}catch(p){if(p instanceof T1)return $s("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Zp(f,o,u)}catch(p){return $s(p instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(e){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&up(m.target)){const p=new Ae(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,yn.newNoDocument(p,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=tt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(e)));const o=new ff(e,n,this.He,this.ze,s);return this.ze=Wr(),this.je=mh(),this.Je=mh(),this.He=new Lt($e),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new dE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new cn($e),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new cn($e),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new dE),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function mh(){return new Lt(Ae.comparator)}function mE(){return new Lt(Ae.comparator)}const iD={asc:"ASCENDING",desc:"DESCENDING"},rD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sD={and:"AND",or:"OR"};class aD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fp(r,e){return r.useProto3Json||Du(e)?e:{value:e}}function Hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function oD(r,e){return Hh(r,e.toTimestamp())}function pi(r){return at(!!r,49232),Ve.fromTimestamp((function(n){const s=Js(n);return new It(s.seconds,s.nanos)})(r))}function eg(r,e){return dp(r,e).canonicalString()}function dp(r,e){const n=(function(o){return new _t(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function nw(r){const e=_t.fromString(r);return at(lw(e),10190,{key:e.toString()}),e}function Fh(r,e){return eg(r.databaseId,e.path)}function cu(r,e){const n=nw(e);if(n.get(1)!==r.databaseId.projectId)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ae(rw(n))}function iw(r,e){return eg(r.databaseId,e)}function lD(r){const e=nw(r);return e.length===4?_t.emptyPath():rw(e)}function mp(r){return new _t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rw(r){return at(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function pE(r,e,n){return{name:Fh(r,e),fields:n.value.mapValue.fields}}function uD(r,e){return"found"in e?(function(s,o){at(!!o.found,43571),o.found.name,o.found.updateTime;const u=cu(s,o.found.name),f=pi(o.found.updateTime),m=o.found.createTime?pi(o.found.createTime):Ve.min(),p=new Bn({mapValue:{fields:o.found.fields}});return yn.newFoundDocument(u,f,m,p)})(r,e):"missing"in e?(function(s,o){at(!!o.missing,3894),at(!!o.readTime,22933);const u=cu(s,o.missing),f=pi(o.readTime);return yn.newNoDocument(u,f)})(r,e):De(7234,{result:e})}function cD(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:De(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(at(E===void 0||typeof E=="string",58123),Sn.fromBase64String(E||"")):(at(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Sn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?ie.UNKNOWN:W1(g.code);return new ge(E,g.message||"")})(f);n=new ew(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=cu(r,s.document.name),u=pi(s.document.updateTime),f=s.document.createTime?pi(s.document.createTime):Ve.min(),m=new Bn({mapValue:{fields:s.document.fields}}),p=yn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Rh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=cu(r,s.document),u=s.readTime?pi(s.readTime):Ve.min(),f=yn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Rh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=cu(r,s.document),u=s.removedTargetIds||[];n=new Rh([],u,o,null)}else{if(!("filter"in e))return De(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new eD(o,u),m=s.targetId;n=new Z1(m,f)}}return n}function sw(r,e){let n;if(e instanceof Mu)n={update:pE(r,e.key,e.value)};else if(e instanceof Ou)n={delete:Fh(r,e.key)};else if(e instanceof ra)n={update:pE(r,e.key,e.data),updateMask:_D(e.fieldMask)};else{if(!(e instanceof X1))return De(16599,{Rt:e.type});n={verify:Fh(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof qh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ho)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _u)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw De(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:oD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:De(27497)})(r,e.precondition)),n}function hD(r,e){return r&&r.length>0?(at(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?pi(o.updateTime):pi(u);return f.isEqual(Ve.min())&&(f=pi(u)),new $x(f,o.transformResults||[])})(n,e)))):[]}function fD(r,e){return{documents:[iw(r,e.path)]}}function dD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=iw(r,o);const u=(function(g){if(g.length!==0)return ow(Wi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:No(A.field),direction:gD(A.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=fp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{Vt:n,parent:o}}function mD(r){let e=lD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){at(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(w){const A=aw(w);return A instanceof Wi&&N1(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((A=>(function(G){return new Bh(Mo(G.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let A;return A=typeof w=="object"?w.value:w,Du(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(w){const A=!!w.before,V=w.values||[];return new jh(V,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const A=!w.before,V=w.values||[];return new jh(V,A)})(n.endAt)),Lx(e,o,f,u,m,"F",p,g)}function pD(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aw(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Mo(n.unaryFilter.field);return rn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Mo(n.unaryFilter.field);return rn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Mo(n.unaryFilter.field);return rn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Mo(n.unaryFilter.field);return rn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(r):r.fieldFilter!==void 0?(function(n){return rn.create(Mo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Wi.create(n.compositeFilter.filters.map((s=>aw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(r):De(30097,{filter:r})}function gD(r){return iD[r]}function yD(r){return rD[r]}function vD(r){return sD[r]}function No(r){return{fieldPath:r.canonicalString()}}function Mo(r){return bn.fromServerFormat(r.fieldPath)}function ow(r){return r instanceof rn?(function(n){if(n.op==="=="){if(nE(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nE(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(n.field),op:yD(n.op),value:n.value}}})(r):r instanceof Wi?(function(n){const s=n.getFilters().map((o=>ow(o)));return s.length===1?s[0]:{compositeFilter:{op:vD(n.op),filters:s}}})(r):De(54877,{filter:r})}function _D(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function lw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,s,o,u=Ve.min(),f=Ve.min(),m=Sn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.gt=e}}function TD(r){const e=mD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.Dn=new bD}addToCollectionParentIndex(e,n){return this.Dn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Xs.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class bD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new cn(_t.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new cn(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uw=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(uw,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Fo(0)}static ur(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LruGarbageCollector",SD=1048576;function vE([r,e],[n,s]){const o=$e(r,n);return o===0?$e(e,s):o}class AD{constructor(e){this.Tr=e,this.buffer=new cn(vE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ve(yE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wo(n)?ve(yE,"Ignoring IndexedDB error during garbage collection: ",n):await Jo(n)}await this.Rr(3e5)}))}}class ID{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(af.ue);const s=new AD(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(gE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gE):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(g=Date.now(),xo()<=et.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function CD(r,e){return new ID(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.changes=new Ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&uu(s.mutation,o,di.empty(),It.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,tt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=tt()){const o=Pa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Zl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Pa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,tt())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Wr();const f=lu(),m=(function(){return lu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ra)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),uu(E.mutation,g,E.mutation.getFieldMask(),It.now())):f.set(g.key,di.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>{var w;return m.set(g,new DD(E,(w=f.get(g))!==null&&w!==void 0?w:null))})),m)))}recalculateAndSaveOverlays(e,n){const s=lu();let o=new Lt(((f,m)=>f-m)),u=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||di.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||tt()).add(p);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=j1();E.forEach((A=>{if(!u.has(A)){const V=K1(n.get(A),s.get(A));V!==null&&w.set(A,V),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ae.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return Ae.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):k1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ae.resolve(Pa());let m=mu,p=u;return f.next((g=>ae.forEach(g,((E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?ae.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,tt()))).next((E=>({batchId:m,changes:z1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Zl();return this.indexManager.getCollectionParents(e,u).next((m=>ae.forEach(m,(p=>{const g=(function(w,A){return new Nu(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((w,A)=>{f=f.insert(w,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,yn.newInvalidDocument(E)))}));let m=Zl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&uu(E.mutation,g,di.empty(),It.now()),uf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:pi(o.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:TD(o.bundledQuery),readTime:pi(o.readTime)}})(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.overlays=new Lt(Ae.comparator),this.kr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Pa();return ae.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.wt(e,n,u)})),ae.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const o=Pa(),u=n.length+1,f=new Ae(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Lt(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Pa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Pa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ae.resolve(m)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Zx(n,s));let u=this.kr.get(n);u===void 0&&(u=tt(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.qr=new cn(gn.Qr),this.$r=new cn(gn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new gn(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new gn(e,n))}Gr(e,n){e.forEach((s=>this.removeReference(s,n)))}zr(e){const n=new Ae(new _t([])),s=new gn(n,e),o=new gn(n,e+1),u=[];return this.$r.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ae(new _t([])),s=new gn(n,e),o=new gn(n,e+1);let u=tt();return this.$r.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new gn(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class gn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ae.comparator(e.key,n.key)||$e(e.Hr,n.Hr)}static Ur(e,n){return $e(e.Hr,n.Hr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new cn(gn.Qr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Wx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new gn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(f)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Gp:this.er-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new gn(n,0),o=new gn(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new cn($e);return n.forEach((o=>{const u=new gn(o,0),f=new gn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),ae.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ae.isDocumentKey(u)||(u=u.child(""));const f=new gn(new Ae(u),0);let m=new cn($e);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),f),ae.resolve(this.ei(m))}ei(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){at(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return ae.forEach(n.mutations,(o=>{const u=new gn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,n){const s=new gn(n,0),o=this.Yr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.ni=e,this.docs=(function(){return new Lt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let s=Wr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():yn.newInvalidDocument(o))})),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Wr();const f=n.path,m=new Ae(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||px(mx(E),s)<=0||(o.has(E.key)||uf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,n,s,o){De(9500)}ri(e,n){return ae.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new LD(this)}getSize(e){return ae.resolve(this.size)}}class LD extends xD{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)})),ae.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.persistence=e,this.ii=new Ha((n=>Kp(n)),$p),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.si=0,this.oi=new tg,this.targetCount=0,this._i=Fo.ar()}forEachTarget(e,n){return this.ii.forEach(((s,o)=>n(o))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),ae.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Fo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.hr(n),ae.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ae.waitFor(u).next((()=>o))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ae.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n){this.ai={},this.overlays={},this.ui=new af(0),this.ci=!1,this.ci=!0,this.li=new VD,this.referenceDelegate=e(this),this.hi=new UD(this),this.indexManager=new wD,this.remoteDocumentCache=(function(o){return new PD(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new ED(n),this.Ti=new MD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new kD(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ve("MemoryPersistence","Starting transaction:",e);const o=new zD(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ae.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,n))))}}class zD extends yx{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Ai=new tg,this.Ri=null}static Vi(e){return new ng(e)}get mi(){if(this.Ri)return this.Ri;throw De(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.mi,(s=>{const o=Ae.fromPath(s);return this.fi(e,o).next((u=>{u||n.removeEntry(o,Ve.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return ae.or([()=>ae.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Gh{constructor(e,n){this.persistence=e,this.gi=new Ha((s=>Ex(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=CD(this,n)}static Vi(e,n){return new Gh(e,n)}Ii(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}yr(e){let n=0;return this.gr(e,(s=>{n++})).next((()=>n))}gr(e,n){return ae.forEach(this.gi,((s,o)=>this.Sr(e,s,o).next((u=>u?ae.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,(f=>this.Sr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ae.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bh(e.data.value)),n}Sr(e,n,s){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return ae.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=tt(),o=tt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ig(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return qR()?8:vx(Mn())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new jD;return this.ws(e,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)}))})).next((()=>u.result))}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(xo()<=et.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Do(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(xo()<=et.DEBUG&&ve("QueryEngine","Query:",Do(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(xo()<=et.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Do(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):ae.resolve())}ps(e,n){if(aE(n))return ae.resolve(null);let s=gr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=hp(n,null,"F"),s=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=tt(...u);return this.gs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,f,p.readTime)?this.ps(e,hp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ys(e,n,s,o){return aE(n)||o.isEqual(Ve.min())?ae.resolve(null):this.gs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?ae.resolve(null):(xo()<=et.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Do(n)),this.vs(e,f,n,dx(o,mu)).next((m=>m)))}))}bs(e,n){let s=new cn(L1(e));return n.forEach(((o,u)=>{uf(e,u)&&(s=s.add(u))})),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return xo()<=et.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Do(n)),this.gs.getDocumentsMatchingQuery(e,n,Xs.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="LocalStore",qD=3e8;class HD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new Lt($e),this.Ms=new Ha((u=>Kp(u)),$p),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ND(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function FD(r,e,n,s){return new HD(r,e,n,s)}async function hw(r,e){const n=Pe(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=tt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function GD(r,e){const n=Pe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const w=g.batch,A=w.keys();let V=ae.resolve();return A.forEach((G=>{V=V.next((()=>E.getEntry(p,G))).next((Z=>{const L=g.docVersions.get(G);at(L!==null,48541),Z.version.compareTo(L)<0&&(w.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),E.addEntry(Z)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,w)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=tt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function fw(r){const e=Pe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function QD(r,e){const n=Pe(r),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach(((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,w).next((()=>n.hi.addMatchingKeys(u,E.addedDocuments,w))));let V=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?V=V.withResumeToken(Sn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(w,V),(function(Z,L,ue){return Z.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=qD?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(A,V,E)&&m.push(n.hi.updateTargetData(u,V))}));let p=Wr(),g=tt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(YD(u,f,e.documentUpdates).next((E=>{p=E.Ls,g=E.ks}))),!s.isEqual(Ve.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next((w=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ae.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function YD(r,e,n){let s=tt(),o=tt();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=Wr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ve.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ve(rg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:f,ks:o}}))}function KD(r,e){const n=Pe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Gp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function $D(r,e){const n=Pe(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,e).next((u=>u?(o=u,ae.resolve(o)):n.hi.allocateTargetId(s).next((f=>(o=new zs(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s}))}async function pp(r,e,n){const s=Pe(r),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Wo(f))throw f;ve(rg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function _E(r,e,n){const s=Pe(r);let o=Ve.min(),u=tt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const w=Pe(p),A=w.Ms.get(E);return A!==void 0?ae.resolve(w.Fs.get(A)):w.hi.getTargetData(g,E)})(s,f,gr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Ve.min(),n?u:tt()))).next((m=>(XD(s,zx(e),m),{documents:m,qs:u})))))}function XD(r,e,n){let s=r.xs.get(e)||Ve.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(e,s)}class EE{constructor(){this.activeTargetIds=Gx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JD{constructor(){this.Fo=new EE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new EE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="ConnectivityMonitor";class wE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ve(TE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ve(TE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function gp(){return ph===null?ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="RestConnection",ZD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eN{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Uh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=gp(),m=this.Go(e,n.toUriEncodedString());ve(Vm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=Yo(g);return this.jo(e,m,p,s,E).then((w=>(ve(Vm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw $s(Vm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w}))}Jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Go(e,n){const s=ZD[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class nN extends eN{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const f=gp();return new Promise(((m,p)=>{const g=new u1;g.setWithCredentials(!0),g.listenOnce(c1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case wh.NO_ERROR:const w=g.getResponseJson();ve(Dn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case wh.TIMEOUT:ve(Dn,`RPC '${e}' ${f} timed out`),p(new ge(ie.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const A=g.getStatus();if(ve(Dn,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const G=V==null?void 0:V.error;if(G&&G.status&&G.message){const Z=(function(ue){const he=ue.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(he)>=0?he:ie.UNKNOWN})(G.status);p(new ge(Z,G.message))}else p(new ge(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ge(ie.UNAVAILABLE,"Connection failed."));break;default:De(9055,{c_:e,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ve(Dn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ve(Dn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}P_(e,n,s){const o=gp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=d1(),m=f1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ve(Dn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.T_(w);let A=!1,V=!1;const G=new tN({Ho:L=>{V?ve(Dn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(ve(Dn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ve(Dn,`RPC '${e}' stream ${o} sending:`,L),w.send(L))},Yo:()=>w.close()}),Z=(L,ue,he)=>{L.listen(ue,(re=>{try{he(re)}catch(be){setTimeout((()=>{throw be}),0)}}))};return Z(w,Wl.EventType.OPEN,(()=>{V||(ve(Dn,`RPC '${e}' stream ${o} transport opened.`),G.s_())})),Z(w,Wl.EventType.CLOSE,(()=>{V||(V=!0,ve(Dn,`RPC '${e}' stream ${o} transport closed`),G.__(),this.I_(w))})),Z(w,Wl.EventType.ERROR,(L=>{V||(V=!0,$s(Dn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),G.__(new ge(ie.UNAVAILABLE,"The operation could not be completed")))})),Z(w,Wl.EventType.MESSAGE,(L=>{var ue;if(!V){const he=L.data[0];at(!!he,16349);const re=he,be=(re==null?void 0:re.error)||((ue=re[0])===null||ue===void 0?void 0:ue.error);if(be){ve(Dn,`RPC '${e}' stream ${o} received error:`,be);const Le=be.status;let xe=(function(C){const O=nn[C];if(O!==void 0)return W1(O)})(Le),N=be.message;xe===void 0&&(xe=ie.INTERNAL,N="Unknown error status: "+Le+" with message "+be.message),V=!0,G.__(new ge(xe,N)),w.close()}else ve(Dn,`RPC '${e}' stream ${o} received:`,he),G.a_(he)}})),Z(m,h1.STAT_EVENT,(L=>{L.stat===rp.PROXY?ve(Dn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===rp.NOPROXY&&ve(Dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.o_()}),0),G}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(r){return new aD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="PersistentStream";class dw{constructor(e,n,s,o,u,f,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new sg(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{e((()=>{const o=new ge(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return ve(bE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(ve(bE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iN extends dw{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=cD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ve.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ve.min():f.readTime?pi(f.readTime):Ve.min()})(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=mp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=up(p)?{documents:fD(u,p)}:{query:dD(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=tw(u,f.resumeToken);const g=fp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ve.min())>0){m.readTime=Hh(u,f.snapshotVersion.toTimestamp());const g=fp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=pD(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=mp(this.serializer),n.removeTarget=e,this.k_(n)}}class rN extends dw{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=hD(e.writeResults,e.commitTime),s=pi(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=mp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>sw(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{}class aN extends sN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,dp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ie.UNKNOWN,u.toString())}))}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(e,dp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(ie.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class oN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Jr(n),this._a=!1):ve("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="RemoteStore";class lN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{Fa(this)&&(ve(Ba,"Restarting streams for network reachability change."),await(async function(p){const g=Pe(p);g.Ia.add(4),await ku(g),g.Aa.set("Unknown"),g.Ia.delete(4),await mf(g)})(this))}))})),this.Aa=new oN(s,o)}}async function mf(r){if(Fa(r))for(const e of r.da)await e(!0)}async function ku(r){for(const e of r.da)await e(!1)}function mw(r,e){const n=Pe(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),ug(n)?lg(n):Zo(n).x_()&&og(n,e))}function ag(r,e){const n=Pe(r),s=Zo(n);n.Ta.delete(e),s.x_()&&pw(n,e),n.Ta.size===0&&(s.x_()?s.B_():Fa(n)&&n.Aa.set("Unknown"))}function og(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zo(r).H_(e)}function pw(r,e){r.Ra.$e(e),Zo(r).Y_(e)}function lg(r){r.Ra=new nD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Zo(r).start(),r.Aa.aa()}function ug(r){return Fa(r)&&!Zo(r).M_()&&r.Ta.size>0}function Fa(r){return Pe(r).Ia.size===0}function gw(r){r.Ra=void 0}async function uN(r){r.Aa.set("Online")}async function cN(r){r.Ta.forEach(((e,n)=>{og(r,e)}))}async function hN(r,e){gw(r),ug(r)?(r.Aa.la(e),lg(r)):r.Aa.set("Unknown")}async function fN(r,e,n){if(r.Aa.set("Online"),e instanceof ew&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))})(r,e)}catch(s){ve(Ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qh(r,s)}else if(e instanceof Rh?r.Ra.Ye(e):e instanceof Z1?r.Ra.it(e):r.Ra.et(e),!n.isEqual(Ve.min()))try{const s=await fw(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(Sn.EMPTY_BYTE_STRING,E.snapshotVersion)),pw(u,p);const w=new zs(E.target,p,g,E.sequenceNumber);og(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ve(Ba,"Failed to raise snapshot:",s),await Qh(r,s)}}async function Qh(r,e,n){if(!Wo(e))throw e;r.Ia.add(1),await ku(r),r.Aa.set("Offline"),n||(n=()=>fw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ve(Ba,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await mf(r)}))}function yw(r,e){return e().catch((n=>Qh(r,n,e)))}async function pf(r){const e=Pe(r),n=ea(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Gp;for(;dN(e);)try{const o=await KD(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,mN(e,o)}catch(o){await Qh(e,o)}vw(e)&&_w(e)}function dN(r){return Fa(r)&&r.Pa.length<10}function mN(r,e){r.Pa.push(e);const n=ea(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function vw(r){return Fa(r)&&!ea(r).M_()&&r.Pa.length>0}function _w(r){ea(r).start()}async function pN(r){ea(r).na()}async function gN(r){const e=ea(r);for(const n of r.Pa)e.X_(n.mutations)}async function yN(r,e,n){const s=r.Pa.shift(),o=Wp.from(s,e,n);await yw(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await pf(r)}async function vN(r,e){e&&ea(r).Z_&&await(async function(s,o){if((function(f){return J1(f)&&f!==ie.ABORTED})(o.code)){const u=s.Pa.shift();ea(s).N_(),await yw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await pf(s)}})(r,e),vw(r)&&_w(r)}async function SE(r,e){const n=Pe(r);n.asyncQueue.verifyOperationInProgress(),ve(Ba,"RemoteStore received new credentials");const s=Fa(n);n.Ia.add(3),await ku(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await mf(n)}async function _N(r,e){const n=Pe(r);e?(n.Ia.delete(2),await mf(n)):e||(n.Ia.add(2),await ku(n),n.Aa.set("Unknown"))}function Zo(r){return r.Va||(r.Va=(function(n,s,o){const u=Pe(n);return u.ia(),new iN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:uN.bind(null,r),e_:cN.bind(null,r),n_:hN.bind(null,r),J_:fN.bind(null,r)}),r.da.push((async e=>{e?(r.Va.N_(),ug(r)?lg(r):r.Aa.set("Unknown")):(await r.Va.stop(),gw(r))}))),r.Va}function ea(r){return r.ma||(r.ma=(function(n,s,o){const u=Pe(n);return u.ia(),new rN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:pN.bind(null,r),n_:vN.bind(null,r),ea:gN.bind(null,r),ta:yN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.N_(),await pf(r)):(await r.ma.stop(),r.Pa.length>0&&(ve(Ba,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new cg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(r,e){if(Jr("AsyncQueue",`${e}: ${r}`),Wo(r))return new ge(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ae.comparator(n.key,s.key):(n,s)=>Ae.comparator(n.key,s.key),this.keyedMap=Zl(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.fa=new Lt(Ae.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):De(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Go{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Go(e,n,Lo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class TN{constructor(){this.queries=RE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Pe(n),u=o.queries;o.queries=RE(),u.forEach(((f,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ge(ie.ABORTED,"Firestore shutting down"))}}function RE(){return new Ha((r=>P1(r)),lf)}async function Ew(r,e){const n=Pe(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new EN,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=hg(f,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&fg(n)}async function Tw(r,e){const n=Pe(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wN(r,e){const n=Pe(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&fg(n)}function bN(r,e,n){const s=Pe(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function fg(r){r.Da.forEach((e=>{e.next()}))}var yp,IE;(IE=yp||(yp={})).Fa="default",IE.Cache="cache";class ww{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.key=e}}class Sw{constructor(e){this.key=e}}class SN{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=tt(),this.mutatedKeys=tt(),this.Xa=L1(e),this.eu=new Lo(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new AE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const A=o.get(E),V=uf(this.query,w)?w:null,G=!!A&&this.mutatedKeys.has(A.key),Z=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let L=!1;A&&V?A.data.isEqual(V.data)?G!==Z&&(s.track({type:3,doc:V}),L=!0):this.iu(A,V)||(s.track({type:2,doc:V}),L=!0,(p&&this.Xa(V,p)>0||g&&this.Xa(V,g)<0)&&(m=!0)):!A&&V?(s.track({type:0,doc:V}),L=!0):A&&!V&&(s.track({type:1,doc:A}),L=!0,(p||g)&&(m=!0)),L&&(V?(f=f.add(V),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort(((E,w)=>(function(V,G){const Z=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{At:L})}};return Z(V)-Z(G)})(E.type,w.type)||this.Xa(E.doc,w.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new Go(this.query,e.eu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new AE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=tt(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return e.forEach((s=>{this.Za.has(s)||n.push(new Sw(s))})),this.Za.forEach((s=>{e.has(s)||n.push(new bw(s))})),n}uu(e){this.Ha=e.qs,this.Za=tt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Go.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const dg="SyncEngine";class AN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class RN{constructor(e){this.key=e,this.lu=!1}}class IN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Ha((m=>P1(m)),lf),this.Tu=new Map,this.Iu=new Set,this.du=new Lt(Ae.comparator),this.Eu=new Map,this.Au=new tg,this.Ru={},this.Vu=new Map,this.mu=Fo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function CN(r,e,n=!0){const s=Dw(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await Aw(s,e,n,!0),o}async function xN(r,e){const n=Dw(r);await Aw(n,e,!0,!1)}async function Aw(r,e,n,s){const o=await $D(r.localStore,gr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await DN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&mw(r.remoteStore,o),m}async function DN(r,e,n,s,o){r.gu=(w,A,V)=>(async function(Z,L,ue,he){let re=L.view.nu(ue);re.Ds&&(re=await _E(Z.localStore,L.query,!1).then((({documents:N})=>L.view.nu(N,re))));const be=he&&he.targetChanges.get(L.targetId),Le=he&&he.targetMismatches.get(L.targetId)!=null,xe=L.view.applyChanges(re,Z.isPrimaryClient,be,Le);return xE(Z,L.targetId,xe._u),xe.snapshot})(r,w,A,V);const u=await _E(r.localStore,e,!0),f=new SN(e,u.qs),m=f.nu(u.documents),p=Vu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);xE(r,n,g._u);const E=new AN(e,n,f);return r.Pu.set(e,E),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),g.snapshot}async function NN(r,e,n){const s=Pe(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((f=>!lf(f,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ag(s.remoteStore,o.targetId),vp(s,o.targetId)})).catch(Jo)):(vp(s,o.targetId),await pp(s.localStore,o.targetId,!0))}async function MN(r,e){const n=Pe(r),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ag(n.remoteStore,s.targetId))}async function ON(r,e,n){const s=jN(r);try{const o=await(function(f,m){const p=Pe(f),g=It.now(),E=m.reduce(((V,G)=>V.add(G.key)),tt());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let G=Wr(),Z=tt();return p.Os.getEntries(V,E).next((L=>{G=L,G.forEach(((ue,he)=>{he.isValidDocument()||(Z=Z.add(ue))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,G))).next((L=>{w=L;const ue=[];for(const he of m){const re=Jx(he,w.get(he.key).overlayedDocument);re!=null&&ue.push(new ra(he.key,re,C1(re.value.mapValue),un.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,ue,m)})).next((L=>{A=L;const ue=L.applyToLocalDocumentSet(w,Z);return p.documentOverlayCache.saveOverlays(V,L.batchId,ue)}))})).then((()=>({batchId:A.batchId,changes:z1(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new Lt($e)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g})(s,o.batchId,n),await Pu(s,o.changes),await pf(s.remoteStore)}catch(o){const u=hg(o,"Failed to persist write");n.reject(u)}}async function Rw(r,e){const n=Pe(r);try{const s=await QD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?at(f.lu,14607):o.removedDocuments.size>0&&(at(f.lu,42227),f.lu=!1))})),await Pu(n,s,e)}catch(s){await Jo(s)}}function CE(r,e,n){const s=Pe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Pe(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,w)=>{for(const A of w.wa)A.va(m)&&(g=!0)})),g&&fg(p)})(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function VN(r,e,n){const s=Pe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new Lt(Ae.comparator);f=f.insert(u,yn.newNoDocument(u,Ve.min()));const m=tt().add(u),p=new ff(Ve.min(),new Map,new Lt($e),f,m);await Rw(s,p),s.du=s.du.remove(u),s.Eu.delete(e),mg(s)}else await pp(s.localStore,e,!1).then((()=>vp(s,e,n))).catch(Jo)}async function kN(r,e){const n=Pe(r),s=e.batch.batchId;try{const o=await GD(n.localStore,e);Cw(n,s,null),Iw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Pu(n,o)}catch(o){await Jo(o)}}async function PN(r,e,n){const s=Pe(r);try{const o=await(function(f,m){const p=Pe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((w=>(at(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);Cw(s,e,n),Iw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Pu(s,o)}catch(o){await Jo(o)}}function Iw(r,e){(r.Vu.get(e)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(e)}function Cw(r,e,n){const s=Pe(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function vp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach((s=>{r.Au.containsKey(s)||xw(r,s)}))}function xw(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(ag(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),mg(r))}function xE(r,e,n){for(const s of n)s instanceof bw?(r.Au.addReference(s.key,e),LN(r,s)):s instanceof Sw?(ve(dg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||xw(r,s.key)):De(19791,{yu:s})}function LN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(ve(dg,"New document in limbo: "+n),r.Iu.add(s),mg(r))}function mg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new Ae(_t.fromString(e)),s=r.mu.next();r.Eu.set(s,new RN(n)),r.du=r.du.insert(n,s),mw(r.remoteStore,new zs(gr(Xp(n.path)),s,"TargetPurposeLimboResolution",af.ue))}}async function Pu(r,e,n){const s=Pe(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{f.push(s.gu(p,e,n).then((g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=ig.Es(p.targetId,g);u.push(w)}})))})),await Promise.all(f),s.hu.J_(o),await(async function(p,g){const E=Pe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ae.forEach(g,(A=>ae.forEach(A.Is,(V=>E.persistence.referenceDelegate.addReference(w,A.targetId,V))).next((()=>ae.forEach(A.ds,(V=>E.persistence.referenceDelegate.removeReference(w,A.targetId,V)))))))))}catch(w){if(!Wo(w))throw w;ve(rg,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const V=E.Fs.get(A),G=V.snapshotVersion,Z=V.withLastLimboFreeSnapshotVersion(G);E.Fs=E.Fs.insert(A,Z)}}})(s.localStore,u))}async function UN(r,e){const n=Pe(r);if(!n.currentUser.isEqual(e)){ve(dg,"User change. New user:",e.toKey());const s=await hw(n.localStore,e);n.currentUser=e,(function(u,f){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ge(ie.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Pu(n,s.Bs)}}function zN(r,e){const n=Pe(r),s=n.Eu.get(e);if(s&&s.lu)return tt().add(s.key);{let o=tt();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function Dw(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VN.bind(null,e),e.hu.J_=wN.bind(null,e.eventManager),e.hu.pu=bN.bind(null,e.eventManager),e}function jN(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PN.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return FD(this.persistence,new BD,e.initialUser,this.serializer)}Du(e){return new cw(ng.Vi,this.serializer)}bu(e){return new JD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class BN extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){at(this.persistence.referenceDelegate instanceof Gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new RD(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new cw((s=>Gh.Vi(s,n)),this.serializer)}}class _p{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>CE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UN.bind(null,this.syncEngine),await _N(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TN})()}createDatastore(e){const n=df(e.databaseInfo.databaseId),s=(function(u){return new nN(u)})(e.databaseInfo);return(function(u,f,m,p){return new aN(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new lN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>CE(this.syncEngine,n,0)),(function(){return wE.C()?new wE:new WD})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const w=new IN(o,u,f,m,p,g);return E&&(w.fu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Pe(o);ve(Ba,"RemoteStore shutting down."),u.Ia.add(5),await ku(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ge(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=Pe(o),m={documents:u.map((w=>Fh(f.serializer,w)))},p=await f.Jo("BatchGetDocuments",f.serializer.databaseId,_t.emptyPath(),m,u.length),g=new Map;p.forEach((w=>{const A=uD(f.serializer,w);g.set(A.key.toString(),A)}));const E=[];return u.forEach((w=>{const A=g.get(w.toString());at(!!A,55234,{key:w}),E.push(A)})),E})(this.datastore,e);return n.forEach((s=>this.recordVersion(s))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ou(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,s)=>{const o=Ae.fromPath(s);this.mutations.push(new X1(o,this.precondition(o)))})),await(async function(s,o){const u=Pe(s),f={writes:o.map((m=>sw(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,_t.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw De(50498,{Wu:e.constructor.name});n=Ve.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new ge(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ve.min())?un.exists(!1):un.updateTime(n):un.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ve.min()))throw new ge(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return un.updateTime(n)}return un.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,s,o,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new sg(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const e=new qN(this.datastore),n=this.Ju(e);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(e){try{const n=this.updateFunction(e);return!Du(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!J1(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="FirestoreClient";class FN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Nn.UNAUTHENTICATED,this.clientId=Fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ve(ta,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ve(ta,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=hg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Pm(r,e){r.asyncQueue.verifyOperationInProgress(),ve(ta,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await hw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>{$s("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{ve("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{$s("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=e}async function DE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await GN(r);ve(ta,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>SE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>SE(e.remoteStore,o))),r._onlineComponents=e}async function GN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ve(ta,"Using user provided OfflineComponentProvider");try{await Pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;$s("Error using user provided cache. Falling back to memory cache: "+n),await Pm(r,new Yh)}}else ve(ta,"Using default OfflineComponentProvider"),await Pm(r,new BN(void 0));return r._offlineComponents}async function pg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ve(ta,"Using user provided OnlineComponentProvider"),await DE(r,r._uninitializedComponentsProvider._online)):(ve(ta,"Using default OnlineComponentProvider"),await DE(r,new _p))),r._onlineComponents}function QN(r){return pg(r).then((e=>e.syncEngine))}function YN(r){return pg(r).then((e=>e.datastore))}async function Ep(r){const e=await pg(r),n=e.eventManager;return n.onListen=CN.bind(null,e.syncEngine),n.onUnlisten=NN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MN.bind(null,e.syncEngine),n}function KN(r,e,n={}){const s=new Yr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new Nw({next:A=>{E.Ou(),f.enqueueAndForget((()=>Tw(u,w))),A.fromCache&&p.source==="server"?g.reject(new ge(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new ww(m,E,{includeMetadataChanges:!0,ka:!0});return Ew(u,w)})(await Ep(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="firestore.googleapis.com",ME=!0;class OE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ow,this.ssl=ME}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ME;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SD)throw new ge(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ix;switch(s.type){case"firstParty":return new ox(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=NE.get(n);s&&(ve("ComponentProvider","Removing Datastore"),NE.delete(n),s.terminate())})(this),Promise.resolve()}}function $N(r,e,n,s={}){var o;r=mi(r,gf);const u=Yo(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(ET(`https://${p}`),TT("Firestore",!0)),f.host!==Ow&&f.host!==p&&$s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Ks(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=Nn.MOCK_USER;else{E=OR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ge(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Nn(A)}r._authCredentials=new rx(new p1(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ga(this.firestore,e,this._query)}}class Ht{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(xu(n,Ht._jsonSchema))return new Ht(e,s||null,new Ae(_t.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:sn("string",Ht._jsonSchemaVersion),referencePath:sn("string")};class Qs extends Ga{constructor(e,n,s){super(e,n,Xp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Ae(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function $l(r,e,...n){if(r=Ft(r),y1("collection","path",e),r instanceof gf){const s=_t.fromString(e,...n);return Q0(s),new Qs(r,null,s)}{if(!(r instanceof Ht||r instanceof Qs))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(_t.fromString(e,...n));return Q0(s),new Qs(r.firestore,null,s)}}function Jn(r,e,...n){if(r=Ft(r),arguments.length===1&&(e=Fp.newId()),y1("doc","path",e),r instanceof gf){const s=_t.fromString(e,...n);return G0(s),new Ht(r,null,new Ae(s))}{if(!(r instanceof Ht||r instanceof Qs))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(_t.fromString(e,...n));return G0(s),new Ht(r.firestore,r instanceof Qs?r.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="AsyncQueue";class kE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new sg(this,"async_queue_retry"),this.oc=()=>{const s=km();s&&ve(VE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Yr;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Wo(e))throw e;ve(VE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,Jr("INTERNAL UNHANDLED ERROR: ",PE(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=cg.createAndSchedule(this,e,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&De(47125,{hc:PE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function PE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Zr extends gf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new kE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kE(e),this._firestoreClient=void 0,await e}}}function XN(r,e){const n=typeof r=="object"?r:AT(),s=typeof r=="string"?r:Uh,o=Np(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=NR("firestore");u&&$N(o,...u)}return o}function Lu(r){if(r._terminated)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||JN(r),r._firestoreClient}function JN(r){var e,n,s;const o=r._freezeSettings(),u=(function(m,p,g,E){return new bx(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Mw(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new FN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(Sn.fromBase64String(e))}catch(n){throw new ge(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fi(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xu(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:sn("string",fi._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yr._jsonSchemaVersion}}static fromJSON(e){if(xu(e,yr._jsonSchema))return new yr(e.latitude,e.longitude)}}yr._jsonSchemaVersion="firestore/geoPoint/1.0",yr._jsonSchema={type:sn("string",yr._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xu(e,vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new vr(e.vectorValues);throw new ge(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vr._jsonSchemaVersion="firestore/vectorValue/1.0",vr._jsonSchema={type:sn("string",vr._jsonSchemaVersion),vectorValues:sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=/^__.*__$/;class ZN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(e,this.data,n,this.fieldTransforms)}}class Vw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ec:r})}}class yf{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new yf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Kh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(kw(this.Ec)&&WN.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class eM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||df(e)}Dc(e,n,s,o=!1){return new yf({Ec:e,methodName:n,bc:s,path:bn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zu(r){const e=r._freezeSettings(),n=df(r._databaseId);return new eM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function gg(r,e,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);Tg("Data must be an object, but it was:",f,s);const m=Pw(s,f);let p,g;if(u.merge)p=new di(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=Tp(e,w,n);if(!f.contains(A))throw new ge(ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Uw(E,A)||E.push(A)}p=new di(E),g=f.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,g=f.fieldTransforms;return new ZN(new Bn(m),p,g)}class ju extends Uu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ju}}function tM(r,e,n){return new yf({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yg extends Uu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=tM(this,e,!0),s=this.vc.map((u=>tl(u,n))),o=new Ho(s);return new Y1(e.path,o)}isEqual(e){return e instanceof yg&&Ks(this.vc,e.vc)}}class vg extends Uu{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new _u(e.serializer,q1(e.serializer,this.Cc));return new Y1(e.path,n)}isEqual(e){return e instanceof vg&&this.Cc===e.Cc}}function _g(r,e,n,s){const o=r.Dc(1,e,n);Tg("Data must be an object, but it was:",o,s);const u=[],f=Bn.empty();ia(s,((p,g)=>{const E=wg(e,p,n);g=Ft(g);const w=o.gc(E);if(g instanceof ju)u.push(E);else{const A=tl(g,w);A!=null&&(u.push(E),f.set(E,A))}}));const m=new di(u);return new Vw(f,m,o.fieldTransforms)}function Eg(r,e,n,s,o,u){const f=r.Dc(1,e,n),m=[Tp(e,s,n)],p=[o];if(u.length%2!=0)throw new ge(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Tp(e,u[A])),p.push(u[A+1]);const g=[],E=Bn.empty();for(let A=m.length-1;A>=0;--A)if(!Uw(g,m[A])){const V=m[A];let G=p[A];G=Ft(G);const Z=f.gc(V);if(G instanceof ju)g.push(V);else{const L=tl(G,Z);L!=null&&(g.push(V),E.set(V,L))}}const w=new di(g);return new Vw(E,w,f.fieldTransforms)}function nM(r,e,n,s=!1){return tl(n,r.Dc(s?4:3,e))}function tl(r,e){if(Lw(r=Ft(r)))return Tg("Unsupported field value:",e,r),Pw(r,e);if(r instanceof Uu)return(function(s,o){if(!kw(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=tl(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ft(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return q1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=It.fromDate(s);return{timestampValue:Hh(o.serializer,u)}}if(s instanceof It){const u=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hh(o.serializer,u)}}if(s instanceof yr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fi)return{bytesValue:tw(o.serializer,s._byteString)};if(s instanceof Ht){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:eg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof vr)return(function(f,m){return{mapValue:{fields:{[R1]:{stringValue:I1},[zh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return Jp(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${sf(s)}`)})(r,e)}function Pw(r,e){const n={};return E1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(r,((s,o)=>{const u=tl(o,e.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Lw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof It||r instanceof yr||r instanceof fi||r instanceof Ht||r instanceof Uu||r instanceof vr)}function Tg(r,e,n){if(!Lw(n)||!v1(n)){const s=sf(n);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Tp(r,e,n){if((e=Ft(e))instanceof el)return e._internalPath;if(typeof e=="string")return wg(r,e);throw Kh("Field path arguments must be of type string or ",r,!1,void 0,n)}const iM=new RegExp("[~\\*/\\[\\]]");function wg(r,e,n){if(e.search(iM)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new el(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Kh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ge(ie.INVALID_ARGUMENT,m+r+p)}function Uw(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rM extends $h{data(){return super.data()}}function bg(r,e){return typeof e=="string"?wg(r,e):e instanceof el?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class sM extends Sg{}function aM(r,e,...n){let s=[];e instanceof Sg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Ag)).length,m=u.filter((p=>p instanceof vf)).length;if(f>1||f>0&&m>0)throw new ge(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class vf extends sM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new vf(e,n,s)}_apply(e){const n=this._parse(e);return jw(e._query,n),new Ga(e.firestore,e.converter,cp(e._query,n))}_parse(e){const n=zu(e.firestore);return(function(u,f,m,p,g,E,w){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){zE(w,E);const G=[];for(const Z of w)G.push(UE(p,u,Z));A={arrayValue:{values:G}}}else A=UE(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||zE(w,E),A=nM(m,f,w,E==="in"||E==="not-in");return rn.create(g,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oM(r,e,n){const s=e,o=bg("where",r);return vf._create(o,s,n)}class Ag extends Sg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ag(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Wi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)jw(f,p),f=cp(f,p)})(e._query,n),new Ga(e.firestore,e.converter,cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function UE(r,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k1(e)&&n.indexOf("/")!==-1)throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(_t.fromString(n));if(!Ae.isDocumentKey(s))throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return eE(r,new Ae(s))}if(n instanceof Ht)return eE(r,n._key);throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sf(n)}.`)}function zE(r,e){if(!Array.isArray(r)||r.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jw(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Bw{convertValue(e,n="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ia(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[zh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>Kt(f.doubleValue)));return new vr(u)}convertGeoPoint(e){return new yr(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=of(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=Js(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=_t.fromString(e);at(lw(s),9688,{name:e});const o=new gu(s.get(1),s.get(3)),u=new Ae(s.popFirst(5));return o.isEqual(n)||Jr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class lM extends Bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}class Oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ys extends $h{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(bg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ys._jsonSchema={type:sn("string",Ys._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class Ih extends Ys{data(e={}){return super.data(e)}}class La{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Oo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ih(this._firestore,this._userDataWriter,s.key,s,new Oo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Oo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Oo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:uM(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=La._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:r})}}La._jsonSchemaVersion="firestore/querySnapshot/1.0",La._jsonSchema={type:sn("string",La._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class _f extends Bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function jE(r){r=mi(r,Ga);const e=mi(r.firestore,Zr),n=Lu(e),s=new _f(e);return zw(r._query),KN(n,r._query).then((o=>new La(e,s,r,o)))}function Xl(r,e,n){r=mi(r,Ht);const s=mi(r.firestore,Zr),o=Rg(r.converter,e,n);return Ef(s,[gg(zu(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,un.none())])}function Jl(r,e,n,...s){r=mi(r,Ht);const o=mi(r.firestore,Zr),u=zu(o);let f;return f=typeof(e=Ft(e))=="string"||e instanceof el?Eg(u,"updateDoc",r._key,e,n,s):_g(u,"updateDoc",r._key,e),Ef(o,[f.toMutation(r._key,un.exists(!0))])}function Lm(r){return Ef(mi(r.firestore,Zr),[new Ou(r._key,un.none())])}function Um(r,...e){var n,s,o;r=Ft(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||LE(e[f])||(u=e[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(LE(e[f])){const w=e[f];e[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,E;if(r instanceof Ht)g=mi(r.firestore,Zr),E=Xp(r._key.path),p={next:w=>{e[f]&&e[f](cM(g,r,w))},error:e[f+1],complete:e[f+2]};else{const w=mi(r,Ga);g=mi(w.firestore,Zr),E=w._query;const A=new _f(g);p={next:V=>{e[f]&&e[f](new La(g,A,w,V))},error:e[f+1],complete:e[f+2]},zw(r._query)}return(function(A,V,G,Z){const L=new Nw(Z),ue=new ww(V,L,G);return A.asyncQueue.enqueueAndForget((async()=>Ew(await Ep(A),ue))),()=>{L.Ou(),A.asyncQueue.enqueueAndForget((async()=>Tw(await Ep(A),ue)))}})(Lu(g),E,m,p)}function Ef(r,e){return(function(s,o){const u=new Yr;return s.asyncQueue.enqueueAndForget((async()=>ON(await QN(s),o,u))),u.promise})(Lu(r),e)}function cM(r,e,n){const s=n.docs.get(e._key),o=new _f(r);return new Ys(r,o,e._key,s,new Oo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zu(e)}set(e,n,s){this._verifyNotCommitted();const o=js(e,this._firestore),u=Rg(o.converter,n,s),f=gg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,un.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=js(e,this._firestore);let f;return f=typeof(n=Ft(n))=="string"||n instanceof el?Eg(this._dataReader,"WriteBatch.update",u._key,n,s,o):_g(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=js(e,this._firestore);return this._mutations=this._mutations.concat(new Ou(n._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ge(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function js(r,e){if((r=Ft(r)).firestore!==e)throw new ge(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=zu(e)}get(e){const n=js(e,this._firestore),s=new lM(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return De(24041);const u=o[0];if(u.isFoundDocument())return new $h(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new $h(this._firestore,s,n._key,null,n.converter);throw De(18433,{doc:u})}))}set(e,n,s){const o=js(e,this._firestore),u=Rg(o.converter,n,s),f=gg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,n,s,...o){const u=js(e,this._firestore);let f;return f=typeof(n=Ft(n))=="string"||n instanceof el?Eg(this._dataReader,"Transaction.update",u._key,n,s,o):_g(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(e){const n=js(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM extends dM{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=js(e,this._firestore),s=new _f(this._firestore);return super.get(e).then((o=>new Ys(this._firestore,s,n._key,o._document,new Oo(!1,!1),n.converter)))}}function pM(r,e,n){r=mi(r,Zr);const s=Object.assign(Object.assign({},hM),n);return(function(u){if(u.maxAttempts<1)throw new ge(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Yr;return u.asyncQueue.enqueueAndForget((async()=>{const g=await YN(u);new HN(u.asyncQueue,g,m,f,p).zu()})),p.promise})(Lu(r),(o=>e(new mM(r,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){return new ju("deleteField")}function yM(...r){return new yg("arrayUnion",r)}function vM(r){return new vg("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(r){return Lu(r=mi(r,Zr)),new fM(r,(e=>Ef(r,e)))}(function(e,n=!0){(function(o){Xo=o})(Ko),Uo(new Ua("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Zr(new sx(s.getProvider("auth-internal")),new lx(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(g.options.projectId,E)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Hs(j0,B0,e),Hs(j0,B0,"esm2017")})();var EM="firebase",TM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hs(EM,TM,"app");const wM={apiKey:"AIzaSyA6gk3B0uFG3y7v4jhCWb9zzlPSmX0CjdU",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.appspot.com",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},qw=ST(wM),ki=tx(qw),pn=XN(qw),zm=new Hr;(async()=>{try{await su(ki,i1)}catch{try{await su(ki,tf)}catch{await su(ki,np)}}})();var Ig={};(function r(e,n,s,o){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=(function(){if(!e.OffscreenCanvas)return!1;try{var q=new OffscreenCanvas(1,1),T=q.getContext("2d");T.fillRect(0,0,1,1);var j=q.transferToImageBitmap();T.createPattern(j,"no-repeat")}catch{return!1}return!0})();function p(){}function g(q){var T=n.exports.Promise,j=T!==void 0?T:e.Promise;return typeof j=="function"?new j(q):(q(p,p),null)}var E=(function(q,T){return{transform:function(j){if(q)return j;if(T.has(j))return T.get(j);var J=new OffscreenCanvas(j.width,j.height),oe=J.getContext("2d");return oe.drawImage(j,0,0),T.set(j,J),J},clear:function(){T.clear()}}})(m,new Map),w=(function(){var q=Math.floor(16.666666666666668),T,j,J={},oe=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(le){var pe=Math.random();return J[pe]=requestAnimationFrame(function fe(Ee){oe===Ee||oe+q-1<Ee?(oe=Ee,delete J[pe],le()):J[pe]=requestAnimationFrame(fe)}),pe},j=function(le){J[le]&&cancelAnimationFrame(J[le])}):(T=function(le){return setTimeout(le,q)},j=function(le){return clearTimeout(le)}),{frame:T,cancel:j}})(),A=(function(){var q,T,j={};function J(oe){function le(pe,fe){oe.postMessage({options:pe||{},callback:fe})}oe.init=function(fe){var Ee=fe.transferControlToOffscreen();oe.postMessage({canvas:Ee},[Ee])},oe.fire=function(fe,Ee,Se){if(T)return le(fe,null),T;var Qe=Math.random().toString(36).slice(2);return T=g(function(Ue){function Fe(ct){ct.data.callback===Qe&&(delete j[Qe],oe.removeEventListener("message",Fe),T=null,E.clear(),Se(),Ue())}oe.addEventListener("message",Fe),le(fe,Qe),j[Qe]=Fe.bind(null,{data:{callback:Qe}})}),T},oe.reset=function(){oe.postMessage({reset:!0});for(var fe in j)j[fe](),delete j[fe]}}return function(){if(q)return q;if(!s&&u){var oe=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{q=new Worker(URL.createObjectURL(new Blob([oe])))}catch(le){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",le),null}J(q)}return q}})(),V={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function G(q,T){return T?T(q):q}function Z(q){return q!=null}function L(q,T,j){return G(q&&Z(q[T])?q[T]:V[T],j)}function ue(q){return q<0?0:Math.floor(q)}function he(q,T){return Math.floor(Math.random()*(T-q))+q}function re(q){return parseInt(q,16)}function be(q){return q.map(Le)}function Le(q){var T=String(q).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:re(T.substring(0,2)),g:re(T.substring(2,4)),b:re(T.substring(4,6))}}function xe(q){var T=L(q,"origin",Object);return T.x=L(T,"x",Number),T.y=L(T,"y",Number),T}function N(q){q.width=document.documentElement.clientWidth,q.height=document.documentElement.clientHeight}function I(q){var T=q.getBoundingClientRect();q.width=T.width,q.height=T.height}function C(q){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=q,T}function O(q,T,j,J,oe,le,pe,fe,Ee){q.save(),q.translate(T,j),q.rotate(le),q.scale(J,oe),q.arc(0,0,1,pe,fe,Ee),q.restore()}function k(q){var T=q.angle*(Math.PI/180),j=q.spread*(Math.PI/180);return{x:q.x,y:q.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:q.startVelocity*.5+Math.random()*q.startVelocity,angle2D:-T+(.5*j-Math.random()*j),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:q.color,shape:q.shape,tick:0,totalTicks:q.ticks,decay:q.decay,drift:q.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:q.gravity*3,ovalScalar:.6,scalar:q.scalar,flat:q.flat}}function B(q,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var j=T.tick++/T.totalTicks,J=T.x+T.random*T.tiltCos,oe=T.y+T.random*T.tiltSin,le=T.wobbleX+T.random*T.tiltCos,pe=T.wobbleY+T.random*T.tiltSin;if(q.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-j)+")",q.beginPath(),f&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))q.fill(de(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(le-J)*.1,Math.abs(pe-oe)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var fe=Math.PI/10*T.wobble,Ee=Math.abs(le-J)*.1,Se=Math.abs(pe-oe)*.1,Qe=T.shape.bitmap.width*T.scalar,Ue=T.shape.bitmap.height*T.scalar,Fe=new DOMMatrix([Math.cos(fe)*Ee,Math.sin(fe)*Ee,-Math.sin(fe)*Se,Math.cos(fe)*Se,T.x,T.y]);Fe.multiplySelf(new DOMMatrix(T.shape.matrix));var ct=q.createPattern(E.transform(T.shape.bitmap),"no-repeat");ct.setTransform(Fe),q.globalAlpha=1-j,q.fillStyle=ct,q.fillRect(T.x-Qe/2,T.y-Ue/2,Qe,Ue),q.globalAlpha=1}else if(T.shape==="circle")q.ellipse?q.ellipse(T.x,T.y,Math.abs(le-J)*T.ovalScalar,Math.abs(pe-oe)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):O(q,T.x,T.y,Math.abs(le-J)*T.ovalScalar,Math.abs(pe-oe)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var Re=Math.PI/2*3,ze=4*T.scalar,dt=8*T.scalar,xt=T.x,Vt=T.y,Gt=5,Ut=Math.PI/Gt;Gt--;)xt=T.x+Math.cos(Re)*dt,Vt=T.y+Math.sin(Re)*dt,q.lineTo(xt,Vt),Re+=Ut,xt=T.x+Math.cos(Re)*ze,Vt=T.y+Math.sin(Re)*ze,q.lineTo(xt,Vt),Re+=Ut;else q.moveTo(Math.floor(T.x),Math.floor(T.y)),q.lineTo(Math.floor(T.wobbleX),Math.floor(oe)),q.lineTo(Math.floor(le),Math.floor(pe)),q.lineTo(Math.floor(J),Math.floor(T.wobbleY));return q.closePath(),q.fill(),T.tick<T.totalTicks}function D(q,T,j,J,oe){var le=T.slice(),pe=q.getContext("2d"),fe,Ee,Se=g(function(Qe){function Ue(){fe=Ee=null,pe.clearRect(0,0,J.width,J.height),E.clear(),oe(),Qe()}function Fe(){s&&!(J.width===o.width&&J.height===o.height)&&(J.width=q.width=o.width,J.height=q.height=o.height),!J.width&&!J.height&&(j(q),J.width=q.width,J.height=q.height),pe.clearRect(0,0,J.width,J.height),le=le.filter(function(ct){return B(pe,ct)}),le.length?fe=w.frame(Fe):Ue()}fe=w.frame(Fe),Ee=Ue});return{addFettis:function(Qe){return le=le.concat(Qe),Se},canvas:q,promise:Se,reset:function(){fe&&w.cancel(fe),Ee&&Ee()}}}function Ct(q,T){var j=!q,J=!!L(T||{},"resize"),oe=!1,le=L(T,"disableForReducedMotion",Boolean),pe=u&&!!L(T||{},"useWorker"),fe=pe?A():null,Ee=j?N:I,Se=q&&fe?!!q.__confetti_initialized:!1,Qe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ue;function Fe(Re,ze,dt){for(var xt=L(Re,"particleCount",ue),Vt=L(Re,"angle",Number),Gt=L(Re,"spread",Number),Ut=L(Re,"startVelocity",Number),Zi=L(Re,"decay",Number),sa=L(Re,"gravity",Number),Tr=L(Re,"drift",Number),zt=L(Re,"colors",be),ns=L(Re,"ticks",Number),Dt=L(Re,"shapes"),jt=L(Re,"scalar"),Rn=!!L(Re,"flat"),er=xe(Re),Zn=xt,Li=[],yi=q.width*er.x,vi=q.height*er.y;Zn--;)Li.push(k({x:yi,y:vi,angle:Vt,spread:Gt,startVelocity:Ut,color:zt[Zn%zt.length],shape:Dt[he(0,Dt.length)],ticks:ns,decay:Zi,gravity:sa,drift:Tr,scalar:jt,flat:Rn}));return Ue?Ue.addFettis(Li):(Ue=D(q,Li,Ee,ze,dt),Ue.promise)}function ct(Re){var ze=le||L(Re,"disableForReducedMotion",Boolean),dt=L(Re,"zIndex",Number);if(ze&&Qe)return g(function(Ut){Ut()});j&&Ue?q=Ue.canvas:j&&!q&&(q=C(dt),document.body.appendChild(q)),J&&!Se&&Ee(q);var xt={width:q.width,height:q.height};fe&&!Se&&fe.init(q),Se=!0,fe&&(q.__confetti_initialized=!0);function Vt(){if(fe){var Ut={getBoundingClientRect:function(){if(!j)return q.getBoundingClientRect()}};Ee(Ut),fe.postMessage({resize:{width:Ut.width,height:Ut.height}});return}xt.width=xt.height=null}function Gt(){Ue=null,J&&(oe=!1,e.removeEventListener("resize",Vt)),j&&q&&(document.body.contains(q)&&document.body.removeChild(q),q=null,Se=!1)}return J&&!oe&&(oe=!0,e.addEventListener("resize",Vt,!1)),fe?fe.fire(Re,xt,Gt):Fe(Re,xt,Gt)}return ct.reset=function(){fe&&fe.reset(),Ue&&Ue.reset()},ct}var Ot;function ee(){return Ot||(Ot=Ct(null,{useWorker:!0,resize:!0})),Ot}function de(q,T,j,J,oe,le,pe){var fe=new Path2D(q),Ee=new Path2D;Ee.addPath(fe,new DOMMatrix(T));var Se=new Path2D;return Se.addPath(Ee,new DOMMatrix([Math.cos(pe)*oe,Math.sin(pe)*oe,-Math.sin(pe)*le,Math.cos(pe)*le,j,J])),Se}function we(q){if(!f)throw new Error("path confetti are not supported in this browser");var T,j;typeof q=="string"?T=q:(T=q.path,j=q.matrix);var J=new Path2D(T),oe=document.createElement("canvas"),le=oe.getContext("2d");if(!j){for(var pe=1e3,fe=pe,Ee=pe,Se=0,Qe=0,Ue,Fe,ct=0;ct<pe;ct+=2)for(var Re=0;Re<pe;Re+=2)le.isPointInPath(J,ct,Re,"nonzero")&&(fe=Math.min(fe,ct),Ee=Math.min(Ee,Re),Se=Math.max(Se,ct),Qe=Math.max(Qe,Re));Ue=Se-fe,Fe=Qe-Ee;var ze=10,dt=Math.min(ze/Ue,ze/Fe);j=[dt,0,0,dt,-Math.round(Ue/2+fe)*dt,-Math.round(Fe/2+Ee)*dt]}return{type:"path",path:T,matrix:j}}function Ge(q){var T,j=1,J="#000000",oe='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof q=="string"?T=q:(T=q.text,j="scalar"in q?q.scalar:j,oe="fontFamily"in q?q.fontFamily:oe,J="color"in q?q.color:J);var le=10*j,pe=""+le+"px "+oe,fe=new OffscreenCanvas(le,le),Ee=fe.getContext("2d");Ee.font=pe;var Se=Ee.measureText(T),Qe=Math.ceil(Se.actualBoundingBoxRight+Se.actualBoundingBoxLeft),Ue=Math.ceil(Se.actualBoundingBoxAscent+Se.actualBoundingBoxDescent),Fe=2,ct=Se.actualBoundingBoxLeft+Fe,Re=Se.actualBoundingBoxAscent+Fe;Qe+=Fe+Fe,Ue+=Fe+Fe,fe=new OffscreenCanvas(Qe,Ue),Ee=fe.getContext("2d"),Ee.font=pe,Ee.fillStyle=J,Ee.fillText(T,ct,Re);var ze=1/j;return{type:"bitmap",bitmap:fe.transferToImageBitmap(),matrix:[ze,0,0,ze,-Qe*ze/2,-Ue*ze/2]}}n.exports=function(){return ee().apply(this,arguments)},n.exports.reset=function(){ee().reset()},n.exports.create=Ct,n.exports.shapeFromPath=we,n.exports.shapeFromText=Ge})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Ig,!1);const bM=Ig.exports;Ig.exports.create;const SM=({className:r})=>z.jsxs("span",{className:"relative inline-block "+(r||""),children:[z.jsx(hT,{className:"w-5 h-5"}),z.jsx("span",{className:"absolute -right-1 -top-1",children:z.jsx(Km,{className:"w-3.5 h-3.5"})})]});(async()=>{try{await su(ki,tf)}catch{}})();function AM(r,e){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(r)}&token=${encodeURIComponent(e)}`}async function RM(r){try{return await navigator.clipboard.writeText(r),!0}catch{return window.prompt("  :",r),!1}}async function tu(){try{try{await su(ki,tf)}catch{}await cC(ki,zm)}catch(r){const e=r==null?void 0:r.code;if(e==="auth/popup-blocked"||e==="auth/cancelled-popup-request"||e==="auth/popup-closed-by-user"){await N0(ki,zm);return}await N0(ki,zm)}}function IM(r){const e=encodeURIComponent(r);window.open(`https://wa.me/?text=${e}`,"_blank")}const CM=()=>{const[r]=sR(),e=Sp(),n=r.get("listId"),s=r.get("token"),[o,u]=P.useState(ki.currentUser),[f,m]=P.useState(!0),[p,g]=P.useState(!1),[E,w]=P.useState(null);P.useEffect(()=>KT(ki,G=>{u(G),m(!1)}),[]);const A=async()=>{w(null);try{await tu()}catch(G){w((G==null?void 0:G.message)||" ")}},V=async()=>{if(!n||!s){w("    (listId  token)");return}if(!o){await A();return}g(!0),w(null);try{await pM(pn,async G=>{var re;const Z=Jn(pn,"lists",n),L=await G.get(Z);if(!L.exists())throw new Error("  ");const he=(re=L.data().pendingInvites)==null?void 0:re[s];if(!he)throw new Error("  ");if(he.expiresAt<Date.now())throw new Error("  ");G.update(Z,{sharedWith:yM(o.uid),[`pendingInvites.${s}`]:gM()})}),localStorage.setItem("activeListId",n),e("/")}catch(G){w((G==null?void 0:G.message)||"  ")}finally{g(!1)}};return f?z.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif'},children:[z.jsx("style",{children:`
        html, body, #root {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        *, *::before, *::after,
        input, button, select, textarea, option, label {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        input::placeholder, textarea::placeholder {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
      `}),z.jsx(nu,{className:"animate-spin text-indigo-600"})]}):z.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:z.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[z.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:z.jsx(dT,{className:"w-10 h-10"})}),z.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?z.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,E?z.jsx("p",{className:"text-rose-500 font-bold break-words",children:E}):null,o?z.jsx("button",{onClick:V,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?z.jsx(nu,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):z.jsxs("button",{onClick:A,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[z.jsx(fT,{className:"w-4 h-4"}),"   "]})]})})},Hw={:1,:1,:2,:2,:2,:2,:2,:3,:3,:4,:4,:5,:5,:6,:6,:7,:7,:8,:9,:9,:10,:10},Oi=r=>(r||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),Fw=r=>(r||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\b\b/g,",").replace(/\b\b/g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim();function Xh(r){return r?/^\d+$/.test(r)?!0:Hw[r]!=null:!1}function xM(r){if(!r)return null;if(/^\d+$/.test(r))return Number(r);const e=Hw[r];return e??null}const DM=new Set(["","","","","","","","","","","","","","","","","","","","","","","",""]);function NM(r){return DM.has(r)}const jm=new Set([" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","' "," "," "," "]),Bm=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),qm=new Set(["","","","","","","","","","","","",""]);function MM(r){const e=[];let n=0;const s=o=>o&&o.startsWith("")&&o.length>1?o.slice(1):o;for(;n<r.length;){const o=r[n],u=n+1<r.length?r[n+1]:"";if(o&&u&&!Xh(o)&&!Xh(u)){const f=`${o} ${u}`,m=s(u),p=`${o} ${m}`;if(jm.has(f)||jm.has(p)){e.push(jm.has(f)?f:p),n+=2;continue}if(Bm.has(u)||Bm.has(m)){e.push(Bm.has(u)?f:p),n+=2;continue}if(qm.has(u)||qm.has(m)){e.push(qm.has(u)?f:p),n+=2;continue}}e.push(o),n+=1}return e}function OM(r){const e=Oi(r);if(!e)return[];let n=e.split(" ").filter(Boolean);if(n=MM(n),n.length===0)return[];const s=[];let o=1,u=[];const f=p=>{const g=u.join(" ").trim();if(g){const E=Math.max(1,Number(p??o??1));s.push({name:g,qty:E})}o=1,u=[]},m=p=>p+1<n.length?n[p+1]:"";for(let p=0;p<n.length;p++){const g=n[p];if(Xh(g)){const w=Math.max(1,xM(g)||1),A=m(p);if(u.length===0){o=w;continue}if(!A){f(w);continue}f(),o=w;continue}u.push(g);const E=m(p);u.length===1&&NM(u[0])||g===""||g===""||E===""||E===""||Xh(E)||f()}return u.length>0&&f(),s.map(p=>({name:p.name.replace(/\s+/g," ").trim(),qty:Math.max(1,Number(p.qty||1))})).filter(p=>p.name.length>0)}function VM(r){const e=Fw(r),n=Oi(e);if(!n)return[];const o=n.replace(/\s+\s+/g,",").replace(/\s+\s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+\s+/g,",").split(/,|\n/).map(f=>f.trim()).filter(Boolean),u=[];for(const f of o){const m=OM(f);for(const p of m)u.push(p)}return u}const kM=["","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","'"," "," "," ","","","","","","",""," "," ","",""," ","","","","","",""," ",""," "," "," "," "," "," ","",""," "];function mr(r){return r.trim().replace(/\s+/g," ").replace(/[]/g,'"').replace(/[]/g,"'").toLowerCase()}const Gw="shopping_list_item_history_v1",Qw="shopping_list_hidden_suggestions_v1",PM=1440*60*1e3;function Cg(){try{const r=localStorage.getItem(Qw);if(!r)return{};const e=JSON.parse(r);if(!e||typeof e!="object"||Array.isArray(e))return{};const n={};for(const[s,o]of Object.entries(e))typeof s=="string"&&typeof o=="number"&&Number.isFinite(o)&&(n[s]=o);return n}catch{return{}}}function xg(r){try{localStorage.setItem(Qw,JSON.stringify(r))}catch{}}function BE(){const r=Cg(),e=Date.now(),n=[];let s=!1;for(const[o,u]of Object.entries(r)){if(typeof u!="number"||!Number.isFinite(u)){delete r[o],s=!0;continue}u>e?n.push(o):(delete r[o],s=!0)}return s&&xg(r),n}function LM(r){const e=Cg();e[r]=Date.now()+PM,xg(e)}function Hm(r){try{const e=Cg();e[r]&&(delete e[r],xg(e))}catch{}}function UM(){try{const r=localStorage.getItem(Gw);if(!r)return{};const e=JSON.parse(r);return!e||typeof e!="object"?{}:e}catch{return{}}}function qE(r){try{localStorage.setItem(Gw,JSON.stringify(r))}catch{}}function zM(r){const e=r.query,n=mr(e),s=r.limit??8;if(!n)return[];const o=new Map,u=(g,E)=>{const w=g.trim();if(!w)return;const A=mr(w);if(!A||r.hiddenKeys.has(A))return;const V=o.get(A);if(V){V.sources.add(E);return}o.set(A,{name:w,key:A,sources:new Set([E])})};for(const g of r.favorites)u(g,"favorite");for(const g of r.items)u(g.name,"items");for(const[g,E]of Object.entries(r.history)){u((E==null?void 0:E.name)||g,"history");const w=o.get(g);w&&(w.history=E)}for(const g of kM)u(g,"static");const f=Array.from(o.values()),m=new Map;for(const g of r.items){const E=mr(g.name);E&&(m.has(E)||m.set(E,{id:g.id,quantity:g.quantity}))}const p=g=>{const E=g.key,w=E.startsWith(n),A=!w&&E.includes(n);if(!w&&!A)return-1/0;let V=w?120:70;if(g.sources.has("favorite")&&(V+=45),g.sources.has("history")&&(V+=35),g.sources.has("items")&&(V+=20),g.sources.has("static")&&(V+=10),g.history){const G=Math.max(0,g.history.count||0),Z=Math.max(0,g.history.lastUsed||0);V+=Math.min(30,Math.log2(G+1)*8);const L=(Date.now()-Z)/(1e3*60*60*24),ue=Math.max(0,20-L);V+=Math.min(20,ue)}return V};return f.map(g=>({c:g,s:p(g)})).filter(g=>Number.isFinite(g.s)).sort((g,E)=>E.s-g.s).slice(0,s).map(g=>{const E=m.get(g.c.key);return{name:g.c.name,key:g.c.key,canHide:g.c.sources.has("history")&&!g.c.sources.has("favorite"),isInList:!!E,itemId:E==null?void 0:E.id,currentQty:E==null?void 0:E.quantity}})}const jM=()=>{const[r,e]=P.useState(null),[n,s]=P.useState(null),[o,u]=P.useState([]),[f,m]=P.useState([]),[p,g]=P.useState("list"),[E,w]=P.useState(""),A=P.useRef(null),[V,G]=P.useState(!1),[Z,L]=P.useState(-1),ue=P.useRef({}),he=P.useRef(null);P.useEffect(()=>{ue.current=UM()},[]);const[re,be]=P.useState(!1),[Le,xe]=P.useState(!1),[N,I]=P.useState(!1),[C,O]=P.useState(()=>{const R=new Date,H=new Date(R);H.setMinutes(0,0,0),H.setHours(18),H.getTime()<R.getTime()&&H.setHours(R.getHours()+1);const $=ce=>String(ce).padStart(2,"0");return`${H.getFullYear()}-${$(H.getMonth()+1)}-${$(H.getDate())}T${$(H.getHours())}:${$(H.getMinutes())}`}),[k,B]=P.useState(60),[D,Ct]=P.useState(!0),[Ot,ee]=P.useState(!1),[de,we]=P.useState(!1),[Ge,q]=P.useState(!1),[T]=P.useState("hold_to_talk"),[j,J]=P.useState(""),[oe,le]=P.useState(null),pe=P.useRef(null),fe=P.useRef(!1),Ee=P.useRef([]),Se=P.useRef(""),Qe=P.useRef(!1),Ue=P.useRef(null),Fe=P.useRef(null),ct=P.useRef(!1),Re=P.useRef(null),[ze,dt]=P.useState({id:null,dx:0}),xt=P.useRef({}),Vt=70,Gt=110,Ut=R=>{const H=R;return H?!!H.closest("button, input, textarea, select, a, [data-noswipe='true']"):!1},Zi=R=>H=>{Ut(H.target)||(ct.current=!1,Ue.current={x:H.clientX,y:H.clientY,id:R,pointerId:H.pointerId},Fe.current={x:H.clientX,y:H.clientY},dt({id:R,dx:0}),xt.current[R]=!1)},sa=R=>H=>{const $=Ue.current;if(!$||$.id!==R||$.pointerId!==H.pointerId)return;Fe.current={x:H.clientX,y:H.clientY};const ce=H.clientX-$.x,ye=Math.max(-Gt,Math.min(Gt,ce)),Oe=Math.abs(ce)>=Vt;if(Oe&&!xt.current[R]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),xt.current[R]=!0),Oe||(xt.current[R]=!1),!Re.current&&Math.abs(ce)>10&&Math.abs(ce)>=Math.abs(H.clientY-$.y))try{H.currentTarget.setPointerCapture(H.pointerId),Re.current={el:H.currentTarget,pointerId:H.pointerId}}catch{}dt({id:R,dx:ye})},Tr=R=>async H=>{const $=Ue.current,ce=Fe.current;Ue.current=null;try{Re.current&&Re.current.el.releasePointerCapture($.pointerId)}catch{}if(Re.current=null,Fe.current=null,!$||$.id!==R){dt({id:null,dx:0});return}const ye=(ce==null?void 0:ce.x)??H.clientX,Oe=(ce==null?void 0:ce.y)??H.clientY,Ne=ye-$.x,it=Oe-$.y;if(dt({id:null,dx:0}),!(Math.abs(Ne)<Vt||Math.abs(Ne)<Math.abs(it))){ct.current=!0;try{Ne>0?await ei(R):Li.has(R)||await wr(R)}finally{window.setTimeout(()=>{ct.current=!1},0)}}},zt=R=>H=>{if(Ut(H.target))return;const $=H.touches[0];$&&(ct.current=!1,Ue.current={x:$.clientX,y:$.clientY,id:R,pointerId:-1},Fe.current={x:$.clientX,y:$.clientY},dt({id:R,dx:0}),xt.current[R]=!1)},ns=R=>H=>{const $=Ue.current;if(!$||$.id!==R)return;const ce=H.touches[0];if(!ce)return;Fe.current={x:ce.clientX,y:ce.clientY};const ye=ce.clientX-$.x,Oe=ce.clientY-$.y,Ne=Math.abs(ye)>=Vt;if(Ne&&!xt.current[R]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),xt.current[R]=!0),Ne||(xt.current[R]=!1),Math.abs(ye)<6||Math.abs(ye)<Math.abs(Oe))return;try{H.preventDefault()}catch{}const it=Math.max(-Gt,Math.min(Gt,ye));dt({id:R,dx:it})},Dt=R=>async H=>{const $=Ue.current,ce=Fe.current;if(Ue.current=null,Fe.current=null,!$||$.id!==R){dt({id:null,dx:0});return}const ye=ce?ce.x-$.x:0;if(Math.abs(ye)<Vt){dt({id:null,dx:0});return}ct.current=!0,ye>0?await ei(R):Li.has(R)||await wr(R),dt({id:null,dx:0})},jt=()=>{Ue.current=null,Fe.current=null;try{Re.current&&Re.current.el.releasePointerCapture(Re.current.pointerId)}catch{}Re.current=null,dt({id:null,dx:0})},Rn=P.useRef(null),er=P.useRef([]),Zn=P.useRef(!1);P.useEffect(()=>{Rn.current=(n==null?void 0:n.id)??null},[n==null?void 0:n.id]),P.useEffect(()=>{er.current=o},[o]),P.useEffect(()=>{if(!o||o.length===0){Zn.current=!1;return}const R=o.every(H=>H.isPurchased);R&&!Zn.current&&(Zn.current=!0,bM({particleCount:140,spread:75,origin:{y:.65}})),R||(Zn.current=!1)},[o]),P.useEffect(()=>{if(!oe)return;const R=setTimeout(()=>le(null),2500);return()=>clearTimeout(R)},[oe]),P.useEffect(()=>KT(ki,async R=>{try{if(e(R),Ct(!1),!R){s(null),u([]),m([]);return}we(!0);const H=aM($l(pn,"lists"),oM("sharedWith","array-contains",R.uid)),$=await jE(H);if($.empty){const ce=Jn($l(pn,"lists")),ye={id:ce.id,title:" ",ownerUid:R.uid,sharedWith:[R.uid],createdAt:Date.now(),updatedAt:Date.now()};await Xl(ce,ye),s(ye),localStorage.setItem("activeListId",ce.id)}else{const ce=localStorage.getItem("activeListId"),ye=ce?$.docs.find(Ne=>Ne.id===ce)??$.docs[0]:$.docs[0],Oe=ye.data();s({...Oe,id:ye.id}),localStorage.setItem("activeListId",ye.id)}we(!1)}finally{ee(!0)}}),[]),P.useEffect(()=>{if(!(n!=null&&n.id))return;const R=Jn(pn,"lists",n.id),H=$l(R,"items"),$=$l(R,"favorites"),ce=Um(R,Ne=>{Ne.exists()&&s({...Ne.data(),id:Ne.id})}),ye=Um(H,Ne=>{const it=Ne.docs.map(rt=>rt.data());u(it)}),Oe=Um($,Ne=>{const it=Ne.docs.map(rt=>{const je=rt.data();return{id:rt.id,name:String((je==null?void 0:je.name)||""),createdAt:Number((je==null?void 0:je.createdAt)||0)}});it.sort((rt,je)=>je.createdAt-rt.createdAt),m(it)});return()=>{ce(),ye(),Oe()}},[n==null?void 0:n.id]);const Li=P.useMemo(()=>{const R=new Set;for(const H of f)R.add(H.id);return R},[f]),yi=P.useMemo(()=>{const R=new Set,H=[];for(const $ of f){const ce=Oi($.name);ce&&(R.has(ce)||(R.add(ce),H.push($)))}return H},[f]),vi=P.useMemo(()=>o.filter(R=>!R.isPurchased).sort((R,H)=>H.createdAt-R.createdAt),[o]),$t=P.useMemo(()=>o.filter(R=>R.isPurchased).sort((R,H)=>(H.purchasedAt||0)-(R.purchasedAt||0)),[o]),On=R=>{const H=R.trim();if(!H)return;const $=mr(H);if(!$)return;const ce=ue.current[$],ye={name:H,count:((ce==null?void 0:ce.count)||0)+1,lastUsed:Date.now()};ue.current={...ue.current,[$]:ye},qE(ue.current)},kt=P.useRef(new Set);P.useEffect(()=>{kt.current=new Set(BE())},[]);const qn=P.useMemo(()=>{const R=new Set(BE());return kt.current=R,zM({query:E,favorites:(f??[]).map(H=>H.name),items:o??[],history:ue.current,hiddenKeys:R,limit:8})},[E,f,o]),aa=()=>{he.current&&window.clearTimeout(he.current),he.current=window.setTimeout(()=>{G(!1),L(-1)},120)},oa=()=>{he.current&&window.clearTimeout(he.current),G(!0)},Ui=async R=>{if(R.isInList&&R.itemId){const H=(R.currentQty??1)+1;await an(R.itemId,1);const $=R.key||mr(R.name);$&&(Hm($),kt.current.delete($)),le(`  -   -${H}`),w(""),L(-1),G(!1),window.requestAnimationFrame(()=>{var ce;return(ce=A.current)==null?void 0:ce.focus()});return}w(R.name),L(-1),G(!1),window.requestAnimationFrame(()=>{var H;return(H=A.current)==null?void 0:H.focus()})},_i=R=>{const H=R.key||mr(R.name);if(!H)return;const $={...ue.current};$[H]&&(delete $[H],ue.current=$,qE($));const ce=new Set(kt.current);ce.add(H),kt.current=ce,LM(H),G(!1),L(-1),window.requestAnimationFrame(()=>{var ye;return(ye=A.current)==null?void 0:ye.focus()})},tr=async R=>{if(R&&R.preventDefault(),!r){await tu();return}if(!(n!=null&&n.id))return;const H=E.trim();if(!H)return;const $=mr(H),ce=o.find(Ne=>mr(Ne.name)===$);if(ce){await an(ce.id,1),$&&(Hm($),kt.current.delete($)),On(ce.name),w(""),G(!1),L(-1);return}const ye=crypto.randomUUID(),Oe={id:ye,name:H,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Xl(Jn(pn,"lists",n.id,"items",ye),Oe),$&&(Hm($),kt.current.delete($)),On(H),w(""),G(!1),L(-1)},Vn=async R=>{if(!(n!=null&&n.id))return;const H=o.find(ce=>ce.id===R);if(!H)return;const $=!H.isPurchased;await Jl(Jn(pn,"lists",n.id,"items",R),{isPurchased:$,purchasedAt:$?Date.now():null})},an=async(R,H)=>{if(!(n!=null&&n.id))return;if(H>0){await Jl(Jn(pn,"lists",n.id,"items",R),{quantity:vM(H)});return}const $=o.find(ce=>ce.id===R);$&&await Jl(Jn(pn,"lists",n.id,"items",R),{quantity:Math.max(1,$.quantity+H)})},ei=async R=>{n!=null&&n.id&&await Lm(Jn(pn,"lists",n.id,"items",R))},wr=async R=>{if(!(n!=null&&n.id))return;const H=Jn(pn,"lists",n.id,"favorites",R);if(Li.has(R)){await Lm(H);return}const $=o.find(Oe=>Oe.id===R),ce=String(($==null?void 0:$.name)||""),ye=Oi(ce);ye&&f.some(Ne=>Oi(Ne.name)===ye)||await Xl(H,{name:ce,createdAt:Date.now()})},la=async R=>{n!=null&&n.id&&await Lm(Jn(pn,"lists",n.id,"favorites",R))},Ei=async()=>{const R=Rn.current||(n==null?void 0:n.id);if(!R)return;const H=$l(pn,"lists",R,"items"),$=await jE(H);if($.empty){xe(!1);return}const ce=$.docs;let ye=0;for(;ye<ce.length;){const Oe=_M(pn),Ne=ce.slice(ye,ye+450);for(const it of Ne)Oe.delete(it.ref);await Oe.commit(),ye+=Ne.length}xe(!1)},nr=async()=>{if(!r)return await tu(),null;if(!(n!=null&&n.id))return null;const R=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),H=Date.now()+2880*60*1e3;return await Jl(Jn(pn,"lists",n.id),{[`pendingInvites.${R}`]:{createdAt:Date.now(),expiresAt:H}}),AM(n.id,R)},on=async()=>{const R=await nr();if(R){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:" ",text:"   ",url:R});return}}catch{}await RM(R),be(!0),setTimeout(()=>be(!1),2e3)}},ua=(R,H)=>{const[$,ce]=R.split("T"),[ye,Oe,Ne]=$.split("-").map(Ye=>parseInt(Ye,10)),[it,rt]=ce.split(":").map(Ye=>parseInt(Ye,10)),je=new Date(ye,Oe-1,Ne,it,rt,0,0),Ce=new Date(je.getTime()+Math.max(15,H)*6e4),Xt=Ye=>String(Ye).padStart(2,"0"),bi=Ye=>`${Ye.getFullYear()}${Xt(Ye.getMonth()+1)}${Xt(Ye.getDate())}T${Xt(Ye.getHours())}${Xt(Ye.getMinutes())}00`,Fi=`${bi(je)}/${bi(Ce)}`,Gi=encodeURIComponent("  "),ni=encodeURIComponent("   -     "),Ln=encodeURIComponent("Asia/Jerusalem");return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${Gi}&dates=${encodeURIComponent(Fi)}&details=${ni}&ctz=${Ln}`},ir=()=>{const R=ua(C,k),H=navigator.userAgent||"",$=/Android/i.test(H),ce=/iPhone|iPad|iPod/i.test(H);if($){const ye=R.replace(/^https:\/\//i,"intent://")+"#Intent;scheme=https;package=com.google.android.calendar;end";window.location.href=ye,window.setTimeout(()=>{window.location.href=R},700);return}if(ce){window.location.href="googlecalendar://",window.setTimeout(()=>{window.location.href=R},700);return}window.open(R,"_blank","noopener,noreferrer")},rr=()=>{const R=(n==null?void 0:n.title)||" ",H=o.filter(Ce=>!Ce.isPurchased),$="",ce="",ye="",Oe="",Ne=H.length>0?H.map(Ce=>(Ce.quantity||1)<=1?`${$}${Ce.name}${ce}`:`${$}${Ce.name} X ${ye}${Ce.quantity}${Oe}${ce}`).join(`
`):`${$}(  )${ce}`,je=`${`*${R}:*`}

${Ne}

   `;IM(je)},zi=P.useRef(null),ji=P.useRef(null),In=P.useRef(null),[wt,kn]=P.useState({id:null,dx:0,rawDx:0}),Et=P.useRef({}),Nt=60,Pn=110,sr=async R=>{if(!(n!=null&&n.id))return;const H=mr(R.name);if(!o.find(ce=>!ce.isPurchased&&mr(ce.name)===H)){const ce=crypto.randomUUID(),ye={id:ce,name:R.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Xl(Jn(pn,"lists",n.id,"items",ce),ye)}},Ti=R=>H=>{Ut(H.target)||(zi.current={x:H.clientX,y:H.clientY,id:R,pointerId:H.pointerId},ji.current={x:H.clientX,y:H.clientY},kn({id:R,dx:0,rawDx:0}),Et.current[R]=!1)},Qa=R=>H=>{const $=zi.current;if(!$||$.id!==R)return;ji.current={x:H.clientX,y:H.clientY};const ce=H.clientX-$.x,ye=H.clientY-$.y,Oe=Math.abs(ce)>=Nt;if(Oe&&!Et.current[R]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),Et.current[R]=!0),Oe||(Et.current[R]=!1),!In.current&&Math.abs(ce)>10&&Math.abs(ye)<=Math.abs(ce)*1.2)try{H.currentTarget.setPointerCapture(H.pointerId),In.current={el:H.currentTarget,pointerId:H.pointerId}}catch{}if(Math.abs(ye)>Math.abs(ce)*1.6)return;const Ne=Math.max(-Pn,Math.min(Pn,ce));kn({id:R,dx:Ne,rawDx:ce})},ca=R=>async H=>{const $=zi.current,ce=ji.current;zi.current=null;try{In.current&&$&&In.current.el.releasePointerCapture($.pointerId)}catch{}if(In.current=null,ji.current=null,kn({id:null,dx:0,rawDx:0}),!$||$.id!==R)return;const ye=(ce==null?void 0:ce.x)??H.clientX,Oe=(ce==null?void 0:ce.y)??H.clientY,Ne=ye-$.x,it=Oe-$.y;if(Math.abs(Ne)<Nt||Math.abs(it)>Math.abs(Ne)*1.6)return;const rt=f.find(je=>je.id===R);Ne>0?(await la(R),le(" ")):rt&&await sr(rt)},Bi=()=>{zi.current=null,ji.current=null,In.current=null,kn({id:null,dx:0,rawDx:0})},wi=R=>{const H=Oi(R),$=o.find(ye=>Oi(ye.name)===H);return $||o.find(ye=>Oi(ye.name).includes(H)||H.includes(Oi(ye.name)))||null},qi=async(R,H)=>{const $=Rn.current||(n==null?void 0:n.id);if(!$)return;const ce=er.current||o,ye=R.trim();if(!ye)return;const Oe=ce.find(rt=>!rt.isPurchased&&Oi(rt.name)===Oi(ye));if(Oe){await Jl(Jn(pn,"lists",$,"items",Oe.id),{quantity:H});return}const Ne=crypto.randomUUID(),it={id:Ne,name:ye,quantity:H,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Xl(Jn(pn,"lists",$,"items",Ne),it)},Hi=R=>/(|||||||||)\s*(\s*)?(\s*)?(\s*)?(|)?/.test(R)||/^(||)$/.test(R)||R.includes("")&&R.includes("")&&(R.includes("")||R.includes(""))||R.includes("")&&(R.includes("")||R.includes("")),br=async R=>{if(!(Rn.current||(n==null?void 0:n.id)))return;const $=Oi(R);if(!$)return;if(Hi($)){await Ei(),le(" ");return}if(/^(|||)\s+/.test($)){const je=$.replace(/^(|||)\s+/,"").trim(),Ce=wi(je);if(!Ce){le("   ");return}await ei(Ce.id),le(`: ${Ce.name}`);return}const ce=$.match(/^(||)\s+(.+)\s+(||)$/);if(ce){const je=ce[2].trim(),Ce=wi(je);if(!Ce){le("   ");return}Ce.isPurchased||await Vn(Ce.id),le(` : ${Ce.name}`);return}const ye=$.match(/^(||)\s+(.+)$/);if(ye){const je=ye[2].trim(),Ce=wi(je);return Ce?(await an(Ce.id,1),le(`: ${Ce.name}`)):le("   ")}const Oe=$.match(/^(||)\s+(.+)$/);if(Oe){const je=Oe[2].trim(),Ce=wi(je);return Ce?(await an(Ce.id,-1),le(`: ${Ce.name}`)):le("   ")}const Ne=$.match(/^(|||)(?:\s+)?\s+(.+)$/),it=Ne?Ne[2]:$,rt=VM(it);if(rt.length!==0)for(const je of rt)await qi(je.name,je.qty)},ti=()=>{const R=window.SpeechRecognition||window.webkitSpeechRecognition;return R||null},bt=()=>{const R=ti();if(!R){alert("    .  Chrome  Edge.");return}if(!r){le("    "),tu();return}if(Ee.current=[],Se.current="",Qe.current=!1,fe.current=!0,J(""),q(!0),le("  -   "),pe.current){try{pe.current.stop()}catch{}pe.current=null}const H=new R;pe.current=H,H.lang="he-IL",H.interimResults=!0,H.maxAlternatives=1,H.continuous=!0;const $=3e3,ce=9e4;let ye=!1,Oe=Date.now(),Ne=null,it=null;const rt=()=>{Ne!=null&&window.clearTimeout(Ne),it!=null&&window.clearTimeout(it),Ne=null,it=null},je=()=>{fe.current&&ye&&(Ne!=null&&window.clearTimeout(Ne),Ne=window.setTimeout(()=>{if(!fe.current)return;Date.now()-Oe>=$&&Hn()},$+50))};it=window.setTimeout(()=>{fe.current&&(le("     - ..."),Hn())},ce),H.onstart=()=>{},H.onaudiostart=()=>{},H.onspeechstart=()=>{},H.onresult=Ce=>{try{let Xt="";const bi=Ce.results;if(!bi)return;for(let Gi=Ce.resultIndex??0;Gi<((bi==null?void 0:bi.length)??0);Gi++){const ni=bi[Gi],Ln=ni==null?void 0:ni[0],Ye=Fw(String((Ln==null?void 0:Ln.transcript)||""));Ye&&(ni.isFinal?(Ee.current.push(Ye),Se.current=""):(Xt=Ye,Se.current=Ye))}const Fi=Xt||(Ee.current.length?Ee.current[Ee.current.length-1]:"");Fi&&J(Fi),ye=!0,Oe=Date.now(),je()}catch{}},H.onerror=Ce=>{const Xt=String((Ce==null?void 0:Ce.error)||"");console.warn("Speech error:",Xt,Ce),Xt!=="no-speech"&&(rt(),clearVoiceTimers(),q(!1),fe.current=!1,Xt==="not-allowed"||Xt==="service-not-allowed"?alert("  .     ."):le(Xt==="audio-capture"?"   (    )":` : ${Xt||"unknown"}`))},H.onend=()=>{if(!fe.current){rt();return}je(),!Qe.current&&(Qe.current=!0,setTimeout(()=>{if(!fe.current){Qe.current=!1,rt();return}try{H.start()}catch{}finally{Qe.current=!1}},180))};try{H.start(),je()}catch(Ce){console.error(Ce),rt(),clearVoiceTimers(),q(!1),fe.current=!1,le("   ")}},Hn=async()=>{var ce,ye;if(!fe.current)return;fe.current=!1,q(!1);try{(ye=(ce=pe.current)==null?void 0:ce.stop)==null||ye.call(ce)}catch{}const R=Ee.current.join(" ").trim(),H=(Se.current||"").trim(),$=`${R} ${H}`.replace(/\s+/g," ").trim();if(Ee.current=[],Se.current="",!$){le("   -  ");return}le("...");try{await br($)}catch(Oe){console.error(Oe),le(`: ${String((Oe==null?void 0:Oe.message)||Oe||"")}`)}};return P.useEffect(()=>()=>{var R,H;try{fe.current=!1,(H=(R=pe.current)==null?void 0:R.stop)==null||H.call(R)}catch{}},[]),Ot?r?D?z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:z.jsx(nu,{className:"animate-spin text-indigo-600"})}):de||!(n!=null&&n.id)?z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:z.jsx(nu,{className:"animate-spin text-indigo-600"})}):z.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[z.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-6 py-4 items-center justify-between border-b border-slate-100 relative grid grid-cols-3 items-center",children:[z.jsxs("div",{className:"flex items-center gap-2 justify-start",children:[z.jsx("button",{onClick:()=>xe(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ",children:z.jsx(uh,{className:"w-5 h-5"})}),z.jsx("button",{onClick:on,className:"p-2 text-slate-400 hover:text-indigo-600",title:" ",children:re?z.jsx(mR,{className:"w-5 h-5 text-emerald-500"}):z.jsx(dT,{className:"w-5 h-5"})})]}),z.jsx("h1",{className:"text-xl font-bold text-indigo-600 leading-none text-center justify-self-center whitespace-nowrap",children:(n==null?void 0:n.title)||" "}),z.jsx("button",{onClick:()=>QI(ki),className:"justify-self-end w-9 h-9 min-w-0 p-0 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:"",children:z.jsx(yR,{className:"w-4 h-4"})})]}),z.jsx("div",{className:"px-5 pt-3",children:z.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[z.jsx("div",{className:"text-[11px] font-black text-slate-400",children:Ge?"  -    ":" :    ,  "}),j?z.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[": ",j]}):null,z.jsx("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:': "    " | " " | " "'})]})}),z.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:p==="list"?z.jsxs(z.Fragment,{children:[z.jsxs("form",{onSubmit:tr,className:"relative",children:[z.jsx("input",{ref:A,value:E,onFocus:oa,onBlur:aa,onKeyDown:R=>{if(V){if(R.key==="Escape"){R.preventDefault(),G(!1),L(-1);return}if(R.key==="ArrowDown"){if(R.preventDefault(),qn.length===0)return;L(H=>{const $=H+1;return $>=qn.length?0:$});return}if(R.key==="ArrowUp"){if(R.preventDefault(),qn.length===0)return;L(H=>{const $=H-1;return $<0?qn.length-1:$});return}if(R.key==="Tab"){if(qn.length===0)return;R.preventDefault(),Ui(qn[Math.max(0,Z>=0?Z:0)]);return}if(R.key==="Enter"&&qn.length>0){R.preventDefault();const H=Z>=0?Z:0;Ui(qn[H]);return}}},onChange:R=>{w(R.target.value),oa(),L(-1)},placeholder:"  ?",className:"w-full p-4 pr-12 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),z.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:z.jsx(Km,{className:"w-6 h-6"})}),V&&E.trim()&&qn.length>0?z.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 z-50 bg-white border border-slate-200 rounded-2xl shadow-lg overflow-hidden",dir:"rtl",onMouseDown:R=>{R.preventDefault()},onPointerDown:R=>{R.preventDefault()},children:qn.map((R,H)=>z.jsxs("div",{className:"w-full flex items-stretch justify-between gap-2 hover:bg-slate-50 transition-colors "+(H===Z?"bg-slate-100":""),children:[z.jsxs("button",{type:"button",className:"flex-1 text-right px-4 py-3 flex items-center justify-between",onPointerDown:$=>{$.preventDefault(),Ui(R)},title:"",children:[z.jsx("span",{className:"font-semibold text-slate-700",children:R.name}),R.isInList?z.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:["",typeof R.currentQty=="number"?` (${R.currentQty})`:""]}):z.jsx("span",{className:"text-xs text-slate-400",children:"Tab"})]}),R.canHide?z.jsx("button",{type:"button",className:"px-3 text-slate-400 hover:text-slate-700",onPointerDown:$=>{$.preventDefault(),$.stopPropagation(),_i(R)},title:" ","aria-label":" ",children:""}):null]},R.key+"-"+H))}):null]}),((o==null?void 0:o.length)??0)===0?z.jsxs("div",{className:"text-center py-20 opacity-20",children:[z.jsx(wR,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),z.jsx("p",{className:"text-lg font-bold",children:" "})]}):z.jsx("div",{className:"space-y-4",children:z.jsxs("div",{className:"space-y-3",children:[vi.map(R=>z.jsxs("div",{className:"relative overflow-hidden flex items-center justify-between p-3 bg-white rounded-2xl border border-slate-100 shadow-sm select-none",dir:"rtl",onPointerDown:Zi(R.id),onPointerMove:sa(R.id),onPointerUp:Tr(R.id),onPointerCancel:jt,onTouchStart:zt(R.id),onTouchMove:ns(R.id),onTouchEnd:Dt(R.id),style:{touchAction:"pan-y"},children:[z.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl",children:[z.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-rose-50",style:{width:ze.id===R.id&&ze.dx>0?Math.min(Math.abs(ze.dx),Gt):0,opacity:.9,zIndex:0}}),z.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-emerald-50",style:{width:ze.id===R.id&&ze.dx<0?Math.min(Math.abs(ze.dx),Gt):0,opacity:.9,zIndex:0}}),z.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 flex-row-reverse",children:[z.jsx("div",{className:"text-rose-600",style:{zIndex:2,opacity:ze.id===R.id&&ze.dx>0?Math.abs(ze.dx)>=Vt?1:.65:0,transform:ze.id===R.id&&ze.dx>0&&Math.abs(ze.dx)>=Vt?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:z.jsx(uh,{className:"w-6 h-6"})}),z.jsx("div",{className:"text-emerald-600",style:{zIndex:2,opacity:ze.id===R.id&&ze.dx<0?Math.abs(ze.dx)>=Vt?1:.65:0,transform:ze.id===R.id&&ze.dx<0&&Math.abs(ze.dx)>=Vt?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:z.jsx(lh,{className:"w-6 h-6"})})]})]}),z.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full",style:{transform:ze.id===R.id?`translateX(${ze.dx}px)`:void 0,transition:ze.id===R.id?"none":"transform 120ms ease-out"},children:[z.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>{ct.current||Vn(R.id)},children:R.name}),z.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100","data-noswipe":"true",children:[z.jsx("button",{onClick:()=>an(R.id,-1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:z.jsx(TR,{className:"w-3 h-3"})}),z.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:R.quantity}),z.jsx("button",{onClick:()=>an(R.id,1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:z.jsx(Km,{className:"w-3 h-3"})})]})]})]},R.id)),$t.length>0?z.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[z.jsxs("h3",{className:"text-lg font-bold text-slate-700 text-right mb-2",children:[" (",$t.length,")"]}),$t.map(R=>z.jsx("div",{className:"flex items-center justify-between p-3 bg-slate-100/50 rounded-2xl opacity-60 grayscale transition-all",dir:"rtl",children:z.jsxs("div",{className:"flex items-center justify-between w-full",children:[z.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-start cursor-pointer",onClick:()=>Vn(R.id),style:{direction:"rtl",unicodeBidi:"plaintext"},children:[z.jsx(gR,{className:"w-6 h-6 text-emerald-500 flex-shrink-0"}),z.jsx("span",{className:"text-base font-bold text-slate-500 line-through truncate text-left",children:z.jsxs("span",{className:"flex gap-1",children:[z.jsx("span",{children:R.name}),(R.quantity||1)>1&&z.jsxs(z.Fragment,{children:[z.jsx("span",{children:"x"}),z.jsx("span",{children:R.quantity})]})]})})]}),z.jsx("button",{onClick:()=>ei(R.id),className:"p-2 text-slate-300",title:"",children:z.jsx(uh,{className:"w-4 h-4"})})]})},R.id))]}):null]})})]}):z.jsxs("div",{className:"space-y-6",children:[z.jsxs("div",{className:"text-right",children:[z.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),z.jsx("p",{className:"text-sm text-slate-400 font-bold",children:z.jsx("span",{className:"font-semibold",children:"  "})})]}),yi.length===0?z.jsxs("div",{className:"text-center py-20 opacity-20",children:[z.jsx(lh,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),z.jsx("p",{className:"font-bold",children:"  "})]}):z.jsx("div",{className:"grid grid-cols-1 gap-3",children:yi.map(R=>z.jsxs("div",{className:"relative overflow-hidden rounded-2xl select-none",dir:"ltr",onPointerDown:Ti(R.id),onPointerMove:Qa(R.id),onPointerUp:ca(R.id),onPointerCancel:Bi,style:{touchAction:"pan-y"},children:[z.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl",children:[z.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-rose-50",style:{width:wt.id===R.id&&wt.rawDx>0?Math.min(Math.abs(wt.rawDx),Pn):0,opacity:.9,zIndex:0}}),z.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-emerald-50",style:{width:wt.id===R.id&&wt.rawDx<0?Math.min(Math.abs(wt.rawDx),Pn):0,opacity:.9,zIndex:0}}),z.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4",children:[z.jsx("div",{className:"text-rose-600",style:{zIndex:2,opacity:wt.id===R.id&&wt.rawDx>0?Math.abs(wt.rawDx)>=Nt?1:.65:0,transform:wt.id===R.id&&wt.rawDx>0&&Math.abs(wt.rawDx)>=Nt?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:z.jsx(uh,{className:"w-6 h-6"})}),z.jsx("div",{className:"text-emerald-600",style:{zIndex:2,opacity:wt.id===R.id&&wt.rawDx<0?Math.abs(wt.rawDx)>=Nt?1:.65:0,transform:wt.id===R.id&&wt.rawDx<0&&Math.abs(wt.rawDx)>=Nt?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:z.jsx(SM,{className:"w-6 h-6"})})]})]}),z.jsxs("div",{className:"relative z-10 flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-100 shadow-sm",style:{transform:wt.id===R.id?`translateX(${wt.dx}px)`:void 0,transition:wt.id===R.id?"none":"transform 160ms ease-out"},children:[z.jsx("div",{className:"flex items-center gap-2"}),z.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate px-3 text-base",style:{direction:"rtl",unicodeBidi:"plaintext"},children:R.name}),z.jsx(lh,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]})]},R.id))})]})}),z.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:z.jsx("div",{className:"max-w-md mx-auto px-4 pb-3",children:z.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:z.jsxs("div",{className:"relative flex items-center justify-between px-8 pt-9 pb-3",children:[z.jsxs("button",{onClick:()=>g("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[z.jsx(lh,{className:`w-7 h-7 ${p==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),""]}),z.jsxs("button",{onClick:rr,className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:"",children:[z.jsx(vR,{className:"w-7 h-7"}),""]}),z.jsxs("button",{onClick:()=>I(!0),className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:"",children:[z.jsx(c0,{className:"w-7 h-7"}),""]}),z.jsxs("button",{onClick:()=>g("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[z.jsx(hT,{className:"w-7 h-7"}),""]}),z.jsx("button",{onPointerDown:R=>{R.preventDefault(),bt()},onPointerUp:R=>{R.preventDefault(),Hn()},onPointerCancel:R=>{R.preventDefault(),Hn()},onPointerLeave:R=>{fe.current&&(R.preventDefault(),Hn())},onTouchStart:R=>{R.preventDefault(),bt()},onTouchEnd:R=>{R.preventDefault(),Hn()},onMouseDown:R=>{R.preventDefault(),bt()},onMouseUp:R=>{R.preventDefault(),Hn()},style:{touchAction:"none"},className:`absolute left-1/2 -translate-x-1/2 -top-8 w-16 h-16 rounded-full border-4 border-white shadow-xl flex items-center justify-center ${Ge?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:Ge?"  -   ":"   ",children:Ge?z.jsx(_R,{className:"w-7 h-7"}):z.jsx(ER,{className:"w-7 h-7"})})]})})})}),N?z.jsx("div",{className:"fixed inset-0 z-[70] bg-black/50 flex items-center justify-center p-6",dir:"rtl",children:z.jsx("div",{className:"w-full max-w-sm rounded-3xl bg-white shadow-2xl border border-slate-100 overflow-hidden",children:z.jsxs("div",{className:"p-6 space-y-4",children:[z.jsxs("div",{className:"flex items-start justify-between gap-3",children:[z.jsxs("div",{className:"text-right",children:[z.jsx("div",{className:"text-xl font-black text-slate-800",children:" "}),z.jsx("div",{className:"text-sm font-bold text-slate-400",children:"   (  )"})]}),z.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center",children:z.jsx(c0,{className:"w-5 h-5"})})]}),z.jsxs("div",{className:"space-y-3",children:[z.jsx("label",{className:"block text-sm font-black text-slate-600",children:"  ?"}),z.jsx("input",{type:"datetime-local",value:C,onChange:R=>O(R.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 font-bold text-slate-700 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),z.jsxs("div",{className:"space-y-3",children:[z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsx("span",{className:"text-sm font-black text-slate-600",children:""}),z.jsxs("span",{className:"text-sm font-black text-slate-500",children:[k," "]})]}),z.jsx("div",{className:"grid grid-cols-4 gap-2",dir:"ltr",children:[30,45,60,90].map(R=>z.jsx("button",{onClick:()=>B(R),className:`py-2 rounded-2xl font-black text-sm ${k===R?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700"}`,children:R},R))})]}),z.jsxs("div",{className:"flex gap-3 pt-2",children:[z.jsx("button",{onClick:()=>I(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),z.jsx("button",{onClick:()=>{I(!1),ir()},className:"flex-1 py-3 rounded-2xl font-black bg-indigo-600 text-white shadow-lg shadow-indigo-100",children:" "})]})]})})}):null,Le?z.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:z.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:z.jsx(pR,{className:"w-5 h-5"})}),z.jsxs("div",{className:"text-right",children:[z.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),z.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),z.jsxs("div",{className:"flex gap-3",children:[z.jsx("button",{onClick:()=>xe(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),z.jsx("button",{onClick:Ei,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null,oe?z.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50",children:oe}):null]}):z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:z.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[z.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),z.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),z.jsxs("button",{onClick:async()=>{await tu()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[z.jsx(fT,{className:"w-4 h-4"}),"  "]})]})}):z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Heebo", "Rubik", Arial'},children:z.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-70",children:[z.jsx(nu,{className:"w-10 h-10 animate-spin"}),z.jsx("div",{className:"font-bold text-slate-500",children:"..."})]})})},BM=()=>z.jsx(eR,{children:z.jsxs(xA,{children:[z.jsx(Gm,{path:"/",element:z.jsx(jM,{})}),z.jsx(Gm,{path:"/invite",element:z.jsx(CM,{})})]})}),Yw=document.getElementById("root");if(!Yw)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",r=>{const e=(r==null?void 0:r.message)||"unknown",n=r==null?void 0:r.error;console.error("WINDOW_ERROR:",e,n),alert("WINDOW_ERROR: "+e)});window.addEventListener("unhandledrejection",r=>{const e=r==null?void 0:r.reason;console.error("UNHANDLED_REJECTION:",e);let n="";try{typeof e=="string"?n=e:e!=null&&e.message?n=e.message:n=JSON.stringify(e)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());MS.createRoot(Yw).render(z.jsx(AS.StrictMode,{children:z.jsx(BM,{})}));
