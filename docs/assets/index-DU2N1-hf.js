(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function RS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vm={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function IS(){if(J_)return Zl;J_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Zl.Fragment=e,Zl.jsx=n,Zl.jsxs=n,Zl}var Z_;function CS(){return Z_||(Z_=1,vm.exports=IS()),vm.exports}var P=CS(),_m={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function xS(){if(e0)return ze;e0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.iterator;function k(w){return w===null||typeof w!="object"?null:(w=R&&w[R]||w["@@iterator"],typeof w=="function"?w:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,F={};function ue(w,z,X){this.props=w,this.context=z,this.refs=F,this.updater=X||Y}ue.prototype.isReactComponent={},ue.prototype.setState=function(w,z){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,z,"setState")},ue.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function he(){}he.prototype=ue.prototype;function se(w,z,X){this.props=w,this.context=z,this.refs=F,this.updater=X||Y}var Ae=se.prototype=new he;Ae.constructor=se,ee(Ae,ue.prototype),Ae.isPureReactComponent=!0;var Ue=Array.isArray;function De(){}var x={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function C(w,z,X){var ae=X.ref;return{$$typeof:r,type:w,key:z,ref:ae!==void 0?ae:null,props:X}}function O(w,z){return C(w.type,z,w.props)}function U(w){return typeof w=="object"&&w!==null&&w.$$typeof===r}function B(w){var z={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(X){return z[X]})}var N=/\/+/g;function ht(w,z){return typeof w=="object"&&w!==null&&w.key!=null?B(""+w.key):z.toString(36)}function kt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(De,De):(w.status="pending",w.then(function(z){w.status==="pending"&&(w.status="fulfilled",w.value=z)},function(z){w.status==="pending"&&(w.status="rejected",w.reason=z)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function te(w,z,X,ae,ce){var pe=typeof w;(pe==="undefined"||pe==="boolean")&&(w=null);var de=!1;if(w===null)de=!0;else switch(pe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(w.$$typeof){case r:case e:de=!0;break;case E:return de=w._init,te(de(w._payload),z,X,ae,ce)}}if(de)return ce=ce(w),de=ae===""?"."+ht(w,0):ae,Ue(ce)?(X="",de!=null&&(X=de.replace(N,"$&/")+"/"),te(ce,z,X,"",function($e){return $e})):ce!=null&&(U(ce)&&(ce=O(ce,X+(ce.key==null||w&&w.key===ce.key?"":(""+ce.key).replace(N,"$&/")+"/")+de)),z.push(ce)),1;de=0;var Se=ae===""?".":ae+":";if(Ue(w))for(var Ce=0;Ce<w.length;Ce++)ae=w[Ce],pe=Se+ht(ae,Ce),de+=te(ae,z,X,pe,ce);else if(Ce=k(w),typeof Ce=="function")for(w=Ce.call(w),Ce=0;!(ae=w.next()).done;)ae=ae.value,pe=Se+ht(ae,Ce++),de+=te(ae,z,X,pe,ce);else if(pe==="object"){if(typeof w.then=="function")return te(kt(w),z,X,ae,ce);throw z=String(w),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return de}function fe(w,z,X){if(w==null)return w;var ae=[],ce=0;return te(w,ae,"","",function(pe){return z.call(X,pe,ce++)}),ae}function we(w){if(w._status===-1){var z=w._result;z=z(),z.then(function(X){(w._status===0||w._status===-1)&&(w._status=1,w._result=X)},function(X){(w._status===0||w._status===-1)&&(w._status=2,w._result=X)}),w._status===-1&&(w._status=0,w._result=z)}if(w._status===1)return w._result.default;throw w._result}var He=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},q={map:fe,forEach:function(w,z,X){fe(w,function(){z.apply(this,arguments)},X)},count:function(w){var z=0;return fe(w,function(){z++}),z},toArray:function(w){return fe(w,function(z){return z})||[]},only:function(w){if(!U(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return ze.Activity=T,ze.Children=q,ze.Component=ue,ze.Fragment=n,ze.Profiler=o,ze.PureComponent=se,ze.StrictMode=s,ze.Suspense=g,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,ze.__COMPILER_RUNTIME={__proto__:null,c:function(w){return x.H.useMemoCache(w)}},ze.cache=function(w){return function(){return w.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(w,z,X){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var ae=ee({},w.props),ce=w.key;if(z!=null)for(pe in z.key!==void 0&&(ce=""+z.key),z)!I.call(z,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&z.ref===void 0||(ae[pe]=z[pe]);var pe=arguments.length-2;if(pe===1)ae.children=X;else if(1<pe){for(var de=Array(pe),Se=0;Se<pe;Se++)de[Se]=arguments[Se+2];ae.children=de}return C(w.type,ce,ae)},ze.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},ze.createElement=function(w,z,X){var ae,ce={},pe=null;if(z!=null)for(ae in z.key!==void 0&&(pe=""+z.key),z)I.call(z,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ce[ae]=z[ae]);var de=arguments.length-2;if(de===1)ce.children=X;else if(1<de){for(var Se=Array(de),Ce=0;Ce<de;Ce++)Se[Ce]=arguments[Ce+2];ce.children=Se}if(w&&w.defaultProps)for(ae in de=w.defaultProps,de)ce[ae]===void 0&&(ce[ae]=de[ae]);return C(w,pe,ce)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(w){return{$$typeof:p,render:w}},ze.isValidElement=U,ze.lazy=function(w){return{$$typeof:E,_payload:{_status:-1,_result:w},_init:we}},ze.memo=function(w,z){return{$$typeof:m,type:w,compare:z===void 0?null:z}},ze.startTransition=function(w){var z=x.T,X={};x.T=X;try{var ae=w(),ce=x.S;ce!==null&&ce(X,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(De,He)}catch(pe){He(pe)}finally{z!==null&&X.types!==null&&(z.types=X.types),x.T=z}},ze.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},ze.use=function(w){return x.H.use(w)},ze.useActionState=function(w,z,X){return x.H.useActionState(w,z,X)},ze.useCallback=function(w,z){return x.H.useCallback(w,z)},ze.useContext=function(w){return x.H.useContext(w)},ze.useDebugValue=function(){},ze.useDeferredValue=function(w,z){return x.H.useDeferredValue(w,z)},ze.useEffect=function(w,z){return x.H.useEffect(w,z)},ze.useEffectEvent=function(w){return x.H.useEffectEvent(w)},ze.useId=function(){return x.H.useId()},ze.useImperativeHandle=function(w,z,X){return x.H.useImperativeHandle(w,z,X)},ze.useInsertionEffect=function(w,z){return x.H.useInsertionEffect(w,z)},ze.useLayoutEffect=function(w,z){return x.H.useLayoutEffect(w,z)},ze.useMemo=function(w,z){return x.H.useMemo(w,z)},ze.useOptimistic=function(w,z){return x.H.useOptimistic(w,z)},ze.useReducer=function(w,z,X){return x.H.useReducer(w,z,X)},ze.useRef=function(w){return x.H.useRef(w)},ze.useState=function(w){return x.H.useState(w)},ze.useSyncExternalStore=function(w,z,X){return x.H.useSyncExternalStore(w,z,X)},ze.useTransition=function(){return x.H.useTransition()},ze.version="19.2.3",ze}var t0;function Rp(){return t0||(t0=1,_m.exports=xS()),_m.exports}var M=Rp();const NS=RS(M);var Em={exports:{}},eu={},Tm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function DS(){return n0||(n0=1,(function(r){function e(te,fe){var we=te.length;te.push(fe);e:for(;0<we;){var He=we-1>>>1,q=te[He];if(0<o(q,fe))te[He]=fe,te[we]=q,we=He;else break e}}function n(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var fe=te[0],we=te.pop();if(we!==fe){te[0]=we;e:for(var He=0,q=te.length,w=q>>>1;He<w;){var z=2*(He+1)-1,X=te[z],ae=z+1,ce=te[ae];if(0>o(X,we))ae<q&&0>o(ce,X)?(te[He]=ce,te[ae]=we,He=ae):(te[He]=X,te[z]=we,He=z);else if(ae<q&&0>o(ce,we))te[He]=ce,te[ae]=we,He=ae;else break e}}return fe}function o(te,fe){var we=te.sortIndex-fe.sortIndex;return we!==0?we:te.id-fe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],m=[],E=1,T=null,R=3,k=!1,Y=!1,ee=!1,F=!1,ue=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Ae(te){for(var fe=n(m);fe!==null;){if(fe.callback===null)s(m);else if(fe.startTime<=te)s(m),fe.sortIndex=fe.expirationTime,e(g,fe);else break;fe=n(m)}}function Ue(te){if(ee=!1,Ae(te),!Y)if(n(g)!==null)Y=!0,De||(De=!0,B());else{var fe=n(m);fe!==null&&kt(Ue,fe.startTime-te)}}var De=!1,x=-1,I=5,C=-1;function O(){return F?!0:!(r.unstable_now()-C<I)}function U(){if(F=!1,De){var te=r.unstable_now();C=te;var fe=!0;try{e:{Y=!1,ee&&(ee=!1,he(x),x=-1),k=!0;var we=R;try{t:{for(Ae(te),T=n(g);T!==null&&!(T.expirationTime>te&&O());){var He=T.callback;if(typeof He=="function"){T.callback=null,R=T.priorityLevel;var q=He(T.expirationTime<=te);if(te=r.unstable_now(),typeof q=="function"){T.callback=q,Ae(te),fe=!0;break t}T===n(g)&&s(g),Ae(te)}else s(g);T=n(g)}if(T!==null)fe=!0;else{var w=n(m);w!==null&&kt(Ue,w.startTime-te),fe=!1}}break e}finally{T=null,R=we,k=!1}fe=void 0}}finally{fe?B():De=!1}}}var B;if(typeof se=="function")B=function(){se(U)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ht=N.port2;N.port1.onmessage=U,B=function(){ht.postMessage(null)}}else B=function(){ue(U,0)};function kt(te,fe){x=ue(function(){te(r.unstable_now())},fe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(te){switch(R){case 1:case 2:case 3:var fe=3;break;default:fe=R}var we=R;R=fe;try{return te()}finally{R=we}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(te,fe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var we=R;R=te;try{return fe()}finally{R=we}},r.unstable_scheduleCallback=function(te,fe,we){var He=r.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?He+we:He):we=He,te){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=we+q,te={id:E++,callback:fe,priorityLevel:te,startTime:we,expirationTime:q,sortIndex:-1},we>He?(te.sortIndex=we,e(m,te),n(g)===null&&te===n(m)&&(ee?(he(x),x=-1):ee=!0,kt(Ue,we-He))):(te.sortIndex=q,e(g,te),Y||k||(Y=!0,De||(De=!0,B()))),te},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(te){var fe=R;return function(){var we=R;R=fe;try{return te.apply(this,arguments)}finally{R=we}}}})(wm)),wm}var i0;function MS(){return i0||(i0=1,Tm.exports=DS()),Tm.exports}var bm={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function OS(){if(r0)return Fn;r0=1;var r=Rp();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)m+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,m,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:m,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fn.createPortal=function(g,m){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(g,m,null,E)},Fn.flushSync=function(g){var m=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=m,s.p=E,s.d.f()}},Fn.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(g,m))},Fn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Fn.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var E=m.as,T=p(E,m.crossOrigin),R=typeof m.integrity=="string"?m.integrity:void 0,k=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;E==="style"?s.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:k}):E==="script"&&s.d.X(g,{crossOrigin:T,integrity:R,fetchPriority:k,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Fn.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var E=p(m.as,m.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(g)},Fn.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var E=m.as,T=p(E,m.crossOrigin);s.d.L(g,E,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Fn.preloadModule=function(g,m){if(typeof g=="string")if(m){var E=p(m.as,m.crossOrigin);s.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(g)},Fn.requestFormReset=function(g){s.d.r(g)},Fn.unstable_batchedUpdates=function(g,m){return g(m)},Fn.useFormState=function(g,m,E){return f.H.useFormState(g,m,E)},Fn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Fn.version="19.2.3",Fn}var s0;function VS(){if(s0)return bm.exports;s0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bm.exports=OS(),bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function kS(){if(a0)return eu;a0=1;var r=MS(),e=Rp(),n=VS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),Ue=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=U&&t[U]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ht(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case ue:return"Profiler";case F:return"StrictMode";case Ue:return"Suspense";case De:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case se:return t.displayName||"Context";case he:return(t._context.displayName||"Context")+".Consumer";case Ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:ht(t.type)||"Memo";case I:i=t._payload,t=t._init;try{return ht(t(i))}catch{}}return null}var kt=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},He=[],q=-1;function w(t){return{current:t}}function z(t){0>q||(t.current=He[q],He[q]=null,q--)}function X(t,i){q++,He[q]=t.current,t.current=i}var ae=w(null),ce=w(null),pe=w(null),de=w(null);function Se(t,i){switch(X(pe,i),X(ce,t),X(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?T_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=T_(i),t=w_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}z(ae),X(ae,t)}function Ce(){z(ae),z(ce),z(pe)}function $e(t){t.memoizedState!==null&&X(de,t);var i=ae.current,a=w_(i,t.type);i!==a&&(X(ce,t),X(ae,a))}function Ye(t){ce.current===t&&(z(ae),z(ce)),de.current===t&&(z(de),Kl._currentValue=we)}var lt,gt;function Ve(t){if(lt===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);lt=i&&i[1]||"",gt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lt+t+gt}var Ct=!1;function $t(t,i){if(!t||Ct)return"";Ct=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(W){var K=W}Reflect.construct(t,[],oe)}else{try{oe.call()}catch(W){K=W}t.call(oe.prototype)}}else{try{throw Error()}catch(W){K=W}(oe=t())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var D=v.split(`
`),$=b.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===$.length)for(l=D.length-1,h=$.length-1;1<=l&&0<=h&&D[l]!==$[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==$[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==$[h]){var ne=`
`+D[l].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=l&&0<=h);break}}}finally{Ct=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ve(a):""}function xn(t,i){switch(t.tag){case 26:case 27:case 5:return Ve(t.type);case 16:return Ve("Lazy");case 13:return t.child!==i&&i!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return $t(t.type,!1);case 11:return $t(t.type.render,!1);case 1:return $t(t.type,!0);case 31:return Ve("Activity");default:return""}}function En(t){try{var i="",a=null;do i+=xn(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Bn=Object.prototype.hasOwnProperty,tn=r.unstable_scheduleCallback,dr=r.unstable_cancelCallback,pa=r.unstable_shouldYield,Or=r.unstable_requestPaint,jt=r.unstable_now,Vr=r.unstable_getCurrentPriorityLevel,yt=r.unstable_ImmediatePriority,Dt=r.unstable_UserBlockingPriority,ki=r.unstable_NormalPriority,Pi=r.unstable_LowPriority,Li=r.unstable_IdlePriority,Ui=r.log,ft=r.unstable_setDisableYieldValue,Nn=null,vt=null;function nn(t){if(typeof Ui=="function"&&ft(t),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(Nn,t)}catch{}}var Yt=Math.clz32?Math.clz32:Tn,kr=Math.log,ga=Math.LN2;function Tn(t){return t>>>=0,t===0?32:31-(kr(t)/ga|0)|0}var Dn=256,rn=262144,Yn=4194304;function Kt(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function it(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Kt(l):(v&=b,v!==0?h=Kt(v):a||(a=b&~t,a!==0&&(h=Kt(a))))):(b=l&~d,b!==0?h=Kt(b):v!==0?h=Kt(v):a||(a=l&~t,a!==0&&(h=Kt(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function pn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Kn(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ti(){var t=Yn;return Yn<<=1,(Yn&62914560)===0&&(Yn=4194304),t}function qn(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function zi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gn(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,$=t.hiddenUpdates;for(a=v&~a;0<a;){var ne=31-Yt(a),oe=1<<ne;b[ne]=0,D[ne]=-1;var K=$[ne];if(K!==null)for($[ne]=null,ne=0;ne<K.length;ne++){var W=K[ne];W!==null&&(W.lane&=-536870913)}a&=~oe}l!==0&&ya(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function ya(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Yt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function mr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Yt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function pr(t,i){var a=i&-i;return a=(a&42)!==0?1:va(a),(a&(t.suspendedLanes|i))!==0?0:a}function va(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _a(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tr(){var t=fe.p;return t!==0?t:(t=window.event,t===void 0?32:G_(t.type))}function Pr(t,i){var a=fe.p;try{return fe.p=t,i()}finally{fe.p=a}}var pi=Math.random().toString(36).slice(2),At="__reactFiber$"+pi,Xt="__reactProps$"+pi,gi="__reactContainer$"+pi,gr="__reactEvents$"+pi,ni="__reactListeners$"+pi,Ea="__reactHandles$"+pi,yi="__reactResources$"+pi,sn="__reactMarker$"+pi;function Lr(t){delete t[At],delete t[Xt],delete t[gr],delete t[ni],delete t[Ea]}function ji(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[gi]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=x_(t);t!==null;){if(a=t[At])return a;t=x_(t)}return i}t=a,a=t.parentNode}return null}function vi(t){if(t=t[At]||t[gi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Ur(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function _i(t){var i=t[yi];return i||(i=t[yi]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(t){t[sn]=!0}var gs=new Set,yr={};function Bt(t,i){Bi(t,i),Bi(t+"Capture",i)}function Bi(t,i){for(yr[t]=i,t=0;t<i.length;t++)gs.add(i[t])}var ys=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vs={},Ta={};function eo(t){return Bn.call(Ta,t)?!0:Bn.call(vs,t)?!1:ys.test(t)?Ta[t]=!0:(vs[t]=!0,!1)}function nr(t,i,a){if(eo(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function vr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function ii(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Mn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function to(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ul(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function qi(t){if(!t._valueTracker){var i=to(t)?"checked":"value";t._valueTracker=ul(t,i,""+t[i])}}function ir(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=to(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var dt=/[\n"\\]/g;function Rt(t){return t.replace(dt,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ti(t,i,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Mn(i)):t.value!==""+Mn(i)&&(t.value=""+Mn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?rr(t,v,Mn(i)):a!=null?rr(t,v,Mn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Mn(b):t.removeAttribute("name")}function ri(t,i,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){qi(t);return}a=a!=null?""+Mn(a):"",i=i!=null?""+Mn(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),qi(t)}function rr(t,i,a){i==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function rt(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Mn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function zr(t,i,a){if(i!=null&&(i=""+Mn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Mn(a):""}function _r(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(kt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Mn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),qi(t)}function si(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var cl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Er(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||cl.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function no(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Er(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Er(t,d,i[d])}function wa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ai(t){return fl.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Nt(){}var S=null;function L(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var H=null,J=null;function ge(t){var i=vi(t);if(i&&(t=i.stateNode)){var a=t[Xt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ti(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Rt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Xt]||null;if(!h)throw Error(s(90));Ti(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ir(l)}break e;case"textarea":zr(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&rt(t,!!a.multiple,i,!1)}}}var _e=!1;function ve(t,i,a){if(_e)return t(i,a);_e=!0;try{var l=t(i);return l}finally{if(_e=!1,(H!==null||J!==null)&&(qc(),H&&(i=H,t=J,J=H=null,ge(i),t)))for(i=0;i<t.length;i++)ge(t[i])}}function Pe(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Xt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Fe=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Be=!1;if(Fe)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Be=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{Be=!1}var ot=null,qt=null,an=null;function Hn(){if(an)return an;var t,i=qt,a=i.length,l,h="value"in ot?ot.value:ot.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return an=h.slice(t,1<l?1-l:void 0)}function Xn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function On(){return!0}function Ne(){return!1}function Pt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?On:Ne,this.isPropagationStopped=Ne,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=On)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=On)},persist:function(){},isPersistent:On}),i}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wt=Pt(wi),sr=T({},wi,{view:0,detail:0}),io=Pt(sr),ar,ro,Wn,ba=T({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wn&&(Wn&&t.type==="mousemove"?(ar=t.screenX-Wn.screenX,ro=t.screenY-Wn.screenY):ro=ar=0,Wn=t),ar)},movementY:function(t){return"movementY"in t?t.movementY:ro}}),Yu=Pt(ba),Sa=T({},ba,{dataTransfer:0}),Ku=Pt(Sa),dl=T({},sr,{relatedTarget:0}),_s=Pt(dl),Xu=T({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),so=Pt(Xu),Sf=T({},wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wu=Pt(Sf),Aa=T({},wi,{data:0}),ml=Pt(Aa),Ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=gl[t])?!!i[t]:!1}function Es(){return Zu}var ec=T({},sr,{key:function(t){if(t.key){var i=Ju[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Xn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(t){return t.type==="keypress"?Xn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tc=Pt(ec),jr=T({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yl=Pt(jr),nc=T({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),ic=Pt(nc),rc=T({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ao=Pt(rc),Jn=T({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sc=Pt(Jn),ac=T({},wi,{newState:0,oldState:0}),Ts=Pt(ac),c=[9,13,27,32],y=Fe&&"CompositionEvent"in window,_=null;Fe&&"documentMode"in document&&(_=document.documentMode);var A=Fe&&"TextEvent"in window&&!_,G=Fe&&(!y||_&&8<_&&11>=_),Z=" ",me=!1;function pt(t,i){switch(t){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function on(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ge=!1;function wn(t,i){switch(t){case"compositionend":return on(i);case"keypress":return i.which!==32?null:(me=!0,Z);case"textInput":return t=i.data,t===Z&&me?null:t;default:return null}}function bn(t,i){if(Ge)return t==="compositionend"||!y&&pt(t,i)?(t=Hn(),an=qt=ot=null,Ge=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return G&&i.locale!=="ko"?null:i.data;default:return null}}var ws={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oi(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ws[t.type]:i==="textarea"}function Ra(t,i,a,l){H?J?J.push(l):J=[l]:H=l,i=Kc(i,"onChange"),0<i.length&&(a=new Wt("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Br=null,vl=null;function Z1(t){p_(t,0)}function oc(t){var i=Ur(t);if(ir(i))return t}function Vg(t,i){if(t==="change")return i}var kg=!1;if(Fe){var Af;if(Fe){var Rf="oninput"in document;if(!Rf){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),Rf=typeof Pg.oninput=="function"}Af=Rf}else Af=!1;kg=Af&&(!document.documentMode||9<document.documentMode)}function Lg(){Br&&(Br.detachEvent("onpropertychange",Ug),vl=Br=null)}function Ug(t){if(t.propertyName==="value"&&oc(vl)){var i=[];Ra(i,vl,t,L(t)),ve(Z1,i)}}function eb(t,i,a){t==="focusin"?(Lg(),Br=i,vl=a,Br.attachEvent("onpropertychange",Ug)):t==="focusout"&&Lg()}function tb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oc(vl)}function nb(t,i){if(t==="click")return oc(i)}function ib(t,i){if(t==="input"||t==="change")return oc(i)}function rb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bi=typeof Object.is=="function"?Object.is:rb;function _l(t,i){if(bi(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Bn.call(i,h)||!bi(t[h],i[h]))return!1}return!0}function zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jg(t,i){var a=zg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zg(a)}}function Bg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Bg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ei(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ei(t.document)}return i}function If(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var sb=Fe&&"documentMode"in document&&11>=document.documentMode,oo=null,Cf=null,El=null,xf=!1;function Hg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||oo==null||oo!==Ei(l)||(l=oo,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),El&&_l(El,l)||(El=l,l=Kc(Cf,"onSelect"),0<l.length&&(i=new Wt("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=oo)))}function Ia(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var lo={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},Nf={},Fg={};Fe&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Ca(t){if(Nf[t])return Nf[t];if(!lo[t])return t;var i=lo[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Fg)return Nf[t]=i[a];return t}var Gg=Ca("animationend"),Qg=Ca("animationiteration"),$g=Ca("animationstart"),ab=Ca("transitionrun"),ob=Ca("transitionstart"),lb=Ca("transitioncancel"),Yg=Ca("transitionend"),Kg=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function or(t,i){Kg.set(t,i),Bt(i,[t])}var lc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hi=[],uo=0,Mf=0;function uc(){for(var t=uo,i=Mf=uo=0;i<t;){var a=Hi[i];Hi[i++]=null;var l=Hi[i];Hi[i++]=null;var h=Hi[i];Hi[i++]=null;var d=Hi[i];if(Hi[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Xg(a,h,d)}}function cc(t,i,a,l){Hi[uo++]=t,Hi[uo++]=i,Hi[uo++]=a,Hi[uo++]=l,Mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Of(t,i,a,l){return cc(t,i,a,l),hc(t)}function xa(t,i){return cc(t,null,null,i),hc(t)}function Xg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Yt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function hc(t){if(50<ql)throw ql=0,qd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var co={};function ub(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(t,i,a,l){return new ub(t,i,a,l)}function Vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qr(t,i){var a=t.alternate;return a===null?(a=Si(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function fc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Vf(t)&&(v=1);else if(typeof t=="string")v=mS(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Si(31,a,i,h),t.elementType=C,t.lanes=d,t;case ee:return Na(a.children,h,d,i);case F:v=8,h|=24;break;case ue:return t=Si(12,a,i,h|2),t.elementType=ue,t.lanes=d,t;case Ue:return t=Si(13,a,i,h),t.elementType=Ue,t.lanes=d,t;case De:return t=Si(19,a,i,h),t.elementType=De,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:v=10;break e;case he:v=9;break e;case Ae:v=11;break e;case x:v=14;break e;case I:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Si(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Na(t,i,a,l){return t=Si(7,t,l,i),t.lanes=a,t}function kf(t,i,a){return t=Si(6,t,null,i),t.lanes=a,t}function Jg(t){var i=Si(18,null,null,0);return i.stateNode=t,i}function Pf(t,i,a){return i=Si(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Zg=new WeakMap;function Fi(t,i){if(typeof t=="object"&&t!==null){var a=Zg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:En(i)},Zg.set(t,i),i)}return{value:t,source:i,stack:En(i)}}var ho=[],fo=0,dc=null,Tl=0,Gi=[],Qi=0,bs=null,Tr=1,wr="";function Hr(t,i){ho[fo++]=Tl,ho[fo++]=dc,dc=t,Tl=i}function ey(t,i,a){Gi[Qi++]=Tr,Gi[Qi++]=wr,Gi[Qi++]=bs,bs=t;var l=Tr;t=wr;var h=32-Yt(l)-1;l&=~(1<<h),a+=1;var d=32-Yt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Tr=1<<32-Yt(i)+h|a<<h|l,wr=d+t}else Tr=1<<d|a<<h|l,wr=t}function Lf(t){t.return!==null&&(Hr(t,1),ey(t,1,0))}function Uf(t){for(;t===dc;)dc=ho[--fo],ho[fo]=null,Tl=ho[--fo],ho[fo]=null;for(;t===bs;)bs=Gi[--Qi],Gi[Qi]=null,wr=Gi[--Qi],Gi[Qi]=null,Tr=Gi[--Qi],Gi[Qi]=null}function ty(t,i){Gi[Qi++]=Tr,Gi[Qi++]=wr,Gi[Qi++]=bs,Tr=i.id,wr=i.overflow,bs=t}var Vn=null,Mt=null,nt=!1,Ss=null,$i=!1,zf=Error(s(519));function As(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(Fi(i,t)),zf}function ny(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[At]=t,i[Xt]=l,a){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(a=0;a<Fl.length;a++)Xe(Fl[a],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":Xe("invalid",i),ri(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Xe("invalid",i);break;case"textarea":Xe("invalid",i),_r(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||__(i.textContent,a)?(l.popover!=null&&(Xe("beforetoggle",i),Xe("toggle",i)),l.onScroll!=null&&Xe("scroll",i),l.onScrollEnd!=null&&Xe("scrollend",i),l.onClick!=null&&(i.onclick=Nt),i=!0):i=!1,i||As(t,!0)}function iy(t){for(Vn=t.return;Vn;)switch(Vn.tag){case 5:case 31:case 13:$i=!1;return;case 27:case 3:$i=!0;return;default:Vn=Vn.return}}function mo(t){if(t!==Vn)return!1;if(!nt)return iy(t),nt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||im(t.type,t.memoizedProps)),a=!a),a&&Mt&&As(t),iy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Mt=C_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Mt=C_(t)}else i===27?(i=Mt,zs(t.type)?(t=lm,lm=null,Mt=t):Mt=i):Mt=Vn?Ki(t.stateNode.nextSibling):null;return!0}function Da(){Mt=Vn=null,nt=!1}function jf(){var t=Ss;return t!==null&&(hi===null?hi=t:hi.push.apply(hi,t),Ss=null),t}function wl(t){Ss===null?Ss=[t]:Ss.push(t)}var Bf=w(null),Ma=null,Fr=null;function Rs(t,i,a){X(Bf,i._currentValue),i._currentValue=a}function Gr(t){t._currentValue=Bf.current,z(Bf)}function qf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Hf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var D=0;D<i.length;D++)if(b.context===i[D]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),qf(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),qf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function po(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;bi(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===de.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}h=h.return}t!==null&&Hf(i,t,a,l),i.flags|=262144}function mc(t){for(t=t.firstContext;t!==null;){if(!bi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Oa(t){Ma=t,Fr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function kn(t){return ry(Ma,t)}function pc(t,i){return Ma===null&&Oa(t),ry(t,i)}function ry(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fr===null){if(t===null)throw Error(s(308));Fr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Fr=Fr.next=i;return a}var cb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},hb=r.unstable_scheduleCallback,fb=r.unstable_NormalPriority,ln={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new cb,data:new Map,refCount:0}}function bl(t){t.refCount--,t.refCount===0&&hb(fb,function(){t.controller.abort()})}var Sl=null,Gf=0,go=0,yo=null;function db(t,i){if(Sl===null){var a=Sl=[];Gf=0,go=Yd(),yo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,i.then(sy,sy),i}function sy(){if(--Gf===0&&Sl!==null){yo!==null&&(yo.status="fulfilled");var t=Sl;Sl=null,go=0,yo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function mb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ay=te.S;te.S=function(t,i){Hv=jt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&db(t,i),ay!==null&&ay(t,i)};var Va=w(null);function Qf(){var t=Va.current;return t!==null?t:It.pooledCache}function gc(t,i){i===null?X(Va,Va.current):X(Va,i.pool)}function oy(){var t=Qf();return t===null?null:{parent:ln._currentValue,pool:t}}var vo=Error(s(460)),$f=Error(s(474)),yc=Error(s(542)),vc={then:function(){}};function ly(t){return t=t.status,t==="fulfilled"||t==="rejected"}function uy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Nt,Nt),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,hy(t),t;default:if(typeof i.status=="string")i.then(Nt,Nt);else{if(t=It,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,hy(t),t}throw Pa=i,vo}}function ka(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Pa=a,vo):a}}var Pa=null;function cy(){if(Pa===null)throw Error(s(459));var t=Pa;return Pa=null,t}function hy(t){if(t===vo||t===yc)throw Error(s(483))}var _o=null,Al=0;function _c(t){var i=Al;return Al+=1,_o===null&&(_o=[]),uy(_o,t,i)}function Rl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ec(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function fy(t){function i(j,V){if(t){var Q=j.deletions;Q===null?(j.deletions=[V],j.flags|=16):Q.push(V)}}function a(j,V){if(!t)return null;for(;V!==null;)i(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function h(j,V){return j=qr(j,V),j.index=0,j.sibling=null,j}function d(j,V,Q){return j.index=Q,t?(Q=j.alternate,Q!==null?(Q=Q.index,Q<V?(j.flags|=67108866,V):Q):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,V,Q,ie){return V===null||V.tag!==6?(V=kf(Q,j.mode,ie),V.return=j,V):(V=h(V,Q),V.return=j,V)}function D(j,V,Q,ie){var Ie=Q.type;return Ie===ee?ne(j,V,Q.props.children,ie,Q.key):V!==null&&(V.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===I&&ka(Ie)===V.type)?(V=h(V,Q.props),Rl(V,Q),V.return=j,V):(V=fc(Q.type,Q.key,Q.props,null,j.mode,ie),Rl(V,Q),V.return=j,V)}function $(j,V,Q,ie){return V===null||V.tag!==4||V.stateNode.containerInfo!==Q.containerInfo||V.stateNode.implementation!==Q.implementation?(V=Pf(Q,j.mode,ie),V.return=j,V):(V=h(V,Q.children||[]),V.return=j,V)}function ne(j,V,Q,ie,Ie){return V===null||V.tag!==7?(V=Na(Q,j.mode,ie,Ie),V.return=j,V):(V=h(V,Q),V.return=j,V)}function oe(j,V,Q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=kf(""+V,j.mode,Q),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case k:return Q=fc(V.type,V.key,V.props,null,j.mode,Q),Rl(Q,V),Q.return=j,Q;case Y:return V=Pf(V,j.mode,Q),V.return=j,V;case I:return V=ka(V),oe(j,V,Q)}if(kt(V)||B(V))return V=Na(V,j.mode,Q,null),V.return=j,V;if(typeof V.then=="function")return oe(j,_c(V),Q);if(V.$$typeof===se)return oe(j,pc(j,V),Q);Ec(j,V)}return null}function K(j,V,Q,ie){var Ie=V!==null?V.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ie!==null?null:b(j,V,""+Q,ie);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:return Q.key===Ie?D(j,V,Q,ie):null;case Y:return Q.key===Ie?$(j,V,Q,ie):null;case I:return Q=ka(Q),K(j,V,Q,ie)}if(kt(Q)||B(Q))return Ie!==null?null:ne(j,V,Q,ie,null);if(typeof Q.then=="function")return K(j,V,_c(Q),ie);if(Q.$$typeof===se)return K(j,V,pc(j,Q),ie);Ec(j,Q)}return null}function W(j,V,Q,ie,Ie){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return j=j.get(Q)||null,b(V,j,""+ie,Ie);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case k:return j=j.get(ie.key===null?Q:ie.key)||null,D(V,j,ie,Ie);case Y:return j=j.get(ie.key===null?Q:ie.key)||null,$(V,j,ie,Ie);case I:return ie=ka(ie),W(j,V,Q,ie,Ie)}if(kt(ie)||B(ie))return j=j.get(Q)||null,ne(V,j,ie,Ie,null);if(typeof ie.then=="function")return W(j,V,Q,_c(ie),Ie);if(ie.$$typeof===se)return W(j,V,Q,pc(V,ie),Ie);Ec(V,ie)}return null}function Te(j,V,Q,ie){for(var Ie=null,ut=null,be=V,qe=V=0,Je=null;be!==null&&qe<Q.length;qe++){be.index>qe?(Je=be,be=null):Je=be.sibling;var ct=K(j,be,Q[qe],ie);if(ct===null){be===null&&(be=Je);break}t&&be&&ct.alternate===null&&i(j,be),V=d(ct,V,qe),ut===null?Ie=ct:ut.sibling=ct,ut=ct,be=Je}if(qe===Q.length)return a(j,be),nt&&Hr(j,qe),Ie;if(be===null){for(;qe<Q.length;qe++)be=oe(j,Q[qe],ie),be!==null&&(V=d(be,V,qe),ut===null?Ie=be:ut.sibling=be,ut=be);return nt&&Hr(j,qe),Ie}for(be=l(be);qe<Q.length;qe++)Je=W(be,j,qe,Q[qe],ie),Je!==null&&(t&&Je.alternate!==null&&be.delete(Je.key===null?qe:Je.key),V=d(Je,V,qe),ut===null?Ie=Je:ut.sibling=Je,ut=Je);return t&&be.forEach(function(Fs){return i(j,Fs)}),nt&&Hr(j,qe),Ie}function Me(j,V,Q,ie){if(Q==null)throw Error(s(151));for(var Ie=null,ut=null,be=V,qe=V=0,Je=null,ct=Q.next();be!==null&&!ct.done;qe++,ct=Q.next()){be.index>qe?(Je=be,be=null):Je=be.sibling;var Fs=K(j,be,ct.value,ie);if(Fs===null){be===null&&(be=Je);break}t&&be&&Fs.alternate===null&&i(j,be),V=d(Fs,V,qe),ut===null?Ie=Fs:ut.sibling=Fs,ut=Fs,be=Je}if(ct.done)return a(j,be),nt&&Hr(j,qe),Ie;if(be===null){for(;!ct.done;qe++,ct=Q.next())ct=oe(j,ct.value,ie),ct!==null&&(V=d(ct,V,qe),ut===null?Ie=ct:ut.sibling=ct,ut=ct);return nt&&Hr(j,qe),Ie}for(be=l(be);!ct.done;qe++,ct=Q.next())ct=W(be,j,qe,ct.value,ie),ct!==null&&(t&&ct.alternate!==null&&be.delete(ct.key===null?qe:ct.key),V=d(ct,V,qe),ut===null?Ie=ct:ut.sibling=ct,ut=ct);return t&&be.forEach(function(AS){return i(j,AS)}),nt&&Hr(j,qe),Ie}function bt(j,V,Q,ie){if(typeof Q=="object"&&Q!==null&&Q.type===ee&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:e:{for(var Ie=Q.key;V!==null;){if(V.key===Ie){if(Ie=Q.type,Ie===ee){if(V.tag===7){a(j,V.sibling),ie=h(V,Q.props.children),ie.return=j,j=ie;break e}}else if(V.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===I&&ka(Ie)===V.type){a(j,V.sibling),ie=h(V,Q.props),Rl(ie,Q),ie.return=j,j=ie;break e}a(j,V);break}else i(j,V);V=V.sibling}Q.type===ee?(ie=Na(Q.props.children,j.mode,ie,Q.key),ie.return=j,j=ie):(ie=fc(Q.type,Q.key,Q.props,null,j.mode,ie),Rl(ie,Q),ie.return=j,j=ie)}return v(j);case Y:e:{for(Ie=Q.key;V!==null;){if(V.key===Ie)if(V.tag===4&&V.stateNode.containerInfo===Q.containerInfo&&V.stateNode.implementation===Q.implementation){a(j,V.sibling),ie=h(V,Q.children||[]),ie.return=j,j=ie;break e}else{a(j,V);break}else i(j,V);V=V.sibling}ie=Pf(Q,j.mode,ie),ie.return=j,j=ie}return v(j);case I:return Q=ka(Q),bt(j,V,Q,ie)}if(kt(Q))return Te(j,V,Q,ie);if(B(Q)){if(Ie=B(Q),typeof Ie!="function")throw Error(s(150));return Q=Ie.call(Q),Me(j,V,Q,ie)}if(typeof Q.then=="function")return bt(j,V,_c(Q),ie);if(Q.$$typeof===se)return bt(j,V,pc(j,Q),ie);Ec(j,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,V!==null&&V.tag===6?(a(j,V.sibling),ie=h(V,Q),ie.return=j,j=ie):(a(j,V),ie=kf(Q,j.mode,ie),ie.return=j,j=ie),v(j)):a(j,V)}return function(j,V,Q,ie){try{Al=0;var Ie=bt(j,V,Q,ie);return _o=null,Ie}catch(be){if(be===vo||be===yc)throw be;var ut=Si(29,be,null,j.mode);return ut.lanes=ie,ut.return=j,ut}finally{}}}var La=fy(!0),dy=fy(!1),Is=!1;function Yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xs(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(mt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=hc(t),Xg(t,null,a),i}return cc(t,l,i,a),hc(t)}function Il(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,mr(t,a)}}function Xf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Wf=!1;function Cl(){if(Wf){var t=yo;if(t!==null)throw t}}function xl(t,i,a,l){Wf=!1;var h=t.updateQueue;Is=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,$=D.next;D.next=null,v===null?d=$:v.next=$,v=D;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,b=ne.lastBaseUpdate,b!==v&&(b===null?ne.firstBaseUpdate=$:b.next=$,ne.lastBaseUpdate=D))}if(d!==null){var oe=h.baseState;v=0,ne=$=D=null,b=d;do{var K=b.lane&-536870913,W=K!==b.lane;if(W?(We&K)===K:(l&K)===K){K!==0&&K===go&&(Wf=!0),ne!==null&&(ne=ne.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=t,Me=b;K=i;var bt=a;switch(Me.tag){case 1:if(Te=Me.payload,typeof Te=="function"){oe=Te.call(bt,oe,K);break e}oe=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Me.payload,K=typeof Te=="function"?Te.call(bt,oe,K):Te,K==null)break e;oe=T({},oe,K);break e;case 2:Is=!0}}K=b.callback,K!==null&&(t.flags|=64,W&&(t.flags|=8192),W=h.callbacks,W===null?h.callbacks=[K]:W.push(K))}else W={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ne===null?($=ne=W,D=oe):ne=ne.next=W,v|=K;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;W=b,b=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);ne===null&&(D=oe),h.baseState=D,h.firstBaseUpdate=$,h.lastBaseUpdate=ne,d===null&&(h.shared.lanes=0),Vs|=v,t.lanes=v,t.memoizedState=oe}}function my(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function py(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)my(a[t],i)}var Eo=w(null),Tc=w(0);function gy(t,i){t=es,X(Tc,t),X(Eo,i),es=t|i.baseLanes}function Jf(){X(Tc,es),X(Eo,Eo.current)}function Zf(){es=Tc.current,z(Eo),z(Tc)}var Ai=w(null),Yi=null;function Ns(t){var i=t.alternate;X(Jt,Jt.current&1),X(Ai,t),Yi===null&&(i===null||Eo.current!==null||i.memoizedState!==null)&&(Yi=t)}function ed(t){X(Jt,Jt.current),X(Ai,t),Yi===null&&(Yi=t)}function yy(t){t.tag===22?(X(Jt,Jt.current),X(Ai,t),Yi===null&&(Yi=t)):Ds()}function Ds(){X(Jt,Jt.current),X(Ai,Ai.current)}function Ri(t){z(Ai),Yi===t&&(Yi=null),z(Jt)}var Jt=w(0);function wc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||am(a)||om(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qr=0,je=null,Tt=null,un=null,bc=!1,To=!1,Ua=!1,Sc=0,Nl=0,wo=null,pb=0;function Ht(){throw Error(s(321))}function td(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!bi(t[a],i[a]))return!1;return!0}function nd(t,i,a,l,h,d){return Qr=d,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,te.H=t===null||t.memoizedState===null?ev:yd,Ua=!1,d=a(l,h),Ua=!1,To&&(d=_y(i,a,l,h)),vy(t),d}function vy(t){te.H=Ol;var i=Tt!==null&&Tt.next!==null;if(Qr=0,un=Tt=je=null,bc=!1,Nl=0,wo=null,i)throw Error(s(300));t===null||cn||(t=t.dependencies,t!==null&&mc(t)&&(cn=!0))}function _y(t,i,a,l){je=t;var h=0;do{if(To&&(wo=null),Nl=0,To=!1,25<=h)throw Error(s(301));if(h+=1,un=Tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}te.H=tv,d=i(a,l)}while(To);return d}function gb(){var t=te.H,i=t.useState()[0];return i=typeof i.then=="function"?Dl(i):i,t=t.useState()[0],(Tt!==null?Tt.memoizedState:null)!==t&&(je.flags|=1024),i}function id(){var t=Sc!==0;return Sc=0,t}function rd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function sd(t){if(bc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}bc=!1}Qr=0,un=Tt=je=null,To=!1,Nl=Sc=0,wo=null}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?je.memoizedState=un=t:un=un.next=t,un}function Zt(){if(Tt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var i=un===null?je.memoizedState:un.next;if(i!==null)un=i,Tt=t;else{if(t===null)throw je.alternate===null?Error(s(467)):Error(s(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},un===null?je.memoizedState=un=t:un=un.next=t}return un}function Ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(t){var i=Nl;return Nl+=1,wo===null&&(wo=[]),t=uy(wo,t,i),i=je,(un===null?i.memoizedState:un.next)===null&&(i=i.alternate,te.H=i===null||i.memoizedState===null?ev:yd),t}function Rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dl(t);if(t.$$typeof===se)return kn(t)}throw Error(s(438,String(t)))}function ad(t){var i=null,a=je.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ac(),je.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function $r(t,i){return typeof i=="function"?i(t):i}function Ic(t){var i=Zt();return od(i,Tt,t)}function od(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=v=null,D=null,$=i,ne=!1;do{var oe=$.lane&-536870913;if(oe!==$.lane?(We&oe)===oe:(Qr&oe)===oe){var K=$.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),oe===go&&(ne=!0);else if((Qr&K)===K){$=$.next,K===go&&(ne=!0);continue}else oe={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},D===null?(b=D=oe,v=d):D=D.next=oe,je.lanes|=K,Vs|=K;oe=$.action,Ua&&a(d,oe),d=$.hasEagerState?$.eagerState:a(d,oe)}else K={lane:oe,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},D===null?(b=D=K,v=d):D=D.next=K,je.lanes|=oe,Vs|=oe;$=$.next}while($!==null&&$!==i);if(D===null?v=d:D.next=b,!bi(d,t.memoizedState)&&(cn=!0,ne&&(a=yo,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ld(t){var i=Zt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);bi(d,i.memoizedState)||(cn=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ey(t,i,a){var l=je,h=Zt(),d=nt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!bi((Tt||h).memoizedState,a);if(v&&(h.memoizedState=a,cn=!0),h=h.queue,hd(by.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||un!==null&&un.memoizedState.tag&1){if(l.flags|=2048,bo(9,{destroy:void 0},wy.bind(null,l,h,a,i),null),It===null)throw Error(s(349));d||(Qr&127)!==0||Ty(l,i,a)}return a}function Ty(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=je.updateQueue,i===null?(i=Ac(),je.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function wy(t,i,a,l){i.value=a,i.getSnapshot=l,Sy(i)&&Ay(t)}function by(t,i,a){return a(function(){Sy(i)&&Ay(t)})}function Sy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!bi(t,a)}catch{return!0}}function Ay(t){var i=xa(t,2);i!==null&&fi(i,t,2)}function ud(t){var i=Zn();if(typeof t=="function"){var a=t;if(t=a(),Ua){nn(!0);try{a()}finally{nn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:t},i}function Ry(t,i,a,l){return t.baseState=a,od(t,Tt,typeof l=="function"?l:$r)}function yb(t,i,a,l,h){if(Nc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};te.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Iy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Iy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=te.T,v={};te.T=v;try{var b=a(h,l),D=te.S;D!==null&&D(v,b),Cy(t,i,b)}catch($){cd(t,i,$)}finally{d!==null&&v.types!==null&&(d.types=v.types),te.T=d}}else try{d=a(h,l),Cy(t,i,d)}catch($){cd(t,i,$)}}function Cy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xy(t,i,l)},function(l){return cd(t,i,l)}):xy(t,i,a)}function xy(t,i,a){i.status="fulfilled",i.value=a,Ny(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Iy(t,a)))}function cd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ny(i),i=i.next;while(i!==l)}t.action=null}function Ny(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Dy(t,i){return i}function My(t,i){if(nt){var a=It.formState;if(a!==null){e:{var l=je;if(nt){if(Mt){t:{for(var h=Mt,d=$i;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ki(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Mt=Ki(h.nextSibling),l=h.data==="F!";break e}}As(l)}l=!1}l&&(i=a[0])}}return a=Zn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dy,lastRenderedState:i},a.queue=l,a=Wy.bind(null,je,l),l.dispatch=a,l=ud(!1),d=gd.bind(null,je,!1,l.queue),l=Zn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=yb.bind(null,je,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Oy(t){var i=Zt();return Vy(i,Tt,t)}function Vy(t,i,a){if(i=od(t,i,Dy)[0],t=Ic($r)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Dl(i)}catch(v){throw v===vo?yc:v}else l=i;i=Zt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(je.flags|=2048,bo(9,{destroy:void 0},vb.bind(null,h,a),null)),[l,d,t]}function vb(t,i){t.action=i}function ky(t){var i=Zt(),a=Tt;if(a!==null)return Vy(i,a,t);Zt(),i=i.memoizedState,a=Zt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function bo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=je.updateQueue,i===null&&(i=Ac(),je.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Py(){return Zt().memoizedState}function Cc(t,i,a,l){var h=Zn();je.flags|=t,h.memoizedState=bo(1|i,{destroy:void 0},a,l===void 0?null:l)}function xc(t,i,a,l){var h=Zt();l=l===void 0?null:l;var d=h.memoizedState.inst;Tt!==null&&l!==null&&td(l,Tt.memoizedState.deps)?h.memoizedState=bo(i,d,a,l):(je.flags|=t,h.memoizedState=bo(1|i,d,a,l))}function Ly(t,i){Cc(8390656,8,t,i)}function hd(t,i){xc(2048,8,t,i)}function _b(t){je.flags|=4;var i=je.updateQueue;if(i===null)i=Ac(),je.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Uy(t){var i=Zt().memoizedState;return _b({ref:i,nextImpl:t}),function(){if((mt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function zy(t,i){return xc(4,2,t,i)}function jy(t,i){return xc(4,4,t,i)}function By(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function qy(t,i,a){a=a!=null?a.concat([t]):null,xc(4,4,By.bind(null,i,t),a)}function fd(){}function Hy(t,i){var a=Zt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&td(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Fy(t,i){var a=Zt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&td(i,l[1]))return l[0];if(l=t(),Ua){nn(!0);try{t()}finally{nn(!1)}}return a.memoizedState=[l,i],l}function dd(t,i,a){return a===void 0||(Qr&1073741824)!==0&&(We&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Gv(),je.lanes|=t,Vs|=t,a)}function Gy(t,i,a,l){return bi(a,i)?a:Eo.current!==null?(t=dd(t,a,l),bi(t,i)||(cn=!0),t):(Qr&42)===0||(Qr&1073741824)!==0&&(We&261930)===0?(cn=!0,t.memoizedState=a):(t=Gv(),je.lanes|=t,Vs|=t,i)}function Qy(t,i,a,l,h){var d=fe.p;fe.p=d!==0&&8>d?d:8;var v=te.T,b={};te.T=b,gd(t,!1,i,a);try{var D=h(),$=te.S;if($!==null&&$(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ne=mb(D,l);Ml(t,i,ne,xi(t))}else Ml(t,i,l,xi(t))}catch(oe){Ml(t,i,{then:function(){},status:"rejected",reason:oe},xi())}finally{fe.p=d,v!==null&&b.types!==null&&(v.types=b.types),te.T=v}}function Eb(){}function md(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=$y(t).queue;Qy(t,h,i,we,a===null?Eb:function(){return Yy(t),a(l)})}function $y(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:we},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Yy(t){var i=$y(t);i.next===null&&(i=t.alternate.memoizedState),Ml(t,i.next.queue,{},xi())}function pd(){return kn(Kl)}function Ky(){return Zt().memoizedState}function Xy(){return Zt().memoizedState}function Tb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=xi();t=Cs(a);var l=xs(i,t,a);l!==null&&(fi(l,i,a),Il(l,i,a)),i={cache:Ff()},t.payload=i;return}i=i.return}}function wb(t,i,a){var l=xi();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(t)?Jy(i,a):(a=Of(t,i,a,l),a!==null&&(fi(a,t,l),Zy(a,i,l)))}function Wy(t,i,a){var l=xi();Ml(t,i,a,l)}function Ml(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(t))Jy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,bi(b,v))return cc(t,i,h,0),It===null&&uc(),!1}catch{}finally{}if(a=Of(t,i,h,l),a!==null)return fi(a,t,l),Zy(a,i,l),!0}return!1}function gd(t,i,a,l){if(l={lane:2,revertLane:Yd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nc(t)){if(i)throw Error(s(479))}else i=Of(t,a,l,2),i!==null&&fi(i,t,2)}function Nc(t){var i=t.alternate;return t===je||i!==null&&i===je}function Jy(t,i){To=bc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Zy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,mr(t,a)}}var Ol={readContext:kn,use:Rc,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht};Ol.useEffectEvent=Ht;var ev={readContext:kn,use:Rc,useCallback:function(t,i){return Zn().memoizedState=[t,i===void 0?null:i],t},useContext:kn,useEffect:Ly,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Cc(4194308,4,By.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Cc(4194308,4,t,i)},useInsertionEffect:function(t,i){Cc(4,2,t,i)},useMemo:function(t,i){var a=Zn();i=i===void 0?null:i;var l=t();if(Ua){nn(!0);try{t()}finally{nn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Zn();if(a!==void 0){var h=a(i);if(Ua){nn(!0);try{a(i)}finally{nn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=wb.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var i=Zn();return t={current:t},i.memoizedState=t},useState:function(t){t=ud(t);var i=t.queue,a=Wy.bind(null,je,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:fd,useDeferredValue:function(t,i){var a=Zn();return dd(a,t,i)},useTransition:function(){var t=ud(!1);return t=Qy.bind(null,je,t.queue,!0,!1),Zn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=je,h=Zn();if(nt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),It===null)throw Error(s(349));(We&127)!==0||Ty(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ly(by.bind(null,l,d,t),[t]),l.flags|=2048,bo(9,{destroy:void 0},wy.bind(null,l,d,a,i),null),a},useId:function(){var t=Zn(),i=It.identifierPrefix;if(nt){var a=wr,l=Tr;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Sc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=pb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:pd,useFormState:My,useActionState:My,useOptimistic:function(t){var i=Zn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gd.bind(null,je,!0,a),a.dispatch=i,[t,i]},useMemoCache:ad,useCacheRefresh:function(){return Zn().memoizedState=Tb.bind(null,je)},useEffectEvent:function(t){var i=Zn(),a={impl:t};return i.memoizedState=a,function(){if((mt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},yd={readContext:kn,use:Rc,useCallback:Hy,useContext:kn,useEffect:hd,useImperativeHandle:qy,useInsertionEffect:zy,useLayoutEffect:jy,useMemo:Fy,useReducer:Ic,useRef:Py,useState:function(){return Ic($r)},useDebugValue:fd,useDeferredValue:function(t,i){var a=Zt();return Gy(a,Tt.memoizedState,t,i)},useTransition:function(){var t=Ic($r)[0],i=Zt().memoizedState;return[typeof t=="boolean"?t:Dl(t),i]},useSyncExternalStore:Ey,useId:Ky,useHostTransitionStatus:pd,useFormState:Oy,useActionState:Oy,useOptimistic:function(t,i){var a=Zt();return Ry(a,Tt,t,i)},useMemoCache:ad,useCacheRefresh:Xy};yd.useEffectEvent=Uy;var tv={readContext:kn,use:Rc,useCallback:Hy,useContext:kn,useEffect:hd,useImperativeHandle:qy,useInsertionEffect:zy,useLayoutEffect:jy,useMemo:Fy,useReducer:ld,useRef:Py,useState:function(){return ld($r)},useDebugValue:fd,useDeferredValue:function(t,i){var a=Zt();return Tt===null?dd(a,t,i):Gy(a,Tt.memoizedState,t,i)},useTransition:function(){var t=ld($r)[0],i=Zt().memoizedState;return[typeof t=="boolean"?t:Dl(t),i]},useSyncExternalStore:Ey,useId:Ky,useHostTransitionStatus:pd,useFormState:ky,useActionState:ky,useOptimistic:function(t,i){var a=Zt();return Tt!==null?Ry(a,Tt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:Xy};tv.useEffectEvent=Uy;function vd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _d={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=xi(),h=Cs(l);h.payload=i,a!=null&&(h.callback=a),i=xs(t,h,l),i!==null&&(fi(i,t,l),Il(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=xi(),h=Cs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=xs(t,h,l),i!==null&&(fi(i,t,l),Il(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=xi(),l=Cs(a);l.tag=2,i!=null&&(l.callback=i),i=xs(t,l,a),i!==null&&(fi(i,t,a),Il(i,t,a))}};function nv(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!_l(a,l)||!_l(h,d):!0}function iv(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&_d.enqueueReplaceState(i,i.state,null)}function za(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function rv(t){lc(t)}function sv(t){console.error(t)}function av(t){lc(t)}function Dc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ov(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ed(t,i,a){return a=Cs(a),a.tag=3,a.payload={element:null},a.callback=function(){Dc(t,i)},a}function lv(t){return t=Cs(t),t.tag=3,t}function uv(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ov(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ov(i,a,l),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function bb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&po(i,a,h,!0),a=Ai.current,a!==null){switch(a.tag){case 31:case 13:return Yi===null?Hc():a.alternate===null&&Ft===0&&(Ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===vc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Gd(t,l,h)),!1;case 22:return a.flags|=65536,l===vc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Gd(t,l,h)),!1}throw Error(s(435,a.tag))}return Gd(t,l,h),Hc(),!1}if(nt)return i=Ai.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==zf&&(t=Error(s(422),{cause:l}),wl(Fi(t,a)))):(l!==zf&&(i=Error(s(423),{cause:l}),wl(Fi(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Fi(l,a),h=Ed(t.stateNode,l,h),Xf(t,h),Ft!==4&&(Ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Fi(d,a),Bl===null?Bl=[d]:Bl.push(d),Ft!==4&&(Ft=2),i===null)return!0;l=Fi(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ed(a.stateNode,l,t),Xf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ks===null||!ks.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=lv(h),uv(h,t,a,l),Xf(a,h),!1}a=a.return}while(a!==null);return!1}var Td=Error(s(461)),cn=!1;function Pn(t,i,a,l){i.child=t===null?dy(i,null,a,l):La(i,t.child,a,l)}function cv(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Oa(i),l=nd(t,i,a,v,d,h),b=id(),t!==null&&!cn?(rd(t,i,h),Yr(t,i,h)):(nt&&b&&Lf(i),i.flags|=1,Pn(t,i,l,h),i.child)}function hv(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,fv(t,i,d,l,h)):(t=fc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!xd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:_l,a(v,l)&&t.ref===i.ref)return Yr(t,i,h)}return i.flags|=1,t=qr(d,l),t.ref=i.ref,t.return=i,i.child=t}function fv(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(_l(d,l)&&t.ref===i.ref)if(cn=!1,i.pendingProps=l=d,xd(t,h))(t.flags&131072)!==0&&(cn=!0);else return i.lanes=t.lanes,Yr(t,i,h)}return wd(t,i,a,l,h)}function dv(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return mv(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&gc(i,d!==null?d.cachePool:null),d!==null?gy(i,d):Jf(),yy(i);else return l=i.lanes=536870912,mv(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(gc(i,d.cachePool),gy(i,d),Ds(),i.memoizedState=null):(t!==null&&gc(i,null),Jf(),Ds());return Pn(t,i,h,a),i.child}function Vl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function mv(t,i,a,l,h){var d=Qf();return d=d===null?null:{parent:ln._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&gc(i,null),Jf(),yy(i),t!==null&&po(t,i,l,!0),i.childLanes=h,null}function Mc(t,i){return i=Vc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function pv(t,i,a){return La(i,t.child,null,a),t=Mc(i,i.pendingProps),t.flags|=2,Ri(i),i.memoizedState=null,t}function Sb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(nt){if(l.mode==="hidden")return t=Mc(i,l),i.lanes=536870912,Vl(null,t);if(ed(i),(t=Mt)?(t=I_(t,$i),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:bs!==null?{id:Tr,overflow:wr}:null,retryLane:536870912,hydrationErrors:null},a=Jg(t),a.return=i,i.child=a,Vn=i,Mt=null)):t=null,t===null)throw As(i);return i.lanes=536870912,null}return Mc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(ed(i),h)if(i.flags&256)i.flags&=-257,i=pv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(cn||po(t,i,a,!1),h=(a&t.childLanes)!==0,cn||h){if(l=It,l!==null&&(v=pr(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,xa(t,v),fi(l,t,v),Td;Hc(),i=pv(t,i,a)}else t=d.treeContext,Mt=Ki(v.nextSibling),Vn=i,nt=!0,Ss=null,$i=!1,t!==null&&ty(i,t),i=Mc(i,l),i.flags|=4096;return i}return t=qr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Oc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function wd(t,i,a,l,h){return Oa(i),a=nd(t,i,a,l,void 0,h),l=id(),t!==null&&!cn?(rd(t,i,h),Yr(t,i,h)):(nt&&l&&Lf(i),i.flags|=1,Pn(t,i,a,h),i.child)}function gv(t,i,a,l,h,d){return Oa(i),i.updateQueue=null,a=_y(i,l,a,h),vy(t),l=id(),t!==null&&!cn?(rd(t,i,d),Yr(t,i,d)):(nt&&l&&Lf(i),i.flags|=1,Pn(t,i,a,d),i.child)}function yv(t,i,a,l,h){if(Oa(i),i.stateNode===null){var d=co,v=a.contextType;typeof v=="object"&&v!==null&&(d=kn(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Yf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?kn(v):co,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(vd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&_d.enqueueReplaceState(d,d.state,null),xl(i,l,d,h),Cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,D=za(a,b);d.props=D;var $=d.context,ne=a.contextType;v=co,typeof ne=="object"&&ne!==null&&(v=kn(ne));var oe=a.getDerivedStateFromProps;ne=typeof oe=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,ne||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||$!==v)&&iv(i,d,l,v),Is=!1;var K=i.memoizedState;d.state=K,xl(i,l,d,h),Cl(),$=i.memoizedState,b||K!==$||Is?(typeof oe=="function"&&(vd(i,a,oe,l),$=i.memoizedState),(D=Is||nv(i,a,D,l,K,$,v))?(ne||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Kf(t,i),v=i.memoizedProps,ne=za(a,v),d.props=ne,oe=i.pendingProps,K=d.context,$=a.contextType,D=co,typeof $=="object"&&$!==null&&(D=kn($)),b=a.getDerivedStateFromProps,($=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==oe||K!==D)&&iv(i,d,l,D),Is=!1,K=i.memoizedState,d.state=K,xl(i,l,d,h),Cl();var W=i.memoizedState;v!==oe||K!==W||Is||t!==null&&t.dependencies!==null&&mc(t.dependencies)?(typeof b=="function"&&(vd(i,a,b,l),W=i.memoizedState),(ne=Is||nv(i,a,ne,l,K,W,D)||t!==null&&t.dependencies!==null&&mc(t.dependencies))?($||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,W,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,W,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=W),d.props=l,d.state=W,d.context=D,l=ne):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Oc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=La(i,t.child,null,h),i.child=La(i,null,a,h)):Pn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Yr(t,i,h),t}function vv(t,i,a,l){return Da(),i.flags|=256,Pn(t,i,a,l),i.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(t){return{baseLanes:t,cachePool:oy()}}function Ad(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Ci),t}function _v(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Jt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(nt){if(h?Ns(i):Ds(),(t=Mt)?(t=I_(t,$i),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:bs!==null?{id:Tr,overflow:wr}:null,retryLane:536870912,hydrationErrors:null},a=Jg(t),a.return=i,i.child=a,Vn=i,Mt=null)):t=null,t===null)throw As(i);return om(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Ds(),h=i.mode,b=Vc({mode:"hidden",children:b},h),l=Na(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,v,a),i.memoizedState=bd,Vl(null,l)):(Ns(i),Rd(i,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(d)i.flags&256?(Ns(i),i.flags&=-257,i=Id(t,i,a)):i.memoizedState!==null?(Ds(),i.child=t.child,i.flags|=128,i=null):(Ds(),b=l.fallback,h=i.mode,l=Vc({mode:"visible",children:l.children},h),b=Na(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,La(i,t.child,null,a),l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,v,a),i.memoizedState=bd,i=Vl(null,l));else if(Ns(i),om(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var $=v.dgst;v=$,l=Error(s(419)),l.stack="",l.digest=v,wl({value:l,source:null,stack:null}),i=Id(t,i,a)}else if(cn||po(t,i,a,!1),v=(a&t.childLanes)!==0,cn||v){if(v=It,v!==null&&(l=pr(v,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,xa(t,l),fi(v,t,l),Td;am(b)||Hc(),i=Id(t,i,a)}else am(b)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,Mt=Ki(b.nextSibling),Vn=i,nt=!0,Ss=null,$i=!1,t!==null&&ty(i,t),i=Rd(i,l.children),i.flags|=4096);return i}return h?(Ds(),b=l.fallback,h=i.mode,D=t.child,$=D.sibling,l=qr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,$!==null?b=qr($,b):(b=Na(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Vl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Sd(a):(h=b.cachePool,h!==null?(D=ln._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=oy(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=Ad(t,v,a),i.memoizedState=bd,Vl(t.child,l)):(Ns(i),a=t.child,t=a.sibling,a=qr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Rd(t,i){return i=Vc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Vc(t,i){return t=Si(22,t,null,i),t.lanes=0,t}function Id(t,i,a){return La(i,t.child,null,a),t=Rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ev(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),qf(t.return,i,a)}function Cd(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function Tv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=Jt.current,b=(v&2)!==0;if(b?(v=v&1|2,i.flags|=128):v&=1,X(Jt,v),Pn(t,i,l,a),l=nt?Tl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ev(t,a,i);else if(t.tag===19)Ev(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&wc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Cd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&wc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Cd(i,!0,a,null,d,l);break;case"together":Cd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Yr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Vs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(po(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=qr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function xd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&mc(t)))}function Ab(t,i,a){switch(i.tag){case 3:Se(i,i.stateNode.containerInfo),Rs(i,ln,t.memoizedState.cache),Da();break;case 27:case 5:$e(i);break;case 4:Se(i,i.stateNode.containerInfo);break;case 10:Rs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ed(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ns(i),i.flags|=128,null):(a&i.child.childLanes)!==0?_v(t,i,a):(Ns(i),t=Yr(t,i,a),t!==null?t.sibling:null);Ns(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(po(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Tv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(Jt,Jt.current),l)break;return null;case 22:return i.lanes=0,dv(t,i,a,i.pendingProps);case 24:Rs(i,ln,t.memoizedState.cache)}return Yr(t,i,a)}function wv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)cn=!0;else{if(!xd(t,a)&&(i.flags&128)===0)return cn=!1,Ab(t,i,a);cn=(t.flags&131072)!==0}else cn=!1,nt&&(i.flags&1048576)!==0&&ey(i,Tl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ka(i.elementType),i.type=t,typeof t=="function")Vf(t)?(l=za(t,l),i.tag=1,i=yv(null,i,t,l,a)):(i.tag=0,i=wd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Ae){i.tag=11,i=cv(null,i,t,l,a);break e}else if(h===x){i.tag=14,i=hv(null,i,t,l,a);break e}}throw i=ht(t)||t,Error(s(306,i,""))}}return i;case 0:return wd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=za(l,i.pendingProps),yv(t,i,l,h,a);case 3:e:{if(Se(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Kf(t,i),xl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Rs(i,ln,l),l!==d.cache&&Hf(i,[ln],a,!0),Cl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=vv(t,i,l,a);break e}else if(l!==h){h=Fi(Error(s(424)),i),wl(h),i=vv(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Mt=Ki(t.firstChild),Vn=i,nt=!0,Ss=null,$i=!0,a=dy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Da(),l===h){i=Yr(t,i,a);break e}Pn(t,i,l,a)}i=i.child}return i;case 26:return Oc(t,i),t===null?(a=O_(i.type,null,i.pendingProps,null))?i.memoizedState=a:nt||(a=i.type,t=i.pendingProps,l=Xc(pe.current).createElement(a),l[At]=i,l[Xt]=t,Ln(l,a,t),xt(l),i.stateNode=l):i.memoizedState=O_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return $e(i),t===null&&nt&&(l=i.stateNode=N_(i.type,i.pendingProps,pe.current),Vn=i,$i=!0,h=Mt,zs(i.type)?(lm=h,Mt=Ki(l.firstChild)):Mt=h),Pn(t,i,i.pendingProps.children,a),Oc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&nt&&((h=l=Mt)&&(l=tS(l,i.type,i.pendingProps,$i),l!==null?(i.stateNode=l,Vn=i,Mt=Ki(l.firstChild),$i=!1,h=!0):h=!1),h||As(i)),$e(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,im(h,d)?l=null:v!==null&&im(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=nd(t,i,gb,null,null,a),Kl._currentValue=h),Oc(t,i),Pn(t,i,l,a),i.child;case 6:return t===null&&nt&&((t=a=Mt)&&(a=nS(a,i.pendingProps,$i),a!==null?(i.stateNode=a,Vn=i,Mt=null,t=!0):t=!1),t||As(i)),null;case 13:return _v(t,i,a);case 4:return Se(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=La(i,null,l,a):Pn(t,i,l,a),i.child;case 11:return cv(t,i,i.type,i.pendingProps,a);case 7:return Pn(t,i,i.pendingProps,a),i.child;case 8:return Pn(t,i,i.pendingProps.children,a),i.child;case 12:return Pn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Rs(i,i.type,l.value),Pn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Oa(i),h=kn(h),l=l(h),i.flags|=1,Pn(t,i,l,a),i.child;case 14:return hv(t,i,i.type,i.pendingProps,a);case 15:return fv(t,i,i.type,i.pendingProps,a);case 19:return Tv(t,i,a);case 31:return Sb(t,i,a);case 22:return dv(t,i,a,i.pendingProps);case 24:return Oa(i),l=kn(ln),t===null?(h=Qf(),h===null&&(h=It,d=Ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Yf(i),Rs(i,ln,h)):((t.lanes&a)!==0&&(Kf(t,i),xl(i,null,null,a),Cl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Rs(i,ln,l)):(l=d.cache,Rs(i,ln,l),l!==h.cache&&Hf(i,[ln],a,!0))),Pn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Kr(t){t.flags|=4}function Nd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Kv())t.flags|=8192;else throw Pa=vc,$f}else t.flags&=-16777217}function bv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!U_(i))if(Kv())t.flags|=8192;else throw Pa=vc,$f}function kc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ti():536870912,t.lanes|=i,Io|=i)}function kl(t,i){if(!nt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Rb(t,i,a){var l=i.pendingProps;switch(Uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gr(ln),Ce(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(mo(i)?Kr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jf())),Ot(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Kr(i),d!==null?(Ot(i),bv(i,d)):(Ot(i),Nd(i,h,null,l,a))):d?d!==t.memoizedState?(Kr(i),Ot(i),bv(i,d)):(Ot(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Kr(i),Ot(i),Nd(i,h,t,l,a)),null;case 27:if(Ye(i),a=pe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Kr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Ot(i),null}t=ae.current,mo(i)?ny(i):(t=N_(h,l,a),i.stateNode=t,Kr(i))}return Ot(i),null;case 5:if(Ye(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Kr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Ot(i),null}if(d=ae.current,mo(i))ny(i);else{var v=Xc(pe.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[At]=i,d[Xt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Ln(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Kr(i)}}return Ot(i),Nd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Kr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=pe.current,mo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Vn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||__(t.nodeValue,a)),t||As(i,!0)}else t=Xc(t).createTextNode(l),t[At]=i,i.stateNode=t}return Ot(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=mo(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[At]=i}else Da(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),t=!1}else a=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Ri(i),i):(Ri(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=mo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=i}else Da(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),h=!1}else h=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ri(i),i):(Ri(i),null)}return Ri(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),kc(i,i.updateQueue),Ot(i),null);case 4:return Ce(),t===null&&Jd(i.stateNode.containerInfo),Ot(i),null;case 10:return Gr(i.type),Ot(i),null;case 19:if(z(Jt),l=i.memoizedState,l===null)return Ot(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)kl(l,!1);else{if(Ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=wc(t),d!==null){for(i.flags|=128,kl(l,!1),t=d.updateQueue,i.updateQueue=t,kc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Wg(a,t),a=a.sibling;return X(Jt,Jt.current&1|2),nt&&Hr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&jt()>jc&&(i.flags|=128,h=!0,kl(l,!1),i.lanes=4194304)}else{if(!h)if(t=wc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,kc(i,t),kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!nt)return Ot(i),null}else 2*jt()-l.renderingStartTime>jc&&a!==536870912&&(i.flags|=128,h=!0,kl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=jt(),t.sibling=null,a=Jt.current,X(Jt,h?a&1|2:a&1),nt&&Hr(i,l.treeForkCount),t):(Ot(i),null);case 22:case 23:return Ri(i),Zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),a=i.updateQueue,a!==null&&kc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&z(Va),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gr(ln),Ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Ib(t,i){switch(Uf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gr(ln),Ce(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ye(i),null;case 31:if(i.memoizedState!==null){if(Ri(i),i.alternate===null)throw Error(s(340));Da()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Ri(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Da()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return z(Jt),null;case 4:return Ce(),null;case 10:return Gr(i.type),null;case 22:case 23:return Ri(i),Zf(),t!==null&&z(Va),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gr(ln),null;case 25:return null;default:return null}}function Sv(t,i){switch(Uf(i),i.tag){case 3:Gr(ln),Ce();break;case 26:case 27:case 5:Ye(i);break;case 4:Ce();break;case 31:i.memoizedState!==null&&Ri(i);break;case 13:Ri(i);break;case 19:z(Jt);break;case 10:Gr(i.type);break;case 22:case 23:Ri(i),Zf(),t!==null&&z(Va);break;case 24:Gr(ln)}}function Pl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){Et(i,i.return,b)}}function Ms(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var D=a,$=b;try{$()}catch(ne){Et(h,D,ne)}}}l=l.next}while(l!==d)}}catch(ne){Et(i,i.return,ne)}}function Av(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{py(i,a)}catch(l){Et(t,t.return,l)}}}function Rv(t,i,a){a.props=za(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Et(t,i,l)}}function Ll(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Et(t,i,h)}}function br(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Et(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Et(t,i,h)}else a.current=null}function Iv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Et(t,t.return,h)}}function Dd(t,i,a){try{var l=t.stateNode;Kb(l,t.type,a,i),l[Xt]=i}catch(h){Et(t,t.return,h)}}function Cv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zs(t.type)||t.tag===4}function Md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Od(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Nt));else if(l!==4&&(l===27&&zs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Od(t,i,a),t=t.sibling;t!==null;)Od(t,i,a),t=t.sibling}function Pc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&zs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Pc(t,i,a),t=t.sibling;t!==null;)Pc(t,i,a),t=t.sibling}function xv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ln(i,l,a),i[At]=t,i[Xt]=a}catch(d){Et(t,t.return,d)}}var Xr=!1,hn=!1,Vd=!1,Nv=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function Cb(t,i){if(t=t.containerInfo,tm=ih,t=qg(t),If(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,D=-1,$=0,ne=0,oe=t,K=null;t:for(;;){for(var W;oe!==a||h!==0&&oe.nodeType!==3||(b=v+h),oe!==d||l!==0&&oe.nodeType!==3||(D=v+l),oe.nodeType===3&&(v+=oe.nodeValue.length),(W=oe.firstChild)!==null;)K=oe,oe=W;for(;;){if(oe===t)break t;if(K===a&&++$===h&&(b=v),K===d&&++ne===l&&(D=v),(W=oe.nextSibling)!==null)break;oe=K,K=oe.parentNode}oe=W}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:t,selectionRange:a},ih=!1,Sn=i;Sn!==null;)if(i=Sn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Sn=t;else for(;Sn!==null;){switch(i=Sn,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=za(a.type,h);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Me){Et(a,a.return,Me)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Sn=t;break}Sn=i.return}}function Dv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Jr(t,a),l&4&&Pl(5,a);break;case 1:if(Jr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Et(a,a.return,v)}else{var h=za(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Et(a,a.return,v)}}l&64&&Av(a),l&512&&Ll(a,a.return);break;case 3:if(Jr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{py(t,i)}catch(v){Et(a,a.return,v)}}break;case 27:i===null&&l&4&&xv(a);case 26:case 5:Jr(t,a),i===null&&l&4&&Iv(a),l&512&&Ll(a,a.return);break;case 12:Jr(t,a);break;case 31:Jr(t,a),l&4&&Vv(t,a);break;case 13:Jr(t,a),l&4&&kv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Lb.bind(null,a),iS(t,a))));break;case 22:if(l=a.memoizedState!==null||Xr,!l){i=i!==null&&i.memoizedState!==null||hn,h=Xr;var d=hn;Xr=l,(hn=i)&&!d?Zr(t,a,(a.subtreeFlags&8772)!==0):Jr(t,a),Xr=h,hn=d}break;case 30:break;default:Jr(t,a)}}function Mv(t){var i=t.alternate;i!==null&&(t.alternate=null,Mv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Lr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Lt=null,li=!1;function Wr(t,i,a){for(a=a.child;a!==null;)Ov(t,i,a),a=a.sibling}function Ov(t,i,a){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Nn,a)}catch{}switch(a.tag){case 26:hn||br(a,i),Wr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:hn||br(a,i);var l=Lt,h=li;zs(a.type)&&(Lt=a.stateNode,li=!1),Wr(t,i,a),Ql(a.stateNode),Lt=l,li=h;break;case 5:hn||br(a,i);case 6:if(l=Lt,h=li,Lt=null,Wr(t,i,a),Lt=l,li=h,Lt!==null)if(li)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(a.stateNode)}catch(d){Et(a,i,d)}else try{Lt.removeChild(a.stateNode)}catch(d){Et(a,i,d)}break;case 18:Lt!==null&&(li?(t=Lt,A_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ko(t)):A_(Lt,a.stateNode));break;case 4:l=Lt,h=li,Lt=a.stateNode.containerInfo,li=!0,Wr(t,i,a),Lt=l,li=h;break;case 0:case 11:case 14:case 15:Ms(2,a,i),hn||Ms(4,a,i),Wr(t,i,a);break;case 1:hn||(br(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Rv(a,i,l)),Wr(t,i,a);break;case 21:Wr(t,i,a);break;case 22:hn=(l=hn)||a.memoizedState!==null,Wr(t,i,a),hn=l;break;default:Wr(t,i,a)}}function Vv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ko(t)}catch(a){Et(i,i.return,a)}}}function kv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ko(t)}catch(a){Et(i,i.return,a)}}function xb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Nv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Nv),i;default:throw Error(s(435,t.tag))}}function Lc(t,i){var a=xb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Ub.bind(null,t,l);l.then(h,h)}})}function ui(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(zs(b.type)){Lt=b.stateNode,li=!1;break e}break;case 5:Lt=b.stateNode,li=!1;break e;case 3:case 4:Lt=b.stateNode.containerInfo,li=!0;break e}b=b.return}if(Lt===null)throw Error(s(160));Ov(d,v,h),Lt=null,li=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Pv(i,t),i=i.sibling}var lr=null;function Pv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ui(i,t),ci(t),l&4&&(Ms(3,t,t.return),Pl(3,t),Ms(5,t,t.return));break;case 1:ui(i,t),ci(t),l&512&&(hn||a===null||br(a,a.return)),l&64&&Xr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=lr;if(ui(i,t),ci(t),l&512&&(hn||a===null||br(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[sn]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ln(d,l,a),d[At]=t,xt(d),l=d;break e;case"link":var v=P_("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),Ln(d,l,a),h.head.appendChild(d);break;case"meta":if(v=P_("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),Ln(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,xt(d),l=d}t.stateNode=l}else L_(h,t.type,t.stateNode);else t.stateNode=k_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?L_(h,t.type,t.stateNode):k_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ui(i,t),ci(t),l&512&&(hn||a===null||br(a,a.return)),a!==null&&l&4&&Dd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ui(i,t),ci(t),l&512&&(hn||a===null||br(a,a.return)),t.flags&32){h=t.stateNode;try{si(h,"")}catch(Te){Et(t,t.return,Te)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Dd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Vd=!0);break;case 6:if(ui(i,t),ci(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Te){Et(t,t.return,Te)}}break;case 3:if(Zc=null,h=lr,lr=Wc(i.containerInfo),ui(i,t),lr=h,ci(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ko(i.containerInfo)}catch(Te){Et(t,t.return,Te)}Vd&&(Vd=!1,Lv(t));break;case 4:l=lr,lr=Wc(t.stateNode.containerInfo),ui(i,t),ci(t),lr=l;break;case 12:ui(i,t),ci(t);break;case 31:ui(i,t),ci(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 13:ui(i,t),ci(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zc=jt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,$=Xr,ne=hn;if(Xr=$||h,hn=ne||D,ui(i,t),hn=ne,Xr=$,ci(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||Xr||hn||ja(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=D.stateNode;var oe=D.memoizedProps.style,K=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Te){Et(D,D.return,Te)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(Te){Et(D,D.return,Te)}}}else if(i.tag===18){if(a===null){D=i;try{var W=D.stateNode;h?R_(W,!0):R_(D.stateNode,!1)}catch(Te){Et(D,D.return,Te)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lc(t,a))));break;case 19:ui(i,t),ci(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 30:break;case 21:break;default:ui(i,t),ci(t)}}function ci(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Cv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Md(t);Pc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(si(v,""),a.flags&=-33);var b=Md(t);Pc(t,b,v);break;case 3:case 4:var D=a.stateNode.containerInfo,$=Md(t);Od(t,$,D);break;default:throw Error(s(161))}}catch(ne){Et(t,t.return,ne)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Lv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Lv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Jr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Dv(t,i.alternate,i),i=i.sibling}function ja(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ms(4,i,i.return),ja(i);break;case 1:br(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Rv(i,i.return,a),ja(i);break;case 27:Ql(i.stateNode);case 26:case 5:br(i,i.return),ja(i);break;case 22:i.memoizedState===null&&ja(i);break;case 30:ja(i);break;default:ja(i)}t=t.sibling}}function Zr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Zr(h,d,a),Pl(4,d);break;case 1:if(Zr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){Et(l,l.return,$)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)my(D[h],b)}catch($){Et(l,l.return,$)}}a&&v&64&&Av(d),Ll(d,d.return);break;case 27:xv(d);case 26:case 5:Zr(h,d,a),a&&l===null&&v&4&&Iv(d),Ll(d,d.return);break;case 12:Zr(h,d,a);break;case 31:Zr(h,d,a),a&&v&4&&Vv(h,d);break;case 13:Zr(h,d,a),a&&v&4&&kv(h,d);break;case 22:d.memoizedState===null&&Zr(h,d,a),Ll(d,d.return);break;case 30:break;default:Zr(h,d,a)}i=i.sibling}}function kd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&bl(a))}function Pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&bl(t))}function ur(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uv(t,i,a,l),i=i.sibling}function Uv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ur(t,i,a,l),h&2048&&Pl(9,i);break;case 1:ur(t,i,a,l);break;case 3:ur(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&bl(t)));break;case 12:if(h&2048){ur(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Et(i,i.return,D)}}else ur(t,i,a,l);break;case 31:ur(t,i,a,l);break;case 13:ur(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ur(t,i,a,l):Ul(t,i):d._visibility&2?ur(t,i,a,l):(d._visibility|=2,So(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&kd(v,i);break;case 24:ur(t,i,a,l),h&2048&&Pd(i.alternate,i);break;default:ur(t,i,a,l)}}function So(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,b=a,D=l,$=v.flags;switch(v.tag){case 0:case 11:case 15:So(d,v,b,D,h),Pl(8,v);break;case 23:break;case 22:var ne=v.stateNode;v.memoizedState!==null?ne._visibility&2?So(d,v,b,D,h):Ul(d,v):(ne._visibility|=2,So(d,v,b,D,h)),h&&$&2048&&kd(v.alternate,v);break;case 24:So(d,v,b,D,h),h&&$&2048&&Pd(v.alternate,v);break;default:So(d,v,b,D,h)}i=i.sibling}}function Ul(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Ul(a,l),h&2048&&kd(l.alternate,l);break;case 24:Ul(a,l),h&2048&&Pd(l.alternate,l);break;default:Ul(a,l)}i=i.sibling}}var zl=8192;function Ao(t,i,a){if(t.subtreeFlags&zl)for(t=t.child;t!==null;)zv(t,i,a),t=t.sibling}function zv(t,i,a){switch(t.tag){case 26:Ao(t,i,a),t.flags&zl&&t.memoizedState!==null&&pS(a,lr,t.memoizedState,t.memoizedProps);break;case 5:Ao(t,i,a);break;case 3:case 4:var l=lr;lr=Wc(t.stateNode.containerInfo),Ao(t,i,a),lr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=zl,zl=16777216,Ao(t,i,a),zl=l):Ao(t,i,a));break;default:Ao(t,i,a)}}function jv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function jl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Sn=l,qv(l,t)}jv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bv(t),t=t.sibling}function Bv(t){switch(t.tag){case 0:case 11:case 15:jl(t),t.flags&2048&&Ms(9,t,t.return);break;case 3:jl(t);break;case 12:jl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Uc(t)):jl(t);break;default:jl(t)}}function Uc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Sn=l,qv(l,t)}jv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ms(8,i,i.return),Uc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Uc(i));break;default:Uc(i)}t=t.sibling}}function qv(t,i){for(;Sn!==null;){var a=Sn;switch(a.tag){case 0:case 11:case 15:Ms(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Sn=l;else e:for(a=t;Sn!==null;){l=Sn;var h=l.sibling,d=l.return;if(Mv(l),l===a){Sn=null;break e}if(h!==null){h.return=d,Sn=h;break e}Sn=d}}}var Nb={getCacheForType:function(t){var i=kn(ln),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return kn(ln).controller.signal}},Db=typeof WeakMap=="function"?WeakMap:Map,mt=0,It=null,Ke=null,We=0,_t=0,Ii=null,Os=!1,Ro=!1,Ld=!1,es=0,Ft=0,Vs=0,Ba=0,Ud=0,Ci=0,Io=0,Bl=null,hi=null,zd=!1,zc=0,Hv=0,jc=1/0,Bc=null,ks=null,yn=0,Ps=null,Co=null,ts=0,jd=0,Bd=null,Fv=null,ql=0,qd=null;function xi(){return(mt&2)!==0&&We!==0?We&-We:te.T!==null?Yd():tr()}function Gv(){if(Ci===0)if((We&536870912)===0||nt){var t=rn;rn<<=1,(rn&3932160)===0&&(rn=262144),Ci=t}else Ci=536870912;return t=Ai.current,t!==null&&(t.flags|=32),Ci}function fi(t,i,a){(t===It&&(_t===2||_t===9)||t.cancelPendingCommit!==null)&&(xo(t,0),Ls(t,We,Ci,!1)),zi(t,a),((mt&2)===0||t!==It)&&(t===It&&((mt&2)===0&&(Ba|=a),Ft===4&&Ls(t,We,Ci,!1)),Sr(t))}function Qv(t,i,a){if((mt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||pn(t,i),h=l?Vb(t,i):Fd(t,i,!0),d=l;do{if(h===0){Ro&&!l&&Ls(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Mb(a)){h=Fd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=Bl;var D=b.current.memoizedState.isDehydrated;if(D&&(xo(b,v).flags|=256),v=Fd(b,v,!1),v!==2){if(Ld&&!D){b.errorRecoveryDisabledLanes|=d,Ba|=d,h=4;break e}d=hi,hi=h,d!==null&&(hi===null?hi=d:hi.push.apply(hi,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){xo(t,0),Ls(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ls(l,i,Ci,!Os);break e;case 2:hi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=zc+300-jt(),10<h)){if(Ls(l,i,Ci,!Os),it(l,0,!0)!==0)break e;ts=i,l.timeoutHandle=b_($v.bind(null,l,a,hi,Bc,zd,i,Ci,Ba,Io,Os,d,"Throttled",-0,0),h);break e}$v(l,a,hi,Bc,zd,i,Ci,Ba,Io,Os,d,null,-0,0)}}break}while(!0);Sr(t)}function $v(t,i,a,l,h,d,v,b,D,$,ne,oe,K,W){if(t.timeoutHandle=-1,oe=i.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nt},zv(i,d,oe);var Te=(d&62914560)===d?zc-jt():(d&4194048)===d?Hv-jt():0;if(Te=gS(oe,Te),Te!==null){ts=d,t.cancelPendingCommit=Te(t_.bind(null,t,i,d,a,l,h,v,b,D,ne,oe,null,K,W)),Ls(t,d,v,!$);return}}t_(t,i,d,a,l,h,v,b,D)}function Mb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!bi(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ls(t,i,a,l){i&=~Ud,i&=~Ba,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Yt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ya(t,a,i)}function qc(){return(mt&6)===0?(Hl(0),!1):!0}function Hd(){if(Ke!==null){if(_t===0)var t=Ke.return;else t=Ke,Fr=Ma=null,sd(t),_o=null,Al=0,t=Ke;for(;t!==null;)Sv(t.alternate,t),t=t.return;Ke=null}}function xo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Jb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ts=0,Hd(),It=t,Ke=a=qr(t.current,null),We=i,_t=0,Ii=null,Os=!1,Ro=pn(t,i),Ld=!1,Io=Ci=Ud=Ba=Vs=Ft=0,hi=Bl=null,zd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Yt(l),d=1<<h;i|=t[h],l&=~d}return es=i,uc(),a}function Yv(t,i){je=null,te.H=Ol,i===vo||i===yc?(i=cy(),_t=3):i===$f?(i=cy(),_t=4):_t=i===Td?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ii=i,Ke===null&&(Ft=1,Dc(t,Fi(i,t.current)))}function Kv(){var t=Ai.current;return t===null?!0:(We&4194048)===We?Yi===null:(We&62914560)===We||(We&536870912)!==0?t===Yi:!1}function Xv(){var t=te.H;return te.H=Ol,t===null?Ol:t}function Wv(){var t=te.A;return te.A=Nb,t}function Hc(){Ft=4,Os||(We&4194048)!==We&&Ai.current!==null||(Ro=!0),(Vs&134217727)===0&&(Ba&134217727)===0||It===null||Ls(It,We,Ci,!1)}function Fd(t,i,a){var l=mt;mt|=2;var h=Xv(),d=Wv();(It!==t||We!==i)&&(Bc=null,xo(t,i)),i=!1;var v=Ft;e:do try{if(_t!==0&&Ke!==null){var b=Ke,D=Ii;switch(_t){case 8:Hd(),v=6;break e;case 3:case 2:case 9:case 6:Ai.current===null&&(i=!0);var $=_t;if(_t=0,Ii=null,No(t,b,D,$),a&&Ro){v=0;break e}break;default:$=_t,_t=0,Ii=null,No(t,b,D,$)}}Ob(),v=Ft;break}catch(ne){Yv(t,ne)}while(!0);return i&&t.shellSuspendCounter++,Fr=Ma=null,mt=l,te.H=h,te.A=d,Ke===null&&(It=null,We=0,uc()),v}function Ob(){for(;Ke!==null;)Jv(Ke)}function Vb(t,i){var a=mt;mt|=2;var l=Xv(),h=Wv();It!==t||We!==i?(Bc=null,jc=jt()+500,xo(t,i)):Ro=pn(t,i);e:do try{if(_t!==0&&Ke!==null){i=Ke;var d=Ii;t:switch(_t){case 1:_t=0,Ii=null,No(t,i,d,1);break;case 2:case 9:if(ly(d)){_t=0,Ii=null,Zv(i);break}i=function(){_t!==2&&_t!==9||It!==t||(_t=7),Sr(t)},d.then(i,i);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:ly(d)?(_t=0,Ii=null,Zv(i)):(_t=0,Ii=null,No(t,i,d,7));break;case 5:var v=null;switch(Ke.tag){case 26:v=Ke.memoizedState;case 5:case 27:var b=Ke;if(v?U_(v):b.stateNode.complete){_t=0,Ii=null;var D=b.sibling;if(D!==null)Ke=D;else{var $=b.return;$!==null?(Ke=$,Fc($)):Ke=null}break t}}_t=0,Ii=null,No(t,i,d,5);break;case 6:_t=0,Ii=null,No(t,i,d,6);break;case 8:Hd(),Ft=6;break e;default:throw Error(s(462))}}kb();break}catch(ne){Yv(t,ne)}while(!0);return Fr=Ma=null,te.H=l,te.A=h,mt=a,Ke!==null?0:(It=null,We=0,uc(),Ft)}function kb(){for(;Ke!==null&&!pa();)Jv(Ke)}function Jv(t){var i=wv(t.alternate,t,es);t.memoizedProps=t.pendingProps,i===null?Fc(t):Ke=i}function Zv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=gv(a,i,i.pendingProps,i.type,void 0,We);break;case 11:i=gv(a,i,i.pendingProps,i.type.render,i.ref,We);break;case 5:sd(i);default:Sv(a,i),i=Ke=Wg(i,es),i=wv(a,i,es)}t.memoizedProps=t.pendingProps,i===null?Fc(t):Ke=i}function No(t,i,a,l){Fr=Ma=null,sd(i),_o=null,Al=0;var h=i.return;try{if(bb(t,h,i,a,We)){Ft=1,Dc(t,Fi(a,t.current)),Ke=null;return}}catch(d){if(h!==null)throw Ke=h,d;Ft=1,Dc(t,Fi(a,t.current)),Ke=null;return}i.flags&32768?(nt||l===1?t=!0:Ro||(We&536870912)!==0?t=!1:(Os=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ai.current,l!==null&&l.tag===13&&(l.flags|=16384))),e_(i,t)):Fc(i)}function Fc(t){var i=t;do{if((i.flags&32768)!==0){e_(i,Os);return}t=i.return;var a=Rb(i.alternate,i,es);if(a!==null){Ke=a;return}if(i=i.sibling,i!==null){Ke=i;return}Ke=i=t}while(i!==null);Ft===0&&(Ft=5)}function e_(t,i){do{var a=Ib(t.alternate,t);if(a!==null){a.flags&=32767,Ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ke=t;return}Ke=t=a}while(t!==null);Ft=6,Ke=null}function t_(t,i,a,l,h,d,v,b,D){t.cancelPendingCommit=null;do Gc();while(yn!==0);if((mt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Mf,gn(t,a,d,v,b,D),t===It&&(Ke=It=null,We=0),Co=i,Ps=t,ts=a,jd=d,Bd=h,Fv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zb(ki,function(){return a_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=te.T,te.T=null,h=fe.p,fe.p=2,v=mt,mt|=4;try{Cb(t,i,a)}finally{mt=v,fe.p=h,te.T=l}}yn=1,n_(),i_(),r_()}}function n_(){if(yn===1){yn=0;var t=Ps,i=Co,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=te.T,te.T=null;var l=fe.p;fe.p=2;var h=mt;mt|=4;try{Pv(i,t);var d=nm,v=qg(t.containerInfo),b=d.focusedElem,D=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Bg(b.ownerDocument.documentElement,b)){if(D!==null&&If(b)){var $=D.start,ne=D.end;if(ne===void 0&&(ne=$),"selectionStart"in b)b.selectionStart=$,b.selectionEnd=Math.min(ne,b.value.length);else{var oe=b.ownerDocument||document,K=oe&&oe.defaultView||window;if(K.getSelection){var W=K.getSelection(),Te=b.textContent.length,Me=Math.min(D.start,Te),bt=D.end===void 0?Me:Math.min(D.end,Te);!W.extend&&Me>bt&&(v=bt,bt=Me,Me=v);var j=jg(b,Me),V=jg(b,bt);if(j&&V&&(W.rangeCount!==1||W.anchorNode!==j.node||W.anchorOffset!==j.offset||W.focusNode!==V.node||W.focusOffset!==V.offset)){var Q=oe.createRange();Q.setStart(j.node,j.offset),W.removeAllRanges(),Me>bt?(W.addRange(Q),W.extend(V.node,V.offset)):(Q.setEnd(V.node,V.offset),W.addRange(Q))}}}}for(oe=[],W=b;W=W.parentNode;)W.nodeType===1&&oe.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<oe.length;b++){var ie=oe[b];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}ih=!!tm,nm=tm=null}finally{mt=h,fe.p=l,te.T=a}}t.current=i,yn=2}}function i_(){if(yn===2){yn=0;var t=Ps,i=Co,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=te.T,te.T=null;var l=fe.p;fe.p=2;var h=mt;mt|=4;try{Dv(t,i.alternate,i)}finally{mt=h,fe.p=l,te.T=a}}yn=3}}function r_(){if(yn===4||yn===3){yn=0,Or();var t=Ps,i=Co,a=ts,l=Fv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?yn=5:(yn=0,Co=Ps=null,s_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ks=null),_a(a),i=i.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Nn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=te.T,h=fe.p,fe.p=2,te.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{te.T=i,fe.p=h}}(ts&3)!==0&&Gc(),Sr(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===qd?ql++:(ql=0,qd=t):ql=0,Hl(0)}}function s_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,bl(i)))}function Gc(){return n_(),i_(),r_(),a_()}function a_(){if(yn!==5)return!1;var t=Ps,i=jd;jd=0;var a=_a(ts),l=te.T,h=fe.p;try{fe.p=32>a?32:a,te.T=null,a=Bd,Bd=null;var d=Ps,v=ts;if(yn=0,Co=Ps=null,ts=0,(mt&6)!==0)throw Error(s(331));var b=mt;if(mt|=4,Bv(d.current),Uv(d,d.current,v,a),mt=b,Hl(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Nn,d)}catch{}return!0}finally{fe.p=h,te.T=l,s_(t,i)}}function o_(t,i,a){i=Fi(a,i),i=Ed(t.stateNode,i,2),t=xs(t,i,2),t!==null&&(zi(t,2),Sr(t))}function Et(t,i,a){if(t.tag===3)o_(t,t,a);else for(;i!==null;){if(i.tag===3){o_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ks===null||!ks.has(l))){t=Fi(a,t),a=lv(2),l=xs(i,a,2),l!==null&&(uv(a,l,i,t),zi(l,2),Sr(l));break}}i=i.return}}function Gd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Db;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ld=!0,h.add(a),t=Pb.bind(null,t,i,a),i.then(t,t))}function Pb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,It===t&&(We&a)===a&&(Ft===4||Ft===3&&(We&62914560)===We&&300>jt()-zc?(mt&2)===0&&xo(t,0):Ud|=a,Io===We&&(Io=0)),Sr(t)}function l_(t,i){i===0&&(i=ti()),t=xa(t,i),t!==null&&(zi(t,i),Sr(t))}function Lb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),l_(t,a)}function Ub(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),l_(t,a)}function zb(t,i){return tn(t,i)}var Qc=null,Do=null,Qd=!1,$c=!1,$d=!1,Us=0;function Sr(t){t!==Do&&t.next===null&&(Do===null?Qc=Do=t:Do=Do.next=t),$c=!0,Qd||(Qd=!0,Bb())}function Hl(t,i){if(!$d&&$c){$d=!0;do for(var a=!1,l=Qc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Yt(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,f_(l,d))}else d=We,d=it(l,l===It?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||pn(l,d)||(a=!0,f_(l,d));l=l.next}while(a);$d=!1}}function jb(){u_()}function u_(){$c=Qd=!1;var t=0;Us!==0&&Wb()&&(t=Us);for(var i=jt(),a=null,l=Qc;l!==null;){var h=l.next,d=c_(l,i);d===0?(l.next=null,a===null?Qc=h:a.next=h,h===null&&(Do=a)):(a=l,(t!==0||(d&3)!==0)&&($c=!0)),l=h}yn!==0&&yn!==5||Hl(t),Us!==0&&(Us=0)}function c_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Yt(d),b=1<<v,D=h[v];D===-1?((b&a)===0||(b&l)!==0)&&(h[v]=Kn(b,i)):D<=i&&(t.expiredLanes|=b),d&=~b}if(i=It,a=We,a=it(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(_t===2||_t===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&dr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||pn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&dr(l),_a(a)){case 2:case 8:a=Dt;break;case 32:a=ki;break;case 268435456:a=Li;break;default:a=ki}return l=h_.bind(null,t),a=tn(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&dr(l),t.callbackPriority=2,t.callbackNode=null,2}function h_(t,i){if(yn!==0&&yn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Gc()&&t.callbackNode!==a)return null;var l=We;return l=it(t,t===It?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Qv(t,l,i),c_(t,jt()),t.callbackNode!=null&&t.callbackNode===a?h_.bind(null,t):null)}function f_(t,i){if(Gc())return null;Qv(t,i,!0)}function Bb(){Zb(function(){(mt&6)!==0?tn(yt,jb):u_()})}function Yd(){if(Us===0){var t=go;t===0&&(t=Dn,Dn<<=1,(Dn&261888)===0&&(Dn=256)),Us=t}return Us}function d_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ai(""+t)}function m_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function qb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=d_((h[Xt]||null).action),v=l.submitter;v&&(i=(i=v[Xt]||null)?d_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var b=new Wt("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var D=v?m_(h,v):new FormData(h);md(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=v?m_(h,v):new FormData(h),md(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Kd=0;Kd<Df.length;Kd++){var Xd=Df[Kd],Hb=Xd.toLowerCase(),Fb=Xd[0].toUpperCase()+Xd.slice(1);or(Hb,"on"+Fb)}or(Gg,"onAnimationEnd"),or(Qg,"onAnimationIteration"),or($g,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(ab,"onTransitionRun"),or(ob,"onTransitionStart"),or(lb,"onTransitionCancel"),or(Yg,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Bt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function p_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var b=l[v],D=b.instance,$=b.currentTarget;if(b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=$;try{d(h)}catch(ne){lc(ne)}h.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(b=l[v],D=b.instance,$=b.currentTarget,b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=$;try{d(h)}catch(ne){lc(ne)}h.currentTarget=null,d=D}}}}function Xe(t,i){var a=i[gr];a===void 0&&(a=i[gr]=new Set);var l=t+"__bubble";a.has(l)||(g_(i,t,2,!1),a.add(l))}function Wd(t,i,a){var l=0;i&&(l|=4),g_(a,t,l,i)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function Jd(t){if(!t[Yc]){t[Yc]=!0,gs.forEach(function(a){a!=="selectionchange"&&(Gb.has(a)||Wd(a,!1,t),Wd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Yc]||(i[Yc]=!0,Wd("selectionchange",!1,i))}}function g_(t,i,a,l){switch(G_(i)){case 2:var h=_S;break;case 8:h=ES;break;default:h=dm}a=h.bind(null,i,a,t),h=void 0,!Be||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Zd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=ji(b),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue e}b=b.parentNode}}l=l.return}ve(function(){var $=d,ne=L(a),oe=[];e:{var K=Kg.get(t);if(K!==void 0){var W=Wt,Te=t;switch(t){case"keypress":if(Xn(a)===0)break e;case"keydown":case"keyup":W=tc;break;case"focusin":Te="focus",W=_s;break;case"focusout":Te="blur",W=_s;break;case"beforeblur":case"afterblur":W=_s;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=ic;break;case Gg:case Qg:case $g:W=so;break;case Yg:W=ao;break;case"scroll":case"scrollend":W=io;break;case"wheel":W=sc;break;case"copy":case"cut":case"paste":W=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=yl;break;case"toggle":case"beforetoggle":W=Ts}var Me=(i&4)!==0,bt=!Me&&(t==="scroll"||t==="scrollend"),j=Me?K!==null?K+"Capture":null:K;Me=[];for(var V=$,Q;V!==null;){var ie=V;if(Q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Q===null||j===null||(ie=Pe(V,j),ie!=null&&Me.push(Gl(V,ie,Q))),bt)break;V=V.return}0<Me.length&&(K=new W(K,Te,null,a,ne),oe.push({event:K,listeners:Me}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",K&&a!==S&&(Te=a.relatedTarget||a.fromElement)&&(ji(Te)||Te[gi]))break e;if((W||K)&&(K=ne.window===ne?ne:(K=ne.ownerDocument)?K.defaultView||K.parentWindow:window,W?(Te=a.relatedTarget||a.toElement,W=$,Te=Te?ji(Te):null,Te!==null&&(bt=u(Te),Me=Te.tag,Te!==bt||Me!==5&&Me!==27&&Me!==6)&&(Te=null)):(W=null,Te=$),W!==Te)){if(Me=Yu,ie="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Me=yl,ie="onPointerLeave",j="onPointerEnter",V="pointer"),bt=W==null?K:Ur(W),Q=Te==null?K:Ur(Te),K=new Me(ie,V+"leave",W,a,ne),K.target=bt,K.relatedTarget=Q,ie=null,ji(ne)===$&&(Me=new Me(j,V+"enter",Te,a,ne),Me.target=Q,Me.relatedTarget=bt,ie=Me),bt=ie,W&&Te)t:{for(Me=Qb,j=W,V=Te,Q=0,ie=j;ie;ie=Me(ie))Q++;ie=0;for(var Ie=V;Ie;Ie=Me(Ie))ie++;for(;0<Q-ie;)j=Me(j),Q--;for(;0<ie-Q;)V=Me(V),ie--;for(;Q--;){if(j===V||V!==null&&j===V.alternate){Me=j;break t}j=Me(j),V=Me(V)}Me=null}else Me=null;W!==null&&y_(oe,K,W,Me,!1),Te!==null&&bt!==null&&y_(oe,bt,Te,Me,!0)}}e:{if(K=$?Ur($):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var ut=Vg;else if(oi(K))if(kg)ut=ib;else{ut=tb;var be=eb}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&wa($.elementType)&&(ut=Vg):ut=nb;if(ut&&(ut=ut(t,$))){Ra(oe,ut,a,ne);break e}be&&be(t,K,$),t==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&rr(K,"number",K.value)}switch(be=$?Ur($):window,t){case"focusin":(oi(be)||be.contentEditable==="true")&&(oo=be,Cf=$,El=null);break;case"focusout":El=Cf=oo=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,Hg(oe,a,ne);break;case"selectionchange":if(sb)break;case"keydown":case"keyup":Hg(oe,a,ne)}var qe;if(y)e:{switch(t){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Ge?pt(t,a)&&(Je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Je="onCompositionStart");Je&&(G&&a.locale!=="ko"&&(Ge||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Ge&&(qe=Hn()):(ot=ne,qt="value"in ot?ot.value:ot.textContent,Ge=!0)),be=Kc($,Je),0<be.length&&(Je=new ml(Je,t,null,a,ne),oe.push({event:Je,listeners:be}),qe?Je.data=qe:(qe=on(a),qe!==null&&(Je.data=qe)))),(qe=A?wn(t,a):bn(t,a))&&(Je=Kc($,"onBeforeInput"),0<Je.length&&(be=new ml("onBeforeInput","beforeinput",null,a,ne),oe.push({event:be,listeners:Je}),be.data=qe)),qb(oe,t,$,a,ne)}p_(oe,i)})}function Gl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Kc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Pe(t,a),h!=null&&l.unshift(Gl(t,h,d)),h=Pe(t,i),h!=null&&l.push(Gl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Qb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function y_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var b=a,D=b.alternate,$=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||$===null||(D=$,h?($=Pe(a,d),$!=null&&v.unshift(Gl(a,$,D))):h||($=Pe(a,d),$!=null&&v.push(Gl(a,$,D)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var $b=/\r\n?/g,Yb=/\u0000|\uFFFD/g;function v_(t){return(typeof t=="string"?t:""+t).replace($b,`
`).replace(Yb,"")}function __(t,i){return i=v_(i),v_(t)===i}function wt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||si(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&si(t,""+l);break;case"className":vr(t,"class",l);break;case"tabIndex":vr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(t,a,l);break;case"style":no(t,l,d);break;case"data":if(i!=="object"){vr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ai(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&wt(t,i,"name",h.name,h,null),wt(t,i,"formEncType",h.formEncType,h,null),wt(t,i,"formMethod",h.formMethod,h,null),wt(t,i,"formTarget",h.formTarget,h,null)):(wt(t,i,"encType",h.encType,h,null),wt(t,i,"method",h.method,h,null),wt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ai(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Nt);break;case"onScroll":l!=null&&Xe("scroll",t);break;case"onScrollEnd":l!=null&&Xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ai(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Xe("beforetoggle",t),Xe("toggle",t),nr(t,"popover",l);break;case"xlinkActuate":ii(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ii(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ii(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ii(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ii(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ii(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ii(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ii(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ii(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":nr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hl.get(a)||a,nr(t,a,l))}}function em(t,i,a,l,h,d){switch(a){case"style":no(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?si(t,l):(typeof l=="number"||typeof l=="bigint")&&si(t,""+l);break;case"onScroll":l!=null&&Xe("scroll",t);break;case"onScrollEnd":l!=null&&Xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Nt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Xt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):nr(t,a,l)}}}function Ln(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",t),Xe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:wt(t,i,d,v,a,null)}}h&&wt(t,i,"srcSet",a.srcSet,a,null),l&&wt(t,i,"src",a.src,a,null);return;case"input":Xe("invalid",t);var b=d=v=h=null,D=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var ne=a[l];if(ne!=null)switch(l){case"name":h=ne;break;case"type":v=ne;break;case"checked":D=ne;break;case"defaultChecked":$=ne;break;case"value":d=ne;break;case"defaultValue":b=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,i));break;default:wt(t,i,l,ne,a,null)}}ri(t,d,b,D,$,v,h,!1);return;case"select":Xe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:wt(t,i,h,b,a,null)}i=d,a=v,t.multiple=!!l,i!=null?rt(t,!!l,i,!1):a!=null&&rt(t,!!l,a,!0);return;case"textarea":Xe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:wt(t,i,v,b,a,null)}_r(t,l,h,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:wt(t,i,D,l,a,null)}return;case"dialog":Xe("beforetoggle",t),Xe("toggle",t),Xe("cancel",t),Xe("close",t);break;case"iframe":case"object":Xe("load",t);break;case"video":case"audio":for(l=0;l<Fl.length;l++)Xe(Fl[l],t);break;case"image":Xe("error",t),Xe("load",t);break;case"details":Xe("toggle",t);break;case"embed":case"source":case"link":Xe("error",t),Xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:wt(t,i,$,l,a,null)}return;default:if(wa(i)){for(ne in a)a.hasOwnProperty(ne)&&(l=a[ne],l!==void 0&&em(t,i,ne,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&wt(t,i,b,l,a,null))}function Kb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,D=null,$=null,ne=null;for(W in a){var oe=a[W];if(a.hasOwnProperty(W)&&oe!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=oe;default:l.hasOwnProperty(W)||wt(t,i,W,null,l,oe)}}for(var K in l){var W=l[K];if(oe=a[K],l.hasOwnProperty(K)&&(W!=null||oe!=null))switch(K){case"type":d=W;break;case"name":h=W;break;case"checked":$=W;break;case"defaultChecked":ne=W;break;case"value":v=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:W!==oe&&wt(t,i,K,W,l,oe)}}Ti(t,v,b,D,$,ne,d,h);return;case"select":W=v=b=K=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":W=D;default:l.hasOwnProperty(d)||wt(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":K=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==D&&wt(t,i,h,d,l,D)}i=b,a=v,l=W,K!=null?rt(t,!!a,K,!1):!!l!=!!a&&(i!=null?rt(t,!!a,i,!0):rt(t,!!a,a?[]:"",!1));return;case"textarea":W=K=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:wt(t,i,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":K=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&wt(t,i,v,h,l,d)}zr(t,K,W);return;case"option":for(var Te in a)if(K=a[Te],a.hasOwnProperty(Te)&&K!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:wt(t,i,Te,null,l,K)}for(D in l)if(K=l[D],W=a[D],l.hasOwnProperty(D)&&K!==W&&(K!=null||W!=null))switch(D){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:wt(t,i,D,K,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in a)K=a[Me],a.hasOwnProperty(Me)&&K!=null&&!l.hasOwnProperty(Me)&&wt(t,i,Me,null,l,K);for($ in l)if(K=l[$],W=a[$],l.hasOwnProperty($)&&K!==W&&(K!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:wt(t,i,$,K,l,W)}return;default:if(wa(i)){for(var bt in a)K=a[bt],a.hasOwnProperty(bt)&&K!==void 0&&!l.hasOwnProperty(bt)&&em(t,i,bt,void 0,l,K);for(ne in l)K=l[ne],W=a[ne],!l.hasOwnProperty(ne)||K===W||K===void 0&&W===void 0||em(t,i,ne,K,l,W);return}}for(var j in a)K=a[j],a.hasOwnProperty(j)&&K!=null&&!l.hasOwnProperty(j)&&wt(t,i,j,null,l,K);for(oe in l)K=l[oe],W=a[oe],!l.hasOwnProperty(oe)||K===W||K==null&&W==null||wt(t,i,oe,K,l,W)}function E_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,b=h.duration;if(d&&b&&E_(v)){for(v=0,b=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],$=D.startTime;if($>b)break;var ne=D.transferSize,oe=D.initiatorType;ne&&E_(oe)&&(D=D.responseEnd,v+=ne*(D<b?1:(b-$)/(D-$)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tm=null,nm=null;function Xc(t){return t.nodeType===9?t:t.ownerDocument}function T_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function im(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rm=null;function Wb(){var t=window.event;return t&&t.type==="popstate"?t===rm?!1:(rm=t,!0):(rm=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,Jb=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,Zb=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(t){return S_.resolve(null).then(t).catch(eS)}:b_;function eS(t){setTimeout(function(){throw t})}function zs(t){return t==="head"}function A_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),ko(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ql(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ql(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[sn]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Ql(t.ownerDocument.body);a=h}while(a);ko(i)}function R_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),Lr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function tS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[sn])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ki(t.nextSibling),t===null)break}return null}function nS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ki(t.nextSibling),t===null))return null;return t}function I_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ki(t.nextSibling),t===null))return null;return t}function am(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function iS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ki(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var lm=null;function C_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ki(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function x_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function N_(t,i,a){switch(i=Xc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ql(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Lr(t)}var Xi=new Map,D_=new Set;function Wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ns=fe.d;fe.d={f:rS,r:sS,D:aS,C:oS,L:lS,m:uS,X:hS,S:cS,M:fS};function rS(){var t=ns.f(),i=qc();return t||i}function sS(t){var i=vi(t);i!==null&&i.tag===5&&i.type==="form"?Yy(i):ns.r(t)}var Mo=typeof document>"u"?null:document;function M_(t,i,a){var l=Mo;if(l&&typeof i=="string"&&i){var h=Rt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),D_.has(h)||(D_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ln(i,"link",t),xt(i),l.head.appendChild(i)))}}function aS(t){ns.D(t),M_("dns-prefetch",t,null)}function oS(t,i){ns.C(t,i),M_("preconnect",t,i)}function lS(t,i,a){ns.L(t,i,a);var l=Mo;if(l&&t&&i){var h='link[rel="preload"][as="'+Rt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Rt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Rt(a.imageSizes)+'"]')):h+='[href="'+Rt(t)+'"]';var d=h;switch(i){case"style":d=Oo(t);break;case"script":d=Vo(t)}Xi.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Xi.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector($l(d))||i==="script"&&l.querySelector(Yl(d))||(i=l.createElement("link"),Ln(i,"link",t),xt(i),l.head.appendChild(i)))}}function uS(t,i){ns.m(t,i);var a=Mo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Rt(l)+'"][href="'+Rt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Vo(t)}if(!Xi.has(d)&&(t=T({rel:"modulepreload",href:t},i),Xi.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(d)))return}l=a.createElement("link"),Ln(l,"link",t),xt(l),a.head.appendChild(l)}}}function cS(t,i,a){ns.S(t,i,a);var l=Mo;if(l&&t){var h=_i(l).hoistableStyles,d=Oo(t);i=i||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector($l(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Xi.get(d))&&um(t,a);var D=v=l.createElement("link");xt(D),Ln(D,"link",t),D._p=new Promise(function($,ne){D.onload=$,D.onerror=ne}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Jc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function hS(t,i){ns.X(t,i);var a=Mo;if(a&&t){var l=_i(a).hoistableScripts,h=Vo(t),d=l.get(h);d||(d=a.querySelector(Yl(h)),d||(t=T({src:t,async:!0},i),(i=Xi.get(h))&&cm(t,i),d=a.createElement("script"),xt(d),Ln(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function fS(t,i){ns.M(t,i);var a=Mo;if(a&&t){var l=_i(a).hoistableScripts,h=Vo(t),d=l.get(h);d||(d=a.querySelector(Yl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Xi.get(h))&&cm(t,i),d=a.createElement("script"),xt(d),Ln(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function O_(t,i,a,l){var h=(h=pe.current)?Wc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Oo(a.href),a=_i(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Oo(a.href);var d=_i(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector($l(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Xi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xi.set(t,a),d||dS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Vo(a),a=_i(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Oo(t){return'href="'+Rt(t)+'"'}function $l(t){return'link[rel="stylesheet"]['+t+"]"}function V_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function dS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ln(i,"link",a),xt(i),t.head.appendChild(i))}function Vo(t){return'[src="'+Rt(t)+'"]'}function Yl(t){return"script[async]"+t}function k_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Rt(a.href)+'"]');if(l)return i.instance=l,xt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Ln(l,"style",h),Jc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Oo(a.href);var d=t.querySelector($l(h));if(d)return i.state.loading|=4,i.instance=d,xt(d),d;l=V_(a),(h=Xi.get(h))&&um(l,h),d=(t.ownerDocument||t).createElement("link"),xt(d);var v=d;return v._p=new Promise(function(b,D){v.onload=b,v.onerror=D}),Ln(d,"link",l),i.state.loading|=4,Jc(d,a.precedence,t),i.instance=d;case"script":return d=Vo(a.src),(h=t.querySelector(Yl(d)))?(i.instance=h,xt(h),h):(l=a,(h=Xi.get(d))&&(l=T({},a),cm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),Ln(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Jc(l,a.precedence,t));return i.instance}function Jc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Zc=null;function P_(t,i,a){if(Zc===null){var l=new Map,h=Zc=new Map;h.set(a,l)}else h=Zc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[sn]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function L_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function mS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function U_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function pS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Oo(l.href),d=i.querySelector($l(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=eh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,xt(d);return}d=i.ownerDocument||i,l=V_(l),(h=Xi.get(h))&&um(l,h),d=d.createElement("link"),xt(d);var v=d;v._p=new Promise(function(b,D){v.onload=b,v.onerror=D}),Ln(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=eh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var hm=0;function gS(t,i){return t.stylesheets&&t.count===0&&nh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&hm===0&&(hm=62500*Xb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>hm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var th=null;function nh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,th=new Map,i.forEach(yS,t),th=null,eh.call(t))}function yS(t,i){if(!(i.state.loading&4)){var a=th.get(t);if(a)var l=a.get(null);else{a=new Map,th.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=eh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Kl={$$typeof:se,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function vS(t,i,a,l,h,d,v,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function z_(t,i,a,l,h,d,v,b,D,$,ne,oe){return t=new vS(t,i,a,v,D,$,ne,oe,b),i=1,d===!0&&(i|=24),d=Si(3,null,null,i),t.current=d,d.stateNode=t,i=Ff(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Yf(d),t}function j_(t){return t?(t=co,t):co}function B_(t,i,a,l,h,d){h=j_(h),l.context===null?l.context=h:l.pendingContext=h,l=Cs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=xs(t,l,i),a!==null&&(fi(a,t,i),Il(a,t,i))}function q_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function fm(t,i){q_(t,i),(t=t.alternate)&&q_(t,i)}function H_(t){if(t.tag===13||t.tag===31){var i=xa(t,67108864);i!==null&&fi(i,t,67108864),fm(t,67108864)}}function F_(t){if(t.tag===13||t.tag===31){var i=xi();i=va(i);var a=xa(t,i);a!==null&&fi(a,t,i),fm(t,i)}}var ih=!0;function _S(t,i,a,l){var h=te.T;te.T=null;var d=fe.p;try{fe.p=2,dm(t,i,a,l)}finally{fe.p=d,te.T=h}}function ES(t,i,a,l){var h=te.T;te.T=null;var d=fe.p;try{fe.p=8,dm(t,i,a,l)}finally{fe.p=d,te.T=h}}function dm(t,i,a,l){if(ih){var h=mm(l);if(h===null)Zd(t,i,l,rh,a),Q_(t,l);else if(wS(h,t,i,a,l))l.stopPropagation();else if(Q_(t,l),i&4&&-1<TS.indexOf(t)){for(;h!==null;){var d=vi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Kt(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var D=1<<31-Yt(v);b.entanglements[1]|=D,v&=~D}Sr(d),(mt&6)===0&&(jc=jt()+500,Hl(0))}}break;case 31:case 13:b=xa(d,2),b!==null&&fi(b,d,2),qc(),fm(d,2)}if(d=mm(l),d===null&&Zd(t,i,l,rh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Zd(t,i,l,null,a)}}function mm(t){return t=L(t),pm(t)}var rh=null;function pm(t){if(rh=null,t=ji(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return rh=t,null}function G_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vr()){case yt:return 2;case Dt:return 8;case ki:case Pi:return 32;case Li:return 268435456;default:return 32}default:return 32}}var gm=!1,js=null,Bs=null,qs=null,Xl=new Map,Wl=new Map,Hs=[],TS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(t,i){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":Xl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(i.pointerId)}}function Jl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=vi(i),i!==null&&H_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function wS(t,i,a,l,h){switch(i){case"focusin":return js=Jl(js,t,i,a,l,h),!0;case"dragenter":return Bs=Jl(Bs,t,i,a,l,h),!0;case"mouseover":return qs=Jl(qs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Xl.set(d,Jl(Xl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Wl.set(d,Jl(Wl.get(d)||null,t,i,a,l,h)),!0}return!1}function $_(t){var i=ji(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Pr(t.priority,function(){F_(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Pr(t.priority,function(){F_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);S=l,a.target.dispatchEvent(l),S=null}else return i=vi(a),i!==null&&H_(i),t.blockedOn=a,!1;i.shift()}return!0}function Y_(t,i,a){sh(t)&&a.delete(i)}function bS(){gm=!1,js!==null&&sh(js)&&(js=null),Bs!==null&&sh(Bs)&&(Bs=null),qs!==null&&sh(qs)&&(qs=null),Xl.forEach(Y_),Wl.forEach(Y_)}function ah(t,i){t.blockedOn===i&&(t.blockedOn=null,gm||(gm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bS)))}var oh=null;function K_(t){oh!==t&&(oh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){oh===t&&(oh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var d=vi(a);d!==null&&(t.splice(i,3),i-=3,md(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ko(t){function i(D){return ah(D,t)}js!==null&&ah(js,t),Bs!==null&&ah(Bs,t),qs!==null&&ah(qs,t),Xl.forEach(i),Wl.forEach(i);for(var a=0;a<Hs.length;a++){var l=Hs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Hs.length&&(a=Hs[0],a.blockedOn===null);)$_(a),a.blockedOn===null&&Hs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Xt]||null;if(typeof d=="function")v||K_(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Xt]||null)b=v.formAction;else if(pm(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),K_(a)}}}function X_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function ym(t){this._internalRoot=t}lh.prototype.render=ym.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=xi();B_(a,l,t,i,null,null)},lh.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;B_(t.current,2,null,t,null,null),qc(),i[gi]=null}};function lh(t){this._internalRoot=t}lh.prototype.unstable_scheduleHydration=function(t){if(t){var i=tr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Hs.length&&i!==0&&i<Hs[a].priority;a++);Hs.splice(a,0,t),a===0&&$_(t)}};var W_=e.version;if(W_!=="19.2.3")throw Error(s(527,W_,"19.2.3"));fe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var SS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{Nn=uh.inject(SS),vt=uh}catch{}}return eu.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=rv,d=sv,v=av;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=z_(t,1,!1,null,null,a,l,null,h,d,v,X_),t[gi]=i.current,Jd(t),new ym(i)},eu.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=rv,v=sv,b=av,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=z_(t,1,!0,i,a??null,l,h,D,d,v,b,X_),i.context=j_(null),a=i.current,l=xi(),l=va(l),h=Cs(l),h.callback=null,xs(a,h,l),a=l,i.current.lanes=a,zi(i,a),Sr(i),t[gi]=i.current,Jd(t),new lh(i)},eu.version="19.2.3",eu}var o0;function PS(){if(o0)return Em.exports;o0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=kS(),Em.exports}var LS=PS();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l0="popstate";function US(r={}){function e(o,u){let{pathname:f="/",search:p="",hash:g=""}=Xa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Qm("",{pathname:f,search:p,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let g=o.location.href,m=g.indexOf("#");p=m===-1?g:g.slice(0,m)}return p+"#"+(typeof u=="string"?u:vu(u))}function s(o,u){Vi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return jS(e,n,s,r)}function Ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Vi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zS(){return Math.random().toString(36).substring(2,10)}function u0(r,e){return{usr:r.state,key:r.key,idx:e}}function Qm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Xa(e):e,state:n,key:e&&e.key||s||zS()}}function vu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Xa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function jS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",g=null,m=E();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function E(){return(f.state||{idx:null}).idx}function T(){p="POP";let F=E(),ue=F==null?null:F-m;m=F,g&&g({action:p,location:ee.location,delta:ue})}function R(F,ue){p="PUSH";let he=Qm(ee.location,F,ue);n&&n(he,F),m=E()+1;let se=u0(he,m),Ae=ee.createHref(he);try{f.pushState(se,"",Ae)}catch(Ue){if(Ue instanceof DOMException&&Ue.name==="DataCloneError")throw Ue;o.location.assign(Ae)}u&&g&&g({action:p,location:ee.location,delta:1})}function k(F,ue){p="REPLACE";let he=Qm(ee.location,F,ue);n&&n(he,F),m=E();let se=u0(he,m),Ae=ee.createHref(he);f.replaceState(se,"",Ae),u&&g&&g({action:p,location:ee.location,delta:0})}function Y(F){return BS(F)}let ee={get action(){return p},get location(){return r(o,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(l0,T),g=F,()=>{o.removeEventListener(l0,T),g=null}},createHref(F){return e(o,F)},createURL:Y,encodeLocation(F){let ue=Y(F);return{pathname:ue.pathname,search:ue.search,hash:ue.hash}},push:R,replace:k,go(F){return f.go(F)}};return ee}function BS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:vu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function XE(r,e,n="/"){return qS(r,e,n,!1)}function qS(r,e,n,s){let o=typeof e=="string"?Xa(e):e,u=ls(o.pathname||"/",n);if(u==null)return null;let f=WE(r);HS(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let m=eA(u);p=JS(f[g],m,s)}return p}function WE(r,e=[],n=[],s="",o=!1){let u=(f,p,g=o,m)=>{let E={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;Ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=as([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(Ut(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),WE(f.children,e,R,T,g)),!(f.path==null&&!f.index)&&e.push({path:T,score:XS(T,f.index),routesMeta:R})};return r.forEach((f,p)=>{var g;if(f.path===""||!((g=f.path)!=null&&g.includes("?")))u(f,p);else for(let m of JE(f.path))u(f,p,!0,m)}),e}function JE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=JE(s.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...f),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function HS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:WS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var FS=/^:[\w-]+$/,GS=3,QS=2,$S=1,YS=10,KS=-2,c0=r=>r==="*";function XS(r,e){let n=r.split("/"),s=n.length;return n.some(c0)&&(s+=KS),e&&(s+=QS),n.filter(o=>!c0(o)).reduce((o,u)=>o+(FS.test(u)?GS:u===""?$S:YS),s)}function WS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function JS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],m=p===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},E),R=g.route;if(!T&&m&&n&&!s[s.length-1].route.index&&(T=Dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:as([u,T.pathname]),pathnameBase:rA(as([u,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(u=as([u,T.pathnameBase]))}return f}function Dh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=ZS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((m,{paramName:E,isOptional:T},R)=>{if(E==="*"){let Y=p[R]||"";f=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const k=p[R];return T&&!k?m[E]=void 0:m[E]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:r}}function ZS(r,e=!1,n=!0){Vi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function eA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ls(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var ZE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tA=r=>ZE.test(r);function nA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Xa(r):r,u;if(n)if(tA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Vi(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=h0(n.substring(1),"/"):u=h0(n,e)}else u=e;return{pathname:u,search:sA(s),hash:aA(o)}}function h0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eT(r){let e=iA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function tT(r,e,n,s=!1){let o;typeof r=="string"?o=Xa(r):(o={...r},Ut(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),Ut(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),Ut(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}p=T>=0?e[T]:"/"}let g=nA(o,p),m=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(m||E)&&(g.pathname+="/"),g}var as=r=>r.join("/").replace(/\/\/+/g,"/"),rA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),sA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,aA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,oA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function lA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function uA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function iT(r,e){let n=r;if(typeof n!="string"||!ZE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(nT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=ls(f.pathname,e);f.origin===u.origin&&p!=null?n=p+f.search+f.hash:o=!0}catch{Vi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rT=["POST","PUT","PATCH","DELETE"];new Set(rT);var cA=["GET",...rT];new Set(cA);var Zo=M.createContext(null);Zo.displayName="DataRouter";var ef=M.createContext(null);ef.displayName="DataRouterState";var hA=M.createContext(!1),sT=M.createContext({isTransitioning:!1});sT.displayName="ViewTransition";var fA=M.createContext(new Map);fA.displayName="Fetchers";var dA=M.createContext(null);dA.displayName="Await";var er=M.createContext(null);er.displayName="Navigation";var Iu=M.createContext(null);Iu.displayName="Location";var ms=M.createContext({outlet:null,matches:[],isDataRoute:!1});ms.displayName="Route";var Ip=M.createContext(null);Ip.displayName="RouteError";var aT="REACT_ROUTER_ERROR",mA="REDIRECT",pA="ROUTE_ERROR_RESPONSE";function gA(r){if(r.startsWith(`${aT}:${mA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function yA(r){if(r.startsWith(`${aT}:${pA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new oA(e.status,e.statusText,e.data)}catch{}}function vA(r,{relative:e}={}){Ut(Cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(er),{hash:o,pathname:u,search:f}=xu(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:as([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Cu(){return M.useContext(Iu)!=null}function fa(){return Ut(Cu(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Iu).location}var oT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lT(r){M.useContext(er).static||M.useLayoutEffect(r)}function Cp(){let{isDataRoute:r}=M.useContext(ms);return r?DA():_A()}function _A(){Ut(Cu(),"useNavigate() may be used only in the context of a <Router> component.");let r=M.useContext(Zo),{basename:e,navigator:n}=M.useContext(er),{matches:s}=M.useContext(ms),{pathname:o}=fa(),u=JSON.stringify(eT(s)),f=M.useRef(!1);return lT(()=>{f.current=!0}),M.useCallback((g,m={})=>{if(Vi(f.current,oT),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=tT(g,JSON.parse(u),o,m.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:as([e,E.pathname])),(m.replace?n.replace:n.push)(E,m.state,m)},[e,n,u,o,r])}M.createContext(null);function xu(r,{relative:e}={}){let{matches:n}=M.useContext(ms),{pathname:s}=fa(),o=JSON.stringify(eT(n));return M.useMemo(()=>tT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function EA(r,e){return uT(r,e)}function uT(r,e,n,s,o){var he;Ut(Cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=M.useContext(er),{matches:f}=M.useContext(ms),p=f[f.length-1],g=p?p.params:{},m=p?p.pathname:"/",E=p?p.pathnameBase:"/",T=p&&p.route;{let se=T&&T.path||"";hT(m,!T||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let R=fa(),k;if(e){let se=typeof e=="string"?Xa(e):e;Ut(E==="/"||((he=se.pathname)==null?void 0:he.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${se.pathname}" was given in the \`location\` prop.`),k=se}else k=R;let Y=k.pathname||"/",ee=Y;if(E!=="/"){let se=E.replace(/^\//,"").split("/");ee="/"+Y.replace(/^\//,"").split("/").slice(se.length).join("/")}let F=XE(r,{pathname:ee});Vi(T||F!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Vi(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ue=AA(F&&F.map(se=>Object.assign({},se,{params:Object.assign({},g,se.params),pathname:as([E,u.encodeLocation?u.encodeLocation(se.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?E:as([E,u.encodeLocation?u.encodeLocation(se.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathnameBase])})),f,n,s,o);return e&&ue?M.createElement(Iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},ue):ue}function TA(){let r=NA(),e=lA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:u},"ErrorBoundary")," or"," ",M.createElement("code",{style:u},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:o},n):null,f)}var wA=M.createElement(TA,null),cT=class extends M.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=yA(r.digest);n&&(r=n)}let e=r!==void 0?M.createElement(ms.Provider,{value:this.props.routeContext},M.createElement(Ip.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?M.createElement(bA,{error:r},e):e}};cT.contextType=hA;var Am=new WeakMap;function bA({children:r,error:e}){let{basename:n}=M.useContext(er);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=gA(e.digest);if(s){let o=Am.get(e);if(o)throw o;let u=iT(s.location,n);if(nT&&!Am.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Am.set(e,f),f}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function SA({routeContext:r,match:e,children:n}){let s=M.useContext(Zo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(ms.Provider,{value:r},n)}function AA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);Ut(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let p=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=E),T.route.id){let{loaderData:R,errors:k}=n,Y=T.route.loader&&!R.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||Y){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let m=n&&s?(E,T)=>{var R,k;s(E,{location:n.location,params:((k=(R=n.matches)==null?void 0:R[0])==null?void 0:k.params)??{},unstable_pattern:uA(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,R)=>{let k,Y=!1,ee=null,F=null;n&&(k=f&&T.route.id?f[T.route.id]:void 0,ee=T.route.errorElement||wA,p&&(g<0&&R===0?(hT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,F=null):g===R&&(Y=!0,F=T.route.hydrateFallbackElement||null)));let ue=e.concat(u.slice(0,R+1)),he=()=>{let se;return k?se=ee:Y?se=F:T.route.Component?se=M.createElement(T.route.Component,null):T.route.element?se=T.route.element:se=E,M.createElement(SA,{match:T,routeContext:{outlet:E,matches:ue,isDataRoute:n!=null},children:se})};return n&&(T.route.ErrorBoundary||T.route.errorElement||R===0)?M.createElement(cT,{location:n.location,revalidation:n.revalidation,component:ee,error:k,children:he(),routeContext:{outlet:null,matches:ue,isDataRoute:!0},onError:m}):he()},null)}function xp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RA(r){let e=M.useContext(Zo);return Ut(e,xp(r)),e}function IA(r){let e=M.useContext(ef);return Ut(e,xp(r)),e}function CA(r){let e=M.useContext(ms);return Ut(e,xp(r)),e}function Np(r){let e=CA(r),n=e.matches[e.matches.length-1];return Ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function xA(){return Np("useRouteId")}function NA(){var s;let r=M.useContext(Ip),e=IA("useRouteError"),n=Np("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function DA(){let{router:r}=RA("useNavigate"),e=Np("useNavigate"),n=M.useRef(!1);return lT(()=>{n.current=!0}),M.useCallback(async(o,u={})=>{Vi(n.current,oT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var f0={};function hT(r,e,n){!e&&!f0[r]&&(f0[r]=!0,Vi(!1,n))}M.memo(MA);function MA({routes:r,future:e,state:n,onError:s}){return uT(r,void 0,n,s,e)}function $m(r){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Ut(!Cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=M.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[p,o,u,f]);typeof n=="string"&&(n=Xa(n));let{pathname:m="/",search:E="",hash:T="",state:R=null,key:k="default"}=n,Y=M.useMemo(()=>{let ee=ls(m,p);return ee==null?null:{location:{pathname:ee,search:E,hash:T,state:R,key:k},navigationType:s}},[p,m,E,T,R,k,s]);return Vi(Y!=null,`<Router basename="${p}"> is not able to match the URL "${m}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:M.createElement(er.Provider,{value:g},M.createElement(Iu.Provider,{children:e,value:Y}))}function VA({children:r,location:e}){return EA(Ym(r),e)}function Ym(r,e=[]){let n=[];return M.Children.forEach(r,(s,o)=>{if(!M.isValidElement(s))return;let u=[...e,o];if(s.type===M.Fragment){n.push.apply(n,Ym(s.props.children,u));return}Ut(s.type===$m,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Ym(s.props.children,u)),n.push(f)}),n}var _h="get",Eh="application/x-www-form-urlencoded";function tf(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function kA(r){return tf(r)&&r.tagName.toLowerCase()==="button"}function PA(r){return tf(r)&&r.tagName.toLowerCase()==="form"}function LA(r){return tf(r)&&r.tagName.toLowerCase()==="input"}function UA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function zA(r,e){return r.button===0&&(!e||e==="_self")&&!UA(r)}function Km(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function jA(r,e){let n=Km(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var ch=null;function BA(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var qA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(r){return r!=null&&!qA.has(r)?(Vi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eh}"`),null):r}function HA(r,e){let n,s,o,u,f;if(PA(r)){let p=r.getAttribute("action");s=p?ls(p,e):null,n=r.getAttribute("method")||_h,o=Rm(r.getAttribute("enctype"))||Eh,u=new FormData(r)}else if(kA(r)||LA(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?ls(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||_h,o=Rm(r.getAttribute("formenctype"))||Rm(p.getAttribute("enctype"))||Eh,u=new FormData(p,r),!BA()){let{name:m,type:E,value:T}=r;if(E==="image"){let R=m?`${m}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else m&&u.append(m,T)}}else{if(tf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_h,s=null,o=Eh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function FA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&ls(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function GA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function $A(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await GA(u,n);return f.links?f.links():[]}return[]}));return WA(s.flat(1).filter(QA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function d0(r,e,n,s,o,u){let f=(g,m)=>n[m]?g.route.id!==n[m].route.id:!0,p=(g,m)=>{var E;return n[m].pathname!==g.pathname||((E=n[m].route.path)==null?void 0:E.endsWith("*"))&&n[m].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,m)=>f(g,m)||p(g,m)):u==="data"?e.filter((g,m)=>{var T;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,m)||p(g,m))return!0;if(g.route.shouldRevalidate){let R=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function YA(r,e,{includeHydrateFallback:n}={}){return KA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function KA(r){return[...new Set(r)]}function XA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function WA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(XA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function fT(){let r=M.useContext(Zo);return Dp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function JA(){let r=M.useContext(ef);return Dp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Mp=M.createContext(void 0);Mp.displayName="FrameworkContext";function dT(){let r=M.useContext(Mp);return Dp(r,"You must render this element inside a <HydratedRouter> element"),r}function ZA(r,e){let n=M.useContext(Mp),[s,o]=M.useState(!1),[u,f]=M.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:m,onMouseLeave:E,onTouchStart:T}=e,R=M.useRef(null);M.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let ee=ue=>{ue.forEach(he=>{f(he.isIntersecting)})},F=new IntersectionObserver(ee,{threshold:.5});return R.current&&F.observe(R.current),()=>{F.disconnect()}}},[r]),M.useEffect(()=>{if(s){let ee=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(ee)}}},[s]);let k=()=>{o(!0)},Y=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:tu(p,k),onBlur:tu(g,Y),onMouseEnter:tu(m,k),onMouseLeave:tu(E,Y),onTouchStart:tu(T,k)}]:[!1,R,{}]}function tu(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function eR({page:r,...e}){let{router:n}=fT(),s=M.useMemo(()=>XE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?M.createElement(nR,{page:r,matches:s,...e}):null}function tR(r){let{manifest:e,routeModules:n}=dT(),[s,o]=M.useState([]);return M.useEffect(()=>{let u=!1;return $A(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function nR({page:r,matches:e,...n}){let s=fa(),{future:o,manifest:u,routeModules:f}=dT(),{basename:p}=fT(),{loaderData:g,matches:m}=JA(),E=M.useMemo(()=>d0(r,e,m,u,s,"data"),[r,e,m,u,s]),T=M.useMemo(()=>d0(r,e,m,u,s,"assets"),[r,e,m,u,s]),R=M.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let ee=new Set,F=!1;if(e.forEach(he=>{var Ae;let se=u.routes[he.route.id];!se||!se.hasLoader||(!E.some(Ue=>Ue.route.id===he.route.id)&&he.route.id in g&&((Ae=f[he.route.id])!=null&&Ae.shouldRevalidate)||se.hasClientLoader?F=!0:ee.add(he.route.id))}),ee.size===0)return[];let ue=FA(r,p,o.unstable_trailingSlashAwareDataRequests,"data");return F&&ee.size>0&&ue.searchParams.set("_routes",e.filter(he=>ee.has(he.route.id)).map(he=>he.route.id).join(",")),[ue.pathname+ue.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,e,r,f]),k=M.useMemo(()=>YA(T,u),[T,u]),Y=tR(T);return M.createElement(M.Fragment,null,R.map(ee=>M.createElement("link",{key:ee,rel:"prefetch",as:"fetch",href:ee,...n})),k.map(ee=>M.createElement("link",{key:ee,rel:"modulepreload",href:ee,...n})),Y.map(({key:ee,link:F})=>M.createElement("link",{key:ee,nonce:n.nonce,...F})))}function iR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rR&&(window.__reactRouterVersion="7.12.0")}catch{}function sR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=M.useRef();o.current==null&&(o.current=US({window:s,v5Compat:!0}));let u=o.current,[f,p]=M.useState({action:u.action,location:u.location}),g=M.useCallback(m=>{n===!1?p(m):M.startTransition(()=>p(m))},[n]);return M.useLayoutEffect(()=>u.listen(g),[u,g]),M.createElement(OA,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var mT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pT=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:g,to:m,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:R,...k},Y){let{basename:ee,unstable_useTransitions:F}=M.useContext(er),ue=typeof m=="string"&&mT.test(m),he=iT(m,ee);m=he.to;let se=vA(m,{relative:o}),[Ae,Ue,De]=ZA(s,k),x=uR(m,{replace:f,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:R,unstable_useTransitions:F});function I(O){e&&e(O),O.defaultPrevented||x(O)}let C=M.createElement("a",{...k,...De,href:he.absoluteURL||se,onClick:he.isExternal||u?e:I,ref:iR(Y,Ue),target:g,"data-discover":!ue&&n==="render"?"true":void 0});return Ae&&!ue?M.createElement(M.Fragment,null,C,M.createElement(eR,{page:se})):C});pT.displayName="Link";var aR=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:g,...m},E){let T=xu(f,{relative:m.relative}),R=fa(),k=M.useContext(ef),{navigator:Y,basename:ee}=M.useContext(er),F=k!=null&&pR(T)&&p===!0,ue=Y.encodeLocation?Y.encodeLocation(T).pathname:T.pathname,he=R.pathname,se=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(he=he.toLowerCase(),se=se?se.toLowerCase():null,ue=ue.toLowerCase()),se&&ee&&(se=ls(se,ee)||se);const Ae=ue!=="/"&&ue.endsWith("/")?ue.length-1:ue.length;let Ue=he===ue||!o&&he.startsWith(ue)&&he.charAt(Ae)==="/",De=se!=null&&(se===ue||!o&&se.startsWith(ue)&&se.charAt(ue.length)==="/"),x={isActive:Ue,isPending:De,isTransitioning:F},I=Ue?e:void 0,C;typeof s=="function"?C=s(x):C=[s,Ue?"active":null,De?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(x):u;return M.createElement(pT,{...m,"aria-current":I,className:C,ref:E,style:O,to:f,viewTransition:p},typeof g=="function"?g(x):g)});aR.displayName="NavLink";var oR=M.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=_h,action:p,onSubmit:g,relative:m,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:R,...k},Y)=>{let{unstable_useTransitions:ee}=M.useContext(er),F=dR(),ue=mR(p,{relative:m}),he=f.toLowerCase()==="get"?"get":"post",se=typeof p=="string"&&mT.test(p),Ae=Ue=>{if(g&&g(Ue),Ue.defaultPrevented)return;Ue.preventDefault();let De=Ue.nativeEvent.submitter,x=(De==null?void 0:De.getAttribute("formmethod"))||f,I=()=>F(De||Ue.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:o,state:u,relative:m,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:R});ee&&n!==!1?M.startTransition(()=>I()):I()};return M.createElement("form",{ref:Y,method:he,action:ue,onSubmit:s?g:Ae,...k,"data-discover":!se&&r==="render"?"true":void 0})});oR.displayName="Form";function lR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gT(r){let e=M.useContext(Zo);return Ut(e,lR(r)),e}function uR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let m=Cp(),E=fa(),T=xu(r,{relative:u});return M.useCallback(R=>{if(zA(R,e)){R.preventDefault();let k=n!==void 0?n:vu(E)===vu(T),Y=()=>m(r,{replace:k,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p});g?M.startTransition(()=>Y()):Y()}},[E,m,T,n,s,e,r,o,u,f,p,g])}function cR(r){Vi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=M.useRef(Km(r)),n=M.useRef(!1),s=fa(),o=M.useMemo(()=>jA(s.search,n.current?null:e.current),[s.search]),u=Cp(),f=M.useCallback((p,g)=>{const m=Km(typeof p=="function"?p(new URLSearchParams(o)):p);n.current=!0,u("?"+m,g)},[u,o]);return[o,f]}var hR=0,fR=()=>`__${String(++hR)}__`;function dR(){let{router:r}=gT("useSubmit"),{basename:e}=M.useContext(er),n=xA(),s=r.fetch,o=r.navigate;return M.useCallback(async(u,f={})=>{let{action:p,method:g,encType:m,formData:E,body:T}=HA(u,e);if(f.navigate===!1){let R=f.fetcherKey||fR();await s(R,n,f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||g,formEncType:f.encType||m,flushSync:f.flushSync})}else await o(f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||g,formEncType:f.encType||m,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function mR(r,{relative:e}={}){let{basename:n}=M.useContext(er),s=M.useContext(ms);Ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...xu(r||".",{relative:e})},f=fa();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(T=>T).forEach(T=>p.append("index",T));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:as([n,u.pathname])),vu(u)}function pR(r,{relative:e}={}){let n=M.useContext(sT);Ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=gT("useViewTransitionState"),o=xu(r,{relative:e});if(!n.isTransitioning)return!1;let u=ls(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ls(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Dh(o.pathname,f)!=null||Dh(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yT=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=M.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...p},g)=>M.createElement("svg",{ref:g,...yR,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:yT("lucide",o),...p},[...f.map(([m,E])=>M.createElement(m,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=(r,e)=>{const n=M.forwardRef(({className:s,...o},u)=>M.createElement(vR,{ref:u,iconNode:e,className:yT(`lucide-${gR(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=Cn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=Cn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=Cn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Cn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Cn("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=Cn("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=Cn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=Cn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Cn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Cn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=Cn("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=Cn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=Cn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Cn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=Cn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=Cn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Cn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Cn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),IR=()=>{};var y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},CR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},TT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,m=g?r[o+2]:0,E=u>>2,T=(u&3)<<4|p>>4;let R=(p&15)<<2|m>>6,k=m&63;g||(k=64,f||(R=64)),s.push(n[E],n[T],n[R],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ET(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):CR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const m=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||m==null||T==null)throw new xR;const R=u<<2|p>>4;if(s.push(R),m!==64){const k=p<<4&240|m>>2;if(s.push(k),T!==64){const Y=m<<6&192|T;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class xR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NR=function(r){const e=ET(r);return TT.encodeByteArray(e,!0)},Mh=function(r){return NR(r).replace(/\./g,"")},wT=function(r){try{return TT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=()=>DR().__FIREBASE_DEFAULTS__,OR=()=>{if(typeof process>"u"||typeof y0>"u")return;const r=y0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},VR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&wT(r[1]);return e&&JSON.parse(e)},nf=()=>{try{return IR()||MR()||OR()||VR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},bT=r=>{var e,n;return(n=(e=nf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},kR=r=>{const e=bT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ST=()=>{var r;return(r=nf())===null||r===void 0?void 0:r.config},AT=r=>{var e;return(e=nf())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Mh(JSON.stringify(n)),Mh(JSON.stringify(f)),""].join(".")}const cu={};function UR(){const r={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?r.emulator.push(e):r.prod.push(e);return r}function zR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let v0=!1;function IT(r,e){if(typeof window>"u"||typeof document>"u"||!el(window.location.host)||cu[r]===e||cu[r]||v0)return;cu[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=UR().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,k){R.setAttribute("width","24"),R.setAttribute("id",k),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function m(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{v0=!0,f()},R}function E(R,k){R.setAttribute("id",k),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=zR(s),k=n("text"),Y=document.getElementById(k)||document.createElement("span"),ee=n("learnmore"),F=document.getElementById(ee)||document.createElement("a"),ue=n("preprendIcon"),he=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const se=R.element;p(se),E(F,ee);const Ae=m();g(he,ue),se.append(he,Y,F,Ae),document.body.appendChild(se)}u?(Y.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function BR(){var r;const e=(r=nf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function FR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GR(){const r=$n();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function QR(){return!BR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $R(){try{return typeof indexedDB=="object"}catch{return!1}}function YR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="FirebaseError";class ps extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=KR,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?XR(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new ps(o,p,s)}}function XR(r,e){return r.replace(WR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const WR=/\{\$([^}]+)}/g;function JR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ra(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(_0(u)&&_0(f)){if(!ra(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function _0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ZR(r,e){const n=new e2(r,e);return n.subscribe.bind(n)}class e2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");t2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Im),o.error===void 0&&(o.error=Im),o.complete===void 0&&(o.complete=Im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(r){return r&&r._delegate?r._delegate:r}class Qa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new PR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r2(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:i2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i2(r){return r===qa?void 0:r}function r2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new n2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ze||(Ze={}));const a2={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},o2=Ze.INFO,l2={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},u2=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=l2[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Op{constructor(e){this.name=e,this._logLevel=o2,this._logHandler=u2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const c2=(r,e)=>e.some(n=>r instanceof n);let E0,T0;function h2(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f2(){return T0||(T0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CT=new WeakMap,Jm=new WeakMap,xT=new WeakMap,Cm=new WeakMap,Vp=new WeakMap;function d2(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Ws(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&CT.set(n,r)}).catch(()=>{}),Vp.set(e,r),e}function m2(r){if(Jm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Jm.set(r,e)}let Zm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Jm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||xT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function p2(r){Zm=r(Zm)}function g2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(xm(this),e,...n);return xT.set(s,e.sort?e.sort():[e]),Ws(s)}:f2().includes(r)?function(...e){return r.apply(xm(this),e),Ws(CT.get(this))}:function(...e){return Ws(r.apply(xm(this),e))}}function y2(r){return typeof r=="function"?g2(r):(r instanceof IDBTransaction&&m2(r),c2(r,h2())?new Proxy(r,Zm):r)}function Ws(r){if(r instanceof IDBRequest)return d2(r);if(Cm.has(r))return Cm.get(r);const e=y2(r);return e!==r&&(Cm.set(r,e),Vp.set(e,r)),e}const xm=r=>Vp.get(r);function v2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=Ws(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Ws(f.result),g.oldVersion,g.newVersion,Ws(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const _2=["get","getKey","getAll","getAllKeys","count"],E2=["put","add","delete","clear"],Nm=new Map;function w0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=E2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||_2.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let m=g.store;return s&&(m=m.index(p.shift())),(await Promise.all([m[n](...p),o&&g.done]))[0]};return Nm.set(e,u),u}p2(r=>({...r,get:(e,n,s)=>w0(e,n)||r.get(e,n,s),has:(e,n)=>!!w0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function w2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",b0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new Op("@firebase/app"),b2="@firebase/app-compat",S2="@firebase/analytics-compat",A2="@firebase/analytics",R2="@firebase/app-check-compat",I2="@firebase/app-check",C2="@firebase/auth",x2="@firebase/auth-compat",N2="@firebase/database",D2="@firebase/data-connect",M2="@firebase/database-compat",O2="@firebase/functions",V2="@firebase/functions-compat",k2="@firebase/installations",P2="@firebase/installations-compat",L2="@firebase/messaging",U2="@firebase/messaging-compat",z2="@firebase/performance",j2="@firebase/performance-compat",B2="@firebase/remote-config",q2="@firebase/remote-config-compat",H2="@firebase/storage",F2="@firebase/storage-compat",G2="@firebase/firestore",Q2="@firebase/ai",$2="@firebase/firestore-compat",Y2="firebase",K2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",X2={[ep]:"fire-core",[b2]:"fire-core-compat",[A2]:"fire-analytics",[S2]:"fire-analytics-compat",[I2]:"fire-app-check",[R2]:"fire-app-check-compat",[C2]:"fire-auth",[x2]:"fire-auth-compat",[N2]:"fire-rtdb",[D2]:"fire-data-connect",[M2]:"fire-rtdb-compat",[O2]:"fire-fn",[V2]:"fire-fn-compat",[k2]:"fire-iid",[P2]:"fire-iid-compat",[L2]:"fire-fcm",[U2]:"fire-fcm-compat",[z2]:"fire-perf",[j2]:"fire-perf-compat",[B2]:"fire-rc",[q2]:"fire-rc-compat",[H2]:"fire-gcs",[F2]:"fire-gcs-compat",[G2]:"fire-fst",[$2]:"fire-fst-compat",[Q2]:"fire-vertex","fire-js":"fire-js",[Y2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Map,W2=new Map,np=new Map;function S0(r,e){try{r.container.addComponent(e)}catch(n){us.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Go(r){const e=r.name;if(np.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,r);for(const n of Oh.values())S0(n,r);for(const n of W2.values())S0(n,r);return!0}function kp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ji(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new Nu("app","Firebase",J2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=K2;function NT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:tp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Js.create("bad-app-name",{appName:String(o)});if(n||(n=ST()),!n)throw Js.create("no-options");const u=Oh.get(o);if(u){if(ra(n,u.options)&&ra(s,u.config))return u;throw Js.create("duplicate-app",{appName:o})}const f=new s2(o);for(const g of np.values())f.addComponent(g);const p=new Z2(n,s,f);return Oh.set(o,p),p}function DT(r=tp){const e=Oh.get(r);if(!e&&r===tp&&ST())return NT();if(!e)throw Js.create("no-app",{appName:r});return e}function Zs(r,e,n){var s;let o=(s=X2[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(p.join(" "));return}Go(new Qa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="firebase-heartbeat-database",tI=1,_u="firebase-heartbeat-store";let Dm=null;function MT(){return Dm||(Dm=v2(eI,tI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(_u)}catch(n){console.warn(n)}}}}).catch(r=>{throw Js.create("idb-open",{originalErrorMessage:r.message})})),Dm}async function nI(r){try{const n=(await MT()).transaction(_u),s=await n.objectStore(_u).get(OT(r));return await n.done,s}catch(e){if(e instanceof ps)us.warn(e.message);else{const n=Js.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});us.warn(n.message)}}}async function A0(r,e){try{const s=(await MT()).transaction(_u,"readwrite");await s.objectStore(_u).put(e,OT(r)),await s.done}catch(n){if(n instanceof ps)us.warn(n.message);else{const s=Js.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});us.warn(s.message)}}}function OT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=1024,rI=30;class sI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=R0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>rI){const f=lI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){us.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R0(),{heartbeatsToSend:s,unsentEntries:o}=aI(this._heartbeatsCache.heartbeats),u=Mh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return us.warn(n),""}}}function R0(){return new Date().toISOString().substring(0,10)}function aI(r,e=iI){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),I0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),I0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class oI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $R()?YR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return A0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return A0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function I0(r){return Mh(JSON.stringify({version:2,heartbeats:r})).length}function lI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(r){Go(new Qa("platform-logger",e=>new T2(e),"PRIVATE")),Go(new Qa("heartbeat",e=>new sI(e),"PRIVATE")),Zs(ep,b0,r),Zs(ep,b0,"esm2017"),Zs("fire-js","")}uI("");function Pp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function VT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cI=VT,kT=new Nu("auth","Firebase",VT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Op("@firebase/auth");function hI(r,...e){Vh.logLevel<=Ze.WARN&&Vh.warn(`Auth (${tl}): ${r}`,...e)}function Th(r,...e){Vh.logLevel<=Ze.ERROR&&Vh.error(`Auth (${tl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(r,...e){throw Up(r,...e)}function hr(r,...e){return Up(r,...e)}function Lp(r,e,n){const s=Object.assign(Object.assign({},cI()),{[e]:n});return new Nu("auth","Firebase",s).create(e,{appName:r.name})}function ea(r){return Lp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PT(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Dr(r,"argument-error"),Lp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Up(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return kT.create(r,...e)}function ke(r,e,...n){if(!r)throw Up(e,...n)}function rs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Th(e),new Error(e)}function cs(r,e){r||rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function fI(){return C0()==="http:"||C0()==="https:"}function C0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fI()||HR()||"connection"in navigator)?navigator.onLine:!0}function mI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,cs(n>e,"Short delay should be less than long delay!"),this.isMobile=jR()||FR()}get(){return dI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(r,e){cs(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yI=new Mu(3e4,6e4);function jp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function nl(r,e,n,s,o={}){return UT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=Du(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const m=Object.assign({method:e,headers:g},u);return qR()||(m.referrerPolicy="no-referrer"),r.emulatorConfig&&el(r.emulatorConfig.host)&&(m.credentials="include"),LT.fetch()(await zT(r,r.config.apiHost,n,p),m)})}async function UT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},pI),e);try{const o=new _I(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw dh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,m]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw dh(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw dh(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Lp(r,E,m);Dr(r,E)}}catch(o){if(o instanceof ps)throw o;Dr(r,"network-request-failed",{message:String(o)})}}async function vI(r,e,n,s,o={}){const u=await nl(r,e,n,s,o);return"mfaPendingCredential"in u&&Dr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function zT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?zp(r.config,o):`${r.config.apiScheme}://${o}`;return gI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class _I{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(hr(this.auth,"network-request-failed")),yI.get())})}}function dh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=hr(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(r,e){return nl(r,"POST","/v1/accounts:delete",e)}async function kh(r,e){return nl(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TI(r,e=!1){const n=Qt(r),s=await n.getIdToken(e),o=Bp(s);ke(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:hu(Mm(o.auth_time)),issuedAtTime:hu(Mm(o.iat)),expirationTime:hu(Mm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Mm(r){return Number(r)*1e3}function Bp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const o=wT(n);return o?JSON.parse(o):(Th("Failed to decode base64 JWT payload"),null)}catch(o){return Th("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function x0(r){const e=Bp(r);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ps&&wI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function wI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Eu(r,kh(n,{idToken:s}));ke(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?jT(u.providerUserInfo):[],p=AI(r.providerData,f),g=r.isAnonymous,m=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),E=g?m:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new rp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,T)}async function SI(r){const e=Qt(r);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function jT(r){return r.map(e=>{var{providerId:n}=e,s=Pp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(r,e){const n=await UT(r,{},async()=>{const s=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await zT(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&el(r.emulatorConfig.host)&&(g.credentials="include"),LT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function II(r,e){return nl(r,"POST","/v2/accounts:revokeToken",jp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=x0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await RI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Bo;return s&&(ke(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ke(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ke(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(r,e){ke(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class cr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new rp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TI(this,e)}reload(){return SI(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ji(this.auth.app))return Promise.reject(ea(this.auth));const e=await this.getIdToken();return await Eu(this,EI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,p,g,m,E;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,Y=(f=n.photoURL)!==null&&f!==void 0?f:void 0,ee=(p=n.tenantId)!==null&&p!==void 0?p:void 0,F=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,ue=(m=n.createdAt)!==null&&m!==void 0?m:void 0,he=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:se,emailVerified:Ae,isAnonymous:Ue,providerData:De,stsTokenManager:x}=n;ke(se&&x,e,"internal-error");const I=Bo.fromJSON(this.name,x);ke(typeof se=="string",e,"internal-error"),Gs(T,e.name),Gs(R,e.name),ke(typeof Ae=="boolean",e,"internal-error"),ke(typeof Ue=="boolean",e,"internal-error"),Gs(k,e.name),Gs(Y,e.name),Gs(ee,e.name),Gs(F,e.name),Gs(ue,e.name),Gs(he,e.name);const C=new cr({uid:se,auth:e,email:R,emailVerified:Ae,displayName:T,isAnonymous:Ue,photoURL:Y,phoneNumber:k,tenantId:ee,stsTokenManager:I,createdAt:ue,lastLoginAt:he});return De&&Array.isArray(De)&&(C.providerData=De.map(O=>Object.assign({},O))),F&&(C._redirectEventId=F),C}static async _fromIdTokenResponse(e,n,s=!1){const o=new Bo;o.updateFromServerResponse(n);const u=new cr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ph(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ke(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?jT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Bo;p.updateFromIdToken(s);const g=new cr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,m),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;function ss(r){cs(r instanceof Function,"Expected a class definition");let e=N0.get(r);return e?(cs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,N0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BT.type="NONE";const sp=BT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r,e,n){return`firebase:${r}:${e}:${n}`}class qo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=wh(this.userKey,o.apiKey,u),this.fullPersistenceKey=wh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?cr._fromGetAccountInfoResponse(this.auth,n,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new qo(ss(sp),e,s);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=o[0]||ss(sp);const f=wh(s,e.config.apiKey,e.name);let p=null;for(const m of n)try{const E=await m._get(f);if(E){let T;if(typeof E=="string"){const R=await kh(e,{idToken:E}).catch(()=>{});if(!R)break;T=await cr._fromGetAccountInfoResponse(e,R,E)}else T=cr._fromJSON(e,E);m!==u&&(p=T),u=m;break}}catch{}const g=o.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new qo(u,e,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new qo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($T(e))return"Blackberry";if(YT(e))return"Webos";if(HT(e))return"Safari";if((e.includes("chrome/")||FT(e))&&!e.includes("edge/"))return"Chrome";if(QT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function qT(r=$n()){return/firefox\//i.test(r)}function HT(r=$n()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FT(r=$n()){return/crios\//i.test(r)}function GT(r=$n()){return/iemobile/i.test(r)}function QT(r=$n()){return/android/i.test(r)}function $T(r=$n()){return/blackberry/i.test(r)}function YT(r=$n()){return/webos/i.test(r)}function qp(r=$n()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function CI(r=$n()){var e;return qp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xI(){return GR()&&document.documentMode===10}function KT(r=$n()){return qp(r)||QT(r)||YT(r)||$T(r)||/windows phone/i.test(r)||GT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(r,e=[]){let n;switch(r){case"Browser":n=D0($n());break;case"Worker":n=`${D0($n())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const g=e(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(r,e={}){return nl(r,"GET","/v2/passwordPolicy",jp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=6;class OI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:MI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M0(this),this.idTokenSubscription=new M0(this),this.beforeStateQueue=new NI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await qo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),s=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ji(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===p)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ji(this.app))return Promise.reject(ea(this));const n=e?Qt(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ji(this.app)?Promise.reject(ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ji(this.app)?Promise.reject(ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DI(this),n=new OI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await II(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ss(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Ji(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ou(r){return Qt(r)}class M0{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZR(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kI(r){Hp=r}function PI(r){return Hp.loadJS(r)}function LI(){return Hp.gapiScript}function UI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(r,e){const n=kp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ra(u,e??{}))return o;Dr(o,"already-initialized")}return n.initialize({options:e})}function jI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ss);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function BI(r,e,n){const s=Ou(r);ke(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=WT(e),{host:f,port:p}=qI(e),g=p===null?"":`:${p}`,m={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ke(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ke(ra(m,s.config.emulator)&&ra(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,el(f)?(RT(`${u}//${f}${g}`),IT("Auth",!0)):HI()}function WT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function qI(r){const e=WT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:O0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:O0(f)}}}function O0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function HI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,n){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(r,e){return vI(r,"POST","/v1/accounts:signInWithIdp",jp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="http://localhost";class $a extends JT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Pp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new $a(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ho(e,n)}buildRequest(){const e={requestUri:FI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends rf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Vu{constructor(){super("facebook.com")}static credential(e){return $a._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $a._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return is.credential(n,s)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Vu{constructor(){super("github.com")}static credential(e){return $a._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com";$s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Vu{constructor(){super("twitter.com")}static credential(e,n){return $a._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ys.credential(n,s)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await cr._fromIdTokenResponse(e,s,o),f=V0(s);return new Qo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=V0(s);return new Qo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function V0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends ps{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Lh(e,n,s,o)}}function ZT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(r,u,e,s):u})}async function GI(r,e,n=!1){const s=await Eu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Qo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(r,e,n=!1){const{auth:s}=r;if(Ji(s.app))return Promise.reject(ea(s));const o="reauthenticate";try{const u=await Eu(r,ZT(s,o,e,r),n);ke(u.idToken,s,"internal-error");const f=Bp(u.idToken);ke(f,s,"internal-error");const{sub:p}=f;return ke(r.uid===p,s,"user-mismatch"),Qo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Dr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(r,e,n=!1){if(Ji(r.app))return Promise.reject(ea(r));const s="signIn",o=await ZT(r,s,e),u=await Qo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(r,e){return Qt(r).setPersistence(e)}function YI(r,e,n,s){return Qt(r).onIdTokenChanged(e,n,s)}function KI(r,e,n){return Qt(r).beforeAuthStateChanged(e,n)}function ew(r,e,n,s){return Qt(r).onAuthStateChanged(e,n,s)}function XI(r){return Qt(r).signOut()}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=1e3,JI=10;class nw extends tw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);xI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,JI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},WI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nw.type="LOCAL";const sf=nw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw extends tw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iw.type="SESSION";const rw=iw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new af(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async m=>m(n.origin,u)),g=await ZI(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const m=Fp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===m)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(R.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function tC(r){Ir().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function nC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function rC(){return sw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="firebaseLocalStorageDb",sC=1,zh="firebaseLocalStorage",ow="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function of(r,e){return r.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function aC(){const r=indexedDB.deleteDatabase(aw);return new ku(r).toPromise()}function ap(){const r=indexedDB.open(aw,sC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(zh,{keyPath:ow})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(zh)?e(s):(s.close(),await aC(),e(await ap()))})})}async function k0(r,e,n){const s=of(r,!0).put({[ow]:e,value:n});return new ku(s).toPromise()}async function oC(r,e){const n=of(r,!1).get(e),s=await new ku(n).toPromise();return s===void 0?null:s.value}function P0(r,e){const n=of(r,!0).delete(e);return new ku(n).toPromise()}const lC=800,uC=3;class lw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ap(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>uC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(rC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nC(),!this.activeServiceWorker)return;this.sender=new eC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ap();return await k0(e,Uh,"1"),await P0(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>k0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>oC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=of(o,!1).getAll();return new ku(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lw.type="LOCAL";const uw=lw;new Mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(r,e){return e?ss(e):(ke(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends JT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cC(r){return $I(r.auth,new Qp(r),r.bypassAuthState)}function hC(r){const{auth:e,user:n}=r;return ke(n,e,"internal-error"),QI(n,new Qp(r),r.bypassAuthState)}async function fC(r){const{auth:e,user:n}=r;return ke(n,e,"internal-error"),GI(n,new Qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cC;case"linkViaPopup":case"linkViaRedirect":return fC;case"reauthViaPopup":case"reauthViaRedirect":return hC;default:Dr(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new Mu(2e3,1e4);async function mC(r,e,n){if(Ji(r.app))return Promise.reject(hr(r,"operation-not-supported-in-this-environment"));const s=Ou(r);PT(r,e,rf);const o=Gp(s,n);return new Ha(s,"signInViaPopup",e,o).executeNotNull()}class Ha extends cw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=Fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dC.get())};e()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="pendingRedirect",bh=new Map;class gC extends cw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const s=await yC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yC(r,e){const n=fw(e),s=hw(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function vC(r,e){return hw(r)._set(fw(e),"true")}function _C(r,e){bh.set(r._key(),e)}function hw(r){return ss(r._redirectPersistence)}function fw(r){return wh(pC,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(r,e,n){return EC(r,e,n)}async function EC(r,e,n){if(Ji(r.app))return Promise.reject(ea(r));const s=Ou(r);PT(r,e,rf),await s._initializationPromise;const o=Gp(s,n);return await vC(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function TC(r,e,n=!1){if(Ji(r.app))return Promise.reject(ea(r));const s=Ou(r),o=Gp(s,e),f=await new gC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=600*1e3;class bC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!dw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(hr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wC&&this.cachedEventUids.clear(),this.cachedEventUids.has(U0(e))}saveEventToCache(e){this.cachedEventUids.add(U0(e)),this.lastProcessedEventTime=Date.now()}}function U0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function dw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(r,e={}){return nl(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IC=/^https?/;async function CC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await AC(r);for(const n of e)try{if(xC(n))return}catch{}Dr(r,"unauthorized-domain")}function xC(r){const e=ip(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!IC.test(n))return!1;if(RC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new Mu(3e4,6e4);function z0(){const r=Ir().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function DC(r){return new Promise((e,n)=>{var s,o,u;function f(){z0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z0(),n(hr(r,"network-request-failed"))},timeout:NC.get()})}if(!((o=(s=Ir().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ir().gapi)===null||u===void 0)&&u.load)f();else{const p=UI("iframefcb");return Ir()[p]=()=>{gapi.load?f():n(hr(r,"network-request-failed"))},PI(`${LI()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function MC(r){return Sh=Sh||DC(r),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new Mu(5e3,15e3),VC="__/auth/iframe",kC="emulator/auth/iframe",PC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UC(r){const e=r.config;ke(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?zp(e,kC):`https://${r.config.authDomain}/${VC}`,s={apiKey:e.apiKey,appName:r.name,v:tl},o=LC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Du(s).slice(1)}`}async function zC(r){const e=await MC(r),n=Ir().gapi;return ke(n,r,"internal-error"),e.open({where:document.body,url:UC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=hr(r,"network-request-failed"),p=Ir().setTimeout(()=>{u(f)},OC.get());function g(){Ir().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BC=500,qC=600,HC="_blank",FC="http://localhost";class j0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GC(r,e,n,s=BC,o=qC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g=Object.assign(Object.assign({},jC),{width:s.toString(),height:o.toString(),top:u,left:f}),m=$n().toLowerCase();n&&(p=FT(m)?HC:n),qT(m)&&(e=e||FC,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[k,Y])=>`${R}${k}=${Y},`,"");if(CI(m)&&p!=="_self")return QC(e||"",p),new j0(null);const T=window.open(e||"",p,E);ke(T,r,"popup-blocked");try{T.focus()}catch{}return new j0(T)}function QC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="__/auth/handler",YC="emulator/auth/handler",KC=encodeURIComponent("fac");async function B0(r,e,n,s,o,u){ke(r.config.authDomain,r,"auth-domain-config-required"),ke(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:tl,eventId:o};if(e instanceof rf){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",JR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof Vu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await r._getAppCheckToken(),m=g?`#${KC}=${encodeURIComponent(g)}`:"";return`${XC(r)}?${Du(p).slice(1)}${m}`}function XC({config:r}){return r.emulator?zp(r,YC):`https://${r.authDomain}/${$C}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class WC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rw,this._completeRedirectFn=TC,this._overrideRedirectResult=_C}async _openPopup(e,n,s,o){var u;cs((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await B0(e,n,s,ip(),o);return GC(e,f,Fp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await B0(e,n,s,ip(),o);return tC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(cs(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await zC(e),s=new bC(e);return n.register("authEvent",o=>(ke(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Om];f!==void 0&&n(!!f),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KT()||HT()||qp()}}const JC=WC;var q0="@firebase/auth",H0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tx(r){Go(new Qa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;ke(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XT(r)},m=new VI(s,o,u,g);return jI(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Go(new Qa("auth-internal",e=>{const n=Ou(e.getProvider("auth").getImmediate());return(s=>new ZC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zs(q0,H0,ex(r)),Zs(q0,H0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=300,ix=AT("authIdTokenMaxAge")||nx;let F0=null;const rx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ix)return;const o=n==null?void 0:n.token;F0!==o&&(F0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sx(r=DT()){const e=kp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=zI(r,{popupRedirectResolver:JC,persistence:[uw,sf,rw]}),s=AT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=rx(u.toString());KI(n,f,()=>f(n.currentUser)),YI(n,p=>f(p))}}const o=bT("auth");return o&&BI(n,`http://${o}`),n}function ax(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}kI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=hr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",ax().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tx("Browser");var G0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ta,mw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,I){function C(){}C.prototype=I.prototype,x.D=I.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(O,U,B){for(var N=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)N[ht-2]=arguments[ht];return I.prototype[U].apply(O,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,I,C){C||(C=0);var O=Array(16);if(typeof I=="string")for(var U=0;16>U;++U)O[U]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(U=0;16>U;++U)O[U]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=x.g[0],C=x.g[1],U=x.g[2];var B=x.g[3],N=I+(B^C&(U^B))+O[0]+3614090360&4294967295;I=C+(N<<7&4294967295|N>>>25),N=B+(U^I&(C^U))+O[1]+3905402710&4294967295,B=I+(N<<12&4294967295|N>>>20),N=U+(C^B&(I^C))+O[2]+606105819&4294967295,U=B+(N<<17&4294967295|N>>>15),N=C+(I^U&(B^I))+O[3]+3250441966&4294967295,C=U+(N<<22&4294967295|N>>>10),N=I+(B^C&(U^B))+O[4]+4118548399&4294967295,I=C+(N<<7&4294967295|N>>>25),N=B+(U^I&(C^U))+O[5]+1200080426&4294967295,B=I+(N<<12&4294967295|N>>>20),N=U+(C^B&(I^C))+O[6]+2821735955&4294967295,U=B+(N<<17&4294967295|N>>>15),N=C+(I^U&(B^I))+O[7]+4249261313&4294967295,C=U+(N<<22&4294967295|N>>>10),N=I+(B^C&(U^B))+O[8]+1770035416&4294967295,I=C+(N<<7&4294967295|N>>>25),N=B+(U^I&(C^U))+O[9]+2336552879&4294967295,B=I+(N<<12&4294967295|N>>>20),N=U+(C^B&(I^C))+O[10]+4294925233&4294967295,U=B+(N<<17&4294967295|N>>>15),N=C+(I^U&(B^I))+O[11]+2304563134&4294967295,C=U+(N<<22&4294967295|N>>>10),N=I+(B^C&(U^B))+O[12]+1804603682&4294967295,I=C+(N<<7&4294967295|N>>>25),N=B+(U^I&(C^U))+O[13]+4254626195&4294967295,B=I+(N<<12&4294967295|N>>>20),N=U+(C^B&(I^C))+O[14]+2792965006&4294967295,U=B+(N<<17&4294967295|N>>>15),N=C+(I^U&(B^I))+O[15]+1236535329&4294967295,C=U+(N<<22&4294967295|N>>>10),N=I+(U^B&(C^U))+O[1]+4129170786&4294967295,I=C+(N<<5&4294967295|N>>>27),N=B+(C^U&(I^C))+O[6]+3225465664&4294967295,B=I+(N<<9&4294967295|N>>>23),N=U+(I^C&(B^I))+O[11]+643717713&4294967295,U=B+(N<<14&4294967295|N>>>18),N=C+(B^I&(U^B))+O[0]+3921069994&4294967295,C=U+(N<<20&4294967295|N>>>12),N=I+(U^B&(C^U))+O[5]+3593408605&4294967295,I=C+(N<<5&4294967295|N>>>27),N=B+(C^U&(I^C))+O[10]+38016083&4294967295,B=I+(N<<9&4294967295|N>>>23),N=U+(I^C&(B^I))+O[15]+3634488961&4294967295,U=B+(N<<14&4294967295|N>>>18),N=C+(B^I&(U^B))+O[4]+3889429448&4294967295,C=U+(N<<20&4294967295|N>>>12),N=I+(U^B&(C^U))+O[9]+568446438&4294967295,I=C+(N<<5&4294967295|N>>>27),N=B+(C^U&(I^C))+O[14]+3275163606&4294967295,B=I+(N<<9&4294967295|N>>>23),N=U+(I^C&(B^I))+O[3]+4107603335&4294967295,U=B+(N<<14&4294967295|N>>>18),N=C+(B^I&(U^B))+O[8]+1163531501&4294967295,C=U+(N<<20&4294967295|N>>>12),N=I+(U^B&(C^U))+O[13]+2850285829&4294967295,I=C+(N<<5&4294967295|N>>>27),N=B+(C^U&(I^C))+O[2]+4243563512&4294967295,B=I+(N<<9&4294967295|N>>>23),N=U+(I^C&(B^I))+O[7]+1735328473&4294967295,U=B+(N<<14&4294967295|N>>>18),N=C+(B^I&(U^B))+O[12]+2368359562&4294967295,C=U+(N<<20&4294967295|N>>>12),N=I+(C^U^B)+O[5]+4294588738&4294967295,I=C+(N<<4&4294967295|N>>>28),N=B+(I^C^U)+O[8]+2272392833&4294967295,B=I+(N<<11&4294967295|N>>>21),N=U+(B^I^C)+O[11]+1839030562&4294967295,U=B+(N<<16&4294967295|N>>>16),N=C+(U^B^I)+O[14]+4259657740&4294967295,C=U+(N<<23&4294967295|N>>>9),N=I+(C^U^B)+O[1]+2763975236&4294967295,I=C+(N<<4&4294967295|N>>>28),N=B+(I^C^U)+O[4]+1272893353&4294967295,B=I+(N<<11&4294967295|N>>>21),N=U+(B^I^C)+O[7]+4139469664&4294967295,U=B+(N<<16&4294967295|N>>>16),N=C+(U^B^I)+O[10]+3200236656&4294967295,C=U+(N<<23&4294967295|N>>>9),N=I+(C^U^B)+O[13]+681279174&4294967295,I=C+(N<<4&4294967295|N>>>28),N=B+(I^C^U)+O[0]+3936430074&4294967295,B=I+(N<<11&4294967295|N>>>21),N=U+(B^I^C)+O[3]+3572445317&4294967295,U=B+(N<<16&4294967295|N>>>16),N=C+(U^B^I)+O[6]+76029189&4294967295,C=U+(N<<23&4294967295|N>>>9),N=I+(C^U^B)+O[9]+3654602809&4294967295,I=C+(N<<4&4294967295|N>>>28),N=B+(I^C^U)+O[12]+3873151461&4294967295,B=I+(N<<11&4294967295|N>>>21),N=U+(B^I^C)+O[15]+530742520&4294967295,U=B+(N<<16&4294967295|N>>>16),N=C+(U^B^I)+O[2]+3299628645&4294967295,C=U+(N<<23&4294967295|N>>>9),N=I+(U^(C|~B))+O[0]+4096336452&4294967295,I=C+(N<<6&4294967295|N>>>26),N=B+(C^(I|~U))+O[7]+1126891415&4294967295,B=I+(N<<10&4294967295|N>>>22),N=U+(I^(B|~C))+O[14]+2878612391&4294967295,U=B+(N<<15&4294967295|N>>>17),N=C+(B^(U|~I))+O[5]+4237533241&4294967295,C=U+(N<<21&4294967295|N>>>11),N=I+(U^(C|~B))+O[12]+1700485571&4294967295,I=C+(N<<6&4294967295|N>>>26),N=B+(C^(I|~U))+O[3]+2399980690&4294967295,B=I+(N<<10&4294967295|N>>>22),N=U+(I^(B|~C))+O[10]+4293915773&4294967295,U=B+(N<<15&4294967295|N>>>17),N=C+(B^(U|~I))+O[1]+2240044497&4294967295,C=U+(N<<21&4294967295|N>>>11),N=I+(U^(C|~B))+O[8]+1873313359&4294967295,I=C+(N<<6&4294967295|N>>>26),N=B+(C^(I|~U))+O[15]+4264355552&4294967295,B=I+(N<<10&4294967295|N>>>22),N=U+(I^(B|~C))+O[6]+2734768916&4294967295,U=B+(N<<15&4294967295|N>>>17),N=C+(B^(U|~I))+O[13]+1309151649&4294967295,C=U+(N<<21&4294967295|N>>>11),N=I+(U^(C|~B))+O[4]+4149444226&4294967295,I=C+(N<<6&4294967295|N>>>26),N=B+(C^(I|~U))+O[11]+3174756917&4294967295,B=I+(N<<10&4294967295|N>>>22),N=U+(I^(B|~C))+O[2]+718787259&4294967295,U=B+(N<<15&4294967295|N>>>17),N=C+(B^(U|~I))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+U&4294967295,x.g[3]=x.g[3]+B&4294967295}s.prototype.u=function(x,I){I===void 0&&(I=x.length);for(var C=I-this.blockSize,O=this.B,U=this.h,B=0;B<I;){if(U==0)for(;B<=C;)o(this,x,B),B+=this.blockSize;if(typeof x=="string"){for(;B<I;)if(O[U++]=x.charCodeAt(B++),U==this.blockSize){o(this,O),U=0;break}}else for(;B<I;)if(O[U++]=x[B++],U==this.blockSize){o(this,O),U=0;break}}this.h=U,this.o+=I},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;var C=8*this.o;for(I=x.length-8;I<x.length;++I)x[I]=C&255,C/=256;for(this.u(x),x=Array(16),I=C=0;4>I;++I)for(var O=0;32>O;O+=8)x[C++]=this.g[I]>>>O&255;return x};function u(x,I){var C=p;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=I(x)}function f(x,I){this.h=I;for(var C=[],O=!0,U=x.length-1;0<=U;U--){var B=x[U]|0;O&&B==I||(C[U]=B,O=!1)}this.g=C}var p={};function g(x){return-128<=x&&128>x?u(x,function(I){return new f([I|0],0>I?-1:0)}):new f([x|0],0>x?-1:0)}function m(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return F(m(-x));for(var I=[],C=1,O=0;x>=C;O++)I[O]=x/C|0,C*=4294967296;return new f(I,0)}function E(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return F(E(x.substring(1),I));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(I,8)),O=T,U=0;U<x.length;U+=8){var B=Math.min(8,x.length-U),N=parseInt(x.substring(U,U+B),I);8>B?(B=m(Math.pow(I,B)),O=O.j(B).add(m(N))):(O=O.j(C),O=O.add(m(N)))}return O}var T=g(0),R=g(1),k=g(16777216);r=f.prototype,r.m=function(){if(ee(this))return-F(this).m();for(var x=0,I=1,C=0;C<this.g.length;C++){var O=this.i(C);x+=(0<=O?O:4294967296+O)*I,I*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(Y(this))return"0";if(ee(this))return"-"+F(this).toString(x);for(var I=m(Math.pow(x,6)),C=this,O="";;){var U=Ae(C,I).g;C=ue(C,U.j(I));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=U,Y(C))return B+O;for(;6>B.length;)B="0"+B;O=B+O}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function Y(x){if(x.h!=0)return!1;for(var I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function ee(x){return x.h==-1}r.l=function(x){return x=ue(this,x),ee(x)?-1:Y(x)?0:1};function F(x){for(var I=x.g.length,C=[],O=0;O<I;O++)C[O]=~x.g[O];return new f(C,~x.h).add(R)}r.abs=function(){return ee(this)?F(this):this},r.add=function(x){for(var I=Math.max(this.g.length,x.g.length),C=[],O=0,U=0;U<=I;U++){var B=O+(this.i(U)&65535)+(x.i(U)&65535),N=(B>>>16)+(this.i(U)>>>16)+(x.i(U)>>>16);O=N>>>16,B&=65535,N&=65535,C[U]=N<<16|B}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ue(x,I){return x.add(F(I))}r.j=function(x){if(Y(this)||Y(x))return T;if(ee(this))return ee(x)?F(this).j(F(x)):F(F(this).j(x));if(ee(x))return F(this.j(F(x)));if(0>this.l(k)&&0>x.l(k))return m(this.m()*x.m());for(var I=this.g.length+x.g.length,C=[],O=0;O<2*I;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var U=0;U<x.g.length;U++){var B=this.i(O)>>>16,N=this.i(O)&65535,ht=x.i(U)>>>16,kt=x.i(U)&65535;C[2*O+2*U]+=N*kt,he(C,2*O+2*U),C[2*O+2*U+1]+=B*kt,he(C,2*O+2*U+1),C[2*O+2*U+1]+=N*ht,he(C,2*O+2*U+1),C[2*O+2*U+2]+=B*ht,he(C,2*O+2*U+2)}for(O=0;O<I;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=I;O<2*I;O++)C[O]=0;return new f(C,0)};function he(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function se(x,I){this.g=x,this.h=I}function Ae(x,I){if(Y(I))throw Error("division by zero");if(Y(x))return new se(T,T);if(ee(x))return I=Ae(F(x),I),new se(F(I.g),F(I.h));if(ee(I))return I=Ae(x,F(I)),new se(F(I.g),I.h);if(30<x.g.length){if(ee(x)||ee(I))throw Error("slowDivide_ only works with positive integers.");for(var C=R,O=I;0>=O.l(x);)C=Ue(C),O=Ue(O);var U=De(C,1),B=De(O,1);for(O=De(O,2),C=De(C,2);!Y(O);){var N=B.add(O);0>=N.l(x)&&(U=U.add(C),B=N),O=De(O,1),C=De(C,1)}return I=ue(x,U.j(I)),new se(U,I)}for(U=T;0<=x.l(I);){for(C=Math.max(1,Math.floor(x.m()/I.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),B=m(C),N=B.j(I);ee(N)||0<N.l(x);)C-=O,B=m(C),N=B.j(I);Y(B)&&(B=R),U=U.add(B),x=ue(x,N)}return new se(U,x)}r.A=function(x){return Ae(this,x).h},r.and=function(x){for(var I=Math.max(this.g.length,x.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)&x.i(O);return new f(C,this.h&x.h)},r.or=function(x){for(var I=Math.max(this.g.length,x.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)|x.i(O);return new f(C,this.h|x.h)},r.xor=function(x){for(var I=Math.max(this.g.length,x.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)^x.i(O);return new f(C,this.h^x.h)};function Ue(x){for(var I=x.g.length+1,C=[],O=0;O<I;O++)C[O]=x.i(O)<<1|x.i(O-1)>>>31;return new f(C,x.h)}function De(x,I){var C=I>>5;I%=32;for(var O=x.g.length-C,U=[],B=0;B<O;B++)U[B]=0<I?x.i(B+C)>>>I|x.i(B+C+1)<<32-I:x.i(B+C);return new f(U,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,mw=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=m,f.fromString=E,ta=f}).apply(typeof G0<"u"?G0:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pw,su,gw,Ah,op,yw,vw,_w;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var G=c[A];if(!(G in _))break e;_=_[G]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,G={next:function(){if(!A&&_<c.length){var Z=_++;return{value:y(Z,c[Z]),done:!1}}return A=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,A),c.apply(y,G)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,R.apply(null,arguments)}function k(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function Y(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,G,Z){for(var me=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)me[pt-2]=arguments[pt];return y.prototype[G].apply(A,me)}}function ee(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function F(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const G=c.length||0,Z=A.length||0;c.length=G+Z;for(let me=0;me<Z;me++)c[G+me]=A[me]}else c.push(A)}}class ue{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function he(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function Ae(c){return Ae[" "](c),c}Ae[" "]=function(){};var Ue=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function De(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function x(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function I(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(_ in A)c[_]=A[_];for(let Z=0;Z<C.length;Z++)_=C[Z],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function U(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function B(c){p.setTimeout(()=>{throw c},0)}function N(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ht{constructor(){this.h=this.g=null}add(y,_){const A=kt.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var kt=new ue(()=>new te,c=>c.reset());class te{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,we=!1,He=new ht,q=()=>{const c=p.Promise.resolve(void 0);fe=()=>{c.then(w)}};var w=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){B(_)}var y=kt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}we=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ae=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,y),p.removeEventListener("test",_,y)}catch{}return c})();function ce(c,y){if(X.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Ue){e:{try{Ae(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ce.aa.h.call(this)}}Y(ce,X);var pe={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Ce(c,y,_,A,G){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=G,this.key=++Se,this.da=this.fa=!1}function $e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ye(c){this.src=c,this.g={},this.h=0}Ye.prototype.add=function(c,y,_,A,G){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var me=gt(c,y,A,G);return-1<me?(y=c[me],_||(y.fa=!1)):(y=new Ce(y,this.src,Z,!!A,G),y.fa=_,c.push(y)),y};function lt(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],G=Array.prototype.indexOf.call(A,y,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(A,G,1),Z&&($e(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function gt(c,y,_,A){for(var G=0;G<c.length;++G){var Z=c[G];if(!Z.da&&Z.listener==y&&Z.capture==!!_&&Z.ha==A)return G}return-1}var Ve="closure_lm_"+(1e6*Math.random()|0),Ct={};function $t(c,y,_,A,G){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)$t(c,y[Z],_,A,G);return null}return _=Vr(_),c&&c[de]?c.K(y,_,m(A)?!!A.capture:!1,G):xn(c,y,_,!1,A,G)}function xn(c,y,_,A,G,Z){if(!y)throw Error("Invalid event type");var me=m(G)?!!G.capture:!!G,pt=Or(c);if(pt||(c[Ve]=pt=new Ye(c)),_=pt.add(y,_,A,me,Z),_.proxy)return _;if(A=En(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ae||(G=me),G===void 0&&(G=!1),c.addEventListener(y.toString(),A,G);else if(c.attachEvent)c.attachEvent(dr(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function En(){function c(_){return y.call(c.src,c.listener,_)}const y=pa;return c}function Bn(c,y,_,A,G){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)Bn(c,y[Z],_,A,G);else A=m(A)?!!A.capture:!!A,_=Vr(_),c&&c[de]?(c=c.i,y=String(y).toString(),y in c.g&&(Z=c.g[y],_=gt(Z,_,A,G),-1<_&&($e(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete c.g[y],c.h--)))):c&&(c=Or(c))&&(y=c.g[y.toString()],c=-1,y&&(c=gt(y,_,A,G)),(_=-1<c?y[c]:null)&&tn(_))}function tn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[de])lt(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(dr(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Or(y))?(lt(_,c),_.h==0&&(_.src=null,y[Ve]=null)):$e(c)}}}function dr(c){return c in Ct?Ct[c]:Ct[c]="on"+c}function pa(c,y){if(c.da)c=!0;else{y=new ce(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&tn(c),c=_.call(A,y)}return c}function Or(c){return c=c[Ve],c instanceof Ye?c:null}var jt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vr(c){return typeof c=="function"?c:(c[jt]||(c[jt]=function(y){return c.handleEvent(y)}),c[jt])}function yt(){z.call(this),this.i=new Ye(this),this.M=this,this.F=null}Y(yt,z),yt.prototype[de]=!0,yt.prototype.removeEventListener=function(c,y,_,A){Bn(this,c,y,_,A)};function Dt(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new X(y,c);else if(y instanceof X)y.target=y.target||c;else{var G=y;y=new X(A,c),O(y,G)}if(G=!0,_)for(var Z=_.length-1;0<=Z;Z--){var me=y.g=_[Z];G=ki(me,A,!0,y)&&G}if(me=y.g=c,G=ki(me,A,!0,y)&&G,G=ki(me,A,!1,y)&&G,_)for(Z=0;Z<_.length;Z++)me=y.g=_[Z],G=ki(me,A,!1,y)&&G}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)$e(_[A]);delete c.g[y],c.h--}}this.F=null},yt.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},yt.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function ki(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,Z=0;Z<y.length;++Z){var me=y[Z];if(me&&!me.da&&me.capture==_){var pt=me.listener,on=me.ha||me.src;me.fa&&lt(c.i,me),G=pt.call(on,A)!==!1&&G}}return G&&!A.defaultPrevented}function Pi(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function Li(c){c.g=Pi(()=>{c.g=null,c.i&&(c.i=!1,Li(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ui extends z{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Li(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ft(c){z.call(this),this.h=c,this.g={}}Y(ft,z);var Nn=[];function vt(c){De(c.g,function(y,_){this.g.hasOwnProperty(_)&&tn(y)},c),c.g={}}ft.prototype.N=function(){ft.aa.N.call(this),vt(this)},ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nn=p.JSON.stringify,Yt=p.JSON.parse,kr=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function ga(){}ga.prototype.h=null;function Tn(c){return c.h||(c.h=c.i())}function Dn(){}var rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yn(){X.call(this,"d")}Y(Yn,X);function Kt(){X.call(this,"c")}Y(Kt,X);var it={},pn=null;function Kn(){return pn=pn||new yt}it.La="serverreachability";function ti(c){X.call(this,it.La,c)}Y(ti,X);function qn(c){const y=Kn();Dt(y,new ti(y))}it.STAT_EVENT="statevent";function zi(c,y){X.call(this,it.STAT_EVENT,c),this.stat=y}Y(zi,X);function gn(c){const y=Kn();Dt(y,new zi(y,c))}it.Ma="timingevent";function ya(c,y){X.call(this,it.Ma,c),this.size=y}Y(ya,X);function mr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function pr(){this.g=!0}pr.prototype.xa=function(){this.g=!1};function va(c,y,_,A,G,Z){c.info(function(){if(c.g)if(Z)for(var me="",pt=Z.split("&"),on=0;on<pt.length;on++){var Ge=pt[on].split("=");if(1<Ge.length){var wn=Ge[0];Ge=Ge[1];var bn=wn.split("_");me=2<=bn.length&&bn[1]=="type"?me+(wn+"="+Ge+"&"):me+(wn+"=redacted&")}}else me=null;else me=Z;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+y+`
`+_+`
`+me})}function _a(c,y,_,A,G,Z,me){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+y+`
`+_+`
`+Z+" "+me})}function tr(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+pi(c,_)+(A?" "+A:"")})}function Pr(c,y){c.info(function(){return"TIMEOUT: "+y})}pr.prototype.info=function(){};function pi(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var G=A[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var me=1;me<G.length;me++)G[me]=""}}}}return nn(_)}catch{return y}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gi;function gr(){}Y(gr,ga),gr.prototype.g=function(){return new XMLHttpRequest},gr.prototype.i=function(){return{}},gi=new gr;function ni(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new ft(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ea}function Ea(){this.i=null,this.g="",this.h=!1}var yi={},sn={};function Lr(c,y,_){c.L=1,c.v=zr(Rt(y)),c.m=_,c.P=!0,ji(c,null)}function ji(c,y){c.F=Date.now(),_i(c),c.A=Rt(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),H(_.i,"t",A),c.C=0,_=c.j.J,c.h=new Ea,c.g=ic(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Ui(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(Nn[0]=G.toString()),G=Nn);for(var Z=0;Z<G.length;Z++){var me=$t(_,G[Z],A||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),qn(),va(c.i,c.u,c.A,c.l,c.R,c.m)}ni.prototype.ca=function(c){c=c.target;const y=this.M;y&&Wn(c)==3?y.j():this.Y(c)},ni.prototype.Y=function(c){try{if(c==this.g)e:{const bn=Wn(this.g);var y=this.g.Ba();const ws=this.g.Z();if(!(3>bn)&&(bn!=3||this.g&&(this.h.h||this.g.oa()||ba(this.g)))){this.J||bn!=4||y==7||(y==8||0>=ws?qn(3):qn(2)),gs(this);var _=this.g.Z();this.X=_;t:if(vi(this)){var A=ba(this.g);c="";var G=A.length,Z=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),yr(this);var me="";break t}this.h.i=new p.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Z&&y==G-1)});A.length=0,this.h.g+=c,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=_==200,_a(this.i,this.u,this.A,this.l,this.R,bn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,on=this.g;if((pt=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!he(pt)){var Ge=pt;break t}}Ge=null}if(_=Ge)tr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bi(this,_);else{this.o=!1,this.s=3,gn(12),Bt(this),yr(this);break e}}if(this.P){_=!0;let oi;for(;!this.J&&this.C<me.length;)if(oi=Ur(this,me),oi==sn){bn==4&&(this.s=4,gn(14),_=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(oi==yi){this.s=4,gn(15),tr(this.i,this.l,me,"[Invalid Chunk]"),_=!1;break}else tr(this.i,this.l,oi,null),Bi(this,oi);if(vi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bn!=4||me.length!=0||this.h.h||(this.s=1,gn(16),_=!1),this.o=this.o&&_,!_)tr(this.i,this.l,me,"[Invalid Chunked Response]"),Bt(this),yr(this);else if(0<me.length&&!this.W){this.W=!0;var wn=this.j;wn.g==this&&wn.ba&&!wn.M&&(wn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),gl(wn),wn.M=!0,gn(11))}}else tr(this.i,this.l,me,null),Bi(this,me);bn==4&&Bt(this),this.o&&!this.J&&(bn==4?ec(this.j,this):(this.o=!1,_i(this)))}else Yu(this.g),_==400&&0<me.indexOf("Unknown SID")?(this.s=3,gn(12)):(this.s=0,gn(13)),Bt(this),yr(this)}}}catch{}finally{}};function vi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ur(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?sn:(_=Number(y.substring(_,A)),isNaN(_)?yi:(A+=1,A+_>y.length?sn:(y=y.slice(A,A+_),c.C=A+_,y)))}ni.prototype.cancel=function(){this.J=!0,Bt(this)};function _i(c){c.S=Date.now()+c.I,xt(c,c.I)}function xt(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mr(R(c.ba,c),y)}function gs(c){c.B&&(p.clearTimeout(c.B),c.B=null)}ni.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Pr(this.i,this.A),this.L!=2&&(qn(),gn(17)),Bt(this),this.s=2,yr(this)):xt(this,this.S-c)};function yr(c){c.j.G==0||c.J||ec(c.j,c)}function Bt(c){gs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,vt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Bi(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||nr(_.h,c))){if(!c.K&&nr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Es(_),_s(_);else break e;pl(_),gn(18)}}else _.za=G[1],0<_.za-_.T&&37500>G[2]&&_.F&&_.v==0&&!_.C&&(_.C=mr(R(_.Za,_),6e3));if(1>=eo(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else jr(_,11)}else if((c.K||_.g==c)&&Es(_),!he(y))for(G=_.Da.g.parse(y),y=0;y<G.length;y++){let Ge=G[y];if(_.T=Ge[0],Ge=Ge[1],_.G==2)if(Ge[0]=="c"){_.K=Ge[1],_.ia=Ge[2];const wn=Ge[3];wn!=null&&(_.la=wn,_.j.info("VER="+_.la));const bn=Ge[4];bn!=null&&(_.Aa=bn,_.j.info("SVER="+_.Aa));const ws=Ge[5];ws!=null&&typeof ws=="number"&&0<ws&&(A=1.5*ws,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const oi=c.g;if(oi){const Ra=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ra){var Z=A.h;Z.g||Ra.indexOf("spdy")==-1&&Ra.indexOf("quic")==-1&&Ra.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(vr(Z,Z.h),Z.h=null))}if(A.D){const Br=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Br&&(A.ya=Br,rt(A.I,A.D,Br))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var me=c;if(A.qa=nc(A,A.J?A.ia:null,A.W),me.K){ii(A.h,me);var pt=me,on=A.L;on&&(pt.I=on),pt.B&&(gs(pt),_i(pt)),A.g=me}else Ju(A);0<_.i.length&&so(_)}else Ge[0]!="stop"&&Ge[0]!="close"||jr(_,7);else _.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?jr(_,7):dl(_):Ge[0]!="noop"&&_.l&&_.l.ta(Ge),_.v=0)}}qn(4)}catch{}}var ys=class{constructor(c,y){this.g=c,this.map=y}};function vs(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ta(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function eo(c){return c.h?1:c.g?c.g.size:0}function nr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function vr(c,y){c.g?c.g.add(y):c.h=y}function ii(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}vs.prototype.cancel=function(){if(this.i=Mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Mn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return ee(c.i)}function to(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function ul(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function qi(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ul(c),A=to(c),G=A.length,Z=0;Z<G;Z++)y.call(void 0,A[Z],_&&_[Z],c)}var ir=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ei(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),G=null;if(0<=A){var Z=c[_].substring(0,A);G=c[_].substring(A+1)}else Z=c[_];y(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function dt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof dt){this.h=c.h,Ti(this,c.j),this.o=c.o,this.g=c.g,ri(this,c.s),this.l=c.l;var y=c.i,_=new ai;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),rr(this,_),this.m=c.m}else c&&(y=String(c).match(ir))?(this.h=!1,Ti(this,y[1]||"",!0),this.o=_r(y[2]||""),this.g=_r(y[3]||"",!0),ri(this,y[4]),this.l=_r(y[5]||"",!0),rr(this,y[6]||"",!0),this.m=_r(y[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}dt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(si(y,Er,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(si(y,Er,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(si(_,_.charAt(0)=="/"?wa:no,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",si(_,fl)),c.join("")};function Rt(c){return new dt(c)}function Ti(c,y,_){c.j=_?_r(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ri(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function rr(c,y,_){y instanceof ai?(c.i=y,ge(c.i,c.h)):(_||(y=si(y,hl)),c.i=new ai(y,c.h))}function rt(c,y,_){c.i.set(y,_)}function zr(c){return rt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function _r(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function si(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,cl),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Er=/[#\/\?@]/g,no=/[#\?:]/g,wa=/[#\?]/g,hl=/[#\?@]/g,fl=/#/g;function ai(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nt(c){c.g||(c.g=new Map,c.h=0,c.i&&Ei(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=ai.prototype,r.add=function(c,y){Nt(this),this.i=null,c=J(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function S(c,y){Nt(c),y=J(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function L(c,y){return Nt(c),y=J(c,y),c.g.has(y)}r.forEach=function(c,y){Nt(this),this.g.forEach(function(_,A){_.forEach(function(G){c.call(y,G,A,this)},this)},this)},r.na=function(){Nt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const G=c[A];for(let Z=0;Z<G.length;Z++)_.push(y[A])}return _},r.V=function(c){Nt(this);let y=[];if(typeof c=="string")L(this,c)&&(y=y.concat(this.g.get(J(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Nt(this),this.i=null,c=J(this,c),L(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function H(c,y,_){S(c,y),0<_.length&&(c.i=null,c.g.set(J(c,y),ee(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const Z=encodeURIComponent(String(A)),me=this.V(A);for(A=0;A<me.length;A++){var G=Z;me[A]!==""&&(G+="="+encodeURIComponent(String(me[A]))),c.push(G)}}return this.i=c.join("&")};function J(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ge(c,y){y&&!c.j&&(Nt(c),c.i=null,c.g.forEach(function(_,A){var G=A.toLowerCase();A!=G&&(S(this,A),H(this,G,_))},c)),c.j=y}function _e(c,y){const _=new pr;if(p.Image){const A=new Image;A.onload=k(Pe,_,"TestLoadImage: loaded",!0,y,A),A.onerror=k(Pe,_,"TestLoadImage: error",!1,y,A),A.onabort=k(Pe,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=k(Pe,_,"TestLoadImage: timeout",!1,y,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function ve(c,y){const _=new pr,A=new AbortController,G=setTimeout(()=>{A.abort(),Pe(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Z=>{clearTimeout(G),Z.ok?Pe(_,"TestPingServer: ok",!0,y):Pe(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),Pe(_,"TestPingServer: error",!1,y)})}function Pe(c,y,_,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(_)}catch{}}function Fe(){this.g=new kr}function Be(c,y,_){const A=_||"";try{qi(c,function(G,Z){let me=G;m(G)&&(me=nn(G)),y.push(A+Z+"="+encodeURIComponent(me))})}catch(G){throw y.push(A+"type="+encodeURIComponent("_badmap")),G}}function tt(c){this.l=c.Ub||null,this.j=c.eb||!1}Y(tt,ga),tt.prototype.g=function(){return new ot(this.l,this.j)},tt.prototype.i=(function(c){return function(){return c}})({});function ot(c,y){yt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(ot,yt),r=ot.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Hn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,an(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qt(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function qt(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?an(this):Hn(this),this.readyState==3&&qt(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,an(this))},r.Qa=function(c){this.g&&(this.response=c,an(this))},r.ga=function(){this.g&&an(this)};function an(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Hn(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ot.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xn(c){let y="";return De(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function On(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Xn(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):rt(c,y,_))}function Ne(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(Ne,yt);var Pt=/^https?$/i,wi=["POST","PUT"];r=Ne.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gi.g(),this.v=this.o?Tn(this.o):Tn(gi),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Z){Wt(this,Z);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)_.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Z of A.keys())_.set(Z,A.get(Z));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(wi,y,void 0))||A||G||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,me]of _)this.g.setRequestHeader(Z,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ro(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){Wt(this,Z)}};function Wt(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,sr(c),ar(c)}function sr(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),ar(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),Ne.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?io(this):this.bb())},r.bb=function(){io(this)};function io(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Wn(c)!=4||c.Z()!=2)){if(c.u&&Wn(c)==4)Pi(c.Ea,0,c);else if(Dt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const me=c.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=me===0){var G=String(c.D).match(ir)[1]||null;!G&&p.self&&p.self.location&&(G=p.self.location.protocol.slice(0,-1)),A=!Pt.test(G?G.toLowerCase():"")}_=A}if(_)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var Z=2<Wn(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",sr(c)}}finally{ar(c)}}}}function ar(c,y){if(c.g){ro(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Dt(c,"ready");try{_.onreadystatechange=A}catch{}}}function ro(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Yt(y)}};function ba(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yu(c){const y={};c=(c.g&&2<=Wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(he(c[A]))continue;var _=U(c[A]);const G=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=y[G]||[];y[G]=Z,Z.push(_)}x(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ku(c){this.Aa=0,this.i=[],this.j=new pr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sa("baseRetryDelayMs",5e3,c),this.cb=Sa("retryDelaySeedMs",1e4,c),this.Wa=Sa("forwardChannelMaxRetries",2,c),this.wa=Sa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vs(c&&c.concurrentRequestLimit),this.Da=new Fe,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ku.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){gn(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=nc(this,null,this.W),so(this)};function dl(c){if(Xu(c),c.G==3){var y=c.U++,_=Rt(c.I);if(rt(_,"SID",c.K),rt(_,"RID",y),rt(_,"TYPE","terminate"),Aa(c,_),y=new ni(c,c.j,y),y.L=2,y.v=zr(Rt(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=y.v,_=!0),_||(y.g=ic(y.j,null),y.g.ea(y.v)),y.F=Date.now(),_i(y)}yl(c)}function _s(c){c.g&&(gl(c),c.g.cancel(),c.g=null)}function Xu(c){_s(c),c.u&&(p.clearTimeout(c.u),c.u=null),Es(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function so(c){if(!Ta(c.h)&&!c.s){c.s=!0;var y=c.Ga;fe||q(),we||(fe(),we=!0),He.add(y,c),c.B=0}}function Sf(c,y){return eo(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mr(R(c.Ga,c,y),tc(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new ni(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=I(Z),O(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ml(this,G,y),_=Rt(this.I),rt(_,"RID",c),rt(_,"CVER",22),this.D&&rt(_,"X-HTTP-Session-Id",this.D),Aa(this,_),Z&&(this.O?y="headers="+encodeURIComponent(String(Xn(Z)))+"&"+y:this.m&&On(_,this.m,Z)),vr(this.h,G),this.Ua&&rt(_,"TYPE","init"),this.P?(rt(_,"$req",y),rt(_,"SID","null"),G.T=!0,Lr(G,_,null)):Lr(G,_,y),this.G=2}}else this.G==3&&(c?Wu(this,c):this.i.length==0||Ta(this.h)||Wu(this))};function Wu(c,y){var _;y?_=y.l:_=c.U++;const A=Rt(c.I);rt(A,"SID",c.K),rt(A,"RID",_),rt(A,"AID",c.T),Aa(c,A),c.m&&c.o&&On(A,c.m,c.o),_=new ni(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ml(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),vr(c.h,_),Lr(_,A,y)}function Aa(c,y){c.H&&De(c.H,function(_,A){rt(y,A,_)}),c.l&&qi({},function(_,A){rt(y,A,_)})}function ml(c,y,_){_=Math.min(c.i.length,_);var A=c.l?R(c.l.Na,c.l,c):null;e:{var G=c.i;let Z=-1;for(;;){const me=["count="+_];Z==-1?0<_?(Z=G[0].g,me.push("ofs="+Z)):Z=0:me.push("ofs="+Z);let pt=!0;for(let on=0;on<_;on++){let Ge=G[on].g;const wn=G[on].map;if(Ge-=Z,0>Ge)Z=Math.max(0,G[on].g-100),pt=!1;else try{Be(wn,me,"req"+Ge+"_")}catch{A&&A(wn)}}if(pt){A=me.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Ju(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;fe||q(),we||(fe(),we=!0),He.add(y,c),c.v=0}}function pl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mr(R(c.Fa,c),tc(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mr(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gn(10),_s(this),Zu(this))};function gl(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function Zu(c){c.g=new ni(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Rt(c.qa);rt(y,"RID","rpc"),rt(y,"SID",c.K),rt(y,"AID",c.T),rt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&rt(y,"TO",c.ja),rt(y,"TYPE","xmlhttp"),Aa(c,y),c.m&&c.o&&On(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=zr(Rt(y)),_.m=null,_.P=!0,ji(_,c)}r.Za=function(){this.C!=null&&(this.C=null,_s(this),pl(this),gn(19))};function Es(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function ec(c,y){var _=null;if(c.g==y){Es(c),gl(c),c.g=null;var A=2}else if(nr(c.h,y))_=y.D,ii(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var G=c.B;A=Kn(),Dt(A,new ya(A,_)),so(c)}else Ju(c);else if(G=y.s,G==3||G==0&&0<y.X||!(A==1&&Sf(c,y)||A==2&&pl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),G){case 1:jr(c,5);break;case 4:jr(c,10);break;case 3:jr(c,6);break;default:jr(c,2)}}}function tc(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function jr(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),A=c.Xa;const G=!A;A=new dt(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ti(A,"https"),zr(A),G?_e(A.toString(),_):ve(A.toString(),_)}else gn(2);c.G=0,c.l&&c.l.sa(y),yl(c),Xu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gn(2)):(this.j.info("Failed to ping google.com"),gn(1))};function yl(c){if(c.G=0,c.ka=[],c.l){const y=Mn(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,ee(c.i),c.i.length=0),c.l.ra()}}function nc(c,y,_){var A=_ instanceof dt?Rt(_):new dt(_);if(A.g!="")y&&(A.g=y+"."+A.g),ri(A,A.s);else{var G=p.location;A=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var Z=new dt(null);A&&Ti(Z,A),y&&(Z.g=y),G&&ri(Z,G),_&&(Z.l=_),A=Z}return _=c.D,y=c.ya,_&&y&&rt(A,_,y),rt(A,"VER",c.la),Aa(c,A),A}function ic(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ne(new tt({eb:_})):new Ne(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}r=rc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ao(){}ao.prototype.g=function(c,y){return new Jn(c,y)};function Jn(c,y){yt.call(this),this.g=new Ku(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!he(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!he(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ts(this)}Y(Jn,yt),Jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){dl(this.g)},Jn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=nn(c),c=_);y.i.push(new ys(y.Ya++,c)),y.G==3&&so(y)},Jn.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,Jn.aa.N.call(this)};function sc(c){Yn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}Y(sc,Yn);function ac(){Kt.call(this),this.status=1}Y(ac,Kt);function Ts(c){this.g=c}Y(Ts,rc),Ts.prototype.ua=function(){Dt(this.g,"a")},Ts.prototype.ta=function(c){Dt(this.g,new sc(c))},Ts.prototype.sa=function(c){Dt(this.g,new ac)},Ts.prototype.ra=function(){Dt(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,_w=function(){return new ao},vw=function(){return Kn()},yw=it,op={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,Ah=At,Xt.COMPLETE="complete",gw=Xt,Dn.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,su=Dn,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,pw=Ne}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});const Q0="@firebase/firestore",$0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new Op("@firebase/firestore");function Po(){return Ya.logLevel}function Ee(r,...e){if(Ya.logLevel<=Ze.DEBUG){const n=e.map($p);Ya.debug(`Firestore (${il}): ${r}`,...n)}}function hs(r,...e){if(Ya.logLevel<=Ze.ERROR){const n=e.map($p);Ya.error(`Firestore (${il}): ${r}`,...n)}}function sa(r,...e){if(Ya.logLevel<=Ze.WARN){const n=e.map($p);Ya.warn(`Firestore (${il}): ${r}`,...n)}}function $p(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Ew(r,s,n)}function Ew(r,e,n){let s=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw hs(s),new Error(s)}function at(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Ew(e,o,s)}function Le(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ox{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Qn.UNAUTHENTICATED)))}shutdown(){}}class lx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ux{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new os;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new os,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new os)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(at(typeof s.accessToken=="string",31837,{l:s}),new Tw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new Qn(e)}}class cx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new cx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ji(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const s=u=>{u.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Ee("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Y0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=dx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Qe(r,e){return r<e?-1:r>e?1:0}function lp(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Qe(s,o);{const u=ww(),f=mx(u.encode(K0(r,n)),u.encode(K0(e,n)));return f!==0?f:Qe(s,o)}}n+=s>65535?2:1}return Qe(r.length,e.length)}function K0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function mx(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Qe(r[n],e[n]);return Qe(r.length,e.length)}function $o(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="__name__";class Ar{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ar.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Qe(e.length,n.length)}static compareSegments(e,n){const s=Ar.isNumericId(e),o=Ar.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):lp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ta.fromString(e.substring(4,e.length-2))}}class St extends Ar{construct(e,n,s){return new St(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new St(n)}static emptyPath(){return new St([])}}const px=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends Ar{construct(e,n,s){return new zn(e,n,s)}static isValidIdentifier(e){return px.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X0}static keyField(){return new zn([X0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ye(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ye(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new ye(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(n)}static emptyPath(){return new zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(St.fromString(e))}static fromName(e){return new Re(St.fromString(e).popFirst(5))}static empty(){return new Re(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(r,e,n){if(!n)throw new ye(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function gx(r,e,n,s){if(e===!0&&s===!0)throw new ye(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function W0(r){if(!Re.isDocumentKey(r))throw new ye(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function J0(r){if(Re.isDocumentKey(r))throw new ye(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Sw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function lf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function Mi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lf(r);throw new ye(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(r,e){const n={typeString:r};return e&&(n.value=e),n}function Pu(r,e){if(!Sw(r))throw new ye(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ye(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=-62135596800,eE=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*eE);return new Vt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Z0)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eE}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,Vt._jsonSchema))return new Vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Z0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vt._jsonSchemaVersion="firestore/timestamp/1.0",Vt._jsonSchema={type:mn("string",Vt._jsonSchemaVersion),seconds:mn("number"),nanoseconds:mn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Vt(0,0))}static max(){return new Oe(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=-1;function yx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(s===1e9?new Vt(n+1,0):new Vt(n,s));return new aa(o,Re.empty(),e)}function vx(r){return new aa(r.readTime,r.key,Tu)}class aa{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new aa(Oe.min(),Re.empty(),Tu)}static max(){return new aa(Oe.max(),Re.empty(),Tu)}}function _x(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(r.documentKey,e.documentKey),n!==0?n:Qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==Ex)throw r;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,s)=>{n(e)}))}static reject(e){return new le(((n,s)=>{s(e)}))}static waitFor(e){return new le(((n,s)=>{let o=0,u=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=le.resolve(!1);for(const s of e)n=n.next((o=>o?le.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new le(((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const m=g;n(e[m]).next((E=>{f[m]=E,++p,p===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new le(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function wx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}uf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=-1;function Lu(r){return r==null}function jh(r){return r===0&&1/r==-1/0}function bx(r){return typeof r=="number"&&Number.isInteger(r)&&!jh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="";function Sx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=tE(e)),e=Ax(r.get(n),e);return tE(e)}function Ax(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Aw:n+="";break;default:n+=u}}return n}function tE(r){return r+Aw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function da(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Rw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||Un.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Un.RED,this.left=o??Un.EMPTY,this.right=u??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Un(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Un.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iE(this.data.getIterator())}getIteratorFrom(e){return new iE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new _n(this.comparator);return n.data=e,n}}class iE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new Di([])}unionWith(e){let n=new _n(zn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Iw("Invalid base64 string: "+u):u}})(e);return new jn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new jn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const Rx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(r){if(at(!!r,39018),typeof r=="string"){let e=0;const n=Rx.exec(r);if(at(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:en(r.seconds),nanos:en(r.nanos)}}function en(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function la(r){return typeof r=="string"?jn.fromBase64String(r):jn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="server_timestamp",xw="__type__",Nw="__previous_value__",Dw="__local_write_time__";function Xp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[xw])===null||n===void 0?void 0:n.stringValue)===Cw}function cf(r){const e=r.mapValue.fields[Nw];return Xp(e)?cf(e):e}function wu(r){const e=oa(r.mapValue.fields[Dw].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n,s,o,u,f,p,g,m,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=m,this.isUsingEmulator=E}}const Bh="(default)";class bu{constructor(e,n){this.projectId=e,this.database=n||Bh}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="__type__",Cx="__max__",gh={mapValue:{}},Ow="__vector__",qh="value";function ua(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xp(r)?4:Nx(r)?9007199254740991:xx(r)?10:11:xe(28295,{value:r})}function Mr(r,e){if(r===e)return!0;const n=ua(r);if(n!==ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return wu(r).isEqual(wu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=oa(o.timestampValue),p=oa(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return la(o.bytesValue).isEqual(la(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return en(o.geoPointValue.latitude)===en(u.geoPointValue.latitude)&&en(o.geoPointValue.longitude)===en(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return en(o.integerValue)===en(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=en(o.doubleValue),p=en(u.doubleValue);return f===p?jh(f)===jh(p):isNaN(f)&&isNaN(p)}return!1})(r,e);case 9:return $o(r.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(nE(f)!==nE(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Mr(f[g],p[g])))return!1;return!0})(r,e);default:return xe(52216,{left:r})}}function Su(r,e){return(r.values||[]).find((n=>Mr(n,e)))!==void 0}function Yo(r,e){if(r===e)return 0;const n=ua(r),s=ua(e);if(n!==s)return Qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=en(u.integerValue||u.doubleValue),g=en(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return rE(r.timestampValue,e.timestampValue);case 4:return rE(wu(r),wu(e));case 5:return lp(r.stringValue,e.stringValue);case 6:return(function(u,f){const p=la(u),g=la(f);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let m=0;m<p.length&&m<g.length;m++){const E=Qe(p[m],g[m]);if(E!==0)return E}return Qe(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=Qe(en(u.latitude),en(f.latitude));return p!==0?p:Qe(en(u.longitude),en(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return sE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var p,g,m,E;const T=u.fields||{},R=f.fields||{},k=(p=T[qh])===null||p===void 0?void 0:p.arrayValue,Y=(g=R[qh])===null||g===void 0?void 0:g.arrayValue,ee=Qe(((m=k==null?void 0:k.values)===null||m===void 0?void 0:m.length)||0,((E=Y==null?void 0:Y.values)===null||E===void 0?void 0:E.length)||0);return ee!==0?ee:sE(k,Y)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===gh.mapValue&&f===gh.mapValue)return 0;if(u===gh.mapValue)return 1;if(f===gh.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),m=f.fields||{},E=Object.keys(m);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const R=lp(g[T],E[T]);if(R!==0)return R;const k=Yo(p[g[T]],m[E[T]]);if(k!==0)return k}return Qe(g.length,E.length)})(r.mapValue,e.mapValue);default:throw xe(23264,{le:n})}}function rE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Qe(r,e);const n=oa(r),s=oa(e),o=Qe(n.seconds,s.seconds);return o!==0?o:Qe(n.nanos,s.nanos)}function sE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Yo(n[o],s[o]);if(u)return u}return Qe(n.length,s.length)}function Ko(r){return up(r)}function up(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=oa(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return la(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Re.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=up(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${up(n.fields[f])}`;return o+"}"})(r.mapValue):xe(61005,{value:r})}function Rh(r){switch(ua(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cf(r);return e?16+Rh(e):16;case 5:return 2*r.stringValue.length;case 6:return la(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Rh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return da(s.fields,((u,f)=>{o+=u.length+Rh(f)})),o})(r.mapValue);default:throw xe(13486,{value:r})}}function aE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function cp(r){return!!r&&"integerValue"in r}function Wp(r){return!!r&&"arrayValue"in r}function oE(r){return!!r&&"nullValue"in r}function lE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ih(r){return!!r&&"mapValue"in r}function xx(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mw])===null||n===void 0?void 0:n.stringValue)===Ow}function du(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return da(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=du(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=du(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Nx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Cx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.value=e}static empty(){return new ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(n)}setAll(e){let n=zn.emptyPath(),s={},o=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=du(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){da(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new ei(du(this.value))}}function Vw(r){const e=[];return da(r.fields,((n,s)=>{const o=new zn([n]);if(Ih(s)){const u=Vw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Di(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new In(e,0,Oe.min(),Oe.min(),Oe.min(),ei.empty(),0)}static newFoundDocument(e,n,s,o){return new In(e,1,n,Oe.min(),s,o,0)}static newNoDocument(e,n){return new In(e,2,n,Oe.min(),Oe.min(),ei.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,Oe.min(),Oe.min(),ei.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.position=e,this.inclusive=n}}function uE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Re.comparator(Re.fromName(f.referenceValue),n.key):s=Yo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function cE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Mr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Dx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{}class dn extends kw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Ox(e,n,s):n==="array-contains"?new Px(e,s):n==="in"?new Lx(e,s):n==="not-in"?new Ux(e,s):n==="array-contains-any"?new zx(e,s):new dn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Vx(e,s):new kx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yo(n,this.value)):n!==null&&ua(this.value)===ua(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends kw{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new fr(e,n)}matches(e){return Pw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Pw(r){return r.op==="and"}function Lw(r){return Mx(r)&&Pw(r)}function Mx(r){for(const e of r.filters)if(e instanceof fr)return!1;return!0}function hp(r){if(r instanceof dn)return r.field.canonicalString()+r.op.toString()+Ko(r.value);if(Lw(r))return r.filters.map((e=>hp(e))).join(",");{const e=r.filters.map((n=>hp(n))).join(",");return`${r.op}(${e})`}}function Uw(r,e){return r instanceof dn?(function(s,o){return o instanceof dn&&s.op===o.op&&s.field.isEqual(o.field)&&Mr(s.value,o.value)})(r,e):r instanceof fr?(function(s,o){return o instanceof fr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,p)=>u&&Uw(f,o.filters[p])),!0):!1})(r,e):void xe(19439)}function zw(r){return r instanceof dn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`})(r):r instanceof fr?(function(n){return n.op.toString()+" {"+n.getFilters().map(zw).join(" ,")+"}"})(r):"Filter"}class Ox extends dn{constructor(e,n,s){super(e,n,s),this.key=Re.fromName(s.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class Vx extends dn{constructor(e,n){super(e,"in",n),this.keys=jw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kx extends dn{constructor(e,n){super(e,"not-in",n),this.keys=jw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function jw(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>Re.fromName(s.referenceValue)))}class Px extends dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wp(n)&&Su(n.arrayValue,this.value)}}class Lx extends dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}}class Ux extends dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Su(this.value.arrayValue,n)}}class zx extends dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Su(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Pe=null}}function hE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new jx(r,e,n,s,o,u,f)}function Jp(r){const e=Le(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>hp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Lu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ko(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ko(s))).join(",")),e.Pe=n}return e.Pe}function Zp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Dx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Uw(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!cE(r.startAt,e.startAt)&&cE(r.endAt,e.endAt)}function fp(r){return Re.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Bx(r,e,n,s,o,u,f,p){return new Uu(r,e,n,s,o,u,f,p)}function eg(r){return new Uu(r)}function fE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Bw(r){return r.collectionGroup!==null}function mu(r){const e=Le(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new _n(zn.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((m=>{m.isInequality()&&(p=p.add(m.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Fh(u,s))})),n.has(zn.keyField().canonicalString())||e.Te.push(new Fh(zn.keyField(),s))}return e.Te}function Cr(r){const e=Le(r);return e.Ie||(e.Ie=qx(e,mu(r))),e.Ie}function qx(r,e){if(r.limitType==="F")return hE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Fh(o.field,u)}));const n=r.endAt?new Hh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Hh(r.startAt.position,r.startAt.inclusive):null;return hE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function dp(r,e){const n=r.filters.concat([e]);return new Uu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function mp(r,e,n){return new Uu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function hf(r,e){return Zp(Cr(r),Cr(e))&&r.limitType===e.limitType}function qw(r){return`${Jp(Cr(r))}|lt:${r.limitType}`}function Lo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>zw(o))).join(", ")}]`),Lu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ko(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ko(o))).join(",")),`Target(${s})`})(Cr(r))}; limitType=${r.limitType})`}function ff(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Re.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of mu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,p,g){const m=uE(f,p,g);return f.inclusive?m<=0:m<0})(s.startAt,mu(s),o)||s.endAt&&!(function(f,p,g){const m=uE(f,p,g);return f.inclusive?m>=0:m>0})(s.endAt,mu(s),o))})(r,e)}function Hx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Hw(r){return(e,n)=>{let s=!1;for(const o of mu(r)){const u=Fx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Fx(r,e,n){const s=r.field.isKeyField()?Re.comparator(e.key,n.key):(function(u,f,p){const g=f.data.field(u),m=p.data.field(u);return g!==null&&m!==null?Yo(g,m):xe(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Rw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=new zt(Re.comparator);function fs(){return Gx}const Fw=new zt(Re.comparator);function au(...r){let e=Fw;for(const n of r)e=e.insert(n.key,n);return e}function Gw(r){let e=Fw;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Fa(){return pu()}function Qw(){return pu()}function pu(){return new Wa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Qx=new zt(Re.comparator),$x=new _n(Re.comparator);function et(...r){let e=$x;for(const n of r)e=e.add(n);return e}const Yx=new _n(Qe);function Kx(){return Yx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function $w(r){return{integerValue:""+r}}function Yw(r,e){return bx(e)?$w(e):tg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function Xx(r,e,n){return r instanceof Gh?(function(o,u){const f={fields:{[xw]:{stringValue:Cw},[Dw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Xp(u)&&(u=cf(u)),u&&(f.fields[Nw]=u),{mapValue:f}})(n,e):r instanceof Xo?Xw(r,e):r instanceof Au?Ww(r,e):(function(o,u){const f=Kw(o,u),p=dE(f)+dE(o.Ee);return cp(f)&&cp(o.Ee)?$w(p):tg(o.serializer,p)})(r,e)}function Wx(r,e,n){return r instanceof Xo?Xw(r,e):r instanceof Au?Ww(r,e):n}function Kw(r,e){return r instanceof Ru?(function(s){return cp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Gh extends df{}class Xo extends df{constructor(e){super(),this.elements=e}}function Xw(r,e){const n=Jw(e);for(const s of r.elements)n.some((o=>Mr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Au extends df{constructor(e){super(),this.elements=e}}function Ww(r,e){let n=Jw(e);for(const s of r.elements)n=n.filter((o=>!Mr(o,s)));return{arrayValue:{values:n}}}class Ru extends df{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function dE(r){return en(r.integerValue||r.doubleValue)}function Jw(r){return Wp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n){this.field=e,this.transform=n}}function Jx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Xo&&o instanceof Xo||s instanceof Au&&o instanceof Au?$o(s.elements,o.elements,Mr):s instanceof Ru&&o instanceof Ru?Mr(s.Ee,o.Ee):s instanceof Gh&&o instanceof Gh})(r.transform,e.transform)}class Zx{constructor(e,n){this.version=e,this.transformResults=n}}class vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class mf{}function e1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ju(r.key,vn.none()):new zu(r.key,r.data,vn.none());{const n=r.data,s=ei.empty();let o=new _n(zn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ma(r.key,s,new Di(o.toArray()),vn.none())}}function eN(r,e,n){r instanceof zu?(function(o,u,f){const p=o.value.clone(),g=pE(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):r instanceof ma?(function(o,u,f){if(!Ch(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=pE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(t1(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function gu(r,e,n,s){return r instanceof zu?(function(u,f,p,g){if(!Ch(u.precondition,f))return p;const m=u.value.clone(),E=gE(u.fieldTransforms,g,f);return m.setAll(E),f.convertToFoundDocument(f.version,m).setHasLocalMutations(),null})(r,e,n,s):r instanceof ma?(function(u,f,p,g){if(!Ch(u.precondition,f))return p;const m=gE(u.fieldTransforms,g,f),E=f.data;return E.setAll(t1(u)),E.setAll(m),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,p){return Ch(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,e,n)}function tN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Kw(s.transform,o||null);u!=null&&(n===null&&(n=ei.empty()),n.set(s.field,u))}return n||null}function mE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&$o(s,o,((u,f)=>Jx(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class zu extends mf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ma extends mf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function t1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function pE(r,e,n){const s=new Map;at(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,Wx(f,p,n[o]))}return s}function gE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Xx(u,f,e))}return s}class ju extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n1 extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&eN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=gu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=gu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Qw();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=e1(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Oe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,((n,s)=>mE(n,s)))&&$o(this.baseMutations,e.baseMutations,((n,s)=>mE(n,s)))}}class ng{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){at(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=(function(){return Qx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new ng(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,st;function i1(r){switch(r){case re.OK:return xe(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function r1(r){if(r===void 0)return hs("GRPC error has no .code"),re.UNKNOWN;switch(r){case fn.OK:return re.OK;case fn.CANCELLED:return re.CANCELLED;case fn.UNKNOWN:return re.UNKNOWN;case fn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case fn.INTERNAL:return re.INTERNAL;case fn.UNAVAILABLE:return re.UNAVAILABLE;case fn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case fn.NOT_FOUND:return re.NOT_FOUND;case fn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case fn.ABORTED:return re.ABORTED;case fn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case fn.DATA_LOSS:return re.DATA_LOSS;default:return xe(39323,{code:r})}}(st=fn||(fn={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=new ta([4294967295,4294967295],0);function yE(r){const e=ww().encode(r),n=new mw;return n.update(e),new Uint8Array(n.digest())}function vE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ta([n,s],0),new ta([o,u],0)]}class ig{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(s<0)throw new ou(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ta.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(ta.fromNumber(s)));return o.compare(sN)===1&&(o=new ta([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=yE(e),[s,o]=vE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new ig(u,o,n);return s.forEach((p=>f.insert(p))),f}insert(e){if(this.fe===0)return;const n=yE(e),[s,o]=vE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new pf(Oe.min(),o,new zt(Qe),fs(),et())}}class Bu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Bu(s,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class s1{constructor(e,n){this.targetId=e,this.De=n}}class a1{constructor(e,n,s=jn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class _E{constructor(){this.ve=0,this.Ce=EE(),this.Fe=jn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=et(),n=et(),s=et();return this.Ce.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:xe(38017,{changeType:u})}})),new Bu(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=EE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class aN{constructor(e){this.We=e,this.Ge=new Map,this.ze=fs(),this.je=yh(),this.Je=yh(),this.He=new zt(Qe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(fp(u))if(s===0){const f=new Re(u.path);this.Xe(n,f,In.newNoDocument(f,Oe.min()))}else at(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const p=this._t(e),g=p?this.ut(p,e,f):1;if(g!==0){this.rt(n);const m=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,m)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=la(s).toUint8Array()}catch(g){if(g instanceof Iw)return sa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ig(f,o,u)}catch(g){return sa(g instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.fe===0?null:p}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.We.lt(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.Xe(n,u,null),o++)})),o}Pt(e){const n=new Map;this.Ge.forEach(((u,f)=>{const p=this.st(f);if(p){if(u.current&&fp(p.target)){const g=new Re(p.target.path);this.Tt(g).has(f)||this.It(f,g)||this.Xe(f,g,In.newNoDocument(g,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=et();this.Je.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const m=this.st(g);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(e)));const o=new pf(e,n,this.He,this.ze,s);return this.ze=fs(),this.je=yh(),this.Je=yh(),this.He=new zt(Qe),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new _E,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new _n(Qe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new _n(Qe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new _E),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function yh(){return new zt(Re.comparator)}function EE(){return new zt(Re.comparator)}const oN={asc:"ASCENDING",desc:"DESCENDING"},lN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uN={and:"AND",or:"OR"};class cN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pp(r,e){return r.useProto3Json||Lu(e)?e:{value:e}}function Qh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function hN(r,e){return Qh(r,e.toTimestamp())}function Oi(r){return at(!!r,49232),Oe.fromTimestamp((function(n){const s=oa(n);return new Vt(s.seconds,s.nanos)})(r))}function rg(r,e){return gp(r,e).canonicalString()}function gp(r,e){const n=(function(o){return new St(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function l1(r){const e=St.fromString(r);return at(m1(e),10190,{key:e.toString()}),e}function $h(r,e){return rg(r.databaseId,e.path)}function yu(r,e){const n=l1(e);if(n.get(1)!==r.databaseId.projectId)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Re(c1(n))}function u1(r,e){return rg(r.databaseId,e)}function fN(r){const e=l1(r);return e.length===4?St.emptyPath():c1(e)}function yp(r){return new St(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function c1(r){return at(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function TE(r,e,n){return{name:$h(r,e),fields:n.value.mapValue.fields}}function dN(r,e){return"found"in e?(function(s,o){at(!!o.found,43571),o.found.name,o.found.updateTime;const u=yu(s,o.found.name),f=Oi(o.found.updateTime),p=o.found.createTime?Oi(o.found.createTime):Oe.min(),g=new ei({mapValue:{fields:o.found.fields}});return In.newFoundDocument(u,f,p,g)})(r,e):"missing"in e?(function(s,o){at(!!o.missing,3894),at(!!o.readTime,22933);const u=yu(s,o.missing),f=Oi(o.readTime);return In.newNoDocument(u,f)})(r,e):xe(7234,{result:e})}function mN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(m,E){return m.useProto3Json?(at(E===void 0||typeof E=="string",58123),jn.fromBase64String(E||"")):(at(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),jn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(m){const E=m.code===void 0?re.UNKNOWN:r1(m.code);return new ye(E,m.message||"")})(f);n=new a1(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=yu(r,s.document.name),u=Oi(s.document.updateTime),f=s.document.createTime?Oi(s.document.createTime):Oe.min(),p=new ei({mapValue:{fields:s.document.fields}}),g=In.newFoundDocument(o,u,f,p),m=s.targetIds||[],E=s.removedTargetIds||[];n=new xh(m,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=yu(r,s.document),u=s.readTime?Oi(s.readTime):Oe.min(),f=In.newNoDocument(o,u),p=s.removedTargetIds||[];n=new xh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=yu(r,s.document),u=s.removedTargetIds||[];n=new xh([],u,o,null)}else{if(!("filter"in e))return xe(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new rN(o,u),p=s.targetId;n=new s1(p,f)}}return n}function h1(r,e){let n;if(e instanceof zu)n={update:TE(r,e.key,e.value)};else if(e instanceof ju)n={delete:$h(r,e.key)};else if(e instanceof ma)n={update:TE(r,e.key,e.data),updateMask:bN(e.fieldMask)};else{if(!(e instanceof n1))return xe(16599,{Rt:e.type});n={verify:$h(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof Gh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Xo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ru)return{fieldPath:f.field.canonicalString(),increment:p.Ee};throw xe(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:hN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe(27497)})(r,e.precondition)),n}function pN(r,e){return r&&r.length>0?(at(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Oi(o.updateTime):Oi(u);return f.isEqual(Oe.min())&&(f=Oi(u)),new Zx(f,o.transformResults||[])})(n,e)))):[]}function gN(r,e){return{documents:[u1(r,e.path)]}}function yN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=u1(r,o);const u=(function(m){if(m.length!==0)return d1(fr.create(m,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(m){if(m.length!==0)return m.map((E=>(function(R){return{field:Uo(R.field),direction:EN(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=pp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{Vt:n,parent:o}}function vN(r){let e=fN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){at(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const R=f1(T);return R instanceof fr&&Lw(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((R=>(function(Y){return new Fh(zo(Y.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(R)))})(n.orderBy));let p=null;n.limit&&(p=(function(T){let R;return R=typeof T=="object"?T.value:T,Lu(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(T){const R=!!T.before,k=T.values||[];return new Hh(k,R)})(n.startAt));let m=null;return n.endAt&&(m=(function(T){const R=!T.before,k=T.values||[];return new Hh(k,R)})(n.endAt)),Bx(e,o,f,u,p,"F",g,m)}function _N(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function f1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=zo(n.unaryFilter.field);return dn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=zo(n.unaryFilter.field);return dn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=zo(n.unaryFilter.field);return dn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=zo(n.unaryFilter.field);return dn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(n){return dn.create(zo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return fr.create(n.compositeFilter.filters.map((s=>f1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(r):xe(30097,{filter:r})}function EN(r){return oN[r]}function TN(r){return lN[r]}function wN(r){return uN[r]}function Uo(r){return{fieldPath:r.canonicalString()}}function zo(r){return zn.fromServerFormat(r.fieldPath)}function d1(r){return r instanceof dn?(function(n){if(n.op==="=="){if(lE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NAN"}};if(oE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NAN"}};if(oE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(n.field),op:TN(n.op),value:n.value}}})(r):r instanceof fr?(function(n){const s=n.getFilters().map((o=>d1(o)));return s.length===1?s[0]:{compositeFilter:{op:wN(n.op),filters:s}}})(r):xe(54877,{filter:r})}function bN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function m1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,s,o,u=Oe.min(),f=Oe.min(),p=jn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.gt=e}}function AN(r){const e=vN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.Dn=new IN}addToCollectionParentIndex(e,n){return this.Dn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(aa.min())}updateCollectionGroup(e,n,s){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class IN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new _n(St.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new _n(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p1=41943040;class mi{static withCacheSize(e){return new mi(e,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(p1,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Wo(0)}static ur(){return new Wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="LruGarbageCollector",CN=1048576;function SE([r,e],[n,s]){const o=Qe(r,n);return o===0?Qe(e,s):o}class xN{constructor(e){this.Tr=e,this.buffer=new _n(SE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();SE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ee(bE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sl(n)?Ee(bE,"Ignoring IndexedDB error during garbage collection: ",n):await rl(n)}await this.Rr(3e5)}))}}class DN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(uf.ue);const s=new xN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(wE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wE):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,f,p,g,m;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,p=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(m=Date.now(),Po()<=Ze.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${T} documents in `+(m-g)+`ms
Total Duration: ${m-E}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function MN(r,e){return new DN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.changes=new Wa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?le.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&gu(s.mutation,o,Di.empty(),Vt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,et()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=et()){const o=Fa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=au();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Fa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,et())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,s,o){let u=fs();const f=pu(),p=(function(){return pu()})();return n.forEach(((g,m)=>{const E=s.get(m.key);o.has(m.key)&&(E===void 0||E.mutation instanceof ma)?u=u.insert(m.key,m):E!==void 0?(f.set(m.key,E.mutation.getFieldMask()),gu(E.mutation,m,E.mutation.getFieldMask(),Vt.now())):f.set(m.key,Di.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((m,E)=>f.set(m,E))),n.forEach(((m,E)=>{var T;return p.set(m,new VN(E,(T=f.get(m))!==null&&T!==void 0?T:null))})),p)))}recalculateAndSaveOverlays(e,n){const s=pu();let o=new zt(((f,p)=>f-p)),u=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const m=n.get(g);if(m===null)return;let E=s.get(g)||Di.empty();E=p.applyToLocalView(m,E),s.set(g,E);const T=(o.get(p.batchId)||et()).add(g);o=o.insert(p.batchId,T)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),m=g.key,E=g.value,T=Qw();E.forEach((R=>{if(!u.has(R)){const k=e1(n.get(R),s.get(R));k!==null&&T.set(R,k),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,m,T))}return le.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return Re.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Bw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):le.resolve(Fa());let p=Tu,g=u;return f.next((m=>le.forEach(m,((E,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(E)?le.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(e,m,u))).next((()=>this.computeViews(e,g,m,et()))).next((E=>({batchId:p,changes:Gw(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((s=>{let o=au();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=au();return this.indexManager.getCollectionParents(e,u).next((p=>le.forEach(p,(g=>{const m=(function(T,R){return new Uu(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,m,s,o).next((E=>{E.forEach(((T,R)=>{f=f.insert(T,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,m)=>{const E=m.getKey();f.get(E)===null&&(f=f.insert(E,In.newInvalidDocument(E)))}));let p=au();return f.forEach(((g,m)=>{const E=u.get(g);E!==void 0&&gu(E.mutation,m,Di.empty(),Vt.now()),ff(n,m)&&(p=p.insert(g,m))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return le.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:AN(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.overlays=new zt(Re.comparator),this.kr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Fa();return le.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.wt(e,n,u)})),le.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),le.resolve()}getOverlaysForCollection(e,n,s){const o=Fa(),u=n.length+1,f=new Re(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,m=g.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return le.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new zt(((m,E)=>m-E));const f=this.overlays.getIterator();for(;f.hasNext();){const m=f.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let E=u.get(m.largestBatchId);E===null&&(E=Fa(),u=u.insert(m.largestBatchId,E)),E.set(m.getKey(),m)}}const p=Fa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((m,E)=>p.set(m,E))),!(p.size()>=o)););return le.resolve(p)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new iN(n,s));let u=this.kr.get(n);u===void 0&&(u=et(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.sessionToken=jn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this.qr=new _n(Rn.Qr),this.$r=new _n(Rn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new Rn(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Rn(e,n))}Gr(e,n){e.forEach((s=>this.removeReference(s,n)))}zr(e){const n=new Re(new St([])),s=new Rn(n,e),o=new Rn(n,e+1),u=[];return this.$r.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Re(new St([])),s=new Rn(n,e),o=new Rn(n,e+1);let u=et();return this.$r.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Rn(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Rn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Re.comparator(e.key,n.key)||Qe(e.Hr,n.Hr)}static Ur(e,n){return Qe(e.Hr,n.Hr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new _n(Rn.Qr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new nN(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Yr=this.Yr.add(new Rn(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return le.resolve(f)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Kp:this.er-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Rn(n,0),o=new Rn(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(f=>{const p=this.Zr(f.Hr);u.push(p)})),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new _n(Qe);return n.forEach((o=>{const u=new Rn(o,0),f=new Rn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(p=>{s=s.add(p.Hr)}))})),le.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Re.isDocumentKey(u)||(u=u.child(""));const f=new Rn(new Re(u),0);let p=new _n(Qe);return this.Yr.forEachWhile((g=>{const m=g.key.path;return!!s.isPrefixOf(m)&&(m.length===o&&(p=p.add(g.Hr)),!0)}),f),le.resolve(this.ei(p))}ei(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){at(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return le.forEach(n.mutations,(o=>{const u=new Rn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,n){const s=new Rn(n,0),o=this.Yr.firstAfterOrEqual(s);return le.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.ni=e,this.docs=(function(){return new zt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return le.resolve(s?s.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let s=fs();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():In.newInvalidDocument(o))})),le.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=fs();const f=n.path,p=new Re(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:m,value:{document:E}}=g.getNext();if(!f.isPrefixOf(m.path))break;m.path.length>f.length+1||_x(vx(E),s)<=0||(o.has(E.key)||ff(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,n,s,o){xe(9500)}ri(e,n){return le.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new BN(this)}getSize(e){return le.resolve(this.size)}}class BN extends ON{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)})),le.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.persistence=e,this.ii=new Wa((n=>Jp(n)),Zp),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.si=0,this.oi=new sg,this.targetCount=0,this._i=Wo.ar()}forEachTarget(e,n){return this.ii.forEach(((s,o)=>n(o))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),le.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Wo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.hr(n),le.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach(((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),le.waitFor(u).next((()=>o))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return le.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),le.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),le.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return le.resolve(s)}containsKey(e,n){return le.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n){this.ai={},this.overlays={},this.ui=new uf(0),this.ci=!1,this.ci=!0,this.li=new UN,this.referenceDelegate=e(this),this.hi=new qN(this),this.indexManager=new RN,this.remoteDocumentCache=(function(o){return new jN(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new SN(n),this.Ti=new PN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new zN(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){Ee("MemoryPersistence","Starting transaction:",e);const o=new HN(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return le.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,n))))}}class HN extends Tx{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Ai=new sg,this.Ri=null}static Vi(e){return new ag(e)}get mi(){if(this.Ri)return this.Ri;throw xe(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),le.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.mi,(s=>{const o=Re.fromPath(s);return this.fi(e,o).next((u=>{u||n.removeEntry(o,Oe.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return le.or([()=>le.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Yh{constructor(e,n){this.persistence=e,this.gi=new Wa((s=>Sx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=MN(this,n)}static Vi(e,n){return new Yh(e,n)}Ii(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}yr(e){let n=0;return this.gr(e,(s=>{n++})).next((()=>n))}gr(e,n){return le.forEach(this.gi,((s,o)=>this.Sr(e,s,o).next((u=>u?le.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,(f=>this.Sr(e,f,n).next((p=>{p||(s++,u.removeEntry(f,Oe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),le.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rh(e.data.value)),n}Sr(e,n,s){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return le.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=et(),o=et();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new og(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return QR()?8:wx($n())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new FN;return this.ws(e,n,f).next((p=>{if(u.result=p,this.Rs)return this.Ss(e,n,f,p.size)}))})).next((()=>u.result))}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(Po()<=Ze.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Po()<=Ze.DEBUG&&Ee("QueryEngine","Query:",Lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Po()<=Ze.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(n))):le.resolve())}ps(e,n){if(fE(n))return le.resolve(null);let s=Cr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=mp(n,null,"F"),s=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=et(...u);return this.gs.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const m=this.bs(n,p);return this.Ds(n,m,f,g.readTime)?this.ps(e,mp(n,null,"F")):this.vs(e,m,n,g)}))))})))))}ys(e,n,s,o){return fE(n)||o.isEqual(Oe.min())?le.resolve(null):this.gs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?le.resolve(null):(Po()<=Ze.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Lo(n)),this.vs(e,f,n,yx(o,Tu)).next((p=>p)))}))}bs(e,n){let s=new _n(Hw(e));return n.forEach(((o,u)=>{ff(e,u)&&(s=s.add(u))})),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return Po()<=Ze.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Lo(n)),this.gs.getDocumentsMatchingQuery(e,n,aa.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="LocalStore",QN=3e8;class $N{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new zt(Qe),this.Ms=new Wa((u=>Jp(u)),Zp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function YN(r,e,n,s){return new $N(r,e,n,s)}async function y1(r,e){const n=Le(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let g=et();for(const m of o){f.push(m.batchId);for(const E of m.mutations)g=g.add(E.key)}for(const m of u){p.push(m.batchId);for(const E of m.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((m=>({Bs:m,removedBatchIds:f,addedBatchIds:p})))}))}))}function KN(r,e){const n=Le(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(p,g,m,E){const T=m.batch,R=T.keys();let k=le.resolve();return R.forEach((Y=>{k=k.next((()=>E.getEntry(g,Y))).next((ee=>{const F=m.docVersions.get(Y);at(F!==null,48541),ee.version.compareTo(F)<0&&(T.applyToRemoteDocument(ee,m),ee.isValidDocument()&&(ee.setReadTime(m.commitVersion),E.addEntry(ee)))}))})),k.next((()=>p.mutationQueue.removeMutationBatch(g,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=et();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(g=g.add(p.batch.mutations[m].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function v1(r){const e=Le(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function XN(r,e){const n=Le(r),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const p=[];e.targetChanges.forEach(((E,T)=>{const R=o.get(T);if(!R)return;p.push(n.hi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.hi.addMatchingKeys(u,E.addedDocuments,T))));let k=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(jn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function(ee,F,ue){return ee.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=QN?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(R,k,E)&&p.push(n.hi.updateTargetData(u,k))}));let g=fs(),m=et();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(WN(u,f,e.documentUpdates).next((E=>{g=E.Ls,m=E.ks}))),!s.isEqual(Oe.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next((T=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(E)}return le.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,m))).next((()=>g))})).then((u=>(n.Fs=o,u)))}function WN(r,e,n){let s=et(),o=et();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=fs();return n.forEach(((p,g)=>{const m=u.get(p);g.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Oe.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!m.isValidDocument()||g.version.compareTo(m.version)>0||g.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):Ee(lg,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",g.version)})),{Ls:f,ks:o}}))}function JN(r,e){const n=Le(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Kp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ZN(r,e){const n=Le(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,e).next((u=>u?(o=u,le.resolve(o)):n.hi.allocateTargetId(s).next((f=>(o=new Ks(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s}))}async function vp(r,e,n){const s=Le(r),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!sl(f))throw f;Ee(lg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function AE(r,e,n){const s=Le(r);let o=Oe.min(),u=et();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,m,E){const T=Le(g),R=T.Ms.get(E);return R!==void 0?le.resolve(T.Fs.get(R)):T.hi.getTargetData(m,E)})(s,f,Cr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Oe.min(),n?u:et()))).next((p=>(eD(s,Hx(e),p),{documents:p,qs:u})))))}function eD(r,e,n){let s=r.xs.get(e)||Oe.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(e,s)}class RE{constructor(){this.activeTargetIds=Kx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tD{constructor(){this.Fo=new RE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new RE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="ConnectivityMonitor";class CE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ee(IE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ee(IE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh=null;function _p(){return vh===null?vh=(function(){return 268435456+Math.round(2147483648*Math.random())})():vh++,"0x"+vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="RestConnection",iD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Bh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=_p(),p=this.Go(e,n.toUriEncodedString());Ee(Vm,`Sending RPC '${e}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,u);const{host:m}=new URL(p),E=el(m);return this.jo(e,p,g,s,E).then((T=>(Ee(Vm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw sa(Vm,`RPC '${e}' ${f} failed with error: `,T,"url: ",p,"request:",s),T}))}Jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+il})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Go(e,n){const s=iD[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="WebChannelConnection";class aD extends rD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const f=_p();return new Promise(((p,g)=>{const m=new pw;m.setWithCredentials(!0),m.listenOnce(gw.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Ah.NO_ERROR:const T=m.getResponseJson();Ee(Gn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),p(T);break;case Ah.TIMEOUT:Ee(Gn,`RPC '${e}' ${f} timed out`),g(new ye(re.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const R=m.getStatus();if(Ee(Gn,`RPC '${e}' ${f} failed with status:`,R,"response text:",m.getResponseText()),R>0){let k=m.getResponseJson();Array.isArray(k)&&(k=k[0]);const Y=k==null?void 0:k.error;if(Y&&Y.status&&Y.message){const ee=(function(ue){const he=ue.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(he)>=0?he:re.UNKNOWN})(Y.status);g(new ye(ee,Y.message))}else g(new ye(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else g(new ye(re.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{c_:e,streamId:f,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{Ee(Gn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);Ee(Gn,`RPC '${e}' ${f} sending request:`,o),m.send(n,"POST",E,s,15)}))}P_(e,n,s){const o=_p(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=_w(),p=vw(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");Ee(Gn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const T=f.createWebChannel(E,g);this.T_(T);let R=!1,k=!1;const Y=new sD({Ho:F=>{k?Ee(Gn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(R||(Ee(Gn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),Ee(Gn,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Yo:()=>T.close()}),ee=(F,ue,he)=>{F.listen(ue,(se=>{try{he(se)}catch(Ae){setTimeout((()=>{throw Ae}),0)}}))};return ee(T,su.EventType.OPEN,(()=>{k||(Ee(Gn,`RPC '${e}' stream ${o} transport opened.`),Y.s_())})),ee(T,su.EventType.CLOSE,(()=>{k||(k=!0,Ee(Gn,`RPC '${e}' stream ${o} transport closed`),Y.__(),this.I_(T))})),ee(T,su.EventType.ERROR,(F=>{k||(k=!0,sa(Gn,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),Y.__(new ye(re.UNAVAILABLE,"The operation could not be completed")))})),ee(T,su.EventType.MESSAGE,(F=>{var ue;if(!k){const he=F.data[0];at(!!he,16349);const se=he,Ae=(se==null?void 0:se.error)||((ue=se[0])===null||ue===void 0?void 0:ue.error);if(Ae){Ee(Gn,`RPC '${e}' stream ${o} received error:`,Ae);const Ue=Ae.status;let De=(function(C){const O=fn[C];if(O!==void 0)return r1(O)})(Ue),x=Ae.message;De===void 0&&(De=re.INTERNAL,x="Unknown error status: "+Ue+" with message "+Ae.message),k=!0,Y.__(new ye(De,x)),T.close()}else Ee(Gn,`RPC '${e}' stream ${o} received:`,he),Y.a_(he)}})),ee(p,yw.STAT_EVENT,(F=>{F.stat===op.PROXY?Ee(Gn,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===op.NOPROXY&&Ee(Gn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.o_()}),0),Y}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(r){return new cN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="PersistentStream";class _1{constructor(e,n,s,o,u,f,p,g){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ug(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(hs(n.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{e((()=>{const o=new ye(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return Ee(xE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(Ee(xE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oD extends _1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=mN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Oe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Oe.min():f.readTime?Oi(f.readTime):Oe.min()})(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=yp(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=fp(g)?{documents:gN(u,g)}:{query:yN(u,g).Vt},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=o1(u,f.resumeToken);const m=pp(u,f.expectedCount);m!==null&&(p.expectedCount=m)}else if(f.snapshotVersion.compareTo(Oe.min())>0){p.readTime=Qh(u,f.snapshotVersion.toTimestamp());const m=pp(u,f.expectedCount);m!==null&&(p.expectedCount=m)}return p})(this.serializer,e);const s=_N(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=yp(this.serializer),n.removeTarget=e,this.k_(n)}}class lD extends _1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=pN(e.writeResults,e.commitTime),s=Oi(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=yp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>h1(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{}class cD extends uD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,gp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(re.UNKNOWN,u.toString())}))}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Jo(e,gp(n,s),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ye(re.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class hD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(hs(n),this._a=!1):Ee("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="RemoteStore";class fD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{Ja(this)&&(Ee(Ka,"Restarting streams for network reachability change."),await(async function(g){const m=Le(g);m.Ia.add(4),await qu(m),m.Aa.set("Unknown"),m.Ia.delete(4),await yf(m)})(this))}))})),this.Aa=new hD(s,o)}}async function yf(r){if(Ja(r))for(const e of r.da)await e(!0)}async function qu(r){for(const e of r.da)await e(!1)}function E1(r,e){const n=Le(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),dg(n)?fg(n):al(n).x_()&&hg(n,e))}function cg(r,e){const n=Le(r),s=al(n);n.Ta.delete(e),s.x_()&&T1(n,e),n.Ta.size===0&&(s.x_()?s.B_():Ja(n)&&n.Aa.set("Unknown"))}function hg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}al(r).H_(e)}function T1(r,e){r.Ra.$e(e),al(r).Y_(e)}function fg(r){r.Ra=new aN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),al(r).start(),r.Aa.aa()}function dg(r){return Ja(r)&&!al(r).M_()&&r.Ta.size>0}function Ja(r){return Le(r).Ia.size===0}function w1(r){r.Ra=void 0}async function dD(r){r.Aa.set("Online")}async function mD(r){r.Ta.forEach(((e,n)=>{hg(r,e)}))}async function pD(r,e){w1(r),dg(r)?(r.Aa.la(e),fg(r)):r.Aa.set("Unknown")}async function gD(r,e,n){if(r.Aa.set("Online"),e instanceof a1&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ta.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ta.delete(p),o.Ra.removeTarget(p))})(r,e)}catch(s){Ee(Ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kh(r,s)}else if(e instanceof xh?r.Ra.Ye(e):e instanceof s1?r.Ra.it(e):r.Ra.et(e),!n.isEqual(Oe.min()))try{const s=await v1(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const p=u.Ra.Pt(f);return p.targetChanges.forEach(((g,m)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ta.get(m);E&&u.Ta.set(m,E.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,m)=>{const E=u.Ta.get(g);if(!E)return;u.Ta.set(g,E.withResumeToken(jn.EMPTY_BYTE_STRING,E.snapshotVersion)),T1(u,g);const T=new Ks(E.target,g,m,E.sequenceNumber);hg(u,T)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){Ee(Ka,"Failed to raise snapshot:",s),await Kh(r,s)}}async function Kh(r,e,n){if(!sl(e))throw e;r.Ia.add(1),await qu(r),r.Aa.set("Offline"),n||(n=()=>v1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ee(Ka,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await yf(r)}))}function b1(r,e){return e().catch((n=>Kh(r,n,e)))}async function vf(r){const e=Le(r),n=ca(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Kp;for(;yD(e);)try{const o=await JN(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,vD(e,o)}catch(o){await Kh(e,o)}S1(e)&&A1(e)}function yD(r){return Ja(r)&&r.Pa.length<10}function vD(r,e){r.Pa.push(e);const n=ca(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function S1(r){return Ja(r)&&!ca(r).M_()&&r.Pa.length>0}function A1(r){ca(r).start()}async function _D(r){ca(r).na()}async function ED(r){const e=ca(r);for(const n of r.Pa)e.X_(n.mutations)}async function TD(r,e,n){const s=r.Pa.shift(),o=ng.from(s,e,n);await b1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await vf(r)}async function wD(r,e){e&&ca(r).Z_&&await(async function(s,o){if((function(f){return i1(f)&&f!==re.ABORTED})(o.code)){const u=s.Pa.shift();ca(s).N_(),await b1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await vf(s)}})(r,e),S1(r)&&A1(r)}async function NE(r,e){const n=Le(r);n.asyncQueue.verifyOperationInProgress(),Ee(Ka,"RemoteStore received new credentials");const s=Ja(n);n.Ia.add(3),await qu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await yf(n)}async function bD(r,e){const n=Le(r);e?(n.Ia.delete(2),await yf(n)):e||(n.Ia.add(2),await qu(n),n.Aa.set("Unknown"))}function al(r){return r.Va||(r.Va=(function(n,s,o){const u=Le(n);return u.ia(),new oD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:dD.bind(null,r),e_:mD.bind(null,r),n_:pD.bind(null,r),J_:gD.bind(null,r)}),r.da.push((async e=>{e?(r.Va.N_(),dg(r)?fg(r):r.Aa.set("Unknown")):(await r.Va.stop(),w1(r))}))),r.Va}function ca(r){return r.ma||(r.ma=(function(n,s,o){const u=Le(n);return u.ia(),new lD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:_D.bind(null,r),n_:wD.bind(null,r),ea:ED.bind(null,r),ta:TD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.N_(),await vf(r)):(await r.ma.stop(),r.Pa.length>0&&(Ee(Ka,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new mg(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(r,e){if(hs("AsyncQueue",`${e}: ${r}`),sl(r))return new ye(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Re.comparator(n.key,s.key):(n,s)=>Re.comparator(n.key,s.key),this.keyedMap=au(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.fa=new zt(Re.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):xe(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Jo{constructor(e,n,s,o,u,f,p,g,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new Jo(e,n,Fo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class AD{constructor(){this.queries=ME(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Le(n),u=o.queries;o.queries=ME(),u.forEach(((f,p)=>{for(const g of p.wa)g.onError(s)}))})(this,new ye(re.ABORTED,"Firestore shutting down"))}}function ME(){return new Wa((r=>qw(r)),hf)}async function R1(r,e){const n=Le(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new SD,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=pg(f,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&gg(n)}async function I1(r,e){const n=Le(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function RD(r,e){const n=Le(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.wa)p.Ca(o)&&(s=!0);f.ya=o}}s&&gg(n)}function ID(r,e,n){const s=Le(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function gg(r){r.Da.forEach((e=>{e.next()}))}var Ep,OE;(OE=Ep||(Ep={})).Fa="default",OE.Cache="cache";class C1{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.key=e}}class N1{constructor(e){this.key=e}}class CD{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=et(),this.mutatedKeys=et(),this.Xa=Hw(e),this.eu=new Fo(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new DE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const R=o.get(E),k=ff(this.query,T)?T:null,Y=!!R&&this.mutatedKeys.has(R.key),ee=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let F=!1;R&&k?R.data.isEqual(k.data)?Y!==ee&&(s.track({type:3,doc:k}),F=!0):this.iu(R,k)||(s.track({type:2,doc:k}),F=!0,(g&&this.Xa(k,g)>0||m&&this.Xa(k,m)<0)&&(p=!0)):!R&&k?(s.track({type:0,doc:k}),F=!0):R&&!k&&(s.track({type:1,doc:R}),F=!0,(g||m)&&(p=!0)),F&&(k?(f=f.add(k),u=ee?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:p,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort(((E,T)=>(function(k,Y){const ee=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{At:F})}};return ee(k)-ee(Y)})(E.type,T.type)||this.Xa(E.doc,T.doc))),this.su(s),o=o!=null&&o;const p=n&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,m=g!==this.Ya;return this.Ya=g,f.length!==0||m?{snapshot:new Jo(this.query,e.eu,u,f,e.mutatedKeys,g===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:p}:{_u:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new DE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=et(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return e.forEach((s=>{this.Za.has(s)||n.push(new N1(s))})),this.Za.forEach((s=>{e.has(s)||n.push(new x1(s))})),n}uu(e){this.Ha=e.qs,this.Za=et();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Jo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const yg="SyncEngine";class xD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class ND{constructor(e){this.key=e,this.lu=!1}}class DD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Wa((p=>qw(p)),hf),this.Tu=new Map,this.Iu=new Set,this.du=new zt(Re.comparator),this.Eu=new Map,this.Au=new sg,this.Ru={},this.Vu=new Map,this.mu=Wo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function MD(r,e,n=!0){const s=P1(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await D1(s,e,n,!0),o}async function OD(r,e){const n=P1(r);await D1(n,e,!0,!1)}async function D1(r,e,n,s){const o=await ZN(r.localStore,Cr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await VD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&E1(r.remoteStore,o),p}async function VD(r,e,n,s,o){r.gu=(T,R,k)=>(async function(ee,F,ue,he){let se=F.view.nu(ue);se.Ds&&(se=await AE(ee.localStore,F.query,!1).then((({documents:x})=>F.view.nu(x,se))));const Ae=he&&he.targetChanges.get(F.targetId),Ue=he&&he.targetMismatches.get(F.targetId)!=null,De=F.view.applyChanges(se,ee.isPrimaryClient,Ae,Ue);return kE(ee,F.targetId,De._u),De.snapshot})(r,T,R,k);const u=await AE(r.localStore,e,!0),f=new CD(e,u.qs),p=f.nu(u.documents),g=Bu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),m=f.applyChanges(p,r.isPrimaryClient,g);kE(r,n,m._u);const E=new xD(e,n,f);return r.Pu.set(e,E),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),m.snapshot}async function kD(r,e,n){const s=Le(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((f=>!hf(f,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await vp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&cg(s.remoteStore,o.targetId),Tp(s,o.targetId)})).catch(rl)):(Tp(s,o.targetId),await vp(s.localStore,o.targetId,!0))}async function PD(r,e){const n=Le(r),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),cg(n.remoteStore,s.targetId))}async function LD(r,e,n){const s=FD(r);try{const o=await(function(f,p){const g=Le(f),m=Vt.now(),E=p.reduce(((k,Y)=>k.add(Y.key)),et());let T,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let Y=fs(),ee=et();return g.Os.getEntries(k,E).next((F=>{Y=F,Y.forEach(((ue,he)=>{he.isValidDocument()||(ee=ee.add(ue))}))})).next((()=>g.localDocuments.getOverlayedDocuments(k,Y))).next((F=>{T=F;const ue=[];for(const he of p){const se=tN(he,T.get(he.key).overlayedDocument);se!=null&&ue.push(new ma(he.key,se,Vw(se.value.mapValue),vn.exists(!0)))}return g.mutationQueue.addMutationBatch(k,m,ue,p)})).next((F=>{R=F;const ue=F.applyToLocalDocumentSet(T,ee);return g.documentOverlayCache.saveOverlays(k,F.batchId,ue)}))})).then((()=>({batchId:R.batchId,changes:Gw(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let m=f.Ru[f.currentUser.toKey()];m||(m=new zt(Qe)),m=m.insert(p,g),f.Ru[f.currentUser.toKey()]=m})(s,o.batchId,n),await Hu(s,o.changes),await vf(s.remoteStore)}catch(o){const u=pg(o,"Failed to persist write");n.reject(u)}}async function M1(r,e){const n=Le(r);try{const s=await XN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?at(f.lu,14607):o.removedDocuments.size>0&&(at(f.lu,42227),f.lu=!1))})),await Hu(n,s,e)}catch(s){await rl(s)}}function VE(r,e,n){const s=Le(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=Le(f);g.onlineState=p;let m=!1;g.queries.forEach(((E,T)=>{for(const R of T.wa)R.va(p)&&(m=!0)})),m&&gg(g)})(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function UD(r,e,n){const s=Le(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new zt(Re.comparator);f=f.insert(u,In.newNoDocument(u,Oe.min()));const p=et().add(u),g=new pf(Oe.min(),new Map,new zt(Qe),f,p);await M1(s,g),s.du=s.du.remove(u),s.Eu.delete(e),vg(s)}else await vp(s.localStore,e,!1).then((()=>Tp(s,e,n))).catch(rl)}async function zD(r,e){const n=Le(r),s=e.batch.batchId;try{const o=await KN(n.localStore,e);V1(n,s,null),O1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Hu(n,o)}catch(o){await rl(o)}}async function jD(r,e,n){const s=Le(r);try{const o=await(function(f,p){const g=Le(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let E;return g.mutationQueue.lookupMutationBatch(m,p).next((T=>(at(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(m,T)))).next((()=>g.mutationQueue.performConsistencyCheck(m))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(m,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,E))).next((()=>g.localDocuments.getDocuments(m,E)))}))})(s.localStore,e);V1(s,e,n),O1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Hu(s,o)}catch(o){await rl(o)}}function O1(r,e){(r.Vu.get(e)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(e)}function V1(r,e,n){const s=Le(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Tp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach((s=>{r.Au.containsKey(s)||k1(r,s)}))}function k1(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(cg(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),vg(r))}function kE(r,e,n){for(const s of n)s instanceof x1?(r.Au.addReference(s.key,e),BD(r,s)):s instanceof N1?(Ee(yg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||k1(r,s.key)):xe(19791,{yu:s})}function BD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(Ee(yg,"New document in limbo: "+n),r.Iu.add(s),vg(r))}function vg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new Re(St.fromString(e)),s=r.mu.next();r.Eu.set(s,new ND(n)),r.du=r.du.insert(n,s),E1(r.remoteStore,new Ks(Cr(eg(n.path)),s,"TargetPurposeLimboResolution",uf.ue))}}async function Hu(r,e,n){const s=Le(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((p,g)=>{f.push(s.gu(g,e,n).then((m=>{var E;if((m||n)&&s.isPrimaryClient){const T=m?!m.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(m){o.push(m);const T=og.Es(g.targetId,m);u.push(T)}})))})),await Promise.all(f),s.hu.J_(o),await(async function(g,m){const E=Le(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>le.forEach(m,(R=>le.forEach(R.Is,(k=>E.persistence.referenceDelegate.addReference(T,R.targetId,k))).next((()=>le.forEach(R.ds,(k=>E.persistence.referenceDelegate.removeReference(T,R.targetId,k)))))))))}catch(T){if(!sl(T))throw T;Ee(lg,"Failed to update sequence numbers: "+T)}for(const T of m){const R=T.targetId;if(!T.fromCache){const k=E.Fs.get(R),Y=k.snapshotVersion,ee=k.withLastLimboFreeSnapshotVersion(Y);E.Fs=E.Fs.insert(R,ee)}}})(s.localStore,u))}async function qD(r,e){const n=Le(r);if(!n.currentUser.isEqual(e)){Ee(yg,"User change. New user:",e.toKey());const s=await y1(n.localStore,e);n.currentUser=e,(function(u,f){u.Vu.forEach((p=>{p.forEach((g=>{g.reject(new ye(re.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Hu(n,s.Bs)}}function HD(r,e){const n=Le(r),s=n.Eu.get(e);if(s&&s.lu)return et().add(s.key);{let o=et();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const p=n.Pu.get(f);o=o.unionWith(p.view.tu)}return o}}function P1(r){const e=Le(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=M1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UD.bind(null,e),e.hu.J_=RD.bind(null,e.eventManager),e.hu.pu=ID.bind(null,e.eventManager),e}function FD(r){const e=Le(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jD.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return YN(this.persistence,new GN,e.initialUser,this.serializer)}Du(e){return new g1(ag.Vi,this.serializer)}bu(e){return new tD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class GD extends Xh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){at(this.persistence.referenceDelegate instanceof Yh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NN(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new g1((s=>Yh.Vi(s,n)),this.serializer)}}class wp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>VE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qD.bind(null,this.syncEngine),await bD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AD})()}createDatastore(e){const n=gf(e.databaseInfo.databaseId),s=(function(u){return new aD(u)})(e.databaseInfo);return(function(u,f,p,g){return new cD(u,f,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,p){return new fD(s,o,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>VE(this.syncEngine,n,0)),(function(){return CE.C()?new CE:new nD})())}createSyncEngine(e,n){return(function(o,u,f,p,g,m,E){const T=new DD(o,u,f,p,g,m);return E&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Le(o);Ee(Ka,"RemoteStore shutting down."),u.Ia.add(5),await qu(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wp.provider={build:()=>new wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):hs("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ye(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=Le(o),p={documents:u.map((T=>$h(f.serializer,T)))},g=await f.Jo("BatchGetDocuments",f.serializer.databaseId,St.emptyPath(),p,u.length),m=new Map;g.forEach((T=>{const R=dN(f.serializer,T);m.set(R.key.toString(),R)}));const E=[];return u.forEach((T=>{const R=m.get(T.toString());at(!!R,55234,{key:T}),E.push(R)})),E})(this.datastore,e);return n.forEach((s=>this.recordVersion(s))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new ju(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,s)=>{const o=Re.fromPath(s);this.mutations.push(new n1(o,this.precondition(o)))})),await(async function(s,o){const u=Le(s),f={writes:o.map((p=>h1(u.serializer,p)))};await u.Wo("Commit",u.serializer.databaseId,St.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw xe(50498,{Wu:e.constructor.name});n=Oe.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new ye(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Oe.min())?vn.exists(!1):vn.updateTime(n):vn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Oe.min()))throw new ye(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vn.updateTime(n)}return vn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n,s,o,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new ug(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const e=new QD(this.datastore),n=this.Ju(e);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(e){try{const n=this.updateFunction(e);return!Lu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!i1(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="FirestoreClient";class YD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Qn.UNAUTHENTICATED,this.clientId=Yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{Ee(ha,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(Ee(ha,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=pg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Pm(r,e){r.asyncQueue.verifyOperationInProgress(),Ee(ha,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await y1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>{sa("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{Ee("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{sa("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=e}async function PE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await KD(r);Ee(ha,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>NE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>NE(e.remoteStore,o))),r._onlineComponents=e}async function KD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ee(ha,"Using user provided OfflineComponentProvider");try{await Pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;sa("Error using user provided cache. Falling back to memory cache: "+n),await Pm(r,new Xh)}}else Ee(ha,"Using default OfflineComponentProvider"),await Pm(r,new GD(void 0));return r._offlineComponents}async function _g(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ee(ha,"Using user provided OnlineComponentProvider"),await PE(r,r._uninitializedComponentsProvider._online)):(Ee(ha,"Using default OnlineComponentProvider"),await PE(r,new wp))),r._onlineComponents}function XD(r){return _g(r).then((e=>e.syncEngine))}function WD(r){return _g(r).then((e=>e.datastore))}async function bp(r){const e=await _g(r),n=e.eventManager;return n.onListen=MD.bind(null,e.syncEngine),n.onUnlisten=kD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PD.bind(null,e.syncEngine),n}function JD(r,e,n={}){const s=new os;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,m){const E=new L1({next:R=>{E.Ou(),f.enqueueAndForget((()=>I1(u,T))),R.fromCache&&g.source==="server"?m.reject(new ye(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(R)},error:R=>m.reject(R)}),T=new C1(p,E,{includeMetadataChanges:!0,ka:!0});return R1(u,T)})(await bp(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firestore.googleapis.com",UE=!0;class zE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z1,this.ssl=UE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:UE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=p1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CN)throw new ye(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U1((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ox;switch(s.type){case"firstParty":return new hx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=LE.get(n);s&&(Ee("ComponentProvider","Removing Datastore"),LE.delete(n),s.terminate())})(this),Promise.resolve()}}function ZD(r,e,n,s={}){var o;r=Mi(r,_f);const u=el(e),f=r._getSettings(),p=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${n}`;u&&(RT(`https://${g}`),IT("Firestore",!0)),f.host!==z1&&f.host!==g&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},f),{host:g,ssl:u,emulatorOptions:s});if(!ra(m,p)&&(r._setSettings(m),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=Qn.MOCK_USER;else{E=LR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new ye(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Qn(R)}r._authCredentials=new lx(new Tw(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Za(this.firestore,e,this._query)}}class Gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Pu(n,Gt._jsonSchema))return new Gt(e,s||null,new Re(St.fromString(n.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:mn("string",Gt._jsonSchemaVersion),referencePath:mn("string")};class na extends Za{constructor(e,n,s){super(e,n,eg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new Re(e))}withConverter(e){return new na(this.firestore,e,this._path)}}function nu(r,e,...n){if(r=Qt(r),bw("collection","path",e),r instanceof _f){const s=St.fromString(e,...n);return J0(s),new na(r,null,s)}{if(!(r instanceof Gt||r instanceof na))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(St.fromString(e,...n));return J0(s),new na(r.firestore,null,s)}}function di(r,e,...n){if(r=Qt(r),arguments.length===1&&(e=Yp.newId()),bw("doc","path",e),r instanceof _f){const s=St.fromString(e,...n);return W0(s),new Gt(r,null,new Re(s))}{if(!(r instanceof Gt||r instanceof na))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(St.fromString(e,...n));return W0(s),new Gt(r.firestore,r instanceof na?r.converter:null,new Re(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="AsyncQueue";class BE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ug(this,"async_queue_retry"),this.oc=()=>{const s=km();s&&Ee(jE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new os;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!sl(e))throw e;Ee(jE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,hs("INTERNAL UNHANDLED ERROR: ",qE(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=mg.createAndSchedule(this,e,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&xe(47125,{hc:qE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function qE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ds extends _f{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new BE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BE(e),this._firestoreClient=void 0,await e}}}function eM(r,e){const n=typeof r=="object"?r:DT(),s=typeof r=="string"?r:Bh,o=kp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=kR("firestore");u&&ZD(o,...u)}return o}function Fu(r){if(r._terminated)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||tM(r),r._firestoreClient}function tM(r){var e,n,s;const o=r._freezeSettings(),u=(function(p,g,m,E){return new Ix(p,g,m,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,U1(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new YD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ni(jn.fromBase64String(e))}catch(n){throw new ye(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ni(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,Ni._jsonSchema))return Ni.fromBase64String(e.bytes)}}Ni._jsonSchemaVersion="firestore/bytes/1.0",Ni._jsonSchema={type:mn("string",Ni._jsonSchemaVersion),bytes:mn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xr._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,xr._jsonSchema))return new xr(e.latitude,e.longitude)}}xr._jsonSchemaVersion="firestore/geoPoint/1.0",xr._jsonSchema={type:mn("string",xr._jsonSchemaVersion),latitude:mn("number"),longitude:mn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,Nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Nr(e.vectorValues);throw new ye(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:mn("string",Nr._jsonSchemaVersion),vectorValues:mn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=/^__.*__$/;class iM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new zu(e,this.data,n,this.fieldTransforms)}}class j1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ma(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function B1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ec:r})}}class Ef{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Wh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(B1(this.Ec)&&nM.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class rM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||gf(e)}Dc(e,n,s,o=!1){return new Ef({Ec:e,methodName:n,bc:s,path:zn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qu(r){const e=r._freezeSettings(),n=gf(r._databaseId);return new rM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Eg(r,e,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);Ag("Data must be an object, but it was:",f,s);const p=q1(s,f);let g,m;if(u.merge)g=new Di(f.fieldMask),m=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const R=Sp(e,T,n);if(!f.contains(R))throw new ye(re.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);F1(E,R)||E.push(R)}g=new Di(E),m=f.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,m=f.fieldTransforms;return new iM(new ei(p),g,m)}class $u extends Gu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $u}}function sM(r,e,n){return new Ef({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Tg extends Gu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=sM(this,e,!0),s=this.vc.map((u=>ll(u,n))),o=new Xo(s);return new Zw(e.path,o)}isEqual(e){return e instanceof Tg&&ra(this.vc,e.vc)}}class wg extends Gu{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new Ru(e.serializer,Yw(e.serializer,this.Cc));return new Zw(e.path,n)}isEqual(e){return e instanceof wg&&this.Cc===e.Cc}}function bg(r,e,n,s){const o=r.Dc(1,e,n);Ag("Data must be an object, but it was:",o,s);const u=[],f=ei.empty();da(s,((g,m)=>{const E=Rg(e,g,n);m=Qt(m);const T=o.gc(E);if(m instanceof $u)u.push(E);else{const R=ll(m,T);R!=null&&(u.push(E),f.set(E,R))}}));const p=new Di(u);return new j1(f,p,o.fieldTransforms)}function Sg(r,e,n,s,o,u){const f=r.Dc(1,e,n),p=[Sp(e,s,n)],g=[o];if(u.length%2!=0)throw new ye(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)p.push(Sp(e,u[R])),g.push(u[R+1]);const m=[],E=ei.empty();for(let R=p.length-1;R>=0;--R)if(!F1(m,p[R])){const k=p[R];let Y=g[R];Y=Qt(Y);const ee=f.gc(k);if(Y instanceof $u)m.push(k);else{const F=ll(Y,ee);F!=null&&(m.push(k),E.set(k,F))}}const T=new Di(m);return new j1(E,T,f.fieldTransforms)}function aM(r,e,n,s=!1){return ll(n,r.Dc(s?4:3,e))}function ll(r,e){if(H1(r=Qt(r)))return Ag("Unsupported field value:",e,r),q1(r,e);if(r instanceof Gu)return(function(s,o){if(!B1(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const p of s){let g=ll(p,o.yc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Qt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Yw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Vt.fromDate(s);return{timestampValue:Qh(o.serializer,u)}}if(s instanceof Vt){const u=new Vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,u)}}if(s instanceof xr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ni)return{bytesValue:o1(o.serializer,s._byteString)};if(s instanceof Gt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:rg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Nr)return(function(f,p){return{mapValue:{fields:{[Mw]:{stringValue:Ow},[qh]:{arrayValue:{values:f.toArray().map((m=>{if(typeof m!="number")throw p.wc("VectorValues must only contain numeric values.");return tg(p.serializer,m)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${lf(s)}`)})(r,e)}function q1(r,e){const n={};return Rw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(r,((s,o)=>{const u=ll(o,e.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function H1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Vt||r instanceof xr||r instanceof Ni||r instanceof Gt||r instanceof Gu||r instanceof Nr)}function Ag(r,e,n){if(!H1(n)||!Sw(n)){const s=lf(n);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Sp(r,e,n){if((e=Qt(e))instanceof ol)return e._internalPath;if(typeof e=="string")return Rg(r,e);throw Wh("Field path arguments must be of type string or ",r,!1,void 0,n)}const oM=new RegExp("[~\\*/\\[\\]]");function Rg(r,e,n){if(e.search(oM)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ol(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Wh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ye(re.INVALID_ARGUMENT,p+r+g)}function F1(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ig("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lM extends Jh{data(){return super.data()}}function Ig(r,e){return typeof e=="string"?Rg(r,e):e instanceof ol?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cg{}class uM extends Cg{}function cM(r,e,...n){let s=[];e instanceof Cg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof xg)).length,p=u.filter((g=>g instanceof Tf)).length;if(f>1||f>0&&p>0)throw new ye(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Tf extends uM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Tf(e,n,s)}_apply(e){const n=this._parse(e);return Q1(e._query,n),new Za(e.firestore,e.converter,dp(e._query,n))}_parse(e){const n=Qu(e.firestore);return(function(u,f,p,g,m,E,T){let R;if(m.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ye(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){GE(T,E);const Y=[];for(const ee of T)Y.push(FE(g,u,ee));R={arrayValue:{values:Y}}}else R=FE(g,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||GE(T,E),R=aM(p,f,T,E==="in"||E==="not-in");return dn.create(m,E,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hM(r,e,n){const s=e,o=Ig("where",r);return Tf._create(o,s,n)}class xg extends Cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)Q1(f,g),f=dp(f,g)})(e._query,n),new Za(e.firestore,e.converter,dp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function FE(r,e,n){if(typeof(n=Qt(n))=="string"){if(n==="")throw new ye(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bw(e)&&n.indexOf("/")!==-1)throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(St.fromString(n));if(!Re.isDocumentKey(s))throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return aE(r,new Re(s))}if(n instanceof Gt)return aE(r,n._key);throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(n)}.`)}function GE(r,e){if(!Array.isArray(r)||r.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Q1(r,e){const n=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $1{convertValue(e,n="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return da(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[qh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>en(f.doubleValue)));return new Nr(u)}convertGeoPoint(e){return new xr(en(e.latitude),en(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=cf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const n=oa(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=St.fromString(e);at(m1(s),9688,{name:e});const o=new bu(s.get(1),s.get(3)),u=new Re(s.popFirst(5));return o.isEqual(n)||hs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class fM extends $1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}class jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends Jh{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ig("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:mn("string",ia._jsonSchemaVersion),bundleSource:mn("string","DocumentSnapshot"),bundleName:mn("string"),bundle:mn("string")};class Nh extends ia{data(e={}){return super.data(e)}}class Ga{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new jo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Nh(this._firestore,this._userDataWriter,s.key,s,new jo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new Nh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new jo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Nh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new jo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,E=-1;return p.type!==0&&(m=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:dM(p.type),doc:g,oldIndex:m,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:mn("string",Ga._jsonSchemaVersion),bundleSource:mn("string","QuerySnapshot"),bundleName:mn("string"),bundle:mn("string")};class wf extends $1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function QE(r){r=Mi(r,Za);const e=Mi(r.firestore,ds),n=Fu(e),s=new wf(e);return G1(r._query),JD(n,r._query).then((o=>new Ga(e,s,r,o)))}function iu(r,e,n){r=Mi(r,Gt);const s=Mi(r.firestore,ds),o=Ng(r.converter,e,n);return bf(s,[Eg(Qu(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,vn.none())])}function ru(r,e,n,...s){r=Mi(r,Gt);const o=Mi(r.firestore,ds),u=Qu(o);let f;return f=typeof(e=Qt(e))=="string"||e instanceof ol?Sg(u,"updateDoc",r._key,e,n,s):bg(u,"updateDoc",r._key,e),bf(o,[f.toMutation(r._key,vn.exists(!0))])}function Lm(r){return bf(Mi(r.firestore,ds),[new ju(r._key,vn.none())])}function Um(r,...e){var n,s,o;r=Qt(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||HE(e[f])||(u=e[f++]);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(HE(e[f])){const T=e[f];e[f]=(n=T.next)===null||n===void 0?void 0:n.bind(T),e[f+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[f+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let g,m,E;if(r instanceof Gt)m=Mi(r.firestore,ds),E=eg(r._key.path),g={next:T=>{e[f]&&e[f](mM(m,r,T))},error:e[f+1],complete:e[f+2]};else{const T=Mi(r,Za);m=Mi(T.firestore,ds),E=T._query;const R=new wf(m);g={next:k=>{e[f]&&e[f](new Ga(m,R,T,k))},error:e[f+1],complete:e[f+2]},G1(r._query)}return(function(R,k,Y,ee){const F=new L1(ee),ue=new C1(k,F,Y);return R.asyncQueue.enqueueAndForget((async()=>R1(await bp(R),ue))),()=>{F.Ou(),R.asyncQueue.enqueueAndForget((async()=>I1(await bp(R),ue)))}})(Fu(m),E,p,g)}function bf(r,e){return(function(s,o){const u=new os;return s.asyncQueue.enqueueAndForget((async()=>LD(await XD(s),o,u))),u.promise})(Fu(r),e)}function mM(r,e,n){const s=n.docs.get(e._key),o=new wf(r);return new ia(r,o,e._key,s,new jo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Qu(e)}set(e,n,s){this._verifyNotCommitted();const o=Xs(e,this._firestore),u=Ng(o.converter,n,s),f=Eg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,vn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Xs(e,this._firestore);let f;return f=typeof(n=Qt(n))=="string"||n instanceof ol?Sg(this._dataReader,"WriteBatch.update",u._key,n,s,o):bg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Xs(e,this._firestore);return this._mutations=this._mutations.concat(new ju(n._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xs(r,e){if((r=Qt(r)).firestore!==e)throw new ye(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Qu(e)}get(e){const n=Xs(e,this._firestore),s=new fM(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return xe(24041);const u=o[0];if(u.isFoundDocument())return new Jh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Jh(this._firestore,s,n._key,null,n.converter);throw xe(18433,{doc:u})}))}set(e,n,s){const o=Xs(e,this._firestore),u=Ng(o.converter,n,s),f=Eg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,n,s,...o){const u=Xs(e,this._firestore);let f;return f=typeof(n=Qt(n))=="string"||n instanceof ol?Sg(this._dataReader,"Transaction.update",u._key,n,s,o):bg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(e){const n=Xs(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM extends yM{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Xs(e,this._firestore),s=new wf(this._firestore);return super.get(e).then((o=>new ia(this._firestore,s,n._key,o._document,new jo(!1,!1),n.converter)))}}function _M(r,e,n){r=Mi(r,ds);const s=Object.assign(Object.assign({},pM),n);return(function(u){if(u.maxAttempts<1)throw new ye(re.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,p){const g=new os;return u.asyncQueue.enqueueAndForget((async()=>{const m=await WD(u);new $D(u.asyncQueue,m,p,f,g).zu()})),g.promise})(Fu(r),(o=>e(new vM(r,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(){return new $u("deleteField")}function TM(...r){return new Tg("arrayUnion",r)}function wM(r){return new wg("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(r){return Fu(r=Mi(r,ds)),new gM(r,(e=>bf(r,e)))}(function(e,n=!0){(function(o){il=o})(tl),Go(new Qa("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new ds(new ux(s.getProvider("auth-internal")),new fx(f,s.getProvider("app-check-internal")),(function(m,E){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ye(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(m.options.projectId,E)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Zs(Q0,$0,e),Zs(Q0,$0,"esm2017")})();var SM="firebase",AM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs(SM,AM,"app");const RM={apiKey:"AIzaSyA6gk3B0uFG3y7v4jhCWb9zzlPSmX0CjdU",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.appspot.com",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},Y1=NT(RM),Zi=sx(Y1),An=eM(Y1),zm=new is;(async()=>{try{await fu(Zi,uw)}catch{try{await fu(Zi,sf)}catch{await fu(Zi,sp)}}})();var Dg={};(function r(e,n,s,o){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",p=(function(){if(!e.OffscreenCanvas)return!1;try{var q=new OffscreenCanvas(1,1),w=q.getContext("2d");w.fillRect(0,0,1,1);var z=q.transferToImageBitmap();w.createPattern(z,"no-repeat")}catch{return!1}return!0})();function g(){}function m(q){var w=n.exports.Promise,z=w!==void 0?w:e.Promise;return typeof z=="function"?new z(q):(q(g,g),null)}var E=(function(q,w){return{transform:function(z){if(q)return z;if(w.has(z))return w.get(z);var X=new OffscreenCanvas(z.width,z.height),ae=X.getContext("2d");return ae.drawImage(z,0,0),w.set(z,X),X},clear:function(){w.clear()}}})(p,new Map),T=(function(){var q=Math.floor(16.666666666666668),w,z,X={},ae=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(w=function(ce){var pe=Math.random();return X[pe]=requestAnimationFrame(function de(Se){ae===Se||ae+q-1<Se?(ae=Se,delete X[pe],ce()):X[pe]=requestAnimationFrame(de)}),pe},z=function(ce){X[ce]&&cancelAnimationFrame(X[ce])}):(w=function(ce){return setTimeout(ce,q)},z=function(ce){return clearTimeout(ce)}),{frame:w,cancel:z}})(),R=(function(){var q,w,z={};function X(ae){function ce(pe,de){ae.postMessage({options:pe||{},callback:de})}ae.init=function(de){var Se=de.transferControlToOffscreen();ae.postMessage({canvas:Se},[Se])},ae.fire=function(de,Se,Ce){if(w)return ce(de,null),w;var $e=Math.random().toString(36).slice(2);return w=m(function(Ye){function lt(gt){gt.data.callback===$e&&(delete z[$e],ae.removeEventListener("message",lt),w=null,E.clear(),Ce(),Ye())}ae.addEventListener("message",lt),ce(de,$e),z[$e]=lt.bind(null,{data:{callback:$e}})}),w},ae.reset=function(){ae.postMessage({reset:!0});for(var de in z)z[de](),delete z[de]}}return function(){if(q)return q;if(!s&&u){var ae=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{q=new Worker(URL.createObjectURL(new Blob([ae])))}catch(ce){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ce),null}X(q)}return q}})(),k={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function Y(q,w){return w?w(q):q}function ee(q){return q!=null}function F(q,w,z){return Y(q&&ee(q[w])?q[w]:k[w],z)}function ue(q){return q<0?0:Math.floor(q)}function he(q,w){return Math.floor(Math.random()*(w-q))+q}function se(q){return parseInt(q,16)}function Ae(q){return q.map(Ue)}function Ue(q){var w=String(q).replace(/[^0-9a-f]/gi,"");return w.length<6&&(w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2]),{r:se(w.substring(0,2)),g:se(w.substring(2,4)),b:se(w.substring(4,6))}}function De(q){var w=F(q,"origin",Object);return w.x=F(w,"x",Number),w.y=F(w,"y",Number),w}function x(q){q.width=document.documentElement.clientWidth,q.height=document.documentElement.clientHeight}function I(q){var w=q.getBoundingClientRect();q.width=w.width,q.height=w.height}function C(q){var w=document.createElement("canvas");return w.style.position="fixed",w.style.top="0px",w.style.left="0px",w.style.pointerEvents="none",w.style.zIndex=q,w}function O(q,w,z,X,ae,ce,pe,de,Se){q.save(),q.translate(w,z),q.rotate(ce),q.scale(X,ae),q.arc(0,0,1,pe,de,Se),q.restore()}function U(q){var w=q.angle*(Math.PI/180),z=q.spread*(Math.PI/180);return{x:q.x,y:q.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:q.startVelocity*.5+Math.random()*q.startVelocity,angle2D:-w+(.5*z-Math.random()*z),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:q.color,shape:q.shape,tick:0,totalTicks:q.ticks,decay:q.decay,drift:q.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:q.gravity*3,ovalScalar:.6,scalar:q.scalar,flat:q.flat}}function B(q,w){w.x+=Math.cos(w.angle2D)*w.velocity+w.drift,w.y+=Math.sin(w.angle2D)*w.velocity+w.gravity,w.velocity*=w.decay,w.flat?(w.wobble=0,w.wobbleX=w.x+10*w.scalar,w.wobbleY=w.y+10*w.scalar,w.tiltSin=0,w.tiltCos=0,w.random=1):(w.wobble+=w.wobbleSpeed,w.wobbleX=w.x+10*w.scalar*Math.cos(w.wobble),w.wobbleY=w.y+10*w.scalar*Math.sin(w.wobble),w.tiltAngle+=.1,w.tiltSin=Math.sin(w.tiltAngle),w.tiltCos=Math.cos(w.tiltAngle),w.random=Math.random()+2);var z=w.tick++/w.totalTicks,X=w.x+w.random*w.tiltCos,ae=w.y+w.random*w.tiltSin,ce=w.wobbleX+w.random*w.tiltCos,pe=w.wobbleY+w.random*w.tiltSin;if(q.fillStyle="rgba("+w.color.r+", "+w.color.g+", "+w.color.b+", "+(1-z)+")",q.beginPath(),f&&w.shape.type==="path"&&typeof w.shape.path=="string"&&Array.isArray(w.shape.matrix))q.fill(fe(w.shape.path,w.shape.matrix,w.x,w.y,Math.abs(ce-X)*.1,Math.abs(pe-ae)*.1,Math.PI/10*w.wobble));else if(w.shape.type==="bitmap"){var de=Math.PI/10*w.wobble,Se=Math.abs(ce-X)*.1,Ce=Math.abs(pe-ae)*.1,$e=w.shape.bitmap.width*w.scalar,Ye=w.shape.bitmap.height*w.scalar,lt=new DOMMatrix([Math.cos(de)*Se,Math.sin(de)*Se,-Math.sin(de)*Ce,Math.cos(de)*Ce,w.x,w.y]);lt.multiplySelf(new DOMMatrix(w.shape.matrix));var gt=q.createPattern(E.transform(w.shape.bitmap),"no-repeat");gt.setTransform(lt),q.globalAlpha=1-z,q.fillStyle=gt,q.fillRect(w.x-$e/2,w.y-Ye/2,$e,Ye),q.globalAlpha=1}else if(w.shape==="circle")q.ellipse?q.ellipse(w.x,w.y,Math.abs(ce-X)*w.ovalScalar,Math.abs(pe-ae)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI):O(q,w.x,w.y,Math.abs(ce-X)*w.ovalScalar,Math.abs(pe-ae)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI);else if(w.shape==="star")for(var Ve=Math.PI/2*3,Ct=4*w.scalar,$t=8*w.scalar,xn=w.x,En=w.y,Bn=5,tn=Math.PI/Bn;Bn--;)xn=w.x+Math.cos(Ve)*$t,En=w.y+Math.sin(Ve)*$t,q.lineTo(xn,En),Ve+=tn,xn=w.x+Math.cos(Ve)*Ct,En=w.y+Math.sin(Ve)*Ct,q.lineTo(xn,En),Ve+=tn;else q.moveTo(Math.floor(w.x),Math.floor(w.y)),q.lineTo(Math.floor(w.wobbleX),Math.floor(ae)),q.lineTo(Math.floor(ce),Math.floor(pe)),q.lineTo(Math.floor(X),Math.floor(w.wobbleY));return q.closePath(),q.fill(),w.tick<w.totalTicks}function N(q,w,z,X,ae){var ce=w.slice(),pe=q.getContext("2d"),de,Se,Ce=m(function($e){function Ye(){de=Se=null,pe.clearRect(0,0,X.width,X.height),E.clear(),ae(),$e()}function lt(){s&&!(X.width===o.width&&X.height===o.height)&&(X.width=q.width=o.width,X.height=q.height=o.height),!X.width&&!X.height&&(z(q),X.width=q.width,X.height=q.height),pe.clearRect(0,0,X.width,X.height),ce=ce.filter(function(gt){return B(pe,gt)}),ce.length?de=T.frame(lt):Ye()}de=T.frame(lt),Se=Ye});return{addFettis:function($e){return ce=ce.concat($e),Ce},canvas:q,promise:Ce,reset:function(){de&&T.cancel(de),Se&&Se()}}}function ht(q,w){var z=!q,X=!!F(w||{},"resize"),ae=!1,ce=F(w,"disableForReducedMotion",Boolean),pe=u&&!!F(w||{},"useWorker"),de=pe?R():null,Se=z?x:I,Ce=q&&de?!!q.__confetti_initialized:!1,$e=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ye;function lt(Ve,Ct,$t){for(var xn=F(Ve,"particleCount",ue),En=F(Ve,"angle",Number),Bn=F(Ve,"spread",Number),tn=F(Ve,"startVelocity",Number),dr=F(Ve,"decay",Number),pa=F(Ve,"gravity",Number),Or=F(Ve,"drift",Number),jt=F(Ve,"colors",Ae),Vr=F(Ve,"ticks",Number),yt=F(Ve,"shapes"),Dt=F(Ve,"scalar"),ki=!!F(Ve,"flat"),Pi=De(Ve),Li=xn,Ui=[],ft=q.width*Pi.x,Nn=q.height*Pi.y;Li--;)Ui.push(U({x:ft,y:Nn,angle:En,spread:Bn,startVelocity:tn,color:jt[Li%jt.length],shape:yt[he(0,yt.length)],ticks:Vr,decay:dr,gravity:pa,drift:Or,scalar:Dt,flat:ki}));return Ye?Ye.addFettis(Ui):(Ye=N(q,Ui,Se,Ct,$t),Ye.promise)}function gt(Ve){var Ct=ce||F(Ve,"disableForReducedMotion",Boolean),$t=F(Ve,"zIndex",Number);if(Ct&&$e)return m(function(tn){tn()});z&&Ye?q=Ye.canvas:z&&!q&&(q=C($t),document.body.appendChild(q)),X&&!Ce&&Se(q);var xn={width:q.width,height:q.height};de&&!Ce&&de.init(q),Ce=!0,de&&(q.__confetti_initialized=!0);function En(){if(de){var tn={getBoundingClientRect:function(){if(!z)return q.getBoundingClientRect()}};Se(tn),de.postMessage({resize:{width:tn.width,height:tn.height}});return}xn.width=xn.height=null}function Bn(){Ye=null,X&&(ae=!1,e.removeEventListener("resize",En)),z&&q&&(document.body.contains(q)&&document.body.removeChild(q),q=null,Ce=!1)}return X&&!ae&&(ae=!0,e.addEventListener("resize",En,!1)),de?de.fire(Ve,xn,Bn):lt(Ve,xn,Bn)}return gt.reset=function(){de&&de.reset(),Ye&&Ye.reset()},gt}var kt;function te(){return kt||(kt=ht(null,{useWorker:!0,resize:!0})),kt}function fe(q,w,z,X,ae,ce,pe){var de=new Path2D(q),Se=new Path2D;Se.addPath(de,new DOMMatrix(w));var Ce=new Path2D;return Ce.addPath(Se,new DOMMatrix([Math.cos(pe)*ae,Math.sin(pe)*ae,-Math.sin(pe)*ce,Math.cos(pe)*ce,z,X])),Ce}function we(q){if(!f)throw new Error("path confetti are not supported in this browser");var w,z;typeof q=="string"?w=q:(w=q.path,z=q.matrix);var X=new Path2D(w),ae=document.createElement("canvas"),ce=ae.getContext("2d");if(!z){for(var pe=1e3,de=pe,Se=pe,Ce=0,$e=0,Ye,lt,gt=0;gt<pe;gt+=2)for(var Ve=0;Ve<pe;Ve+=2)ce.isPointInPath(X,gt,Ve,"nonzero")&&(de=Math.min(de,gt),Se=Math.min(Se,Ve),Ce=Math.max(Ce,gt),$e=Math.max($e,Ve));Ye=Ce-de,lt=$e-Se;var Ct=10,$t=Math.min(Ct/Ye,Ct/lt);z=[$t,0,0,$t,-Math.round(Ye/2+de)*$t,-Math.round(lt/2+Se)*$t]}return{type:"path",path:w,matrix:z}}function He(q){var w,z=1,X="#000000",ae='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof q=="string"?w=q:(w=q.text,z="scalar"in q?q.scalar:z,ae="fontFamily"in q?q.fontFamily:ae,X="color"in q?q.color:X);var ce=10*z,pe=""+ce+"px "+ae,de=new OffscreenCanvas(ce,ce),Se=de.getContext("2d");Se.font=pe;var Ce=Se.measureText(w),$e=Math.ceil(Ce.actualBoundingBoxRight+Ce.actualBoundingBoxLeft),Ye=Math.ceil(Ce.actualBoundingBoxAscent+Ce.actualBoundingBoxDescent),lt=2,gt=Ce.actualBoundingBoxLeft+lt,Ve=Ce.actualBoundingBoxAscent+lt;$e+=lt+lt,Ye+=lt+lt,de=new OffscreenCanvas($e,Ye),Se=de.getContext("2d"),Se.font=pe,Se.fillStyle=X,Se.fillText(w,gt,Ve);var Ct=1/z;return{type:"bitmap",bitmap:de.transferToImageBitmap(),matrix:[Ct,0,0,Ct,-$e*Ct/2,-Ye*Ct/2]}}n.exports=function(){return te().apply(this,arguments)},n.exports.reset=function(){te().reset()},n.exports.create=ht,n.exports.shapeFromPath=we,n.exports.shapeFromText=He})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Dg,!1);const IM=Dg.exports;Dg.exports.create;const CM=({className:r})=>P.jsxs("span",{className:"relative inline-block "+(r||""),children:[P.jsx(vT,{className:"w-5 h-5"}),P.jsx("span",{className:"absolute -right-1 -top-1",children:P.jsx(Xm,{className:"w-3.5 h-3.5"})})]});(async()=>{try{await fu(Zi,sf)}catch{}})();function xM(r,e){return`${window.location.origin}/#/invite?listId=${encodeURIComponent(r)}&token=${encodeURIComponent(e)}`}async function NM(r){try{return await navigator.clipboard.writeText(r),!0}catch{return window.prompt("  :",r),!1}}async function lu(){try{try{await fu(Zi,sf)}catch{}await mC(Zi,zm)}catch(r){const e=r==null?void 0:r.code;if(e==="auth/popup-blocked"||e==="auth/cancelled-popup-request"||e==="auth/popup-closed-by-user"){await L0(Zi,zm);return}await L0(Zi,zm)}}function DM(r){const e=encodeURIComponent(r);window.open(`https://wa.me/?text=${e}`,"_blank")}const MM=()=>{const[r]=cR(),e=Cp(),n=r.get("listId"),s=r.get("token"),[o,u]=M.useState(Zi.currentUser),[f,p]=M.useState(!0),[g,m]=M.useState(!1),[E,T]=M.useState(null);M.useEffect(()=>ew(Zi,Y=>{u(Y),p(!1)}),[]);const R=async()=>{T(null);try{await lu()}catch(Y){T((Y==null?void 0:Y.message)||" ")}},k=async()=>{if(!n||!s){T("    (listId  token)");return}if(!o){await R();return}m(!0),T(null);try{await _M(An,async Y=>{var se;const ee=di(An,"lists",n),F=await Y.get(ee);if(!F.exists())throw new Error("  ");const he=(se=F.data().pendingInvites)==null?void 0:se[s];if(!he)throw new Error("  ");if(he.expiresAt<Date.now())throw new Error("  ");Y.update(ee,{sharedWith:TM(o.uid),[`pendingInvites.${s}`]:EM()})}),localStorage.setItem("activeListId",n),e("/")}catch(Y){T((Y==null?void 0:Y.message)||"  ")}finally{m(!1)}};return f?P.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif'},children:[P.jsx("style",{children:`
        html, body, #root {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        *, *::before, *::after,
        input, button, select, textarea, option, label {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        input::placeholder, textarea::placeholder {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
      `}),P.jsx(uu,{className:"animate-spin text-indigo-600"})]}):P.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:P.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[P.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:P.jsx(Wm,{className:"w-10 h-10"})}),P.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?P.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,E?P.jsx("p",{className:"text-rose-500 font-bold break-words",children:E}):null,o?P.jsx("button",{onClick:k,disabled:g,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:g?P.jsx(uu,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):P.jsxs("button",{onClick:R,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[P.jsx(_T,{className:"w-4 h-4"}),"   "]})]})})},K1={:1,:1,:2,:2,:2,:2,:2,:3,:3,:4,:4,:5,:5,:6,:6,:7,:7,:8,:9,:9,:10,:10},Wi=r=>(r||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),Ap=r=>(r||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\b\b/g,",").replace(/\b\b/g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim();function Zh(r){return r?/^\d+$/.test(r)?!0:K1[r]!=null:!1}function OM(r){if(!r)return null;if(/^\d+$/.test(r))return Number(r);const e=K1[r];return e??null}const VM=new Set(["","","","","","","","","","","","","","","","","","","","","","","",""]);function kM(r){return VM.has(r)}const jm=new Set([" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","' "," "," "," "]),Bm=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),qm=new Set(["","","","","","","","","","","","",""]);function PM(r){const e=[];let n=0;const s=o=>o&&o.startsWith("")&&o.length>1?o.slice(1):o;for(;n<r.length;){const o=r[n],u=n+1<r.length?r[n+1]:"";if(o&&u&&!Zh(o)&&!Zh(u)){const f=`${o} ${u}`,p=s(u),g=`${o} ${p}`;if(jm.has(f)||jm.has(g)){e.push(jm.has(f)?f:g),n+=2;continue}if(Bm.has(u)||Bm.has(p)){e.push(Bm.has(u)?f:g),n+=2;continue}if(qm.has(u)||qm.has(p)){e.push(qm.has(u)?f:g),n+=2;continue}}e.push(o),n+=1}return e}function LM(r){const e=Wi(r);if(!e)return[];let n=e.split(" ").filter(Boolean);if(n=PM(n),n.length===0)return[];const s=[];let o=1,u=[];const f=g=>{const m=u.join(" ").trim();if(m){const E=Math.max(1,Number(g??o??1));s.push({name:m,qty:E})}o=1,u=[]},p=g=>g+1<n.length?n[g+1]:"";for(let g=0;g<n.length;g++){const m=n[g];if(Zh(m)){const T=Math.max(1,OM(m)||1),R=p(g);if(u.length===0){o=T;continue}if(!R){f(T);continue}f(),o=T;continue}u.push(m);const E=p(g);u.length===1&&kM(u[0])||m===""||m===""||E===""||E===""||Zh(E)||f()}return u.length>0&&f(),s.map(g=>({name:g.name.replace(/\s+/g," ").trim(),qty:Math.max(1,Number(g.qty||1))})).filter(g=>g.name.length>0)}function UM(r){const e=Ap(r),n=Wi(e);if(!n)return[];const o=n.replace(/\s+\s+/g,",").replace(/\s+\s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+\s+/g,",").split(/,|\n/).map(f=>f.trim()).filter(Boolean),u=[];for(const f of o){const p=LM(f);for(const g of p)u.push(g)}return u}const zM=["","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","'"," "," "," ","","","","","","",""," "," ","",""," ","","","","","",""," ",""," "," "," "," "," "," ","",""," "];function Rr(r){return r.trim().replace(/\s+/g," ").replace(/[]/g,'"').replace(/[]/g,"'").toLowerCase()}const X1="shopping_list_item_history_v1",W1="shopping_list_hidden_suggestions_v1",jM=1440*60*1e3;function Mg(){try{const r=localStorage.getItem(W1);if(!r)return{};const e=JSON.parse(r);if(!e||typeof e!="object"||Array.isArray(e))return{};const n={};for(const[s,o]of Object.entries(e))typeof s=="string"&&typeof o=="number"&&Number.isFinite(o)&&(n[s]=o);return n}catch{return{}}}function Og(r){try{localStorage.setItem(W1,JSON.stringify(r))}catch{}}function $E(){const r=Mg(),e=Date.now(),n=[];let s=!1;for(const[o,u]of Object.entries(r)){if(typeof u!="number"||!Number.isFinite(u)){delete r[o],s=!0;continue}u>e?n.push(o):(delete r[o],s=!0)}return s&&Og(r),n}function BM(r){const e=Mg();e[r]=Date.now()+jM,Og(e)}function Hm(r){try{const e=Mg();e[r]&&(delete e[r],Og(e))}catch{}}function qM(){try{const r=localStorage.getItem(X1);if(!r)return{};const e=JSON.parse(r);return!e||typeof e!="object"?{}:e}catch{return{}}}function YE(r){try{localStorage.setItem(X1,JSON.stringify(r))}catch{}}function HM(r){const e=r.query,n=Rr(e),s=r.limit??8;if(!n)return[];const o=new Map,u=(m,E)=>{const T=m.trim();if(!T)return;const R=Rr(T);if(!R||r.hiddenKeys.has(R))return;const k=o.get(R);if(k){k.sources.add(E);return}o.set(R,{name:T,key:R,sources:new Set([E])})};for(const m of r.favorites)u(m,"favorite");for(const m of r.items)u(m.name,"items");for(const[m,E]of Object.entries(r.history)){u((E==null?void 0:E.name)||m,"history");const T=o.get(m);T&&(T.history=E)}for(const m of zM)u(m,"static");const f=Array.from(o.values()),p=new Map;for(const m of r.items){const E=Rr(m.name);E&&(p.has(E)||p.set(E,{id:m.id,quantity:m.quantity}))}const g=m=>{const E=m.key,T=E.startsWith(n),R=!T&&E.includes(n);if(!T&&!R)return-1/0;let k=T?120:70;if(m.sources.has("favorite")&&(k+=45),m.sources.has("history")&&(k+=35),m.sources.has("items")&&(k+=20),m.sources.has("static")&&(k+=10),m.history){const Y=Math.max(0,m.history.count||0),ee=Math.max(0,m.history.lastUsed||0);k+=Math.min(30,Math.log2(Y+1)*8);const F=(Date.now()-ee)/(1e3*60*60*24),ue=Math.max(0,20-F);k+=Math.min(20,ue)}return k};return f.map(m=>({c:m,s:g(m)})).filter(m=>Number.isFinite(m.s)).sort((m,E)=>E.s-m.s).slice(0,s).map(m=>{const E=p.get(m.c.key);return{name:m.c.name,key:m.c.key,canHide:m.c.sources.has("history")&&!m.c.sources.has("favorite"),isInList:!!E,itemId:E==null?void 0:E.id,currentQty:E==null?void 0:E.quantity}})}const Fm="shoppingListLang",KE=()=>{try{const r=(navigator.language||"").toLowerCase();return r.startsWith("he")||r.startsWith("iw")?"he":r.startsWith("ru")?"ru":r.startsWith("ar")?"ar":"en"}catch{return"he"}},FM={he:"he-IL",en:"en-US",ru:"ru-RU",ar:"ar-SA"},Gm={he:{" ":" ","  ":"  ","    ,    .":"    ,    .","  ":"  ","   ":"   ",:"",:"",:""," ":" ",:"","  ":"  ","  ":"  "," :    ,  ":" :    ,  ","  -    ":"  -    ",":":":",":":":","  -   ":"  -   ","    ":"    ","    .  Chrome  Edge.":"    .  Chrome  Edge.","  ?":"  ?",:"",:"",:"",:"","  ":"  "," ":" ","   ":"   ","   ?":"   ?","     .":"     .",:""," ":" "},en:{" ":"The list is empty","  ":"Sign in with Google","    ,    .":"To use the list and invite friends, please sign in with Google.","  ":"My Easy List","   ":"Leave shared list",:"WhatsApp",:"Language",:"Sign out"," ":"Clear list",:"Favorites","  ":"Items that return to the cart","  ":"No favorites yet"," :    ,  ":"Voice commands: hold the mic, release to run","  -    ":"Listening now - speak and release to run",":":"Heard:",":":"Examples:","  -   ":"Speak now - release to run","    ":"Please sign in before voice commands","    .  Chrome  Edge.":"Your browser does not support speech recognition. Try Chrome or Edge.","  ?":"What to add to the list?",:"List",:"Bought",:"Calendar",:"Share","  ":"Share shopping list"," ":"List link","   ":"Join link to my list","   ?":"Clear the entire list?","     .":"This will delete all items from the list.",:"Cancel"," ":"Delete all"," ":"List cleared","   ":"Could not find an item to delete","   ":"Could not find an item to mark","   ":"Could not find an item to increase","   ":"Could not find an item to decrease","     - ...":"Stopping due to a very long phrase - running...","   (    )":"Microphone is unavailable (another app may be using it)","   ":"Could not start listening","   -  ":"No audio captured - try again","...":"Running...","       ":"You can disconnect only from a shared list you do not own",:"Error"},ru:{" ":" ","  ":"  Google","    ,    .":"     ,   Google.","  ":"My Easy List","   ":"   ",:"WhatsApp",:"",:""," ":" ",:"","  ":"   ","  ":"  "," :    ,  ":" :  ,   ","  -    ":" -     ",":":":",":":":","  -   ":" -   ","    ":"     ","    .  Chrome  Edge.":"     .  Chrome  Edge.","  ?":"   ?",:"",:"",:"",:"","  ":"  "," ":"  ","   ":"     ","   ?":"  ?","     .":"     .",:""," ":" "," ":" ","   ":"    ","   ":"    ","   ":"    ","   ":"    ","     - ...":" -    - ...","   (    )":"  (,    )","   ":"   ","   -  ":"   -   ","...":"...","       ":"     ,     ",:""},ar:{" ":" ","  ":"   Google","    ,    .":"        Google.","  ":"My Easy List","   ":"  ",:"",:"",:" "," ":" ",:"","  ":"   ","  ":"   "," :    ,  ":" :       ","  -    ":"  -   ",":":":",":":":","  -   ":"  -  ","    ":"     ","    .  Chrome  Edge.":"     .  Chrome  Edge.","  ?":"     ",:"",:" ",:"",:"","  ":"  "," ":" ","   ":"   ","   ?":"  ","     .":"     .",:""," ":" "," ":"  ","   ":"   ","   ":"   ","   ":"   ","   ":"   ","     - ...":"     -  ...","   (    )":"   (    )","   ":"   ","   -  ":"    -   ","...":" ...","       ":"        ",:""}},GM=r=>{switch(r){case"en":return'"eggs tomato bell pepper two cucumbers" | "two cucumbers" | "clear list"';case"ru":return'"    " | " " | " "';case"ar":return'"   " | "" | " "';case"he":default:return'"    " | " " | " "'}},QM=()=>{const[r,e]=M.useState(null),[n,s]=M.useState(()=>{try{const S=localStorage.getItem(Fm);return S==="he"||S==="en"||S==="ru"||S==="ar"?S:KE()}catch{return KE()}});M.useEffect(()=>{try{localStorage.setItem(Fm,n)}catch{}},[n]);const o=M.useMemo(()=>{const S=Gm[n]||Gm.he;return L=>S[L]??Gm.he[L]??L},[n]),u=M.useMemo(()=>FM[n]??"he-IL",[n]),[f,p]=M.useState(!1),g=M.useRef(null),[m,E]=M.useState(null),[T,R]=M.useState([]),[k,Y]=M.useState(()=>new Set),[ee,F]=M.useState(()=>new Set),[ue,he]=M.useState(()=>new Set),[se,Ae]=M.useState(()=>new Set),[Ue,De]=M.useState(()=>new Set),[x,I]=M.useState(()=>new Set),[C,O]=M.useState(()=>new Set),U=M.useRef(new Set),[B,N]=M.useState({}),[ht,kt]=M.useState([]),[te,fe]=M.useState("list"),[we,He]=M.useState(""),q=M.useRef(null),[w,z]=M.useState(!1),[X,ae]=M.useState(-1),ce=M.useRef({}),pe=M.useRef(null);M.useEffect(()=>{ce.current=qM()},[]),M.useEffect(()=>{if(U.current.size===0)return;const S=Array.from(U.current);for(const L of S)T.find(J=>J.id===L&&!J.isPurchased)&&(U.current.delete(L),N(J=>({...J,[L]:"from"})),requestAnimationFrame(()=>{N(J=>({...J,[L]:"to"}))}),window.setTimeout(()=>{N(J=>{const ge={...J};return delete ge[L],ge})},260))},[T]);const[de,Se]=M.useState(!1),[Ce,$e]=M.useState(!1),Ye=M.useRef(null),[lt,gt]=M.useState(!1),[Ve,Ct]=M.useState(!1),[$t,xn]=M.useState(()=>{const S=new Date,L=new Date(S);L.setMinutes(0,0,0),L.setHours(18),L.getTime()<S.getTime()&&L.setHours(S.getHours()+1);const H=J=>String(J).padStart(2,"0");return`${L.getFullYear()}-${H(L.getMonth()+1)}-${H(L.getDate())}T${H(L.getHours())}:${H(L.getMinutes())}`}),[En,Bn]=M.useState(60),[tn,dr]=M.useState(!0),[pa,Or]=M.useState(!1),[jt,Vr]=M.useState(!1),[yt,Dt]=M.useState(!1),[ki]=M.useState("hold_to_talk"),[Pi,Li]=M.useState(""),[Ui,ft]=M.useState(null),Nn=M.useRef(null),vt=M.useRef(!1),nn=M.useRef([]),Yt=M.useRef(""),kr=M.useRef(!1),ga=1800,Tn=M.useRef(null);M.useEffect(()=>{if(Pi){if(yt){Tn.current&&(window.clearTimeout(Tn.current),Tn.current=null);return}return Tn.current&&window.clearTimeout(Tn.current),Tn.current=window.setTimeout(()=>{Li(""),Tn.current=null},ga),()=>{Tn.current&&(window.clearTimeout(Tn.current),Tn.current=null)}}},[Pi,yt]);const Dn=M.useRef(null),rn=M.useRef(null),Yn=M.useRef(!1),Kt=M.useRef(null),[it,pn]=M.useState({id:null,dx:0}),Kn=M.useRef({}),ti=70,qn=110,zi=S=>{const L=S;return L?!!L.closest("button, input, textarea, select, a, [data-noswipe='true']"):!1},gn=S=>L=>{zi(L.target)||(Yn.current=!1,Dn.current={x:L.clientX,y:L.clientY,id:S,pointerId:L.pointerId},rn.current={x:L.clientX,y:L.clientY},pn({id:S,dx:0}),Kn.current[S]=!1)},ya=S=>L=>{const H=Dn.current;if(!H||H.id!==S||H.pointerId!==L.pointerId)return;rn.current={x:L.clientX,y:L.clientY};const J=L.clientX-H.x,ge=Math.max(-qn,Math.min(qn,J)),_e=Math.abs(J)>=ti;if(_e&&!Kn.current[S]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),Kn.current[S]=!0),_e||(Kn.current[S]=!1),!Kt.current&&Math.abs(J)>10&&Math.abs(J)>=Math.abs(L.clientY-H.y))try{L.currentTarget.setPointerCapture(L.pointerId),Kt.current={el:L.currentTarget,pointerId:L.pointerId}}catch{}pn({id:S,dx:ge})},mr=S=>async L=>{const H=Dn.current,J=rn.current;Dn.current=null;try{Kt.current&&Kt.current.el.releasePointerCapture(H.pointerId)}catch{}if(Kt.current=null,rn.current=null,!H||H.id!==S){pn({id:null,dx:0});return}const ge=(J==null?void 0:J.x)??L.clientX,_e=(J==null?void 0:J.y)??L.clientY,ve=ge-H.x,Pe=_e-H.y;if(pn({id:null,dx:0}),!(Math.abs(ve)<ti||Math.abs(ve)<Math.abs(Pe))){Yn.current=!0;try{ve>0?ys(S):Xt.has(S)||await vs(S)}finally{window.setTimeout(()=>{Yn.current=!1},0)}}},pr=S=>L=>{if(zi(L.target))return;const H=L.touches[0];H&&(Yn.current=!1,Dn.current={x:H.clientX,y:H.clientY,id:S,pointerId:-1},rn.current={x:H.clientX,y:H.clientY},pn({id:S,dx:0}),Kn.current[S]=!1)},va=S=>L=>{const H=Dn.current;if(!H||H.id!==S)return;const J=L.touches[0];if(!J)return;rn.current={x:J.clientX,y:J.clientY};const ge=J.clientX-H.x,_e=J.clientY-H.y,ve=Math.abs(ge)>=ti;if(ve&&!Kn.current[S]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),Kn.current[S]=!0),ve||(Kn.current[S]=!1),Math.abs(ge)<6||Math.abs(ge)<Math.abs(_e))return;try{L.preventDefault()}catch{}const Pe=Math.max(-qn,Math.min(qn,ge));pn({id:S,dx:Pe})},_a=S=>async L=>{const H=Dn.current,J=rn.current;if(Dn.current=null,rn.current=null,!H||H.id!==S){pn({id:null,dx:0});return}const ge=J?J.x-H.x:0;if(Math.abs(ge)<ti){pn({id:null,dx:0});return}Yn.current=!0,ge>0?ys(S):Xt.has(S)||await vs(S),pn({id:null,dx:0})},tr=()=>{Dn.current=null,rn.current=null;try{Kt.current&&Kt.current.el.releasePointerCapture(Kt.current.pointerId)}catch{}Kt.current=null,pn({id:null,dx:0})},Pr=M.useRef(null),pi=M.useRef([]),At=M.useRef(!1);M.useEffect(()=>{Pr.current=(m==null?void 0:m.id)??null},[m==null?void 0:m.id]),M.useEffect(()=>{pi.current=T},[T]),M.useEffect(()=>{if(!T||T.length===0){At.current=!1;return}const S=T.every(L=>L.isPurchased);S&&!At.current&&(At.current=!0,IM({particleCount:140,spread:75,origin:{y:.65}})),S||(At.current=!1)},[T]),M.useEffect(()=>{if(!Ui)return;const S=setTimeout(()=>ft(null),2500);return()=>clearTimeout(S)},[Ui]),M.useEffect(()=>ew(Zi,async S=>{try{if(e(S),dr(!1),!S){E(null),R([]),kt([]);return}Vr(!0);const L=cM(nu(An,"lists"),hM("sharedWith","array-contains",S.uid)),H=await QE(L);if(H.empty){const J=di(nu(An,"lists")),ge={id:J.id,title:" ",ownerUid:S.uid,sharedWith:[S.uid],createdAt:Date.now(),updatedAt:Date.now()};await iu(J,ge),E(ge),localStorage.setItem("activeListId",J.id)}else{const J=localStorage.getItem("activeListId"),ge=J?H.docs.find(ve=>ve.id===J)??H.docs[0]:H.docs[0],_e=ge.data();E({..._e,id:ge.id}),localStorage.setItem("activeListId",ge.id)}Vr(!1)}finally{Or(!0)}}),[]),M.useEffect(()=>{if(!(m!=null&&m.id))return;const S=di(An,"lists",m.id),L=nu(S,"items"),H=nu(S,"favorites"),J=Um(S,ve=>{ve.exists()&&E({...ve.data(),id:ve.id})}),ge=Um(L,ve=>{const Pe=ve.docs.map(Fe=>Fe.data());R(Pe)}),_e=Um(H,ve=>{const Pe=ve.docs.map(Fe=>{const Be=Fe.data();return{id:Fe.id,name:String((Be==null?void 0:Be.name)||""),createdAt:Number((Be==null?void 0:Be.createdAt)||0)}});Pe.sort((Fe,Be)=>Be.createdAt-Fe.createdAt),kt(Pe)});return()=>{J(),ge(),_e()}},[m==null?void 0:m.id]);const Xt=M.useMemo(()=>{const S=new Set;for(const L of ht)S.add(L.id);return S},[ht]),gi=M.useMemo(()=>{const S=new Set,L=[];for(const H of ht){const J=Wi(H.name);J&&(S.has(J)||(S.add(J),L.push(H)))}return L},[ht]),gr=M.useMemo(()=>T.filter(S=>!S.isPurchased).sort((S,L)=>L.createdAt-S.createdAt),[T]),ni=M.useMemo(()=>T.filter(S=>S.isPurchased).sort((S,L)=>(L.purchasedAt||0)-(S.purchasedAt||0)),[T]),Ea=S=>{const L=S.trim();if(!L)return;const H=Rr(L);if(!H)return;const J=ce.current[H],ge={name:L,count:((J==null?void 0:J.count)||0)+1,lastUsed:Date.now()};ce.current={...ce.current,[H]:ge},YE(ce.current)},yi=M.useRef(new Set);M.useEffect(()=>{yi.current=new Set($E())},[]);const sn=M.useMemo(()=>{const S=new Set($E());return yi.current=S,HM({query:we,favorites:(ht??[]).map(L=>L.name),items:T??[],history:ce.current,hiddenKeys:S,limit:8})},[we,ht,T]),Lr=()=>{pe.current&&window.clearTimeout(pe.current),pe.current=window.setTimeout(()=>{z(!1),ae(-1)},120)},ji=()=>{pe.current&&window.clearTimeout(pe.current),z(!0)},vi=async S=>{if(S.isInList&&S.itemId){const L=(S.currentQty??1)+1;await Bt(S.itemId,1);const H=S.key||Rr(S.name);H&&(Hm(H),yi.current.delete(H)),ft(`  -   -${L}`),He(""),ae(-1),z(!1),window.requestAnimationFrame(()=>{var J;return(J=q.current)==null?void 0:J.focus()});return}He(S.name),ae(-1),z(!1),window.requestAnimationFrame(()=>{var L;return(L=q.current)==null?void 0:L.focus()})},Ur=S=>{const L=S.key||Rr(S.name);if(!L)return;const H={...ce.current};H[L]&&(delete H[L],ce.current=H,YE(H));const J=new Set(yi.current);J.add(L),yi.current=J,BM(L),z(!1),ae(-1),window.requestAnimationFrame(()=>{var ge;return(ge=q.current)==null?void 0:ge.focus()})},_i=async S=>{if(S&&S.preventDefault(),!r){await lu();return}if(!(m!=null&&m.id))return;const L=we.trim();if(!L)return;const H=Rr(L),J=T.find(ve=>Rr(ve.name)===H);if(J){await Bt(J.id,1),H&&(Hm(H),yi.current.delete(H)),Ea(J.name),He(""),z(!1),ae(-1);return}const ge=crypto.randomUUID(),_e={id:ge,name:L,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await iu(di(An,"lists",m.id,"items",ge),_e),H&&(Hm(H),yi.current.delete(H)),Ea(L),He(""),z(!1),ae(-1)},xt=async S=>{if(!(m!=null&&m.id))return;const L=T.find(J=>J.id===S);if(!L)return;const H=!L.isPurchased;await ru(di(An,"lists",m.id,"items",S),{isPurchased:H,purchasedAt:H?Date.now():null})},gs=240,yr=S=>{const L=T.find(H=>H.id===S);if(!L||L.isPurchased){xt(S);return}Y(H=>{const J=new Set(H);return J.add(S),J}),window.setTimeout(()=>{xt(S).finally(()=>{Y(H=>{const J=new Set(H);return J.delete(S),J})})},gs)},Bt=async(S,L)=>{if(!(m!=null&&m.id))return;if(L>0){await ru(di(An,"lists",m.id,"items",S),{quantity:wM(L)});return}const H=T.find(J=>J.id===S);H&&await ru(di(An,"lists",m.id,"items",S),{quantity:Math.max(1,H.quantity+L)})},Bi=async S=>{m!=null&&m.id&&await Lm(di(An,"lists",m.id,"items",S))},ys=S=>{m!=null&&m.id&&(x.has(S)||(I(L=>{const H=new Set(L);return H.add(S),H}),window.setTimeout(()=>{Bi(S).finally(()=>{I(L=>{const H=new Set(L);return H.delete(S),H})})},240)))},vs=async S=>{if(!(m!=null&&m.id))return;const L=di(An,"lists",m.id,"favorites",S);if(Xt.has(S)){await Lm(L);return}const H=T.find(_e=>_e.id===S),J=String((H==null?void 0:H.name)||""),ge=Wi(J);ge&&ht.some(ve=>Wi(ve.name)===ge)||(await iu(L,{name:J,createdAt:Date.now()}),he(_e=>{const ve=new Set(_e);return ve.add(S),ve}),window.setTimeout(()=>{he(_e=>{const ve=new Set(_e);return ve.delete(S),ve})},260))},Ta=async S=>{m!=null&&m.id&&await Lm(di(An,"lists",m.id,"favorites",S))},eo=S=>{m!=null&&m.id&&(C.has(S)||(O(L=>{const H=new Set(L);return H.add(S),H}),window.setTimeout(()=>{Ta(S).finally(()=>{O(L=>{const H=new Set(L);return H.delete(S),H})})},240)))},nr=async()=>{const S=Pr.current||(m==null?void 0:m.id);if(!S)return;const L=nu(An,"lists",S,"items"),H=await QE(L);if(H.empty){gt(!1);return}const J=H.docs;let ge=0;for(;ge<J.length;){const _e=bM(An),ve=J.slice(ge,ge+450);for(const Pe of ve)_e.delete(Pe.ref);await _e.commit(),ge+=ve.length}gt(!1)},vr=async()=>{if(!r)return await lu(),null;if(!(m!=null&&m.id))return null;const S=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),L=Date.now()+2880*60*1e3;return await ru(di(An,"lists",m.id),{[`pendingInvites.${S}`]:{createdAt:Date.now(),expiresAt:L}}),xM(m.id,S)},ii=async()=>{const S=await vr();if(S){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:o(" "),text:o("   "),url:S});return}}catch{}await NM(S),Se(!0),setTimeout(()=>Se(!1),2e3)}},Mn=(S,L)=>{const[H,J]=S.split("T"),[ge,_e,ve]=H.split("-").map(Ne=>parseInt(Ne,10)),[Pe,Fe]=J.split(":").map(Ne=>parseInt(Ne,10)),Be=new Date(ge,_e-1,ve,Pe,Fe,0,0),tt=new Date(Be.getTime()+Math.max(15,L)*6e4),ot=Ne=>String(Ne).padStart(2,"0"),qt=Ne=>`${Ne.getFullYear()}${ot(Ne.getMonth()+1)}${ot(Ne.getDate())}T${ot(Ne.getHours())}${ot(Ne.getMinutes())}00`,an=`${qt(Be)}/${qt(tt)}`,Hn=encodeURIComponent("  "),Xn=encodeURIComponent("   -     "),On=encodeURIComponent("Asia/Jerusalem");return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${Hn}&dates=${encodeURIComponent(an)}&details=${Xn}&ctz=${On}`},to=()=>{const S=Mn($t,En),L=navigator.userAgent||"",H=/Android/i.test(L),J=/iPhone|iPad|iPod/i.test(L);if(H){const ge=S.replace(/^https:\/\//i,"intent://")+"#Intent;scheme=https;package=com.google.android.calendar;end";window.location.href=ge,window.setTimeout(()=>{window.location.href=S},700);return}if(J){window.location.href="googlecalendar://",window.setTimeout(()=>{window.location.href=S},700);return}window.open(S,"_blank","noopener,noreferrer")},ul=()=>{const S=T.filter(Ne=>!Ne.isPurchased),L="",H="",J="",ge="",ve=(()=>{var Pt;const Ne=wi=>{const Wt=String(wi||"").toLowerCase();return Wt?Wt==="he"||Wt.startsWith("he")||Wt.startsWith("iw")?"he":Wt==="en"||Wt.startsWith("en")?"en":Wt==="ru"||Wt.startsWith("ru")?"ru":Wt==="ar"||Wt.startsWith("ar")?"ar":null:null};try{const wi=["shoppingListLang",Fm,"appLang","appLanguage","uiLang","lang","language","selectedLanguage"];for(const io of wi){const ar=Ne(localStorage.getItem(io));if(ar)return ar}const Wt=Ne(n);if(Wt)return Wt;const sr=Ne((Pt=document==null?void 0:document.documentElement)==null?void 0:Pt.lang);if(sr)return sr}catch{}return"he"})(),Pe={he:" ",en:"My list",ru:" ",ar:""},Fe={he:"  ",en:"The list is currently empty",ru:"  ",ar:"  "},Be=((m==null?void 0:m.title)||"").trim(),tt=Be===Pe.he||Be===Pe.en||Be===Pe.ru||Be===Pe.ar,ot=Be?tt?Pe[ve]:Be:Pe[ve],qt=S.length>0?S.map(Ne=>(Ne.quantity||1)<=1?`${L}${Ne.name}${H}`:`${L}${Ne.name} X ${J}${Ne.quantity}${ge}${H}`).join(`
`):`${L}(${Fe[ve]||Fe.he})${H}`,an=`*${ot}:*`,Hn={he:"    ",en:"Sent from My Easy List ",ru:"  My Easy List ",ar:"   My Easy List "},Xn=Hn[ve]||Hn.he,On=`${an}

${qt}

${Xn}`;DM(On)},qi=M.useRef(null),ir=M.useRef(null),Ei=M.useRef(null),[dt,Rt]=M.useState({id:null,dx:0,rawDx:0}),Ti=M.useRef({}),ri=60,rr=110,rt=async S=>{if(!(m!=null&&m.id))return{targetId:null,created:!1};const L=Rr(S.name),H=T.find(_e=>!_e.isPurchased&&Rr(_e.name)===L);if(H)return Ae(_e=>{const ve=new Set(_e);return ve.add(H.id),ve}),window.setTimeout(()=>{Ae(_e=>{const ve=new Set(_e);return ve.delete(H.id),ve})},260),{targetId:H.id,created:!1};De(_e=>{const ve=new Set(_e);return ve.add(S.id),ve}),window.setTimeout(()=>{De(_e=>{const ve=new Set(_e);return ve.delete(S.id),ve})},260);const J=crypto.randomUUID(),ge={id:J,name:S.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};return U.current.add(J),await iu(di(An,"lists",m.id,"items",J),ge),{targetId:J,created:!0}},zr=S=>L=>{zi(L.target)||(qi.current={x:L.clientX,y:L.clientY,id:S,pointerId:L.pointerId},ir.current={x:L.clientX,y:L.clientY},Rt({id:S,dx:0,rawDx:0}),Ti.current[S]=!1)},_r=S=>L=>{const H=qi.current;if(!H||H.id!==S)return;ir.current={x:L.clientX,y:L.clientY};const J=L.clientX-H.x,ge=L.clientY-H.y,_e=Math.abs(J)>=ri;if(_e&&!Ti.current[S]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),Ti.current[S]=!0),_e||(Ti.current[S]=!1),!Ei.current&&Math.abs(J)>10&&Math.abs(ge)<=Math.abs(J)*1.2)try{L.currentTarget.setPointerCapture(L.pointerId),Ei.current={el:L.currentTarget,pointerId:L.pointerId}}catch{}if(Math.abs(ge)>Math.abs(J)*1.6)return;const ve=Math.max(-rr,Math.min(rr,J));Rt({id:S,dx:ve,rawDx:J})},si=S=>async L=>{const H=qi.current,J=ir.current;qi.current=null;try{Ei.current&&H&&Ei.current.el.releasePointerCapture(H.pointerId)}catch{}if(Ei.current=null,ir.current=null,Rt({id:null,dx:0,rawDx:0}),!H||H.id!==S)return;const ge=(J==null?void 0:J.x)??L.clientX,_e=(J==null?void 0:J.y)??L.clientY,ve=ge-H.x,Pe=_e-H.y;if(Math.abs(ve)<ri||Math.abs(Pe)>Math.abs(ve)*1.6)return;const Fe=ht.find(Be=>Be.id===S);ve>0?eo(S):Fe&&await rt(Fe)},cl=()=>{qi.current=null,ir.current=null,Ei.current=null,Rt({id:null,dx:0,rawDx:0})},Er=S=>{const L=Wi(S),H=T.find(ge=>Wi(ge.name)===L);return H||T.find(ge=>Wi(ge.name).includes(L)||L.includes(Wi(ge.name)))||null},no=async(S,L)=>{const H=Pr.current||(m==null?void 0:m.id);if(!H)return;const J=pi.current||T,ge=S.trim();if(!ge)return;const _e=J.find(Fe=>!Fe.isPurchased&&Wi(Fe.name)===Wi(ge));if(_e){await ru(di(An,"lists",H,"items",_e.id),{quantity:L});return}const ve=crypto.randomUUID(),Pe={id:ve,name:ge,quantity:L,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await iu(di(An,"lists",H,"items",ve),Pe)},wa=(S,L)=>{const J=(S||"").trim().toLowerCase().replace(/[^\p{L}\p{N}\s]/gu," ").replace(/\s+/g," ").trim();switch(L){case"en":return[/^clear( the)? list$/,/^empty( the)? list$/,/\b(clear|empty)\b.*\b(list)\b/,/\b(delete|remove)\b.*\b(all|everything|all items|items)\b/,/\b(delete|remove)\b.*\b(list)\b/].some(_e=>_e.test(J));case"ru":return[/^()?\s+(|)$/,/^()?\s+(|)$/,/^()?\s+$/,/^()?\s+$/,/\b(()?|()?|()?|(|))\b.*\b((|))\b/,/\b(()?|()?)\b.*\b()\b/].some(_e=>_e.test(J));case"ar":return[/^(|)\s+()$/,/^(|)\s+()$/,/\b(||)\b.*\b()\b/,/\b(|)\b.*\b()\b/].some(_e=>_e.test(J));case"he":default:return[/(|||||||||)\s*(\s*)?(\s*)?(\s*)?(|)?/,/^(||)$/].some(_e=>_e.test(J))||J.includes("")&&J.includes("")&&(J.includes("")||J.includes(""))||J.includes("")&&(J.includes("")||J.includes(""))}},hl=async S=>{if(!(Pr.current||(m==null?void 0:m.id)))return;const H=Wi(Ap(S));if(!H)return;if(wa(H,n)){await nr(),ft(o(" "));return}if(/^(|||)\s+/.test(H)){const Be=H.replace(/^(|||)\s+/,"").trim(),tt=Er(Be);if(!tt){ft(o("   "));return}ys(tt.id),ft(`: ${tt.name}`);return}const J=H.match(/^(||)\s+(.+)\s+(||)$/);if(J){const Be=J[2].trim(),tt=Er(Be);if(!tt){ft(o("   "));return}tt.isPurchased||await xt(tt.id),ft(` : ${tt.name}`);return}const ge=H.match(/^(||)\s+(.+)$/);if(ge){const Be=ge[2].trim(),tt=Er(Be);return tt?(await Bt(tt.id,1),ft(`: ${tt.name}`)):ft(o("   "))}const _e=H.match(/^(||)\s+(.+)$/);if(_e){const Be=_e[2].trim(),tt=Er(Be);return tt?(await Bt(tt.id,-1),ft(`: ${tt.name}`)):ft(o("   "))}const ve=H.match(/^(|||)(?:\s+)?\s+(.+)$/),Pe=ve?ve[2]:H,Fe=UM(Pe);if(Fe.length!==0)for(const Be of Fe)await no(Be.name,Be.qty)},fl=()=>{const S=window.SpeechRecognition||window.webkitSpeechRecognition;return S||null},ai=()=>{const S=fl();if(!S){alert(o("    .  Chrome  Edge."));return}if(!r){ft(o("    ")),lu();return}if(nn.current=[],Yt.current="",kr.current=!1,vt.current=!0,Li(""),Dt(!0),ft(o("  -   ")),Nn.current){try{Nn.current.stop()}catch{}Nn.current=null}const L=new S;Nn.current=L,L.lang=u,L.interimResults=!0,L.maxAlternatives=1,L.continuous=!0;const H=3e3,J=9e4;let ge=!1,_e=Date.now(),ve=null,Pe=null;const Fe=()=>{ve!=null&&window.clearTimeout(ve),Pe!=null&&window.clearTimeout(Pe),ve=null,Pe=null},Be=()=>{Tn.current!=null&&(window.clearTimeout(Tn.current),Tn.current=null)},tt=()=>{vt.current&&ge&&(ve!=null&&window.clearTimeout(ve),ve=window.setTimeout(()=>{if(!vt.current)return;Date.now()-_e>=H&&Nt()},H+50))};Pe=window.setTimeout(()=>{vt.current&&(ft(o("     - ...")),Nt())},J),L.onstart=()=>{},L.onaudiostart=()=>{},L.onspeechstart=()=>{},L.onresult=ot=>{try{let qt="";const an=ot.results;if(!an)return;for(let Xn=ot.resultIndex??0;Xn<((an==null?void 0:an.length)??0);Xn++){const On=an[Xn],Ne=On==null?void 0:On[0],Pt=Ap(String((Ne==null?void 0:Ne.transcript)||""));Pt&&(On.isFinal?(nn.current.push(Pt),Yt.current=""):(qt=Pt,Yt.current=Pt))}const Hn=qt||(nn.current.length?nn.current[nn.current.length-1]:"");Hn&&Li(Hn),ge=!0,_e=Date.now(),tt()}catch{}},L.onerror=ot=>{const qt=String((ot==null?void 0:ot.error)||"");console.warn("Speech error:",qt,ot),qt!=="no-speech"&&(Fe(),Be(),Dt(!1),vt.current=!1,qt==="not-allowed"||qt==="service-not-allowed"?alert("  .     ."):ft(qt==="audio-capture"?o("   (    )"):` : ${qt||"unknown"}`))},L.onend=()=>{if(!vt.current){Fe();return}tt(),!kr.current&&(kr.current=!0,setTimeout(()=>{if(!vt.current){kr.current=!1,Fe();return}try{L.start()}catch{}finally{kr.current=!1}},180))};try{L.start(),tt()}catch(ot){console.error(ot),Fe(),Be(),Dt(!1),vt.current=!1,ft(o("   "))}},Nt=async()=>{var J,ge;if(!vt.current)return;vt.current=!1,Dt(!1);try{(ge=(J=Nn.current)==null?void 0:J.stop)==null||ge.call(J)}catch{}const S=nn.current.join(" ").trim(),L=(Yt.current||"").trim(),H=`${S} ${L}`.replace(/\s+/g," ").trim();if(nn.current=[],Yt.current="",!H){ft(o("   -  "));return}ft(o("..."));try{await hl(H)}catch(_e){console.error(_e),ft(`${o("")}: ${String((_e==null?void 0:_e.message)||_e||"")}`)}};return M.useEffect(()=>()=>{var S,L;try{vt.current=!1,(L=(S=Nn.current)==null?void 0:S.stop)==null||L.call(S)}catch{}},[]),M.useEffect(()=>{const S=L=>{if(!Ce)return;const H=Ye.current;H&&(L.target&&H.contains(L.target)||$e(!1))};return document.addEventListener("pointerdown",S),()=>document.removeEventListener("pointerdown",S)},[Ce]),M.useEffect(()=>{const S=L=>{if(!f)return;const H=g.current;H&&(L.target&&H.contains(L.target)||p(!1))};return document.addEventListener("pointerdown",S),()=>document.removeEventListener("pointerdown",S)},[f]),pa?r?tn?P.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:P.jsx(uu,{className:"animate-spin text-indigo-600"})}):jt||!(m!=null&&m.id)?P.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:P.jsx(uu,{className:"animate-spin text-indigo-600"})}):P.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[P.jsx("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-4 py-3 border-b border-slate-100",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("button",{onClick:()=>XI(Zi),className:"w-9 h-9 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:o(""),"aria-label":o(""),children:P.jsx(TR,{className:"w-4 h-4"})}),P.jsxs("div",{className:"relative",ref:g,children:[P.jsx("button",{type:"button",onClick:()=>p(S=>!S),className:"w-9 h-9 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:o(""),"aria-label":o(""),children:P.jsx(ER,{className:"w-4 h-4"})}),f?P.jsx("div",{className:"absolute right-0 mt-2 w-44 rounded-2xl border border-slate-200 bg-white shadow-lg overflow-hidden text-[14px] leading-tight z-[80]",children:[{code:"he",label:""},{code:"en",label:"English"},{code:"ru",label:""},{code:"ar",label:""}].map(S=>P.jsxs("button",{type:"button",onClick:()=>{s(S.code),p(!1)},className:`w-full px-4 py-2 flex items-center justify-between hover:bg-slate-50 ${n===S.code?"font-black text-slate-900":"font-bold text-slate-600"}`,children:[P.jsx("span",{children:S.label}),n===S.code?P.jsx(p0,{className:"w-4 h-4 text-emerald-500"}):null]},S.code))}):null]}),P.jsx("button",{onClick:()=>gt(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:o(" "),"aria-label":o(" "),children:P.jsx(fh,{className:"w-5 h-5"})})]}),P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("span",{className:"text-lg font-bold text-indigo-600 leading-tight whitespace-nowrap",children:"My Easy List555"}),P.jsxs("div",{className:"relative inline-flex items-center",ref:Ye,children:[P.jsx("button",{type:"button",onClick:()=>$e(S=>!S),className:"p-2 text-slate-400 hover:text-indigo-600",title:o(""),"aria-label":o(""),children:de?P.jsx(p0,{className:"w-5 h-5 text-emerald-500"}):P.jsx(Wm,{className:"w-5 h-5"})}),Ce?P.jsxs("div",{className:"absolute top-11 left-0 z-[80] w-64 rounded-2xl border border-slate-200 bg-white shadow-lg overflow-hidden text-[15px] leading-tight",children:[P.jsxs("button",{type:"button",onClick:async()=>{$e(!1),await ii()},className:"w-full text-right px-4 py-3 text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[P.jsx(Wm,{className:"w-4 h-4 text-slate-500"}),P.jsx("span",{className:"font-semibold text-[15px] leading-none",children:o("  ")})]}),P.jsxs("button",{type:"button",onClick:()=>{const S=!!(r&&(m!=null&&m.ownerUid)&&r.uid!==m.ownerUid);if($e(!1),!S){ft(o("       "));return}setShowLeaveConfirm(!0)},className:`w-full text-right px-4 py-3 flex items-center gap-2 ${r&&(m!=null&&m.ownerUid)&&r.uid!==m.ownerUid?"text-rose-700 hover:bg-rose-50":"text-slate-400 cursor-not-allowed"}`,children:[P.jsx(g0,{className:`w-4 h-4 ${r&&(m!=null&&m.ownerUid)&&r.uid!==m.ownerUid?"text-rose-600":"text-slate-400"}`}),P.jsx("span",{className:"font-semibold text-[15px] leading-none",children:o("   ")})]})]}):null]})]})]})}),P.jsx("div",{className:"px-5 pt-3",children:P.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[P.jsx("div",{className:"text-[11px] font-black text-slate-400",children:o(yt?"  -    ":" :    ,  ")}),Pi?P.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[o(":")," ",Pi]}):null,P.jsxs("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:[o(":")," ",GM(n)]})]})}),P.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:te==="list"?P.jsxs(P.Fragment,{children:[P.jsxs("form",{onSubmit:_i,className:"relative",children:[P.jsx("input",{ref:q,value:we,onFocus:ji,onBlur:Lr,onKeyDown:S=>{if(w){if(S.key==="Escape"){S.preventDefault(),z(!1),ae(-1);return}if(S.key==="ArrowDown"){if(S.preventDefault(),sn.length===0)return;ae(L=>{const H=L+1;return H>=sn.length?0:H});return}if(S.key==="ArrowUp"){if(S.preventDefault(),sn.length===0)return;ae(L=>{const H=L-1;return H<0?sn.length-1:H});return}if(S.key==="Tab"){if(sn.length===0)return;S.preventDefault(),vi(sn[Math.max(0,X>=0?X:0)]);return}if(S.key==="Enter"&&sn.length>0){S.preventDefault();const L=X>=0?X:0;vi(sn[L]);return}}},onChange:S=>{He(S.target.value),ji(),ae(-1)},placeholder:o("  ?"),className:"w-full p-4 pr-12 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),P.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:P.jsx(Xm,{className:"w-6 h-6"})}),w&&we.trim()&&sn.length>0?P.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 z-50 bg-white border border-slate-200 rounded-2xl shadow-lg overflow-hidden",dir:"rtl",onMouseDown:S=>{S.preventDefault()},onPointerDown:S=>{S.preventDefault()},children:sn.map((S,L)=>P.jsxs("div",{className:"w-full flex items-stretch justify-between gap-2 hover:bg-slate-50 transition-colors "+(L===X?"bg-slate-100":""),children:[P.jsxs("button",{type:"button",className:"flex-1 text-right px-4 py-3 flex items-center justify-between",onPointerDown:H=>{H.preventDefault(),vi(S)},title:"",children:[P.jsx("span",{className:"font-semibold text-slate-700",children:S.name}),S.isInList?P.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:["",typeof S.currentQty=="number"?` (${S.currentQty})`:""]}):P.jsx("span",{className:"text-xs text-slate-400",children:"Tab"})]}),S.canHide?P.jsx("button",{type:"button",className:"px-3 text-slate-400 hover:text-slate-700",onPointerDown:H=>{H.preventDefault(),H.stopPropagation(),Ur(S)},title:" ","aria-label":" ",children:""}):null]},S.key+"-"+L))}):null]}),((T==null?void 0:T.length)??0)===0?P.jsxs("div",{className:"text-center py-20 opacity-20",children:[P.jsx(RR,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),P.jsx("p",{className:"text-lg font-bold",children:o(" ")})]}):P.jsx("div",{className:"space-y-4",children:P.jsxs("div",{className:"space-y-3",children:[gr.map(S=>P.jsxs("div",{className:`relative overflow-hidden rounded-2xl border border-slate-100 shadow-sm select-none transition-all duration-200 ease-out ${k.has(S.id)?"opacity-0 translate-y-1 scale-[0.99] pointer-events-none":B[S.id]==="from"?"opacity-0 translate-y-1 scale-[0.99]":"opacity-100 translate-y-0 scale-100"}`,dir:"rtl",onPointerDown:gn(S.id),onPointerMove:ya(S.id),onPointerUp:mr(S.id),onPointerCancel:tr,onTouchStart:pr(S.id),onTouchMove:va(S.id),onTouchEnd:_a(S.id),style:{touchAction:"pan-y"},children:[P.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl",children:[P.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-rose-50",style:{width:it.id===S.id&&it.dx>0?Math.min(Math.abs(it.dx),qn):0,opacity:.9,zIndex:0}}),P.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-emerald-50",style:{width:it.id===S.id&&it.dx<0?Math.min(Math.abs(it.dx),qn):0,opacity:.9,zIndex:0}}),P.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 flex-row-reverse",children:[P.jsx("div",{className:"text-rose-600",style:{zIndex:2,opacity:it.id===S.id&&it.dx>0?Math.abs(it.dx)>=ti?1:.65:0,transform:it.id===S.id&&it.dx>0&&Math.abs(it.dx)>=ti?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:P.jsx(fh,{className:"w-6 h-6"})}),P.jsx("div",{className:"text-emerald-600",style:{zIndex:2,opacity:it.id===S.id&&it.dx<0?Math.abs(it.dx)>=ti?1:.65:0,transform:it.id===S.id&&it.dx<0&&Math.abs(it.dx)>=ti?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:P.jsx(hh,{className:"w-6 h-6"})})]})]}),P.jsxs("div",{className:`relative z-10 flex items-center justify-between w-full p-3 rounded-2xl transition-colors ${x.has(S.id)?"bg-rose-50":ue.has(S.id)?"bg-emerald-100":se.has(S.id)?"bg-emerald-50":"bg-white"}`,style:{transform:it.id===S.id?`translateX(${it.dx}px)`:void 0,transition:it.id===S.id?"none":"transform 120ms ease-out"},children:[P.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>{Yn.current||x.has(S.id)||yr(S.id)},children:S.name}),P.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100","data-noswipe":"true",children:[P.jsx("button",{disabled:k.has(S.id)||x.has(S.id),onClick:()=>Bt(S.id,-1),className:`p-1 text-slate-400 ${k.has(S.id)||x.has(S.id)?"opacity-40 cursor-not-allowed":""}`,title:"","data-noswipe":"true",children:P.jsx(AR,{className:"w-3 h-3"})}),P.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:S.quantity}),P.jsx("button",{disabled:k.has(S.id)||x.has(S.id),onClick:()=>Bt(S.id,1),className:`p-1 text-slate-400 ${k.has(S.id)||x.has(S.id)?"opacity-40 cursor-not-allowed":""}`,title:"","data-noswipe":"true",children:P.jsx(Xm,{className:"w-3 h-3"})})]})]})]},S.id)),ni.length>0?P.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[P.jsxs("h3",{className:"text-lg font-bold text-slate-700 text-right mb-2",children:[o("")," (",ni.length,")"]}),ni.map(S=>P.jsx("div",{className:`flex items-center justify-between p-3 ${x.has(S.id)?"bg-rose-50":"bg-slate-100/50"} rounded-2xl opacity-60 grayscale transition-all`,dir:"rtl",children:P.jsxs("div",{className:"flex items-center justify-between w-full",children:[P.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-start cursor-pointer",onClick:()=>xt(S.id),style:{direction:"rtl",unicodeBidi:"plaintext"},children:[P.jsx(_R,{className:"w-6 h-6 text-emerald-500 flex-shrink-0"}),P.jsx("span",{className:"text-base font-bold text-slate-500 line-through truncate text-left",children:P.jsxs("span",{className:"flex gap-1",children:[P.jsx("span",{children:S.name}),(S.quantity||1)>1&&P.jsxs(P.Fragment,{children:[P.jsx("span",{children:"x"}),P.jsx("span",{children:S.quantity})]})]})})]}),P.jsx("button",{onClick:()=>ys(S.id),className:"p-2 text-slate-300",title:"",children:P.jsx(fh,{className:"w-4 h-4"})})]})},S.id))]}):null]})})]}):P.jsxs("div",{className:"space-y-6",children:[P.jsxs("div",{className:"text-right",children:[P.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:o("")}),P.jsx("p",{className:"text-sm text-slate-400 font-bold",children:P.jsx("span",{className:"font-semibold text-[15px] leading-none",children:o("  ")})})]}),gi.length===0?P.jsxs("div",{className:"text-center py-20 opacity-20",children:[P.jsx(hh,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),P.jsx("p",{className:"font-bold",children:o("  ")})]}):P.jsx("div",{className:"grid grid-cols-1 gap-3",children:gi.map(S=>P.jsxs("div",{className:`relative overflow-hidden rounded-2xl select-none transition-all duration-200 ease-out ${C.has(S.id)?"pointer-events-none":""} ${ee.has(S.id)?"opacity-0 translate-y-1 scale-[0.99] pointer-events-none":"opacity-100 translate-y-0 scale-100"}`,dir:"ltr",onPointerDown:zr(S.id),onPointerMove:_r(S.id),onPointerUp:si(S.id),onPointerCancel:cl,style:{touchAction:"pan-y"},children:[P.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl",children:[P.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-rose-50",style:{width:dt.id===S.id&&dt.rawDx>0?Math.min(Math.abs(dt.rawDx),rr):0,opacity:.9,zIndex:0}}),P.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-emerald-50",style:{width:dt.id===S.id&&dt.rawDx<0?Math.min(Math.abs(dt.rawDx),rr):0,opacity:.9,zIndex:0}}),P.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4",children:[P.jsx("div",{className:"text-rose-600",style:{zIndex:2,opacity:dt.id===S.id&&dt.rawDx>0?Math.abs(dt.rawDx)>=ri?1:.65:0,transform:dt.id===S.id&&dt.rawDx>0&&Math.abs(dt.rawDx)>=ri?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:P.jsx(fh,{className:"w-6 h-6"})}),P.jsx("div",{className:"text-emerald-600",style:{zIndex:2,opacity:dt.id===S.id&&dt.rawDx<0?Math.abs(dt.rawDx)>=ri?1:.65:0,transform:dt.id===S.id&&dt.rawDx<0&&Math.abs(dt.rawDx)>=ri?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:P.jsx(CM,{className:"w-6 h-6"})})]})]}),P.jsxs("div",{className:`relative z-10 flex items-center justify-between p-4 rounded-2xl border border-slate-100 shadow-sm transition-colors ${C.has(S.id)?"bg-rose-50":Ue.has(S.id)?"bg-emerald-100":"bg-white"}`,style:{transform:dt.id===S.id?`translateX(${dt.dx}px)`:void 0,transition:dt.id===S.id?"none":"transform 160ms ease-out"},children:[P.jsx("div",{className:"flex items-center gap-2"}),P.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate px-3 text-base",style:{direction:"rtl",unicodeBidi:"plaintext"},children:S.name}),P.jsx(hh,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]})]},S.id))})]})}),P.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:P.jsx("div",{className:"max-w-md mx-auto px-4 pb-3",children:P.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:P.jsxs("div",{className:"relative flex items-center justify-between px-8 pt-9 pb-3",children:[P.jsxs("button",{onClick:()=>fe("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${te==="favorites"?"text-indigo-600":"text-slate-300"}`,title:o(""),children:[P.jsx(hh,{className:`w-7 h-7 ${te==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),o("")]}),P.jsxs("button",{onClick:ul,className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:o(""),children:[P.jsx(wR,{className:"w-7 h-7"}),o("")]}),P.jsxs("button",{onClick:()=>Ct(!0),className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:o(""),children:[P.jsx(m0,{className:"w-7 h-7"}),o("")]}),P.jsxs("button",{onClick:()=>fe("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${te==="list"?"text-indigo-600":"text-slate-300"}`,title:o(""),children:[P.jsx(vT,{className:"w-7 h-7"}),o("")]}),P.jsx("button",{onPointerDown:S=>{S.preventDefault(),ai()},onPointerUp:S=>{S.preventDefault(),Nt()},onPointerCancel:S=>{S.preventDefault(),Nt()},onPointerLeave:S=>{vt.current&&(S.preventDefault(),Nt())},onTouchStart:S=>{S.preventDefault(),ai()},onTouchEnd:S=>{S.preventDefault(),Nt()},onMouseDown:S=>{S.preventDefault(),ai()},onMouseUp:S=>{S.preventDefault(),Nt()},style:{touchAction:"none"},className:`absolute left-1/2 -translate-x-1/2 -top-8 w-16 h-16 rounded-full border-4 border-white shadow-xl flex items-center justify-center ${yt?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:yt?"  -   ":"   ",children:yt?P.jsx(bR,{className:"w-7 h-7"}):P.jsx(SR,{className:"w-7 h-7"})})]})})})}),Ve?P.jsx("div",{className:"fixed inset-0 z-[70] bg-black/50 flex items-center justify-center p-6",dir:"rtl",children:P.jsx("div",{className:"w-full max-w-sm rounded-3xl bg-white shadow-2xl border border-slate-100 overflow-hidden",children:P.jsxs("div",{className:"p-6 space-y-4",children:[P.jsxs("div",{className:"flex items-start justify-between gap-3",children:[P.jsxs("div",{className:"text-right",children:[P.jsx("div",{className:"text-xl font-black text-slate-800",children:" "}),P.jsx("div",{className:"text-sm font-bold text-slate-400",children:"   (  )"})]}),P.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center",children:P.jsx(m0,{className:"w-5 h-5"})})]}),P.jsxs("div",{className:"space-y-3",children:[P.jsx("label",{className:"block text-sm font-black text-slate-600",children:"  ?"}),P.jsx("input",{type:"datetime-local",value:$t,onChange:S=>xn(S.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 font-bold text-slate-700 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),P.jsxs("div",{className:"space-y-3",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("span",{className:"text-sm font-black text-slate-600",children:""}),P.jsxs("span",{className:"text-sm font-black text-slate-500",children:[En," "]})]}),P.jsx("div",{className:"grid grid-cols-4 gap-2",dir:"ltr",children:[30,45,60,90].map(S=>P.jsx("button",{onClick:()=>Bn(S),className:`py-2 rounded-2xl font-black text-sm ${En===S?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700"}`,children:S},S))})]}),P.jsxs("div",{className:"flex gap-3 pt-2",children:[P.jsx("button",{onClick:()=>Ct(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),P.jsx("button",{onClick:()=>{Ct(!1),to()},className:"flex-1 py-3 rounded-2xl font-black bg-indigo-600 text-white shadow-lg shadow-indigo-100",children:" "})]})]})})}):null,lt?P.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:P.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:P.jsx(g0,{className:"w-5 h-5"})}),P.jsxs("div",{className:"text-right",children:[P.jsx("div",{className:"text-lg font-black text-slate-800",children:o("   ?")}),P.jsx("div",{className:"text-sm font-bold text-slate-400",children:o("     .")})]})]}),P.jsxs("div",{className:"flex gap-3",children:[P.jsx("button",{onClick:()=>gt(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:o("")}),P.jsx("button",{onClick:nr,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:o(" ")})]})]})}):null,Ui?P.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50",children:Ui}):null]}):P.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:P.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[P.jsx("h1",{className:"text-2xl font-black text-slate-800",children:o("  ")}),P.jsx("p",{className:"text-slate-500 font-bold",children:o("    ,    .")}),P.jsxs("button",{onClick:async()=>{await lu()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[P.jsx(_T,{className:"w-4 h-4"}),o("  ")]})]})}):P.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Heebo", "Rubik", Arial'},children:P.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-70",children:[P.jsx(uu,{className:"w-10 h-10 animate-spin"}),P.jsx("div",{className:"font-bold text-slate-500",children:"..."})]})})},$M=()=>P.jsx(sR,{children:P.jsxs(VA,{children:[P.jsx($m,{path:"/",element:P.jsx(QM,{})}),P.jsx($m,{path:"/invite",element:P.jsx(MM,{})})]})}),J1=document.getElementById("root");if(!J1)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",r=>{const e=(r==null?void 0:r.message)||"unknown",n=r==null?void 0:r.error;console.error("WINDOW_ERROR:",e,n),alert("WINDOW_ERROR: "+e)});window.addEventListener("unhandledrejection",r=>{const e=r==null?void 0:r.reason;console.error("UNHANDLED_REJECTION:",e);let n="";try{typeof e=="string"?n=e:e!=null&&e.message?n=e.message:n=JSON.stringify(e)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());LS.createRoot(J1).render(P.jsx(NS.StrictMode,{children:P.jsx($M,{})}));
