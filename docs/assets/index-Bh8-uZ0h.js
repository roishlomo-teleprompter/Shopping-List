(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ow(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pm={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function lw(){if(jv)return jl;jv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return jl.Fragment=t,jl.jsx=n,jl.jsxs=n,jl}var Bv;function uw(){return Bv||(Bv=1,pm.exports=lw()),pm.exports}var Q=uw(),gm={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function cw(){if(qv)return xt;qv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function P(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,F={};function at(x,J,st){this.props=x,this.context=J,this.refs=F,this.updater=st||H}at.prototype.isReactComponent={},at.prototype.setState=function(x,J){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,J,"setState")},at.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function ot(){}ot.prototype=at.prototype;function nt(x,J,st){this.props=x,this.context=J,this.refs=F,this.updater=st||H}var _t=nt.prototype=new ot;_t.constructor=nt,X(_t,at.prototype),_t.isPureReactComponent=!0;var It=Array.isArray;function bt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(x,J,st){var dt=st.ref;return{$$typeof:r,type:x,key:J,ref:dt!==void 0?dt:null,props:st}}function N(x,J){return R(x.type,J,x.props)}function M(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function V(x){var J={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(st){return J[st]})}var I=/\/+/g;function fe(x,J){return typeof x=="object"&&x!==null&&x.key!=null?V(""+x.key):J.toString(36)}function Ee(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(bt,bt):(x.status="pending",x.then(function(J){x.status==="pending"&&(x.status="fulfilled",x.value=J)},function(J){x.status==="pending"&&(x.status="rejected",x.reason=J)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function K(x,J,st,dt,At){var Pt=typeof x;(Pt==="undefined"||Pt==="boolean")&&(x=null);var jt=!1;if(x===null)jt=!0;else switch(Pt){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(x.$$typeof){case r:case t:jt=!0;break;case E:return jt=x._init,K(jt(x._payload),J,st,dt,At)}}if(jt)return At=At(x),jt=dt===""?"."+fe(x,0):dt,It(At)?(st="",jt!=null&&(st=jt.replace(I,"$&/")+"/"),K(At,J,st,"",function(ni){return ni})):At!=null&&(M(At)&&(At=N(At,st+(At.key==null||x&&x.key===At.key?"":(""+At.key).replace(I,"$&/")+"/")+jt)),J.push(At)),1;jt=0;var qe=dt===""?".":dt+":";if(It(x))for(var de=0;de<x.length;de++)dt=x[de],Pt=qe+fe(dt,de),jt+=K(dt,J,st,Pt,At);else if(de=P(x),typeof de=="function")for(x=de.call(x),de=0;!(dt=x.next()).done;)dt=dt.value,Pt=qe+fe(dt,de++),jt+=K(dt,J,st,Pt,At);else if(Pt==="object"){if(typeof x.then=="function")return K(Ee(x),J,st,dt,At);throw J=String(x),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return jt}function lt(x,J,st){if(x==null)return x;var dt=[],At=0;return K(x,dt,"","",function(Pt){return J.call(st,Pt,At++)}),dt}function gt(x){if(x._status===-1){var J=x._result;J=J(),J.then(function(st){(x._status===0||x._status===-1)&&(x._status=1,x._result=st)},function(st){(x._status===0||x._status===-1)&&(x._status=2,x._result=st)}),x._status===-1&&(x._status=0,x._result=J)}if(x._status===1)return x._result.default;throw x._result}var Mt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ot={map:lt,forEach:function(x,J,st){lt(x,function(){J.apply(this,arguments)},st)},count:function(x){var J=0;return lt(x,function(){J++}),J},toArray:function(x){return lt(x,function(J){return J})||[]},only:function(x){if(!M(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return xt.Activity=T,xt.Children=Ot,xt.Component=at,xt.Fragment=n,xt.Profiler=o,xt.PureComponent=nt,xt.StrictMode=s,xt.Suspense=p,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,xt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return D.H.useMemoCache(x)}},xt.cache=function(x){return function(){return x.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(x,J,st){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var dt=X({},x.props),At=x.key;if(J!=null)for(Pt in J.key!==void 0&&(At=""+J.key),J)!b.call(J,Pt)||Pt==="key"||Pt==="__self"||Pt==="__source"||Pt==="ref"&&J.ref===void 0||(dt[Pt]=J[Pt]);var Pt=arguments.length-2;if(Pt===1)dt.children=st;else if(1<Pt){for(var jt=Array(Pt),qe=0;qe<Pt;qe++)jt[qe]=arguments[qe+2];dt.children=jt}return R(x.type,At,dt)},xt.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},xt.createElement=function(x,J,st){var dt,At={},Pt=null;if(J!=null)for(dt in J.key!==void 0&&(Pt=""+J.key),J)b.call(J,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(At[dt]=J[dt]);var jt=arguments.length-2;if(jt===1)At.children=st;else if(1<jt){for(var qe=Array(jt),de=0;de<jt;de++)qe[de]=arguments[de+2];At.children=qe}if(x&&x.defaultProps)for(dt in jt=x.defaultProps,jt)At[dt]===void 0&&(At[dt]=jt[dt]);return R(x,Pt,At)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(x){return{$$typeof:m,render:x}},xt.isValidElement=M,xt.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:gt}},xt.memo=function(x,J){return{$$typeof:y,type:x,compare:J===void 0?null:J}},xt.startTransition=function(x){var J=D.T,st={};D.T=st;try{var dt=x(),At=D.S;At!==null&&At(st,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(bt,Mt)}catch(Pt){Mt(Pt)}finally{J!==null&&st.types!==null&&(J.types=st.types),D.T=J}},xt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},xt.use=function(x){return D.H.use(x)},xt.useActionState=function(x,J,st){return D.H.useActionState(x,J,st)},xt.useCallback=function(x,J){return D.H.useCallback(x,J)},xt.useContext=function(x){return D.H.useContext(x)},xt.useDebugValue=function(){},xt.useDeferredValue=function(x,J){return D.H.useDeferredValue(x,J)},xt.useEffect=function(x,J){return D.H.useEffect(x,J)},xt.useEffectEvent=function(x){return D.H.useEffectEvent(x)},xt.useId=function(){return D.H.useId()},xt.useImperativeHandle=function(x,J,st){return D.H.useImperativeHandle(x,J,st)},xt.useInsertionEffect=function(x,J){return D.H.useInsertionEffect(x,J)},xt.useLayoutEffect=function(x,J){return D.H.useLayoutEffect(x,J)},xt.useMemo=function(x,J){return D.H.useMemo(x,J)},xt.useOptimistic=function(x,J){return D.H.useOptimistic(x,J)},xt.useReducer=function(x,J,st){return D.H.useReducer(x,J,st)},xt.useRef=function(x){return D.H.useRef(x)},xt.useState=function(x){return D.H.useState(x)},xt.useSyncExternalStore=function(x,J,st){return D.H.useSyncExternalStore(x,J,st)},xt.useTransition=function(){return D.H.useTransition()},xt.version="19.2.3",xt}var Hv;function yp(){return Hv||(Hv=1,gm.exports=cw()),gm.exports}var U=yp();const hw=ow(U);var ym={exports:{}},Bl={},_m={exports:{}},vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function fw(){return Fv||(Fv=1,(function(r){function t(K,lt){var gt=K.length;K.push(lt);t:for(;0<gt;){var Mt=gt-1>>>1,Ot=K[Mt];if(0<o(Ot,lt))K[Mt]=lt,K[gt]=Ot,gt=Mt;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var lt=K[0],gt=K.pop();if(gt!==lt){K[0]=gt;t:for(var Mt=0,Ot=K.length,x=Ot>>>1;Mt<x;){var J=2*(Mt+1)-1,st=K[J],dt=J+1,At=K[dt];if(0>o(st,gt))dt<Ot&&0>o(At,st)?(K[Mt]=At,K[dt]=gt,Mt=dt):(K[Mt]=st,K[J]=gt,Mt=J);else if(dt<Ot&&0>o(At,gt))K[Mt]=At,K[dt]=gt,Mt=dt;else break t}}return lt}function o(K,lt){var gt=K.sortIndex-lt.sortIndex;return gt!==0?gt:K.id-lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,w=3,P=!1,H=!1,X=!1,F=!1,at=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function _t(K){for(var lt=n(y);lt!==null;){if(lt.callback===null)s(y);else if(lt.startTime<=K)s(y),lt.sortIndex=lt.expirationTime,t(p,lt);else break;lt=n(y)}}function It(K){if(X=!1,_t(K),!H)if(n(p)!==null)H=!0,bt||(bt=!0,V());else{var lt=n(y);lt!==null&&Ee(It,lt.startTime-K)}}var bt=!1,D=-1,b=5,R=-1;function N(){return F?!0:!(r.unstable_now()-R<b)}function M(){if(F=!1,bt){var K=r.unstable_now();R=K;var lt=!0;try{t:{H=!1,X&&(X=!1,ot(D),D=-1),P=!0;var gt=w;try{e:{for(_t(K),T=n(p);T!==null&&!(T.expirationTime>K&&N());){var Mt=T.callback;if(typeof Mt=="function"){T.callback=null,w=T.priorityLevel;var Ot=Mt(T.expirationTime<=K);if(K=r.unstable_now(),typeof Ot=="function"){T.callback=Ot,_t(K),lt=!0;break e}T===n(p)&&s(p),_t(K)}else s(p);T=n(p)}if(T!==null)lt=!0;else{var x=n(y);x!==null&&Ee(It,x.startTime-K),lt=!1}}break t}finally{T=null,w=gt,P=!1}lt=void 0}}finally{lt?V():bt=!1}}}var V;if(typeof nt=="function")V=function(){nt(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,fe=I.port2;I.port1.onmessage=M,V=function(){fe.postMessage(null)}}else V=function(){at(M,0)};function Ee(K,lt){D=at(function(){K(r.unstable_now())},lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var lt=3;break;default:lt=w}var gt=w;w=lt;try{return K()}finally{w=gt}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(K,lt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var gt=w;w=K;try{return lt()}finally{w=gt}},r.unstable_scheduleCallback=function(K,lt,gt){var Mt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Mt+gt:Mt):gt=Mt,K){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=gt+Ot,K={id:E++,callback:lt,priorityLevel:K,startTime:gt,expirationTime:Ot,sortIndex:-1},gt>Mt?(K.sortIndex=gt,t(y,K),n(p)===null&&K===n(y)&&(X?(ot(D),D=-1):X=!0,Ee(It,gt-Mt))):(K.sortIndex=Ot,t(p,K),H||P||(H=!0,bt||(bt=!0,V()))),K},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(K){var lt=w;return function(){var gt=w;w=lt;try{return K.apply(this,arguments)}finally{w=gt}}}})(vm)),vm}var Gv;function dw(){return Gv||(Gv=1,_m.exports=fw()),_m.exports}var Em={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function mw(){if(Qv)return dn;Qv=1;var r=yp();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,dn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},dn.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},dn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},dn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},dn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},dn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},dn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},dn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},dn.requestFormReset=function(p){s.d.r(p)},dn.unstable_batchedUpdates=function(p,y){return p(y)},dn.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},dn.useFormStatus=function(){return f.H.useHostTransitionStatus()},dn.version="19.2.3",dn}var Yv;function pw(){if(Yv)return Em.exports;Yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Em.exports=mw(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function gw(){if(Kv)return Bl;Kv=1;var r=dw(),t=yp(),n=pw();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),ot=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case at:return"Profiler";case F:return"StrictMode";case It:return"Suspense";case bt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case nt:return e.displayName||"Context";case ot:return(e._context.displayName||"Context")+".Consumer";case _t:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:fe(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return fe(e(i))}catch{}}return null}var Ee=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Mt=[],Ot=-1;function x(e){return{current:e}}function J(e){0>Ot||(e.current=Mt[Ot],Mt[Ot]=null,Ot--)}function st(e,i){Ot++,Mt[Ot]=e.current,e.current=i}var dt=x(null),At=x(null),Pt=x(null),jt=x(null);function qe(e,i){switch(st(Pt,i),st(At,e),st(dt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?uv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=uv(i),e=cv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(dt),st(dt,e)}function de(){J(dt),J(At),J(Pt)}function ni(e){e.memoizedState!==null&&st(jt,e);var i=dt.current,a=cv(i,e.type);i!==a&&(st(At,e),st(dt,a))}function Ei(e){At.current===e&&(J(dt),J(At)),jt.current===e&&(J(jt),kl._currentValue=gt)}var ii,Ki;function Ln(e){if(ii===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ii=i&&i[1]||"",Ki=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ii+e+Ki}var Xi=!1;function Ni(e,i){if(!e||Xi)return"";Xi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(G){var q=G}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(G){q=G}e.call(tt.prototype)}}else{try{throw Error()}catch(G){q=G}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var C=_.split(`
`),B=S.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===B.length)for(l=C.length-1,h=B.length-1;1<=l&&0<=h&&C[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==B[h]){var $=`
`+C[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=h);break}}}finally{Xi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ln(a):""}function Ho(e,i){switch(e.tag){case 26:case 27:case 5:return Ln(e.type);case 16:return Ln("Lazy");case 13:return e.child!==i&&i!==null?Ln("Suspense Fallback"):Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 15:return Ni(e.type,!1);case 11:return Ni(e.type.render,!1);case 1:return Ni(e.type,!0);case 31:return Ln("Activity");default:return""}}function Ur(e){try{var i="",a=null;do i+=Ho(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ri=Object.prototype.hasOwnProperty,si=r.unstable_scheduleCallback,$i=r.unstable_cancelCallback,Fo=r.unstable_shouldYield,zr=r.unstable_requestPaint,He=r.unstable_now,Na=r.unstable_getCurrentPriorityLevel,De=r.unstable_ImmediatePriority,_e=r.unstable_UserBlockingPriority,_n=r.unstable_NormalPriority,Ti=r.unstable_LowPriority,bn=r.unstable_IdlePriority,jr=r.log,Ji=r.unstable_setDisableYieldValue,ai=null,Fe=null;function Rn(e){if(typeof jr=="function"&&Ji(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ai,e)}catch{}}var tn=Math.clz32?Math.clz32:Zi,Go=Math.log,Qs=Math.LN2;function Zi(e){return e>>>=0,e===0?32:31-(Go(e)/Qs|0)|0}var Wi=256,oi=262144,xi=4194304;function Un(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function cn(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=Un(l):(_&=S,_!==0?h=Un(_):a||(a=S&~e,a!==0&&(h=Un(a))))):(S=l&~d,S!==0?h=Un(S):_!==0?h=Un(_):a||(a=l&~e,a!==0&&(h=Un(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function hn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function L(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function et(){var e=xi;return xi<<=1,(xi&62914560)===0&&(xi=4194304),e}function rt(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ct(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mt(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,C=e.expirationTimes,B=e.hiddenUpdates;for(a=_&~a;0<a;){var $=31-tn(a),tt=1<<$;S[$]=0,C[$]=-1;var q=B[$];if(q!==null)for(B[$]=null,$=0;$<q.length;$++){var G=q[$];G!==null&&(G.lane&=-536870913)}a&=~tt}l!==0&&Bt(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Bt(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-tn(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Ct(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-tn(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function ie(e,i){var a=i&-i;return a=(a&42)!==0?1:Jt(a),(a&(e.suspendedLanes|i))!==0?0:a}function Jt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Lt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Nt(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:Mv(e.type))}function In(e,i){var a=lt.p;try{return lt.p=e,i()}finally{lt.p=a}}var zn=Math.random().toString(36).slice(2),he="__reactFiber$"+zn,Ae="__reactProps$"+zn,Cn="__reactContainer$"+zn,jn="__reactEvents$"+zn,Oi="__reactListeners$"+zn,Nu="__reactHandles$"+zn,Qo="__reactResources$"+zn,tr="__reactMarker$"+zn;function Ys(e){delete e[he],delete e[Ae],delete e[jn],delete e[Oi],delete e[Nu]}function er(e){var i=e[he];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Cn]||a[he]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=yv(e);e!==null;){if(a=e[he])return a;e=yv(e)}return i}e=a,a=e.parentNode}return null}function nr(e){if(e=e[he]||e[Cn]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Ks(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Si(e){var i=e[Qo];return i||(i=e[Qo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ne(e){e[tr]=!0}var xa=new Set,Br={};function vn(e,i){Mi(e,i),Mi(e+"Capture",i)}function Mi(e,i){for(Br[e]=i,e=0;e<i.length;e++)xa.add(i[e])}var gf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},Ko={};function xu(e){return ri.call(Ko,e)?!0:ri.call(Yo,e)?!1:gf.test(e)?Ko[e]=!0:(Yo[e]=!0,!1)}function qr(e,i,a){if(xu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Hr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function li(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function En(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ou(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yf(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Oa(e){if(!e._valueTracker){var i=Ou(e)?"checked":"value";e._valueTracker=yf(e,i,""+e[i])}}function Xo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Ou(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ir=/[\n"\\]/g;function we(e){return e.replace(ir,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Fr(e,i,a,l,h,d,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+En(i)):e.value!==""+En(i)&&(e.value=""+En(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Va(e,_,En(i)):a!=null?Va(e,_,En(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+En(S):e.removeAttribute("name")}function Xs(e,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Oa(e);return}a=a!=null?""+En(a):"",i=i!=null?""+En(i):a,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Oa(e)}function Va(e,i,a){i==="number"&&Ma(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Zt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+En(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function $s(e,i,a){if(i!=null&&(i=""+En(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+En(a):""}function Gr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=En(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Oa(e)}function ui(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var _f=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||_f.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Mu(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&$o(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&$o(e,d,i[d])}function Jo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(e){return Ef.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ke(){}var Pa=null;function ka(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rr=null,Bn=null;function Vu(e){var i=nr(e);if(i&&(e=i.stateNode)){var a=e[Ae]||null;t:switch(e=i.stateNode,i.type){case"input":if(Fr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+we(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ae]||null;if(!h)throw Error(s(90));Fr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Xo(l)}break t;case"textarea":$s(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Zt(e,!!a.multiple,i,!1)}}}var Zo=!1;function Pu(e,i,a){if(Zo)return e(i,a);Zo=!0;try{var l=e(i);return l}finally{if(Zo=!1,(rr!==null||Bn!==null)&&(xc(),rr&&(i=rr,e=Bn,Bn=rr=null,Vu(i),e)))for(i=0;i<e.length;i++)Vu(e[i])}}function Dn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ae]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wo=!1;if(Ai)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{Wo=!1}var qn=null,La=null,ki=null;function Qr(){if(ki)return ki;var e,i=La,a=i.length,l,h="value"in qn?qn.value:qn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return ki=h.slice(e,1<l?1-l:void 0)}function Js(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Yr(){return!0}function me(){return!1}function fn(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yr:me,this.isPropagationStopped=me,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),i}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=fn(sr),Kr=T({},sr,{view:0,detail:0}),ku=fn(Kr),Xr,Ua,Tn,Ws=T({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tn&&(Tn&&e.type==="mousemove"?(Xr=e.screenX-Tn.screenX,Ua=e.screenY-Tn.screenY):Ua=Xr=0,Tn=e),Xr)},movementY:function(e){return"movementY"in e?e.movementY:Ua}}),Lu=fn(Ws),ta=T({},Ws,{dataTransfer:0}),Uu=fn(ta),tl=T({},Kr,{relatedTarget:0}),$r=fn(tl),zu=T({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),za=fn(zu),Tf=T({},sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ju=fn(Tf),ea=T({},sr,{data:0}),el=fn(ea),Bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},il={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=il[e])?!!i[e]:!1}function Jr(){return qu}var Hu=T({},Kr,{key:function(e){if(e.key){var i=Bu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(e){return e.type==="keypress"?Js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fu=fn(Hu),ar=T({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rl=fn(ar),Gu=T({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),Qu=fn(Gu),Yu=T({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ja=fn(Yu),Sn=T({},Ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ku=fn(Sn),Xu=T({},sr,{newState:0,oldState:0}),Zr=fn(Xu),c=[9,13,27,32],g=Ai&&"CompositionEvent"in window,v=null;Ai&&"documentMode"in document&&(v=document.documentMode);var A=Ai&&"TextEvent"in window&&!v,z=Ai&&(!g||v&&8<v&&11>=v),Y=" ",ut=!1;function ne(e,i){switch(e){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ve(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ut=!1;function Xe(e,i){switch(e){case"compositionend":return Ve(i);case"keypress":return i.which!==32?null:(ut=!0,Y);case"textInput":return e=i.data,e===Y&&ut?null:e;default:return null}}function $e(e,i){if(Ut)return e==="compositionend"||!g&&ne(e,i)?(e=Qr(),ki=La=qn=null,Ut=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return z&&i.locale!=="ko"?null:i.data;default:return null}}var Wr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Wr[e.type]:i==="textarea"}function na(e,i,a,l){rr?Bn?Bn.push(l):Bn=[l]:rr=l,i=Uc(i,"onChange"),0<i.length&&(a=new Zs("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var or=null,sl=null;function VS(e){iv(e,0)}function $u(e){var i=Ks(e);if(Xo(i))return e}function Sg(e,i){if(e==="change")return i}var Ag=!1;if(Ai){var Sf;if(Ai){var Af="oninput"in document;if(!Af){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),Af=typeof wg.oninput=="function"}Sf=Af}else Sf=!1;Ag=Sf&&(!document.documentMode||9<document.documentMode)}function bg(){or&&(or.detachEvent("onpropertychange",Rg),sl=or=null)}function Rg(e){if(e.propertyName==="value"&&$u(sl)){var i=[];na(i,sl,e,ka(e)),Pu(VS,i)}}function PS(e,i,a){e==="focusin"?(bg(),or=i,sl=a,or.attachEvent("onpropertychange",Rg)):e==="focusout"&&bg()}function kS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $u(sl)}function LS(e,i){if(e==="click")return $u(i)}function US(e,i){if(e==="input"||e==="change")return $u(i)}function zS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Hn=typeof Object.is=="function"?Object.is:zS;function al(e,i){if(Hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ri.call(i,h)||!Hn(e[h],i[h]))return!1}return!0}function Ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cg(e,i){var a=Ig(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ig(a)}}function Dg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Dg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ng(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ma(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ma(e.document)}return i}function wf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var jS=Ai&&"documentMode"in document&&11>=document.documentMode,Ba=null,bf=null,ol=null,Rf=!1;function xg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rf||Ba==null||Ba!==Ma(l)||(l=Ba,"selectionStart"in l&&wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Uc(bf,"onSelect"),0<l.length&&(i=new Zs("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ba)))}function ia(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var qa={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionrun:ia("Transition","TransitionRun"),transitionstart:ia("Transition","TransitionStart"),transitioncancel:ia("Transition","TransitionCancel"),transitionend:ia("Transition","TransitionEnd")},If={},Og={};Ai&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function ra(e){if(If[e])return If[e];if(!qa[e])return e;var i=qa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Og)return If[e]=i[a];return e}var Mg=ra("animationend"),Vg=ra("animationiteration"),Pg=ra("animationstart"),BS=ra("transitionrun"),qS=ra("transitionstart"),HS=ra("transitioncancel"),kg=ra("transitionend"),Lg=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function wi(e,i){Lg.set(e,i),vn(i,[e])}var Ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ci=[],Ha=0,Df=0;function Zu(){for(var e=Ha,i=Df=Ha=0;i<e;){var a=ci[i];ci[i++]=null;var l=ci[i];ci[i++]=null;var h=ci[i];ci[i++]=null;var d=ci[i];if(ci[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Ug(a,h,d)}}function Wu(e,i,a,l){ci[Ha++]=e,ci[Ha++]=i,ci[Ha++]=a,ci[Ha++]=l,Df|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Nf(e,i,a,l){return Wu(e,i,a,l),tc(e)}function sa(e,i){return Wu(e,null,null,i),tc(e)}function Ug(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-tn(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function tc(e){if(50<Dl)throw Dl=0,zd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Fa={};function FS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,i,a,l){return new FS(e,i,a,l)}function xf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lr(e,i){var a=e.alternate;return a===null?(a=Fn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function zg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ec(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")xf(e)&&(_=1);else if(typeof e=="string")_=XA(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Fn(31,a,i,h),e.elementType=R,e.lanes=d,e;case X:return aa(a.children,h,d,i);case F:_=8,h|=24;break;case at:return e=Fn(12,a,i,h|2),e.elementType=at,e.lanes=d,e;case It:return e=Fn(13,a,i,h),e.elementType=It,e.lanes=d,e;case bt:return e=Fn(19,a,i,h),e.elementType=bt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nt:_=10;break t;case ot:_=9;break t;case _t:_=11;break t;case D:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Fn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function aa(e,i,a,l){return e=Fn(7,e,l,i),e.lanes=a,e}function Of(e,i,a){return e=Fn(6,e,null,i),e.lanes=a,e}function jg(e){var i=Fn(18,null,null,0);return i.stateNode=e,i}function Mf(e,i,a){return i=Fn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Bg=new WeakMap;function hi(e,i){if(typeof e=="object"&&e!==null){var a=Bg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ur(i)},Bg.set(e,i),i)}return{value:e,source:i,stack:Ur(i)}}var Ga=[],Qa=0,nc=null,ll=0,fi=[],di=0,ts=null,Li=1,Ui="";function ur(e,i){Ga[Qa++]=ll,Ga[Qa++]=nc,nc=e,ll=i}function qg(e,i,a){fi[di++]=Li,fi[di++]=Ui,fi[di++]=ts,ts=e;var l=Li;e=Ui;var h=32-tn(l)-1;l&=~(1<<h),a+=1;var d=32-tn(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Li=1<<32-tn(i)+h|a<<h|l,Ui=d+e}else Li=1<<d|a<<h|l,Ui=e}function Vf(e){e.return!==null&&(ur(e,1),qg(e,1,0))}function Pf(e){for(;e===nc;)nc=Ga[--Qa],Ga[Qa]=null,ll=Ga[--Qa],Ga[Qa]=null;for(;e===ts;)ts=fi[--di],fi[di]=null,Ui=fi[--di],fi[di]=null,Li=fi[--di],fi[di]=null}function Hg(e,i){fi[di++]=Li,fi[di++]=Ui,fi[di++]=ts,Li=i.id,Ui=i.overflow,ts=e}var en=null,pe=null,Kt=!1,es=null,mi=!1,kf=Error(s(519));function ns(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(hi(i,e)),kf}function Fg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[he]=e,i[Ae]=l,a){case"dialog":Ht("cancel",i),Ht("close",i);break;case"iframe":case"object":case"embed":Ht("load",i);break;case"video":case"audio":for(a=0;a<xl.length;a++)Ht(xl[a],i);break;case"source":Ht("error",i);break;case"img":case"image":case"link":Ht("error",i),Ht("load",i);break;case"details":Ht("toggle",i);break;case"input":Ht("invalid",i),Xs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ht("invalid",i);break;case"textarea":Ht("invalid",i),Gr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||ov(i.textContent,a)?(l.popover!=null&&(Ht("beforetoggle",i),Ht("toggle",i)),l.onScroll!=null&&Ht("scroll",i),l.onScrollEnd!=null&&Ht("scrollend",i),l.onClick!=null&&(i.onclick=Ke),i=!0):i=!1,i||ns(e,!0)}function Gg(e){for(en=e.return;en;)switch(en.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:en=en.return}}function Ya(e){if(e!==en)return!1;if(!Kt)return Gg(e),Kt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||tm(e.type,e.memoizedProps)),a=!a),a&&pe&&ns(e),Gg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));pe=gv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));pe=gv(e)}else i===27?(i=pe,gs(e.type)?(e=sm,sm=null,pe=e):pe=i):pe=en?gi(e.stateNode.nextSibling):null;return!0}function oa(){pe=en=null,Kt=!1}function Lf(){var e=es;return e!==null&&(Vn===null?Vn=e:Vn.push.apply(Vn,e),es=null),e}function ul(e){es===null?es=[e]:es.push(e)}var Uf=x(null),la=null,cr=null;function is(e,i,a){st(Uf,i._currentValue),i._currentValue=a}function hr(e){e._currentValue=Uf.current,J(Uf)}function zf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function jf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var C=0;C<i.length;C++)if(S.context===i[C]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),zf(d.return,a,e),l||(_=null);break t}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),zf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ka(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;Hn(h.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(h===jt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(kl):e=[kl])}h=h.return}e!==null&&jf(i,e,a,l),i.flags|=262144}function ic(e){for(e=e.firstContext;e!==null;){if(!Hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ua(e){la=e,cr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nn(e){return Qg(la,e)}function rc(e,i){return la===null&&ua(e),Qg(e,i)}function Qg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},cr===null){if(e===null)throw Error(s(308));cr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else cr=cr.next=i;return a}var GS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},QS=r.unstable_scheduleCallback,YS=r.unstable_NormalPriority,Pe={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new GS,data:new Map,refCount:0}}function cl(e){e.refCount--,e.refCount===0&&QS(YS,function(){e.controller.abort()})}var hl=null,qf=0,Xa=0,$a=null;function KS(e,i){if(hl===null){var a=hl=[];qf=0,Xa=Gd(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return qf++,i.then(Yg,Yg),i}function Yg(){if(--qf===0&&hl!==null){$a!==null&&($a.status="fulfilled");var e=hl;hl=null,Xa=0,$a=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function XS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Kg=K.S;K.S=function(e,i){x_=He(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&KS(e,i),Kg!==null&&Kg(e,i)};var ca=x(null);function Hf(){var e=ca.current;return e!==null?e:ce.pooledCache}function sc(e,i){i===null?st(ca,ca.current):st(ca,i.pool)}function Xg(){var e=Hf();return e===null?null:{parent:Pe._currentValue,pool:e}}var Ja=Error(s(460)),Ff=Error(s(474)),ac=Error(s(542)),oc={then:function(){}};function $g(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Ke,Ke),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Wg(e),e;default:if(typeof i.status=="string")i.then(Ke,Ke);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Wg(e),e}throw fa=i,Ja}}function ha(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fa=a,Ja):a}}var fa=null;function Zg(){if(fa===null)throw Error(s(459));var e=fa;return fa=null,e}function Wg(e){if(e===Ja||e===ac)throw Error(s(483))}var Za=null,fl=0;function lc(e){var i=fl;return fl+=1,Za===null&&(Za=[]),Jg(Za,e,i)}function dl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function uc(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function ty(e){function i(k,O){if(e){var j=k.deletions;j===null?(k.deletions=[O],k.flags|=16):j.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=lr(k,O),k.index=0,k.sibling=null,k}function d(k,O,j){return k.index=j,e?(j=k.alternate,j!==null?(j=j.index,j<O?(k.flags|=67108866,O):j):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function S(k,O,j,Z){return O===null||O.tag!==6?(O=Of(j,k.mode,Z),O.return=k,O):(O=h(O,j),O.return=k,O)}function C(k,O,j,Z){var Et=j.type;return Et===X?$(k,O,j.props.children,Z,j.key):O!==null&&(O.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===b&&ha(Et)===O.type)?(O=h(O,j.props),dl(O,j),O.return=k,O):(O=ec(j.type,j.key,j.props,null,k.mode,Z),dl(O,j),O.return=k,O)}function B(k,O,j,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Mf(j,k.mode,Z),O.return=k,O):(O=h(O,j.children||[]),O.return=k,O)}function $(k,O,j,Z,Et){return O===null||O.tag!==7?(O=aa(j,k.mode,Z,Et),O.return=k,O):(O=h(O,j),O.return=k,O)}function tt(k,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Of(""+O,k.mode,j),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return j=ec(O.type,O.key,O.props,null,k.mode,j),dl(j,O),j.return=k,j;case H:return O=Mf(O,k.mode,j),O.return=k,O;case b:return O=ha(O),tt(k,O,j)}if(Ee(O)||V(O))return O=aa(O,k.mode,j,null),O.return=k,O;if(typeof O.then=="function")return tt(k,lc(O),j);if(O.$$typeof===nt)return tt(k,rc(k,O),j);uc(k,O)}return null}function q(k,O,j,Z){var Et=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return Et!==null?null:S(k,O,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case P:return j.key===Et?C(k,O,j,Z):null;case H:return j.key===Et?B(k,O,j,Z):null;case b:return j=ha(j),q(k,O,j,Z)}if(Ee(j)||V(j))return Et!==null?null:$(k,O,j,Z,null);if(typeof j.then=="function")return q(k,O,lc(j),Z);if(j.$$typeof===nt)return q(k,O,rc(k,j),Z);uc(k,j)}return null}function G(k,O,j,Z,Et){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(j)||null,S(O,k,""+Z,Et);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case P:return k=k.get(Z.key===null?j:Z.key)||null,C(O,k,Z,Et);case H:return k=k.get(Z.key===null?j:Z.key)||null,B(O,k,Z,Et);case b:return Z=ha(Z),G(k,O,j,Z,Et)}if(Ee(Z)||V(Z))return k=k.get(j)||null,$(O,k,Z,Et,null);if(typeof Z.then=="function")return G(k,O,j,lc(Z),Et);if(Z.$$typeof===nt)return G(k,O,j,rc(O,Z),Et);uc(O,Z)}return null}function pt(k,O,j,Z){for(var Et=null,Wt=null,yt=O,kt=O=0,Gt=null;yt!==null&&kt<j.length;kt++){yt.index>kt?(Gt=yt,yt=null):Gt=yt.sibling;var te=q(k,yt,j[kt],Z);if(te===null){yt===null&&(yt=Gt);break}e&&yt&&te.alternate===null&&i(k,yt),O=d(te,O,kt),Wt===null?Et=te:Wt.sibling=te,Wt=te,yt=Gt}if(kt===j.length)return a(k,yt),Kt&&ur(k,kt),Et;if(yt===null){for(;kt<j.length;kt++)yt=tt(k,j[kt],Z),yt!==null&&(O=d(yt,O,kt),Wt===null?Et=yt:Wt.sibling=yt,Wt=yt);return Kt&&ur(k,kt),Et}for(yt=l(yt);kt<j.length;kt++)Gt=G(yt,k,kt,j[kt],Z),Gt!==null&&(e&&Gt.alternate!==null&&yt.delete(Gt.key===null?kt:Gt.key),O=d(Gt,O,kt),Wt===null?Et=Gt:Wt.sibling=Gt,Wt=Gt);return e&&yt.forEach(function(Ts){return i(k,Ts)}),Kt&&ur(k,kt),Et}function St(k,O,j,Z){if(j==null)throw Error(s(151));for(var Et=null,Wt=null,yt=O,kt=O=0,Gt=null,te=j.next();yt!==null&&!te.done;kt++,te=j.next()){yt.index>kt?(Gt=yt,yt=null):Gt=yt.sibling;var Ts=q(k,yt,te.value,Z);if(Ts===null){yt===null&&(yt=Gt);break}e&&yt&&Ts.alternate===null&&i(k,yt),O=d(Ts,O,kt),Wt===null?Et=Ts:Wt.sibling=Ts,Wt=Ts,yt=Gt}if(te.done)return a(k,yt),Kt&&ur(k,kt),Et;if(yt===null){for(;!te.done;kt++,te=j.next())te=tt(k,te.value,Z),te!==null&&(O=d(te,O,kt),Wt===null?Et=te:Wt.sibling=te,Wt=te);return Kt&&ur(k,kt),Et}for(yt=l(yt);!te.done;kt++,te=j.next())te=G(yt,k,kt,te.value,Z),te!==null&&(e&&te.alternate!==null&&yt.delete(te.key===null?kt:te.key),O=d(te,O,kt),Wt===null?Et=te:Wt.sibling=te,Wt=te);return e&&yt.forEach(function(aw){return i(k,aw)}),Kt&&ur(k,kt),Et}function le(k,O,j,Z){if(typeof j=="object"&&j!==null&&j.type===X&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case P:t:{for(var Et=j.key;O!==null;){if(O.key===Et){if(Et=j.type,Et===X){if(O.tag===7){a(k,O.sibling),Z=h(O,j.props.children),Z.return=k,k=Z;break t}}else if(O.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===b&&ha(Et)===O.type){a(k,O.sibling),Z=h(O,j.props),dl(Z,j),Z.return=k,k=Z;break t}a(k,O);break}else i(k,O);O=O.sibling}j.type===X?(Z=aa(j.props.children,k.mode,Z,j.key),Z.return=k,k=Z):(Z=ec(j.type,j.key,j.props,null,k.mode,Z),dl(Z,j),Z.return=k,k=Z)}return _(k);case H:t:{for(Et=j.key;O!==null;){if(O.key===Et)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(k,O.sibling),Z=h(O,j.children||[]),Z.return=k,k=Z;break t}else{a(k,O);break}else i(k,O);O=O.sibling}Z=Mf(j,k.mode,Z),Z.return=k,k=Z}return _(k);case b:return j=ha(j),le(k,O,j,Z)}if(Ee(j))return pt(k,O,j,Z);if(V(j)){if(Et=V(j),typeof Et!="function")throw Error(s(150));return j=Et.call(j),St(k,O,j,Z)}if(typeof j.then=="function")return le(k,O,lc(j),Z);if(j.$$typeof===nt)return le(k,O,rc(k,j),Z);uc(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(k,O.sibling),Z=h(O,j),Z.return=k,k=Z):(a(k,O),Z=Of(j,k.mode,Z),Z.return=k,k=Z),_(k)):a(k,O)}return function(k,O,j,Z){try{fl=0;var Et=le(k,O,j,Z);return Za=null,Et}catch(yt){if(yt===Ja||yt===ac)throw yt;var Wt=Fn(29,yt,null,k.mode);return Wt.lanes=Z,Wt.return=k,Wt}finally{}}}var da=ty(!0),ey=ty(!1),rs=!1;function Gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function as(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ee&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=tc(e),Ug(e,null,a),i}return Wu(e,l,i,a),tc(e)}function ml(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Ct(e,a)}}function Yf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Kf=!1;function pl(){if(Kf){var e=$a;if(e!==null)throw e}}function gl(e,i,a,l){Kf=!1;var h=e.updateQueue;rs=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var C=S,B=C.next;C.next=null,_===null?d=B:_.next=B,_=C;var $=e.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=B:S.next=B,$.lastBaseUpdate=C))}if(d!==null){var tt=h.baseState;_=0,$=B=C=null,S=d;do{var q=S.lane&-536870913,G=q!==S.lane;if(G?(Ft&q)===q:(l&q)===q){q!==0&&q===Xa&&(Kf=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var pt=e,St=S;q=i;var le=a;switch(St.tag){case 1:if(pt=St.payload,typeof pt=="function"){tt=pt.call(le,tt,q);break t}tt=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=St.payload,q=typeof pt=="function"?pt.call(le,tt,q):pt,q==null)break t;tt=T({},tt,q);break t;case 2:rs=!0}}q=S.callback,q!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(B=$=G,C=tt):$=$.next=G,_|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;G=S,S=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);$===null&&(C=tt),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),hs|=_,e.lanes=_,e.memoizedState=tt}}function ny(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function iy(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ny(a[e],i)}var Wa=x(null),cc=x(0);function ry(e,i){e=Er,st(cc,e),st(Wa,i),Er=e|i.baseLanes}function Xf(){st(cc,Er),st(Wa,Wa.current)}function $f(){Er=cc.current,J(Wa),J(cc)}var Gn=x(null),pi=null;function os(e){var i=e.alternate;st(xe,xe.current&1),st(Gn,e),pi===null&&(i===null||Wa.current!==null||i.memoizedState!==null)&&(pi=e)}function Jf(e){st(xe,xe.current),st(Gn,e),pi===null&&(pi=e)}function sy(e){e.tag===22?(st(xe,xe.current),st(Gn,e),pi===null&&(pi=e)):ls()}function ls(){st(xe,xe.current),st(Gn,Gn.current)}function Qn(e){J(Gn),pi===e&&(pi=null),J(xe)}var xe=x(0);function hc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||im(a)||rm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fr=0,Vt=null,ae=null,ke=null,fc=!1,to=!1,ma=!1,dc=0,yl=0,eo=null,$S=0;function be(){throw Error(s(321))}function Zf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Hn(e[a],i[a]))return!1;return!0}function Wf(e,i,a,l,h,d){return fr=d,Vt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?qy:md,ma=!1,d=a(l,h),ma=!1,to&&(d=oy(i,a,l,h)),ay(e),d}function ay(e){K.H=El;var i=ae!==null&&ae.next!==null;if(fr=0,ke=ae=Vt=null,fc=!1,yl=0,eo=null,i)throw Error(s(300));e===null||Le||(e=e.dependencies,e!==null&&ic(e)&&(Le=!0))}function oy(e,i,a,l){Vt=e;var h=0;do{if(to&&(eo=null),yl=0,to=!1,25<=h)throw Error(s(301));if(h+=1,ke=ae=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Hy,d=i(a,l)}while(to);return d}function JS(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?_l(i):i,e=e.useState()[0],(ae!==null?ae.memoizedState:null)!==e&&(Vt.flags|=1024),i}function td(){var e=dc!==0;return dc=0,e}function ed(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function nd(e){if(fc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}fc=!1}fr=0,ke=ae=Vt=null,to=!1,yl=dc=0,eo=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?Vt.memoizedState=ke=e:ke=ke.next=e,ke}function Oe(){if(ae===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var i=ke===null?Vt.memoizedState:ke.next;if(i!==null)ke=i,ae=e;else{if(e===null)throw Vt.alternate===null?Error(s(467)):Error(s(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},ke===null?Vt.memoizedState=ke=e:ke=ke.next=e}return ke}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(e){var i=yl;return yl+=1,eo===null&&(eo=[]),e=Jg(eo,e,i),i=Vt,(ke===null?i.memoizedState:ke.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?qy:md),e}function pc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return _l(e);if(e.$$typeof===nt)return nn(e)}throw Error(s(438,String(e)))}function id(e){var i=null,a=Vt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mc(),Vt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=N;return i.index++,a}function dr(e,i){return typeof i=="function"?i(e):i}function gc(e){var i=Oe();return rd(i,ae,e)}function rd(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var S=_=null,C=null,B=i,$=!1;do{var tt=B.lane&-536870913;if(tt!==B.lane?(Ft&tt)===tt:(fr&tt)===tt){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),tt===Xa&&($=!0);else if((fr&q)===q){B=B.next,q===Xa&&($=!0);continue}else tt={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(S=C=tt,_=d):C=C.next=tt,Vt.lanes|=q,hs|=q;tt=B.action,ma&&a(d,tt),d=B.hasEagerState?B.eagerState:a(d,tt)}else q={lane:tt,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(S=C=q,_=d):C=C.next=q,Vt.lanes|=tt,hs|=tt;B=B.next}while(B!==null&&B!==i);if(C===null?_=d:C.next=S,!Hn(d,e.memoizedState)&&(Le=!0,$&&(a=$a,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function sd(e){var i=Oe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Hn(d,i.memoizedState)||(Le=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ly(e,i,a){var l=Vt,h=Oe(),d=Kt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Hn((ae||h).memoizedState,a);if(_&&(h.memoizedState=a,Le=!0),h=h.queue,ld(hy.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||ke!==null&&ke.memoizedState.tag&1){if(l.flags|=2048,no(9,{destroy:void 0},cy.bind(null,l,h,a,i),null),ce===null)throw Error(s(349));d||(fr&127)!==0||uy(l,i,a)}return a}function uy(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Vt.updateQueue,i===null?(i=mc(),Vt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function cy(e,i,a,l){i.value=a,i.getSnapshot=l,fy(i)&&dy(e)}function hy(e,i,a){return a(function(){fy(i)&&dy(e)})}function fy(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Hn(e,a)}catch{return!0}}function dy(e){var i=sa(e,2);i!==null&&Pn(i,e,2)}function ad(e){var i=An();if(typeof e=="function"){var a=e;if(e=a(),ma){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:e},i}function my(e,i,a,l){return e.baseState=a,rd(e,ae,typeof l=="function"?l:dr)}function ZS(e,i,a,l,h){if(vc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,py(i,d)):(d.next=a.next,i.pending=a.next=d)}}function py(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var S=a(h,l),C=K.S;C!==null&&C(_,S),gy(e,i,S)}catch(B){od(e,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),gy(e,i,d)}catch(B){od(e,i,B)}}function gy(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){yy(e,i,l)},function(l){return od(e,i,l)}):yy(e,i,a)}function yy(e,i,a){i.status="fulfilled",i.value=a,_y(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,py(e,a)))}function od(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,_y(i),i=i.next;while(i!==l)}e.action=null}function _y(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function vy(e,i){return i}function Ey(e,i){if(Kt){var a=ce.formState;if(a!==null){t:{var l=Vt;if(Kt){if(pe){e:{for(var h=pe,d=mi;h.nodeType!==8;){if(!d){h=null;break e}if(h=gi(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){pe=gi(h.nextSibling),l=h.data==="F!";break t}}ns(l)}l=!1}l&&(i=a[0])}}return a=An(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vy,lastRenderedState:i},a.queue=l,a=zy.bind(null,Vt,l),l.dispatch=a,l=ad(!1),d=dd.bind(null,Vt,!1,l.queue),l=An(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=ZS.bind(null,Vt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Ty(e){var i=Oe();return Sy(i,ae,e)}function Sy(e,i,a){if(i=rd(e,i,vy)[0],e=gc(dr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=_l(i)}catch(_){throw _===Ja?ac:_}else l=i;i=Oe();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Vt.flags|=2048,no(9,{destroy:void 0},WS.bind(null,h,a),null)),[l,d,e]}function WS(e,i){e.action=i}function Ay(e){var i=Oe(),a=ae;if(a!==null)return Sy(i,a,e);Oe(),i=i.memoizedState,a=Oe();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function no(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Vt.updateQueue,i===null&&(i=mc(),Vt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function wy(){return Oe().memoizedState}function yc(e,i,a,l){var h=An();Vt.flags|=e,h.memoizedState=no(1|i,{destroy:void 0},a,l===void 0?null:l)}function _c(e,i,a,l){var h=Oe();l=l===void 0?null:l;var d=h.memoizedState.inst;ae!==null&&l!==null&&Zf(l,ae.memoizedState.deps)?h.memoizedState=no(i,d,a,l):(Vt.flags|=e,h.memoizedState=no(1|i,d,a,l))}function by(e,i){yc(8390656,8,e,i)}function ld(e,i){_c(2048,8,e,i)}function tA(e){Vt.flags|=4;var i=Vt.updateQueue;if(i===null)i=mc(),Vt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Ry(e){var i=Oe().memoizedState;return tA({ref:i,nextImpl:e}),function(){if((ee&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Iy(e,i){return _c(4,2,e,i)}function Cy(e,i){return _c(4,4,e,i)}function Dy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Ny(e,i,a){a=a!=null?a.concat([e]):null,_c(4,4,Dy.bind(null,i,e),a)}function ud(){}function xy(e,i){var a=Oe();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Zf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Oy(e,i){var a=Oe();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Zf(i,l[1]))return l[0];if(l=e(),ma){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function cd(e,i,a){return a===void 0||(fr&1073741824)!==0&&(Ft&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=M_(),Vt.lanes|=e,hs|=e,a)}function My(e,i,a,l){return Hn(a,i)?a:Wa.current!==null?(e=cd(e,a,l),Hn(e,i)||(Le=!0),e):(fr&42)===0||(fr&1073741824)!==0&&(Ft&261930)===0?(Le=!0,e.memoizedState=a):(e=M_(),Vt.lanes|=e,hs|=e,i)}function Vy(e,i,a,l,h){var d=lt.p;lt.p=d!==0&&8>d?d:8;var _=K.T,S={};K.T=S,dd(e,!1,i,a);try{var C=h(),B=K.S;if(B!==null&&B(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=XS(C,l);vl(e,i,$,Xn(e))}else vl(e,i,l,Xn(e))}catch(tt){vl(e,i,{then:function(){},status:"rejected",reason:tt},Xn())}finally{lt.p=d,_!==null&&S.types!==null&&(_.types=S.types),K.T=_}}function eA(){}function hd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Py(e).queue;Vy(e,h,i,gt,a===null?eA:function(){return ky(e),a(l)})}function Py(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:gt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ky(e){var i=Py(e);i.next===null&&(i=e.alternate.memoizedState),vl(e,i.next.queue,{},Xn())}function fd(){return nn(kl)}function Ly(){return Oe().memoizedState}function Uy(){return Oe().memoizedState}function nA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Xn();e=ss(a);var l=as(i,e,a);l!==null&&(Pn(l,i,a),ml(l,i,a)),i={cache:Bf()},e.payload=i;return}i=i.return}}function iA(e,i,a){var l=Xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vc(e)?jy(i,a):(a=Nf(e,i,a,l),a!==null&&(Pn(a,e,l),By(a,i,l)))}function zy(e,i,a){var l=Xn();vl(e,i,a,l)}function vl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(e))jy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,Hn(S,_))return Wu(e,i,h,0),ce===null&&Zu(),!1}catch{}finally{}if(a=Nf(e,i,h,l),a!==null)return Pn(a,e,l),By(a,i,l),!0}return!1}function dd(e,i,a,l){if(l={lane:2,revertLane:Gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vc(e)){if(i)throw Error(s(479))}else i=Nf(e,a,l,2),i!==null&&Pn(i,e,2)}function vc(e){var i=e.alternate;return e===Vt||i!==null&&i===Vt}function jy(e,i){to=fc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function By(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Ct(e,a)}}var El={readContext:nn,use:pc,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be};El.useEffectEvent=be;var qy={readContext:nn,use:pc,useCallback:function(e,i){return An().memoizedState=[e,i===void 0?null:i],e},useContext:nn,useEffect:by,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,yc(4194308,4,Dy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return yc(4194308,4,e,i)},useInsertionEffect:function(e,i){yc(4,2,e,i)},useMemo:function(e,i){var a=An();i=i===void 0?null:i;var l=e();if(ma){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=An();if(a!==void 0){var h=a(i);if(ma){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=iA.bind(null,Vt,e),[l.memoizedState,e]},useRef:function(e){var i=An();return e={current:e},i.memoizedState=e},useState:function(e){e=ad(e);var i=e.queue,a=zy.bind(null,Vt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(e,i){var a=An();return cd(a,e,i)},useTransition:function(){var e=ad(!1);return e=Vy.bind(null,Vt,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Vt,h=An();if(Kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ce===null)throw Error(s(349));(Ft&127)!==0||uy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,by(hy.bind(null,l,d,e),[e]),l.flags|=2048,no(9,{destroy:void 0},cy.bind(null,l,d,a,i),null),a},useId:function(){var e=An(),i=ce.identifierPrefix;if(Kt){var a=Ui,l=Li;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=dc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=$S++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:fd,useFormState:Ey,useActionState:Ey,useOptimistic:function(e){var i=An();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=dd.bind(null,Vt,!0,a),a.dispatch=i,[e,i]},useMemoCache:id,useCacheRefresh:function(){return An().memoizedState=nA.bind(null,Vt)},useEffectEvent:function(e){var i=An(),a={impl:e};return i.memoizedState=a,function(){if((ee&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},md={readContext:nn,use:pc,useCallback:xy,useContext:nn,useEffect:ld,useImperativeHandle:Ny,useInsertionEffect:Iy,useLayoutEffect:Cy,useMemo:Oy,useReducer:gc,useRef:wy,useState:function(){return gc(dr)},useDebugValue:ud,useDeferredValue:function(e,i){var a=Oe();return My(a,ae.memoizedState,e,i)},useTransition:function(){var e=gc(dr)[0],i=Oe().memoizedState;return[typeof e=="boolean"?e:_l(e),i]},useSyncExternalStore:ly,useId:Ly,useHostTransitionStatus:fd,useFormState:Ty,useActionState:Ty,useOptimistic:function(e,i){var a=Oe();return my(a,ae,e,i)},useMemoCache:id,useCacheRefresh:Uy};md.useEffectEvent=Ry;var Hy={readContext:nn,use:pc,useCallback:xy,useContext:nn,useEffect:ld,useImperativeHandle:Ny,useInsertionEffect:Iy,useLayoutEffect:Cy,useMemo:Oy,useReducer:sd,useRef:wy,useState:function(){return sd(dr)},useDebugValue:ud,useDeferredValue:function(e,i){var a=Oe();return ae===null?cd(a,e,i):My(a,ae.memoizedState,e,i)},useTransition:function(){var e=sd(dr)[0],i=Oe().memoizedState;return[typeof e=="boolean"?e:_l(e),i]},useSyncExternalStore:ly,useId:Ly,useHostTransitionStatus:fd,useFormState:Ay,useActionState:Ay,useOptimistic:function(e,i){var a=Oe();return ae!==null?my(a,ae,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:id,useCacheRefresh:Uy};Hy.useEffectEvent=Ry;function pd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var gd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Xn(),h=ss(l);h.payload=i,a!=null&&(h.callback=a),i=as(e,h,l),i!==null&&(Pn(i,e,l),ml(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Xn(),h=ss(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=as(e,h,l),i!==null&&(Pn(i,e,l),ml(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Xn(),l=ss(a);l.tag=2,i!=null&&(l.callback=i),i=as(e,l,a),i!==null&&(Pn(i,e,a),ml(i,e,a))}};function Fy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!al(a,l)||!al(h,d):!0}function Gy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&gd.enqueueReplaceState(i,i.state,null)}function pa(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Qy(e){Ju(e)}function Yy(e){console.error(e)}function Ky(e){Ju(e)}function Ec(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Xy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yd(e,i,a){return a=ss(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(e,i)},a}function $y(e){return e=ss(e),e.tag=3,e}function Jy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Xy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Xy(i,a,l),typeof h!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function rA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ka(i,a,h,!0),a=Gn.current,a!==null){switch(a.tag){case 31:case 13:return pi===null?Oc():a.alternate===null&&Re===0&&(Re=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===oc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),qd(e,l,h)),!1;case 22:return a.flags|=65536,l===oc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),qd(e,l,h)),!1}throw Error(s(435,a.tag))}return qd(e,l,h),Oc(),!1}if(Kt)return i=Gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==kf&&(e=Error(s(422),{cause:l}),ul(hi(e,a)))):(l!==kf&&(i=Error(s(423),{cause:l}),ul(hi(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=hi(l,a),h=yd(e.stateNode,l,h),Yf(e,h),Re!==4&&(Re=2)),!1;var d=Error(s(520),{cause:l});if(d=hi(d,a),Cl===null?Cl=[d]:Cl.push(d),Re!==4&&(Re=2),i===null)return!0;l=hi(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=yd(a.stateNode,l,e),Yf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(fs===null||!fs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=$y(h),Jy(h,e,a,l),Yf(a,h),!1}a=a.return}while(a!==null);return!1}var _d=Error(s(461)),Le=!1;function rn(e,i,a,l){i.child=e===null?ey(i,null,a,l):da(i,e.child,a,l)}function Zy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return ua(i),l=Wf(e,i,a,_,d,h),S=td(),e!==null&&!Le?(ed(e,i,h),mr(e,i,h)):(Kt&&S&&Vf(i),i.flags|=1,rn(e,i,l,h),i.child)}function Wy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,t_(e,i,d,l,h)):(e=ec(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Rd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(_,l)&&e.ref===i.ref)return mr(e,i,h)}return i.flags|=1,e=lr(d,l),e.ref=i.ref,e.return=i,i.child=e}function t_(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(al(d,l)&&e.ref===i.ref)if(Le=!1,i.pendingProps=l=d,Rd(e,h))(e.flags&131072)!==0&&(Le=!0);else return i.lanes=e.lanes,mr(e,i,h)}return vd(e,i,a,l,h)}function e_(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return n_(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&sc(i,d!==null?d.cachePool:null),d!==null?ry(i,d):Xf(),sy(i);else return l=i.lanes=536870912,n_(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(sc(i,d.cachePool),ry(i,d),ls(),i.memoizedState=null):(e!==null&&sc(i,null),Xf(),ls());return rn(e,i,h,a),i.child}function Tl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function n_(e,i,a,l,h){var d=Hf();return d=d===null?null:{parent:Pe._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&sc(i,null),Xf(),sy(i),e!==null&&Ka(e,i,l,!0),i.childLanes=h,null}function Tc(e,i){return i=Ac({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function i_(e,i,a){return da(i,e.child,null,a),e=Tc(i,i.pendingProps),e.flags|=2,Qn(i),i.memoizedState=null,e}function sA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Kt){if(l.mode==="hidden")return e=Tc(i,l),i.lanes=536870912,Tl(null,e);if(Jf(i),(e=pe)?(e=pv(e,mi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:ts!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=jg(e),a.return=i,i.child=a,en=i,pe=null)):e=null,e===null)throw ns(i);return i.lanes=536870912,null}return Tc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Jf(i),h)if(i.flags&256)i.flags&=-257,i=i_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Le||Ka(e,i,a,!1),h=(a&e.childLanes)!==0,Le||h){if(l=ce,l!==null&&(_=ie(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,sa(e,_),Pn(l,e,_),_d;Oc(),i=i_(e,i,a)}else e=d.treeContext,pe=gi(_.nextSibling),en=i,Kt=!0,es=null,mi=!1,e!==null&&Hg(i,e),i=Tc(i,l),i.flags|=4096;return i}return e=lr(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Sc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function vd(e,i,a,l,h){return ua(i),a=Wf(e,i,a,l,void 0,h),l=td(),e!==null&&!Le?(ed(e,i,h),mr(e,i,h)):(Kt&&l&&Vf(i),i.flags|=1,rn(e,i,a,h),i.child)}function r_(e,i,a,l,h,d){return ua(i),i.updateQueue=null,a=oy(i,l,a,h),ay(e),l=td(),e!==null&&!Le?(ed(e,i,d),mr(e,i,d)):(Kt&&l&&Vf(i),i.flags|=1,rn(e,i,a,d),i.child)}function s_(e,i,a,l,h){if(ua(i),i.stateNode===null){var d=Fa,_=a.contextType;typeof _=="object"&&_!==null&&(d=nn(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Gf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?nn(_):Fa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(pd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&gd.enqueueReplaceState(d,d.state,null),gl(i,l,d,h),pl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var S=i.memoizedProps,C=pa(a,S);d.props=C;var B=d.context,$=a.contextType;_=Fa,typeof $=="object"&&$!==null&&(_=nn($));var tt=a.getDerivedStateFromProps;$=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&Gy(i,d,l,_),rs=!1;var q=i.memoizedState;d.state=q,gl(i,l,d,h),pl(),B=i.memoizedState,S||q!==B||rs?(typeof tt=="function"&&(pd(i,a,tt,l),B=i.memoizedState),(C=rs||Fy(i,a,C,l,q,B,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Qf(e,i),_=i.memoizedProps,$=pa(a,_),d.props=$,tt=i.pendingProps,q=d.context,B=a.contextType,C=Fa,typeof B=="object"&&B!==null&&(C=nn(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==tt||q!==C)&&Gy(i,d,l,C),rs=!1,q=i.memoizedState,d.state=q,gl(i,l,d,h),pl();var G=i.memoizedState;_!==tt||q!==G||rs||e!==null&&e.dependencies!==null&&ic(e.dependencies)?(typeof S=="function"&&(pd(i,a,S,l),G=i.memoizedState),($=rs||Fy(i,a,$,l,q,G,C)||e!==null&&e.dependencies!==null&&ic(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=C,l=$):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Sc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=da(i,e.child,null,h),i.child=da(i,null,a,h)):rn(e,i,a,h),i.memoizedState=d.state,e=i.child):e=mr(e,i,h),e}function a_(e,i,a,l){return oa(),i.flags|=256,rn(e,i,a,l),i.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(e){return{baseLanes:e,cachePool:Xg()}}function Sd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Kn),e}function o_(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(xe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Kt){if(h?os(i):ls(),(e=pe)?(e=pv(e,mi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:ts!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=jg(e),a.return=i,i.child=a,en=i,pe=null)):e=null,e===null)throw ns(i);return rm(e)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(ls(),h=i.mode,S=Ac({mode:"hidden",children:S},h),l=aa(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Td(a),l.childLanes=Sd(e,_,a),i.memoizedState=Ed,Tl(null,l)):(os(i),Ad(i,S))}var C=e.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(d)i.flags&256?(os(i),i.flags&=-257,i=wd(e,i,a)):i.memoizedState!==null?(ls(),i.child=e.child,i.flags|=128,i=null):(ls(),S=l.fallback,h=i.mode,l=Ac({mode:"visible",children:l.children},h),S=aa(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,da(i,e.child,null,a),l=i.child,l.memoizedState=Td(a),l.childLanes=Sd(e,_,a),i.memoizedState=Ed,i=Tl(null,l));else if(os(i),rm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,ul({value:l,source:null,stack:null}),i=wd(e,i,a)}else if(Le||Ka(e,i,a,!1),_=(a&e.childLanes)!==0,Le||_){if(_=ce,_!==null&&(l=ie(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,sa(e,l),Pn(_,e,l),_d;im(S)||Oc(),i=wd(e,i,a)}else im(S)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,pe=gi(S.nextSibling),en=i,Kt=!0,es=null,mi=!1,e!==null&&Hg(i,e),i=Ad(i,l.children),i.flags|=4096);return i}return h?(ls(),S=l.fallback,h=i.mode,C=e.child,B=C.sibling,l=lr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?S=lr(B,S):(S=aa(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Tl(null,l),l=i.child,S=e.child.memoizedState,S===null?S=Td(a):(h=S.cachePool,h!==null?(C=Pe._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Xg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=Sd(e,_,a),i.memoizedState=Ed,Tl(e.child,l)):(os(i),a=e.child,e=a.sibling,a=lr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Ad(e,i){return i=Ac({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ac(e,i){return e=Fn(22,e,null,i),e.lanes=0,e}function wd(e,i,a){return da(i,e.child,null,a),e=Ad(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function l_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),zf(e.return,i,a)}function bd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function u_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=xe.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,st(xe,_),rn(e,i,l,a),l=Kt?ll:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&l_(e,a,i);else if(e.tag===19)l_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&hc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),bd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&hc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}bd(i,!0,a,null,d,l);break;case"together":bd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function mr(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),hs|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ka(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=lr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=lr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Rd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ic(e)))}function aA(e,i,a){switch(i.tag){case 3:qe(i,i.stateNode.containerInfo),is(i,Pe,e.memoizedState.cache),oa();break;case 27:case 5:ni(i);break;case 4:qe(i,i.stateNode.containerInfo);break;case 10:is(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Jf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(os(i),i.flags|=128,null):(a&i.child.childLanes)!==0?o_(e,i,a):(os(i),e=mr(e,i,a),e!==null?e.sibling:null);os(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ka(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return u_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(xe,xe.current),l)break;return null;case 22:return i.lanes=0,e_(e,i,a,i.pendingProps);case 24:is(i,Pe,e.memoizedState.cache)}return mr(e,i,a)}function c_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Le=!0;else{if(!Rd(e,a)&&(i.flags&128)===0)return Le=!1,aA(e,i,a);Le=(e.flags&131072)!==0}else Le=!1,Kt&&(i.flags&1048576)!==0&&qg(i,ll,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=ha(i.elementType),i.type=e,typeof e=="function")xf(e)?(l=pa(e,l),i.tag=1,i=s_(null,i,e,l,a)):(i.tag=0,i=vd(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===_t){i.tag=11,i=Zy(null,i,e,l,a);break t}else if(h===D){i.tag=14,i=Wy(null,i,e,l,a);break t}}throw i=fe(e)||e,Error(s(306,i,""))}}return i;case 0:return vd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=pa(l,i.pendingProps),s_(e,i,l,h,a);case 3:t:{if(qe(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Qf(e,i),gl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,is(i,Pe,l),l!==d.cache&&jf(i,[Pe],a,!0),pl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=a_(e,i,l,a);break t}else if(l!==h){h=hi(Error(s(424)),i),ul(h),i=a_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pe=gi(e.firstChild),en=i,Kt=!0,es=null,mi=!0,a=ey(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(oa(),l===h){i=mr(e,i,a);break t}rn(e,i,l,a)}i=i.child}return i;case 26:return Sc(e,i),e===null?(a=Tv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Kt||(a=i.type,e=i.pendingProps,l=zc(Pt.current).createElement(a),l[he]=i,l[Ae]=e,sn(l,a,e),Ne(l),i.stateNode=l):i.memoizedState=Tv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ni(i),e===null&&Kt&&(l=i.stateNode=_v(i.type,i.pendingProps,Pt.current),en=i,mi=!0,h=pe,gs(i.type)?(sm=h,pe=gi(l.firstChild)):pe=h),rn(e,i,i.pendingProps.children,a),Sc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Kt&&((h=l=pe)&&(l=kA(l,i.type,i.pendingProps,mi),l!==null?(i.stateNode=l,en=i,pe=gi(l.firstChild),mi=!1,h=!0):h=!1),h||ns(i)),ni(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,tm(h,d)?l=null:_!==null&&tm(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Wf(e,i,JS,null,null,a),kl._currentValue=h),Sc(e,i),rn(e,i,l,a),i.child;case 6:return e===null&&Kt&&((e=a=pe)&&(a=LA(a,i.pendingProps,mi),a!==null?(i.stateNode=a,en=i,pe=null,e=!0):e=!1),e||ns(i)),null;case 13:return o_(e,i,a);case 4:return qe(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=da(i,null,l,a):rn(e,i,l,a),i.child;case 11:return Zy(e,i,i.type,i.pendingProps,a);case 7:return rn(e,i,i.pendingProps,a),i.child;case 8:return rn(e,i,i.pendingProps.children,a),i.child;case 12:return rn(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,is(i,i.type,l.value),rn(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ua(i),h=nn(h),l=l(h),i.flags|=1,rn(e,i,l,a),i.child;case 14:return Wy(e,i,i.type,i.pendingProps,a);case 15:return t_(e,i,i.type,i.pendingProps,a);case 19:return u_(e,i,a);case 31:return sA(e,i,a);case 22:return e_(e,i,a,i.pendingProps);case 24:return ua(i),l=nn(Pe),e===null?(h=Hf(),h===null&&(h=ce,d=Bf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Gf(i),is(i,Pe,h)):((e.lanes&a)!==0&&(Qf(e,i),gl(i,null,null,a),pl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),is(i,Pe,l)):(l=d.cache,is(i,Pe,l),l!==h.cache&&jf(i,[Pe],a,!0))),rn(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function pr(e){e.flags|=4}function Id(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(L_())e.flags|=8192;else throw fa=oc,Ff}else e.flags&=-16777217}function h_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Rv(i))if(L_())e.flags|=8192;else throw fa=oc,Ff}function wc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?et():536870912,e.lanes|=i,ao|=i)}function Sl(e,i){if(!Kt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ge(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function oA(e,i,a){var l=i.pendingProps;switch(Pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(i),null;case 1:return ge(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),hr(Pe),de(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ya(i)?pr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Lf())),ge(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(pr(i),d!==null?(ge(i),h_(i,d)):(ge(i),Id(i,h,null,l,a))):d?d!==e.memoizedState?(pr(i),ge(i),h_(i,d)):(ge(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&pr(i),ge(i),Id(i,h,e,l,a)),null;case 27:if(Ei(i),a=Pt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&pr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ge(i),null}e=dt.current,Ya(i)?Fg(i):(e=_v(h,l,a),i.stateNode=e,pr(i))}return ge(i),null;case 5:if(Ei(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&pr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ge(i),null}if(d=dt.current,Ya(i))Fg(i);else{var _=zc(Pt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[he]=i,d[Ae]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(sn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&pr(i)}}return ge(i),Id(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&pr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Pt.current,Ya(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[he]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ov(e.nodeValue,a)),e||ns(i,!0)}else e=zc(e).createTextNode(l),e[he]=i,i.stateNode=e}return ge(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Ya(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[he]=i}else oa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ge(i),e=!1}else a=Lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Qn(i),i):(Qn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ge(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ya(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[he]=i}else oa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ge(i),h=!1}else h=Lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Qn(i),i):(Qn(i),null)}return Qn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),wc(i,i.updateQueue),ge(i),null);case 4:return de(),e===null&&Xd(i.stateNode.containerInfo),ge(i),null;case 10:return hr(i.type),ge(i),null;case 19:if(J(xe),l=i.memoizedState,l===null)return ge(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Sl(l,!1);else{if(Re!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=hc(e),d!==null){for(i.flags|=128,Sl(l,!1),e=d.updateQueue,i.updateQueue=e,wc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)zg(a,e),a=a.sibling;return st(xe,xe.current&1|2),Kt&&ur(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&He()>Dc&&(i.flags|=128,h=!0,Sl(l,!1),i.lanes=4194304)}else{if(!h)if(e=hc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,wc(i,e),Sl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Kt)return ge(i),null}else 2*He()-l.renderingStartTime>Dc&&a!==536870912&&(i.flags|=128,h=!0,Sl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=He(),e.sibling=null,a=xe.current,st(xe,h?a&1|2:a&1),Kt&&ur(i,l.treeForkCount),e):(ge(i),null);case 22:case 23:return Qn(i),$f(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ge(i),i.subtreeFlags&6&&(i.flags|=8192)):ge(i),a=i.updateQueue,a!==null&&wc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&J(ca),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),hr(Pe),ge(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function lA(e,i){switch(Pf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return hr(Pe),de(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ei(i),null;case 31:if(i.memoizedState!==null){if(Qn(i),i.alternate===null)throw Error(s(340));oa()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Qn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));oa()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return J(xe),null;case 4:return de(),null;case 10:return hr(i.type),null;case 22:case 23:return Qn(i),$f(),e!==null&&J(ca),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return hr(Pe),null;case 25:return null;default:return null}}function f_(e,i){switch(Pf(i),i.tag){case 3:hr(Pe),de();break;case 26:case 27:case 5:Ei(i);break;case 4:de();break;case 31:i.memoizedState!==null&&Qn(i);break;case 13:Qn(i);break;case 19:J(xe);break;case 10:hr(i.type);break;case 22:case 23:Qn(i),$f(),e!==null&&J(ca);break;case 24:hr(Pe)}}function Al(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){se(i,i.return,S)}}function us(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var C=a,B=S;try{B()}catch($){se(h,C,$)}}}l=l.next}while(l!==d)}}catch($){se(i,i.return,$)}}function d_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{iy(i,a)}catch(l){se(e,e.return,l)}}}function m_(e,i,a){a.props=pa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){se(e,i,l)}}function wl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){se(e,i,h)}}function zi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){se(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){se(e,i,h)}else a.current=null}function p_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){se(e,e.return,h)}}function Cd(e,i,a){try{var l=e.stateNode;NA(l,e.type,a,i),l[Ae]=i}catch(h){se(e,e.return,h)}}function g_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gs(e.type)||e.tag===4}function Dd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||g_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ke));else if(l!==4&&(l===27&&gs(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Nd(e,i,a),e=e.sibling;e!==null;)Nd(e,i,a),e=e.sibling}function bc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&gs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(bc(e,i,a),e=e.sibling;e!==null;)bc(e,i,a),e=e.sibling}function y_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);sn(i,l,a),i[he]=e,i[Ae]=a}catch(d){se(e,e.return,d)}}var gr=!1,Ue=!1,xd=!1,__=typeof WeakSet=="function"?WeakSet:Set,Je=null;function uA(e,i){if(e=e.containerInfo,Zd=Qc,e=Ng(e),wf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,C=-1,B=0,$=0,tt=e,q=null;e:for(;;){for(var G;tt!==a||h!==0&&tt.nodeType!==3||(S=_+h),tt!==d||l!==0&&tt.nodeType!==3||(C=_+l),tt.nodeType===3&&(_+=tt.nodeValue.length),(G=tt.firstChild)!==null;)q=tt,tt=G;for(;;){if(tt===e)break e;if(q===a&&++B===h&&(S=_),q===d&&++$===l&&(C=_),(G=tt.nextSibling)!==null)break;tt=q,q=tt.parentNode}tt=G}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wd={focusedElem:e,selectionRange:a},Qc=!1,Je=i;Je!==null;)if(i=Je,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Je=e;else for(;Je!==null;){switch(i=Je,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pt=pa(a.type,h);e=l.getSnapshotBeforeUpdate(pt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(St){se(a,a.return,St)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)nm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Je=e;break}Je=i.return}}function v_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_r(e,a),l&4&&Al(5,a);break;case 1:if(_r(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){se(a,a.return,_)}else{var h=pa(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){se(a,a.return,_)}}l&64&&d_(a),l&512&&wl(a,a.return);break;case 3:if(_r(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{iy(e,i)}catch(_){se(a,a.return,_)}}break;case 27:i===null&&l&4&&y_(a);case 26:case 5:_r(e,a),i===null&&l&4&&p_(a),l&512&&wl(a,a.return);break;case 12:_r(e,a);break;case 31:_r(e,a),l&4&&S_(e,a);break;case 13:_r(e,a),l&4&&A_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=_A.bind(null,a),UA(e,a))));break;case 22:if(l=a.memoizedState!==null||gr,!l){i=i!==null&&i.memoizedState!==null||Ue,h=gr;var d=Ue;gr=l,(Ue=i)&&!d?vr(e,a,(a.subtreeFlags&8772)!==0):_r(e,a),gr=h,Ue=d}break;case 30:break;default:_r(e,a)}}function E_(e){var i=e.alternate;i!==null&&(e.alternate=null,E_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ys(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,xn=!1;function yr(e,i,a){for(a=a.child;a!==null;)T_(e,i,a),a=a.sibling}function T_(e,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ai,a)}catch{}switch(a.tag){case 26:Ue||zi(a,i),yr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ue||zi(a,i);var l=ve,h=xn;gs(a.type)&&(ve=a.stateNode,xn=!1),yr(e,i,a),Ml(a.stateNode),ve=l,xn=h;break;case 5:Ue||zi(a,i);case 6:if(l=ve,h=xn,ve=null,yr(e,i,a),ve=l,xn=h,ve!==null)if(xn)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(a.stateNode)}catch(d){se(a,i,d)}else try{ve.removeChild(a.stateNode)}catch(d){se(a,i,d)}break;case 18:ve!==null&&(xn?(e=ve,dv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),po(e)):dv(ve,a.stateNode));break;case 4:l=ve,h=xn,ve=a.stateNode.containerInfo,xn=!0,yr(e,i,a),ve=l,xn=h;break;case 0:case 11:case 14:case 15:us(2,a,i),Ue||us(4,a,i),yr(e,i,a);break;case 1:Ue||(zi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&m_(a,i,l)),yr(e,i,a);break;case 21:yr(e,i,a);break;case 22:Ue=(l=Ue)||a.memoizedState!==null,yr(e,i,a),Ue=l;break;default:yr(e,i,a)}}function S_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{po(e)}catch(a){se(i,i.return,a)}}}function A_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{po(e)}catch(a){se(i,i.return,a)}}function cA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new __),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new __),i;default:throw Error(s(435,e.tag))}}function Rc(e,i){var a=cA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=vA.bind(null,e,l);l.then(h,h)}})}function On(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(gs(S.type)){ve=S.stateNode,xn=!1;break t}break;case 5:ve=S.stateNode,xn=!1;break t;case 3:case 4:ve=S.stateNode.containerInfo,xn=!0;break t}S=S.return}if(ve===null)throw Error(s(160));T_(d,_,h),ve=null,xn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)w_(i,e),i=i.sibling}var bi=null;function w_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:On(i,e),Mn(e),l&4&&(us(3,e,e.return),Al(3,e),us(5,e,e.return));break;case 1:On(i,e),Mn(e),l&512&&(Ue||a===null||zi(a,a.return)),l&64&&gr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=bi;if(On(i,e),Mn(e),l&512&&(Ue||a===null||zi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[tr]||d[he]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),sn(d,l,a),d[he]=e,Ne(d),l=d;break t;case"link":var _=wv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=h.createElement(l),sn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=wv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=h.createElement(l),sn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[he]=e,Ne(d),l=d}e.stateNode=l}else bv(h,e.type,e.stateNode);else e.stateNode=Av(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?bv(h,e.type,e.stateNode):Av(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Cd(e,e.memoizedProps,a.memoizedProps)}break;case 27:On(i,e),Mn(e),l&512&&(Ue||a===null||zi(a,a.return)),a!==null&&l&4&&Cd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(On(i,e),Mn(e),l&512&&(Ue||a===null||zi(a,a.return)),e.flags&32){h=e.stateNode;try{ui(h,"")}catch(pt){se(e,e.return,pt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Cd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(xd=!0);break;case 6:if(On(i,e),Mn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(pt){se(e,e.return,pt)}}break;case 3:if(qc=null,h=bi,bi=jc(i.containerInfo),On(i,e),bi=h,Mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{po(i.containerInfo)}catch(pt){se(e,e.return,pt)}xd&&(xd=!1,b_(e));break;case 4:l=bi,bi=jc(e.stateNode.containerInfo),On(i,e),Mn(e),bi=l;break;case 12:On(i,e),Mn(e);break;case 31:On(i,e),Mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rc(e,l)));break;case 13:On(i,e),Mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cc=He()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rc(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=gr,$=Ue;if(gr=B||h,Ue=$||C,On(i,e),Ue=$,gr=B,Mn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||gr||Ue||ga(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=C.stateNode;var tt=C.memoizedProps.style,q=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(pt){se(C,C.return,pt)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(pt){se(C,C.return,pt)}}}else if(i.tag===18){if(a===null){C=i;try{var G=C.stateNode;h?mv(G,!0):mv(C.stateNode,!1)}catch(pt){se(C,C.return,pt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Rc(e,a))));break;case 19:On(i,e),Mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rc(e,l)));break;case 30:break;case 21:break;default:On(i,e),Mn(e)}}function Mn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(g_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Dd(e);bc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(ui(_,""),a.flags&=-33);var S=Dd(e);bc(e,S,_);break;case 3:case 4:var C=a.stateNode.containerInfo,B=Dd(e);Nd(e,B,C);break;default:throw Error(s(161))}}catch($){se(e,e.return,$)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function b_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;b_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function _r(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)v_(e,i.alternate,i),i=i.sibling}function ga(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:us(4,i,i.return),ga(i);break;case 1:zi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&m_(i,i.return,a),ga(i);break;case 27:Ml(i.stateNode);case 26:case 5:zi(i,i.return),ga(i);break;case 22:i.memoizedState===null&&ga(i);break;case 30:ga(i);break;default:ga(i)}e=e.sibling}}function vr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:vr(h,d,a),Al(4,d);break;case 1:if(vr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){se(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ny(C[h],S)}catch(B){se(l,l.return,B)}}a&&_&64&&d_(d),wl(d,d.return);break;case 27:y_(d);case 26:case 5:vr(h,d,a),a&&l===null&&_&4&&p_(d),wl(d,d.return);break;case 12:vr(h,d,a);break;case 31:vr(h,d,a),a&&_&4&&S_(h,d);break;case 13:vr(h,d,a),a&&_&4&&A_(h,d);break;case 22:d.memoizedState===null&&vr(h,d,a),wl(d,d.return);break;case 30:break;default:vr(h,d,a)}i=i.sibling}}function Od(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&cl(a))}function Md(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&cl(e))}function Ri(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)R_(e,i,a,l),i=i.sibling}function R_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ri(e,i,a,l),h&2048&&Al(9,i);break;case 1:Ri(e,i,a,l);break;case 3:Ri(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&cl(e)));break;case 12:if(h&2048){Ri(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){se(i,i.return,C)}}else Ri(e,i,a,l);break;case 31:Ri(e,i,a,l);break;case 13:Ri(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Ri(e,i,a,l):bl(e,i):d._visibility&2?Ri(e,i,a,l):(d._visibility|=2,io(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Od(_,i);break;case 24:Ri(e,i,a,l),h&2048&&Md(i.alternate,i);break;default:Ri(e,i,a,l)}}function io(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,S=a,C=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:io(d,_,S,C,h),Al(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?io(d,_,S,C,h):bl(d,_):($._visibility|=2,io(d,_,S,C,h)),h&&B&2048&&Od(_.alternate,_);break;case 24:io(d,_,S,C,h),h&&B&2048&&Md(_.alternate,_);break;default:io(d,_,S,C,h)}i=i.sibling}}function bl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:bl(a,l),h&2048&&Od(l.alternate,l);break;case 24:bl(a,l),h&2048&&Md(l.alternate,l);break;default:bl(a,l)}i=i.sibling}}var Rl=8192;function ro(e,i,a){if(e.subtreeFlags&Rl)for(e=e.child;e!==null;)I_(e,i,a),e=e.sibling}function I_(e,i,a){switch(e.tag){case 26:ro(e,i,a),e.flags&Rl&&e.memoizedState!==null&&$A(a,bi,e.memoizedState,e.memoizedProps);break;case 5:ro(e,i,a);break;case 3:case 4:var l=bi;bi=jc(e.stateNode.containerInfo),ro(e,i,a),bi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Rl,Rl=16777216,ro(e,i,a),Rl=l):ro(e,i,a));break;default:ro(e,i,a)}}function C_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Il(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Je=l,N_(l,e)}C_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)D_(e),e=e.sibling}function D_(e){switch(e.tag){case 0:case 11:case 15:Il(e),e.flags&2048&&us(9,e,e.return);break;case 3:Il(e);break;case 12:Il(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ic(e)):Il(e);break;default:Il(e)}}function Ic(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Je=l,N_(l,e)}C_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:us(8,i,i.return),Ic(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(i));break;default:Ic(i)}e=e.sibling}}function N_(e,i){for(;Je!==null;){var a=Je;switch(a.tag){case 0:case 11:case 15:us(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Je=l;else t:for(a=e;Je!==null;){l=Je;var h=l.sibling,d=l.return;if(E_(l),l===a){Je=null;break t}if(h!==null){h.return=d,Je=h;break t}Je=d}}}var hA={getCacheForType:function(e){var i=nn(Pe),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return nn(Pe).controller.signal}},fA=typeof WeakMap=="function"?WeakMap:Map,ee=0,ce=null,qt=null,Ft=0,re=0,Yn=null,cs=!1,so=!1,Vd=!1,Er=0,Re=0,hs=0,ya=0,Pd=0,Kn=0,ao=0,Cl=null,Vn=null,kd=!1,Cc=0,x_=0,Dc=1/0,Nc=null,fs=null,Ge=0,ds=null,oo=null,Tr=0,Ld=0,Ud=null,O_=null,Dl=0,zd=null;function Xn(){return(ee&2)!==0&&Ft!==0?Ft&-Ft:K.T!==null?Gd():Nt()}function M_(){if(Kn===0)if((Ft&536870912)===0||Kt){var e=oi;oi<<=1,(oi&3932160)===0&&(oi=262144),Kn=e}else Kn=536870912;return e=Gn.current,e!==null&&(e.flags|=32),Kn}function Pn(e,i,a){(e===ce&&(re===2||re===9)||e.cancelPendingCommit!==null)&&(lo(e,0),ms(e,Ft,Kn,!1)),ct(e,a),((ee&2)===0||e!==ce)&&(e===ce&&((ee&2)===0&&(ya|=a),Re===4&&ms(e,Ft,Kn,!1)),ji(e))}function V_(e,i,a){if((ee&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||hn(e,i),h=l?pA(e,i):Bd(e,i,!0),d=l;do{if(h===0){so&&!l&&ms(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!dA(a)){h=Bd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var S=e;h=Cl;var C=S.current.memoizedState.isDehydrated;if(C&&(lo(S,_).flags|=256),_=Bd(S,_,!1),_!==2){if(Vd&&!C){S.errorRecoveryDisabledLanes|=d,ya|=d,h=4;break t}d=Vn,Vn=h,d!==null&&(Vn===null?Vn=d:Vn.push.apply(Vn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){lo(e,0),ms(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ms(l,i,Kn,!cs);break t;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Cc+300-He(),10<h)){if(ms(l,i,Kn,!cs),cn(l,0,!0)!==0)break t;Tr=i,l.timeoutHandle=hv(P_.bind(null,l,a,Vn,Nc,kd,i,Kn,ya,ao,cs,d,"Throttled",-0,0),h);break t}P_(l,a,Vn,Nc,kd,i,Kn,ya,ao,cs,d,null,-0,0)}}break}while(!0);ji(e)}function P_(e,i,a,l,h,d,_,S,C,B,$,tt,q,G){if(e.timeoutHandle=-1,tt=i.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ke},I_(i,d,tt);var pt=(d&62914560)===d?Cc-He():(d&4194048)===d?x_-He():0;if(pt=JA(tt,pt),pt!==null){Tr=d,e.cancelPendingCommit=pt(H_.bind(null,e,i,d,a,l,h,_,S,C,$,tt,null,q,G)),ms(e,d,_,!B);return}}H_(e,i,d,a,l,h,_,S,C)}function dA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ms(e,i,a,l){i&=~Pd,i&=~ya,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-tn(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Bt(e,a,i)}function xc(){return(ee&6)===0?(Nl(0),!1):!0}function jd(){if(qt!==null){if(re===0)var e=qt.return;else e=qt,cr=la=null,nd(e),Za=null,fl=0,e=qt;for(;e!==null;)f_(e.alternate,e),e=e.return;qt=null}}function lo(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,MA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Tr=0,jd(),ce=e,qt=a=lr(e.current,null),Ft=i,re=0,Yn=null,cs=!1,so=hn(e,i),Vd=!1,ao=Kn=Pd=ya=hs=Re=0,Vn=Cl=null,kd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-tn(l),d=1<<h;i|=e[h],l&=~d}return Er=i,Zu(),a}function k_(e,i){Vt=null,K.H=El,i===Ja||i===ac?(i=Zg(),re=3):i===Ff?(i=Zg(),re=4):re=i===_d?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Yn=i,qt===null&&(Re=1,Ec(e,hi(i,e.current)))}function L_(){var e=Gn.current;return e===null?!0:(Ft&4194048)===Ft?pi===null:(Ft&62914560)===Ft||(Ft&536870912)!==0?e===pi:!1}function U_(){var e=K.H;return K.H=El,e===null?El:e}function z_(){var e=K.A;return K.A=hA,e}function Oc(){Re=4,cs||(Ft&4194048)!==Ft&&Gn.current!==null||(so=!0),(hs&134217727)===0&&(ya&134217727)===0||ce===null||ms(ce,Ft,Kn,!1)}function Bd(e,i,a){var l=ee;ee|=2;var h=U_(),d=z_();(ce!==e||Ft!==i)&&(Nc=null,lo(e,i)),i=!1;var _=Re;t:do try{if(re!==0&&qt!==null){var S=qt,C=Yn;switch(re){case 8:jd(),_=6;break t;case 3:case 2:case 9:case 6:Gn.current===null&&(i=!0);var B=re;if(re=0,Yn=null,uo(e,S,C,B),a&&so){_=0;break t}break;default:B=re,re=0,Yn=null,uo(e,S,C,B)}}mA(),_=Re;break}catch($){k_(e,$)}while(!0);return i&&e.shellSuspendCounter++,cr=la=null,ee=l,K.H=h,K.A=d,qt===null&&(ce=null,Ft=0,Zu()),_}function mA(){for(;qt!==null;)j_(qt)}function pA(e,i){var a=ee;ee|=2;var l=U_(),h=z_();ce!==e||Ft!==i?(Nc=null,Dc=He()+500,lo(e,i)):so=hn(e,i);t:do try{if(re!==0&&qt!==null){i=qt;var d=Yn;e:switch(re){case 1:re=0,Yn=null,uo(e,i,d,1);break;case 2:case 9:if($g(d)){re=0,Yn=null,B_(i);break}i=function(){re!==2&&re!==9||ce!==e||(re=7),ji(e)},d.then(i,i);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:$g(d)?(re=0,Yn=null,B_(i)):(re=0,Yn=null,uo(e,i,d,7));break;case 5:var _=null;switch(qt.tag){case 26:_=qt.memoizedState;case 5:case 27:var S=qt;if(_?Rv(_):S.stateNode.complete){re=0,Yn=null;var C=S.sibling;if(C!==null)qt=C;else{var B=S.return;B!==null?(qt=B,Mc(B)):qt=null}break e}}re=0,Yn=null,uo(e,i,d,5);break;case 6:re=0,Yn=null,uo(e,i,d,6);break;case 8:jd(),Re=6;break t;default:throw Error(s(462))}}gA();break}catch($){k_(e,$)}while(!0);return cr=la=null,K.H=l,K.A=h,ee=a,qt!==null?0:(ce=null,Ft=0,Zu(),Re)}function gA(){for(;qt!==null&&!Fo();)j_(qt)}function j_(e){var i=c_(e.alternate,e,Er);e.memoizedProps=e.pendingProps,i===null?Mc(e):qt=i}function B_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=r_(a,i,i.pendingProps,i.type,void 0,Ft);break;case 11:i=r_(a,i,i.pendingProps,i.type.render,i.ref,Ft);break;case 5:nd(i);default:f_(a,i),i=qt=zg(i,Er),i=c_(a,i,Er)}e.memoizedProps=e.pendingProps,i===null?Mc(e):qt=i}function uo(e,i,a,l){cr=la=null,nd(i),Za=null,fl=0;var h=i.return;try{if(rA(e,h,i,a,Ft)){Re=1,Ec(e,hi(a,e.current)),qt=null;return}}catch(d){if(h!==null)throw qt=h,d;Re=1,Ec(e,hi(a,e.current)),qt=null;return}i.flags&32768?(Kt||l===1?e=!0:so||(Ft&536870912)!==0?e=!1:(cs=e=!0,(l===2||l===9||l===3||l===6)&&(l=Gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),q_(i,e)):Mc(i)}function Mc(e){var i=e;do{if((i.flags&32768)!==0){q_(i,cs);return}e=i.return;var a=oA(i.alternate,i,Er);if(a!==null){qt=a;return}if(i=i.sibling,i!==null){qt=i;return}qt=i=e}while(i!==null);Re===0&&(Re=5)}function q_(e,i){do{var a=lA(e.alternate,e);if(a!==null){a.flags&=32767,qt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){qt=e;return}qt=e=a}while(e!==null);Re=6,qt=null}function H_(e,i,a,l,h,d,_,S,C){e.cancelPendingCommit=null;do Vc();while(Ge!==0);if((ee&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Df,mt(e,a,d,_,S,C),e===ce&&(qt=ce=null,Ft=0),oo=i,ds=e,Tr=a,Ld=d,Ud=h,O_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,EA(_n,function(){return K_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=lt.p,lt.p=2,_=ee,ee|=4;try{uA(e,i,a)}finally{ee=_,lt.p=h,K.T=l}}Ge=1,F_(),G_(),Q_()}}function F_(){if(Ge===1){Ge=0;var e=ds,i=oo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=lt.p;lt.p=2;var h=ee;ee|=4;try{w_(i,e);var d=Wd,_=Ng(e.containerInfo),S=d.focusedElem,C=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Dg(S.ownerDocument.documentElement,S)){if(C!==null&&wf(S)){var B=C.start,$=C.end;if($===void 0&&($=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min($,S.value.length);else{var tt=S.ownerDocument||document,q=tt&&tt.defaultView||window;if(q.getSelection){var G=q.getSelection(),pt=S.textContent.length,St=Math.min(C.start,pt),le=C.end===void 0?St:Math.min(C.end,pt);!G.extend&&St>le&&(_=le,le=St,St=_);var k=Cg(S,St),O=Cg(S,le);if(k&&O&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==O.node||G.focusOffset!==O.offset)){var j=tt.createRange();j.setStart(k.node,k.offset),G.removeAllRanges(),St>le?(G.addRange(j),G.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),G.addRange(j))}}}}for(tt=[],G=S;G=G.parentNode;)G.nodeType===1&&tt.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<tt.length;S++){var Z=tt[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Qc=!!Zd,Wd=Zd=null}finally{ee=h,lt.p=l,K.T=a}}e.current=i,Ge=2}}function G_(){if(Ge===2){Ge=0;var e=ds,i=oo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=lt.p;lt.p=2;var h=ee;ee|=4;try{v_(e,i.alternate,i)}finally{ee=h,lt.p=l,K.T=a}}Ge=3}}function Q_(){if(Ge===4||Ge===3){Ge=0,zr();var e=ds,i=oo,a=Tr,l=O_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ge=5:(Ge=0,oo=ds=null,Y_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(fs=null),Lt(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ai,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=lt.p,lt.p=2,K.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{K.T=i,lt.p=h}}(Tr&3)!==0&&Vc(),ji(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===zd?Dl++:(Dl=0,zd=e):Dl=0,Nl(0)}}function Y_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,cl(i)))}function Vc(){return F_(),G_(),Q_(),K_()}function K_(){if(Ge!==5)return!1;var e=ds,i=Ld;Ld=0;var a=Lt(Tr),l=K.T,h=lt.p;try{lt.p=32>a?32:a,K.T=null,a=Ud,Ud=null;var d=ds,_=Tr;if(Ge=0,oo=ds=null,Tr=0,(ee&6)!==0)throw Error(s(331));var S=ee;if(ee|=4,D_(d.current),R_(d,d.current,_,a),ee=S,Nl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ai,d)}catch{}return!0}finally{lt.p=h,K.T=l,Y_(e,i)}}function X_(e,i,a){i=hi(a,i),i=yd(e.stateNode,i,2),e=as(e,i,2),e!==null&&(ct(e,2),ji(e))}function se(e,i,a){if(e.tag===3)X_(e,e,a);else for(;i!==null;){if(i.tag===3){X_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fs===null||!fs.has(l))){e=hi(a,e),a=$y(2),l=as(i,a,2),l!==null&&(Jy(a,l,i,e),ct(l,2),ji(l));break}}i=i.return}}function qd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new fA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Vd=!0,h.add(a),e=yA.bind(null,e,i,a),i.then(e,e))}function yA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ce===e&&(Ft&a)===a&&(Re===4||Re===3&&(Ft&62914560)===Ft&&300>He()-Cc?(ee&2)===0&&lo(e,0):Pd|=a,ao===Ft&&(ao=0)),ji(e)}function $_(e,i){i===0&&(i=et()),e=sa(e,i),e!==null&&(ct(e,i),ji(e))}function _A(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),$_(e,a)}function vA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),$_(e,a)}function EA(e,i){return si(e,i)}var Pc=null,co=null,Hd=!1,kc=!1,Fd=!1,ps=0;function ji(e){e!==co&&e.next===null&&(co===null?Pc=co=e:co=co.next=e),kc=!0,Hd||(Hd=!0,SA())}function Nl(e,i){if(!Fd&&kc){Fd=!0;do for(var a=!1,l=Pc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-tn(42|e)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,tv(l,d))}else d=Ft,d=cn(l,l===ce?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||hn(l,d)||(a=!0,tv(l,d));l=l.next}while(a);Fd=!1}}function TA(){J_()}function J_(){kc=Hd=!1;var e=0;ps!==0&&OA()&&(e=ps);for(var i=He(),a=null,l=Pc;l!==null;){var h=l.next,d=Z_(l,i);d===0?(l.next=null,a===null?Pc=h:a.next=h,h===null&&(co=a)):(a=l,(e!==0||(d&3)!==0)&&(kc=!0)),l=h}Ge!==0&&Ge!==5||Nl(e),ps!==0&&(ps=0)}function Z_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-tn(d),S=1<<_,C=h[_];C===-1?((S&a)===0||(S&l)!==0)&&(h[_]=L(S,i)):C<=i&&(e.expiredLanes|=S),d&=~S}if(i=ce,a=Ft,a=cn(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(re===2||re===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&$i(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||hn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&$i(l),Lt(a)){case 2:case 8:a=_e;break;case 32:a=_n;break;case 268435456:a=bn;break;default:a=_n}return l=W_.bind(null,e),a=si(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&$i(l),e.callbackPriority=2,e.callbackNode=null,2}function W_(e,i){if(Ge!==0&&Ge!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Vc()&&e.callbackNode!==a)return null;var l=Ft;return l=cn(e,e===ce?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(V_(e,l,i),Z_(e,He()),e.callbackNode!=null&&e.callbackNode===a?W_.bind(null,e):null)}function tv(e,i){if(Vc())return null;V_(e,i,!0)}function SA(){VA(function(){(ee&6)!==0?si(De,TA):J_()})}function Gd(){if(ps===0){var e=Xa;e===0&&(e=Wi,Wi<<=1,(Wi&261888)===0&&(Wi=256)),ps=e}return ps}function ev(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vi(""+e)}function nv(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function AA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=ev((h[Ae]||null).action),_=l.submitter;_&&(i=(i=_[Ae]||null)?ev(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Zs("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ps!==0){var C=_?nv(h,_):new FormData(h);hd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(S.preventDefault(),C=_?nv(h,_):new FormData(h),hd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Qd=0;Qd<Cf.length;Qd++){var Yd=Cf[Qd],wA=Yd.toLowerCase(),bA=Yd[0].toUpperCase()+Yd.slice(1);wi(wA,"on"+bA)}wi(Mg,"onAnimationEnd"),wi(Vg,"onAnimationIteration"),wi(Pg,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(BS,"onTransitionRun"),wi(qS,"onTransitionStart"),wi(HS,"onTransitionCancel"),wi(kg,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function iv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],C=S.instance,B=S.currentTarget;if(S=S.listener,C!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=B;try{d(h)}catch($){Ju($)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(S=l[_],C=S.instance,B=S.currentTarget,S=S.listener,C!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=B;try{d(h)}catch($){Ju($)}h.currentTarget=null,d=C}}}}function Ht(e,i){var a=i[jn];a===void 0&&(a=i[jn]=new Set);var l=e+"__bubble";a.has(l)||(rv(i,e,2,!1),a.add(l))}function Kd(e,i,a){var l=0;i&&(l|=4),rv(a,e,l,i)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Xd(e){if(!e[Lc]){e[Lc]=!0,xa.forEach(function(a){a!=="selectionchange"&&(RA.has(a)||Kd(a,!1,e),Kd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Lc]||(i[Lc]=!0,Kd("selectionchange",!1,i))}}function rv(e,i,a,l){switch(Mv(i)){case 2:var h=tw;break;case 8:h=ew;break;default:h=cm}a=h.bind(null,i,a,e),h=void 0,!Wo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function $d(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=er(S),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue t}S=S.parentNode}}l=l.return}Pu(function(){var B=d,$=ka(a),tt=[];t:{var q=Lg.get(e);if(q!==void 0){var G=Zs,pt=e;switch(e){case"keypress":if(Js(a)===0)break t;case"keydown":case"keyup":G=Fu;break;case"focusin":pt="focus",G=$r;break;case"focusout":pt="blur",G=$r;break;case"beforeblur":case"afterblur":G=$r;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Qu;break;case Mg:case Vg:case Pg:G=za;break;case kg:G=ja;break;case"scroll":case"scrollend":G=ku;break;case"wheel":G=Ku;break;case"copy":case"cut":case"paste":G=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=rl;break;case"toggle":case"beforetoggle":G=Zr}var St=(i&4)!==0,le=!St&&(e==="scroll"||e==="scrollend"),k=St?q!==null?q+"Capture":null:q;St=[];for(var O=B,j;O!==null;){var Z=O;if(j=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||j===null||k===null||(Z=Dn(O,k),Z!=null&&St.push(Ol(O,Z,j))),le)break;O=O.return}0<St.length&&(q=new G(q,pt,null,a,$),tt.push({event:q,listeners:St}))}}if((i&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",q&&a!==Pa&&(pt=a.relatedTarget||a.fromElement)&&(er(pt)||pt[Cn]))break t;if((G||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,G?(pt=a.relatedTarget||a.toElement,G=B,pt=pt?er(pt):null,pt!==null&&(le=u(pt),St=pt.tag,pt!==le||St!==5&&St!==27&&St!==6)&&(pt=null)):(G=null,pt=B),G!==pt)){if(St=Lu,Z="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(St=rl,Z="onPointerLeave",k="onPointerEnter",O="pointer"),le=G==null?q:Ks(G),j=pt==null?q:Ks(pt),q=new St(Z,O+"leave",G,a,$),q.target=le,q.relatedTarget=j,Z=null,er($)===B&&(St=new St(k,O+"enter",pt,a,$),St.target=j,St.relatedTarget=le,Z=St),le=Z,G&&pt)e:{for(St=IA,k=G,O=pt,j=0,Z=k;Z;Z=St(Z))j++;Z=0;for(var Et=O;Et;Et=St(Et))Z++;for(;0<j-Z;)k=St(k),j--;for(;0<Z-j;)O=St(O),Z--;for(;j--;){if(k===O||O!==null&&k===O.alternate){St=k;break e}k=St(k),O=St(O)}St=null}else St=null;G!==null&&sv(tt,q,G,St,!1),pt!==null&&le!==null&&sv(tt,le,pt,St,!0)}}t:{if(q=B?Ks(B):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Wt=Sg;else if(Nn(q))if(Ag)Wt=US;else{Wt=kS;var yt=PS}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Jo(B.elementType)&&(Wt=Sg):Wt=LS;if(Wt&&(Wt=Wt(e,B))){na(tt,Wt,a,$);break t}yt&&yt(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Va(q,"number",q.value)}switch(yt=B?Ks(B):window,e){case"focusin":(Nn(yt)||yt.contentEditable==="true")&&(Ba=yt,bf=B,ol=null);break;case"focusout":ol=bf=Ba=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,xg(tt,a,$);break;case"selectionchange":if(jS)break;case"keydown":case"keyup":xg(tt,a,$)}var kt;if(g)t:{switch(e){case"compositionstart":var Gt="onCompositionStart";break t;case"compositionend":Gt="onCompositionEnd";break t;case"compositionupdate":Gt="onCompositionUpdate";break t}Gt=void 0}else Ut?ne(e,a)&&(Gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Gt="onCompositionStart");Gt&&(z&&a.locale!=="ko"&&(Ut||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&Ut&&(kt=Qr()):(qn=$,La="value"in qn?qn.value:qn.textContent,Ut=!0)),yt=Uc(B,Gt),0<yt.length&&(Gt=new el(Gt,e,null,a,$),tt.push({event:Gt,listeners:yt}),kt?Gt.data=kt:(kt=Ve(a),kt!==null&&(Gt.data=kt)))),(kt=A?Xe(e,a):$e(e,a))&&(Gt=Uc(B,"onBeforeInput"),0<Gt.length&&(yt=new el("onBeforeInput","beforeinput",null,a,$),tt.push({event:yt,listeners:Gt}),yt.data=kt)),AA(tt,e,B,a,$)}iv(tt,i)})}function Ol(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Uc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Dn(e,a),h!=null&&l.unshift(Ol(e,h,d)),h=Dn(e,i),h!=null&&l.push(Ol(e,h,d))),e.tag===3)return l;e=e.return}return[]}function IA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function sv(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,C=S.alternate,B=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||B===null||(C=B,h?(B=Dn(a,d),B!=null&&_.unshift(Ol(a,B,C))):h||(B=Dn(a,d),B!=null&&_.push(Ol(a,B,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var CA=/\r\n?/g,DA=/\u0000|\uFFFD/g;function av(e){return(typeof e=="string"?e:""+e).replace(CA,`
`).replace(DA,"")}function ov(e,i){return i=av(i),av(e)===i}function oe(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ui(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ui(e,""+l);break;case"className":Hr(e,"class",l);break;case"tabIndex":Hr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Hr(e,a,l);break;case"style":Mu(e,l,d);break;case"data":if(i!=="object"){Hr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Vi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&oe(e,i,"name",h.name,h,null),oe(e,i,"formEncType",h.formEncType,h,null),oe(e,i,"formMethod",h.formMethod,h,null),oe(e,i,"formTarget",h.formTarget,h,null)):(oe(e,i,"encType",h.encType,h,null),oe(e,i,"method",h.method,h,null),oe(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Vi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ke);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Vi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ht("beforetoggle",e),Ht("toggle",e),qr(e,"popover",l);break;case"xlinkActuate":li(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":li(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":li(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":li(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":li(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":li(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":li(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":li(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":li(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vf.get(a)||a,qr(e,a,l))}}function Jd(e,i,a,l,h,d){switch(a){case"style":Mu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ui(e,l):(typeof l=="number"||typeof l=="bigint")&&ui(e,""+l);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ke);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Br.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ae]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):qr(e,a,l)}}}function sn(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",e),Ht("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:oe(e,i,d,_,a,null)}}h&&oe(e,i,"srcSet",a.srcSet,a,null),l&&oe(e,i,"src",a.src,a,null);return;case"input":Ht("invalid",e);var S=d=_=h=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":C=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:oe(e,i,l,$,a,null)}}Xs(e,d,S,C,B,_,h,!1);return;case"select":Ht("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:oe(e,i,h,S,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Zt(e,!!l,i,!1):a!=null&&Zt(e,!!l,a,!0);return;case"textarea":Ht("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:oe(e,i,_,S,a,null)}Gr(e,l,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:oe(e,i,C,l,a,null)}return;case"dialog":Ht("beforetoggle",e),Ht("toggle",e),Ht("cancel",e),Ht("close",e);break;case"iframe":case"object":Ht("load",e);break;case"video":case"audio":for(l=0;l<xl.length;l++)Ht(xl[l],e);break;case"image":Ht("error",e),Ht("load",e);break;case"details":Ht("toggle",e);break;case"embed":case"source":case"link":Ht("error",e),Ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:oe(e,i,B,l,a,null)}return;default:if(Jo(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Jd(e,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&oe(e,i,S,l,a,null))}function NA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,C=null,B=null,$=null;for(G in a){var tt=a[G];if(a.hasOwnProperty(G)&&tt!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=tt;default:l.hasOwnProperty(G)||oe(e,i,G,null,l,tt)}}for(var q in l){var G=l[q];if(tt=a[q],l.hasOwnProperty(q)&&(G!=null||tt!=null))switch(q){case"type":d=G;break;case"name":h=G;break;case"checked":B=G;break;case"defaultChecked":$=G;break;case"value":_=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==tt&&oe(e,i,q,G,l,tt)}}Fr(e,_,S,C,B,$,d,h);return;case"select":G=_=S=q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||oe(e,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==C&&oe(e,i,h,d,l,C)}i=S,a=_,l=G,q!=null?Zt(e,!!a,q,!1):!!l!=!!a&&(i!=null?Zt(e,!!a,i,!0):Zt(e,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:oe(e,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&oe(e,i,_,h,l,d)}$s(e,q,G);return;case"option":for(var pt in a)if(q=a[pt],a.hasOwnProperty(pt)&&q!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":e.selected=!1;break;default:oe(e,i,pt,null,l,q)}for(C in l)if(q=l[C],G=a[C],l.hasOwnProperty(C)&&q!==G&&(q!=null||G!=null))switch(C){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:oe(e,i,C,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in a)q=a[St],a.hasOwnProperty(St)&&q!=null&&!l.hasOwnProperty(St)&&oe(e,i,St,null,l,q);for(B in l)if(q=l[B],G=a[B],l.hasOwnProperty(B)&&q!==G&&(q!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:oe(e,i,B,q,l,G)}return;default:if(Jo(i)){for(var le in a)q=a[le],a.hasOwnProperty(le)&&q!==void 0&&!l.hasOwnProperty(le)&&Jd(e,i,le,void 0,l,q);for($ in l)q=l[$],G=a[$],!l.hasOwnProperty($)||q===G||q===void 0&&G===void 0||Jd(e,i,$,q,l,G);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&oe(e,i,k,null,l,q);for(tt in l)q=l[tt],G=a[tt],!l.hasOwnProperty(tt)||q===G||q==null&&G==null||oe(e,i,tt,q,l,G)}function lv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&lv(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],B=C.startTime;if(B>S)break;var $=C.transferSize,tt=C.initiatorType;$&&lv(tt)&&(C=C.responseEnd,_+=$*(C<S?1:(S-B)/(C-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zd=null,Wd=null;function zc(e){return e.nodeType===9?e:e.ownerDocument}function uv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function tm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var em=null;function OA(){var e=window.event;return e&&e.type==="popstate"?e===em?!1:(em=e,!0):(em=null,!1)}var hv=typeof setTimeout=="function"?setTimeout:void 0,MA=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,VA=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(e){return fv.resolve(null).then(e).catch(PA)}:hv;function PA(e){setTimeout(function(){throw e})}function gs(e){return e==="head"}function dv(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),po(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ml(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ml(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[tr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ml(e.ownerDocument.body);a=h}while(a);po(i)}function mv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function nm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),Ys(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function kA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[tr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=gi(e.nextSibling),e===null)break}return null}function LA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=gi(e.nextSibling),e===null))return null;return e}function pv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=gi(e.nextSibling),e===null))return null;return e}function im(e){return e.data==="$?"||e.data==="$~"}function rm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function UA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function gi(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var sm=null;function gv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return gi(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function yv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function _v(e,i,a){switch(i=zc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ml(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ys(e)}var yi=new Map,vv=new Set;function jc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sr=lt.d;lt.d={f:zA,r:jA,D:BA,C:qA,L:HA,m:FA,X:QA,S:GA,M:YA};function zA(){var e=Sr.f(),i=xc();return e||i}function jA(e){var i=nr(e);i!==null&&i.tag===5&&i.type==="form"?ky(i):Sr.r(e)}var ho=typeof document>"u"?null:document;function Ev(e,i,a){var l=ho;if(l&&typeof i=="string"&&i){var h=we(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),vv.has(h)||(vv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),sn(i,"link",e),Ne(i),l.head.appendChild(i)))}}function BA(e){Sr.D(e),Ev("dns-prefetch",e,null)}function qA(e,i){Sr.C(e,i),Ev("preconnect",e,i)}function HA(e,i,a){Sr.L(e,i,a);var l=ho;if(l&&e&&i){var h='link[rel="preload"][as="'+we(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+we(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+we(a.imageSizes)+'"]')):h+='[href="'+we(e)+'"]';var d=h;switch(i){case"style":d=fo(e);break;case"script":d=mo(e)}yi.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),yi.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Vl(d))||i==="script"&&l.querySelector(Pl(d))||(i=l.createElement("link"),sn(i,"link",e),Ne(i),l.head.appendChild(i)))}}function FA(e,i){Sr.m(e,i);var a=ho;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+we(l)+'"][href="'+we(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=mo(e)}if(!yi.has(d)&&(e=T({rel:"modulepreload",href:e},i),yi.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),sn(l,"link",e),Ne(l),a.head.appendChild(l)}}}function GA(e,i,a){Sr.S(e,i,a);var l=ho;if(l&&e){var h=Si(l).hoistableStyles,d=fo(e);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Vl(d)))S.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=yi.get(d))&&am(e,a);var C=_=l.createElement("link");Ne(C),sn(C,"link",e),C._p=new Promise(function(B,$){C.onload=B,C.onerror=$}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Bc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function QA(e,i){Sr.X(e,i);var a=ho;if(a&&e){var l=Si(a).hoistableScripts,h=mo(e),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(e=T({src:e,async:!0},i),(i=yi.get(h))&&om(e,i),d=a.createElement("script"),Ne(d),sn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function YA(e,i){Sr.M(e,i);var a=ho;if(a&&e){var l=Si(a).hoistableScripts,h=mo(e),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=yi.get(h))&&om(e,i),d=a.createElement("script"),Ne(d),sn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Tv(e,i,a,l){var h=(h=Pt.current)?jc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=fo(a.href),a=Si(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=fo(a.href);var d=Si(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Vl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),yi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},yi.set(e,a),d||KA(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=mo(a),a=Si(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function fo(e){return'href="'+we(e)+'"'}function Vl(e){return'link[rel="stylesheet"]['+e+"]"}function Sv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function KA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),sn(i,"link",a),Ne(i),e.head.appendChild(i))}function mo(e){return'[src="'+we(e)+'"]'}function Pl(e){return"script[async]"+e}function Av(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+we(a.href)+'"]');if(l)return i.instance=l,Ne(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ne(l),sn(l,"style",h),Bc(l,a.precedence,e),i.instance=l;case"stylesheet":h=fo(a.href);var d=e.querySelector(Vl(h));if(d)return i.state.loading|=4,i.instance=d,Ne(d),d;l=Sv(a),(h=yi.get(h))&&am(l,h),d=(e.ownerDocument||e).createElement("link"),Ne(d);var _=d;return _._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),sn(d,"link",l),i.state.loading|=4,Bc(d,a.precedence,e),i.instance=d;case"script":return d=mo(a.src),(h=e.querySelector(Pl(d)))?(i.instance=h,Ne(h),h):(l=a,(h=yi.get(d))&&(l=T({},a),om(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ne(h),sn(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Bc(l,a.precedence,e));return i.instance}function Bc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function am(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function om(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var qc=null;function wv(e,i,a){if(qc===null){var l=new Map,h=qc=new Map;h.set(a,l)}else h=qc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[tr]||d[he]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function bv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function XA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Rv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $A(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=fo(l.href),d=i.querySelector(Vl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Hc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ne(d);return}d=i.ownerDocument||i,l=Sv(l),(h=yi.get(h))&&am(l,h),d=d.createElement("link"),Ne(d);var _=d;_._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),sn(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Hc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var lm=0;function JA(e,i){return e.stylesheets&&e.count===0&&Gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Gc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&lm===0&&(lm=62500*xA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Gc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>lm?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fc=null;function Gc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fc=new Map,i.forEach(ZA,e),Fc=null,Hc.call(e))}function ZA(e,i){if(!(i.state.loading&4)){var a=Fc.get(e);if(a)var l=a.get(null);else{a=new Map,Fc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var kl={$$typeof:nt,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function WA(e,i,a,l,h,d,_,S,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rt(0),this.hiddenUpdates=rt(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Iv(e,i,a,l,h,d,_,S,C,B,$,tt){return e=new WA(e,i,a,_,C,B,$,tt,S),i=1,d===!0&&(i|=24),d=Fn(3,null,null,i),e.current=d,d.stateNode=e,i=Bf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Gf(d),e}function Cv(e){return e?(e=Fa,e):Fa}function Dv(e,i,a,l,h,d){h=Cv(h),l.context===null?l.context=h:l.pendingContext=h,l=ss(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=as(e,l,i),a!==null&&(Pn(a,e,i),ml(a,e,i))}function Nv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function um(e,i){Nv(e,i),(e=e.alternate)&&Nv(e,i)}function xv(e){if(e.tag===13||e.tag===31){var i=sa(e,67108864);i!==null&&Pn(i,e,67108864),um(e,67108864)}}function Ov(e){if(e.tag===13||e.tag===31){var i=Xn();i=Jt(i);var a=sa(e,i);a!==null&&Pn(a,e,i),um(e,i)}}var Qc=!0;function tw(e,i,a,l){var h=K.T;K.T=null;var d=lt.p;try{lt.p=2,cm(e,i,a,l)}finally{lt.p=d,K.T=h}}function ew(e,i,a,l){var h=K.T;K.T=null;var d=lt.p;try{lt.p=8,cm(e,i,a,l)}finally{lt.p=d,K.T=h}}function cm(e,i,a,l){if(Qc){var h=hm(l);if(h===null)$d(e,i,l,Yc,a),Vv(e,l);else if(iw(h,e,i,a,l))l.stopPropagation();else if(Vv(e,l),i&4&&-1<nw.indexOf(e)){for(;h!==null;){var d=nr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Un(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var C=1<<31-tn(_);S.entanglements[1]|=C,_&=~C}ji(d),(ee&6)===0&&(Dc=He()+500,Nl(0))}}break;case 31:case 13:S=sa(d,2),S!==null&&Pn(S,d,2),xc(),um(d,2)}if(d=hm(l),d===null&&$d(e,i,l,Yc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else $d(e,i,l,null,a)}}function hm(e){return e=ka(e),fm(e)}var Yc=null;function fm(e){if(Yc=null,e=er(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Yc=e,null}function Mv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Na()){case De:return 2;case _e:return 8;case _n:case Ti:return 32;case bn:return 268435456;default:return 32}default:return 32}}var dm=!1,ys=null,_s=null,vs=null,Ll=new Map,Ul=new Map,Es=[],nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vv(e,i){switch(e){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Ll.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(i.pointerId)}}function zl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=nr(i),i!==null&&xv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function iw(e,i,a,l,h){switch(i){case"focusin":return ys=zl(ys,e,i,a,l,h),!0;case"dragenter":return _s=zl(_s,e,i,a,l,h),!0;case"mouseover":return vs=zl(vs,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ll.set(d,zl(Ll.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ul.set(d,zl(Ul.get(d)||null,e,i,a,l,h)),!0}return!1}function Pv(e){var i=er(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,In(e.priority,function(){Ov(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,In(e.priority,function(){Ov(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=hm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Pa=l,a.target.dispatchEvent(l),Pa=null}else return i=nr(a),i!==null&&xv(i),e.blockedOn=a,!1;i.shift()}return!0}function kv(e,i,a){Kc(e)&&a.delete(i)}function rw(){dm=!1,ys!==null&&Kc(ys)&&(ys=null),_s!==null&&Kc(_s)&&(_s=null),vs!==null&&Kc(vs)&&(vs=null),Ll.forEach(kv),Ul.forEach(kv)}function Xc(e,i){e.blockedOn===i&&(e.blockedOn=null,dm||(dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rw)))}var $c=null;function Lv(e){$c!==e&&($c=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===e&&($c=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=nr(a);d!==null&&(e.splice(i,3),i-=3,hd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function po(e){function i(C){return Xc(C,e)}ys!==null&&Xc(ys,e),_s!==null&&Xc(_s,e),vs!==null&&Xc(vs,e),Ll.forEach(i),Ul.forEach(i);for(var a=0;a<Es.length;a++){var l=Es[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Es.length&&(a=Es[0],a.blockedOn===null);)Pv(a),a.blockedOn===null&&Es.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ae]||null;if(typeof d=="function")_||Lv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ae]||null)S=_.formAction;else if(fm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Lv(a)}}}function Uv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function mm(e){this._internalRoot=e}Jc.prototype.render=mm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Xn();Dv(a,l,e,i,null,null)},Jc.prototype.unmount=mm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Dv(e.current,2,null,e,null,null),xc(),i[Cn]=null}};function Jc(e){this._internalRoot=e}Jc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Nt();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Es.length&&i!==0&&i<Es[a].priority;a++);Es.splice(a,0,e),a===0&&Pv(e)}};var zv=t.version;if(zv!=="19.2.3")throw Error(s(527,zv,"19.2.3"));lt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var sw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{ai=Zc.inject(sw),Fe=Zc}catch{}}return Bl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Qy,d=Yy,_=Ky;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Iv(e,1,!1,null,null,a,l,null,h,d,_,Uv),e[Cn]=i.current,Xd(e),new mm(i)},Bl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Qy,_=Yy,S=Ky,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=Iv(e,1,!0,i,a??null,l,h,C,d,_,S,Uv),i.context=Cv(null),a=i.current,l=Xn(),l=Jt(l),h=ss(l),h.callback=null,as(a,h,l),a=l,i.current.lanes=a,ct(i,a),ji(i),e[Cn]=i.current,Xd(e),new Jc(i)},Bl.version="19.2.3",Bl}var Xv;function yw(){if(Xv)return ym.exports;Xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ym.exports=gw(),ym.exports}var _w=yw();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $v="popstate";function vw(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=Ra(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),jm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:nu(u))}function s(o,u){ei(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Tw(t,n,s,r)}function Te(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ei(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ew(){return Math.random().toString(36).substring(2,10)}function Jv(r,t){return{usr:r.state,key:r.key,idx:t}}function jm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ra(t):t,state:n,key:t&&t.key||s||Ew()}}function nu({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ra(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Tw(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let F=E(),at=F==null?null:F-y;y=F,p&&p({action:m,location:X.location,delta:at})}function w(F,at){m="PUSH";let ot=jm(X.location,F,at);n&&n(ot,F),y=E()+1;let nt=Jv(ot,y),_t=X.createHref(ot);try{f.pushState(nt,"",_t)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;o.location.assign(_t)}u&&p&&p({action:m,location:X.location,delta:1})}function P(F,at){m="REPLACE";let ot=jm(X.location,F,at);n&&n(ot,F),y=E();let nt=Jv(ot,y),_t=X.createHref(ot);f.replaceState(nt,"",_t),u&&p&&p({action:m,location:X.location,delta:0})}function H(F){return Sw(F)}let X={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener($v,T),p=F,()=>{o.removeEventListener($v,T),p=null}},createHref(F){return t(o,F)},createURL:H,encodeLocation(F){let at=H(F);return{pathname:at.pathname,search:at.search,hash:at.hash}},push:w,replace:P,go(F){return f.go(F)}};return X}function Sw(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Te(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:nu(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function ME(r,t,n="/"){return Aw(r,t,n,!1)}function Aw(r,t,n,s){let o=typeof t=="string"?Ra(t):t,u=Nr(o.pathname||"/",n);if(u==null)return null;let f=VE(r);ww(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=Pw(u);m=Mw(f[p],y,s)}return m}function VE(r,t=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;Te(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=Cr([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(Te(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),VE(f.children,t,w,T,p)),!(f.path==null&&!f.index)&&t.push({path:T,score:xw(T,f.index),routesMeta:w})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let y of PE(f.path))u(f,m,!0,y)}),t}function PE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=PE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function ww(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:Ow(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var bw=/^:[\w-]+$/,Rw=3,Iw=2,Cw=1,Dw=10,Nw=-2,Zv=r=>r==="*";function xw(r,t){let n=r.split("/"),s=n.length;return n.some(Zv)&&(s+=Nw),t&&(s+=Iw),n.filter(o=>!Zv(o)).reduce((o,u)=>o+(bw.test(u)?Rw:u===""?Cw:Dw),s)}function Ow(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Mw(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:Cr([u,T.pathname]),pathnameBase:zw(Cr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=Cr([u,T.pathnameBase]))}return f}function Th(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Vw(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},w)=>{if(E==="*"){let H=m[w]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const P=m[w];return T&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Vw(r,t=!1,n=!0){ei(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Pw(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ei(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Nr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var kE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kw=r=>kE.test(r);function Lw(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ra(r):r,u;if(n)if(kw(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),ei(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Wv(n.substring(1),"/"):u=Wv(n,t)}else u=t;return{pathname:u,search:jw(s),hash:Bw(o)}}function Wv(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Uw(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function LE(r){let t=Uw(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function UE(r,t,n,s=!1){let o;typeof r=="string"?o=Ra(r):(o={...r},Te(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),Te(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),Te(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?t[T]:"/"}let p=Lw(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Cr=r=>r.join("/").replace(/\/\/+/g,"/"),zw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),jw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Bw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,qw=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Hw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Fw(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jE(r,t){let n=r;if(typeof n!="string"||!kE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(zE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Nr(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{ei(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BE=["POST","PUT","PATCH","DELETE"];new Set(BE);var Gw=["GET",...BE];new Set(Gw);var Mo=U.createContext(null);Mo.displayName="DataRouter";var Qh=U.createContext(null);Qh.displayName="DataRouterState";var Qw=U.createContext(!1),qE=U.createContext({isTransitioning:!1});qE.displayName="ViewTransition";var Yw=U.createContext(new Map);Yw.displayName="Fetchers";var Kw=U.createContext(null);Kw.displayName="Await";var vi=U.createContext(null);vi.displayName="Navigation";var cu=U.createContext(null);cu.displayName="Location";var kr=U.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var _p=U.createContext(null);_p.displayName="RouteError";var HE="REACT_ROUTER_ERROR",Xw="REDIRECT",$w="ROUTE_ERROR_RESPONSE";function Jw(r){if(r.startsWith(`${HE}:${Xw}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Zw(r){if(r.startsWith(`${HE}:${$w}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new qw(t.status,t.statusText,t.data)}catch{}}function Ww(r,{relative:t}={}){Te(hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(vi),{hash:o,pathname:u,search:f}=fu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Cr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function hu(){return U.useContext(cu)!=null}function Hs(){return Te(hu(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(cu).location}var FE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GE(r){U.useContext(vi).static||U.useLayoutEffect(r)}function vp(){let{isDataRoute:r}=U.useContext(kr);return r?fb():tb()}function tb(){Te(hu(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(Mo),{basename:t,navigator:n}=U.useContext(vi),{matches:s}=U.useContext(kr),{pathname:o}=Hs(),u=JSON.stringify(LE(s)),f=U.useRef(!1);return GE(()=>{f.current=!0}),U.useCallback((p,y={})=>{if(ei(f.current,FE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=UE(p,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Cr([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}U.createContext(null);function fu(r,{relative:t}={}){let{matches:n}=U.useContext(kr),{pathname:s}=Hs(),o=JSON.stringify(LE(n));return U.useMemo(()=>UE(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function eb(r,t){return QE(r,t)}function QE(r,t,n,s,o){var ot;Te(hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(vi),{matches:f}=U.useContext(kr),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let nt=T&&T.path||"";KE(y,!T||nt.endsWith("*")||nt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${nt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${nt}"> to <Route path="${nt==="/"?"*":`${nt}/*`}">.`)}let w=Hs(),P;if(t){let nt=typeof t=="string"?Ra(t):t;Te(E==="/"||((ot=nt.pathname)==null?void 0:ot.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${nt.pathname}" was given in the \`location\` prop.`),P=nt}else P=w;let H=P.pathname||"/",X=H;if(E!=="/"){let nt=E.replace(/^\//,"").split("/");X="/"+H.replace(/^\//,"").split("/").slice(nt.length).join("/")}let F=ME(r,{pathname:X});ei(T||F!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),ei(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let at=ab(F&&F.map(nt=>Object.assign({},nt,{params:Object.assign({},p,nt.params),pathname:Cr([E,u.encodeLocation?u.encodeLocation(nt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:nt.pathname]),pathnameBase:nt.pathnameBase==="/"?E:Cr([E,u.encodeLocation?u.encodeLocation(nt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:nt.pathnameBase])})),f,n,s,o);return t&&at?U.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},at):at}function nb(){let r=hb(),t=Hw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:o},n):null,f)}var ib=U.createElement(nb,null),YE=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Zw(r.digest);n&&(r=n)}let t=r!==void 0?U.createElement(kr.Provider,{value:this.props.routeContext},U.createElement(_p.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?U.createElement(rb,{error:r},t):t}};YE.contextType=Qw;var Sm=new WeakMap;function rb({children:r,error:t}){let{basename:n}=U.useContext(vi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=Jw(t.digest);if(s){let o=Sm.get(t);if(o)throw o;let u=jE(s.location,n);if(zE&&!Sm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Sm.set(t,f),f}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function sb({routeContext:r,match:t,children:n}){let s=U.useContext(Mo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(kr.Provider,{value:r},n)}function ab(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);Te(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:w,errors:P}=n,H=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!P||P[T.route.id]===void 0);if(T.route.lazy||H){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,T)=>{var w,P;s(E,{location:n.location,params:((P=(w=n.matches)==null?void 0:w[0])==null?void 0:P.params)??{},unstable_pattern:Fw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,w)=>{let P,H=!1,X=null,F=null;n&&(P=f&&T.route.id?f[T.route.id]:void 0,X=T.route.errorElement||ib,m&&(p<0&&w===0?(KE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,F=null):p===w&&(H=!0,F=T.route.hydrateFallbackElement||null)));let at=t.concat(u.slice(0,w+1)),ot=()=>{let nt;return P?nt=X:H?nt=F:T.route.Component?nt=U.createElement(T.route.Component,null):T.route.element?nt=T.route.element:nt=E,U.createElement(sb,{match:T,routeContext:{outlet:E,matches:at,isDataRoute:n!=null},children:nt})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?U.createElement(YE,{location:n.location,revalidation:n.revalidation,component:X,error:P,children:ot(),routeContext:{outlet:null,matches:at,isDataRoute:!0},onError:y}):ot()},null)}function Ep(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ob(r){let t=U.useContext(Mo);return Te(t,Ep(r)),t}function lb(r){let t=U.useContext(Qh);return Te(t,Ep(r)),t}function ub(r){let t=U.useContext(kr);return Te(t,Ep(r)),t}function Tp(r){let t=ub(r),n=t.matches[t.matches.length-1];return Te(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function cb(){return Tp("useRouteId")}function hb(){var s;let r=U.useContext(_p),t=lb("useRouteError"),n=Tp("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function fb(){let{router:r}=ob("useNavigate"),t=Tp("useNavigate"),n=U.useRef(!1);return GE(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{ei(n.current,FE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var t0={};function KE(r,t,n){!t&&!t0[r]&&(t0[r]=!0,ei(!1,n))}U.memo(db);function db({routes:r,future:t,state:n,onError:s}){return QE(r,void 0,n,s,t)}function Bm(r){Te(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mb({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Te(!hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Ra(n));let{pathname:y="/",search:E="",hash:T="",state:w=null,key:P="default"}=n,H=U.useMemo(()=>{let X=Nr(y,m);return X==null?null:{location:{pathname:X,search:E,hash:T,state:w,key:P},navigationType:s}},[m,y,E,T,w,P,s]);return ei(H!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:U.createElement(vi.Provider,{value:p},U.createElement(cu.Provider,{children:t,value:H}))}function pb({children:r,location:t}){return eb(qm(r),t)}function qm(r,t=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...t,o];if(s.type===U.Fragment){n.push.apply(n,qm(s.props.children,u));return}Te(s.type===Bm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Te(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=qm(s.props.children,u)),n.push(f)}),n}var uh="get",ch="application/x-www-form-urlencoded";function Yh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function gb(r){return Yh(r)&&r.tagName.toLowerCase()==="button"}function yb(r){return Yh(r)&&r.tagName.toLowerCase()==="form"}function _b(r){return Yh(r)&&r.tagName.toLowerCase()==="input"}function vb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Eb(r,t){return r.button===0&&(!t||t==="_self")&&!vb(r)}function Hm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((t,n)=>{let s=r[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function Tb(r,t){let n=Hm(r);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Wc=null;function Sb(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var Ab=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(r){return r!=null&&!Ab.has(r)?(ei(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):r}function wb(r,t){let n,s,o,u,f;if(yb(r)){let m=r.getAttribute("action");s=m?Nr(m,t):null,n=r.getAttribute("method")||uh,o=Am(r.getAttribute("enctype"))||ch,u=new FormData(r)}else if(gb(r)||_b(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Nr(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||uh,o=Am(r.getAttribute("formenctype"))||Am(m.getAttribute("enctype"))||ch,u=new FormData(m,r),!Sb()){let{name:y,type:E,value:T}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,T)}}else{if(Yh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uh,s=null,o=ch,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function bb(r,t,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&Nr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Rb(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ib(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Cb(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await Rb(u,n);return f.links?f.links():[]}return[]}));return Ob(s.flat(1).filter(Ib).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function e0(r,t,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Db(r,t,{includeHydrateFallback:n}={}){return Nb(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Nb(r){return[...new Set(r)]}function xb(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function Ob(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(xb(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function XE(){let r=U.useContext(Mo);return Sp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Mb(){let r=U.useContext(Qh);return Sp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ap=U.createContext(void 0);Ap.displayName="FrameworkContext";function $E(){let r=U.useContext(Ap);return Sp(r,"You must render this element inside a <HydratedRouter> element"),r}function Vb(r,t){let n=U.useContext(Ap),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=t,w=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=at=>{at.forEach(ot=>{f(ot.isIntersecting)})},F=new IntersectionObserver(X,{threshold:.5});return w.current&&F.observe(w.current),()=>{F.disconnect()}}},[r]),U.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let P=()=>{o(!0)},H=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:ql(m,P),onBlur:ql(p,H),onMouseEnter:ql(y,P),onMouseLeave:ql(E,H),onTouchStart:ql(T,P)}]:[!1,w,{}]}function ql(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Pb({page:r,...t}){let{router:n}=XE(),s=U.useMemo(()=>ME(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(Lb,{page:r,matches:s,...t}):null}function kb(r){let{manifest:t,routeModules:n}=$E(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return Cb(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Lb({page:r,matches:t,...n}){let s=Hs(),{future:o,manifest:u,routeModules:f}=$E(),{basename:m}=XE(),{loaderData:p,matches:y}=Mb(),E=U.useMemo(()=>e0(r,t,y,u,s,"data"),[r,t,y,u,s]),T=U.useMemo(()=>e0(r,t,y,u,s,"assets"),[r,t,y,u,s]),w=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let X=new Set,F=!1;if(t.forEach(ot=>{var _t;let nt=u.routes[ot.route.id];!nt||!nt.hasLoader||(!E.some(It=>It.route.id===ot.route.id)&&ot.route.id in p&&((_t=f[ot.route.id])!=null&&_t.shouldRevalidate)||nt.hasClientLoader?F=!0:X.add(ot.route.id))}),X.size===0)return[];let at=bb(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return F&&X.size>0&&at.searchParams.set("_routes",t.filter(ot=>X.has(ot.route.id)).map(ot=>ot.route.id).join(",")),[at.pathname+at.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,t,r,f]),P=U.useMemo(()=>Db(T,u),[T,u]),H=kb(T);return U.createElement(U.Fragment,null,w.map(X=>U.createElement("link",{key:X,rel:"prefetch",as:"fetch",href:X,...n})),P.map(X=>U.createElement("link",{key:X,rel:"modulepreload",href:X,...n})),H.map(({key:X,link:F})=>U.createElement("link",{key:X,nonce:n.nonce,...F})))}function Ub(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zb&&(window.__reactRouterVersion="7.12.0")}catch{}function jb({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=U.useRef();o.current==null&&(o.current=vw({window:s,v5Compat:!0}));let u=o.current,[f,m]=U.useState({action:u.action,location:u.location}),p=U.useCallback(y=>{n===!1?m(y):U.startTransition(()=>m(y))},[n]);return U.useLayoutEffect(()=>u.listen(p),[u,p]),U.createElement(mb,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZE=U.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w,...P},H){let{basename:X,unstable_useTransitions:F}=U.useContext(vi),at=typeof y=="string"&&JE.test(y),ot=jE(y,X);y=ot.to;let nt=Ww(y,{relative:o}),[_t,It,bt]=Vb(s,P),D=Fb(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:w,unstable_useTransitions:F});function b(N){t&&t(N),N.defaultPrevented||D(N)}let R=U.createElement("a",{...P,...bt,href:ot.absoluteURL||nt,onClick:ot.isExternal||u?t:b,ref:Ub(H,It),target:p,"data-discover":!at&&n==="render"?"true":void 0});return _t&&!at?U.createElement(U.Fragment,null,R,U.createElement(Pb,{page:nt})):R});ZE.displayName="Link";var Bb=U.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=fu(f,{relative:y.relative}),w=Hs(),P=U.useContext(Qh),{navigator:H,basename:X}=U.useContext(vi),F=P!=null&&$b(T)&&m===!0,at=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,ot=w.pathname,nt=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ot=ot.toLowerCase(),nt=nt?nt.toLowerCase():null,at=at.toLowerCase()),nt&&X&&(nt=Nr(nt,X)||nt);const _t=at!=="/"&&at.endsWith("/")?at.length-1:at.length;let It=ot===at||!o&&ot.startsWith(at)&&ot.charAt(_t)==="/",bt=nt!=null&&(nt===at||!o&&nt.startsWith(at)&&nt.charAt(at.length)==="/"),D={isActive:It,isPending:bt,isTransitioning:F},b=It?t:void 0,R;typeof s=="function"?R=s(D):R=[s,It?"active":null,bt?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(D):u;return U.createElement(ZE,{...y,"aria-current":b,className:R,ref:E,style:N,to:f,viewTransition:m},typeof p=="function"?p(D):p)});Bb.displayName="NavLink";var qb=U.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=uh,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w,...P},H)=>{let{unstable_useTransitions:X}=U.useContext(vi),F=Kb(),at=Xb(m,{relative:y}),ot=f.toLowerCase()==="get"?"get":"post",nt=typeof m=="string"&&JE.test(m),_t=It=>{if(p&&p(It),It.defaultPrevented)return;It.preventDefault();let bt=It.nativeEvent.submitter,D=(bt==null?void 0:bt.getAttribute("formmethod"))||f,b=()=>F(bt||It.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w});X&&n!==!1?U.startTransition(()=>b()):b()};return U.createElement("form",{ref:H,method:ot,action:at,onSubmit:s?p:_t,...P,"data-discover":!nt&&r==="render"?"true":void 0})});qb.displayName="Form";function Hb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WE(r){let t=U.useContext(Mo);return Te(t,Hb(r)),t}function Fb(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=vp(),E=Hs(),T=fu(r,{relative:u});return U.useCallback(w=>{if(Eb(w,t)){w.preventDefault();let P=n!==void 0?n:nu(E)===nu(T),H=()=>y(r,{replace:P,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?U.startTransition(()=>H()):H()}},[E,y,T,n,s,t,r,o,u,f,m,p])}function Gb(r){ei(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=U.useRef(Hm(r)),n=U.useRef(!1),s=Hs(),o=U.useMemo(()=>Tb(s.search,n.current?null:t.current),[s.search]),u=vp(),f=U.useCallback((m,p)=>{const y=Hm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+y,p)},[u,o]);return[o,f]}var Qb=0,Yb=()=>`__${String(++Qb)}__`;function Kb(){let{router:r}=WE("useSubmit"),{basename:t}=U.useContext(vi),n=cb(),s=r.fetch,o=r.navigate;return U.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=wb(u,t);if(f.navigate===!1){let w=f.fetcherKey||Yb();await s(w,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function Xb(r,{relative:t}={}){let{basename:n}=U.useContext(vi),s=U.useContext(kr);Te(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...fu(r||".",{relative:t})},f=Hs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Cr([n,u.pathname])),nu(u)}function $b(r,{relative:t}={}){let n=U.useContext(qE);Te(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=WE("useViewTransitionState"),o=fu(r,{relative:t});if(!n.isTransitioning)return!1;let u=Nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Th(o.pathname,f)!=null||Th(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tT=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=U.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>U.createElement("svg",{ref:p,...Zb,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:tT("lucide",o),...m},[...f.map(([y,E])=>U.createElement(y,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=(r,t)=>{const n=U.forwardRef(({className:s,...o},u)=>U.createElement(Wb,{ref:u,iconNode:t,className:tT(`lucide-${Jb(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=yn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=yn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=yn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=yn("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=yn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=yn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=yn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=yn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=yn("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=yn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=yn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=yn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=yn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=yn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=yn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=yn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),uR=()=>{};var n0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},cR=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},sT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,P=y&63;p||(P=64,f||(w=64)),s.push(n[E],n[T],n[w],n[P])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(rT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):cR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new hR;const w=u<<2|m>>4;if(s.push(w),y!==64){const P=m<<4&240|y>>2;if(s.push(P),T!==64){const H=y<<6&192|T;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class hR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fR=function(r){const t=rT(r);return sT.encodeByteArray(t,!0)},Ah=function(r){return fR(r).replace(/\./g,"")},aT=function(r){try{return sT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=()=>dR().__FIREBASE_DEFAULTS__,pR=()=>{if(typeof process>"u"||typeof n0>"u")return;const r=n0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},gR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&aT(r[1]);return t&&JSON.parse(t)},Kh=()=>{try{return uR()||mR()||pR()||gR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},oT=r=>{var t,n;return(n=(t=Kh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},yR=r=>{const t=oT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},lT=()=>{var r;return(r=Kh())===null||r===void 0?void 0:r.config},uT=r=>{var t;return(t=Kh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ah(JSON.stringify(n)),Ah(JSON.stringify(f)),""].join(".")}const Xl={};function ER(){const r={prod:[],emulator:[]};for(const t of Object.keys(Xl))Xl[t]?r.emulator.push(t):r.prod.push(t);return r}function TR(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let i0=!1;function hT(r,t){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||Xl[r]===t||Xl[r]||i0)return;Xl[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=ER().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{i0=!0,f()},w}function E(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=TR(s),P=n("text"),H=document.getElementById(P)||document.createElement("span"),X=n("learnmore"),F=document.getElementById(X)||document.createElement("a"),at=n("preprendIcon"),ot=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const nt=w.element;m(nt),E(F,X);const _t=y();p(ot,at),nt.append(ot,H,F,_t),document.body.appendChild(nt)}u?(H.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function AR(){var r;const t=(r=Kh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function RR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IR(){const r=gn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function CR(){return!AR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DR(){try{return typeof indexedDB=="object"}catch{return!1}}function NR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="FirebaseError";class Lr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=xR,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?OR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Lr(o,m,s)}}function OR(r,t){return r.replace(MR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const MR=/\{\$([^}]+)}/g;function VR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ps(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(r0(u)&&r0(f)){if(!Ps(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function r0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function PR(r,t){const n=new kR(r,t);return n.subscribe.bind(n)}class kR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");LR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r){return r&&r._delegate?r._delegate:r}class Sa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new _R;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jR(t))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=_a){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_a){return this.instances.has(t)}getOptions(t=_a){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=_a){return this.component?this.component.multipleInstances?t:_a:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zR(r){return r===_a?void 0:r}function jR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new UR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qt||(Qt={}));const qR={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},HR=Qt.INFO,FR={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},GR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=FR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wp{constructor(t){this.name=t,this._logLevel=HR,this._logHandler=GR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...t),this._logHandler(this,Qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...t),this._logHandler(this,Qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...t),this._logHandler(this,Qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...t),this._logHandler(this,Qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...t),this._logHandler(this,Qt.ERROR,...t)}}const QR=(r,t)=>t.some(n=>r instanceof n);let s0,a0;function YR(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KR(){return a0||(a0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fT=new WeakMap,Gm=new WeakMap,dT=new WeakMap,bm=new WeakMap,bp=new WeakMap;function XR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Cs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&fT.set(n,r)}).catch(()=>{}),bp.set(t,r),t}function $R(r){if(Gm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Gm.set(r,t)}let Qm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Gm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||dT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cs(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function JR(r){Qm=r(Qm)}function ZR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Rm(this),t,...n);return dT.set(s,t.sort?t.sort():[t]),Cs(s)}:KR().includes(r)?function(...t){return r.apply(Rm(this),t),Cs(fT.get(this))}:function(...t){return Cs(r.apply(Rm(this),t))}}function WR(r){return typeof r=="function"?ZR(r):(r instanceof IDBTransaction&&$R(r),QR(r,YR())?new Proxy(r,Qm):r)}function Cs(r){if(r instanceof IDBRequest)return XR(r);if(bm.has(r))return bm.get(r);const t=WR(r);return t!==r&&(bm.set(r,t),bp.set(t,r)),t}const Rm=r=>bp.get(r);function t2(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Cs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Cs(f.result),p.oldVersion,p.newVersion,Cs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const e2=["get","getKey","getAll","getAllKeys","count"],n2=["put","add","delete","clear"],Im=new Map;function o0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Im.get(t))return Im.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=n2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||e2.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Im.set(t,u),u}JR(r=>({...r,get:(t,n,s)=>o0(t,n)||r.get(t,n,s),has:(t,n)=>!!o0(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function r2(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ym="@firebase/app",l0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new wp("@firebase/app"),s2="@firebase/app-compat",a2="@firebase/analytics-compat",o2="@firebase/analytics",l2="@firebase/app-check-compat",u2="@firebase/app-check",c2="@firebase/auth",h2="@firebase/auth-compat",f2="@firebase/database",d2="@firebase/data-connect",m2="@firebase/database-compat",p2="@firebase/functions",g2="@firebase/functions-compat",y2="@firebase/installations",_2="@firebase/installations-compat",v2="@firebase/messaging",E2="@firebase/messaging-compat",T2="@firebase/performance",S2="@firebase/performance-compat",A2="@firebase/remote-config",w2="@firebase/remote-config-compat",b2="@firebase/storage",R2="@firebase/storage-compat",I2="@firebase/firestore",C2="@firebase/ai",D2="@firebase/firestore-compat",N2="firebase",x2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="[DEFAULT]",O2={[Ym]:"fire-core",[s2]:"fire-core-compat",[o2]:"fire-analytics",[a2]:"fire-analytics-compat",[u2]:"fire-app-check",[l2]:"fire-app-check-compat",[c2]:"fire-auth",[h2]:"fire-auth-compat",[f2]:"fire-rtdb",[d2]:"fire-data-connect",[m2]:"fire-rtdb-compat",[p2]:"fire-fn",[g2]:"fire-fn-compat",[y2]:"fire-iid",[_2]:"fire-iid-compat",[v2]:"fire-fcm",[E2]:"fire-fcm-compat",[T2]:"fire-perf",[S2]:"fire-perf-compat",[A2]:"fire-rc",[w2]:"fire-rc-compat",[b2]:"fire-gcs",[R2]:"fire-gcs-compat",[I2]:"fire-fst",[D2]:"fire-fst-compat",[C2]:"fire-vertex","fire-js":"fire-js",[N2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,M2=new Map,Xm=new Map;function u0(r,t){try{r.container.addComponent(t)}catch(n){xr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function bo(r){const t=r.name;if(Xm.has(t))return xr.debug(`There were multiple attempts to register component ${t}.`),!1;Xm.set(t,r);for(const n of wh.values())u0(n,r);for(const n of M2.values())u0(n,r);return!0}function Rp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function _i(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new du("app","Firebase",V2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=x2;function mT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Km,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Ds.create("bad-app-name",{appName:String(o)});if(n||(n=lT()),!n)throw Ds.create("no-options");const u=wh.get(o);if(u){if(Ps(n,u.options)&&Ps(s,u.config))return u;throw Ds.create("duplicate-app",{appName:o})}const f=new BR(o);for(const p of Xm.values())f.addComponent(p);const m=new P2(n,s,f);return wh.set(o,m),m}function pT(r=Km){const t=wh.get(r);if(!t&&r===Km&&lT())return mT();if(!t)throw Ds.create("no-app",{appName:r});return t}function Ns(r,t,n){var s;let o=(s=O2[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xr.warn(m.join(" "));return}bo(new Sa(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="firebase-heartbeat-database",L2=1,iu="firebase-heartbeat-store";let Cm=null;function gT(){return Cm||(Cm=t2(k2,L2,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ds.create("idb-open",{originalErrorMessage:r.message})})),Cm}async function U2(r){try{const n=(await gT()).transaction(iu),s=await n.objectStore(iu).get(yT(r));return await n.done,s}catch(t){if(t instanceof Lr)xr.warn(t.message);else{const n=Ds.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xr.warn(n.message)}}}async function c0(r,t){try{const s=(await gT()).transaction(iu,"readwrite");await s.objectStore(iu).put(t,yT(r)),await s.done}catch(n){if(n instanceof Lr)xr.warn(n.message);else{const s=Ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xr.warn(s.message)}}}function yT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=1024,j2=30;class B2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=h0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>j2){const f=F2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h0(),{heartbeatsToSend:s,unsentEntries:o}=q2(this._heartbeatsCache.heartbeats),u=Ah(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return xr.warn(n),""}}}function h0(){return new Date().toISOString().substring(0,10)}function q2(r,t=z2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),f0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),f0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class H2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DR()?NR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return c0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return c0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function f0(r){return Ah(JSON.stringify({version:2,heartbeats:r})).length}function F2(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(r){bo(new Sa("platform-logger",t=>new i2(t),"PRIVATE")),bo(new Sa("heartbeat",t=>new B2(t),"PRIVATE")),Ns(Ym,l0,r),Ns(Ym,l0,"esm2017"),Ns("fire-js","")}G2("");function Ip(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function _T(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q2=_T,vT=new du("auth","Firebase",_T());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new wp("@firebase/auth");function Y2(r,...t){bh.logLevel<=Qt.WARN&&bh.warn(`Auth (${Po}): ${r}`,...t)}function hh(r,...t){bh.logLevel<=Qt.ERROR&&bh.error(`Auth (${Po}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(r,...t){throw Dp(r,...t)}function Ci(r,...t){return Dp(r,...t)}function Cp(r,t,n){const s=Object.assign(Object.assign({},Q2()),{[t]:n});return new du("auth","Firebase",s).create(t,{appName:r.name})}function xs(r){return Cp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ET(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Qi(r,"argument-error"),Cp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return vT.create(r,...t)}function Rt(r,t,...n){if(!r)throw Dp(t,...n)}function br(r){const t="INTERNAL ASSERTION FAILED: "+r;throw hh(t),new Error(t)}function Or(r,t){r||br(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function K2(){return d0()==="http:"||d0()==="https:"}function d0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K2()||bR()||"connection"in navigator)?navigator.onLine:!0}function $2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Or(n>t,"Short delay should be less than long delay!"),this.isMobile=SR()||RR()}get(){return X2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(r,t){Or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W2=new pu(3e4,6e4);function xp(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function ko(r,t,n,s,o={}){return ST(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=mu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:p},u);return wR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Vo(r.emulatorConfig.host)&&(y.credentials="include"),TT.fetch()(await AT(r,r.config.apiHost,n,m),y)})}async function ST(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},J2),t);try{const o=new eI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw nh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw nh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw nh(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Cp(r,E,y);Qi(r,E)}}catch(o){if(o instanceof Lr)throw o;Qi(r,"network-request-failed",{message:String(o)})}}async function tI(r,t,n,s,o={}){const u=await ko(r,t,n,s,o);return"mfaPendingCredential"in u&&Qi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function AT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Np(r.config,o):`${r.config.apiScheme}://${o}`;return Z2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class eI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),W2.get())})}}function nh(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ci(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(r,t){return ko(r,"POST","/v1/accounts:delete",t)}async function Rh(r,t){return ko(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iI(r,t=!1){const n=Ce(r),s=await n.getIdToken(t),o=Op(s);Rt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:$l(Dm(o.auth_time)),issuedAtTime:$l(Dm(o.iat)),expirationTime:$l(Dm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dm(r){return Number(r)*1e3}function Op(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=aT(n);return o?JSON.parse(o):(hh("Failed to decode base64 JWT payload"),null)}catch(o){return hh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function m0(r){const t=Op(r);return Rt(t,"internal-error"),Rt(typeof t.exp<"u","internal-error"),Rt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Lr&&rI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function rI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(r){var t;const n=r.auth,s=await r.getIdToken(),o=await ru(r,Rh(n,{idToken:s}));Rt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?wT(u.providerUserInfo):[],m=oI(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Jm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,T)}async function aI(r){const t=Ce(r);await Ih(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oI(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function wT(r){return r.map(t=>{var{providerId:n}=t,s=Ip(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(r,t){const n=await ST(r,{},async()=>{const s=mu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await AT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Vo(r.emulatorConfig.host)&&(p.credentials="include"),TT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uI(r,t){return ko(r,"POST","/v2/accounts:revokeToken",xp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Rt(t.idToken,"internal-error"),Rt(typeof t.idToken<"u","internal-error"),Rt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):m0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Rt(t.length!==0,"internal-error");const n=m0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Rt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await lI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new To;return s&&(Rt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Rt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Rt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(r,t){Rt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ii{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Ip(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Jm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await ru(this,this.stsTokenManager.getToken(this.auth,t));return Rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return iI(this,t)}reload(){return aI(this)}_assign(t){this!==t&&(Rt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ii(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(xs(this.auth));const t=await this.getIdToken();return await ru(this,nI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,y,E;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,H=(f=n.photoURL)!==null&&f!==void 0?f:void 0,X=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,at=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ot=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:nt,emailVerified:_t,isAnonymous:It,providerData:bt,stsTokenManager:D}=n;Rt(nt&&D,t,"internal-error");const b=To.fromJSON(this.name,D);Rt(typeof nt=="string",t,"internal-error"),Ss(T,t.name),Ss(w,t.name),Rt(typeof _t=="boolean",t,"internal-error"),Rt(typeof It=="boolean",t,"internal-error"),Ss(P,t.name),Ss(H,t.name),Ss(X,t.name),Ss(F,t.name),Ss(at,t.name),Ss(ot,t.name);const R=new Ii({uid:nt,auth:t,email:w,emailVerified:_t,displayName:T,isAnonymous:It,photoURL:H,phoneNumber:P,tenantId:X,stsTokenManager:b,createdAt:at,lastLoginAt:ot});return bt&&Array.isArray(bt)&&(R.providerData=bt.map(N=>Object.assign({},N))),F&&(R._redirectEventId=F),R}static async _fromIdTokenResponse(t,n,s=!1){const o=new To;o.updateFromServerResponse(n);const u=new Ii({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Ih(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Rt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?wT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new To;m.updateFromIdToken(s);const p=new Ii({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;function Rr(r){Or(r instanceof Function,"Expected a class definition");let t=p0.get(r);return t?(Or(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,p0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}bT.type="NONE";const g0=bT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(r,t,n){return`firebase:${r}:${t}:${n}`}class So{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=fh(this.userKey,o.apiKey,u),this.fullPersistenceKey=fh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Rh(this.auth,{idToken:t}).catch(()=>{});return n?Ii._fromGetAccountInfoResponse(this.auth,n,t):null}return Ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new So(Rr(g0),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Rr(g0);const f=fh(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const w=await Rh(t,{idToken:E}).catch(()=>{});if(!w)break;T=await Ii._fromGetAccountInfoResponse(t,w,E)}else T=Ii._fromJSON(t,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new So(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new So(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(DT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(RT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xT(t))return"Blackberry";if(OT(t))return"Webos";if(IT(t))return"Safari";if((t.includes("chrome/")||CT(t))&&!t.includes("edge/"))return"Chrome";if(NT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function RT(r=gn()){return/firefox\//i.test(r)}function IT(r=gn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function CT(r=gn()){return/crios\//i.test(r)}function DT(r=gn()){return/iemobile/i.test(r)}function NT(r=gn()){return/android/i.test(r)}function xT(r=gn()){return/blackberry/i.test(r)}function OT(r=gn()){return/webos/i.test(r)}function Mp(r=gn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function cI(r=gn()){var t;return Mp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function hI(){return IR()&&document.documentMode===10}function MT(r=gn()){return Mp(r)||NT(r)||OT(r)||xT(r)||/windows phone/i.test(r)||DT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(r,t=[]){let n;switch(r){case"Browser":n=y0(gn());break;case"Worker":n=`${y0(gn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(r,t={}){return ko(r,"GET","/v2/passwordPolicy",xp(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=6;class pI{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:mI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _0(this),this.idTokenSubscription=new _0(this),this.beforeStateQueue=new fI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await So.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Rh(this,{idToken:t}),s=await Ii._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(_i(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ih(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_i(this.app))return Promise.reject(xs(this));const n=t?Ce(t):null;return n&&Rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Rt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _i(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await dI(this),n=new pI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new du("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await uI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Rr(t)||this._popupRedirectResolver;Rt(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=VT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Y2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gu(r){return Ce(r)}class _0{constructor(t){this.auth=t,this.observer=null,this.addObserver=PR(n=>this.observer=n)}get next(){return Rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yI(r){Vp=r}function _I(r){return Vp.loadJS(r)}function vI(){return Vp.gapiScript}function EI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(r,t){const n=Rp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ps(u,t??{}))return o;Qi(o,"already-initialized")}return n.initialize({options:t})}function SI(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Rr);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function AI(r,t,n){const s=gu(r);Rt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=PT(t),{host:f,port:m}=wI(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Rt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Rt(Ps(y,s.config.emulator)&&Ps(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Vo(f)?(cT(`${u}//${f}${p}`),hT("Auth",!0)):bI()}function PT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function wI(r){const t=PT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:v0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:v0(f)}}}function v0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function bI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(t){return br("not implemented")}_linkToIdToken(t,n){return br("not implemented")}_getReauthenticationResolver(t){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(r,t){return tI(r,"POST","/v1/accounts:signInWithIdp",xp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="http://localhost";class Aa extends kT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Aa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Ip(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Aa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ao(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ao(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ao(t,n)}buildRequest(){const t={requestUri:RI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=mu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Xh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends yu{constructor(){super("facebook.com")}static credential(t){return Aa._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return As.credentialFromTaggedObject(t)}static credentialFromError(t){return As.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return As.credential(t.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Aa._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return wr.credential(n,s)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends yu{constructor(){super("github.com")}static credential(t){return Aa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ws.credential(t.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends yu{constructor(){super("twitter.com")}static credential(t,n){return Aa._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return bs.credential(n,s)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Ii._fromIdTokenResponse(t,s,o),f=E0(s);return new Ro({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=E0(s);return new Ro({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function E0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends Lr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Ch(t,n,s,o)}}function LT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(r,u,t,s):u})}async function II(r,t,n=!1){const s=await ru(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ro._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(r,t,n=!1){const{auth:s}=r;if(_i(s.app))return Promise.reject(xs(s));const o="reauthenticate";try{const u=await ru(r,LT(s,o,t,r),n);Rt(u.idToken,s,"internal-error");const f=Op(u.idToken);Rt(f,s,"internal-error");const{sub:m}=f;return Rt(r.uid===m,s,"user-mismatch"),Ro._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(r,t,n=!1){if(_i(r.app))return Promise.reject(xs(r));const s="signIn",o=await LT(r,s,t),u=await Ro._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(r,t){return Ce(r).setPersistence(t)}function NI(r,t,n,s){return Ce(r).onIdTokenChanged(t,n,s)}function xI(r,t,n){return Ce(r).beforeAuthStateChanged(t,n)}function zT(r,t,n,s){return Ce(r).onAuthStateChanged(t,n,s)}function OI(r){return Ce(r).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=1e3,VI=10;class BT extends jT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);hI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,VI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},MI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}BT.type="LOCAL";const Pp=BT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends jT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}qT.type="SESSION";const HT=qT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new $h(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await PI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=kp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return window}function LI(r){qi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function UI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function jI(){return FT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firebaseLocalStorageDb",BI=1,Nh="firebaseLocalStorage",QT="fbase_key";class _u{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(r,t){return r.transaction([Nh],t?"readwrite":"readonly").objectStore(Nh)}function qI(){const r=indexedDB.deleteDatabase(GT);return new _u(r).toPromise()}function Zm(){const r=indexedDB.open(GT,BI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Nh,{keyPath:QT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Nh)?t(s):(s.close(),await qI(),t(await Zm()))})})}async function T0(r,t,n){const s=Jh(r,!0).put({[QT]:t,value:n});return new _u(s).toPromise()}async function HI(r,t){const n=Jh(r,!1).get(t),s=await new _u(n).toPromise();return s===void 0?null:s.value}function S0(r,t){const n=Jh(r,!0).delete(t);return new _u(n).toPromise()}const FI=800,GI=3;class YT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>GI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(jI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await UI(),!this.activeServiceWorker)return;this.sender=new kI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||zI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Zm();return await T0(t,Dh,"1"),await S0(t,Dh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>T0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>HI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>S0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new _u(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YT.type="LOCAL";const QI=YT;new pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(r,t){return t?Rr(t):(Rt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends kT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ao(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ao(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ao(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function YI(r){return DI(r.auth,new Up(r),r.bypassAuthState)}function KI(r){const{auth:t,user:n}=r;return Rt(n,t,"internal-error"),CI(n,new Up(r),r.bypassAuthState)}async function XI(r){const{auth:t,user:n}=r;return Rt(n,t,"internal-error"),II(n,new Up(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return YI;case"linkViaPopup":case"linkViaRedirect":return XI;case"reauthViaPopup":case"reauthViaRedirect":return KI;default:Qi(this.auth,"internal-error")}}resolve(t){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new pu(2e3,1e4);async function JI(r,t,n){if(_i(r.app))return Promise.reject(Ci(r,"operation-not-supported-in-this-environment"));const s=gu(r);ET(r,t,Xh);const o=Lp(s,n);return new va(s,"signInViaPopup",t,o).executeNotNull()}class va extends KT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Rt(t,this.auth,"internal-error"),t}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const t=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,$I.get())};t()}}va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="pendingRedirect",dh=new Map;class WI extends KT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=dh.get(this.auth._key());if(!t){try{const s=await tC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}dh.set(this.auth._key(),t)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tC(r,t){const n=$T(t),s=XT(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function eC(r,t){return XT(r)._set($T(t),"true")}function nC(r,t){dh.set(r._key(),t)}function XT(r){return Rr(r._redirectPersistence)}function $T(r){return fh(ZI,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(r,t,n){return iC(r,t,n)}async function iC(r,t,n){if(_i(r.app))return Promise.reject(xs(r));const s=gu(r);ET(r,t,Xh),await s._initializationPromise;const o=Lp(s,n);return await eC(o,s),o._openRedirect(s,t,"signInViaRedirect")}async function rC(r,t,n=!1){if(_i(r.app))return Promise.reject(xs(r));const s=gu(r),o=Lp(s,t),f=await new WI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=600*1e3;class aC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!oC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!JT(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=sC&&this.cachedEventUids.clear(),this.cachedEventUids.has(w0(t))}saveEventToCache(t){this.cachedEventUids.add(w0(t)),this.lastProcessedEventTime=Date.now()}}function w0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function JT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function oC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(r,t={}){return ko(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cC=/^https?/;async function hC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await lC(r);for(const n of t)try{if(fC(n))return}catch{}Qi(r,"unauthorized-domain")}function fC(r){const t=$m(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!cC.test(n))return!1;if(uC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new pu(3e4,6e4);function b0(){const r=qi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function mC(r){return new Promise((t,n)=>{var s,o,u;function f(){b0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{b0(),n(Ci(r,"network-request-failed"))},timeout:dC.get()})}if(!((o=(s=qi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=qi().gapi)===null||u===void 0)&&u.load)f();else{const m=EI("iframefcb");return qi()[m]=()=>{gapi.load?f():n(Ci(r,"network-request-failed"))},_I(`${vI()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw mh=null,t})}let mh=null;function pC(r){return mh=mh||mC(r),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new pu(5e3,15e3),yC="__/auth/iframe",_C="emulator/auth/iframe",vC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TC(r){const t=r.config;Rt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Np(t,_C):`https://${r.config.authDomain}/${yC}`,s={apiKey:t.apiKey,appName:r.name,v:Po},o=EC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${mu(s).slice(1)}`}async function SC(r){const t=await pC(r),n=qi().gapi;return Rt(n,r,"internal-error"),t.open({where:document.body,url:TC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ci(r,"network-request-failed"),m=qi().setTimeout(()=>{u(f)},gC.get());function p(){qi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wC=500,bC=600,RC="_blank",IC="http://localhost";class R0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CC(r,t,n,s=wC,o=bC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},AC),{width:s.toString(),height:o.toString(),top:u,left:f}),y=gn().toLowerCase();n&&(m=CT(y)?RC:n),RT(y)&&(t=t||IC,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[P,H])=>`${w}${P}=${H},`,"");if(cI(y)&&m!=="_self")return DC(t||"",m),new R0(null);const T=window.open(t||"",m,E);Rt(T,r,"popup-blocked");try{T.focus()}catch{}return new R0(T)}function DC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="__/auth/handler",xC="emulator/auth/handler",OC=encodeURIComponent("fac");async function I0(r,t,n,s,o,u){Rt(r.config.authDomain,r,"auth-domain-config-required"),Rt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Po,eventId:o};if(t instanceof Xh){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",VR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(t instanceof yu){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${OC}=${encodeURIComponent(p)}`:"";return`${MC(r)}?${mu(m).slice(1)}${y}`}function MC({config:r}){return r.emulator?Np(r,xC):`https://${r.authDomain}/${NC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class VC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HT,this._completeRedirectFn=rC,this._overrideRedirectResult=nC}async _openPopup(t,n,s,o){var u;Or((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await I0(t,n,s,$m(),o);return CC(t,f,kp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await I0(t,n,s,$m(),o);return LI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await SC(t),s=new aC(t);return n.register("authEvent",o=>(Rt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Nm,{type:Nm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Nm];f!==void 0&&n(!!f),Qi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return MT()||IT()||Mp()}}const PC=VC;var C0="@firebase/auth",D0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UC(r){bo(new Sa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Rt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VT(r)},y=new gI(s,o,u,p);return SI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),bo(new Sa("auth-internal",t=>{const n=gu(t.getProvider("auth").getImmediate());return(s=>new kC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(C0,D0,LC(r)),Ns(C0,D0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=300,jC=uT("authIdTokenMaxAge")||zC;let N0=null;const BC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>jC)return;const o=n==null?void 0:n.token;N0!==o&&(N0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qC(r=pT()){const t=Rp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=TI(r,{popupRedirectResolver:PC,persistence:[QI,Pp,HT]}),s=uT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=BC(u.toString());xI(n,f,()=>f(n.currentUser)),NI(n,m=>f(m))}}const o=oT("auth");return o&&AI(n,`http://${o}`),n}function HC(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}yI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",HC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UC("Browser");var x0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Os,ZT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,b){function R(){}R.prototype=b.prototype,D.D=b.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(N,M,V){for(var I=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)I[fe-2]=arguments[fe];return b.prototype[M].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,R){R||(R=0);var N=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)N[M]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(M=0;16>M;++M)N[M]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=D.g[0],R=D.g[1],M=D.g[2];var V=D.g[3],I=b+(V^R&(M^V))+N[0]+3614090360&4294967295;b=R+(I<<7&4294967295|I>>>25),I=V+(M^b&(R^M))+N[1]+3905402710&4294967295,V=b+(I<<12&4294967295|I>>>20),I=M+(R^V&(b^R))+N[2]+606105819&4294967295,M=V+(I<<17&4294967295|I>>>15),I=R+(b^M&(V^b))+N[3]+3250441966&4294967295,R=M+(I<<22&4294967295|I>>>10),I=b+(V^R&(M^V))+N[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=V+(M^b&(R^M))+N[5]+1200080426&4294967295,V=b+(I<<12&4294967295|I>>>20),I=M+(R^V&(b^R))+N[6]+2821735955&4294967295,M=V+(I<<17&4294967295|I>>>15),I=R+(b^M&(V^b))+N[7]+4249261313&4294967295,R=M+(I<<22&4294967295|I>>>10),I=b+(V^R&(M^V))+N[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=V+(M^b&(R^M))+N[9]+2336552879&4294967295,V=b+(I<<12&4294967295|I>>>20),I=M+(R^V&(b^R))+N[10]+4294925233&4294967295,M=V+(I<<17&4294967295|I>>>15),I=R+(b^M&(V^b))+N[11]+2304563134&4294967295,R=M+(I<<22&4294967295|I>>>10),I=b+(V^R&(M^V))+N[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=V+(M^b&(R^M))+N[13]+4254626195&4294967295,V=b+(I<<12&4294967295|I>>>20),I=M+(R^V&(b^R))+N[14]+2792965006&4294967295,M=V+(I<<17&4294967295|I>>>15),I=R+(b^M&(V^b))+N[15]+1236535329&4294967295,R=M+(I<<22&4294967295|I>>>10),I=b+(M^V&(R^M))+N[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=V+(R^M&(b^R))+N[6]+3225465664&4294967295,V=b+(I<<9&4294967295|I>>>23),I=M+(b^R&(V^b))+N[11]+643717713&4294967295,M=V+(I<<14&4294967295|I>>>18),I=R+(V^b&(M^V))+N[0]+3921069994&4294967295,R=M+(I<<20&4294967295|I>>>12),I=b+(M^V&(R^M))+N[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=V+(R^M&(b^R))+N[10]+38016083&4294967295,V=b+(I<<9&4294967295|I>>>23),I=M+(b^R&(V^b))+N[15]+3634488961&4294967295,M=V+(I<<14&4294967295|I>>>18),I=R+(V^b&(M^V))+N[4]+3889429448&4294967295,R=M+(I<<20&4294967295|I>>>12),I=b+(M^V&(R^M))+N[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=V+(R^M&(b^R))+N[14]+3275163606&4294967295,V=b+(I<<9&4294967295|I>>>23),I=M+(b^R&(V^b))+N[3]+4107603335&4294967295,M=V+(I<<14&4294967295|I>>>18),I=R+(V^b&(M^V))+N[8]+1163531501&4294967295,R=M+(I<<20&4294967295|I>>>12),I=b+(M^V&(R^M))+N[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=V+(R^M&(b^R))+N[2]+4243563512&4294967295,V=b+(I<<9&4294967295|I>>>23),I=M+(b^R&(V^b))+N[7]+1735328473&4294967295,M=V+(I<<14&4294967295|I>>>18),I=R+(V^b&(M^V))+N[12]+2368359562&4294967295,R=M+(I<<20&4294967295|I>>>12),I=b+(R^M^V)+N[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=V+(b^R^M)+N[8]+2272392833&4294967295,V=b+(I<<11&4294967295|I>>>21),I=M+(V^b^R)+N[11]+1839030562&4294967295,M=V+(I<<16&4294967295|I>>>16),I=R+(M^V^b)+N[14]+4259657740&4294967295,R=M+(I<<23&4294967295|I>>>9),I=b+(R^M^V)+N[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=V+(b^R^M)+N[4]+1272893353&4294967295,V=b+(I<<11&4294967295|I>>>21),I=M+(V^b^R)+N[7]+4139469664&4294967295,M=V+(I<<16&4294967295|I>>>16),I=R+(M^V^b)+N[10]+3200236656&4294967295,R=M+(I<<23&4294967295|I>>>9),I=b+(R^M^V)+N[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=V+(b^R^M)+N[0]+3936430074&4294967295,V=b+(I<<11&4294967295|I>>>21),I=M+(V^b^R)+N[3]+3572445317&4294967295,M=V+(I<<16&4294967295|I>>>16),I=R+(M^V^b)+N[6]+76029189&4294967295,R=M+(I<<23&4294967295|I>>>9),I=b+(R^M^V)+N[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=V+(b^R^M)+N[12]+3873151461&4294967295,V=b+(I<<11&4294967295|I>>>21),I=M+(V^b^R)+N[15]+530742520&4294967295,M=V+(I<<16&4294967295|I>>>16),I=R+(M^V^b)+N[2]+3299628645&4294967295,R=M+(I<<23&4294967295|I>>>9),I=b+(M^(R|~V))+N[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=V+(R^(b|~M))+N[7]+1126891415&4294967295,V=b+(I<<10&4294967295|I>>>22),I=M+(b^(V|~R))+N[14]+2878612391&4294967295,M=V+(I<<15&4294967295|I>>>17),I=R+(V^(M|~b))+N[5]+4237533241&4294967295,R=M+(I<<21&4294967295|I>>>11),I=b+(M^(R|~V))+N[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=V+(R^(b|~M))+N[3]+2399980690&4294967295,V=b+(I<<10&4294967295|I>>>22),I=M+(b^(V|~R))+N[10]+4293915773&4294967295,M=V+(I<<15&4294967295|I>>>17),I=R+(V^(M|~b))+N[1]+2240044497&4294967295,R=M+(I<<21&4294967295|I>>>11),I=b+(M^(R|~V))+N[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=V+(R^(b|~M))+N[15]+4264355552&4294967295,V=b+(I<<10&4294967295|I>>>22),I=M+(b^(V|~R))+N[6]+2734768916&4294967295,M=V+(I<<15&4294967295|I>>>17),I=R+(V^(M|~b))+N[13]+1309151649&4294967295,R=M+(I<<21&4294967295|I>>>11),I=b+(M^(R|~V))+N[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=V+(R^(b|~M))+N[11]+3174756917&4294967295,V=b+(I<<10&4294967295|I>>>22),I=M+(b^(V|~R))+N[2]+718787259&4294967295,M=V+(I<<15&4294967295|I>>>17),I=R+(V^(M|~b))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+V&4294967295}s.prototype.u=function(D,b){b===void 0&&(b=D.length);for(var R=b-this.blockSize,N=this.B,M=this.h,V=0;V<b;){if(M==0)for(;V<=R;)o(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<b;)if(N[M++]=D.charCodeAt(V++),M==this.blockSize){o(this,N),M=0;break}}else for(;V<b;)if(N[M++]=D[V++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;var R=8*this.o;for(b=D.length-8;b<D.length;++b)D[b]=R&255,R/=256;for(this.u(D),D=Array(16),b=R=0;4>b;++b)for(var N=0;32>N;N+=8)D[R++]=this.g[b]>>>N&255;return D};function u(D,b){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=b(D)}function f(D,b){this.h=b;for(var R=[],N=!0,M=D.length-1;0<=M;M--){var V=D[M]|0;N&&V==b||(R[M]=V,N=!1)}this.g=R}var m={};function p(D){return-128<=D&&128>D?u(D,function(b){return new f([b|0],0>b?-1:0)}):new f([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return F(y(-D));for(var b=[],R=1,N=0;D>=R;N++)b[N]=D/R|0,R*=4294967296;return new f(b,0)}function E(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return F(E(D.substring(1),b));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(b,8)),N=T,M=0;M<D.length;M+=8){var V=Math.min(8,D.length-M),I=parseInt(D.substring(M,M+V),b);8>V?(V=y(Math.pow(b,V)),N=N.j(V).add(y(I))):(N=N.j(R),N=N.add(y(I)))}return N}var T=p(0),w=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(X(this))return-F(this).m();for(var D=0,b=1,R=0;R<this.g.length;R++){var N=this.i(R);D+=(0<=N?N:4294967296+N)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(H(this))return"0";if(X(this))return"-"+F(this).toString(D);for(var b=y(Math.pow(D,6)),R=this,N="";;){var M=_t(R,b).g;R=at(R,M.j(b));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=M,H(R))return V+N;for(;6>V.length;)V="0"+V;N=V+N}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function H(D){if(D.h!=0)return!1;for(var b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function X(D){return D.h==-1}r.l=function(D){return D=at(this,D),X(D)?-1:H(D)?0:1};function F(D){for(var b=D.g.length,R=[],N=0;N<b;N++)R[N]=~D.g[N];return new f(R,~D.h).add(w)}r.abs=function(){return X(this)?F(this):this},r.add=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],N=0,M=0;M<=b;M++){var V=N+(this.i(M)&65535)+(D.i(M)&65535),I=(V>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);N=I>>>16,V&=65535,I&=65535,R[M]=I<<16|V}return new f(R,R[R.length-1]&-2147483648?-1:0)};function at(D,b){return D.add(F(b))}r.j=function(D){if(H(this)||H(D))return T;if(X(this))return X(D)?F(this).j(F(D)):F(F(this).j(D));if(X(D))return F(this.j(F(D)));if(0>this.l(P)&&0>D.l(P))return y(this.m()*D.m());for(var b=this.g.length+D.g.length,R=[],N=0;N<2*b;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<D.g.length;M++){var V=this.i(N)>>>16,I=this.i(N)&65535,fe=D.i(M)>>>16,Ee=D.i(M)&65535;R[2*N+2*M]+=I*Ee,ot(R,2*N+2*M),R[2*N+2*M+1]+=V*Ee,ot(R,2*N+2*M+1),R[2*N+2*M+1]+=I*fe,ot(R,2*N+2*M+1),R[2*N+2*M+2]+=V*fe,ot(R,2*N+2*M+2)}for(N=0;N<b;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=b;N<2*b;N++)R[N]=0;return new f(R,0)};function ot(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function nt(D,b){this.g=D,this.h=b}function _t(D,b){if(H(b))throw Error("division by zero");if(H(D))return new nt(T,T);if(X(D))return b=_t(F(D),b),new nt(F(b.g),F(b.h));if(X(b))return b=_t(D,F(b)),new nt(F(b.g),b.h);if(30<D.g.length){if(X(D)||X(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,N=b;0>=N.l(D);)R=It(R),N=It(N);var M=bt(R,1),V=bt(N,1);for(N=bt(N,2),R=bt(R,2);!H(N);){var I=V.add(N);0>=I.l(D)&&(M=M.add(R),V=I),N=bt(N,1),R=bt(R,1)}return b=at(D,M.j(b)),new nt(M,b)}for(M=T;0<=D.l(b);){for(R=Math.max(1,Math.floor(D.m()/b.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),V=y(R),I=V.j(b);X(I)||0<I.l(D);)R-=N,V=y(R),I=V.j(b);H(V)&&(V=w),M=M.add(V),D=at(D,I)}return new nt(M,D)}r.A=function(D){return _t(this,D).h},r.and=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)&D.i(N);return new f(R,this.h&D.h)},r.or=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)|D.i(N);return new f(R,this.h|D.h)},r.xor=function(D){for(var b=Math.max(this.g.length,D.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)^D.i(N);return new f(R,this.h^D.h)};function It(D){for(var b=D.g.length+1,R=[],N=0;N<b;N++)R[N]=D.i(N)<<1|D.i(N-1)>>>31;return new f(R,D.h)}function bt(D,b){var R=b>>5;b%=32;for(var N=D.g.length-R,M=[],V=0;V<N;V++)M[V]=0<b?D.i(V+R)>>>b|D.i(V+R+1)<<32-b:D.i(V+R);return new f(M,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ZT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Os=f}).apply(typeof x0<"u"?x0:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WT,Gl,t1,ph,Wm,e1,n1,i1;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break t;v=v[z]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,A=!1,z={next:function(){if(!A&&v<c.length){var Y=v++;return{value:g(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,v){return c.call.apply(c.bind,arguments)}function T(c,g,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function w(c,g,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,w.apply(null,arguments)}function P(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function H(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,z,Y){for(var ut=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)ut[ne-2]=arguments[ne];return g.prototype[z].apply(A,ut)}}function X(c){const g=c.length;if(0<g){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function F(c,g){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const z=c.length||0,Y=A.length||0;c.length=z+Y;for(let ut=0;ut<Y;ut++)c[z+ut]=A[ut]}else c.push(A)}}class at{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ot(c){return/^[\s\xa0]*$/.test(c)}function nt(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function _t(c){return _t[" "](c),c}_t[" "]=function(){};var It=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function bt(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function D(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function b(c){const g={};for(const v in c)g[v]=c[v];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let Y=0;Y<R.length;Y++)v=R[Y],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function M(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function V(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Mt;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class fe{constructor(){this.h=this.g=null}add(g,v){const A=Ee.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ee=new at(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,gt=!1,Mt=new fe,Ot=()=>{const c=m.Promise.resolve(void 0);lt=()=>{c.then(x)}};var x=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){V(v)}var g=Ee;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}gt=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var dt=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c})();function At(c,g){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(It){t:{try{_t(g.nodeName);var z=!0;break t}catch{}z=!1}z||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Pt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&At.aa.h.call(this)}}H(At,st);var Pt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function de(c,g,v,A,z){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=z,this.key=++qe,this.da=this.fa=!1}function ni(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ei(c){this.src=c,this.g={},this.h=0}Ei.prototype.add=function(c,g,v,A,z){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ut=Ki(c,g,A,z);return-1<ut?(g=c[ut],v||(g.fa=!1)):(g=new de(g,this.src,Y,!!A,z),g.fa=v,c.push(g)),g};function ii(c,g){var v=g.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,g,void 0),Y;(Y=0<=z)&&Array.prototype.splice.call(A,z,1),Y&&(ni(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ki(c,g,v,A){for(var z=0;z<c.length;++z){var Y=c[z];if(!Y.da&&Y.listener==g&&Y.capture==!!v&&Y.ha==A)return z}return-1}var Ln="closure_lm_"+(1e6*Math.random()|0),Xi={};function Ni(c,g,v,A,z){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)Ni(c,g[Y],v,A,z);return null}return v=Na(v),c&&c[jt]?c.K(g,v,y(A)?!!A.capture:!1,z):Ho(c,g,v,!1,A,z)}function Ho(c,g,v,A,z,Y){if(!g)throw Error("Invalid event type");var ut=y(z)?!!z.capture:!!z,ne=zr(c);if(ne||(c[Ln]=ne=new Ei(c)),v=ne.add(g,v,A,ut,Y),v.proxy)return v;if(A=Ur(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)dt||(z=ut),z===void 0&&(z=!1),c.addEventListener(g.toString(),A,z);else if(c.attachEvent)c.attachEvent($i(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ur(){function c(v){return g.call(c.src,c.listener,v)}const g=Fo;return c}function ri(c,g,v,A,z){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)ri(c,g[Y],v,A,z);else A=y(A)?!!A.capture:!!A,v=Na(v),c&&c[jt]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],v=Ki(Y,v,A,z),-1<v&&(ni(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=zr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ki(g,v,A,z)),(v=-1<c?g[c]:null)&&si(v))}function si(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[jt])ii(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent($i(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=zr(g))?(ii(v,c),v.h==0&&(v.src=null,g[Ln]=null)):ni(c)}}}function $i(c){return c in Xi?Xi[c]:Xi[c]="on"+c}function Fo(c,g){if(c.da)c=!0;else{g=new At(g,this);var v=c.listener,A=c.ha||c.src;c.fa&&si(c),c=v.call(A,g)}return c}function zr(c){return c=c[Ln],c instanceof Ei?c:null}var He="__closure_events_fn_"+(1e9*Math.random()>>>0);function Na(c){return typeof c=="function"?c:(c[He]||(c[He]=function(g){return c.handleEvent(g)}),c[He])}function De(){J.call(this),this.i=new Ei(this),this.M=this,this.F=null}H(De,J),De.prototype[jt]=!0,De.prototype.removeEventListener=function(c,g,v,A){ri(this,c,g,v,A)};function _e(c,g){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new st(g,c);else if(g instanceof st)g.target=g.target||c;else{var z=g;g=new st(A,c),N(g,z)}if(z=!0,v)for(var Y=v.length-1;0<=Y;Y--){var ut=g.g=v[Y];z=_n(ut,A,!0,g)&&z}if(ut=g.g=c,z=_n(ut,A,!0,g)&&z,z=_n(ut,A,!1,g)&&z,v)for(Y=0;Y<v.length;Y++)ut=g.g=v[Y],z=_n(ut,A,!1,g)&&z}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],A=0;A<v.length;A++)ni(v[A]);delete c.g[g],c.h--}}this.F=null},De.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},De.prototype.L=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function _n(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,Y=0;Y<g.length;++Y){var ut=g[Y];if(ut&&!ut.da&&ut.capture==v){var ne=ut.listener,Ve=ut.ha||ut.src;ut.fa&&ii(c.i,ut),z=ne.call(Ve,A)!==!1&&z}}return z&&!A.defaultPrevented}function Ti(c,g,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function bn(c){c.g=Ti(()=>{c.g=null,c.i&&(c.i=!1,bn(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class jr extends J{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:bn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ji(c){J.call(this),this.h=c,this.g={}}H(Ji,J);var ai=[];function Fe(c){bt(c.g,function(g,v){this.g.hasOwnProperty(v)&&si(g)},c),c.g={}}Ji.prototype.N=function(){Ji.aa.N.call(this),Fe(this)},Ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=m.JSON.stringify,tn=m.JSON.parse,Go=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Qs(){}Qs.prototype.h=null;function Zi(c){return c.h||(c.h=c.i())}function Wi(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xi(){st.call(this,"d")}H(xi,st);function Un(){st.call(this,"c")}H(Un,st);var cn={},hn=null;function L(){return hn=hn||new De}cn.La="serverreachability";function et(c){st.call(this,cn.La,c)}H(et,st);function rt(c){const g=L();_e(g,new et(g))}cn.STAT_EVENT="statevent";function ct(c,g){st.call(this,cn.STAT_EVENT,c),this.stat=g}H(ct,st);function mt(c){const g=L();_e(g,new ct(g,c))}cn.Ma="timingevent";function Bt(c,g){st.call(this,cn.Ma,c),this.size=g}H(Bt,st);function Ct(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function ie(){this.g=!0}ie.prototype.xa=function(){this.g=!1};function Jt(c,g,v,A,z,Y){c.info(function(){if(c.g)if(Y)for(var ut="",ne=Y.split("&"),Ve=0;Ve<ne.length;Ve++){var Ut=ne[Ve].split("=");if(1<Ut.length){var Xe=Ut[0];Ut=Ut[1];var $e=Xe.split("_");ut=2<=$e.length&&$e[1]=="type"?ut+(Xe+"="+Ut+"&"):ut+(Xe+"=redacted&")}}else ut=null;else ut=Y;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+v+`
`+ut})}function Lt(c,g,v,A,z,Y,ut){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+v+`
`+Y+" "+ut})}function Nt(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+zn(c,v)+(A?" "+A:"")})}function In(c,g){c.info(function(){return"TIMEOUT: "+g})}ie.prototype.info=function(){};function zn(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var Y=z[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ut=1;ut<z.length;ut++)z[ut]=""}}}}return Rn(v)}catch{return g}}var he={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cn;function jn(){}H(jn,Qs),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},Cn=new jn;function Oi(c,g,v,A){this.j=c,this.i=g,this.l=v,this.R=A||1,this.U=new Ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nu}function Nu(){this.i=null,this.g="",this.h=!1}var Qo={},tr={};function Ys(c,g,v){c.L=1,c.v=$s(we(g)),c.m=v,c.P=!0,er(c,null)}function er(c,g){c.F=Date.now(),Si(c),c.A=we(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),rr(v.i,"t",A),c.C=0,v=c.j.J,c.h=new Nu,c.g=Qu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new jr(w(c.Y,c,c.g),c.O)),g=c.U,v=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(ai[0]=z.toString()),z=ai);for(var Y=0;Y<z.length;Y++){var ut=Ni(v,z[Y],A||g.handleEvent,!1,g.h||g);if(!ut)break;g.g[ut.key]=ut}g=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),rt(),Jt(c.i,c.u,c.A,c.l,c.R,c.m)}Oi.prototype.ca=function(c){c=c.target;const g=this.M;g&&Tn(c)==3?g.j():this.Y(c)},Oi.prototype.Y=function(c){try{if(c==this.g)t:{const $e=Tn(this.g);var g=this.g.Ba();const Wr=this.g.Z();if(!(3>$e)&&($e!=3||this.g&&(this.h.h||this.g.oa()||Ws(this.g)))){this.J||$e!=4||g==7||(g==8||0>=Wr?rt(3):rt(2)),xa(this);var v=this.g.Z();this.X=v;e:if(nr(this)){var A=Ws(this.g);c="";var z=A.length,Y=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Br(this);var ut="";break e}this.h.i=new m.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(Y&&g==z-1)});A.length=0,this.h.g+=c,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=v==200,Lt(this.i,this.u,this.A,this.l,this.R,$e,v),this.o){if(this.T&&!this.K){e:{if(this.g){var ne,Ve=this.g;if((ne=Ve.g?Ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(ne)){var Ut=ne;break e}}Ut=null}if(v=Ut)Nt(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mi(this,v);else{this.o=!1,this.s=3,mt(12),vn(this),Br(this);break t}}if(this.P){v=!0;let Nn;for(;!this.J&&this.C<ut.length;)if(Nn=Ks(this,ut),Nn==tr){$e==4&&(this.s=4,mt(14),v=!1),Nt(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==Qo){this.s=4,mt(15),Nt(this.i,this.l,ut,"[Invalid Chunk]"),v=!1;break}else Nt(this.i,this.l,Nn,null),Mi(this,Nn);if(nr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||ut.length!=0||this.h.h||(this.s=1,mt(16),v=!1),this.o=this.o&&v,!v)Nt(this.i,this.l,ut,"[Invalid Chunked Response]"),vn(this),Br(this);else if(0<ut.length&&!this.W){this.W=!0;var Xe=this.j;Xe.g==this&&Xe.ba&&!Xe.M&&(Xe.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),il(Xe),Xe.M=!0,mt(11))}}else Nt(this.i,this.l,ut,null),Mi(this,ut);$e==4&&vn(this),this.o&&!this.J&&($e==4?Hu(this.j,this):(this.o=!1,Si(this)))}else Lu(this.g),v==400&&0<ut.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),vn(this),Br(this)}}}catch{}finally{}};function nr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ks(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?tr:(v=Number(g.substring(v,A)),isNaN(v)?Qo:(A+=1,A+v>g.length?tr:(g=g.slice(A,A+v),c.C=A+v,g)))}Oi.prototype.cancel=function(){this.J=!0,vn(this)};function Si(c){c.S=Date.now()+c.I,Ne(c,c.I)}function Ne(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ct(w(c.ba,c),g)}function xa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Oi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(In(this.i,this.A),this.L!=2&&(rt(),mt(17)),vn(this),this.s=2,Br(this)):Ne(this,this.S-c)};function Br(c){c.j.G==0||c.J||Hu(c.j,c)}function vn(c){xa(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Fe(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Mi(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||qr(v.h,c))){if(!c.K&&qr(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Jr(v),$r(v);else break t;nl(v),mt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ct(w(v.Za,v),6e3));if(1>=xu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ar(v,11)}else if((c.K||v.g==c)&&Jr(v),!ot(g))for(z=v.Da.g.parse(g),g=0;g<z.length;g++){let Ut=z[g];if(v.T=Ut[0],Ut=Ut[1],v.G==2)if(Ut[0]=="c"){v.K=Ut[1],v.ia=Ut[2];const Xe=Ut[3];Xe!=null&&(v.la=Xe,v.j.info("VER="+v.la));const $e=Ut[4];$e!=null&&(v.Aa=$e,v.j.info("SVER="+v.Aa));const Wr=Ut[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(A=1.5*Wr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Nn=c.g;if(Nn){const na=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var Y=A.h;Y.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Hr(Y,Y.h),Y.h=null))}if(A.D){const or=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;or&&(A.ya=or,Zt(A.I,A.D,or))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ut=c;if(A.qa=Gu(A,A.J?A.ia:null,A.W),ut.K){li(A.h,ut);var ne=ut,Ve=A.L;Ve&&(ne.I=Ve),ne.B&&(xa(ne),Si(ne)),A.g=ut}else Bu(A);0<v.i.length&&za(v)}else Ut[0]!="stop"&&Ut[0]!="close"||ar(v,7);else v.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?ar(v,7):tl(v):Ut[0]!="noop"&&v.l&&v.l.ta(Ut),v.v=0)}}rt(4)}catch{}}var gf=class{constructor(c,g){this.g=c,this.map=g}};function Yo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xu(c){return c.h?1:c.g?c.g.size:0}function qr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Hr(c,g){c.g?c.g.add(g):c.h=g}function li(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Yo.prototype.cancel=function(){if(this.i=En(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function En(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return X(c.i)}function Ou(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,A=0;A<v;A++)g.push(c[A]);return g}g=[],v=0;for(A in c)g[v++]=c[A];return g}function yf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const A in c)g[v++]=A;return g}}}function Oa(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=yf(c),A=Ou(c),z=A.length,Y=0;Y<z;Y++)g.call(void 0,A[Y],v&&v[Y],c)}var Xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),z=null;if(0<=A){var Y=c[v].substring(0,A);z=c[v].substring(A+1)}else Y=c[v];g(Y,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ir(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ir){this.h=c.h,Fr(this,c.j),this.o=c.o,this.g=c.g,Xs(this,c.s),this.l=c.l;var g=c.i,v=new Vi;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Va(this,v),this.m=c.m}else c&&(g=String(c).match(Xo))?(this.h=!1,Fr(this,g[1]||"",!0),this.o=Gr(g[2]||""),this.g=Gr(g[3]||"",!0),Xs(this,g[4]),this.l=Gr(g[5]||"",!0),Va(this,g[6]||"",!0),this.m=Gr(g[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}ir.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ui(g,$o,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ui(g,$o,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ui(v,v.charAt(0)=="/"?Jo:Mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ui(v,Ef)),c.join("")};function we(c){return new ir(c)}function Fr(c,g,v){c.j=v?Gr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Xs(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Va(c,g,v){g instanceof Vi?(c.i=g,Vu(c.i,c.h)):(v||(g=ui(g,vf)),c.i=new Vi(g,c.h))}function Zt(c,g,v){c.i.set(g,v)}function $s(c){return Zt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Gr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ui(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,_f),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _f(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $o=/[#\/\?@]/g,Mu=/[#\?:]/g,Jo=/[#\?]/g,vf=/[#\?@]/g,Ef=/#/g;function Vi(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Ke(c){c.g||(c.g=new Map,c.h=0,c.i&&Ma(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Vi.prototype,r.add=function(c,g){Ke(this),this.i=null,c=Bn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Pa(c,g){Ke(c),g=Bn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function ka(c,g){return Ke(c),g=Bn(c,g),c.g.has(g)}r.forEach=function(c,g){Ke(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(g,z,A,this)},this)},this)},r.na=function(){Ke(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let A=0;A<g.length;A++){const z=c[A];for(let Y=0;Y<z.length;Y++)v.push(g[A])}return v},r.V=function(c){Ke(this);let g=[];if(typeof c=="string")ka(this,c)&&(g=g.concat(this.g.get(Bn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},r.set=function(c,g){return Ke(this),this.i=null,c=Bn(this,c),ka(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function rr(c,g,v){Pa(c,g),0<v.length&&(c.i=null,c.g.set(Bn(c,g),X(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var A=g[v];const Y=encodeURIComponent(String(A)),ut=this.V(A);for(A=0;A<ut.length;A++){var z=Y;ut[A]!==""&&(z+="="+encodeURIComponent(String(ut[A]))),c.push(z)}}return this.i=c.join("&")};function Bn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Vu(c,g){g&&!c.j&&(Ke(c),c.i=null,c.g.forEach(function(v,A){var z=A.toLowerCase();A!=z&&(Pa(this,A),rr(this,z,v))},c)),c.j=g}function Zo(c,g){const v=new ie;if(m.Image){const A=new Image;A.onload=P(Dn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=P(Dn,v,"TestLoadImage: error",!1,g,A),A.onabort=P(Dn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=P(Dn,v,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Pu(c,g){const v=new ie,A=new AbortController,z=setTimeout(()=>{A.abort(),Dn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(z),Y.ok?Dn(v,"TestPingServer: ok",!0,g):Dn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Dn(v,"TestPingServer: error",!1,g)})}function Dn(c,g,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Ai(){this.g=new Go}function Wo(c,g,v){const A=v||"";try{Oa(c,function(z,Y){let ut=z;y(z)&&(ut=Rn(z)),g.push(A+Y+"="+encodeURIComponent(ut))})}catch(z){throw g.push(A+"type="+encodeURIComponent("_badmap")),z}}function Pi(c){this.l=c.Ub||null,this.j=c.eb||!1}H(Pi,Qs),Pi.prototype.g=function(){return new qn(this.l,this.j)},Pi.prototype.i=(function(c){return function(){return c}})({});function qn(c,g){De.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(qn,De),r=qn.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Qr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ki(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qr(this)),this.g&&(this.readyState=3,Qr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;La(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function La(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ki(this):Qr(this),this.readyState==3&&La(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ki(this))},r.Qa=function(c){this.g&&(this.response=c,ki(this))},r.ga=function(){this.g&&ki(this)};function ki(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Qr(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Qr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Js(c){let g="";return bt(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Yr(c,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Js(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Zt(c,g,v))}function me(c){De.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(me,De);var fn=/^https?$/i,sr=["POST","PUT"];r=me.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cn.g(),this.v=this.o?Zi(this.o):Zi(Cn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){Zs(this,Y);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(sr,g,void 0))||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ut]of v)this.g.setRequestHeader(Y,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ua(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Zs(this,Y)}};function Zs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Kr(c),Xr(c)}function Kr(c){c.A||(c.A=!0,_e(c,"complete"),_e(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_e(this,"complete"),_e(this,"abort"),Xr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xr(this,!0)),me.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ku(this):this.bb())},r.bb=function(){ku(this)};function ku(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Tn(c)!=4||c.Z()!=2)){if(c.u&&Tn(c)==4)Ti(c.Ea,0,c);else if(_e(c,"readystatechange"),Tn(c)==4){c.h=!1;try{const ut=c.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=ut===0){var z=String(c.D).match(Xo)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!fn.test(z?z.toLowerCase():"")}v=A}if(v)_e(c,"complete"),_e(c,"success");else{c.m=6;try{var Y=2<Tn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Kr(c)}}finally{Xr(c)}}}}function Xr(c,g){if(c.g){Ua(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||_e(c,"ready");try{v.onreadystatechange=A}catch{}}}function Ua(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Tn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),tn(g)}};function Ws(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Lu(c){const g={};c=(c.g&&2<=Tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ot(c[A]))continue;var v=M(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=g[z]||[];g[z]=Y,Y.push(v)}D(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Uu(c){this.Aa=0,this.i=[],this.j=new ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,c),this.cb=ta("retryDelaySeedMs",1e4,c),this.Wa=ta("forwardChannelMaxRetries",2,c),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Yo(c&&c.concurrentRequestLimit),this.Da=new Ai,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Uu.prototype,r.la=8,r.G=1,r.connect=function(c,g,v,A){mt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Gu(this,null,this.W),za(this)};function tl(c){if(zu(c),c.G==3){var g=c.U++,v=we(c.I);if(Zt(v,"SID",c.K),Zt(v,"RID",g),Zt(v,"TYPE","terminate"),ea(c,v),g=new Oi(c,c.j,g),g.L=2,g.v=$s(we(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Qu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Si(g)}rl(c)}function $r(c){c.g&&(il(c),c.g.cancel(),c.g=null)}function zu(c){$r(c),c.u&&(m.clearTimeout(c.u),c.u=null),Jr(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function za(c){if(!Ko(c.h)&&!c.s){c.s=!0;var g=c.Ga;lt||Ot(),gt||(lt(),gt=!0),Mt.add(g,c),c.B=0}}function Tf(c,g){return xu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ct(w(c.Ga,c,g),Fu(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Oi(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=b(Y),N(Y,this.S)):Y=this.S),this.m!==null||this.O||(z.H=Y,Y=null),this.P)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=el(this,z,g),v=we(this.I),Zt(v,"RID",c),Zt(v,"CVER",22),this.D&&Zt(v,"X-HTTP-Session-Id",this.D),ea(this,v),Y&&(this.O?g="headers="+encodeURIComponent(String(Js(Y)))+"&"+g:this.m&&Yr(v,this.m,Y)),Hr(this.h,z),this.Ua&&Zt(v,"TYPE","init"),this.P?(Zt(v,"$req",g),Zt(v,"SID","null"),z.T=!0,Ys(z,v,null)):Ys(z,v,g),this.G=2}}else this.G==3&&(c?ju(this,c):this.i.length==0||Ko(this.h)||ju(this))};function ju(c,g){var v;g?v=g.l:v=c.U++;const A=we(c.I);Zt(A,"SID",c.K),Zt(A,"RID",v),Zt(A,"AID",c.T),ea(c,A),c.m&&c.o&&Yr(A,c.m,c.o),v=new Oi(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=el(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Hr(c.h,v),Ys(v,A,g)}function ea(c,g){c.H&&bt(c.H,function(v,A){Zt(g,A,v)}),c.l&&Oa({},function(v,A){Zt(g,A,v)})}function el(c,g,v){v=Math.min(c.i.length,v);var A=c.l?w(c.l.Na,c.l,c):null;t:{var z=c.i;let Y=-1;for(;;){const ut=["count="+v];Y==-1?0<v?(Y=z[0].g,ut.push("ofs="+Y)):Y=0:ut.push("ofs="+Y);let ne=!0;for(let Ve=0;Ve<v;Ve++){let Ut=z[Ve].g;const Xe=z[Ve].map;if(Ut-=Y,0>Ut)Y=Math.max(0,z[Ve].g-100),ne=!1;else try{Wo(Xe,ut,"req"+Ut+"_")}catch{A&&A(Xe)}}if(ne){A=ut.join("&");break t}}}return c=c.i.splice(0,v),g.D=c,A}function Bu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;lt||Ot(),gt||(lt(),gt=!0),Mt.add(g,c),c.v=0}}function nl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ct(w(c.Fa,c),Fu(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ct(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),$r(this),qu(this))};function il(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function qu(c){c.g=new Oi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=we(c.qa);Zt(g,"RID","rpc"),Zt(g,"SID",c.K),Zt(g,"AID",c.T),Zt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Zt(g,"TO",c.ja),Zt(g,"TYPE","xmlhttp"),ea(c,g),c.m&&c.o&&Yr(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=$s(we(g)),v.m=null,v.P=!0,er(v,c)}r.Za=function(){this.C!=null&&(this.C=null,$r(this),nl(this),mt(19))};function Jr(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Hu(c,g){var v=null;if(c.g==g){Jr(c),il(c),c.g=null;var A=2}else if(qr(c.h,g))v=g.D,li(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;A=L(),_e(A,new Bt(A,v)),za(c)}else Bu(c);else if(z=g.s,z==3||z==0&&0<g.X||!(A==1&&Tf(c,g)||A==2&&nl(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),z){case 1:ar(c,5);break;case 4:ar(c,10);break;case 3:ar(c,6);break;default:ar(c,2)}}}function Fu(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function ar(c,g){if(c.j.info("Error code "+g),g==2){var v=w(c.fb,c),A=c.Xa;const z=!A;A=new ir(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Fr(A,"https"),$s(A),z?Zo(A.toString(),v):Pu(A.toString(),v)}else mt(2);c.G=0,c.l&&c.l.sa(g),rl(c),zu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function rl(c){if(c.G=0,c.ka=[],c.l){const g=En(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ka,g),F(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function Gu(c,g,v){var A=v instanceof ir?we(v):new ir(v);if(A.g!="")g&&(A.g=g+"."+A.g),Xs(A,A.s);else{var z=m.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var Y=new ir(null);A&&Fr(Y,A),g&&(Y.g=g),z&&Xs(Y,z),v&&(Y.l=v),A=Y}return v=c.D,g=c.ya,v&&g&&Zt(A,v,g),Zt(A,"VER",c.la),ea(c,A),A}function Qu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new me(new Pi({eb:v})):new me(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}r=Yu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ja(){}ja.prototype.g=function(c,g){return new Sn(c,g)};function Sn(c,g){De.call(this),this.g=new Uu(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ot(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ot(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Zr(this)}H(Sn,De),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){tl(this.g)},Sn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Rn(c),c=v);g.i.push(new gf(g.Ya++,c)),g.G==3&&za(g)},Sn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,Sn.aa.N.call(this)};function Ku(c){xi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}H(Ku,xi);function Xu(){Un.call(this),this.status=1}H(Xu,Un);function Zr(c){this.g=c}H(Zr,Yu),Zr.prototype.ua=function(){_e(this.g,"a")},Zr.prototype.ta=function(c){_e(this.g,new Ku(c))},Zr.prototype.sa=function(c){_e(this.g,new Xu)},Zr.prototype.ra=function(){_e(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,i1=function(){return new ja},n1=function(){return L()},e1=cn,Wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},he.NO_ERROR=0,he.TIMEOUT=8,he.HTTP_ERROR=6,ph=he,Ae.COMPLETE="complete",t1=Ae,Wi.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",De.prototype.listen=De.prototype.K,Gl=Wi,me.prototype.listenOnce=me.prototype.L,me.prototype.getLastError=me.prototype.Ka,me.prototype.getLastErrorCode=me.prototype.Ba,me.prototype.getStatus=me.prototype.Z,me.prototype.getResponseJson=me.prototype.Oa,me.prototype.getResponseText=me.prototype.oa,me.prototype.send=me.prototype.ea,me.prototype.setWithCredentials=me.prototype.Ha,WT=me}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const O0="@firebase/firestore",M0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new wp("@firebase/firestore");function go(){return wa.logLevel}function ft(r,...t){if(wa.logLevel<=Qt.DEBUG){const n=t.map(zp);wa.debug(`Firestore (${Lo}): ${r}`,...n)}}function Mr(r,...t){if(wa.logLevel<=Qt.ERROR){const n=t.map(zp);wa.error(`Firestore (${Lo}): ${r}`,...n)}}function ks(r,...t){if(wa.logLevel<=Qt.WARN){const n=t.map(zp);wa.warn(`Firestore (${Lo}): ${r}`,...n)}}function zp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,r1(r,s,n)}function r1(r,t,n){let s=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Mr(s),new Error(s)}function $t(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||r1(t,o,s)}function Dt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Lr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class GC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class QC{constructor(t){this.t=t,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Dr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Dr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string",31837,{l:s}),new s1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new pn(t)}}class YC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new YC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0,3512);const s=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=$C(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function zt(r,t){return r<t?-1:r>t?1:0}function tp(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return zt(s,o);{const u=a1(),f=JC(u.encode(P0(r,n)),u.encode(P0(t,n)));return f!==0?f:zt(s,o)}}n+=s>65535?2:1}return zt(r.length,t.length)}function P0(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function JC(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return zt(r[n],t[n]);return zt(r.length,t.length)}function Io(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="__name__";class Bi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Bi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Bi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Bi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return zt(t.length,n.length)}static compareSegments(t,n){const s=Bi.isNumericId(t),o=Bi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Bi.extractNumericId(t).compare(Bi.extractNumericId(n)):tp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Os.fromString(t.substring(4,t.length-2))}}class ue extends Bi{construct(t,n,s){return new ue(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ue(n)}static emptyPath(){return new ue([])}}const ZC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Bi{construct(t,n,s){return new ln(t,n,s)}static isValidIdentifier(t){return ZC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k0}static keyField(){return new ln([k0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ht(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ht(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ht(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ue.fromString(t))}static fromName(t){return new vt(ue.fromString(t).popFirst(5))}static empty(){return new vt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ue.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ue(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(r,t,n){if(!n)throw new ht(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function WC(r,t,n,s){if(t===!0&&s===!0)throw new ht(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function L0(r){if(!vt.isDocumentKey(r))throw new ht(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function U0(r){if(vt.isDocumentKey(r))throw new ht(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function l1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Zh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function Wn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zh(r);throw new ht(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(r,t){const n={typeString:r};return t&&(n.value=t),n}function vu(r,t){if(!l1(r))throw new ht(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ht(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=-62135596800,j0=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(t){return ye.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*j0);return new ye(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<z0)throw new ht(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j0}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(vu(t,ye._jsonSchema))return new ye(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-z0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:Be("string",ye._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ye(0,0))}static max(){return new wt(new ye(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function tD(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(s===1e9?new ye(n+1,0):new ye(n,s));return new Ls(o,vt.empty(),t)}function eD(r){return new Ls(r.readTime,r.key,su)}class Ls{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ls(wt.min(),vt.empty(),su)}static max(){return new Ls(wt.max(),vt.empty(),su)}}function nD(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(r.documentKey,t.documentKey),n!==0?n:zt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==iD)throw r;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):it.reject(n)}static resolve(t){return new it(((n,s)=>{n(t)}))}static reject(t){return new it(((n,s)=>{s(t)}))}static waitFor(t){return new it(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=it.resolve(!1);for(const s of t)n=n.next((o=>o?it.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new it(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new it(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function sD(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Wh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=-1;function Eu(r){return r==null}function xh(r){return r===0&&1/r==-1/0}function aD(r){return typeof r=="number"&&Number.isInteger(r)&&!xh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="";function oD(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=B0(t)),t=lD(r.get(n),t);return B0(t)}function lD(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case u1:n+="";break;default:n+=u}}return n}function B0(r){return r+u1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Fs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function c1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t,n){this.comparator=t,this.root=n||on.EMPTY}insert(t,n){return new Se(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(t){return new Se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rh(this.root,t,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rh(this.root,t,this.comparator,!0)}}class rh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class on{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??on.RED,this.left=o??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new on(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return on.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new on(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.comparator=t,this.data=new Se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new H0(this.data.getIterator())}getIteratorFrom(t){return new H0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ye(this.comparator);return n.data=t,n}}class H0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.fields=t,t.sort(ln.comparator)}static empty(){return new Zn([])}unionWith(t){let n=new Ye(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Zn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Io(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new h1("Invalid base64 string: "+u):u}})(t);return new un(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new un(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}un.EMPTY_BYTE_STRING=new un("");const uD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(r){if($t(!!r,39018),typeof r=="string"){let t=0;const n=uD.exec(r);if($t(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Me(r.seconds),nanos:Me(r.nanos)}}function Me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function zs(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="server_timestamp",d1="__type__",m1="__previous_value__",p1="__local_write_time__";function qp(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[d1])===null||n===void 0?void 0:n.stringValue)===f1}function tf(r){const t=r.mapValue.fields[m1];return qp(t)?tf(t):t}function au(r){const t=Us(r.mapValue.fields[p1].timestampValue);return new ye(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t,n,s,o,u,f,m,p,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Oh="(default)";class ou{constructor(t,n){this.projectId=t,this.database=n||Oh}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(t){return t instanceof ou&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="__type__",hD="__max__",sh={mapValue:{}},y1="__vector__",Mh="value";function js(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qp(r)?4:dD(r)?9007199254740991:fD(r)?10:11:Tt(28295,{value:r})}function Yi(r,t){if(r===t)return!0;const n=js(r);if(n!==js(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return au(r).isEqual(au(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Us(o.timestampValue),m=Us(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return zs(o.bytesValue).isEqual(zs(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Me(o.geoPointValue.latitude)===Me(u.geoPointValue.latitude)&&Me(o.geoPointValue.longitude)===Me(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Me(o.integerValue)===Me(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Me(o.doubleValue),m=Me(u.doubleValue);return f===m?xh(f)===xh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return Io(r.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(q0(f)!==q0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Yi(f[p],m[p])))return!1;return!0})(r,t);default:return Tt(52216,{left:r})}}function lu(r,t){return(r.values||[]).find((n=>Yi(n,t)))!==void 0}function Co(r,t){if(r===t)return 0;const n=js(r),s=js(t);if(n!==s)return zt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Me(u.integerValue||u.doubleValue),p=Me(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return F0(r.timestampValue,t.timestampValue);case 4:return F0(au(r),au(t));case 5:return tp(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=zs(u),p=zs(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=zt(m[y],p[y]);if(E!==0)return E}return zt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=zt(Me(u.latitude),Me(f.latitude));return m!==0?m:zt(Me(u.longitude),Me(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return G0(r.arrayValue,t.arrayValue);case 10:return(function(u,f){var m,p,y,E;const T=u.fields||{},w=f.fields||{},P=(m=T[Mh])===null||m===void 0?void 0:m.arrayValue,H=(p=w[Mh])===null||p===void 0?void 0:p.arrayValue,X=zt(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((E=H==null?void 0:H.values)===null||E===void 0?void 0:E.length)||0);return X!==0?X:G0(P,H)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===sh.mapValue&&f===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(f===sh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=tp(p[T],E[T]);if(w!==0)return w;const P=Co(m[p[T]],y[E[T]]);if(P!==0)return P}return zt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw Tt(23264,{le:n})}}function F0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return zt(r,t);const n=Us(r),s=Us(t),o=zt(n.seconds,s.seconds);return o!==0?o:zt(n.nanos,s.nanos)}function G0(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Co(n[o],s[o]);if(u)return u}return zt(n.length,s.length)}function Do(r){return ep(r)}function ep(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Us(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return zs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return vt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ep(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${ep(n.fields[f])}`;return o+"}"})(r.mapValue):Tt(61005,{value:r})}function gh(r){switch(js(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=tf(r);return t?16+gh(t):16;case 5:return 2*r.stringValue.length;case 6:return zs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+gh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Fs(s.fields,((u,f)=>{o+=u.length+gh(f)})),o})(r.mapValue);default:throw Tt(13486,{value:r})}}function Q0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function np(r){return!!r&&"integerValue"in r}function Hp(r){return!!r&&"arrayValue"in r}function Y0(r){return!!r&&"nullValue"in r}function K0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function yh(r){return!!r&&"mapValue"in r}function fD(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[g1])===null||n===void 0?void 0:n.stringValue)===y1}function Jl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Fs(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Jl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function dD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===hD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.value=t}static empty(){return new wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!yh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jl(n)}setAll(t){let n=ln.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Jl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Yi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Fs(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new wn(Jl(this.value))}}function _1(r){const t=[];return Fs(r.fields,((n,s)=>{const o=new ln([n]);if(yh(s)){const u=_1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new We(t,0,wt.min(),wt.min(),wt.min(),wn.empty(),0)}static newFoundDocument(t,n,s,o){return new We(t,1,n,wt.min(),s,o,0)}static newNoDocument(t,n){return new We(t,2,n,wt.min(),wt.min(),wn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,wt.min(),wt.min(),wn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,n){this.position=t,this.inclusive=n}}function X0(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=vt.comparator(vt.fromName(f.referenceValue),n.key):s=Co(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function $0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Yi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,n="asc"){this.field=t,this.dir=n}}function mD(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{}class je extends v1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new gD(t,n,s):n==="array-contains"?new vD(t,s):n==="in"?new ED(t,s):n==="not-in"?new TD(t,s):n==="array-contains-any"?new SD(t,s):new je(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new yD(t,s):new _D(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Co(n,this.value)):n!==null&&js(this.value)===js(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends v1{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new Di(t,n)}matches(t){return E1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function E1(r){return r.op==="and"}function T1(r){return pD(r)&&E1(r)}function pD(r){for(const t of r.filters)if(t instanceof Di)return!1;return!0}function ip(r){if(r instanceof je)return r.field.canonicalString()+r.op.toString()+Do(r.value);if(T1(r))return r.filters.map((t=>ip(t))).join(",");{const t=r.filters.map((n=>ip(n))).join(",");return`${r.op}(${t})`}}function S1(r,t){return r instanceof je?(function(s,o){return o instanceof je&&s.op===o.op&&s.field.isEqual(o.field)&&Yi(s.value,o.value)})(r,t):r instanceof Di?(function(s,o){return o instanceof Di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&S1(f,o.filters[m])),!0):!1})(r,t):void Tt(19439)}function A1(r){return r instanceof je?(function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`})(r):r instanceof Di?(function(n){return n.op.toString()+" {"+n.getFilters().map(A1).join(" ,")+"}"})(r):"Filter"}class gD extends je{constructor(t,n,s){super(t,n,s),this.key=vt.fromName(s.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class yD extends je{constructor(t,n){super(t,"in",n),this.keys=w1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class _D extends je{constructor(t,n){super(t,"not-in",n),this.keys=w1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function w1(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>vt.fromName(s.referenceValue)))}class vD extends je{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Hp(n)&&lu(n.arrayValue,this.value)}}class ED extends je{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class TD extends je{constructor(t,n){super(t,"not-in",n)}matches(t){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lu(this.value.arrayValue,n)}}class SD extends je{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>lu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function J0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new AD(r,t,n,s,o,u,f)}function Fp(r){const t=Dt(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>ip(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Eu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Do(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Do(s))).join(",")),t.Pe=n}return t.Pe}function Gp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!mD(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!S1(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!$0(r.startAt,t.startAt)&&$0(r.endAt,t.endAt)}function rp(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function wD(r,t,n,s,o,u,f,m){return new Tu(r,t,n,s,o,u,f,m)}function Qp(r){return new Tu(r)}function Z0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function b1(r){return r.collectionGroup!==null}function Zl(r){const t=Dt(r);if(t.Te===null){t.Te=[];const n=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ye(ln.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Te.push(new Ph(u,s))})),n.has(ln.keyField().canonicalString())||t.Te.push(new Ph(ln.keyField(),s))}return t.Te}function Hi(r){const t=Dt(r);return t.Ie||(t.Ie=bD(t,Zl(r))),t.Ie}function bD(r,t){if(r.limitType==="F")return J0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ph(o.field,u)}));const n=r.endAt?new Vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vh(r.startAt.position,r.startAt.inclusive):null;return J0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function sp(r,t){const n=r.filters.concat([t]);return new Tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ap(r,t,n){return new Tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function ef(r,t){return Gp(Hi(r),Hi(t))&&r.limitType===t.limitType}function R1(r){return`${Fp(Hi(r))}|lt:${r.limitType}`}function yo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>A1(o))).join(", ")}]`),Eu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Do(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Do(o))).join(",")),`Target(${s})`})(Hi(r))}; limitType=${r.limitType})`}function nf(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):vt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=X0(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Zl(s),o)||s.endAt&&!(function(f,m,p){const y=X0(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Zl(s),o))})(r,t)}function RD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function I1(r){return(t,n)=>{let s=!1;for(const o of Zl(r)){const u=ID(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ID(r,t,n){const s=r.field.isKeyField()?vt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Co(p,y):Tt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Fs(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return c1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new Se(vt.comparator);function Vr(){return CD}const C1=new Se(vt.comparator);function Ql(...r){let t=C1;for(const n of r)t=t.insert(n.key,n);return t}function D1(r){let t=C1;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ea(){return Wl()}function N1(){return Wl()}function Wl(){return new Ia((r=>r.toString()),((r,t)=>r.isEqual(t)))}const DD=new Se(vt.comparator),ND=new Ye(vt.comparator);function Yt(...r){let t=ND;for(const n of r)t=t.add(n);return t}const xD=new Ye(zt);function OD(){return xD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(t)?"-0":t}}function x1(r){return{integerValue:""+r}}function MD(r,t){return aD(t)?x1(t):Yp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this._=void 0}}function VD(r,t,n){return r instanceof kh?(function(o,u){const f={fields:{[d1]:{stringValue:f1},[p1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&qp(u)&&(u=tf(u)),u&&(f.fields[m1]=u),{mapValue:f}})(n,t):r instanceof No?M1(r,t):r instanceof uu?V1(r,t):(function(o,u){const f=O1(o,u),m=W0(f)+W0(o.Ee);return np(f)&&np(o.Ee)?x1(m):Yp(o.serializer,m)})(r,t)}function PD(r,t,n){return r instanceof No?M1(r,t):r instanceof uu?V1(r,t):n}function O1(r,t){return r instanceof Lh?(function(s){return np(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class kh extends rf{}class No extends rf{constructor(t){super(),this.elements=t}}function M1(r,t){const n=P1(t);for(const s of r.elements)n.some((o=>Yi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class uu extends rf{constructor(t){super(),this.elements=t}}function V1(r,t){let n=P1(t);for(const s of r.elements)n=n.filter((o=>!Yi(o,s)));return{arrayValue:{values:n}}}class Lh extends rf{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function W0(r){return Me(r.integerValue||r.doubleValue)}function P1(r){return Hp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t,n){this.field=t,this.transform=n}}function LD(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof No&&o instanceof No||s instanceof uu&&o instanceof uu?Io(s.elements,o.elements,Yi):s instanceof Lh&&o instanceof Lh?Yi(s.Ee,o.Ee):s instanceof kh&&o instanceof kh})(r.transform,t.transform)}class UD{constructor(t,n){this.version=t,this.transformResults=n}}class Qe{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Qe}static exists(t){return new Qe(void 0,t)}static updateTime(t){return new Qe(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _h(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class sf{}function k1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Au(r.key,Qe.none()):new Su(r.key,r.data,Qe.none());{const n=r.data,s=wn.empty();let o=new Ye(ln.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Gs(r.key,s,new Zn(o.toArray()),Qe.none())}}function zD(r,t,n){r instanceof Su?(function(o,u,f){const m=o.value.clone(),p=eE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof Gs?(function(o,u,f){if(!_h(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=eE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(L1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function tu(r,t,n,s){return r instanceof Su?(function(u,f,m,p){if(!_h(u.precondition,f))return m;const y=u.value.clone(),E=nE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof Gs?(function(u,f,m,p){if(!_h(u.precondition,f))return m;const y=nE(u.fieldTransforms,p,f),E=f.data;return E.setAll(L1(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,f,m){return _h(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function jD(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=O1(s.transform,o||null);u!=null&&(n===null&&(n=wn.empty()),n.set(s.field,u))}return n||null}function tE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,((u,f)=>LD(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Su extends sf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gs extends sf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function L1(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function eE(r,t,n){const s=new Map;$t(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,PD(f,m,n[o]))}return s}function nE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,VD(u,f,t))}return s}class Au extends sf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U1 extends sf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&zD(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=tu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=tu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=N1();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=k1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(wt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Yt())}isEqual(t){return this.batchId===t.batchId&&Io(this.mutations,t.mutations,((n,s)=>tE(n,s)))&&Io(this.baseMutations,t.baseMutations,((n,s)=>tE(n,s)))}}class Kp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){$t(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=(function(){return DD})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Kp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,Xt;function z1(r){switch(r){case W.OK:return Tt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function j1(r){if(r===void 0)return Mr("GRPC error has no .code"),W.UNKNOWN;switch(r){case ze.OK:return W.OK;case ze.CANCELLED:return W.CANCELLED;case ze.UNKNOWN:return W.UNKNOWN;case ze.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ze.INTERNAL:return W.INTERNAL;case ze.UNAVAILABLE:return W.UNAVAILABLE;case ze.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ze.NOT_FOUND:return W.NOT_FOUND;case ze.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ze.ABORTED:return W.ABORTED;case ze.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ze.DATA_LOSS:return W.DATA_LOSS;default:return Tt(39323,{code:r})}}(Xt=ze||(ze={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new Os([4294967295,4294967295],0);function iE(r){const t=a1().encode(r),n=new ZT;return n.update(t),new Uint8Array(n.digest())}function rE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Os([n,s],0),new Os([o,u],0)]}class Xp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Os.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(Os.fromNumber(s)));return o.compare(FD)===1&&(o=new Os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=iE(t),[s,o]=rE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Xp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.fe===0)return;const n=iE(t),[s,o]=rE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,wu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new af(wt.min(),o,new Se(zt),Vr(),Yt())}}class wu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new wu(s,n,Yt(),Yt(),Yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class B1{constructor(t,n){this.targetId=t,this.De=n}}class q1{constructor(t,n,s=un.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class sE{constructor(){this.ve=0,this.Ce=aE(),this.Fe=un.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Yt(),n=Yt(),s=Yt();return this.Ce.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}})),new wu(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=aE()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class GD{constructor(t){this.We=t,this.Ge=new Map,this.ze=Vr(),this.je=ah(),this.Je=ah(),this.He=new Se(zt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,(n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const u=o.target;if(rp(u))if(s===0){const f=new vt(u.path);this.Xe(n,f,We.newNoDocument(f,wt.min()))}else $t(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(t),p=m?this.ut(m,t,f):1;if(p!==0){this.rt(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,y)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=zs(s).toUint8Array()}catch(p){if(p instanceof h1)return ks("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Xp(f,o,u)}catch(p){return ks(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(t){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&rp(m.target)){const p=new vt(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,We.newNoDocument(p,t))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=Yt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.st(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(t)));const o=new af(t,n,this.He,this.ze,s);return this.ze=Vr(),this.je=ah(),this.Je=ah(),this.He=new Se(zt),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new sE,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Ye(zt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Ye(zt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new sE),this.We.getRemoteKeysForTarget(t).forEach((n=>{this.Xe(t,n,null)}))}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function ah(){return new Se(vt.comparator)}function aE(){return new Se(vt.comparator)}const QD={asc:"ASCENDING",desc:"DESCENDING"},YD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KD={and:"AND",or:"OR"};class XD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function op(r,t){return r.useProto3Json||Eu(t)?t:{value:t}}function Uh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function H1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function $D(r,t){return Uh(r,t.toTimestamp())}function ti(r){return $t(!!r,49232),wt.fromTimestamp((function(n){const s=Us(n);return new ye(s.seconds,s.nanos)})(r))}function $p(r,t){return lp(r,t).canonicalString()}function lp(r,t){const n=(function(o){return new ue(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function F1(r){const t=ue.fromString(r);return $t($1(t),10190,{key:t.toString()}),t}function zh(r,t){return $p(r.databaseId,t.path)}function eu(r,t){const n=F1(t);if(n.get(1)!==r.databaseId.projectId)throw new ht(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ht(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new vt(Q1(n))}function G1(r,t){return $p(r.databaseId,t)}function JD(r){const t=F1(r);return t.length===4?ue.emptyPath():Q1(t)}function up(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Q1(r){return $t(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function oE(r,t,n){return{name:zh(r,t),fields:n.value.mapValue.fields}}function ZD(r,t){return"found"in t?(function(s,o){$t(!!o.found,43571),o.found.name,o.found.updateTime;const u=eu(s,o.found.name),f=ti(o.found.updateTime),m=o.found.createTime?ti(o.found.createTime):wt.min(),p=new wn({mapValue:{fields:o.found.fields}});return We.newFoundDocument(u,f,m,p)})(r,t):"missing"in t?(function(s,o){$t(!!o.missing,3894),$t(!!o.readTime,22933);const u=eu(s,o.missing),f=ti(o.readTime);return We.newNoDocument(u,f)})(r,t):Tt(7234,{result:t})}function WD(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Tt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?($t(E===void 0||typeof E=="string",58123),un.fromBase64String(E||"")):($t(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),un.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?W.UNKNOWN:j1(y.code);return new ht(E,y.message||"")})(f);n=new q1(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=eu(r,s.document.name),u=ti(s.document.updateTime),f=s.document.createTime?ti(s.document.createTime):wt.min(),m=new wn({mapValue:{fields:s.document.fields}}),p=We.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new vh(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=eu(r,s.document),u=s.readTime?ti(s.readTime):wt.min(),f=We.newNoDocument(o,u),m=s.removedTargetIds||[];n=new vh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=eu(r,s.document),u=s.removedTargetIds||[];n=new vh([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new HD(o,u),m=s.targetId;n=new B1(m,f)}}return n}function Y1(r,t){let n;if(t instanceof Su)n={update:oE(r,t.key,t.value)};else if(t instanceof Au)n={delete:zh(r,t.key)};else if(t instanceof Gs)n={update:oE(r,t.key,t.data),updateMask:lN(t.fieldMask)};else{if(!(t instanceof U1))return Tt(16599,{Rt:t.type});n={verify:zh(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof kh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof No)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof uu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Lh)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw Tt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:$D(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)})(r,t.precondition)),n}function tN(r,t){return r&&r.length>0?($t(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?ti(o.updateTime):ti(u);return f.isEqual(wt.min())&&(f=ti(u)),new UD(f,o.transformResults||[])})(n,t)))):[]}function eN(r,t){return{documents:[G1(r,t.path)]}}function nN(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=G1(r,o);const u=(function(y){if(y.length!==0)return X1(Di.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:_o(w.field),direction:sN(w.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=op(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{Vt:n,parent:o}}function iN(r){let t=JD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$t(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=K1(T);return w instanceof Di&&T1(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((w=>(function(H){return new Ph(vo(H.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,Eu(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,P=T.values||[];return new Vh(P,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const w=!T.before,P=T.values||[];return new Vh(P,w)})(n.endAt)),wD(t,o,f,u,m,"F",p,y)}function rN(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function K1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=vo(n.unaryFilter.field);return je.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(n.unaryFilter.field);return je.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vo(n.unaryFilter.field);return je.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=vo(n.unaryFilter.field);return je.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return je.create(vo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Di.create(n.compositeFilter.filters.map((s=>K1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(r):Tt(30097,{filter:r})}function sN(r){return QD[r]}function aN(r){return YD[r]}function oN(r){return KD[r]}function _o(r){return{fieldPath:r.canonicalString()}}function vo(r){return ln.fromServerFormat(r.fieldPath)}function X1(r){return r instanceof je?(function(n){if(n.op==="=="){if(K0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(Y0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(Y0(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:aN(n.op),value:n.value}}})(r):r instanceof Di?(function(n){const s=n.getFilters().map((o=>X1(o)));return s.length===1?s[0]:{compositeFilter:{op:oN(n.op),filters:s}}})(r):Tt(54877,{filter:r})}function lN(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function $1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t,n,s,o,u=wt.min(),f=wt.min(),m=un.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Rs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t){this.gt=t}}function cN(r){const t=iN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ap(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.Dn=new fN}addToCollectionParentIndex(t,n){return this.Dn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(Ls.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(Ls.min())}updateCollectionGroup(t,n,s){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class fN{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ye(ue.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ye(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J1=41943040;class kn{static withCacheSize(t){return new kn(t,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(J1,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new xo(0)}static ur(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="LruGarbageCollector",dN=1048576;function cE([r,t],[n,s]){const o=zt(r,n);return o===0?zt(t,s):o}class mN{constructor(t){this.Tr=t,this.buffer=new Ye(cE),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();cE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pN{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ft(uE,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?ft(uE,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Rr(3e5)}))}}class gN{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return it.resolve(Wh.ue);const s=new mN(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(lE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lE):this.pr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(y=Date.now(),go()<=Qt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function yN(r,t){return new gN(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.changes=new Ia((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?it.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&tu(s.mutation,o,Zn.empty(),ye.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Yt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Yt()){const o=Ea();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Ql();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Ea();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Yt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=Vr();const f=Wl(),m=(function(){return Wl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Gs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),tu(E.mutation,y,E.mutation.getFieldMask(),ye.now())):f.set(y.key,Zn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>{var T;return m.set(y,new vN(E,(T=f.get(y))!==null&&T!==void 0?T:null))})),m)))}recalculateAndSaveOverlays(t,n){const s=Wl();let o=new Se(((f,m)=>f-m)),u=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Zn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||Yt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=N1();E.forEach((w=>{if(!u.has(w)){const P=k1(n.get(w),s.get(w));P!==null&&T.set(w,P),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,T))}return it.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return vt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):b1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):it.resolve(Ea());let m=su,p=u;return f.next((y=>it.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?it.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,p,y,Yt()))).next((E=>({batchId:m,changes:D1(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next((s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Ql();return this.indexManager.getCollectionParents(t,u).next((m=>it.forEach(m,(p=>{const y=(function(T,w){return new Tu(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((T,w)=>{f=f.insert(T,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,We.newInvalidDocument(E)))}));let m=Ql();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&tu(E.mutation,y,Zn.empty(),ye.now()),nf(n,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return it.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ti(o.createTime)}})(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:cN(o.bundledQuery),readTime:ti(o.readTime)}})(n)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.overlays=new Se(vt.comparator),this.kr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ea();return it.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.wt(t,n,u)})),it.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),it.resolve()}getOverlaysForCollection(t,n,s){const o=Ea(),u=n.length+1,f=new vt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new Se(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ea(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ea(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return it.resolve(m)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new qD(n,s));let u=this.kr.get(n);u===void 0&&(u=Yt(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.qr=new Ye(Ze.Qr),this.$r=new Ye(Ze.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new Ze(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Ze(t,n))}Gr(t,n){t.forEach((s=>this.removeReference(s,n)))}zr(t){const n=new vt(new ue([])),s=new Ze(n,t),o=new Ze(n,t+1),u=[];return this.$r.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new vt(new ue([])),s=new Ze(n,t),o=new Ze(n,t+1);let u=Yt();return this.$r.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Ze(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ze{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return vt.comparator(t.key,n.key)||zt(t.Hr,n.Hr)}static Ur(t,n){return zt(t.Hr,n.Hr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ye(Ze.Qr)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new BD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new Ze(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return it.resolve(f)}lookupMutationBatch(t,n){return it.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return it.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?Bp:this.er-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ze(n,0),o=new Ze(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),it.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ye(zt);return n.forEach((o=>{const u=new Ze(o,0),f=new Ze(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),it.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;vt.isDocumentKey(u)||(u=u.child(""));const f=new Ze(new vt(u),0);let m=new Ye(zt);return this.Yr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)}),f),it.resolve(this.ei(m))}ei(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){$t(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return it.forEach(n.mutations,(o=>{const u=new Ze(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Yr=s}))}rr(t){}containsKey(t,n){const s=new Ze(n,0),o=this.Yr.firstAfterOrEqual(s);return it.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t){this.ni=t,this.docs=(function(){return new Se(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return it.resolve(s?s.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let s=Vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():We.newInvalidDocument(o))})),it.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Vr();const f=n.path,m=new vt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||nD(eD(E),s)<=0||(o.has(E.key)||nf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return it.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Tt(9500)}ri(t,n){return it.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new RN(this)}getSize(t){return it.resolve(this.size)}}class RN extends _N{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)})),it.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t){this.persistence=t,this.ii=new Ia((n=>Fp(n)),Gp),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.si=0,this.oi=new Jp,this.targetCount=0,this._i=xo.ar()}forEachTarget(t,n){return this.ii.forEach(((s,o)=>n(o))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),it.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new xo(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.hr(n),it.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),it.waitFor(u).next((()=>o))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return it.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),it.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),it.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return it.resolve(s)}containsKey(t,n){return it.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(t,n){this.ai={},this.overlays={},this.ui=new Wh(0),this.ci=!1,this.ci=!0,this.li=new AN,this.referenceDelegate=t(this),this.hi=new IN(this),this.indexManager=new hN,this.remoteDocumentCache=(function(o){return new bN(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new uN(n),this.Ti=new TN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new SN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new wN(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){ft("MemoryPersistence","Starting transaction:",t);const o=new CN(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return it.or(Object.values(this.ai).map((s=>()=>s.containsKey(t,n))))}}class CN extends rD{constructor(t){super(),this.currentSequenceNumber=t}}class Zp{constructor(t){this.persistence=t,this.Ai=new Jp,this.Ri=null}static Vi(t){return new Zp(t)}get mi(){if(this.Ri)return this.Ri;throw Tt(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),it.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.mi,(s=>{const o=vt.fromPath(s);return this.fi(t,o).next((u=>{u||n.removeEntry(o,wt.min())}))})).next((()=>(this.Ri=null,n.apply(t))))}updateLimboDocument(t,n){return this.fi(t,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(t){return 0}fi(t,n){return it.or([()=>it.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class jh{constructor(t,n){this.persistence=t,this.gi=new Ia((s=>oD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=yN(this,n)}static Vi(t,n){return new jh(t,n)}Ii(){}di(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}yr(t){let n=0;return this.gr(t,(s=>{n++})).next((()=>n))}gr(t,n){return it.forEach(this.gi,((s,o)=>this.Sr(t,s,o).next((u=>u?it.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,(f=>this.Sr(t,f,n).next((m=>{m||(s++,u.removeEntry(f,wt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),it.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=gh(t.data.value)),n}Sr(t,n,s){return it.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=Yt(),o=Yt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Wp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return CR()?8:sD(gn())>0?6:4})()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ps(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new DN;return this.ws(t,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(t,n,f,m.size)}))})).next((()=>u.result))}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(go()<=Qt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),it.resolve()):(go()<=Qt.DEBUG&&ft("QueryEngine","Query:",yo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(go()<=Qt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Hi(n))):it.resolve())}ps(t,n){if(Z0(n))return it.resolve(null);let s=Hi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ap(n,null,"F"),s=Hi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Yt(...u);return this.gs.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const y=this.bs(n,m);return this.Ds(n,y,f,p.readTime)?this.ps(t,ap(n,null,"F")):this.vs(t,y,n,p)}))))})))))}ys(t,n,s,o){return Z0(n)||o.isEqual(wt.min())?it.resolve(null):this.gs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?it.resolve(null):(go()<=Qt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(n)),this.vs(t,f,n,tD(o,su)).next((m=>m)))}))}bs(t,n){let s=new Ye(I1(t));return n.forEach(((o,u)=>{nf(t,u)&&(s=s.add(u))})),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,n,s){return go()<=Qt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",yo(n)),this.gs.getDocumentsMatchingQuery(t,n,Ls.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="LocalStore",xN=3e8;class ON{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new Se(zt),this.Ms=new Ia((u=>Fp(u)),Gp),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new EN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Fs)))}}function MN(r,t,n,s){return new ON(r,t,n,s)}async function W1(r,t){const n=Dt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Yt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Bs:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function VN(r,t){const n=Dt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,w=T.keys();let P=it.resolve();return w.forEach((H=>{P=P.next((()=>E.getEntry(p,H))).next((X=>{const F=y.docVersions.get(H);$t(F!==null,48541),X.version.compareTo(F)<0&&(T.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),E.addEntry(X)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Yt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function tS(r){const t=Dt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.hi.getLastRemoteSnapshotVersion(n)))}function PN(r,t){const n=Dt(r),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];t.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.hi.addMatchingKeys(u,E.addedDocuments,T))));let P=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?P=P.withResumeToken(un.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(T,P),(function(X,F,at){return X.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=xN?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(w,P,E)&&m.push(n.hi.updateTargetData(u,P))}));let p=Vr(),y=Yt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(kN(u,f,t.documentUpdates).next((E=>{p=E.Ls,y=E.ks}))),!s.isEqual(wt.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next((T=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return it.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function kN(r,t,n){let s=Yt(),o=Yt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=Vr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(wt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ft(tg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Ls:f,ks:o}}))}function LN(r,t){const n=Dt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Bp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function UN(r,t){const n=Dt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,t).next((u=>u?(o=u,it.resolve(o)):n.hi.allocateTargetId(s).next((f=>(o=new Rs(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s}))}async function cp(r,t,n){const s=Dt(r),o=s.Fs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!zo(f))throw f;ft(tg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function hE(r,t,n){const s=Dt(r);let o=wt.min(),u=Yt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=Dt(p),w=T.Ms.get(E);return w!==void 0?it.resolve(T.Fs.get(w)):T.hi.getTargetData(y,E)})(s,f,Hi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:wt.min(),n?u:Yt()))).next((m=>(zN(s,RD(t),m),{documents:m,qs:u})))))}function zN(r,t,n){let s=r.xs.get(t)||wt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(t,s)}class fE{constructor(){this.activeTargetIds=OD()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jN{constructor(){this.Fo=new fE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new fE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="ConnectivityMonitor";class mE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ft(dE,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ft(dE,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function hp(){return oh===null?oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="RestConnection",qN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HN{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=hp(),m=this.Go(t,n.toUriEncodedString());ft(xm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:y}=new URL(m),E=Vo(y);return this.jo(t,m,p,s,E).then((T=>(ft(xm,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw ks(xm,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}zo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Go(t,n){const s=qN[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class GN extends HN{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,u){const f=hp();return new Promise(((m,p)=>{const y=new WT;y.setWithCredentials(!0),y.listenOnce(t1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ph.NO_ERROR:const T=y.getResponseJson();ft(mn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case ph.TIMEOUT:ft(mn,`RPC '${t}' ${f} timed out`),p(new ht(W.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const w=y.getStatus();if(ft(mn,`RPC '${t}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const H=P==null?void 0:P.error;if(H&&H.status&&H.message){const X=(function(at){const ot=at.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ot)>=0?ot:W.UNKNOWN})(H.status);p(new ht(X,H.message))}else p(new ht(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ht(W.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{c_:t,streamId:f,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{ft(mn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ft(mn,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}P_(t,n,s){const o=hp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=i1(),m=n1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ft(mn,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.T_(T);let w=!1,P=!1;const H=new FN({Ho:F=>{P?ft(mn,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(w||(ft(mn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),w=!0),ft(mn,`RPC '${t}' stream ${o} sending:`,F),T.send(F))},Yo:()=>T.close()}),X=(F,at,ot)=>{F.listen(at,(nt=>{try{ot(nt)}catch(_t){setTimeout((()=>{throw _t}),0)}}))};return X(T,Gl.EventType.OPEN,(()=>{P||(ft(mn,`RPC '${t}' stream ${o} transport opened.`),H.s_())})),X(T,Gl.EventType.CLOSE,(()=>{P||(P=!0,ft(mn,`RPC '${t}' stream ${o} transport closed`),H.__(),this.I_(T))})),X(T,Gl.EventType.ERROR,(F=>{P||(P=!0,ks(mn,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),H.__(new ht(W.UNAVAILABLE,"The operation could not be completed")))})),X(T,Gl.EventType.MESSAGE,(F=>{var at;if(!P){const ot=F.data[0];$t(!!ot,16349);const nt=ot,_t=(nt==null?void 0:nt.error)||((at=nt[0])===null||at===void 0?void 0:at.error);if(_t){ft(mn,`RPC '${t}' stream ${o} received error:`,_t);const It=_t.status;let bt=(function(R){const N=ze[R];if(N!==void 0)return j1(N)})(It),D=_t.message;bt===void 0&&(bt=W.INTERNAL,D="Unknown error status: "+It+" with message "+_t.message),P=!0,H.__(new ht(bt,D)),T.close()}else ft(mn,`RPC '${t}' stream ${o} received:`,ot),H.a_(ot)}})),X(m,e1.STAT_EVENT,(F=>{F.stat===Wm.PROXY?ft(mn,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===Wm.NOPROXY&&ft(mn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.o_()}),0),H}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((n=>n===t))}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(r){return new XD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="PersistentStream";class eS{constructor(t,n,s,o,u,f,m,p){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new eg(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{t((()=>{const o=new ht(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return ft(pE,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget((()=>this.b_===t?n():(ft(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QN extends eS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=WD(this.serializer,t),s=(function(u){if(!("targetChange"in u))return wt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?wt.min():f.readTime?ti(f.readTime):wt.min()})(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=up(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=rp(p)?{documents:eN(u,p)}:{query:nN(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=H1(u,f.resumeToken);const y=op(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(wt.min())>0){m.readTime=Uh(u,f.snapshotVersion.toTimestamp());const y=op(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=rN(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=up(this.serializer),n.removeTarget=t,this.k_(n)}}class YN extends eS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=tN(t.writeResults,t.commitTime),s=ti(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=up(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>Y1(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{}class XN extends KN{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ht(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,lp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(W.UNKNOWN,u.toString())}))}Jo(t,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(t,lp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(W.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class $N{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Mr(n),this._a=!1):ft("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class JN{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{Ca(this)&&(ft(ba,"Restarting streams for network reachability change."),await(async function(p){const y=Dt(p);y.Ia.add(4),await bu(y),y.Aa.set("Unknown"),y.Ia.delete(4),await lf(y)})(this))}))})),this.Aa=new $N(s,o)}}async function lf(r){if(Ca(r))for(const t of r.da)await t(!0)}async function bu(r){for(const t of r.da)await t(!1)}function nS(r,t){const n=Dt(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),sg(n)?rg(n):jo(n).x_()&&ig(n,t))}function ng(r,t){const n=Dt(r),s=jo(n);n.Ta.delete(t),s.x_()&&iS(n,t),n.Ta.size===0&&(s.x_()?s.B_():Ca(n)&&n.Aa.set("Unknown"))}function ig(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}jo(r).H_(t)}function iS(r,t){r.Ra.$e(t),jo(r).Y_(t)}function rg(r){r.Ra=new GD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),jo(r).start(),r.Aa.aa()}function sg(r){return Ca(r)&&!jo(r).M_()&&r.Ta.size>0}function Ca(r){return Dt(r).Ia.size===0}function rS(r){r.Ra=void 0}async function ZN(r){r.Aa.set("Online")}async function WN(r){r.Ta.forEach(((t,n)=>{ig(r,t)}))}async function tx(r,t){rS(r),sg(r)?(r.Aa.la(t),rg(r)):r.Aa.set("Unknown")}async function ex(r,t,n){if(r.Aa.set("Online"),t instanceof q1&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))})(r,t)}catch(s){ft(ba,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Bh(r,s)}else if(t instanceof vh?r.Ra.Ye(t):t instanceof B1?r.Ra.it(t):r.Ra.et(t),!n.isEqual(wt.min()))try{const s=await tS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(y);E&&u.Ta.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(un.EMPTY_BYTE_STRING,E.snapshotVersion)),iS(u,p);const T=new Rs(E.target,p,y,E.sequenceNumber);ig(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ft(ba,"Failed to raise snapshot:",s),await Bh(r,s)}}async function Bh(r,t,n){if(!zo(t))throw t;r.Ia.add(1),await bu(r),r.Aa.set("Offline"),n||(n=()=>tS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ft(ba,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await lf(r)}))}function sS(r,t){return t().catch((n=>Bh(r,n,t)))}async function uf(r){const t=Dt(r),n=Bs(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Bp;for(;nx(t);)try{const o=await LN(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,ix(t,o)}catch(o){await Bh(t,o)}aS(t)&&oS(t)}function nx(r){return Ca(r)&&r.Pa.length<10}function ix(r,t){r.Pa.push(t);const n=Bs(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function aS(r){return Ca(r)&&!Bs(r).M_()&&r.Pa.length>0}function oS(r){Bs(r).start()}async function rx(r){Bs(r).na()}async function sx(r){const t=Bs(r);for(const n of r.Pa)t.X_(n.mutations)}async function ax(r,t,n){const s=r.Pa.shift(),o=Kp.from(s,t,n);await sS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await uf(r)}async function ox(r,t){t&&Bs(r).Z_&&await(async function(s,o){if((function(f){return z1(f)&&f!==W.ABORTED})(o.code)){const u=s.Pa.shift();Bs(s).N_(),await sS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await uf(s)}})(r,t),aS(r)&&oS(r)}async function gE(r,t){const n=Dt(r);n.asyncQueue.verifyOperationInProgress(),ft(ba,"RemoteStore received new credentials");const s=Ca(n);n.Ia.add(3),await bu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await lf(n)}async function lx(r,t){const n=Dt(r);t?(n.Ia.delete(2),await lf(n)):t||(n.Ia.add(2),await bu(n),n.Aa.set("Unknown"))}function jo(r){return r.Va||(r.Va=(function(n,s,o){const u=Dt(n);return u.ia(),new QN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:ZN.bind(null,r),e_:WN.bind(null,r),n_:tx.bind(null,r),J_:ex.bind(null,r)}),r.da.push((async t=>{t?(r.Va.N_(),sg(r)?rg(r):r.Aa.set("Unknown")):(await r.Va.stop(),rS(r))}))),r.Va}function Bs(r){return r.ma||(r.ma=(function(n,s,o){const u=Dt(n);return u.ia(),new YN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:rx.bind(null,r),n_:ox.bind(null,r),ea:sx.bind(null,r),ta:ax.bind(null,r)}),r.da.push((async t=>{t?(r.ma.N_(),await uf(r)):(await r.ma.stop(),r.Pa.length>0&&(ft(ba,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new ag(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(r,t){if(Mr("AsyncQueue",`${t}: ${r}`),zo(r))return new ht(W.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{static emptySet(t){return new wo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||vt.comparator(n.key,s.key):(n,s)=>vt.comparator(n.key,s.key),this.keyedMap=Ql(),this.sortedSet=new Se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof wo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new wo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.fa=new Se(vt.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):Tt(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Oo{constructor(t,n,s,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Oo(t,n,wo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ef(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class cx{constructor(){this.queries=_E(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Dt(n),u=o.queries;o.queries=_E(),u.forEach(((f,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ht(W.ABORTED,"Firestore shutting down"))}}function _E(){return new Ia((r=>R1(r)),ef)}async function lS(r,t){const n=Dt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new ux,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=og(f,`Initialization of query '${yo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.wa.push(t),t.va(n.onlineState),u.ya&&t.Ca(u.ya)&&lg(n)}async function uS(r,t){const n=Dt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(t);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function hx(r,t){const n=Dt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&lg(n)}function fx(r,t,n){const s=Dt(r),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(t)}function lg(r){r.Da.forEach((t=>{t.next()}))}var fp,vE;(vE=fp||(fp={})).Fa="default",vE.Cache="cache";class cS{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Oo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=Oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==fp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(t){this.key=t}}class fS{constructor(t){this.key=t}}class dx{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Yt(),this.mutatedKeys=Yt(),this.Xa=I1(t),this.eu=new wo(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new yE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const w=o.get(E),P=nf(this.query,T)?T:null,H=!!w&&this.mutatedKeys.has(w.key),X=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;w&&P?w.data.isEqual(P.data)?H!==X&&(s.track({type:3,doc:P}),F=!0):this.iu(w,P)||(s.track({type:2,doc:P}),F=!0,(p&&this.Xa(P,p)>0||y&&this.Xa(P,y)<0)&&(m=!0)):!w&&P?(s.track({type:0,doc:P}),F=!0):w&&!P&&(s.track({type:1,doc:w}),F=!0,(p||y)&&(m=!0)),F&&(P?(f=f.add(P),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const f=t.ru.pa();f.sort(((E,T)=>(function(P,H){const X=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{At:F})}};return X(P)-X(H)})(E.type,T.type)||this.Xa(E.doc,T.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,y=p!==this.Ya;return this.Ya=p,f.length!==0||y?{snapshot:new Oo(this.query,t.eu,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new yE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Yt(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return t.forEach((s=>{this.Za.has(s)||n.push(new fS(s))})),this.Za.forEach((s=>{t.has(s)||n.push(new hS(s))})),n}uu(t){this.Ha=t.qs,this.Za=Yt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return Oo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const ug="SyncEngine";class mx{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class px{constructor(t){this.key=t,this.lu=!1}}class gx{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Ia((m=>R1(m)),ef),this.Tu=new Map,this.Iu=new Set,this.du=new Se(vt.comparator),this.Eu=new Map,this.Au=new Jp,this.Ru={},this.Vu=new Map,this.mu=xo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function yx(r,t,n=!0){const s=_S(r);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await dS(s,t,n,!0),o}async function _x(r,t){const n=_S(r);await dS(n,t,!0,!1)}async function dS(r,t,n,s){const o=await UN(r.localStore,Hi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await vx(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&nS(r.remoteStore,o),m}async function vx(r,t,n,s,o){r.gu=(T,w,P)=>(async function(X,F,at,ot){let nt=F.view.nu(at);nt.Ds&&(nt=await hE(X.localStore,F.query,!1).then((({documents:D})=>F.view.nu(D,nt))));const _t=ot&&ot.targetChanges.get(F.targetId),It=ot&&ot.targetMismatches.get(F.targetId)!=null,bt=F.view.applyChanges(nt,X.isPrimaryClient,_t,It);return TE(X,F.targetId,bt._u),bt.snapshot})(r,T,w,P);const u=await hE(r.localStore,t,!0),f=new dx(t,u.qs),m=f.nu(u.documents),p=wu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);TE(r,n,y._u);const E=new mx(t,n,f);return r.Pu.set(t,E),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),y.snapshot}async function Ex(r,t,n){const s=Dt(r),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((f=>!ef(f,t)))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await cp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ng(s.remoteStore,o.targetId),dp(s,o.targetId)})).catch(Uo)):(dp(s,o.targetId),await cp(s.localStore,o.targetId,!0))}async function Tx(r,t){const n=Dt(r),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ng(n.remoteStore,s.targetId))}async function Sx(r,t,n){const s=Dx(r);try{const o=await(function(f,m){const p=Dt(f),y=ye.now(),E=m.reduce(((P,H)=>P.add(H.key)),Yt());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let H=Vr(),X=Yt();return p.Os.getEntries(P,E).next((F=>{H=F,H.forEach(((at,ot)=>{ot.isValidDocument()||(X=X.add(at))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,H))).next((F=>{T=F;const at=[];for(const ot of m){const nt=jD(ot,T.get(ot.key).overlayedDocument);nt!=null&&at.push(new Gs(ot.key,nt,_1(nt.value.mapValue),Qe.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,at,m)})).next((F=>{w=F;const at=F.applyToLocalDocumentSet(T,X);return p.documentOverlayCache.saveOverlays(P,F.batchId,at)}))})).then((()=>({batchId:w.batchId,changes:D1(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Ru[f.currentUser.toKey()];y||(y=new Se(zt)),y=y.insert(m,p),f.Ru[f.currentUser.toKey()]=y})(s,o.batchId,n),await Ru(s,o.changes),await uf(s.remoteStore)}catch(o){const u=og(o,"Failed to persist write");n.reject(u)}}async function mS(r,t){const n=Dt(r);try{const s=await PN(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?$t(f.lu,14607):o.removedDocuments.size>0&&($t(f.lu,42227),f.lu=!1))})),await Ru(n,s,t)}catch(s){await Uo(s)}}function EE(r,t,n){const s=Dt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Dt(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const w of T.wa)w.va(m)&&(y=!0)})),y&&lg(p)})(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Ax(r,t,n){const s=Dt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let f=new Se(vt.comparator);f=f.insert(u,We.newNoDocument(u,wt.min()));const m=Yt().add(u),p=new af(wt.min(),new Map,new Se(zt),f,m);await mS(s,p),s.du=s.du.remove(u),s.Eu.delete(t),cg(s)}else await cp(s.localStore,t,!1).then((()=>dp(s,t,n))).catch(Uo)}async function wx(r,t){const n=Dt(r),s=t.batch.batchId;try{const o=await VN(n.localStore,t);gS(n,s,null),pS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ru(n,o)}catch(o){await Uo(o)}}async function bx(r,t,n){const s=Dt(r);try{const o=await(function(f,m){const p=Dt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>($t(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);gS(s,t,n),pS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ru(s,o)}catch(o){await Uo(o)}}function pS(r,t){(r.Vu.get(t)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(t)}function gS(r,t,n){const s=Dt(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function dp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach((s=>{r.Au.containsKey(s)||yS(r,s)}))}function yS(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(ng(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),cg(r))}function TE(r,t,n){for(const s of n)s instanceof hS?(r.Au.addReference(s.key,t),Rx(r,s)):s instanceof fS?(ft(ug,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||yS(r,s.key)):Tt(19791,{yu:s})}function Rx(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(ft(ug,"New document in limbo: "+n),r.Iu.add(s),cg(r))}function cg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new vt(ue.fromString(t)),s=r.mu.next();r.Eu.set(s,new px(n)),r.du=r.du.insert(n,s),nS(r.remoteStore,new Rs(Hi(Qp(n.path)),s,"TargetPurposeLimboResolution",Wh.ue))}}async function Ru(r,t,n){const s=Dt(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{f.push(s.gu(p,t,n).then((y=>{var E;if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Wp.Es(p.targetId,y);u.push(T)}})))})),await Promise.all(f),s.hu.J_(o),await(async function(p,y){const E=Dt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>it.forEach(y,(w=>it.forEach(w.Is,(P=>E.persistence.referenceDelegate.addReference(T,w.targetId,P))).next((()=>it.forEach(w.ds,(P=>E.persistence.referenceDelegate.removeReference(T,w.targetId,P)))))))))}catch(T){if(!zo(T))throw T;ft(tg,"Failed to update sequence numbers: "+T)}for(const T of y){const w=T.targetId;if(!T.fromCache){const P=E.Fs.get(w),H=P.snapshotVersion,X=P.withLastLimboFreeSnapshotVersion(H);E.Fs=E.Fs.insert(w,X)}}})(s.localStore,u))}async function Ix(r,t){const n=Dt(r);if(!n.currentUser.isEqual(t)){ft(ug,"User change. New user:",t.toKey());const s=await W1(n.localStore,t);n.currentUser=t,(function(u,f){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ht(W.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ru(n,s.Bs)}}function Cx(r,t){const n=Dt(r),s=n.Eu.get(t);if(s&&s.lu)return Yt().add(s.key);{let o=Yt();const u=n.Tu.get(t);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function _S(r){const t=Dt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=mS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ax.bind(null,t),t.hu.J_=hx.bind(null,t.eventManager),t.hu.pu=fx.bind(null,t.eventManager),t}function Dx(r){const t=Dt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bx.bind(null,t),t}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=of(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return MN(this.persistence,new NN,t.initialUser,this.serializer)}Du(t){return new Z1(Zp.Vi,this.serializer)}bu(t){return new jN}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class Nx extends qh{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){$t(this.persistence.referenceDelegate instanceof jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new pN(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new Z1((s=>jh.Vi(s,n)),this.serializer)}}class mp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>EE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ix.bind(null,this.syncEngine),await lx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cx})()}createDatastore(t){const n=of(t.databaseInfo.databaseId),s=(function(u){return new GN(u)})(t.databaseInfo);return(function(u,f,m,p){return new XN(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new JN(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>EE(this.syncEngine,n,0)),(function(){return mE.C()?new mE:new BN})())}createSyncEngine(t,n){return(function(o,u,f,m,p,y,E){const T=new gx(o,u,f,m,p,y);return E&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=Dt(o);ft(ba,"RemoteStore shutting down."),u.Ia.add(5),await bu(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mp.provider={build:()=>new mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Mr("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ht(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=Dt(o),m={documents:u.map((T=>zh(f.serializer,T)))},p=await f.Jo("BatchGetDocuments",f.serializer.databaseId,ue.emptyPath(),m,u.length),y=new Map;p.forEach((T=>{const w=ZD(f.serializer,T);y.set(w.key.toString(),w)}));const E=[];return u.forEach((T=>{const w=y.get(T.toString());$t(!!w,55234,{key:T}),E.push(w)})),E})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Au(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=vt.fromPath(s);this.mutations.push(new U1(o,this.precondition(o)))})),await(async function(s,o){const u=Dt(s),f={writes:o.map((m=>Y1(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,ue.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Tt(50498,{Wu:t.constructor.name});n=wt.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new ht(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(wt.min())?Qe.exists(!1):Qe.updateTime(n):Qe.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(wt.min()))throw new ht(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qe.updateTime(n)}return Qe.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new eg(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const t=new xx(this.datastore),n=this.Ju(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(t){try{const n=this.updateFunction(t);return!Eu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(t){this.Gu>0&&this.Yu(t)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(t)}Yu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!z1(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="FirestoreClient";class Mx{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ft(qs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ft(qs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=og(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Mm(r,t){r.asyncQueue.verifyOperationInProgress(),ft(qs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await W1(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>{ks("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{ft("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{ks("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=t}async function SE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await Vx(r);ft(qs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>gE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>gE(t.remoteStore,o))),r._onlineComponents=t}async function Vx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ft(qs,"Using user provided OfflineComponentProvider");try{await Mm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ks("Error using user provided cache. Falling back to memory cache: "+n),await Mm(r,new qh)}}else ft(qs,"Using default OfflineComponentProvider"),await Mm(r,new Nx(void 0));return r._offlineComponents}async function hg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ft(qs,"Using user provided OnlineComponentProvider"),await SE(r,r._uninitializedComponentsProvider._online)):(ft(qs,"Using default OnlineComponentProvider"),await SE(r,new mp))),r._onlineComponents}function Px(r){return hg(r).then((t=>t.syncEngine))}function kx(r){return hg(r).then((t=>t.datastore))}async function pp(r){const t=await hg(r),n=t.eventManager;return n.onListen=yx.bind(null,t.syncEngine),n.onUnlisten=Ex.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_x.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Tx.bind(null,t.syncEngine),n}function Lx(r,t,n={}){const s=new Dr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new vS({next:w=>{E.Ou(),f.enqueueAndForget((()=>uS(u,T))),w.fromCache&&p.source==="server"?y.reject(new ht(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new cS(m,E,{includeMetadataChanges:!0,ka:!0});return lS(u,T)})(await pp(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="firestore.googleapis.com",wE=!0;class bE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ht(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TS,this.ssl=wE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:wE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=J1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<dN)throw new ht(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ES((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new FC;switch(s.type){case"firstParty":return new KC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=AE.get(n);s&&(ft("ComponentProvider","Removing Datastore"),AE.delete(n),s.terminate())})(this),Promise.resolve()}}function Ux(r,t,n,s={}){var o;r=Wn(r,cf);const u=Vo(t),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;u&&(cT(`https://${p}`),hT("Firestore",!0)),f.host!==TS&&f.host!==p&&ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Ps(y,m)&&(r._setSettings(y),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=pn.MOCK_USER;else{E=vR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ht(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new pn(w)}r._authCredentials=new GC(new s1(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Da(this.firestore,t,this._query)}}class Ie{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(vu(n,Ie._jsonSchema))return new Ie(t,s||null,new vt(ue.fromString(n.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Be("string",Ie._jsonSchemaVersion),referencePath:Be("string")};class Ms extends Da{constructor(t,n,s){super(t,n,Qp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new vt(t))}withConverter(t){return new Ms(this.firestore,t,this._path)}}function Hl(r,t,...n){if(r=Ce(r),o1("collection","path",t),r instanceof cf){const s=ue.fromString(t,...n);return U0(s),new Ms(r,null,s)}{if(!(r instanceof Ie||r instanceof Ms))throw new ht(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ue.fromString(t,...n));return U0(s),new Ms(r.firestore,null,s)}}function $n(r,t,...n){if(r=Ce(r),arguments.length===1&&(t=jp.newId()),o1("doc","path",t),r instanceof cf){const s=ue.fromString(t,...n);return L0(s),new Ie(r,null,new vt(s))}{if(!(r instanceof Ie||r instanceof Ms))throw new ht(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ue.fromString(t,...n));return L0(s),new Ie(r.firestore,r instanceof Ms?r.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="AsyncQueue";class IE{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new eg(this,"async_queue_retry"),this.oc=()=>{const s=Om();s&&ft(RE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Dr;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!zo(t))throw t;ft(RE,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((s=>{throw this.tc=s,this.nc=!1,Mr("INTERNAL UNHANDLED ERROR: ",CE(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=ag.createAndSchedule(this,t,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&Tt(47125,{hc:CE(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function CE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Pr extends cf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new IE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new IE(t),this._firestoreClient=void 0,await t}}}function zx(r,t){const n=typeof r=="object"?r:pT(),s=typeof r=="string"?r:Oh,o=Rp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=yR("firestore");u&&Ux(o,...u)}return o}function Iu(r){if(r._terminated)throw new ht(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jx(r),r._firestoreClient}function jx(r){var t,n,s;const o=r._freezeSettings(),u=(function(m,p,y,E){return new cD(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,ES(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Mx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jn(un.fromBase64String(t))}catch(n){throw new ht(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Jn(un.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(vu(t,Jn._jsonSchema))return Jn.fromBase64String(t.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Be("string",Jn._jsonSchemaVersion),bytes:Be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(t){if(vu(t,Fi._jsonSchema))return new Fi(t.latitude,t.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Be("string",Fi._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(vu(t,Gi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Gi(t.vectorValues);throw new ht(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:Be("string",Gi._jsonSchemaVersion),vectorValues:Be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=/^__.*__$/;class qx{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Gs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Su(t,this.data,n,this.fieldTransforms)}}class SS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Gs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function AS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ec:r})}}class ff{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new ff(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Hh(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(AS(this.Ec)&&Bx.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class Hx{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||of(t)}Dc(t,n,s,o=!1){return new ff({Ec:t,methodName:n,bc:s,path:ln.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cu(r){const t=r._freezeSettings(),n=of(r._databaseId);return new Hx(r._databaseId,!!t.ignoreUndefinedProperties,n)}function fg(r,t,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,t,n,o);gg("Data must be an object, but it was:",f,s);const m=wS(s,f);let p,y;if(u.merge)p=new Zn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=gp(t,T,n);if(!f.contains(w))throw new ht(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);RS(E,w)||E.push(w)}p=new Zn(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new qx(new wn(m),p,y)}class Du extends hf{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Du}}function Fx(r,t,n){return new ff({Ec:3,bc:t.settings.bc,methodName:r._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class dg extends hf{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=Fx(this,t,!0),s=this.vc.map((u=>qo(u,n))),o=new No(s);return new kD(t.path,o)}isEqual(t){return t instanceof dg&&Ps(this.vc,t.vc)}}function mg(r,t,n,s){const o=r.Dc(1,t,n);gg("Data must be an object, but it was:",o,s);const u=[],f=wn.empty();Fs(s,((p,y)=>{const E=yg(t,p,n);y=Ce(y);const T=o.gc(E);if(y instanceof Du)u.push(E);else{const w=qo(y,T);w!=null&&(u.push(E),f.set(E,w))}}));const m=new Zn(u);return new SS(f,m,o.fieldTransforms)}function pg(r,t,n,s,o,u){const f=r.Dc(1,t,n),m=[gp(t,s,n)],p=[o];if(u.length%2!=0)throw new ht(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(gp(t,u[w])),p.push(u[w+1]);const y=[],E=wn.empty();for(let w=m.length-1;w>=0;--w)if(!RS(y,m[w])){const P=m[w];let H=p[w];H=Ce(H);const X=f.gc(P);if(H instanceof Du)y.push(P);else{const F=qo(H,X);F!=null&&(y.push(P),E.set(P,F))}}const T=new Zn(y);return new SS(E,T,f.fieldTransforms)}function Gx(r,t,n,s=!1){return qo(n,r.Dc(s?4:3,t))}function qo(r,t){if(bS(r=Ce(r)))return gg("Unsupported field value:",t,r),wS(r,t);if(r instanceof hf)return(function(s,o){if(!AS(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=qo(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Ce(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ye.fromDate(s);return{timestampValue:Uh(o.serializer,u)}}if(s instanceof ye){const u=new ye(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(s instanceof Fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jn)return{bytesValue:H1(o.serializer,s._byteString)};if(s instanceof Ie){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$p(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gi)return(function(f,m){return{mapValue:{fields:{[g1]:{stringValue:y1},[Mh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.wc("VectorValues must only contain numeric values.");return Yp(m.serializer,y)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${Zh(s)}`)})(r,t)}function wS(r,t){const n={};return c1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fs(r,((s,o)=>{const u=qo(o,t.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function bS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ye||r instanceof Fi||r instanceof Jn||r instanceof Ie||r instanceof hf||r instanceof Gi)}function gg(r,t,n){if(!bS(n)||!l1(n)){const s=Zh(n);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function gp(r,t,n){if((t=Ce(t))instanceof Bo)return t._internalPath;if(typeof t=="string")return yg(r,t);throw Hh("Field path arguments must be of type string or ",r,!1,void 0,n)}const Qx=new RegExp("[~\\*/\\[\\]]");function yg(r,t,n){if(t.search(Qx)>=0)throw Hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Bo(...t.split("."))._internalPath}catch{throw Hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Hh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ht(W.INVALID_ARGUMENT,m+r+p)}function RS(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Yx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(_g("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Yx extends Fh{data(){return super.data()}}function _g(r,t){return typeof t=="string"?yg(r,t):t instanceof Bo?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vg{}class Kx extends vg{}function Xx(r,t,...n){let s=[];t instanceof vg&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Eg)).length,m=u.filter((p=>p instanceof df)).length;if(f>1||f>0&&m>0)throw new ht(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class df extends Kx{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new df(t,n,s)}_apply(t){const n=this._parse(t);return CS(t._query,n),new Da(t.firestore,t.converter,sp(t._query,n))}_parse(t){const n=Cu(t.firestore);return(function(u,f,m,p,y,E,T){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ht(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){xE(T,E);const H=[];for(const X of T)H.push(NE(p,u,X));w={arrayValue:{values:H}}}else w=NE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||xE(T,E),w=Gx(m,f,T,E==="in"||E==="not-in");return je.create(y,E,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function $x(r,t,n){const s=t,o=_g("where",r);return df._create(o,s,n)}class Eg extends vg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Eg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Di.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)CS(f,p),f=sp(f,p)})(t._query,n),new Da(t.firestore,t.converter,sp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function NE(r,t,n){if(typeof(n=Ce(n))=="string"){if(n==="")throw new ht(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b1(t)&&n.indexOf("/")!==-1)throw new ht(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ue.fromString(n));if(!vt.isDocumentKey(s))throw new ht(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Q0(r,new vt(s))}if(n instanceof Ie)return Q0(r,n._key);throw new ht(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zh(n)}.`)}function xE(r,t){if(!Array.isArray(r)||r.length===0)throw new ht(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function CS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ht(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class DS{convertValue(t,n="none"){switch(js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Fs(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Mh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>Me(f.doubleValue)));return new Gi(u)}convertGeoPoint(t){return new Fi(Me(t.latitude),Me(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=tf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(au(t));default:return null}}convertTimestamp(t){const n=Us(t);return new ye(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ue.fromString(t);$t($1(s),9688,{name:t});const o=new ou(s.get(1),s.get(3)),u=new vt(s.popFirst(5));return o.isEqual(n)||Mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class Jx extends DS{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,n)}}class Eo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vs extends Fh{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(_g("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Vs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vs._jsonSchema={type:Be("string",Vs._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class Eh extends Vs{data(t={}){return super.data(t)}}class Ta{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Eo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Eh(this._firestore,this._userDataWriter,s.key,s,new Eo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Eo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Eo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:Zx(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ta._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Zx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}Ta._jsonSchemaVersion="firestore/querySnapshot/1.0",Ta._jsonSchema={type:Be("string",Ta._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};class mf extends DS{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,n)}}function OE(r){r=Wn(r,Da);const t=Wn(r.firestore,Pr),n=Iu(t),s=new mf(t);return IS(r._query),Lx(n,r._query).then((o=>new Ta(t,s,r,o)))}function Fl(r,t,n){r=Wn(r,Ie);const s=Wn(r.firestore,Pr),o=Tg(r.converter,t,n);return pf(s,[fg(Cu(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Qe.none())])}function lh(r,t,n,...s){r=Wn(r,Ie);const o=Wn(r.firestore,Pr),u=Cu(o);let f;return f=typeof(t=Ce(t))=="string"||t instanceof Bo?pg(u,"updateDoc",r._key,t,n,s):mg(u,"updateDoc",r._key,t),pf(o,[f.toMutation(r._key,Qe.exists(!0))])}function Vm(r){return pf(Wn(r.firestore,Pr),[new Au(r._key,Qe.none())])}function Pm(r,...t){var n,s,o;r=Ce(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||DE(t[f])||(u=t[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(DE(t[f])){const T=t[f];t[f]=(n=T.next)===null||n===void 0?void 0:n.bind(T),t[f+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),t[f+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,y,E;if(r instanceof Ie)y=Wn(r.firestore,Pr),E=Qp(r._key.path),p={next:T=>{t[f]&&t[f](Wx(y,r,T))},error:t[f+1],complete:t[f+2]};else{const T=Wn(r,Da);y=Wn(T.firestore,Pr),E=T._query;const w=new mf(y);p={next:P=>{t[f]&&t[f](new Ta(y,w,T,P))},error:t[f+1],complete:t[f+2]},IS(r._query)}return(function(w,P,H,X){const F=new vS(X),at=new cS(P,F,H);return w.asyncQueue.enqueueAndForget((async()=>lS(await pp(w),at))),()=>{F.Ou(),w.asyncQueue.enqueueAndForget((async()=>uS(await pp(w),at)))}})(Iu(y),E,m,p)}function pf(r,t){return(function(s,o){const u=new Dr;return s.asyncQueue.enqueueAndForget((async()=>Sx(await Px(s),o,u))),u.promise})(Iu(r),t)}function Wx(r,t,n){const s=n.docs.get(t._key),o=new mf(r);return new Vs(r,o,t._key,s,new Eo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Cu(t)}set(t,n,s){this._verifyNotCommitted();const o=Is(t,this._firestore),u=Tg(o.converter,n,s),f=fg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,Qe.none())),this}update(t,n,s,...o){this._verifyNotCommitted();const u=Is(t,this._firestore);let f;return f=typeof(n=Ce(n))=="string"||n instanceof Bo?pg(this._dataReader,"WriteBatch.update",u._key,n,s,o):mg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,Qe.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Is(t,this._firestore);return this._mutations=this._mutations.concat(new Au(n._key,Qe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ht(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Is(r,t){if((r=Ce(r)).firestore!==t)throw new ht(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Cu(t)}get(t){const n=Is(t,this._firestore),s=new Jx(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return Tt(24041);const u=o[0];if(u.isFoundDocument())return new Fh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Fh(this._firestore,s,n._key,null,n.converter);throw Tt(18433,{doc:u})}))}set(t,n,s){const o=Is(t,this._firestore),u=Tg(o.converter,n,s),f=fg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(t,n,s,...o){const u=Is(t,this._firestore);let f;return f=typeof(n=Ce(n))=="string"||n instanceof Bo?pg(this._dataReader,"Transaction.update",u._key,n,s,o):mg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(t){const n=Is(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO extends nO{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Is(t,this._firestore),s=new mf(this._firestore);return super.get(t).then((o=>new Vs(this._firestore,s,n._key,o._document,new Eo(!1,!1),n.converter)))}}function rO(r,t,n){r=Wn(r,Pr);const s=Object.assign(Object.assign({},tO),n);return(function(u){if(u.maxAttempts<1)throw new ht(W.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Dr;return u.asyncQueue.enqueueAndForget((async()=>{const y=await kx(u);new Ox(u.asyncQueue,y,m,f,p).zu()})),p.promise})(Iu(r),(o=>t(new iO(r,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(){return new Du("deleteField")}function aO(...r){return new dg("arrayUnion",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(r){return Iu(r=Wn(r,Pr)),new eO(r,(t=>pf(r,t)))}(function(t,n=!0){(function(o){Lo=o})(Po),bo(new Sa("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Pr(new QC(s.getProvider("auth-internal")),new XC(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ht(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(y.options.projectId,E)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ns(O0,M0,t),Ns(O0,M0,"esm2017")})();var lO="firebase",uO="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(lO,uO,"app");const cO={apiKey:"AIzaSyCEUaqAGQBy_-tQEjnkNGYMXRk7YRaCAjI",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.firebasestorage.app",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},NS=mT(cO),Ir=qC(NS),km=new wr,an=zx(NS),hO=({className:r})=>Q.jsxs("span",{className:"relative inline-block "+(r||""),children:[Q.jsx(eT,{className:"w-5 h-5"}),Q.jsx("span",{className:"absolute -right-1 -top-1",children:Q.jsx(Fm,{className:"w-3.5 h-3.5"})})]});(async()=>{try{await UT(Ir,Pp)}catch{}})();function fO(r,t){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(r)}&token=${encodeURIComponent(t)}`}async function dO(r){try{return await navigator.clipboard.writeText(r),!0}catch{return window.prompt("  :",r),!1}}async function Kl(){try{try{await UT(Ir,Pp)}catch{}await JI(Ir,km)}catch(r){const t=r==null?void 0:r.code;if(t==="auth/popup-blocked"||t==="auth/cancelled-popup-request"||t==="auth/popup-closed-by-user"){await A0(Ir,km);return}await A0(Ir,km)}}function mO(r){const t=encodeURIComponent(r);window.open(`https://wa.me/?text=${t}`,"_blank")}const pO=()=>{const[r]=Gb(),t=vp(),n=r.get("listId"),s=r.get("token"),[o,u]=U.useState(Ir.currentUser),[f,m]=U.useState(!0),[p,y]=U.useState(!1),[E,T]=U.useState(null);U.useEffect(()=>zT(Ir,H=>{u(H),m(!1)}),[]);const w=async()=>{T(null);try{await Kl()}catch(H){T((H==null?void 0:H.message)||" ")}},P=async()=>{if(!n||!s){T("    (listId  token)");return}if(!o){await w();return}y(!0),T(null);try{await rO(an,async H=>{var nt;const X=$n(an,"lists",n),F=await H.get(X);if(!F.exists())throw new Error("  ");const ot=(nt=F.data().pendingInvites)==null?void 0:nt[s];if(!ot)throw new Error("  ");if(ot.expiresAt<Date.now())throw new Error("  ");H.update(X,{sharedWith:aO(o.uid),[`pendingInvites.${s}`]:sO()})}),localStorage.setItem("activeListId",n),t("/")}catch(H){T((H==null?void 0:H.message)||"  ")}finally{y(!1)}};return f?Q.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif'},children:[Q.jsx("style",{children:`
        html, body, #root {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        *, *::before, *::after,
        input, button, select, textarea, option, label {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        input::placeholder, textarea::placeholder {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
      `}),Q.jsx(Sh,{className:"animate-spin text-indigo-600"})]}):Q.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:Q.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[Q.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:Q.jsx(iT,{className:"w-10 h-10"})}),Q.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?Q.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,E?Q.jsx("p",{className:"text-rose-500 font-bold break-words",children:E}):null,o?Q.jsx("button",{onClick:P,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?Q.jsx(Sh,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):Q.jsxs("button",{onClick:w,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[Q.jsx(nT,{className:"w-4 h-4"}),"   "]})]})})},xS={:1,:1,:2,:2,:2,:2,:2,:3,:3,:4,:4,:5,:5,:6,:6,:7,:7,:8,:9,:9,:10,:10},Ar=r=>(r||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),OS=r=>(r||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\b\b/g,",").replace(/\b\b/g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim();function Gh(r){return r?/^\d+$/.test(r)?!0:xS[r]!=null:!1}function gO(r){if(!r)return null;if(/^\d+$/.test(r))return Number(r);const t=xS[r];return t??null}const yO=new Set(["","","","","","","","","","","","","","","","","","","","","","","",""]);function _O(r){return yO.has(r)}const Lm=new Set([" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","' "," "," "," "]),Um=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),zm=new Set(["","","","","","","","","","","","",""]);function vO(r){const t=[];let n=0;const s=o=>o&&o.startsWith("")&&o.length>1?o.slice(1):o;for(;n<r.length;){const o=r[n],u=n+1<r.length?r[n+1]:"";if(o&&u&&!Gh(o)&&!Gh(u)){const f=`${o} ${u}`,m=s(u),p=`${o} ${m}`;if(Lm.has(f)||Lm.has(p)){t.push(Lm.has(f)?f:p),n+=2;continue}if(Um.has(u)||Um.has(m)){t.push(Um.has(u)?f:p),n+=2;continue}if(zm.has(u)||zm.has(m)){t.push(zm.has(u)?f:p),n+=2;continue}}t.push(o),n+=1}return t}function EO(r){const t=Ar(r);if(!t)return[];let n=t.split(" ").filter(Boolean);if(n=vO(n),n.length===0)return[];const s=[];let o=1,u=[];const f=p=>{const y=u.join(" ").trim();if(y){const E=Math.max(1,Number(p??o??1));s.push({name:y,qty:E})}o=1,u=[]},m=p=>p+1<n.length?n[p+1]:"";for(let p=0;p<n.length;p++){const y=n[p];if(Gh(y)){const T=Math.max(1,gO(y)||1),w=m(p);if(u.length===0){o=T;continue}if(!w){f(T);continue}f(),o=T;continue}u.push(y);const E=m(p);u.length===1&&_O(u[0])||y===""||y===""||E===""||E===""||Gh(E)||f()}return u.length>0&&f(),s.map(p=>({name:p.name.replace(/\s+/g," ").trim(),qty:Math.max(1,Number(p.qty||1))})).filter(p=>p.name.length>0)}function TO(r){const t=OS(r),n=Ar(t);if(!n)return[];const o=n.replace(/\s+\s+/g,",").replace(/\s+\s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+\s+/g,",").split(/,|\n/).map(f=>f.trim()).filter(Boolean),u=[];for(const f of o){const m=EO(f);for(const p of m)u.push(p)}return u}const SO=()=>{const[r,t]=U.useState(null),[n,s]=U.useState(null),[o,u]=U.useState([]),[f,m]=U.useState([]),[p,y]=U.useState("list"),[E,T]=U.useState(""),[w,P]=U.useState(!1),[H,X]=U.useState(!1),[F,at]=U.useState(!0),[ot,nt]=U.useState(!1),[_t,It]=U.useState(!1),[bt]=U.useState("hold_to_talk"),[D,b]=U.useState(""),[R,N]=U.useState(null),M=U.useRef(null),V=U.useRef(!1),I=U.useRef([]),fe=U.useRef(""),Ee=U.useRef(!1),K=U.useRef(null),lt=U.useRef(null),gt=U.useRef(!1),Mt=U.useRef(null),[Ot,x]=U.useState({id:null,dx:0}),J=70,st=110,dt=L=>{const et=L;return et?!!et.closest("button, input, textarea, select, a, [data-noswipe='true']"):!1},At=L=>et=>{dt(et.target)||(gt.current=!1,K.current={x:et.clientX,y:et.clientY,id:L,pointerId:et.pointerId},lt.current={x:et.clientX,y:et.clientY},x({id:L,dx:0}))},Pt=L=>et=>{const rt=K.current;if(!rt||rt.id!==L||rt.pointerId!==et.pointerId)return;lt.current={x:et.clientX,y:et.clientY};const ct=et.clientX-rt.x,mt=Math.max(-st,Math.min(st,ct));if(!Mt.current&&Math.abs(ct)>10&&Math.abs(ct)>=Math.abs(et.clientY-rt.y))try{et.currentTarget.setPointerCapture(et.pointerId),Mt.current={el:et.currentTarget,pointerId:et.pointerId}}catch{}x({id:L,dx:mt})},jt=L=>async et=>{const rt=K.current,ct=lt.current;K.current=null;try{Mt.current&&Mt.current.el.releasePointerCapture(rt.pointerId)}catch{}if(Mt.current=null,lt.current=null,!rt||rt.id!==L){x({id:null,dx:0});return}const mt=(ct==null?void 0:ct.x)??et.clientX,Bt=(ct==null?void 0:ct.y)??et.clientY,Ct=mt-rt.x,ie=Bt-rt.y;if(x({id:null,dx:0}),!(Math.abs(Ct)<J||Math.abs(Ct)<Math.abs(ie))){gt.current=!0;try{Ct<0?await si(L):await $i(L)}finally{window.setTimeout(()=>{gt.current=!1},0)}}},qe=L=>et=>{if(dt(et.target))return;const rt=et.touches[0];rt&&(gt.current=!1,K.current={x:rt.clientX,y:rt.clientY,id:L,pointerId:-1},lt.current={x:rt.clientX,y:rt.clientY},x({id:L,dx:0}))},de=L=>et=>{const rt=K.current;if(!rt||rt.id!==L)return;const ct=et.touches[0];if(!ct)return;lt.current={x:ct.clientX,y:ct.clientY};const mt=ct.clientX-rt.x,Bt=ct.clientY-rt.y;if(Math.abs(mt)<6||Math.abs(mt)<Math.abs(Bt))return;try{et.preventDefault()}catch{}const Ct=Math.max(-st,Math.min(st,mt));x({id:L,dx:Ct})},ni=L=>async et=>{const rt=K.current,ct=lt.current;if(K.current=null,lt.current=null,!rt||rt.id!==L){x({id:null,dx:0});return}const mt=ct?ct.x-rt.x:0;if(Math.abs(mt)<J){x({id:null,dx:0});return}gt.current=!0,mt<0?await si(L):await $i(L),x({id:null,dx:0})},Ei=()=>{K.current=null,lt.current=null;try{Mt.current&&Mt.current.el.releasePointerCapture(Mt.current.pointerId)}catch{}Mt.current=null,x({id:null,dx:0})},ii=U.useRef(null),Ki=U.useRef([]);U.useEffect(()=>{ii.current=(n==null?void 0:n.id)??null},[n==null?void 0:n.id]),U.useEffect(()=>{Ki.current=o},[o]),U.useEffect(()=>{if(!R)return;const L=setTimeout(()=>N(null),2500);return()=>clearTimeout(L)},[R]),U.useEffect(()=>zT(Ir,async L=>{if(t(L),at(!1),!L){s(null),u([]),m([]);return}nt(!0);const et=Xx(Hl(an,"lists"),$x("sharedWith","array-contains",L.uid)),rt=await OE(et);if(rt.empty){const ct=$n(Hl(an,"lists")),mt={id:ct.id,title:" ",ownerUid:L.uid,sharedWith:[L.uid],createdAt:Date.now(),updatedAt:Date.now()};await Fl(ct,mt),s(mt),localStorage.setItem("activeListId",ct.id)}else{const ct=localStorage.getItem("activeListId"),mt=ct?rt.docs.find(Ct=>Ct.id===ct)??rt.docs[0]:rt.docs[0],Bt=mt.data();s({...Bt,id:mt.id}),localStorage.setItem("activeListId",mt.id)}nt(!1)}),[]),U.useEffect(()=>{if(!(n!=null&&n.id))return;const L=$n(an,"lists",n.id),et=Hl(L,"items"),rt=Hl(L,"favorites"),ct=Pm(L,Ct=>{Ct.exists()&&s({...Ct.data(),id:Ct.id})}),mt=Pm(et,Ct=>{const ie=Ct.docs.map(Jt=>Jt.data());u(ie)}),Bt=Pm(rt,Ct=>{const ie=Ct.docs.map(Jt=>{const Lt=Jt.data();return{id:Jt.id,name:String((Lt==null?void 0:Lt.name)||""),createdAt:Number((Lt==null?void 0:Lt.createdAt)||0)}});ie.sort((Jt,Lt)=>Lt.createdAt-Jt.createdAt),m(ie)});return()=>{ct(),mt(),Bt()}},[n==null?void 0:n.id]);const Ln=U.useMemo(()=>{const L=new Set;for(const et of f)L.add(et.id);return L},[f]),Xi=U.useMemo(()=>o.filter(L=>!L.isPurchased).sort((L,et)=>et.createdAt-L.createdAt),[o]),Ni=U.useMemo(()=>o.filter(L=>L.isPurchased).sort((L,et)=>(et.purchasedAt||0)-(L.purchasedAt||0)),[o]),Ho=async L=>{if(L&&L.preventDefault(),!r){await Kl();return}if(!(n!=null&&n.id))return;const et=E.trim();if(!et)return;const rt=crypto.randomUUID(),ct={id:rt,name:et,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Fl($n(an,"lists",n.id,"items",rt),ct),T("")},Ur=async L=>{if(!(n!=null&&n.id))return;const et=o.find(ct=>ct.id===L);if(!et)return;const rt=!et.isPurchased;await lh($n(an,"lists",n.id,"items",L),{isPurchased:rt,purchasedAt:rt?Date.now():null})},ri=async(L,et)=>{if(!(n!=null&&n.id))return;const rt=o.find(ct=>ct.id===L);rt&&await lh($n(an,"lists",n.id,"items",L),{quantity:Math.max(1,rt.quantity+et)})},si=async L=>{n!=null&&n.id&&await Vm($n(an,"lists",n.id,"items",L))},$i=async L=>{if(!(n!=null&&n.id))return;const et=$n(an,"lists",n.id,"favorites",L);if(Ln.has(L))await Vm(et);else{const rt=o.find(ct=>ct.id===L);await Fl(et,{name:(rt==null?void 0:rt.name)||"",createdAt:Date.now()})}},Fo=async L=>{n!=null&&n.id&&await Vm($n(an,"lists",n.id,"favorites",L))},zr=async()=>{const L=ii.current||(n==null?void 0:n.id);if(!L)return;const et=Hl(an,"lists",L,"items"),rt=await OE(et);if(rt.empty){X(!1);return}const ct=rt.docs;let mt=0;for(;mt<ct.length;){const Bt=oO(an),Ct=ct.slice(mt,mt+450);for(const ie of Ct)Bt.delete(ie.ref);await Bt.commit(),mt+=Ct.length}X(!1)},He=async()=>{if(!r)return await Kl(),null;if(!(n!=null&&n.id))return null;const L=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),et=Date.now()+2880*60*1e3;return await lh($n(an,"lists",n.id),{[`pendingInvites.${L}`]:{createdAt:Date.now(),expiresAt:et}}),fO(n.id,L)},Na=async()=>{const L=await He();if(L){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:" ",text:"   ",url:L});return}}catch{}await dO(L),P(!0),setTimeout(()=>P(!1),2e3)}},De=()=>{const L=(n==null?void 0:n.title)||" ",et=o.filter(Nt=>!Nt.isPurchased),rt="",ct="",mt="",Bt="",Ct=et.length>0?et.map(Nt=>(Nt.quantity||1)<=1?`${rt}${Nt.name}${ct}`:`${rt}${Nt.name} X ${mt}${Nt.quantity}${Bt}${ct}`).join(`
`):`${rt}(  )${ct}`,Lt=`${`*${L}:*`}

${Ct}

   `;mO(Lt)},_e=U.useRef(null),_n=U.useRef(null),Ti=U.useRef(null),[bn,jr]=U.useState({id:null,dx:0,rawDx:0}),Ji=60,ai=110,Fe=async L=>{if(!(n!=null&&n.id))return;const et=o.find(rt=>!rt.isPurchased&&rt.name.trim()===L.name.trim());if(et)await ri(et.id,1);else{const rt=crypto.randomUUID(),ct={id:rt,name:L.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Fl($n(an,"lists",n.id,"items",rt),ct)}},Rn=L=>et=>{dt(et.target)||(_e.current={x:et.clientX,y:et.clientY,id:L,pointerId:et.pointerId},_n.current={x:et.clientX,y:et.clientY},jr({id:L,dx:0,rawDx:0}))},tn=L=>et=>{const rt=_e.current;if(!rt||rt.id!==L)return;_n.current={x:et.clientX,y:et.clientY};const ct=et.clientX-rt.x,mt=et.clientY-rt.y;if(!Ti.current&&Math.abs(ct)>10&&Math.abs(mt)<=Math.abs(ct)*1.2)try{et.currentTarget.setPointerCapture(et.pointerId),Ti.current={el:et.currentTarget,pointerId:et.pointerId}}catch{}if(Math.abs(mt)>Math.abs(ct)*1.6)return;const Bt=Math.max(-ai,Math.min(ai,ct));jr({id:L,dx:Bt,rawDx:ct})},Go=L=>async et=>{const rt=_e.current,ct=_n.current;_e.current=null;try{Ti.current&&rt&&Ti.current.el.releasePointerCapture(rt.pointerId)}catch{}if(Ti.current=null,_n.current=null,jr({id:null,dx:0,rawDx:0}),!rt||rt.id!==L)return;const mt=(ct==null?void 0:ct.x)??et.clientX,Bt=(ct==null?void 0:ct.y)??et.clientY,Ct=mt-rt.x,ie=Bt-rt.y;if(!(Math.abs(Ct)<Ji)&&!(Math.abs(ie)>Math.abs(Ct)*1.6))if(Ct>0){const Jt=f.find(Lt=>Lt.id===L);Jt&&await Fe(Jt)}else{await Fo(L);const Jt=f.find(Lt=>Lt.id===L);Jt&&await Fe(Jt)}},Qs=()=>{_e.current=null,_n.current=null,Ti.current=null,jr({id:null,dx:0,rawDx:0})},Zi=L=>{const et=Ar(L),rt=o.find(mt=>Ar(mt.name)===et);return rt||o.find(mt=>Ar(mt.name).includes(et)||et.includes(Ar(mt.name)))||null},Wi=async(L,et)=>{const rt=ii.current||(n==null?void 0:n.id);if(!rt)return;const ct=Ki.current||o,mt=L.trim();if(!mt)return;const Bt=ct.find(Jt=>!Jt.isPurchased&&Ar(Jt.name)===Ar(mt));if(Bt){await lh($n(an,"lists",rt,"items",Bt.id),{quantity:et});return}const Ct=crypto.randomUUID(),ie={id:Ct,name:mt,quantity:et,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Fl($n(an,"lists",rt,"items",Ct),ie)},oi=L=>/(|||||||||)\s*(\s*)?(\s*)?(\s*)?(|)?/.test(L)||/^(||)$/.test(L)||L.includes("")&&L.includes("")&&(L.includes("")||L.includes(""))||L.includes("")&&(L.includes("")||L.includes("")),xi=async L=>{if(!(ii.current||(n==null?void 0:n.id)))return;const rt=Ar(L);if(!rt)return;if(oi(rt)){await zr(),N(" ");return}if(/^(|||)\s+/.test(rt)){const Lt=rt.replace(/^(|||)\s+/,"").trim(),Nt=Zi(Lt);if(!Nt){N("   ");return}await si(Nt.id),N(`: ${Nt.name}`);return}const ct=rt.match(/^(||)\s+(.+)\s+(||)$/);if(ct){const Lt=ct[2].trim(),Nt=Zi(Lt);if(!Nt){N("   ");return}Nt.isPurchased||await Ur(Nt.id),N(` : ${Nt.name}`);return}const mt=rt.match(/^(||)\s+(.+)$/);if(mt){const Lt=mt[2].trim(),Nt=Zi(Lt);return Nt?(await ri(Nt.id,1),N(`: ${Nt.name}`)):N("   ")}const Bt=rt.match(/^(||)\s+(.+)$/);if(Bt){const Lt=Bt[2].trim(),Nt=Zi(Lt);return Nt?(await ri(Nt.id,-1),N(`: ${Nt.name}`)):N("   ")}const Ct=rt.match(/^(|||)(?:\s+)?\s+(.+)$/),ie=Ct?Ct[2]:rt,Jt=TO(ie);if(Jt.length!==0){for(const Lt of Jt)await Wi(Lt.name,Lt.qty);if(Jt.length===1){const Lt=Jt[0];N(Lt.qty>1?`: ${Lt.name} x${Lt.qty}`:`: ${Lt.name}`)}else N(` ${Jt.length} `)}},Un=()=>{const L=window.SpeechRecognition||window.webkitSpeechRecognition;return L||null},cn=()=>{const L=Un();if(!L){alert("    .  Chrome  Edge.");return}if(!r){N("    "),Kl();return}if(I.current=[],fe.current="",Ee.current=!1,V.current=!0,b(""),It(!0),N("  -   "),M.current){try{M.current.stop()}catch{}M.current=null}const et=new L;M.current=et,et.lang="he-IL",et.interimResults=!0,et.maxAlternatives=1,et.continuous=!0;const rt=3e3,ct=9e4;let mt=!1,Bt=Date.now(),Ct=null,ie=null;const Jt=()=>{Ct!=null&&window.clearTimeout(Ct),ie!=null&&window.clearTimeout(ie),Ct=null,ie=null},Lt=()=>{V.current&&mt&&(Ct!=null&&window.clearTimeout(Ct),Ct=window.setTimeout(()=>{if(!V.current)return;Date.now()-Bt>=rt&&hn()},rt+50))};ie=window.setTimeout(()=>{V.current&&(N("     - ..."),hn())},ct),et.onstart=()=>{},et.onaudiostart=()=>{},et.onspeechstart=()=>{},et.onresult=Nt=>{try{let In="";for(let he=Nt.resultIndex;he<Nt.results.length;he++){const Ae=Nt.results[he],Cn=Ae==null?void 0:Ae[0],jn=OS(String((Cn==null?void 0:Cn.transcript)||""));jn&&(Ae.isFinal?(I.current.push(jn),fe.current=""):(In=jn,fe.current=jn))}const zn=In||(I.current.length?I.current[I.current.length-1]:"");zn&&b(zn),mt=!0,Bt=Date.now(),Lt()}catch{}},et.onerror=Nt=>{const In=String((Nt==null?void 0:Nt.error)||"");console.warn("Speech error:",In,Nt),In!=="no-speech"&&(Jt(),clearVoiceTimers(),It(!1),V.current=!1,In==="not-allowed"||In==="service-not-allowed"?alert("  .     ."):N(In==="audio-capture"?"   (    )":` : ${In||"unknown"}`))},et.onend=()=>{if(!V.current){Jt();return}Lt(),!Ee.current&&(Ee.current=!0,setTimeout(()=>{if(!V.current){Ee.current=!1,Jt();return}try{et.start()}catch{}finally{Ee.current=!1}},180))};try{et.start(),Lt()}catch(Nt){console.error(Nt),Jt(),clearVoiceTimers(),It(!1),V.current=!1,N("   ")}},hn=async()=>{var ct,mt;if(!V.current)return;V.current=!1,It(!1);try{(mt=(ct=M.current)==null?void 0:ct.stop)==null||mt.call(ct)}catch{}const L=I.current.join(" ").trim(),et=(fe.current||"").trim(),rt=`${L} ${et}`.replace(/\s+/g," ").trim();if(I.current=[],fe.current="",!rt){N("   -  ");return}N("...");try{await xi(rt)}catch(Bt){console.error(Bt),N(`: ${String((Bt==null?void 0:Bt.message)||Bt||"")}`)}};return U.useEffect(()=>()=>{var L,et;try{V.current=!1,(et=(L=M.current)==null?void 0:L.stop)==null||et.call(L)}catch{}},[]),F?Q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:Q.jsx(Sh,{className:"animate-spin text-indigo-600"})}):r?ot||!(n!=null&&n.id)?Q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:Q.jsx(Sh,{className:"animate-spin text-indigo-600"})}):Q.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[Q.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-6 py-4 items-center justify-between border-b border-slate-100 relative grid grid-cols-3 items-center",children:[Q.jsxs("div",{className:"flex items-center gap-2 justify-start",children:[Q.jsx("button",{onClick:()=>X(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ",children:Q.jsx(eh,{className:"w-5 h-5"})}),Q.jsx("button",{onClick:Na,className:"p-2 text-slate-400 hover:text-indigo-600",title:" ",children:w?Q.jsx(tR,{className:"w-5 h-5 text-emerald-500"}):Q.jsx(iT,{className:"w-5 h-5"})})]}),Q.jsx("h1",{className:"text-xl font-bold text-indigo-600 leading-none text-center justify-self-center whitespace-nowrap",children:(n==null?void 0:n.title)||" "}),Q.jsx("button",{onClick:()=>OI(Ir),className:"justify-self-end w-9 h-9 min-w-0 p-0 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:"",children:Q.jsx(iR,{className:"w-4 h-4"})})]}),Q.jsx("div",{className:"px-5 pt-3",children:Q.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[Q.jsx("div",{className:"text-[11px] font-black text-slate-400",children:_t?"  -    ":" :    ,  "}),D?Q.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[": ",D]}):null,Q.jsx("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:': "    " | " " | " "'})]})}),Q.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:p==="list"?Q.jsxs(Q.Fragment,{children:[Q.jsxs("form",{onSubmit:Ho,className:"relative",children:[Q.jsx("input",{value:E,onChange:L=>T(L.target.value),placeholder:"  ?",className:"w-full p-4 pr-4 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),Q.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:Q.jsx(Fm,{className:"w-6 h-6"})})]}),o.length===0?Q.jsxs("div",{className:"text-center py-20 opacity-20",children:[Q.jsx(lR,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),Q.jsx("p",{className:"text-lg font-bold",children:" "})]}):Q.jsx("div",{className:"space-y-4",children:Q.jsxs("div",{className:"space-y-3",children:[Xi.map(L=>Q.jsxs("div",{className:"relative overflow-hidden flex items-center justify-between p-3 bg-white rounded-2xl border border-slate-100 shadow-sm select-none",dir:"rtl",onPointerDown:At(L.id),onPointerMove:Pt(L.id),onPointerUp:jt(L.id),onPointerCancel:Ei,onTouchStart:qe(L.id),onTouchMove:de(L.id),onTouchEnd:ni(L.id),style:{touchAction:"pan-y"},children:[Q.jsx("div",{className:`absolute inset-0 ${Ot.id===L.id?Ot.dx>0?"bg-emerald-50":Ot.dx<0?"bg-rose-50":"bg-transparent":"bg-transparent"}`,style:{opacity:Ot.id===L.id?Math.min(1,Math.abs(Ot.dx)/st):0}}),Q.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full",style:{transform:Ot.id===L.id?`translateX(${Ot.dx}px)`:void 0,transition:Ot.id===L.id?"none":"transform 120ms ease-out"},children:[Q.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>{gt.current||Ur(L.id)},children:L.name}),Q.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100","data-noswipe":"true",children:[Q.jsx("button",{onClick:()=>ri(L.id,-1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:Q.jsx(oR,{className:"w-3 h-3"})}),Q.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:L.quantity}),Q.jsx("button",{onClick:()=>ri(L.id,1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:Q.jsx(Fm,{className:"w-3 h-3"})})]})]}),Ot.id===L.id&&Ot.dx>12?Q.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center text-emerald-600 pointer-events-none",children:Q.jsx(th,{className:"w-5 h-5 fill-emerald-600"})}):null,Ot.id===L.id&&Ot.dx<-12?Q.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center text-rose-600 pointer-events-none",children:Q.jsx(eh,{className:"w-5 h-5"})}):null]},L.id)),Ni.length>0?Q.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[Q.jsxs("h3",{className:"text-lg font-bold text-slate-700 text-right mb-2",children:[" (",Ni.length,")"]}),Ni.map(L=>Q.jsx("div",{className:"flex items-center justify-between p-3 bg-slate-100/50 rounded-2xl opacity-60 grayscale transition-all",dir:"rtl",children:Q.jsxs("div",{className:"flex items-center justify-between w-full",children:[Q.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-start cursor-pointer",onClick:()=>Ur(L.id),style:{direction:"rtl",unicodeBidi:"plaintext"},children:[Q.jsx(nR,{className:"w-6 h-6 text-emerald-500 flex-shrink-0"}),Q.jsx("span",{className:"text-base font-bold text-slate-500 line-through truncate text-left",children:Q.jsxs("span",{className:"flex gap-1",children:[Q.jsx("span",{children:L.name}),(L.quantity||1)>1&&Q.jsxs(Q.Fragment,{children:[Q.jsx("span",{children:"x"}),Q.jsx("span",{children:L.quantity})]})]})})]}),Q.jsx("button",{onClick:()=>si(L.id),className:"p-2 text-slate-300",title:"",children:Q.jsx(eh,{className:"w-4 h-4"})})]})},L.id))]}):null]})})]}):Q.jsxs("div",{className:"space-y-6",children:[Q.jsxs("div",{className:"text-right",children:[Q.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),Q.jsx("p",{className:"text-sm text-slate-400 font-bold",children:Q.jsx("span",{className:"font-semibold",children:"  "})})]}),f.length===0?Q.jsxs("div",{className:"text-center py-20 opacity-20",children:[Q.jsx(th,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),Q.jsx("p",{className:"font-bold",children:"  "})]}):Q.jsx("div",{className:"grid grid-cols-1 gap-3",children:f.map(L=>Q.jsxs("div",{className:"relative overflow-hidden rounded-2xl select-none",dir:"ltr",onPointerDown:Rn(L.id),onPointerMove:tn(L.id),onPointerUp:Go(L.id),onPointerCancel:Qs,style:{touchAction:"pan-y"},children:[Q.jsx("div",{className:`absolute inset-0 ${bn.id===L.id?bn.rawDx>0?"bg-emerald-50":bn.rawDx<0?"bg-rose-50":"bg-transparent":"bg-transparent"}`,style:{opacity:bn.id===L.id?Math.min(1,Math.abs(bn.rawDx)/ai):0}}),Q.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 pointer-events-none",children:[Q.jsx("div",{className:"flex items-center gap-2 text-emerald-600",children:Q.jsx(hO,{className:"w-6 h-6"})}),Q.jsx("div",{className:"flex items-center gap-2 text-rose-600",children:Q.jsx(eh,{className:"w-5 h-5"})})]}),Q.jsxs("div",{className:"relative z-10 flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-100 shadow-sm",style:{transform:bn.id===L.id?`translateX(${bn.dx}px)`:void 0,transition:bn.id===L.id?"none":"transform 160ms ease-out"},children:[Q.jsx("div",{className:"flex items-center gap-2"}),Q.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate px-3 text-base",style:{direction:"rtl",unicodeBidi:"plaintext"},children:L.name}),Q.jsx(th,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]})]},L.id))})]})}),Q.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:Q.jsxs("div",{className:"max-w-md mx-auto px-4 pb-3",children:[Q.jsx("div",{className:"flex justify-start mb-2",dir:"ltr",children:Q.jsx("button",{onClick:De,className:"w-14 h-14 rounded-full bg-emerald-500 text-white flex items-center justify-center shadow-lg shadow-emerald-200 active:scale-95 transition-transform",title:"  ",children:Q.jsx(rR,{className:"w-6 h-6"})})}),Q.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:Q.jsxs("div",{className:"relative flex items-center justify-between px-10 pt-9 pb-3",children:[Q.jsxs("button",{onClick:()=>y("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[Q.jsx(th,{className:`w-7 h-7 ${p==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),"",Q.jsx("button",{onPointerDown:L=>{L.preventDefault(),cn()},onPointerUp:L=>{L.preventDefault(),hn()},onPointerCancel:L=>{L.preventDefault(),hn()},onPointerLeave:L=>{V.current&&(L.preventDefault(),hn())},onTouchStart:L=>{L.preventDefault(),cn()},onTouchEnd:L=>{L.preventDefault(),hn()},onMouseDown:L=>{L.preventDefault(),cn()},onMouseUp:L=>{L.preventDefault(),hn()},style:{touchAction:"none"},className:`absolute left-1/2 -translate-x-1/2 -top-8 w-16 h-16 rounded-full border-4 border-white shadow-xl flex items-center justify-center ${_t?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:_t?"  -   ":"   ",children:_t?Q.jsx(sR,{className:"w-7 h-7"}):Q.jsx(aR,{className:"w-7 h-7"})})]}),Q.jsxs("button",{onClick:()=>y("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[Q.jsx(eT,{className:"w-7 h-7"}),""]})]})})]})}),H?Q.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:Q.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[Q.jsxs("div",{className:"flex items-center gap-3",children:[Q.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:Q.jsx(eR,{className:"w-5 h-5"})}),Q.jsxs("div",{className:"text-right",children:[Q.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),Q.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),Q.jsxs("div",{className:"flex gap-3",children:[Q.jsx("button",{onClick:()=>X(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),Q.jsx("button",{onClick:zr,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null,R?Q.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50",children:R}):null]}):Q.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:Q.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[Q.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),Q.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),Q.jsxs("button",{onClick:async()=>{await Kl()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[Q.jsx(nT,{className:"w-4 h-4"}),"  "]})]})})},AO=()=>Q.jsx(jb,{children:Q.jsxs(pb,{children:[Q.jsx(Bm,{path:"/",element:Q.jsx(SO,{})}),Q.jsx(Bm,{path:"/invite",element:Q.jsx(pO,{})})]})}),MS=document.getElementById("root");if(!MS)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",r=>{const t=(r==null?void 0:r.message)||"unknown",n=r==null?void 0:r.error;console.error("WINDOW_ERROR:",t,n),alert("WINDOW_ERROR: "+t)});window.addEventListener("unhandledrejection",r=>{const t=r==null?void 0:r.reason;console.error("UNHANDLED_REJECTION:",t);let n="";try{typeof t=="string"?n=t:t!=null&&t.message?n=t.message:n=JSON.stringify(t)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());_w.createRoot(MS).render(Q.jsx(hw.StrictMode,{children:Q.jsx(AO,{})}));
