(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function TS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vm={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function wS(){if(K_)return Ql;K_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ql.Fragment=e,Ql.jsx=n,Ql.jsxs=n,Ql}var $_;function bS(){return $_||($_=1,vm.exports=wS()),vm.exports}var H=bS(),_m={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function SS(){if(X_)return Le;X_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function V(T){return T===null||typeof T!="object"?null:(T=A&&T[A]||T["@@iterator"],typeof T=="function"?T:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,L={};function ue(T,U,Y){this.props=T,this.context=U,this.refs=L,this.updater=Y||G}ue.prototype.isReactComponent={},ue.prototype.setState=function(T,U){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,U,"setState")},ue.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function he(){}he.prototype=ue.prototype;function re(T,U,Y){this.props=T,this.context=U,this.refs=L,this.updater=Y||G}var Se=re.prototype=new he;Se.constructor=re,Z(Se,ue.prototype),Se.isPureReactComponent=!0;var Pe=Array.isArray;function De(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(T,U,Y){var ae=Y.ref;return{$$typeof:r,type:T,key:U,ref:ae!==void 0?ae:null,props:Y}}function O(T,U){return C(T.type,U,T.props)}function k(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function j(T){var U={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Y){return U[Y]})}var D=/\/+/g;function Rt(T,U){return typeof T=="object"&&T!==null&&T.key!=null?j(""+T.key):U.toString(36)}function Nt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(De,De):(T.status="pending",T.then(function(U){T.status==="pending"&&(T.status="fulfilled",T.value=U)},function(U){T.status==="pending"&&(T.status="rejected",T.reason=U)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ee(T,U,Y,ae,ce){var me=typeof T;(me==="undefined"||me==="boolean")&&(T=null);var fe=!1;if(T===null)fe=!0;else switch(me){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(T.$$typeof){case r:case e:fe=!0;break;case E:return fe=T._init,ee(fe(T._payload),U,Y,ae,ce)}}if(fe)return ce=ce(T),fe=ae===""?"."+Rt(T,0):ae,Pe(ce)?(Y="",fe!=null&&(Y=fe.replace(D,"$&/")+"/"),ee(ce,U,Y,"",function(Ue){return Ue})):ce!=null&&(k(ce)&&(ce=O(ce,Y+(ce.key==null||T&&T.key===ce.key?"":(""+ce.key).replace(D,"$&/")+"/")+fe)),U.push(ce)),1;fe=0;var we=ae===""?".":ae+":";if(Pe(T))for(var be=0;be<T.length;be++)ae=T[be],me=we+Rt(ae,be),fe+=ee(ae,U,Y,me,ce);else if(be=V(T),typeof be=="function")for(T=be.call(T),be=0;!(ae=T.next()).done;)ae=ae.value,me=we+Rt(ae,be++),fe+=ee(ae,U,Y,me,ce);else if(me==="object"){if(typeof T.then=="function")return ee(Nt(T),U,Y,ae,ce);throw U=String(T),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return fe}function de(T,U,Y){if(T==null)return T;var ae=[],ce=0;return ee(T,ae,"","",function(me){return U.call(Y,me,ce++)}),ae}function Ee(T){if(T._status===-1){var U=T._result;U=U(),U.then(function(Y){(T._status===0||T._status===-1)&&(T._status=1,T._result=Y)},function(Y){(T._status===0||T._status===-1)&&(T._status=2,T._result=Y)}),T._status===-1&&(T._status=0,T._result=U)}if(T._status===1)return T._result.default;throw T._result}var et=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},B={map:de,forEach:function(T,U,Y){de(T,function(){U.apply(this,arguments)},Y)},count:function(T){var U=0;return de(T,function(){U++}),U},toArray:function(T){return de(T,function(U){return U})||[]},only:function(T){if(!k(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Le.Activity=w,Le.Children=B,Le.Component=ue,Le.Fragment=n,Le.Profiler=o,Le.PureComponent=re,Le.StrictMode=s,Le.Suspense=p,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Le.__COMPILER_RUNTIME={__proto__:null,c:function(T){return N.H.useMemoCache(T)}},Le.cache=function(T){return function(){return T.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(T,U,Y){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ae=Z({},T.props),ce=T.key;if(U!=null)for(me in U.key!==void 0&&(ce=""+U.key),U)!R.call(U,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&U.ref===void 0||(ae[me]=U[me]);var me=arguments.length-2;if(me===1)ae.children=Y;else if(1<me){for(var fe=Array(me),we=0;we<me;we++)fe[we]=arguments[we+2];ae.children=fe}return C(T.type,ce,ae)},Le.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Le.createElement=function(T,U,Y){var ae,ce={},me=null;if(U!=null)for(ae in U.key!==void 0&&(me=""+U.key),U)R.call(U,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ce[ae]=U[ae]);var fe=arguments.length-2;if(fe===1)ce.children=Y;else if(1<fe){for(var we=Array(fe),be=0;be<fe;be++)we[be]=arguments[be+2];ce.children=we}if(T&&T.defaultProps)for(ae in fe=T.defaultProps,fe)ce[ae]===void 0&&(ce[ae]=fe[ae]);return C(T,me,ce)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(T){return{$$typeof:m,render:T}},Le.isValidElement=k,Le.lazy=function(T){return{$$typeof:E,_payload:{_status:-1,_result:T},_init:Ee}},Le.memo=function(T,U){return{$$typeof:g,type:T,compare:U===void 0?null:U}},Le.startTransition=function(T){var U=N.T,Y={};N.T=Y;try{var ae=T(),ce=N.S;ce!==null&&ce(Y,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(De,et)}catch(me){et(me)}finally{U!==null&&Y.types!==null&&(U.types=Y.types),N.T=U}},Le.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Le.use=function(T){return N.H.use(T)},Le.useActionState=function(T,U,Y){return N.H.useActionState(T,U,Y)},Le.useCallback=function(T,U){return N.H.useCallback(T,U)},Le.useContext=function(T){return N.H.useContext(T)},Le.useDebugValue=function(){},Le.useDeferredValue=function(T,U){return N.H.useDeferredValue(T,U)},Le.useEffect=function(T,U){return N.H.useEffect(T,U)},Le.useEffectEvent=function(T){return N.H.useEffectEvent(T)},Le.useId=function(){return N.H.useId()},Le.useImperativeHandle=function(T,U,Y){return N.H.useImperativeHandle(T,U,Y)},Le.useInsertionEffect=function(T,U){return N.H.useInsertionEffect(T,U)},Le.useLayoutEffect=function(T,U){return N.H.useLayoutEffect(T,U)},Le.useMemo=function(T,U){return N.H.useMemo(T,U)},Le.useOptimistic=function(T,U){return N.H.useOptimistic(T,U)},Le.useReducer=function(T,U,Y){return N.H.useReducer(T,U,Y)},Le.useRef=function(T){return N.H.useRef(T)},Le.useState=function(T){return N.H.useState(T)},Le.useSyncExternalStore=function(T,U,Y){return N.H.useSyncExternalStore(T,U,Y)},Le.useTransition=function(){return N.H.useTransition()},Le.version="19.2.3",Le}var J_;function wp(){return J_||(J_=1,_m.exports=SS()),_m.exports}var P=wp();const AS=TS(P);var Em={exports:{}},Yl={},Tm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function RS(){return W_||(W_=1,(function(r){function e(ee,de){var Ee=ee.length;ee.push(de);e:for(;0<Ee;){var et=Ee-1>>>1,B=ee[et];if(0<o(B,de))ee[et]=de,ee[Ee]=B,Ee=et;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var de=ee[0],Ee=ee.pop();if(Ee!==de){ee[0]=Ee;e:for(var et=0,B=ee.length,T=B>>>1;et<T;){var U=2*(et+1)-1,Y=ee[U],ae=U+1,ce=ee[ae];if(0>o(Y,Ee))ae<B&&0>o(ce,Y)?(ee[et]=ce,ee[ae]=Ee,et=ae):(ee[et]=Y,ee[U]=Ee,et=U);else if(ae<B&&0>o(ce,Ee))ee[et]=ce,ee[ae]=Ee,et=ae;else break e}}return de}function o(ee,de){var Ee=ee.sortIndex-de.sortIndex;return Ee!==0?Ee:ee.id-de.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,A=3,V=!1,G=!1,Z=!1,L=!1,ue=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function Se(ee){for(var de=n(g);de!==null;){if(de.callback===null)s(g);else if(de.startTime<=ee)s(g),de.sortIndex=de.expirationTime,e(p,de);else break;de=n(g)}}function Pe(ee){if(Z=!1,Se(ee),!G)if(n(p)!==null)G=!0,De||(De=!0,j());else{var de=n(g);de!==null&&Nt(Pe,de.startTime-ee)}}var De=!1,N=-1,R=5,C=-1;function O(){return L?!0:!(r.unstable_now()-C<R)}function k(){if(L=!1,De){var ee=r.unstable_now();C=ee;var de=!0;try{e:{G=!1,Z&&(Z=!1,he(N),N=-1),V=!0;var Ee=A;try{t:{for(Se(ee),w=n(p);w!==null&&!(w.expirationTime>ee&&O());){var et=w.callback;if(typeof et=="function"){w.callback=null,A=w.priorityLevel;var B=et(w.expirationTime<=ee);if(ee=r.unstable_now(),typeof B=="function"){w.callback=B,Se(ee),de=!0;break t}w===n(p)&&s(p),Se(ee)}else s(p);w=n(p)}if(w!==null)de=!0;else{var T=n(g);T!==null&&Nt(Pe,T.startTime-ee),de=!1}}break e}finally{w=null,A=Ee,V=!1}de=void 0}}finally{de?j():De=!1}}}var j;if(typeof re=="function")j=function(){re(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Rt=D.port2;D.port1.onmessage=k,j=function(){Rt.postMessage(null)}}else j=function(){ue(k,0)};function Nt(ee,de){N=ue(function(){ee(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(ee){switch(A){case 1:case 2:case 3:var de=3;break;default:de=A}var Ee=A;A=de;try{return ee()}finally{A=Ee}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Ee=A;A=ee;try{return de()}finally{A=Ee}},r.unstable_scheduleCallback=function(ee,de,Ee){var et=r.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?et+Ee:et):Ee=et,ee){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Ee+B,ee={id:E++,callback:de,priorityLevel:ee,startTime:Ee,expirationTime:B,sortIndex:-1},Ee>et?(ee.sortIndex=Ee,e(g,ee),n(p)===null&&ee===n(g)&&(Z?(he(N),N=-1):Z=!0,Nt(Pe,Ee-et))):(ee.sortIndex=B,e(p,ee),G||V||(G=!0,De||(De=!0,j()))),ee},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(ee){var de=A;return function(){var Ee=A;A=de;try{return ee.apply(this,arguments)}finally{A=Ee}}}})(wm)),wm}var Z_;function IS(){return Z_||(Z_=1,Tm.exports=RS()),Tm.exports}var bm={exports:{}},Nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function CS(){if(e0)return Nn;e0=1;var r=wp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Nn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Nn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Nn.requestFormReset=function(p){s.d.r(p)},Nn.unstable_batchedUpdates=function(p,g){return p(g)},Nn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Nn.version="19.2.3",Nn}var t0;function xS(){if(t0)return bm.exports;t0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bm.exports=CS(),bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function DS(){if(n0)return Yl;n0=1;var r=IS(),e=wp(),n=xS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),re=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ue:return"Profiler";case L:return"StrictMode";case Pe:return"Suspense";case De:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case re:return t.displayName||"Context";case he:return(t._context.displayName||"Context")+".Consumer";case Se:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:Rt(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Rt(t(i))}catch{}}return null}var Nt=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},et=[],B=-1;function T(t){return{current:t}}function U(t){0>B||(t.current=et[B],et[B]=null,B--)}function Y(t,i){B++,et[B]=t.current,t.current=i}var ae=T(null),ce=T(null),me=T(null),fe=T(null);function we(t,i){switch(Y(me,i),Y(ce,t),Y(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?y_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=y_(i),t=v_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}U(ae),Y(ae,t)}function be(){U(ae),U(ce),U(me)}function Ue(t){t.memoizedState!==null&&Y(fe,t);var i=ae.current,a=v_(i,t.type);i!==a&&(Y(ce,t),Y(ae,a))}function je(t){ce.current===t&&(U(ae),U(ce)),fe.current===t&&(U(fe),ql._currentValue=Ee)}var He,Qe;function Ae(t){if(He===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);He=i&&i[1]||"",Qe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+He+t+Qe}var _t=!1;function It(t,i){if(!t||_t)return"";_t=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var X=J}Reflect.construct(t,[],se)}else{try{se.call()}catch(J){X=J}t.call(se.prototype)}}else{try{throw Error()}catch(J){X=J}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var x=v.split(`
`),K=b.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<K.length&&!K[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===K.length)for(l=x.length-1,h=K.length-1;1<=l&&0<=h&&x[l]!==K[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==K[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==K[h]){var te=`
`+x[l].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=l&&0<=h);break}}}finally{_t=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ae(a):""}function en(t,i){switch(t.tag){case 26:case 27:case 5:return Ae(t.type);case 16:return Ae("Lazy");case 13:return t.child!==i&&i!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return It(t.type,!1);case 11:return It(t.type.render,!1);case 1:return It(t.type,!0);case 31:return Ae("Activity");default:return""}}function Cn(t){try{var i="",a=null;do i+=en(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xn=Object.prototype.hasOwnProperty,Gt=r.unstable_scheduleCallback,Xi=r.unstable_cancelCallback,ia=r.unstable_shouldYield,yr=r.unstable_requestPaint,kt=r.unstable_now,Vi=r.unstable_getCurrentPriorityLevel,Et=r.unstable_ImmediatePriority,Tt=r.unstable_UserBlockingPriority,Bn=r.unstable_NormalPriority,Ji=r.unstable_LowPriority,Wi=r.unstable_IdlePriority,ki=r.log,vi=r.unstable_setDisableYieldValue,on=null,gt=null;function qn(t){if(typeof ki=="function"&&vi(t),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(on,t)}catch{}}var ln=Math.clz32?Math.clz32:Ha,ra=Math.log,sa=Math.LN2;function Ha(t){return t>>>=0,t===0?32:31-(ra(t)/sa|0)|0}var Pi=256,un=262144,ni=4194304;function Hn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Hn(l):(v&=b,v!==0?h=Hn(v):a||(a=b&~t,a!==0&&(h=Hn(a))))):(b=l&~d,b!==0?h=Hn(b):v!==0?h=Hn(v):a||(a=l&~t,a!==0&&(h=Hn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Li(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Zr(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aa(){var t=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),t}function Ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Zi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tn(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,x=t.expirationTimes,K=t.hiddenUpdates;for(a=v&~a;0<a;){var te=31-ln(a),se=1<<te;b[te]=0,x[te]=-1;var X=K[te];if(X!==null)for(K[te]=null,te=0;te<X.length;te++){var J=X[te];J!==null&&(J.lane&=-536870913)}a&=~se}l!==0&&zi(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function zi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ln(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Gn(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ln(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function kn(t,i){var a=i&-i;return a=(a&42)!==0?1:Qn(a),(a&(t.suspendedLanes|i))!==0?0:a}function Qn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function er(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ji(){var t=de.p;return t!==0?t:(t=window.event,t===void 0?32:B_(t.type))}function es(t,i){var a=de.p;try{return de.p=t,i()}finally{de.p=a}}var _i=Math.random().toString(36).slice(2),Ct="__reactFiber$"+_i,nn="__reactProps$"+_i,Ei="__reactContainer$"+_i,tr="__reactEvents$"+_i,Pn="__reactListeners$"+_i,Fa="__reactHandles$"+_i,oa="__reactResources$"+_i,Bi="__reactMarker$"+_i;function vr(t){delete t[Ct],delete t[nn],delete t[tr],delete t[Pn],delete t[Fa]}function ii(t){var i=t[Ct];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ei]||a[Ct]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=A_(t);t!==null;){if(a=t[Ct])return a;t=A_(t)}return i}t=a,a=t.parentNode}return null}function yn(t){if(t=t[Ct]||t[Ei]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function I(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function q(t){var i=t[oa];return i||(i=t[oa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function $(t){t[Bi]=!0}var le=new Set,ge={};function Re(t,i){Ce(t,i),Ce(t+"Capture",i)}function Ce(t,i){for(ge[t]=i,t=0;t<i.length;t++)le.add(i[t])}var yt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},Ye={};function ze(t){return xn.call(Ye,t)?!0:xn.call(lt,t)?!1:yt.test(t)?Ye[t]=!0:(lt[t]=!0,!1)}function xt(t,i,a){if(ze(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function vn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function _n(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qi(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _r(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Mt(t){if(!t._valueTracker){var i=qi(t)?"checked":"value";t._valueTracker=_r(t,i,""+t[i])}}function tl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=qi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ga(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Er=/[\n"\\]/g;function Pt(t){return t.replace(Er,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ts(t,i,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Bt(i)):t.value!==""+Bt(i)&&(t.value=""+Bt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Qa(t,v,Bt(i)):a!=null?Qa(t,v,Bt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Bt(b):t.removeAttribute("name")}function la(t,i,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Mt(t);return}a=a!=null?""+Bt(a):"",i=i!=null?""+Bt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Mt(t)}function Qa(t,i,a){i==="number"&&Ga(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function rt(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ua(t,i,a){if(i!=null&&(i=""+Bt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Bt(a):""}function ns(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Nt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Bt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Mt(t)}function Ti(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Tf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Tf.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function ju(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&nl(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&nl(t,d,i[d])}function il(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nr(t){return bf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function cn(){}var Ya=null;function Ka(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tr=null,ri=null;function Bu(t){var i=yn(t);if(i&&(t=i.stateNode)){var a=t[nn]||null;e:switch(t=i.stateNode,i.type){case"input":if(ts(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[nn]||null;if(!h)throw Error(s(90));ts(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&tl(l)}break e;case"textarea":ua(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&rt(t,!!a.multiple,i,!1)}}}var rl=!1;function qu(t,i,a){if(rl)return t(i,a);rl=!0;try{var l=t(i);return l}finally{if(rl=!1,(Tr!==null||ri!==null)&&(Uc(),Tr&&(i=Tr,t=ri,ri=Tr=null,Bu(i),t)))for(i=0;i<t.length;i++)Bu(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[nn]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=!1;if(Hi)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){sl=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{sl=!1}var si=null,$a=null,rr=null;function is(){if(rr)return rr;var t,i=$a,a=i.length,l,h="value"in si?si.value:si.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return rr=h.slice(t,1<l?1-l:void 0)}function ca(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function rs(){return!0}function wt(){return!1}function Dn(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?rs:wt,this.isPropagationStopped=wt,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),i}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=Dn(wr),ss=w({},wr,{view:0,detail:0}),Hu=Dn(ss),as,Xa,Ln,fa=w({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ln&&(Ln&&t.type==="mousemove"?(as=t.screenX-Ln.screenX,Xa=t.screenY-Ln.screenY):Xa=as=0,Ln=t),as)},movementY:function(t){return"movementY"in t?t.movementY:Xa}}),Fu=Dn(fa),da=w({},fa,{dataTransfer:0}),Gu=Dn(da),al=w({},ss,{relatedTarget:0}),os=Dn(al),Qu=w({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ja=Dn(Qu),Sf=w({},wr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yu=Dn(Sf),ma=w({},wr,{data:0}),ol=Dn(ma),Ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ll={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ul={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $u(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ul[t])?!!i[t]:!1}function ls(){return $u}var Xu=w({},ss,{key:function(t){if(t.key){var i=Ku[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ca(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ll[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(t){return t.type==="keypress"?ca(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ca(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ju=Dn(Xu),br=w({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=Dn(br),Wu=w({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),Zu=Dn(Wu),ec=w({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wa=Dn(ec),Un=w({},fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tc=Dn(Un),nc=w({},wr,{newState:0,oldState:0}),us=Dn(nc),c=[9,13,27,32],y=Hi&&"CompositionEvent"in window,_=null;Hi&&"documentMode"in document&&(_=document.documentMode);var S=Hi&&"TextEvent"in window&&!_,F=Hi&&(!y||_&&8<_&&11>=_),W=" ",pe=!1;function ut(t,i){switch(t){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fe=!1;function hn(t,i){switch(t){case"compositionend":return Qt(i);case"keypress":return i.which!==32?null:(pe=!0,W);case"textInput":return t=i.data,t===W&&pe?null:t;default:return null}}function fn(t,i){if(Fe)return t==="compositionend"||!y&&ut(t,i)?(t=is(),rr=$a=si=null,Fe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return F&&i.locale!=="ko"?null:i.data;default:return null}}var cs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!cs[t.type]:i==="textarea"}function pa(t,i,a,l){Tr?ri?ri.push(l):ri=[l]:Tr=l,i=Gc(i,"onChange"),0<i.length&&(a=new ha("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Sr=null,hl=null;function Kw(t){h_(t,0)}function ic(t){var i=I(t);if(tl(i))return t}function Dg(t,i){if(t==="change")return i}var Ng=!1;if(Hi){var Af;if(Hi){var Rf="oninput"in document;if(!Rf){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Rf=typeof Mg.oninput=="function"}Af=Rf}else Af=!1;Ng=Af&&(!document.documentMode||9<document.documentMode)}function Og(){Sr&&(Sr.detachEvent("onpropertychange",Vg),hl=Sr=null)}function Vg(t){if(t.propertyName==="value"&&ic(hl)){var i=[];pa(i,hl,t,Ka(t)),qu(Kw,i)}}function $w(t,i,a){t==="focusin"?(Og(),Sr=i,hl=a,Sr.attachEvent("onpropertychange",Vg)):t==="focusout"&&Og()}function Xw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ic(hl)}function Jw(t,i){if(t==="click")return ic(i)}function Ww(t,i){if(t==="input"||t==="change")return ic(i)}function Zw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ai=typeof Object.is=="function"?Object.is:Zw;function fl(t,i){if(ai(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!xn.call(i,h)||!ai(t[h],i[h]))return!1}return!0}function kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pg(t,i){var a=kg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kg(a)}}function Lg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Lg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ga(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ga(t.document)}return i}function If(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var eb=Hi&&"documentMode"in document&&11>=document.documentMode,Za=null,Cf=null,dl=null,xf=!1;function zg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||Za==null||Za!==Ga(l)||(l=Za,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Gc(Cf,"onSelect"),0<l.length&&(i=new ha("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Za)))}function ga(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var eo={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},Df={},jg={};Hi&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function ya(t){if(Df[t])return Df[t];if(!eo[t])return t;var i=eo[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in jg)return Df[t]=i[a];return t}var Bg=ya("animationend"),qg=ya("animationiteration"),Hg=ya("animationstart"),tb=ya("transitionrun"),nb=ya("transitionstart"),ib=ya("transitioncancel"),Fg=ya("transitionend"),Gg=new Map,Nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nf.push("scrollEnd");function Fi(t,i){Gg.set(t,i),Re(i,[t])}var rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},wi=[],to=0,Mf=0;function sc(){for(var t=to,i=Mf=to=0;i<t;){var a=wi[i];wi[i++]=null;var l=wi[i];wi[i++]=null;var h=wi[i];wi[i++]=null;var d=wi[i];if(wi[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Qg(a,h,d)}}function ac(t,i,a,l){wi[to++]=t,wi[to++]=i,wi[to++]=a,wi[to++]=l,Mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Of(t,i,a,l){return ac(t,i,a,l),oc(t)}function va(t,i){return ac(t,null,null,i),oc(t)}function Qg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ln(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function oc(t){if(50<kl)throw kl=0,qd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var no={};function rb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(t,i,a,l){return new rb(t,i,a,l)}function Vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ar(t,i){var a=t.alternate;return a===null?(a=oi(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Yg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function lc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Vf(t)&&(v=1);else if(typeof t=="string")v=uS(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=oi(31,a,i,h),t.elementType=C,t.lanes=d,t;case Z:return _a(a.children,h,d,i);case L:v=8,h|=24;break;case ue:return t=oi(12,a,i,h|2),t.elementType=ue,t.lanes=d,t;case Pe:return t=oi(13,a,i,h),t.elementType=Pe,t.lanes=d,t;case De:return t=oi(19,a,i,h),t.elementType=De,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case he:v=9;break e;case Se:v=11;break e;case N:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=oi(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function _a(t,i,a,l){return t=oi(7,t,l,i),t.lanes=a,t}function kf(t,i,a){return t=oi(6,t,null,i),t.lanes=a,t}function Kg(t){var i=oi(18,null,null,0);return i.stateNode=t,i}function Pf(t,i,a){return i=oi(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var $g=new WeakMap;function bi(t,i){if(typeof t=="object"&&t!==null){var a=$g.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Cn(i)},$g.set(t,i),i)}return{value:t,source:i,stack:Cn(i)}}var io=[],ro=0,uc=null,ml=0,Si=[],Ai=0,hs=null,sr=1,ar="";function Rr(t,i){io[ro++]=ml,io[ro++]=uc,uc=t,ml=i}function Xg(t,i,a){Si[Ai++]=sr,Si[Ai++]=ar,Si[Ai++]=hs,hs=t;var l=sr;t=ar;var h=32-ln(l)-1;l&=~(1<<h),a+=1;var d=32-ln(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,sr=1<<32-ln(i)+h|a<<h|l,ar=d+t}else sr=1<<d|a<<h|l,ar=t}function Lf(t){t.return!==null&&(Rr(t,1),Xg(t,1,0))}function Uf(t){for(;t===uc;)uc=io[--ro],io[ro]=null,ml=io[--ro],io[ro]=null;for(;t===hs;)hs=Si[--Ai],Si[Ai]=null,ar=Si[--Ai],Si[Ai]=null,sr=Si[--Ai],Si[Ai]=null}function Jg(t,i){Si[Ai++]=sr,Si[Ai++]=ar,Si[Ai++]=hs,sr=i.id,ar=i.overflow,hs=t}var En=null,bt=null,tt=!1,fs=null,Ri=!1,zf=Error(s(519));function ds(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(bi(i,t)),zf}function Wg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Ct]=t,i[nn]=l,a){case"dialog":$e("cancel",i),$e("close",i);break;case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(a=0;a<Ll.length;a++)$e(Ll[a],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"input":$e("invalid",i),la(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":$e("invalid",i);break;case"textarea":$e("invalid",i),ns(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||p_(i.textContent,a)?(l.popover!=null&&($e("beforetoggle",i),$e("toggle",i)),l.onScroll!=null&&$e("scroll",i),l.onScrollEnd!=null&&$e("scrollend",i),l.onClick!=null&&(i.onclick=cn),i=!0):i=!1,i||ds(t,!0)}function Zg(t){for(En=t.return;En;)switch(En.tag){case 5:case 31:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:En=En.return}}function so(t){if(t!==En)return!1;if(!tt)return Zg(t),tt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||im(t.type,t.memoizedProps)),a=!a),a&&bt&&ds(t),Zg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));bt=S_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));bt=S_(t)}else i===27?(i=bt,Is(t.type)?(t=lm,lm=null,bt=t):bt=i):bt=En?Ci(t.stateNode.nextSibling):null;return!0}function Ea(){bt=En=null,tt=!1}function jf(){var t=fs;return t!==null&&(Wn===null?Wn=t:Wn.push.apply(Wn,t),fs=null),t}function pl(t){fs===null?fs=[t]:fs.push(t)}var Bf=T(null),Ta=null,Ir=null;function ms(t,i,a){Y(Bf,i._currentValue),i._currentValue=a}function Cr(t){t._currentValue=Bf.current,U(Bf)}function qf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Hf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var x=0;x<i.length;x++)if(b.context===i[x]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),qf(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),qf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ao(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;ai(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===fe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}h=h.return}t!==null&&Hf(i,t,a,l),i.flags|=262144}function cc(t){for(t=t.firstContext;t!==null;){if(!ai(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function wa(t){Ta=t,Ir=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Tn(t){return ey(Ta,t)}function hc(t,i){return Ta===null&&wa(t),ey(t,i)}function ey(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ir===null){if(t===null)throw Error(s(308));Ir=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ir=Ir.next=i;return a}var sb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ab=r.unstable_scheduleCallback,ob=r.unstable_NormalPriority,Yt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new sb,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&ab(ob,function(){t.controller.abort()})}var yl=null,Gf=0,oo=0,lo=null;function lb(t,i){if(yl===null){var a=yl=[];Gf=0,oo=Kd(),lo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,i.then(ty,ty),i}function ty(){if(--Gf===0&&yl!==null){lo!==null&&(lo.status="fulfilled");var t=yl;yl=null,oo=0,lo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ub(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ny=ee.S;ee.S=function(t,i){zv=kt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&lb(t,i),ny!==null&&ny(t,i)};var ba=T(null);function Qf(){var t=ba.current;return t!==null?t:vt.pooledCache}function fc(t,i){i===null?Y(ba,ba.current):Y(ba,i.pool)}function iy(){var t=Qf();return t===null?null:{parent:Yt._currentValue,pool:t}}var uo=Error(s(460)),Yf=Error(s(474)),dc=Error(s(542)),mc={then:function(){}};function ry(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(cn,cn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,oy(t),t;default:if(typeof i.status=="string")i.then(cn,cn);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,oy(t),t}throw Aa=i,uo}}function Sa(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Aa=a,uo):a}}var Aa=null;function ay(){if(Aa===null)throw Error(s(459));var t=Aa;return Aa=null,t}function oy(t){if(t===uo||t===dc)throw Error(s(483))}var co=null,vl=0;function pc(t){var i=vl;return vl+=1,co===null&&(co=[]),sy(co,t,i)}function _l(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function gc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ly(t){function i(z,M){if(t){var Q=z.deletions;Q===null?(z.deletions=[M],z.flags|=16):Q.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)i(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function h(z,M){return z=Ar(z,M),z.index=0,z.sibling=null,z}function d(z,M,Q){return z.index=Q,t?(Q=z.alternate,Q!==null?(Q=Q.index,Q<M?(z.flags|=67108866,M):Q):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function b(z,M,Q,ne){return M===null||M.tag!==6?(M=kf(Q,z.mode,ne),M.return=z,M):(M=h(M,Q),M.return=z,M)}function x(z,M,Q,ne){var xe=Q.type;return xe===Z?te(z,M,Q.props.children,ne,Q.key):M!==null&&(M.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===R&&Sa(xe)===M.type)?(M=h(M,Q.props),_l(M,Q),M.return=z,M):(M=lc(Q.type,Q.key,Q.props,null,z.mode,ne),_l(M,Q),M.return=z,M)}function K(z,M,Q,ne){return M===null||M.tag!==4||M.stateNode.containerInfo!==Q.containerInfo||M.stateNode.implementation!==Q.implementation?(M=Pf(Q,z.mode,ne),M.return=z,M):(M=h(M,Q.children||[]),M.return=z,M)}function te(z,M,Q,ne,xe){return M===null||M.tag!==7?(M=_a(Q,z.mode,ne,xe),M.return=z,M):(M=h(M,Q),M.return=z,M)}function se(z,M,Q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=kf(""+M,z.mode,Q),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case V:return Q=lc(M.type,M.key,M.props,null,z.mode,Q),_l(Q,M),Q.return=z,Q;case G:return M=Pf(M,z.mode,Q),M.return=z,M;case R:return M=Sa(M),se(z,M,Q)}if(Nt(M)||j(M))return M=_a(M,z.mode,Q,null),M.return=z,M;if(typeof M.then=="function")return se(z,pc(M),Q);if(M.$$typeof===re)return se(z,hc(z,M),Q);gc(z,M)}return null}function X(z,M,Q,ne){var xe=M!==null?M.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return xe!==null?null:b(z,M,""+Q,ne);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case V:return Q.key===xe?x(z,M,Q,ne):null;case G:return Q.key===xe?K(z,M,Q,ne):null;case R:return Q=Sa(Q),X(z,M,Q,ne)}if(Nt(Q)||j(Q))return xe!==null?null:te(z,M,Q,ne,null);if(typeof Q.then=="function")return X(z,M,pc(Q),ne);if(Q.$$typeof===re)return X(z,M,hc(z,Q),ne);gc(z,Q)}return null}function J(z,M,Q,ne,xe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return z=z.get(Q)||null,b(M,z,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case V:return z=z.get(ne.key===null?Q:ne.key)||null,x(M,z,ne,xe);case G:return z=z.get(ne.key===null?Q:ne.key)||null,K(M,z,ne,xe);case R:return ne=Sa(ne),J(z,M,Q,ne,xe)}if(Nt(ne)||j(ne))return z=z.get(Q)||null,te(M,z,ne,xe,null);if(typeof ne.then=="function")return J(z,M,Q,pc(ne),xe);if(ne.$$typeof===re)return J(z,M,Q,hc(M,ne),xe);gc(M,ne)}return null}function _e(z,M,Q,ne){for(var xe=null,st=null,Te=M,qe=M=0,Je=null;Te!==null&&qe<Q.length;qe++){Te.index>qe?(Je=Te,Te=null):Je=Te.sibling;var at=X(z,Te,Q[qe],ne);if(at===null){Te===null&&(Te=Je);break}t&&Te&&at.alternate===null&&i(z,Te),M=d(at,M,qe),st===null?xe=at:st.sibling=at,st=at,Te=Je}if(qe===Q.length)return a(z,Te),tt&&Rr(z,qe),xe;if(Te===null){for(;qe<Q.length;qe++)Te=se(z,Q[qe],ne),Te!==null&&(M=d(Te,M,qe),st===null?xe=Te:st.sibling=Te,st=Te);return tt&&Rr(z,qe),xe}for(Te=l(Te);qe<Q.length;qe++)Je=J(Te,z,qe,Q[qe],ne),Je!==null&&(t&&Je.alternate!==null&&Te.delete(Je.key===null?qe:Je.key),M=d(Je,M,qe),st===null?xe=Je:st.sibling=Je,st=Je);return t&&Te.forEach(function(Ms){return i(z,Ms)}),tt&&Rr(z,qe),xe}function Me(z,M,Q,ne){if(Q==null)throw Error(s(151));for(var xe=null,st=null,Te=M,qe=M=0,Je=null,at=Q.next();Te!==null&&!at.done;qe++,at=Q.next()){Te.index>qe?(Je=Te,Te=null):Je=Te.sibling;var Ms=X(z,Te,at.value,ne);if(Ms===null){Te===null&&(Te=Je);break}t&&Te&&Ms.alternate===null&&i(z,Te),M=d(Ms,M,qe),st===null?xe=Ms:st.sibling=Ms,st=Ms,Te=Je}if(at.done)return a(z,Te),tt&&Rr(z,qe),xe;if(Te===null){for(;!at.done;qe++,at=Q.next())at=se(z,at.value,ne),at!==null&&(M=d(at,M,qe),st===null?xe=at:st.sibling=at,st=at);return tt&&Rr(z,qe),xe}for(Te=l(Te);!at.done;qe++,at=Q.next())at=J(Te,z,qe,at.value,ne),at!==null&&(t&&at.alternate!==null&&Te.delete(at.key===null?qe:at.key),M=d(at,M,qe),st===null?xe=at:st.sibling=at,st=at);return t&&Te.forEach(function(ES){return i(z,ES)}),tt&&Rr(z,qe),xe}function mt(z,M,Q,ne){if(typeof Q=="object"&&Q!==null&&Q.type===Z&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case V:e:{for(var xe=Q.key;M!==null;){if(M.key===xe){if(xe=Q.type,xe===Z){if(M.tag===7){a(z,M.sibling),ne=h(M,Q.props.children),ne.return=z,z=ne;break e}}else if(M.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===R&&Sa(xe)===M.type){a(z,M.sibling),ne=h(M,Q.props),_l(ne,Q),ne.return=z,z=ne;break e}a(z,M);break}else i(z,M);M=M.sibling}Q.type===Z?(ne=_a(Q.props.children,z.mode,ne,Q.key),ne.return=z,z=ne):(ne=lc(Q.type,Q.key,Q.props,null,z.mode,ne),_l(ne,Q),ne.return=z,z=ne)}return v(z);case G:e:{for(xe=Q.key;M!==null;){if(M.key===xe)if(M.tag===4&&M.stateNode.containerInfo===Q.containerInfo&&M.stateNode.implementation===Q.implementation){a(z,M.sibling),ne=h(M,Q.children||[]),ne.return=z,z=ne;break e}else{a(z,M);break}else i(z,M);M=M.sibling}ne=Pf(Q,z.mode,ne),ne.return=z,z=ne}return v(z);case R:return Q=Sa(Q),mt(z,M,Q,ne)}if(Nt(Q))return _e(z,M,Q,ne);if(j(Q)){if(xe=j(Q),typeof xe!="function")throw Error(s(150));return Q=xe.call(Q),Me(z,M,Q,ne)}if(typeof Q.then=="function")return mt(z,M,pc(Q),ne);if(Q.$$typeof===re)return mt(z,M,hc(z,Q),ne);gc(z,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,M!==null&&M.tag===6?(a(z,M.sibling),ne=h(M,Q),ne.return=z,z=ne):(a(z,M),ne=kf(Q,z.mode,ne),ne.return=z,z=ne),v(z)):a(z,M)}return function(z,M,Q,ne){try{vl=0;var xe=mt(z,M,Q,ne);return co=null,xe}catch(Te){if(Te===uo||Te===dc)throw Te;var st=oi(29,Te,null,z.mode);return st.lanes=ne,st.return=z,st}finally{}}}var Ra=ly(!0),uy=ly(!1),ps=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ys(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ot&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=oc(t),Qg(t,null,a),i}return ac(t,l,i,a),oc(t)}function El(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Gn(t,a)}}function Xf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Jf=!1;function Tl(){if(Jf){var t=lo;if(t!==null)throw t}}function wl(t,i,a,l){Jf=!1;var h=t.updateQueue;ps=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var x=b,K=x.next;x.next=null,v===null?d=K:v.next=K,v=x;var te=t.alternate;te!==null&&(te=te.updateQueue,b=te.lastBaseUpdate,b!==v&&(b===null?te.firstBaseUpdate=K:b.next=K,te.lastBaseUpdate=x))}if(d!==null){var se=h.baseState;v=0,te=K=x=null,b=d;do{var X=b.lane&-536870913,J=X!==b.lane;if(J?(Xe&X)===X:(l&X)===X){X!==0&&X===oo&&(Jf=!0),te!==null&&(te=te.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var _e=t,Me=b;X=i;var mt=a;switch(Me.tag){case 1:if(_e=Me.payload,typeof _e=="function"){se=_e.call(mt,se,X);break e}se=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Me.payload,X=typeof _e=="function"?_e.call(mt,se,X):_e,X==null)break e;se=w({},se,X);break e;case 2:ps=!0}}X=b.callback,X!==null&&(t.flags|=64,J&&(t.flags|=8192),J=h.callbacks,J===null?h.callbacks=[X]:J.push(X))}else J={lane:X,tag:b.tag,payload:b.payload,callback:b.callback,next:null},te===null?(K=te=J,x=se):te=te.next=J,v|=X;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;J=b,b=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);te===null&&(x=se),h.baseState=x,h.firstBaseUpdate=K,h.lastBaseUpdate=te,d===null&&(h.shared.lanes=0),ws|=v,t.lanes=v,t.memoizedState=se}}function cy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function hy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)cy(a[t],i)}var ho=T(null),yc=T(0);function fy(t,i){t=Lr,Y(yc,t),Y(ho,i),Lr=t|i.baseLanes}function Wf(){Y(yc,Lr),Y(ho,ho.current)}function Zf(){Lr=yc.current,U(ho),U(yc)}var li=T(null),Ii=null;function vs(t){var i=t.alternate;Y(qt,qt.current&1),Y(li,t),Ii===null&&(i===null||ho.current!==null||i.memoizedState!==null)&&(Ii=t)}function ed(t){Y(qt,qt.current),Y(li,t),Ii===null&&(Ii=t)}function dy(t){t.tag===22?(Y(qt,qt.current),Y(li,t),Ii===null&&(Ii=t)):_s()}function _s(){Y(qt,qt.current),Y(li,li.current)}function ui(t){U(li),Ii===t&&(Ii=null),U(qt)}var qt=T(0);function vc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||am(a)||om(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var xr=0,Be=null,ft=null,Kt=null,_c=!1,fo=!1,Ia=!1,Ec=0,bl=0,mo=null,cb=0;function Lt(){throw Error(s(321))}function td(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!ai(t[a],i[a]))return!1;return!0}function nd(t,i,a,l,h,d){return xr=d,Be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ee.H=t===null||t.memoizedState===null?Xy:yd,Ia=!1,d=a(l,h),Ia=!1,fo&&(d=py(i,a,l,h)),my(t),d}function my(t){ee.H=Rl;var i=ft!==null&&ft.next!==null;if(xr=0,Kt=ft=Be=null,_c=!1,bl=0,mo=null,i)throw Error(s(300));t===null||$t||(t=t.dependencies,t!==null&&cc(t)&&($t=!0))}function py(t,i,a,l){Be=t;var h=0;do{if(fo&&(mo=null),bl=0,fo=!1,25<=h)throw Error(s(301));if(h+=1,Kt=ft=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}ee.H=Jy,d=i(a,l)}while(fo);return d}function hb(){var t=ee.H,i=t.useState()[0];return i=typeof i.then=="function"?Sl(i):i,t=t.useState()[0],(ft!==null?ft.memoizedState:null)!==t&&(Be.flags|=1024),i}function id(){var t=Ec!==0;return Ec=0,t}function rd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function sd(t){if(_c){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}_c=!1}xr=0,Kt=ft=Be=null,fo=!1,bl=Ec=0,mo=null}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Be.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function Ht(){if(ft===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var i=Kt===null?Be.memoizedState:Kt.next;if(i!==null)Kt=i,ft=t;else{if(t===null)throw Be.alternate===null?Error(s(467)):Error(s(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Kt===null?Be.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function Tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var i=bl;return bl+=1,mo===null&&(mo=[]),t=sy(mo,t,i),i=Be,(Kt===null?i.memoizedState:Kt.next)===null&&(i=i.alternate,ee.H=i===null||i.memoizedState===null?Xy:yd),t}function wc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===re)return Tn(t)}throw Error(s(438,String(t)))}function ad(t){var i=null,a=Be.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Tc(),Be.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Dr(t,i){return typeof i=="function"?i(t):i}function bc(t){var i=Ht();return od(i,ft,t)}function od(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=v=null,x=null,K=i,te=!1;do{var se=K.lane&-536870913;if(se!==K.lane?(Xe&se)===se:(xr&se)===se){var X=K.revertLane;if(X===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),se===oo&&(te=!0);else if((xr&X)===X){K=K.next,X===oo&&(te=!0);continue}else se={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},x===null?(b=x=se,v=d):x=x.next=se,Be.lanes|=X,ws|=X;se=K.action,Ia&&a(d,se),d=K.hasEagerState?K.eagerState:a(d,se)}else X={lane:se,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},x===null?(b=x=X,v=d):x=x.next=X,Be.lanes|=se,ws|=se;K=K.next}while(K!==null&&K!==i);if(x===null?v=d:x.next=b,!ai(d,t.memoizedState)&&($t=!0,te&&(a=lo,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ld(t){var i=Ht(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);ai(d,i.memoizedState)||($t=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function gy(t,i,a){var l=Be,h=Ht(),d=tt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!ai((ft||h).memoizedState,a);if(v&&(h.memoizedState=a,$t=!0),h=h.queue,hd(_y.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Kt!==null&&Kt.memoizedState.tag&1){if(l.flags|=2048,po(9,{destroy:void 0},vy.bind(null,l,h,a,i),null),vt===null)throw Error(s(349));d||(xr&127)!==0||yy(l,i,a)}return a}function yy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Be.updateQueue,i===null?(i=Tc(),Be.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function vy(t,i,a,l){i.value=a,i.getSnapshot=l,Ey(i)&&Ty(t)}function _y(t,i,a){return a(function(){Ey(i)&&Ty(t)})}function Ey(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!ai(t,a)}catch{return!0}}function Ty(t){var i=va(t,2);i!==null&&Zn(i,t,2)}function ud(t){var i=zn();if(typeof t=="function"){var a=t;if(t=a(),Ia){qn(!0);try{a()}finally{qn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:t},i}function wy(t,i,a,l){return t.baseState=a,od(t,ft,typeof l=="function"?l:Dr)}function fb(t,i,a,l,h){if(Rc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};ee.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,by(i,d)):(d.next=a.next,i.pending=a.next=d)}}function by(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=ee.T,v={};ee.T=v;try{var b=a(h,l),x=ee.S;x!==null&&x(v,b),Sy(t,i,b)}catch(K){cd(t,i,K)}finally{d!==null&&v.types!==null&&(d.types=v.types),ee.T=d}}else try{d=a(h,l),Sy(t,i,d)}catch(K){cd(t,i,K)}}function Sy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ay(t,i,l)},function(l){return cd(t,i,l)}):Ay(t,i,a)}function Ay(t,i,a){i.status="fulfilled",i.value=a,Ry(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,by(t,a)))}function cd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ry(i),i=i.next;while(i!==l)}t.action=null}function Ry(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Iy(t,i){return i}function Cy(t,i){if(tt){var a=vt.formState;if(a!==null){e:{var l=Be;if(tt){if(bt){t:{for(var h=bt,d=Ri;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ci(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){bt=Ci(h.nextSibling),l=h.data==="F!";break e}}ds(l)}l=!1}l&&(i=a[0])}}return a=zn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iy,lastRenderedState:i},a.queue=l,a=Yy.bind(null,Be,l),l.dispatch=a,l=ud(!1),d=gd.bind(null,Be,!1,l.queue),l=zn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=fb.bind(null,Be,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function xy(t){var i=Ht();return Dy(i,ft,t)}function Dy(t,i,a){if(i=od(t,i,Iy)[0],t=bc(Dr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Sl(i)}catch(v){throw v===uo?dc:v}else l=i;i=Ht();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Be.flags|=2048,po(9,{destroy:void 0},db.bind(null,h,a),null)),[l,d,t]}function db(t,i){t.action=i}function Ny(t){var i=Ht(),a=ft;if(a!==null)return Dy(i,a,t);Ht(),i=i.memoizedState,a=Ht();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function po(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Be.updateQueue,i===null&&(i=Tc(),Be.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function My(){return Ht().memoizedState}function Sc(t,i,a,l){var h=zn();Be.flags|=t,h.memoizedState=po(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ac(t,i,a,l){var h=Ht();l=l===void 0?null:l;var d=h.memoizedState.inst;ft!==null&&l!==null&&td(l,ft.memoizedState.deps)?h.memoizedState=po(i,d,a,l):(Be.flags|=t,h.memoizedState=po(1|i,d,a,l))}function Oy(t,i){Sc(8390656,8,t,i)}function hd(t,i){Ac(2048,8,t,i)}function mb(t){Be.flags|=4;var i=Be.updateQueue;if(i===null)i=Tc(),Be.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Vy(t){var i=Ht().memoizedState;return mb({ref:i,nextImpl:t}),function(){if((ot&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ky(t,i){return Ac(4,2,t,i)}function Py(t,i){return Ac(4,4,t,i)}function Ly(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Uy(t,i,a){a=a!=null?a.concat([t]):null,Ac(4,4,Ly.bind(null,i,t),a)}function fd(){}function zy(t,i){var a=Ht();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&td(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function jy(t,i){var a=Ht();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&td(i,l[1]))return l[0];if(l=t(),Ia){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[l,i],l}function dd(t,i,a){return a===void 0||(xr&1073741824)!==0&&(Xe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Bv(),Be.lanes|=t,ws|=t,a)}function By(t,i,a,l){return ai(a,i)?a:ho.current!==null?(t=dd(t,a,l),ai(t,i)||($t=!0),t):(xr&42)===0||(xr&1073741824)!==0&&(Xe&261930)===0?($t=!0,t.memoizedState=a):(t=Bv(),Be.lanes|=t,ws|=t,i)}function qy(t,i,a,l,h){var d=de.p;de.p=d!==0&&8>d?d:8;var v=ee.T,b={};ee.T=b,gd(t,!1,i,a);try{var x=h(),K=ee.S;if(K!==null&&K(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var te=ub(x,l);Al(t,i,te,fi(t))}else Al(t,i,l,fi(t))}catch(se){Al(t,i,{then:function(){},status:"rejected",reason:se},fi())}finally{de.p=d,v!==null&&b.types!==null&&(v.types=b.types),ee.T=v}}function pb(){}function md(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Hy(t).queue;qy(t,h,i,Ee,a===null?pb:function(){return Fy(t),a(l)})}function Hy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:Ee},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Fy(t){var i=Hy(t);i.next===null&&(i=t.alternate.memoizedState),Al(t,i.next.queue,{},fi())}function pd(){return Tn(ql)}function Gy(){return Ht().memoizedState}function Qy(){return Ht().memoizedState}function gb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=fi();t=gs(a);var l=ys(i,t,a);l!==null&&(Zn(l,i,a),El(l,i,a)),i={cache:Ff()},t.payload=i;return}i=i.return}}function yb(t,i,a){var l=fi();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Rc(t)?Ky(i,a):(a=Of(t,i,a,l),a!==null&&(Zn(a,t,l),$y(a,i,l)))}function Yy(t,i,a){var l=fi();Al(t,i,a,l)}function Al(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rc(t))Ky(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,ai(b,v))return ac(t,i,h,0),vt===null&&sc(),!1}catch{}finally{}if(a=Of(t,i,h,l),a!==null)return Zn(a,t,l),$y(a,i,l),!0}return!1}function gd(t,i,a,l){if(l={lane:2,revertLane:Kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Rc(t)){if(i)throw Error(s(479))}else i=Of(t,a,l,2),i!==null&&Zn(i,t,2)}function Rc(t){var i=t.alternate;return t===Be||i!==null&&i===Be}function Ky(t,i){fo=_c=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function $y(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Gn(t,a)}}var Rl={readContext:Tn,use:wc,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};Rl.useEffectEvent=Lt;var Xy={readContext:Tn,use:wc,useCallback:function(t,i){return zn().memoizedState=[t,i===void 0?null:i],t},useContext:Tn,useEffect:Oy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Sc(4194308,4,Ly.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Sc(4194308,4,t,i)},useInsertionEffect:function(t,i){Sc(4,2,t,i)},useMemo:function(t,i){var a=zn();i=i===void 0?null:i;var l=t();if(Ia){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=zn();if(a!==void 0){var h=a(i);if(Ia){qn(!0);try{a(i)}finally{qn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=yb.bind(null,Be,t),[l.memoizedState,t]},useRef:function(t){var i=zn();return t={current:t},i.memoizedState=t},useState:function(t){t=ud(t);var i=t.queue,a=Yy.bind(null,Be,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:fd,useDeferredValue:function(t,i){var a=zn();return dd(a,t,i)},useTransition:function(){var t=ud(!1);return t=qy.bind(null,Be,t.queue,!0,!1),zn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Be,h=zn();if(tt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),vt===null)throw Error(s(349));(Xe&127)!==0||yy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Oy(_y.bind(null,l,d,t),[t]),l.flags|=2048,po(9,{destroy:void 0},vy.bind(null,l,d,a,i),null),a},useId:function(){var t=zn(),i=vt.identifierPrefix;if(tt){var a=ar,l=sr;a=(l&~(1<<32-ln(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Ec++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=cb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:pd,useFormState:Cy,useActionState:Cy,useOptimistic:function(t){var i=zn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gd.bind(null,Be,!0,a),a.dispatch=i,[t,i]},useMemoCache:ad,useCacheRefresh:function(){return zn().memoizedState=gb.bind(null,Be)},useEffectEvent:function(t){var i=zn(),a={impl:t};return i.memoizedState=a,function(){if((ot&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},yd={readContext:Tn,use:wc,useCallback:zy,useContext:Tn,useEffect:hd,useImperativeHandle:Uy,useInsertionEffect:ky,useLayoutEffect:Py,useMemo:jy,useReducer:bc,useRef:My,useState:function(){return bc(Dr)},useDebugValue:fd,useDeferredValue:function(t,i){var a=Ht();return By(a,ft.memoizedState,t,i)},useTransition:function(){var t=bc(Dr)[0],i=Ht().memoizedState;return[typeof t=="boolean"?t:Sl(t),i]},useSyncExternalStore:gy,useId:Gy,useHostTransitionStatus:pd,useFormState:xy,useActionState:xy,useOptimistic:function(t,i){var a=Ht();return wy(a,ft,t,i)},useMemoCache:ad,useCacheRefresh:Qy};yd.useEffectEvent=Vy;var Jy={readContext:Tn,use:wc,useCallback:zy,useContext:Tn,useEffect:hd,useImperativeHandle:Uy,useInsertionEffect:ky,useLayoutEffect:Py,useMemo:jy,useReducer:ld,useRef:My,useState:function(){return ld(Dr)},useDebugValue:fd,useDeferredValue:function(t,i){var a=Ht();return ft===null?dd(a,t,i):By(a,ft.memoizedState,t,i)},useTransition:function(){var t=ld(Dr)[0],i=Ht().memoizedState;return[typeof t=="boolean"?t:Sl(t),i]},useSyncExternalStore:gy,useId:Gy,useHostTransitionStatus:pd,useFormState:Ny,useActionState:Ny,useOptimistic:function(t,i){var a=Ht();return ft!==null?wy(a,ft,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:Qy};Jy.useEffectEvent=Vy;function vd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _d={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=fi(),h=gs(l);h.payload=i,a!=null&&(h.callback=a),i=ys(t,h,l),i!==null&&(Zn(i,t,l),El(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=fi(),h=gs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ys(t,h,l),i!==null&&(Zn(i,t,l),El(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=fi(),l=gs(a);l.tag=2,i!=null&&(l.callback=i),i=ys(t,l,a),i!==null&&(Zn(i,t,a),El(i,t,a))}};function Wy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!fl(a,l)||!fl(h,d):!0}function Zy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&_d.enqueueReplaceState(i,i.state,null)}function Ca(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ev(t){rc(t)}function tv(t){console.error(t)}function nv(t){rc(t)}function Ic(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function iv(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ed(t,i,a){return a=gs(a),a.tag=3,a.payload={element:null},a.callback=function(){Ic(t,i)},a}function rv(t){return t=gs(t),t.tag=3,t}function sv(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){iv(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){iv(i,a,l),typeof h!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function vb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ao(i,a,h,!0),a=li.current,a!==null){switch(a.tag){case 31:case 13:return Ii===null?zc():a.alternate===null&&Ut===0&&(Ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===mc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Gd(t,l,h)),!1;case 22:return a.flags|=65536,l===mc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Gd(t,l,h)),!1}throw Error(s(435,a.tag))}return Gd(t,l,h),zc(),!1}if(tt)return i=li.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==zf&&(t=Error(s(422),{cause:l}),pl(bi(t,a)))):(l!==zf&&(i=Error(s(423),{cause:l}),pl(bi(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=bi(l,a),h=Ed(t.stateNode,l,h),Xf(t,h),Ut!==4&&(Ut=2)),!1;var d=Error(s(520),{cause:l});if(d=bi(d,a),Vl===null?Vl=[d]:Vl.push(d),Ut!==4&&(Ut=2),i===null)return!0;l=bi(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ed(a.stateNode,l,t),Xf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(bs===null||!bs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=rv(h),sv(h,t,a,l),Xf(a,h),!1}a=a.return}while(a!==null);return!1}var Td=Error(s(461)),$t=!1;function wn(t,i,a,l){i.child=t===null?uy(i,null,a,l):Ra(i,t.child,a,l)}function av(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return wa(i),l=nd(t,i,a,v,d,h),b=id(),t!==null&&!$t?(rd(t,i,h),Nr(t,i,h)):(tt&&b&&Lf(i),i.flags|=1,wn(t,i,l,h),i.child)}function ov(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,lv(t,i,d,l,h)):(t=lc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!xd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(v,l)&&t.ref===i.ref)return Nr(t,i,h)}return i.flags|=1,t=Ar(d,l),t.ref=i.ref,t.return=i,i.child=t}function lv(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(fl(d,l)&&t.ref===i.ref)if($t=!1,i.pendingProps=l=d,xd(t,h))(t.flags&131072)!==0&&($t=!0);else return i.lanes=t.lanes,Nr(t,i,h)}return wd(t,i,a,l,h)}function uv(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return cv(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&fc(i,d!==null?d.cachePool:null),d!==null?fy(i,d):Wf(),dy(i);else return l=i.lanes=536870912,cv(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(fc(i,d.cachePool),fy(i,d),_s(),i.memoizedState=null):(t!==null&&fc(i,null),Wf(),_s());return wn(t,i,h,a),i.child}function Il(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function cv(t,i,a,l,h){var d=Qf();return d=d===null?null:{parent:Yt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&fc(i,null),Wf(),dy(i),t!==null&&ao(t,i,l,!0),i.childLanes=h,null}function Cc(t,i){return i=Dc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function hv(t,i,a){return Ra(i,t.child,null,a),t=Cc(i,i.pendingProps),t.flags|=2,ui(i),i.memoizedState=null,t}function _b(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(tt){if(l.mode==="hidden")return t=Cc(i,l),i.lanes=536870912,Il(null,t);if(ed(i),(t=bt)?(t=b_(t,Ri),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:hs!==null?{id:sr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},a=Kg(t),a.return=i,i.child=a,En=i,bt=null)):t=null,t===null)throw ds(i);return i.lanes=536870912,null}return Cc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(ed(i),h)if(i.flags&256)i.flags&=-257,i=hv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if($t||ao(t,i,a,!1),h=(a&t.childLanes)!==0,$t||h){if(l=vt,l!==null&&(v=kn(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,va(t,v),Zn(l,t,v),Td;zc(),i=hv(t,i,a)}else t=d.treeContext,bt=Ci(v.nextSibling),En=i,tt=!0,fs=null,Ri=!1,t!==null&&Jg(i,t),i=Cc(i,l),i.flags|=4096;return i}return t=Ar(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function xc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function wd(t,i,a,l,h){return wa(i),a=nd(t,i,a,l,void 0,h),l=id(),t!==null&&!$t?(rd(t,i,h),Nr(t,i,h)):(tt&&l&&Lf(i),i.flags|=1,wn(t,i,a,h),i.child)}function fv(t,i,a,l,h,d){return wa(i),i.updateQueue=null,a=py(i,l,a,h),my(t),l=id(),t!==null&&!$t?(rd(t,i,d),Nr(t,i,d)):(tt&&l&&Lf(i),i.flags|=1,wn(t,i,a,d),i.child)}function dv(t,i,a,l,h){if(wa(i),i.stateNode===null){var d=no,v=a.contextType;typeof v=="object"&&v!==null&&(d=Tn(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Kf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Tn(v):no,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(vd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&_d.enqueueReplaceState(d,d.state,null),wl(i,l,d,h),Tl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,x=Ca(a,b);d.props=x;var K=d.context,te=a.contextType;v=no,typeof te=="object"&&te!==null&&(v=Tn(te));var se=a.getDerivedStateFromProps;te=typeof se=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,te||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||K!==v)&&Zy(i,d,l,v),ps=!1;var X=i.memoizedState;d.state=X,wl(i,l,d,h),Tl(),K=i.memoizedState,b||X!==K||ps?(typeof se=="function"&&(vd(i,a,se,l),K=i.memoizedState),(x=ps||Wy(i,a,x,l,X,K,v))?(te||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=v,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,$f(t,i),v=i.memoizedProps,te=Ca(a,v),d.props=te,se=i.pendingProps,X=d.context,K=a.contextType,x=no,typeof K=="object"&&K!==null&&(x=Tn(K)),b=a.getDerivedStateFromProps,(K=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==se||X!==x)&&Zy(i,d,l,x),ps=!1,X=i.memoizedState,d.state=X,wl(i,l,d,h),Tl();var J=i.memoizedState;v!==se||X!==J||ps||t!==null&&t.dependencies!==null&&cc(t.dependencies)?(typeof b=="function"&&(vd(i,a,b,l),J=i.memoizedState),(te=ps||Wy(i,a,te,l,X,J,x)||t!==null&&t.dependencies!==null&&cc(t.dependencies))?(K||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,J,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,J,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&X===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&X===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=J),d.props=l,d.state=J,d.context=x,l=te):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&X===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&X===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,xc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ra(i,t.child,null,h),i.child=Ra(i,null,a,h)):wn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Nr(t,i,h),t}function mv(t,i,a,l){return Ea(),i.flags|=256,wn(t,i,a,l),i.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(t){return{baseLanes:t,cachePool:iy()}}function Ad(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=hi),t}function pv(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(qt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(tt){if(h?vs(i):_s(),(t=bt)?(t=b_(t,Ri),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:hs!==null?{id:sr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},a=Kg(t),a.return=i,i.child=a,En=i,bt=null)):t=null,t===null)throw ds(i);return om(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(_s(),h=i.mode,b=Dc({mode:"hidden",children:b},h),l=_a(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,v,a),i.memoizedState=bd,Il(null,l)):(vs(i),Rd(i,b))}var x=t.memoizedState;if(x!==null&&(b=x.dehydrated,b!==null)){if(d)i.flags&256?(vs(i),i.flags&=-257,i=Id(t,i,a)):i.memoizedState!==null?(_s(),i.child=t.child,i.flags|=128,i=null):(_s(),b=l.fallback,h=i.mode,l=Dc({mode:"visible",children:l.children},h),b=_a(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Ra(i,t.child,null,a),l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,v,a),i.memoizedState=bd,i=Il(null,l));else if(vs(i),om(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var K=v.dgst;v=K,l=Error(s(419)),l.stack="",l.digest=v,pl({value:l,source:null,stack:null}),i=Id(t,i,a)}else if($t||ao(t,i,a,!1),v=(a&t.childLanes)!==0,$t||v){if(v=vt,v!==null&&(l=kn(v,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,va(t,l),Zn(v,t,l),Td;am(b)||zc(),i=Id(t,i,a)}else am(b)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,bt=Ci(b.nextSibling),En=i,tt=!0,fs=null,Ri=!1,t!==null&&Jg(i,t),i=Rd(i,l.children),i.flags|=4096);return i}return h?(_s(),b=l.fallback,h=i.mode,x=t.child,K=x.sibling,l=Ar(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,K!==null?b=Ar(K,b):(b=_a(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Il(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Sd(a):(h=b.cachePool,h!==null?(x=Yt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=iy(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=Ad(t,v,a),i.memoizedState=bd,Il(t.child,l)):(vs(i),a=t.child,t=a.sibling,a=Ar(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Rd(t,i){return i=Dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Dc(t,i){return t=oi(22,t,null,i),t.lanes=0,t}function Id(t,i,a){return Ra(i,t.child,null,a),t=Rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function gv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),qf(t.return,i,a)}function Cd(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function yv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=qt.current,b=(v&2)!==0;if(b?(v=v&1|2,i.flags|=128):v&=1,Y(qt,v),wn(t,i,l,a),l=tt?ml:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gv(t,a,i);else if(t.tag===19)gv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&vc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Cd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&vc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Cd(i,!0,a,null,d,l);break;case"together":Cd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Nr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),ws|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ao(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ar(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ar(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function xd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&cc(t)))}function Eb(t,i,a){switch(i.tag){case 3:we(i,i.stateNode.containerInfo),ms(i,Yt,t.memoizedState.cache),Ea();break;case 27:case 5:Ue(i);break;case 4:we(i,i.stateNode.containerInfo);break;case 10:ms(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ed(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(vs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?pv(t,i,a):(vs(i),t=Nr(t,i,a),t!==null?t.sibling:null);vs(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ao(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return yv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Y(qt,qt.current),l)break;return null;case 22:return i.lanes=0,uv(t,i,a,i.pendingProps);case 24:ms(i,Yt,t.memoizedState.cache)}return Nr(t,i,a)}function vv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)$t=!0;else{if(!xd(t,a)&&(i.flags&128)===0)return $t=!1,Eb(t,i,a);$t=(t.flags&131072)!==0}else $t=!1,tt&&(i.flags&1048576)!==0&&Xg(i,ml,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Sa(i.elementType),i.type=t,typeof t=="function")Vf(t)?(l=Ca(t,l),i.tag=1,i=dv(null,i,t,l,a)):(i.tag=0,i=wd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Se){i.tag=11,i=av(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=ov(null,i,t,l,a);break e}}throw i=Rt(t)||t,Error(s(306,i,""))}}return i;case 0:return wd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ca(l,i.pendingProps),dv(t,i,l,h,a);case 3:e:{if(we(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,$f(t,i),wl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,ms(i,Yt,l),l!==d.cache&&Hf(i,[Yt],a,!0),Tl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=mv(t,i,l,a);break e}else if(l!==h){h=bi(Error(s(424)),i),pl(h),i=mv(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(bt=Ci(t.firstChild),En=i,tt=!0,fs=null,Ri=!0,a=uy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ea(),l===h){i=Nr(t,i,a);break e}wn(t,i,l,a)}i=i.child}return i;case 26:return xc(t,i),t===null?(a=x_(i.type,null,i.pendingProps,null))?i.memoizedState=a:tt||(a=i.type,t=i.pendingProps,l=Qc(me.current).createElement(a),l[Ct]=i,l[nn]=t,bn(l,a,t),$(l),i.stateNode=l):i.memoizedState=x_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ue(i),t===null&&tt&&(l=i.stateNode=R_(i.type,i.pendingProps,me.current),En=i,Ri=!0,h=bt,Is(i.type)?(lm=h,bt=Ci(l.firstChild)):bt=h),wn(t,i,i.pendingProps.children,a),xc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&tt&&((h=l=bt)&&(l=Xb(l,i.type,i.pendingProps,Ri),l!==null?(i.stateNode=l,En=i,bt=Ci(l.firstChild),Ri=!1,h=!0):h=!1),h||ds(i)),Ue(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,im(h,d)?l=null:v!==null&&im(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=nd(t,i,hb,null,null,a),ql._currentValue=h),xc(t,i),wn(t,i,l,a),i.child;case 6:return t===null&&tt&&((t=a=bt)&&(a=Jb(a,i.pendingProps,Ri),a!==null?(i.stateNode=a,En=i,bt=null,t=!0):t=!1),t||ds(i)),null;case 13:return pv(t,i,a);case 4:return we(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ra(i,null,l,a):wn(t,i,l,a),i.child;case 11:return av(t,i,i.type,i.pendingProps,a);case 7:return wn(t,i,i.pendingProps,a),i.child;case 8:return wn(t,i,i.pendingProps.children,a),i.child;case 12:return wn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ms(i,i.type,l.value),wn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,wa(i),h=Tn(h),l=l(h),i.flags|=1,wn(t,i,l,a),i.child;case 14:return ov(t,i,i.type,i.pendingProps,a);case 15:return lv(t,i,i.type,i.pendingProps,a);case 19:return yv(t,i,a);case 31:return _b(t,i,a);case 22:return uv(t,i,a,i.pendingProps);case 24:return wa(i),l=Tn(Yt),t===null?(h=Qf(),h===null&&(h=vt,d=Ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Kf(i),ms(i,Yt,h)):((t.lanes&a)!==0&&($f(t,i),wl(i,null,null,a),Tl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ms(i,Yt,l)):(l=d.cache,ms(i,Yt,l),l!==h.cache&&Hf(i,[Yt],a,!0))),wn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Mr(t){t.flags|=4}function Dd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Gv())t.flags|=8192;else throw Aa=mc,Yf}else t.flags&=-16777217}function _v(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!V_(i))if(Gv())t.flags|=8192;else throw Aa=mc,Yf}function Nc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?aa():536870912,t.lanes|=i,_o|=i)}function Cl(t,i){if(!tt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function St(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Tb(t,i,a){var l=i.pendingProps;switch(Uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(i),null;case 1:return St(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Cr(Yt),be(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(so(i)?Mr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jf())),St(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Mr(i),d!==null?(St(i),_v(i,d)):(St(i),Dd(i,h,null,l,a))):d?d!==t.memoizedState?(Mr(i),St(i),_v(i,d)):(St(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Mr(i),St(i),Dd(i,h,t,l,a)),null;case 27:if(je(i),a=me.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Mr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return St(i),null}t=ae.current,so(i)?Wg(i):(t=R_(h,l,a),i.stateNode=t,Mr(i))}return St(i),null;case 5:if(je(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Mr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return St(i),null}if(d=ae.current,so(i))Wg(i);else{var v=Qc(me.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Ct]=i,d[nn]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(bn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Mr(i)}}return St(i),Dd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Mr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=me.current,so(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=En,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ct]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||p_(t.nodeValue,a)),t||ds(i,!0)}else t=Qc(t).createTextNode(l),t[Ct]=i,i.stateNode=t}return St(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=so(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ct]=i}else Ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;St(i),t=!1}else a=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(ui(i),i):(ui(i),null);if((i.flags&128)!==0)throw Error(s(558))}return St(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=so(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ct]=i}else Ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;St(i),h=!1}else h=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ui(i),i):(ui(i),null)}return ui(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Nc(i,i.updateQueue),St(i),null);case 4:return be(),t===null&&Wd(i.stateNode.containerInfo),St(i),null;case 10:return Cr(i.type),St(i),null;case 19:if(U(qt),l=i.memoizedState,l===null)return St(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Cl(l,!1);else{if(Ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=vc(t),d!==null){for(i.flags|=128,Cl(l,!1),t=d.updateQueue,i.updateQueue=t,Nc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Yg(a,t),a=a.sibling;return Y(qt,qt.current&1|2),tt&&Rr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&kt()>Pc&&(i.flags|=128,h=!0,Cl(l,!1),i.lanes=4194304)}else{if(!h)if(t=vc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Nc(i,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!tt)return St(i),null}else 2*kt()-l.renderingStartTime>Pc&&a!==536870912&&(i.flags|=128,h=!0,Cl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=kt(),t.sibling=null,a=qt.current,Y(qt,h?a&1|2:a&1),tt&&Rr(i,l.treeForkCount),t):(St(i),null);case 22:case 23:return ui(i),Zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(St(i),i.subtreeFlags&6&&(i.flags|=8192)):St(i),a=i.updateQueue,a!==null&&Nc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&U(ba),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Cr(Yt),St(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function wb(t,i){switch(Uf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Cr(Yt),be(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return je(i),null;case 31:if(i.memoizedState!==null){if(ui(i),i.alternate===null)throw Error(s(340));Ea()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(ui(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ea()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return U(qt),null;case 4:return be(),null;case 10:return Cr(i.type),null;case 22:case 23:return ui(i),Zf(),t!==null&&U(ba),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Cr(Yt),null;case 25:return null;default:return null}}function Ev(t,i){switch(Uf(i),i.tag){case 3:Cr(Yt),be();break;case 26:case 27:case 5:je(i);break;case 4:be();break;case 31:i.memoizedState!==null&&ui(i);break;case 13:ui(i);break;case 19:U(qt);break;case 10:Cr(i.type);break;case 22:case 23:ui(i),Zf(),t!==null&&U(ba);break;case 24:Cr(Yt)}}function xl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){ht(i,i.return,b)}}function Es(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var x=a,K=b;try{K()}catch(te){ht(h,x,te)}}}l=l.next}while(l!==d)}}catch(te){ht(i,i.return,te)}}function Tv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{hy(i,a)}catch(l){ht(t,t.return,l)}}}function wv(t,i,a){a.props=Ca(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ht(t,i,l)}}function Dl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ht(t,i,h)}}function or(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ht(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ht(t,i,h)}else a.current=null}function bv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ht(t,t.return,h)}}function Nd(t,i,a){try{var l=t.stateNode;Fb(l,t.type,a,i),l[nn]=i}catch(h){ht(t,t.return,h)}}function Sv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Is(t.type)||t.tag===4}function Md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Is(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Od(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=cn));else if(l!==4&&(l===27&&Is(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Od(t,i,a),t=t.sibling;t!==null;)Od(t,i,a),t=t.sibling}function Mc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Is(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Mc(t,i,a),t=t.sibling;t!==null;)Mc(t,i,a),t=t.sibling}function Av(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);bn(i,l,a),i[Ct]=t,i[nn]=a}catch(d){ht(t,t.return,d)}}var Or=!1,Xt=!1,Vd=!1,Rv=typeof WeakSet=="function"?WeakSet:Set,dn=null;function bb(t,i){if(t=t.containerInfo,tm=Zc,t=Ug(t),If(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,x=-1,K=0,te=0,se=t,X=null;t:for(;;){for(var J;se!==a||h!==0&&se.nodeType!==3||(b=v+h),se!==d||l!==0&&se.nodeType!==3||(x=v+l),se.nodeType===3&&(v+=se.nodeValue.length),(J=se.firstChild)!==null;)X=se,se=J;for(;;){if(se===t)break t;if(X===a&&++K===h&&(b=v),X===d&&++te===l&&(x=v),(J=se.nextSibling)!==null)break;se=X,X=se.parentNode}se=J}a=b===-1||x===-1?null:{start:b,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:t,selectionRange:a},Zc=!1,dn=i;dn!==null;)if(i=dn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,dn=t;else for(;dn!==null;){switch(i=dn,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var _e=Ca(a.type,h);t=l.getSnapshotBeforeUpdate(_e,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Me){ht(a,a.return,Me)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,dn=t;break}dn=i.return}}function Iv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:kr(t,a),l&4&&xl(5,a);break;case 1:if(kr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){ht(a,a.return,v)}else{var h=Ca(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ht(a,a.return,v)}}l&64&&Tv(a),l&512&&Dl(a,a.return);break;case 3:if(kr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{hy(t,i)}catch(v){ht(a,a.return,v)}}break;case 27:i===null&&l&4&&Av(a);case 26:case 5:kr(t,a),i===null&&l&4&&bv(a),l&512&&Dl(a,a.return);break;case 12:kr(t,a);break;case 31:kr(t,a),l&4&&Dv(t,a);break;case 13:kr(t,a),l&4&&Nv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Mb.bind(null,a),Wb(t,a))));break;case 22:if(l=a.memoizedState!==null||Or,!l){i=i!==null&&i.memoizedState!==null||Xt,h=Or;var d=Xt;Or=l,(Xt=i)&&!d?Pr(t,a,(a.subtreeFlags&8772)!==0):kr(t,a),Or=h,Xt=d}break;case 30:break;default:kr(t,a)}}function Cv(t){var i=t.alternate;i!==null&&(t.alternate=null,Cv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&vr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Dt=null,$n=!1;function Vr(t,i,a){for(a=a.child;a!==null;)xv(t,i,a),a=a.sibling}function xv(t,i,a){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(on,a)}catch{}switch(a.tag){case 26:Xt||or(a,i),Vr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xt||or(a,i);var l=Dt,h=$n;Is(a.type)&&(Dt=a.stateNode,$n=!1),Vr(t,i,a),zl(a.stateNode),Dt=l,$n=h;break;case 5:Xt||or(a,i);case 6:if(l=Dt,h=$n,Dt=null,Vr(t,i,a),Dt=l,$n=h,Dt!==null)if($n)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(a.stateNode)}catch(d){ht(a,i,d)}else try{Dt.removeChild(a.stateNode)}catch(d){ht(a,i,d)}break;case 18:Dt!==null&&($n?(t=Dt,T_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Io(t)):T_(Dt,a.stateNode));break;case 4:l=Dt,h=$n,Dt=a.stateNode.containerInfo,$n=!0,Vr(t,i,a),Dt=l,$n=h;break;case 0:case 11:case 14:case 15:Es(2,a,i),Xt||Es(4,a,i),Vr(t,i,a);break;case 1:Xt||(or(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&wv(a,i,l)),Vr(t,i,a);break;case 21:Vr(t,i,a);break;case 22:Xt=(l=Xt)||a.memoizedState!==null,Vr(t,i,a),Xt=l;break;default:Vr(t,i,a)}}function Dv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Io(t)}catch(a){ht(i,i.return,a)}}}function Nv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Io(t)}catch(a){ht(i,i.return,a)}}function Sb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Rv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Rv),i;default:throw Error(s(435,t.tag))}}function Oc(t,i){var a=Sb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Ob.bind(null,t,l);l.then(h,h)}})}function Xn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Is(b.type)){Dt=b.stateNode,$n=!1;break e}break;case 5:Dt=b.stateNode,$n=!1;break e;case 3:case 4:Dt=b.stateNode.containerInfo,$n=!0;break e}b=b.return}if(Dt===null)throw Error(s(160));xv(d,v,h),Dt=null,$n=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Mv(i,t),i=i.sibling}var Gi=null;function Mv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xn(i,t),Jn(t),l&4&&(Es(3,t,t.return),xl(3,t),Es(5,t,t.return));break;case 1:Xn(i,t),Jn(t),l&512&&(Xt||a===null||or(a,a.return)),l&64&&Or&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gi;if(Xn(i,t),Jn(t),l&512&&(Xt||a===null||or(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Bi]||d[Ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),bn(d,l,a),d[Ct]=t,$(d),l=d;break e;case"link":var v=M_("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),bn(d,l,a),h.head.appendChild(d);break;case"meta":if(v=M_("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),bn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ct]=t,$(d),l=d}t.stateNode=l}else O_(h,t.type,t.stateNode);else t.stateNode=N_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?O_(h,t.type,t.stateNode):N_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Xn(i,t),Jn(t),l&512&&(Xt||a===null||or(a,a.return)),a!==null&&l&4&&Nd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Xn(i,t),Jn(t),l&512&&(Xt||a===null||or(a,a.return)),t.flags&32){h=t.stateNode;try{Ti(h,"")}catch(_e){ht(t,t.return,_e)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Nd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Vd=!0);break;case 6:if(Xn(i,t),Jn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(_e){ht(t,t.return,_e)}}break;case 3:if($c=null,h=Gi,Gi=Yc(i.containerInfo),Xn(i,t),Gi=h,Jn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Io(i.containerInfo)}catch(_e){ht(t,t.return,_e)}Vd&&(Vd=!1,Ov(t));break;case 4:l=Gi,Gi=Yc(t.stateNode.containerInfo),Xn(i,t),Jn(t),Gi=l;break;case 12:Xn(i,t),Jn(t);break;case 31:Xn(i,t),Jn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oc(t,l)));break;case 13:Xn(i,t),Jn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kc=kt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oc(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,K=Or,te=Xt;if(Or=K||h,Xt=te||x,Xn(i,t),Xt=te,Or=K,Jn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||Or||Xt||xa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=x.stateNode;var se=x.memoizedProps.style,X=se!=null&&se.hasOwnProperty("display")?se.display:null;b.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(_e){ht(x,x.return,_e)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(_e){ht(x,x.return,_e)}}}else if(i.tag===18){if(a===null){x=i;try{var J=x.stateNode;h?w_(J,!0):w_(x.stateNode,!1)}catch(_e){ht(x,x.return,_e)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Oc(t,a))));break;case 19:Xn(i,t),Jn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oc(t,l)));break;case 30:break;case 21:break;default:Xn(i,t),Jn(t)}}function Jn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Sv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Md(t);Mc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Ti(v,""),a.flags&=-33);var b=Md(t);Mc(t,b,v);break;case 3:case 4:var x=a.stateNode.containerInfo,K=Md(t);Od(t,K,x);break;default:throw Error(s(161))}}catch(te){ht(t,t.return,te)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ov(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ov(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function kr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Iv(t,i.alternate,i),i=i.sibling}function xa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Es(4,i,i.return),xa(i);break;case 1:or(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&wv(i,i.return,a),xa(i);break;case 27:zl(i.stateNode);case 26:case 5:or(i,i.return),xa(i);break;case 22:i.memoizedState===null&&xa(i);break;case 30:xa(i);break;default:xa(i)}t=t.sibling}}function Pr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Pr(h,d,a),xl(4,d);break;case 1:if(Pr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(K){ht(l,l.return,K)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)cy(x[h],b)}catch(K){ht(l,l.return,K)}}a&&v&64&&Tv(d),Dl(d,d.return);break;case 27:Av(d);case 26:case 5:Pr(h,d,a),a&&l===null&&v&4&&bv(d),Dl(d,d.return);break;case 12:Pr(h,d,a);break;case 31:Pr(h,d,a),a&&v&4&&Dv(h,d);break;case 13:Pr(h,d,a),a&&v&4&&Nv(h,d);break;case 22:d.memoizedState===null&&Pr(h,d,a),Dl(d,d.return);break;case 30:break;default:Pr(h,d,a)}i=i.sibling}}function kd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&gl(a))}function Pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&gl(t))}function Qi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Vv(t,i,a,l),i=i.sibling}function Vv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Qi(t,i,a,l),h&2048&&xl(9,i);break;case 1:Qi(t,i,a,l);break;case 3:Qi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&gl(t)));break;case 12:if(h&2048){Qi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){ht(i,i.return,x)}}else Qi(t,i,a,l);break;case 31:Qi(t,i,a,l);break;case 13:Qi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Qi(t,i,a,l):Nl(t,i):d._visibility&2?Qi(t,i,a,l):(d._visibility|=2,go(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&kd(v,i);break;case 24:Qi(t,i,a,l),h&2048&&Pd(i.alternate,i);break;default:Qi(t,i,a,l)}}function go(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,b=a,x=l,K=v.flags;switch(v.tag){case 0:case 11:case 15:go(d,v,b,x,h),xl(8,v);break;case 23:break;case 22:var te=v.stateNode;v.memoizedState!==null?te._visibility&2?go(d,v,b,x,h):Nl(d,v):(te._visibility|=2,go(d,v,b,x,h)),h&&K&2048&&kd(v.alternate,v);break;case 24:go(d,v,b,x,h),h&&K&2048&&Pd(v.alternate,v);break;default:go(d,v,b,x,h)}i=i.sibling}}function Nl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Nl(a,l),h&2048&&kd(l.alternate,l);break;case 24:Nl(a,l),h&2048&&Pd(l.alternate,l);break;default:Nl(a,l)}i=i.sibling}}var Ml=8192;function yo(t,i,a){if(t.subtreeFlags&Ml)for(t=t.child;t!==null;)kv(t,i,a),t=t.sibling}function kv(t,i,a){switch(t.tag){case 26:yo(t,i,a),t.flags&Ml&&t.memoizedState!==null&&cS(a,Gi,t.memoizedState,t.memoizedProps);break;case 5:yo(t,i,a);break;case 3:case 4:var l=Gi;Gi=Yc(t.stateNode.containerInfo),yo(t,i,a),Gi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ml,Ml=16777216,yo(t,i,a),Ml=l):yo(t,i,a));break;default:yo(t,i,a)}}function Pv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];dn=l,Uv(l,t)}Pv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lv(t),t=t.sibling}function Lv(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&Es(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Vc(t)):Ol(t);break;default:Ol(t)}}function Vc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];dn=l,Uv(l,t)}Pv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Es(8,i,i.return),Vc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Vc(i));break;default:Vc(i)}t=t.sibling}}function Uv(t,i){for(;dn!==null;){var a=dn;switch(a.tag){case 0:case 11:case 15:Es(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,dn=l;else e:for(a=t;dn!==null;){l=dn;var h=l.sibling,d=l.return;if(Cv(l),l===a){dn=null;break e}if(h!==null){h.return=d,dn=h;break e}dn=d}}}var Ab={getCacheForType:function(t){var i=Tn(Yt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Tn(Yt).controller.signal}},Rb=typeof WeakMap=="function"?WeakMap:Map,ot=0,vt=null,Ke=null,Xe=0,ct=0,ci=null,Ts=!1,vo=!1,Ld=!1,Lr=0,Ut=0,ws=0,Da=0,Ud=0,hi=0,_o=0,Vl=null,Wn=null,zd=!1,kc=0,zv=0,Pc=1/0,Lc=null,bs=null,rn=0,Ss=null,Eo=null,Ur=0,jd=0,Bd=null,jv=null,kl=0,qd=null;function fi(){return(ot&2)!==0&&Xe!==0?Xe&-Xe:ee.T!==null?Kd():ji()}function Bv(){if(hi===0)if((Xe&536870912)===0||tt){var t=un;un<<=1,(un&3932160)===0&&(un=262144),hi=t}else hi=536870912;return t=li.current,t!==null&&(t.flags|=32),hi}function Zn(t,i,a){(t===vt&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(To(t,0),As(t,Xe,hi,!1)),Zi(t,a),((ot&2)===0||t!==vt)&&(t===vt&&((ot&2)===0&&(Da|=a),Ut===4&&As(t,Xe,hi,!1)),lr(t))}function qv(t,i,a){if((ot&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Li(t,i),h=l?xb(t,i):Fd(t,i,!0),d=l;do{if(h===0){vo&&!l&&As(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Ib(a)){h=Fd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=Vl;var x=b.current.memoizedState.isDehydrated;if(x&&(To(b,v).flags|=256),v=Fd(b,v,!1),v!==2){if(Ld&&!x){b.errorRecoveryDisabledLanes|=d,Da|=d,h=4;break e}d=Wn,Wn=h,d!==null&&(Wn===null?Wn=d:Wn.push.apply(Wn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){To(t,0),As(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:As(l,i,hi,!Ts);break e;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=kc+300-kt(),10<h)){if(As(l,i,hi,!Ts),Fn(l,0,!0)!==0)break e;Ur=i,l.timeoutHandle=__(Hv.bind(null,l,a,Wn,Lc,zd,i,hi,Da,_o,Ts,d,"Throttled",-0,0),h);break e}Hv(l,a,Wn,Lc,zd,i,hi,Da,_o,Ts,d,null,-0,0)}}break}while(!0);lr(t)}function Hv(t,i,a,l,h,d,v,b,x,K,te,se,X,J){if(t.timeoutHandle=-1,se=i.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cn},kv(i,d,se);var _e=(d&62914560)===d?kc-kt():(d&4194048)===d?zv-kt():0;if(_e=hS(se,_e),_e!==null){Ur=d,t.cancelPendingCommit=_e(Jv.bind(null,t,i,d,a,l,h,v,b,x,te,se,null,X,J)),As(t,d,v,!K);return}}Jv(t,i,d,a,l,h,v,b,x)}function Ib(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!ai(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function As(t,i,a,l){i&=~Ud,i&=~Da,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ln(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&zi(t,a,i)}function Uc(){return(ot&6)===0?(Pl(0),!1):!0}function Hd(){if(Ke!==null){if(ct===0)var t=Ke.return;else t=Ke,Ir=Ta=null,sd(t),co=null,vl=0,t=Ke;for(;t!==null;)Ev(t.alternate,t),t=t.return;Ke=null}}function To(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Yb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ur=0,Hd(),vt=t,Ke=a=Ar(t.current,null),Xe=i,ct=0,ci=null,Ts=!1,vo=Li(t,i),Ld=!1,_o=hi=Ud=Da=ws=Ut=0,Wn=Vl=null,zd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ln(l),d=1<<h;i|=t[h],l&=~d}return Lr=i,sc(),a}function Fv(t,i){Be=null,ee.H=Rl,i===uo||i===dc?(i=ay(),ct=3):i===Yf?(i=ay(),ct=4):ct=i===Td?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ci=i,Ke===null&&(Ut=1,Ic(t,bi(i,t.current)))}function Gv(){var t=li.current;return t===null?!0:(Xe&4194048)===Xe?Ii===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?t===Ii:!1}function Qv(){var t=ee.H;return ee.H=Rl,t===null?Rl:t}function Yv(){var t=ee.A;return ee.A=Ab,t}function zc(){Ut=4,Ts||(Xe&4194048)!==Xe&&li.current!==null||(vo=!0),(ws&134217727)===0&&(Da&134217727)===0||vt===null||As(vt,Xe,hi,!1)}function Fd(t,i,a){var l=ot;ot|=2;var h=Qv(),d=Yv();(vt!==t||Xe!==i)&&(Lc=null,To(t,i)),i=!1;var v=Ut;e:do try{if(ct!==0&&Ke!==null){var b=Ke,x=ci;switch(ct){case 8:Hd(),v=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(i=!0);var K=ct;if(ct=0,ci=null,wo(t,b,x,K),a&&vo){v=0;break e}break;default:K=ct,ct=0,ci=null,wo(t,b,x,K)}}Cb(),v=Ut;break}catch(te){Fv(t,te)}while(!0);return i&&t.shellSuspendCounter++,Ir=Ta=null,ot=l,ee.H=h,ee.A=d,Ke===null&&(vt=null,Xe=0,sc()),v}function Cb(){for(;Ke!==null;)Kv(Ke)}function xb(t,i){var a=ot;ot|=2;var l=Qv(),h=Yv();vt!==t||Xe!==i?(Lc=null,Pc=kt()+500,To(t,i)):vo=Li(t,i);e:do try{if(ct!==0&&Ke!==null){i=Ke;var d=ci;t:switch(ct){case 1:ct=0,ci=null,wo(t,i,d,1);break;case 2:case 9:if(ry(d)){ct=0,ci=null,$v(i);break}i=function(){ct!==2&&ct!==9||vt!==t||(ct=7),lr(t)},d.then(i,i);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:ry(d)?(ct=0,ci=null,$v(i)):(ct=0,ci=null,wo(t,i,d,7));break;case 5:var v=null;switch(Ke.tag){case 26:v=Ke.memoizedState;case 5:case 27:var b=Ke;if(v?V_(v):b.stateNode.complete){ct=0,ci=null;var x=b.sibling;if(x!==null)Ke=x;else{var K=b.return;K!==null?(Ke=K,jc(K)):Ke=null}break t}}ct=0,ci=null,wo(t,i,d,5);break;case 6:ct=0,ci=null,wo(t,i,d,6);break;case 8:Hd(),Ut=6;break e;default:throw Error(s(462))}}Db();break}catch(te){Fv(t,te)}while(!0);return Ir=Ta=null,ee.H=l,ee.A=h,ot=a,Ke!==null?0:(vt=null,Xe=0,sc(),Ut)}function Db(){for(;Ke!==null&&!ia();)Kv(Ke)}function Kv(t){var i=vv(t.alternate,t,Lr);t.memoizedProps=t.pendingProps,i===null?jc(t):Ke=i}function $v(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=fv(a,i,i.pendingProps,i.type,void 0,Xe);break;case 11:i=fv(a,i,i.pendingProps,i.type.render,i.ref,Xe);break;case 5:sd(i);default:Ev(a,i),i=Ke=Yg(i,Lr),i=vv(a,i,Lr)}t.memoizedProps=t.pendingProps,i===null?jc(t):Ke=i}function wo(t,i,a,l){Ir=Ta=null,sd(i),co=null,vl=0;var h=i.return;try{if(vb(t,h,i,a,Xe)){Ut=1,Ic(t,bi(a,t.current)),Ke=null;return}}catch(d){if(h!==null)throw Ke=h,d;Ut=1,Ic(t,bi(a,t.current)),Ke=null;return}i.flags&32768?(tt||l===1?t=!0:vo||(Xe&536870912)!==0?t=!1:(Ts=t=!0,(l===2||l===9||l===3||l===6)&&(l=li.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xv(i,t)):jc(i)}function jc(t){var i=t;do{if((i.flags&32768)!==0){Xv(i,Ts);return}t=i.return;var a=Tb(i.alternate,i,Lr);if(a!==null){Ke=a;return}if(i=i.sibling,i!==null){Ke=i;return}Ke=i=t}while(i!==null);Ut===0&&(Ut=5)}function Xv(t,i){do{var a=wb(t.alternate,t);if(a!==null){a.flags&=32767,Ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ke=t;return}Ke=t=a}while(t!==null);Ut=6,Ke=null}function Jv(t,i,a,l,h,d,v,b,x){t.cancelPendingCommit=null;do Bc();while(rn!==0);if((ot&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Mf,tn(t,a,d,v,b,x),t===vt&&(Ke=vt=null,Xe=0),Eo=i,Ss=t,Ur=a,jd=d,Bd=h,jv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Vb(Bn,function(){return n_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null,h=de.p,de.p=2,v=ot,ot|=4;try{bb(t,i,a)}finally{ot=v,de.p=h,ee.T=l}}rn=1,Wv(),Zv(),e_()}}function Wv(){if(rn===1){rn=0;var t=Ss,i=Eo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=ee.T,ee.T=null;var l=de.p;de.p=2;var h=ot;ot|=4;try{Mv(i,t);var d=nm,v=Ug(t.containerInfo),b=d.focusedElem,x=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Lg(b.ownerDocument.documentElement,b)){if(x!==null&&If(b)){var K=x.start,te=x.end;if(te===void 0&&(te=K),"selectionStart"in b)b.selectionStart=K,b.selectionEnd=Math.min(te,b.value.length);else{var se=b.ownerDocument||document,X=se&&se.defaultView||window;if(X.getSelection){var J=X.getSelection(),_e=b.textContent.length,Me=Math.min(x.start,_e),mt=x.end===void 0?Me:Math.min(x.end,_e);!J.extend&&Me>mt&&(v=mt,mt=Me,Me=v);var z=Pg(b,Me),M=Pg(b,mt);if(z&&M&&(J.rangeCount!==1||J.anchorNode!==z.node||J.anchorOffset!==z.offset||J.focusNode!==M.node||J.focusOffset!==M.offset)){var Q=se.createRange();Q.setStart(z.node,z.offset),J.removeAllRanges(),Me>mt?(J.addRange(Q),J.extend(M.node,M.offset)):(Q.setEnd(M.node,M.offset),J.addRange(Q))}}}}for(se=[],J=b;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<se.length;b++){var ne=se[b];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Zc=!!tm,nm=tm=null}finally{ot=h,de.p=l,ee.T=a}}t.current=i,rn=2}}function Zv(){if(rn===2){rn=0;var t=Ss,i=Eo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=ee.T,ee.T=null;var l=de.p;de.p=2;var h=ot;ot|=4;try{Iv(t,i.alternate,i)}finally{ot=h,de.p=l,ee.T=a}}rn=3}}function e_(){if(rn===4||rn===3){rn=0,yr();var t=Ss,i=Eo,a=Ur,l=jv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?rn=5:(rn=0,Eo=Ss=null,t_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(bs=null),er(a),i=i.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(on,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=ee.T,h=de.p,de.p=2,ee.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{ee.T=i,de.p=h}}(Ur&3)!==0&&Bc(),lr(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===qd?kl++:(kl=0,qd=t):kl=0,Pl(0)}}function t_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,gl(i)))}function Bc(){return Wv(),Zv(),e_(),n_()}function n_(){if(rn!==5)return!1;var t=Ss,i=jd;jd=0;var a=er(Ur),l=ee.T,h=de.p;try{de.p=32>a?32:a,ee.T=null,a=Bd,Bd=null;var d=Ss,v=Ur;if(rn=0,Eo=Ss=null,Ur=0,(ot&6)!==0)throw Error(s(331));var b=ot;if(ot|=4,Lv(d.current),Vv(d,d.current,v,a),ot=b,Pl(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(on,d)}catch{}return!0}finally{de.p=h,ee.T=l,t_(t,i)}}function i_(t,i,a){i=bi(a,i),i=Ed(t.stateNode,i,2),t=ys(t,i,2),t!==null&&(Zi(t,2),lr(t))}function ht(t,i,a){if(t.tag===3)i_(t,t,a);else for(;i!==null;){if(i.tag===3){i_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(bs===null||!bs.has(l))){t=bi(a,t),a=rv(2),l=ys(i,a,2),l!==null&&(sv(a,l,i,t),Zi(l,2),lr(l));break}}i=i.return}}function Gd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Rb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ld=!0,h.add(a),t=Nb.bind(null,t,i,a),i.then(t,t))}function Nb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,vt===t&&(Xe&a)===a&&(Ut===4||Ut===3&&(Xe&62914560)===Xe&&300>kt()-kc?(ot&2)===0&&To(t,0):Ud|=a,_o===Xe&&(_o=0)),lr(t)}function r_(t,i){i===0&&(i=aa()),t=va(t,i),t!==null&&(Zi(t,i),lr(t))}function Mb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),r_(t,a)}function Ob(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),r_(t,a)}function Vb(t,i){return Gt(t,i)}var qc=null,bo=null,Qd=!1,Hc=!1,Yd=!1,Rs=0;function lr(t){t!==bo&&t.next===null&&(bo===null?qc=bo=t:bo=bo.next=t),Hc=!0,Qd||(Qd=!0,Pb())}function Pl(t,i){if(!Yd&&Hc){Yd=!0;do for(var a=!1,l=qc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-ln(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,l_(l,d))}else d=Xe,d=Fn(l,l===vt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Li(l,d)||(a=!0,l_(l,d));l=l.next}while(a);Yd=!1}}function kb(){s_()}function s_(){Hc=Qd=!1;var t=0;Rs!==0&&Qb()&&(t=Rs);for(var i=kt(),a=null,l=qc;l!==null;){var h=l.next,d=a_(l,i);d===0?(l.next=null,a===null?qc=h:a.next=h,h===null&&(bo=a)):(a=l,(t!==0||(d&3)!==0)&&(Hc=!0)),l=h}rn!==0&&rn!==5||Pl(t),Rs!==0&&(Rs=0)}function a_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-ln(d),b=1<<v,x=h[v];x===-1?((b&a)===0||(b&l)!==0)&&(h[v]=Zr(b,i)):x<=i&&(t.expiredLanes|=b),d&=~b}if(i=vt,a=Xe,a=Fn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Xi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Li(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Xi(l),er(a)){case 2:case 8:a=Tt;break;case 32:a=Bn;break;case 268435456:a=Wi;break;default:a=Bn}return l=o_.bind(null,t),a=Gt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Xi(l),t.callbackPriority=2,t.callbackNode=null,2}function o_(t,i){if(rn!==0&&rn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Bc()&&t.callbackNode!==a)return null;var l=Xe;return l=Fn(t,t===vt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(qv(t,l,i),a_(t,kt()),t.callbackNode!=null&&t.callbackNode===a?o_.bind(null,t):null)}function l_(t,i){if(Bc())return null;qv(t,i,!0)}function Pb(){Kb(function(){(ot&6)!==0?Gt(Et,kb):s_()})}function Kd(){if(Rs===0){var t=oo;t===0&&(t=Pi,Pi<<=1,(Pi&261888)===0&&(Pi=256)),Rs=t}return Rs}function u_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:nr(""+t)}function c_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Lb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=u_((h[nn]||null).action),v=l.submitter;v&&(i=(i=v[nn]||null)?u_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var b=new ha("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Rs!==0){var x=v?c_(h,v):new FormData(h);md(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(b.preventDefault(),x=v?c_(h,v):new FormData(h),md(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var $d=0;$d<Nf.length;$d++){var Xd=Nf[$d],Ub=Xd.toLowerCase(),zb=Xd[0].toUpperCase()+Xd.slice(1);Fi(Ub,"on"+zb)}Fi(Bg,"onAnimationEnd"),Fi(qg,"onAnimationIteration"),Fi(Hg,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(tb,"onTransitionRun"),Fi(nb,"onTransitionStart"),Fi(ib,"onTransitionCancel"),Fi(Fg,"onTransitionEnd"),Ce("onMouseEnter",["mouseout","mouseover"]),Ce("onMouseLeave",["mouseout","mouseover"]),Ce("onPointerEnter",["pointerout","pointerover"]),Ce("onPointerLeave",["pointerout","pointerover"]),Re("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Re("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Re("onBeforeInput",["compositionend","keypress","textInput","paste"]),Re("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Re("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Re("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function h_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var b=l[v],x=b.instance,K=b.currentTarget;if(b=b.listener,x!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=K;try{d(h)}catch(te){rc(te)}h.currentTarget=null,d=x}else for(v=0;v<l.length;v++){if(b=l[v],x=b.instance,K=b.currentTarget,b=b.listener,x!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=K;try{d(h)}catch(te){rc(te)}h.currentTarget=null,d=x}}}}function $e(t,i){var a=i[tr];a===void 0&&(a=i[tr]=new Set);var l=t+"__bubble";a.has(l)||(f_(i,t,2,!1),a.add(l))}function Jd(t,i,a){var l=0;i&&(l|=4),f_(a,t,l,i)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[Fc]){t[Fc]=!0,le.forEach(function(a){a!=="selectionchange"&&(jb.has(a)||Jd(a,!1,t),Jd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Fc]||(i[Fc]=!0,Jd("selectionchange",!1,i))}}function f_(t,i,a,l){switch(B_(i)){case 2:var h=mS;break;case 8:h=pS;break;default:h=dm}a=h.bind(null,i,a,t),h=void 0,!sl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Zd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=ii(b),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){l=d=v;continue e}b=b.parentNode}}l=l.return}qu(function(){var K=d,te=Ka(a),se=[];e:{var X=Gg.get(t);if(X!==void 0){var J=ha,_e=t;switch(t){case"keypress":if(ca(a)===0)break e;case"keydown":case"keyup":J=Ju;break;case"focusin":_e="focus",J=os;break;case"focusout":_e="blur",J=os;break;case"beforeblur":case"afterblur":J=os;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Zu;break;case Bg:case qg:case Hg:J=Ja;break;case Fg:J=Wa;break;case"scroll":case"scrollend":J=Hu;break;case"wheel":J=tc;break;case"copy":case"cut":case"paste":J=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=cl;break;case"toggle":case"beforetoggle":J=us}var Me=(i&4)!==0,mt=!Me&&(t==="scroll"||t==="scrollend"),z=Me?X!==null?X+"Capture":null:X;Me=[];for(var M=K,Q;M!==null;){var ne=M;if(Q=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Q===null||z===null||(ne=Yn(M,z),ne!=null&&Me.push(Ul(M,ne,Q))),mt)break;M=M.return}0<Me.length&&(X=new J(X,_e,null,a,te),se.push({event:X,listeners:Me}))}}if((i&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",X&&a!==Ya&&(_e=a.relatedTarget||a.fromElement)&&(ii(_e)||_e[Ei]))break e;if((J||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,J?(_e=a.relatedTarget||a.toElement,J=K,_e=_e?ii(_e):null,_e!==null&&(mt=u(_e),Me=_e.tag,_e!==mt||Me!==5&&Me!==27&&Me!==6)&&(_e=null)):(J=null,_e=K),J!==_e)){if(Me=Fu,ne="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Me=cl,ne="onPointerLeave",z="onPointerEnter",M="pointer"),mt=J==null?X:I(J),Q=_e==null?X:I(_e),X=new Me(ne,M+"leave",J,a,te),X.target=mt,X.relatedTarget=Q,ne=null,ii(te)===K&&(Me=new Me(z,M+"enter",_e,a,te),Me.target=Q,Me.relatedTarget=mt,ne=Me),mt=ne,J&&_e)t:{for(Me=Bb,z=J,M=_e,Q=0,ne=z;ne;ne=Me(ne))Q++;ne=0;for(var xe=M;xe;xe=Me(xe))ne++;for(;0<Q-ne;)z=Me(z),Q--;for(;0<ne-Q;)M=Me(M),ne--;for(;Q--;){if(z===M||M!==null&&z===M.alternate){Me=z;break t}z=Me(z),M=Me(M)}Me=null}else Me=null;J!==null&&d_(se,X,J,Me,!1),_e!==null&&mt!==null&&d_(se,mt,_e,Me,!0)}}e:{if(X=K?I(K):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var st=Dg;else if(Kn(X))if(Ng)st=Ww;else{st=Xw;var Te=$w}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&il(K.elementType)&&(st=Dg):st=Jw;if(st&&(st=st(t,K))){pa(se,st,a,te);break e}Te&&Te(t,X,K),t==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&Qa(X,"number",X.value)}switch(Te=K?I(K):window,t){case"focusin":(Kn(Te)||Te.contentEditable==="true")&&(Za=Te,Cf=K,dl=null);break;case"focusout":dl=Cf=Za=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,zg(se,a,te);break;case"selectionchange":if(eb)break;case"keydown":case"keyup":zg(se,a,te)}var qe;if(y)e:{switch(t){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Fe?ut(t,a)&&(Je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Je="onCompositionStart");Je&&(F&&a.locale!=="ko"&&(Fe||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Fe&&(qe=is()):(si=te,$a="value"in si?si.value:si.textContent,Fe=!0)),Te=Gc(K,Je),0<Te.length&&(Je=new ol(Je,t,null,a,te),se.push({event:Je,listeners:Te}),qe?Je.data=qe:(qe=Qt(a),qe!==null&&(Je.data=qe)))),(qe=S?hn(t,a):fn(t,a))&&(Je=Gc(K,"onBeforeInput"),0<Je.length&&(Te=new ol("onBeforeInput","beforeinput",null,a,te),se.push({event:Te,listeners:Je}),Te.data=qe)),Lb(se,t,K,a,te)}h_(se,i)})}function Ul(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Gc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(t,a),h!=null&&l.unshift(Ul(t,h,d)),h=Yn(t,i),h!=null&&l.push(Ul(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Bb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function d_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var b=a,x=b.alternate,K=b.stateNode;if(b=b.tag,x!==null&&x===l)break;b!==5&&b!==26&&b!==27||K===null||(x=K,h?(K=Yn(a,d),K!=null&&v.unshift(Ul(a,K,x))):h||(K=Yn(a,d),K!=null&&v.push(Ul(a,K,x)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var qb=/\r\n?/g,Hb=/\u0000|\uFFFD/g;function m_(t){return(typeof t=="string"?t:""+t).replace(qb,`
`).replace(Hb,"")}function p_(t,i){return i=m_(i),m_(t)===i}function dt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Ti(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Ti(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":ju(t,l,d);break;case"data":if(i!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=nr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&dt(t,i,"name",h.name,h,null),dt(t,i,"formEncType",h.formEncType,h,null),dt(t,i,"formMethod",h.formMethod,h,null),dt(t,i,"formTarget",h.formTarget,h,null)):(dt(t,i,"encType",h.encType,h,null),dt(t,i,"method",h.method,h,null),dt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=nr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=cn);break;case"onScroll":l!=null&&$e("scroll",t);break;case"onScrollEnd":l!=null&&$e("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=nr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":$e("beforetoggle",t),$e("toggle",t),xt(t,"popover",l);break;case"xlinkActuate":_n(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_n(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_n(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_n(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_n(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_n(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_n(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_n(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_n(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xt(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wf.get(a)||a,xt(t,a,l))}}function em(t,i,a,l,h,d){switch(a){case"style":ju(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Ti(t,l):(typeof l=="number"||typeof l=="bigint")&&Ti(t,""+l);break;case"onScroll":l!=null&&$e("scroll",t);break;case"onScrollEnd":l!=null&&$e("scrollend",t);break;case"onClick":l!=null&&(t.onclick=cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ge.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[nn]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):xt(t,a,l)}}}function bn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",t),$e("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:dt(t,i,d,v,a,null)}}h&&dt(t,i,"srcSet",a.srcSet,a,null),l&&dt(t,i,"src",a.src,a,null);return;case"input":$e("invalid",t);var b=d=v=h=null,x=null,K=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":h=te;break;case"type":v=te;break;case"checked":x=te;break;case"defaultChecked":K=te;break;case"value":d=te;break;case"defaultValue":b=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:dt(t,i,l,te,a,null)}}la(t,d,b,x,K,v,h,!1);return;case"select":$e("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:dt(t,i,h,b,a,null)}i=d,a=v,t.multiple=!!l,i!=null?rt(t,!!l,i,!1):a!=null&&rt(t,!!l,a,!0);return;case"textarea":$e("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:dt(t,i,v,b,a,null)}ns(t,l,h,d);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:dt(t,i,x,l,a,null)}return;case"dialog":$e("beforetoggle",t),$e("toggle",t),$e("cancel",t),$e("close",t);break;case"iframe":case"object":$e("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)$e(Ll[l],t);break;case"image":$e("error",t),$e("load",t);break;case"details":$e("toggle",t);break;case"embed":case"source":case"link":$e("error",t),$e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(l=a[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:dt(t,i,K,l,a,null)}return;default:if(il(i)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&em(t,i,te,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&dt(t,i,b,l,a,null))}function Fb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,x=null,K=null,te=null;for(J in a){var se=a[J];if(a.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":x=se;default:l.hasOwnProperty(J)||dt(t,i,J,null,l,se)}}for(var X in l){var J=l[X];if(se=a[X],l.hasOwnProperty(X)&&(J!=null||se!=null))switch(X){case"type":d=J;break;case"name":h=J;break;case"checked":K=J;break;case"defaultChecked":te=J;break;case"value":v=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:J!==se&&dt(t,i,X,J,l,se)}}ts(t,v,b,x,K,te,d,h);return;case"select":J=v=b=X=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":J=x;default:l.hasOwnProperty(d)||dt(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":X=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==x&&dt(t,i,h,d,l,x)}i=b,a=v,l=J,X!=null?rt(t,!!a,X,!1):!!l!=!!a&&(i!=null?rt(t,!!a,i,!0):rt(t,!!a,a?[]:"",!1));return;case"textarea":J=X=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:dt(t,i,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":X=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&dt(t,i,v,h,l,d)}ua(t,X,J);return;case"option":for(var _e in a)if(X=a[_e],a.hasOwnProperty(_e)&&X!=null&&!l.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:dt(t,i,_e,null,l,X)}for(x in l)if(X=l[x],J=a[x],l.hasOwnProperty(x)&&X!==J&&(X!=null||J!=null))switch(x){case"selected":t.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:dt(t,i,x,X,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in a)X=a[Me],a.hasOwnProperty(Me)&&X!=null&&!l.hasOwnProperty(Me)&&dt(t,i,Me,null,l,X);for(K in l)if(X=l[K],J=a[K],l.hasOwnProperty(K)&&X!==J&&(X!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:dt(t,i,K,X,l,J)}return;default:if(il(i)){for(var mt in a)X=a[mt],a.hasOwnProperty(mt)&&X!==void 0&&!l.hasOwnProperty(mt)&&em(t,i,mt,void 0,l,X);for(te in l)X=l[te],J=a[te],!l.hasOwnProperty(te)||X===J||X===void 0&&J===void 0||em(t,i,te,X,l,J);return}}for(var z in a)X=a[z],a.hasOwnProperty(z)&&X!=null&&!l.hasOwnProperty(z)&&dt(t,i,z,null,l,X);for(se in l)X=l[se],J=a[se],!l.hasOwnProperty(se)||X===J||X==null&&J==null||dt(t,i,se,X,l,J)}function g_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,b=h.duration;if(d&&b&&g_(v)){for(v=0,b=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],K=x.startTime;if(K>b)break;var te=x.transferSize,se=x.initiatorType;te&&g_(se)&&(x=x.responseEnd,v+=te*(x<b?1:(b-K)/(x-K)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tm=null,nm=null;function Qc(t){return t.nodeType===9?t:t.ownerDocument}function y_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function im(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rm=null;function Qb(){var t=window.event;return t&&t.type==="popstate"?t===rm?!1:(rm=t,!0):(rm=null,!1)}var __=typeof setTimeout=="function"?setTimeout:void 0,Yb=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,Kb=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(t){return E_.resolve(null).then(t).catch($b)}:__;function $b(t){setTimeout(function(){throw t})}function Is(t){return t==="head"}function T_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Io(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")zl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,zl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[Bi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&zl(t.ownerDocument.body);a=h}while(a);Io(i)}function w_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),vr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Xb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Bi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ci(t.nextSibling),t===null)break}return null}function Jb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ci(t.nextSibling),t===null))return null;return t}function b_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ci(t.nextSibling),t===null))return null;return t}function am(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Wb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ci(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var lm=null;function S_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ci(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function A_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function R_(t,i,a){switch(i=Qc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function zl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);vr(t)}var xi=new Map,I_=new Set;function Yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var zr=de.d;de.d={f:Zb,r:eS,D:tS,C:nS,L:iS,m:rS,X:aS,S:sS,M:oS};function Zb(){var t=zr.f(),i=Uc();return t||i}function eS(t){var i=yn(t);i!==null&&i.tag===5&&i.type==="form"?Fy(i):zr.r(t)}var So=typeof document>"u"?null:document;function C_(t,i,a){var l=So;if(l&&typeof i=="string"&&i){var h=Pt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),I_.has(h)||(I_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),bn(i,"link",t),$(i),l.head.appendChild(i)))}}function tS(t){zr.D(t),C_("dns-prefetch",t,null)}function nS(t,i){zr.C(t,i),C_("preconnect",t,i)}function iS(t,i,a){zr.L(t,i,a);var l=So;if(l&&t&&i){var h='link[rel="preload"][as="'+Pt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Pt(a.imageSizes)+'"]')):h+='[href="'+Pt(t)+'"]';var d=h;switch(i){case"style":d=Ao(t);break;case"script":d=Ro(t)}xi.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),xi.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(jl(d))||i==="script"&&l.querySelector(Bl(d))||(i=l.createElement("link"),bn(i,"link",t),$(i),l.head.appendChild(i)))}}function rS(t,i){zr.m(t,i);var a=So;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Pt(l)+'"][href="'+Pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ro(t)}if(!xi.has(d)&&(t=w({rel:"modulepreload",href:t},i),xi.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(d)))return}l=a.createElement("link"),bn(l,"link",t),$(l),a.head.appendChild(l)}}}function sS(t,i,a){zr.S(t,i,a);var l=So;if(l&&t){var h=q(l).hoistableStyles,d=Ao(t);i=i||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(jl(d)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=xi.get(d))&&um(t,a);var x=v=l.createElement("link");$(x),bn(x,"link",t),x._p=new Promise(function(K,te){x.onload=K,x.onerror=te}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Kc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function aS(t,i){zr.X(t,i);var a=So;if(a&&t){var l=q(a).hoistableScripts,h=Ro(t),d=l.get(h);d||(d=a.querySelector(Bl(h)),d||(t=w({src:t,async:!0},i),(i=xi.get(h))&&cm(t,i),d=a.createElement("script"),$(d),bn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function oS(t,i){zr.M(t,i);var a=So;if(a&&t){var l=q(a).hoistableScripts,h=Ro(t),d=l.get(h);d||(d=a.querySelector(Bl(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=xi.get(h))&&cm(t,i),d=a.createElement("script"),$(d),bn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function x_(t,i,a,l){var h=(h=me.current)?Yc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ao(a.href),a=q(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ao(a.href);var d=q(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(jl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),xi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xi.set(t,a),d||lS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ro(a),a=q(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ao(t){return'href="'+Pt(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function D_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function lS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),bn(i,"link",a),$(i),t.head.appendChild(i))}function Ro(t){return'[src="'+Pt(t)+'"]'}function Bl(t){return"script[async]"+t}function N_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Pt(a.href)+'"]');if(l)return i.instance=l,$(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),$(l),bn(l,"style",h),Kc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ao(a.href);var d=t.querySelector(jl(h));if(d)return i.state.loading|=4,i.instance=d,$(d),d;l=D_(a),(h=xi.get(h))&&um(l,h),d=(t.ownerDocument||t).createElement("link"),$(d);var v=d;return v._p=new Promise(function(b,x){v.onload=b,v.onerror=x}),bn(d,"link",l),i.state.loading|=4,Kc(d,a.precedence,t),i.instance=d;case"script":return d=Ro(a.src),(h=t.querySelector(Bl(d)))?(i.instance=h,$(h),h):(l=a,(h=xi.get(d))&&(l=w({},a),cm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),$(h),bn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Kc(l,a.precedence,t));return i.instance}function Kc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var $c=null;function M_(t,i,a){if($c===null){var l=new Map,h=$c=new Map;h.set(a,l)}else h=$c,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Bi]||d[Ct]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function O_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function uS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function V_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function cS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ao(l.href),d=i.querySelector(jl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Xc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,$(d);return}d=i.ownerDocument||i,l=D_(l),(h=xi.get(h))&&um(l,h),d=d.createElement("link"),$(d);var v=d;v._p=new Promise(function(b,x){v.onload=b,v.onerror=x}),bn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Xc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var hm=0;function hS(t,i){return t.stylesheets&&t.count===0&&Wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Wc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&hm===0&&(hm=62500*Gb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Wc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>hm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Jc=null;function Wc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Jc=new Map,i.forEach(fS,t),Jc=null,Xc.call(t))}function fS(t,i){if(!(i.state.loading&4)){var a=Jc.get(t);if(a)var l=a.get(null);else{a=new Map,Jc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ql={$$typeof:re,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function dS(t,i,a,l,h,d,v,b,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function k_(t,i,a,l,h,d,v,b,x,K,te,se){return t=new dS(t,i,a,v,x,K,te,se,b),i=1,d===!0&&(i|=24),d=oi(3,null,null,i),t.current=d,d.stateNode=t,i=Ff(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Kf(d),t}function P_(t){return t?(t=no,t):no}function L_(t,i,a,l,h,d){h=P_(h),l.context===null?l.context=h:l.pendingContext=h,l=gs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ys(t,l,i),a!==null&&(Zn(a,t,i),El(a,t,i))}function U_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function fm(t,i){U_(t,i),(t=t.alternate)&&U_(t,i)}function z_(t){if(t.tag===13||t.tag===31){var i=va(t,67108864);i!==null&&Zn(i,t,67108864),fm(t,67108864)}}function j_(t){if(t.tag===13||t.tag===31){var i=fi();i=Qn(i);var a=va(t,i);a!==null&&Zn(a,t,i),fm(t,i)}}var Zc=!0;function mS(t,i,a,l){var h=ee.T;ee.T=null;var d=de.p;try{de.p=2,dm(t,i,a,l)}finally{de.p=d,ee.T=h}}function pS(t,i,a,l){var h=ee.T;ee.T=null;var d=de.p;try{de.p=8,dm(t,i,a,l)}finally{de.p=d,ee.T=h}}function dm(t,i,a,l){if(Zc){var h=mm(l);if(h===null)Zd(t,i,l,eh,a),q_(t,l);else if(yS(h,t,i,a,l))l.stopPropagation();else if(q_(t,l),i&4&&-1<gS.indexOf(t)){for(;h!==null;){var d=yn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Hn(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var x=1<<31-ln(v);b.entanglements[1]|=x,v&=~x}lr(d),(ot&6)===0&&(Pc=kt()+500,Pl(0))}}break;case 31:case 13:b=va(d,2),b!==null&&Zn(b,d,2),Uc(),fm(d,2)}if(d=mm(l),d===null&&Zd(t,i,l,eh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Zd(t,i,l,null,a)}}function mm(t){return t=Ka(t),pm(t)}var eh=null;function pm(t){if(eh=null,t=ii(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return eh=t,null}function B_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vi()){case Et:return 2;case Tt:return 8;case Bn:case Ji:return 32;case Wi:return 268435456;default:return 32}default:return 32}}var gm=!1,Cs=null,xs=null,Ds=null,Hl=new Map,Fl=new Map,Ns=[],gS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(t,i){switch(t){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":Hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(i.pointerId)}}function Gl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=yn(i),i!==null&&z_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function yS(t,i,a,l,h){switch(i){case"focusin":return Cs=Gl(Cs,t,i,a,l,h),!0;case"dragenter":return xs=Gl(xs,t,i,a,l,h),!0;case"mouseover":return Ds=Gl(Ds,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Hl.set(d,Gl(Hl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Fl.set(d,Gl(Fl.get(d)||null,t,i,a,l,h)),!0}return!1}function H_(t){var i=ii(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,es(t.priority,function(){j_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,es(t.priority,function(){j_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function th(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ya=l,a.target.dispatchEvent(l),Ya=null}else return i=yn(a),i!==null&&z_(i),t.blockedOn=a,!1;i.shift()}return!0}function F_(t,i,a){th(t)&&a.delete(i)}function vS(){gm=!1,Cs!==null&&th(Cs)&&(Cs=null),xs!==null&&th(xs)&&(xs=null),Ds!==null&&th(Ds)&&(Ds=null),Hl.forEach(F_),Fl.forEach(F_)}function nh(t,i){t.blockedOn===i&&(t.blockedOn=null,gm||(gm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vS)))}var ih=null;function G_(t){ih!==t&&(ih=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ih===t&&(ih=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var d=yn(a);d!==null&&(t.splice(i,3),i-=3,md(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Io(t){function i(x){return nh(x,t)}Cs!==null&&nh(Cs,t),xs!==null&&nh(xs,t),Ds!==null&&nh(Ds,t),Hl.forEach(i),Fl.forEach(i);for(var a=0;a<Ns.length;a++){var l=Ns[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ns.length&&(a=Ns[0],a.blockedOn===null);)H_(a),a.blockedOn===null&&Ns.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[nn]||null;if(typeof d=="function")v||G_(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[nn]||null)b=v.formAction;else if(pm(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),G_(a)}}}function Q_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function ym(t){this._internalRoot=t}rh.prototype.render=ym.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=fi();L_(a,l,t,i,null,null)},rh.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;L_(t.current,2,null,t,null,null),Uc(),i[Ei]=null}};function rh(t){this._internalRoot=t}rh.prototype.unstable_scheduleHydration=function(t){if(t){var i=ji();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Ns.length&&i!==0&&i<Ns[a].priority;a++);Ns.splice(a,0,t),a===0&&H_(t)}};var Y_=e.version;if(Y_!=="19.2.3")throw Error(s(527,Y_,"19.2.3"));de.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var _S={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{on=sh.inject(_S),gt=sh}catch{}}return Yl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=ev,d=tv,v=nv;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=k_(t,1,!1,null,null,a,l,null,h,d,v,Q_),t[Ei]=i.current,Wd(t),new ym(i)},Yl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=ev,v=tv,b=nv,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=k_(t,1,!0,i,a??null,l,h,x,d,v,b,Q_),i.context=P_(null),a=i.current,l=fi(),l=Qn(l),h=gs(l),h.callback=null,ys(a,h,l),a=l,i.current.lanes=a,Zi(i,a),lr(i),t[Ei]=i.current,Wd(t),new rh(i)},Yl.version="19.2.3",Yl}var i0;function NS(){if(i0)return Em.exports;i0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=DS(),Em.exports}var MS=NS();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var r0="popstate";function OS(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=za(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Fm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:cu(u))}function s(o,u){yi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return kS(e,n,s,r)}function Ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VS(){return Math.random().toString(36).substring(2,10)}function s0(r,e){return{usr:r.state,key:r.key,idx:e}}function Fm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?za(e):e,state:n,key:e&&e.key||s||VS()}}function cu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function za(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function kS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let L=E(),ue=L==null?null:L-g;g=L,p&&p({action:m,location:Z.location,delta:ue})}function A(L,ue){m="PUSH";let he=Fm(Z.location,L,ue);n&&n(he,L),g=E()+1;let re=s0(he,g),Se=Z.createHref(he);try{f.pushState(re,"",Se)}catch(Pe){if(Pe instanceof DOMException&&Pe.name==="DataCloneError")throw Pe;o.location.assign(Se)}u&&p&&p({action:m,location:Z.location,delta:1})}function V(L,ue){m="REPLACE";let he=Fm(Z.location,L,ue);n&&n(he,L),g=E();let re=s0(he,g),Se=Z.createHref(he);f.replaceState(re,"",Se),u&&p&&p({action:m,location:Z.location,delta:0})}function G(L){return PS(L)}let Z={get action(){return m},get location(){return r(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(r0,w),p=L,()=>{o.removeEventListener(r0,w),p=null}},createHref(L){return e(o,L)},createURL:G,encodeLocation(L){let ue=G(L);return{pathname:ue.pathname,search:ue.search,hash:ue.hash}},push:A,replace:V,go(L){return f.go(L)}};return Z}function PS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ot(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:cu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function HE(r,e,n="/"){return LS(r,e,n,!1)}function LS(r,e,n,s){let o=typeof e=="string"?za(e):e,u=Gr(o.pathname||"/",n);if(u==null)return null;let f=FE(r);US(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=$S(u);m=YS(f[p],g,s)}return m}function FE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;Ot(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let w=Hr([s,E.relativePath]),A=n.concat(E);f.children&&f.children.length>0&&(Ot(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),FE(f.children,e,A,w,p)),!(f.path==null&&!f.index)&&e.push({path:w,score:GS(w,f.index),routesMeta:A})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let g of GE(f.path))u(f,m,!0,g)}),e}function GE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=GE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function US(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:QS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var zS=/^:[\w-]+$/,jS=3,BS=2,qS=1,HS=10,FS=-2,a0=r=>r==="*";function GS(r,e){let n=r.split("/"),s=n.length;return n.some(a0)&&(s+=FS),e&&(s+=BS),n.filter(o=>!a0(o)).reduce((o,u)=>o+(zS.test(u)?jS:u===""?qS:HS),s)}function QS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function YS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=Ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=Ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Hr([u,w.pathname]),pathnameBase:ZS(Hr([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=Hr([u,w.pathnameBase]))}return f}function Ih(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=KS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},A)=>{if(E==="*"){let G=m[A]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const V=m[A];return w&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function KS(r,e=!1,n=!0){yi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function $S(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Gr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var QE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XS=r=>QE.test(r);function JS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?za(r):r,u;if(n)if(XS(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),yi(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=o0(n.substring(1),"/"):u=o0(n,e)}else u=e;return{pathname:u,search:eA(s),hash:tA(o)}}function o0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function YE(r){let e=WS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function KE(r,e,n,s=!1){let o;typeof r=="string"?o=za(r):(o={...r},Ot(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),Ot(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),Ot(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=JS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Hr=r=>r.join("/").replace(/\/\/+/g,"/"),ZS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),eA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,tA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,nA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function iA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function rA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function XE(r,e){let n=r;if(typeof n!="string"||!QE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if($E)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Gr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{yi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var JE=["POST","PUT","PATCH","DELETE"];new Set(JE);var sA=["GET",...JE];new Set(sA);var Go=P.createContext(null);Go.displayName="DataRouter";var Jh=P.createContext(null);Jh.displayName="DataRouterState";var aA=P.createContext(!1),WE=P.createContext({isTransitioning:!1});WE.displayName="ViewTransition";var oA=P.createContext(new Map);oA.displayName="Fetchers";var lA=P.createContext(null);lA.displayName="Await";var Oi=P.createContext(null);Oi.displayName="Navigation";var _u=P.createContext(null);_u.displayName="Location";var Jr=P.createContext({outlet:null,matches:[],isDataRoute:!1});Jr.displayName="Route";var bp=P.createContext(null);bp.displayName="RouteError";var ZE="REACT_ROUTER_ERROR",uA="REDIRECT",cA="ROUTE_ERROR_RESPONSE";function hA(r){if(r.startsWith(`${ZE}:${uA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fA(r){if(r.startsWith(`${ZE}:${cA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new nA(e.status,e.statusText,e.data)}catch{}}function dA(r,{relative:e}={}){Ot(Eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Oi),{hash:o,pathname:u,search:f}=Tu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Hr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Eu(){return P.useContext(_u)!=null}function ea(){return Ot(Eu(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(_u).location}var eT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tT(r){P.useContext(Oi).static||P.useLayoutEffect(r)}function Sp(){let{isDataRoute:r}=P.useContext(Jr);return r?RA():mA()}function mA(){Ot(Eu(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(Go),{basename:e,navigator:n}=P.useContext(Oi),{matches:s}=P.useContext(Jr),{pathname:o}=ea(),u=JSON.stringify(YE(s)),f=P.useRef(!1);return tT(()=>{f.current=!0}),P.useCallback((p,g={})=>{if(yi(f.current,eT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=KE(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Hr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}P.createContext(null);function Tu(r,{relative:e}={}){let{matches:n}=P.useContext(Jr),{pathname:s}=ea(),o=JSON.stringify(YE(n));return P.useMemo(()=>KE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function pA(r,e){return nT(r,e)}function nT(r,e,n,s,o){var he;Ot(Eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(Oi),{matches:f}=P.useContext(Jr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let re=w&&w.path||"";rT(g,!w||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let A=ea(),V;if(e){let re=typeof e=="string"?za(e):e;Ot(E==="/"||((he=re.pathname)==null?void 0:he.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${re.pathname}" was given in the \`location\` prop.`),V=re}else V=A;let G=V.pathname||"/",Z=G;if(E!=="/"){let re=E.replace(/^\//,"").split("/");Z="/"+G.replace(/^\//,"").split("/").slice(re.length).join("/")}let L=HE(r,{pathname:Z});yi(w||L!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),yi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ue=EA(L&&L.map(re=>Object.assign({},re,{params:Object.assign({},p,re.params),pathname:Hr([E,u.encodeLocation?u.encodeLocation(re.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?E:Hr([E,u.encodeLocation?u.encodeLocation(re.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathnameBase])})),f,n,s,o);return e&&ue?P.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},ue):ue}function gA(){let r=AA(),e=iA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,f)}var yA=P.createElement(gA,null),iT=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=fA(r.digest);n&&(r=n)}let e=r!==void 0?P.createElement(Jr.Provider,{value:this.props.routeContext},P.createElement(bp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?P.createElement(vA,{error:r},e):e}};iT.contextType=aA;var Am=new WeakMap;function vA({children:r,error:e}){let{basename:n}=P.useContext(Oi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=hA(e.digest);if(s){let o=Am.get(e);if(o)throw o;let u=XE(s.location,n);if($E&&!Am.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Am.set(e,f),f}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function _A({routeContext:r,match:e,children:n}){let s=P.useContext(Go);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Jr.Provider,{value:r},n)}function EA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let E=u.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);Ot(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let w=u[E];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=E),w.route.id){let{loaderData:A,errors:V}=n,G=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!V||V[w.route.id]===void 0);if(w.route.lazy||G){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,w)=>{var A,V;s(E,{location:n.location,params:((V=(A=n.matches)==null?void 0:A[0])==null?void 0:V.params)??{},unstable_pattern:rA(n.matches),errorInfo:w})}:void 0;return u.reduceRight((E,w,A)=>{let V,G=!1,Z=null,L=null;n&&(V=f&&w.route.id?f[w.route.id]:void 0,Z=w.route.errorElement||yA,m&&(p<0&&A===0?(rT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,L=null):p===A&&(G=!0,L=w.route.hydrateFallbackElement||null)));let ue=e.concat(u.slice(0,A+1)),he=()=>{let re;return V?re=Z:G?re=L:w.route.Component?re=P.createElement(w.route.Component,null):w.route.element?re=w.route.element:re=E,P.createElement(_A,{match:w,routeContext:{outlet:E,matches:ue,isDataRoute:n!=null},children:re})};return n&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?P.createElement(iT,{location:n.location,revalidation:n.revalidation,component:Z,error:V,children:he(),routeContext:{outlet:null,matches:ue,isDataRoute:!0},onError:g}):he()},null)}function Ap(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TA(r){let e=P.useContext(Go);return Ot(e,Ap(r)),e}function wA(r){let e=P.useContext(Jh);return Ot(e,Ap(r)),e}function bA(r){let e=P.useContext(Jr);return Ot(e,Ap(r)),e}function Rp(r){let e=bA(r),n=e.matches[e.matches.length-1];return Ot(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function SA(){return Rp("useRouteId")}function AA(){var s;let r=P.useContext(bp),e=wA("useRouteError"),n=Rp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function RA(){let{router:r}=TA("useNavigate"),e=Rp("useNavigate"),n=P.useRef(!1);return tT(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{yi(n.current,eT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var l0={};function rT(r,e,n){!e&&!l0[r]&&(l0[r]=!0,yi(!1,n))}P.memo(IA);function IA({routes:r,future:e,state:n,onError:s}){return nT(r,void 0,n,s,e)}function Gm(r){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Ot(!Eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=za(n));let{pathname:g="/",search:E="",hash:w="",state:A=null,key:V="default"}=n,G=P.useMemo(()=>{let Z=Gr(g,m);return Z==null?null:{location:{pathname:Z,search:E,hash:w,state:A,key:V},navigationType:s}},[m,g,E,w,A,V,s]);return yi(G!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${w}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:P.createElement(Oi.Provider,{value:p},P.createElement(_u.Provider,{children:e,value:G}))}function xA({children:r,location:e}){return pA(Qm(r),e)}function Qm(r,e=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,Qm(s.props.children,u));return}Ot(s.type===Gm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Qm(s.props.children,u)),n.push(f)}),n}var ph="get",gh="application/x-www-form-urlencoded";function Wh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function DA(r){return Wh(r)&&r.tagName.toLowerCase()==="button"}function NA(r){return Wh(r)&&r.tagName.toLowerCase()==="form"}function MA(r){return Wh(r)&&r.tagName.toLowerCase()==="input"}function OA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function VA(r,e){return r.button===0&&(!e||e==="_self")&&!OA(r)}function Ym(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function kA(r,e){let n=Ym(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var ah=null;function PA(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var LA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(r){return r!=null&&!LA.has(r)?(yi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):r}function UA(r,e){let n,s,o,u,f;if(NA(r)){let m=r.getAttribute("action");s=m?Gr(m,e):null,n=r.getAttribute("method")||ph,o=Rm(r.getAttribute("enctype"))||gh,u=new FormData(r)}else if(DA(r)||MA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Gr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ph,o=Rm(r.getAttribute("formenctype"))||Rm(m.getAttribute("enctype"))||gh,u=new FormData(m,r),!PA()){let{name:g,type:E,value:w}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(Wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ph,s=null,o=gh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ip(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Gr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function jA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function qA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await jA(u,n);return f.links?f.links():[]}return[]}));return QA(s.flat(1).filter(BA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function u0(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function HA(r,e,{includeHydrateFallback:n}={}){return FA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function FA(r){return[...new Set(r)]}function GA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function QA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(GA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function sT(){let r=P.useContext(Go);return Ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function YA(){let r=P.useContext(Jh);return Ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Cp=P.createContext(void 0);Cp.displayName="FrameworkContext";function aT(){let r=P.useContext(Cp);return Ip(r,"You must render this element inside a <HydratedRouter> element"),r}function KA(r,e){let n=P.useContext(Cp),[s,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,A=P.useRef(null);P.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=ue=>{ue.forEach(he=>{f(he.isIntersecting)})},L=new IntersectionObserver(Z,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[r]),P.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let V=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Kl(m,V),onBlur:Kl(p,G),onMouseEnter:Kl(g,V),onMouseLeave:Kl(E,G),onTouchStart:Kl(w,V)}]:[!1,A,{}]}function Kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function $A({page:r,...e}){let{router:n}=sT(),s=P.useMemo(()=>HE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(JA,{page:r,matches:s,...e}):null}function XA(r){let{manifest:e,routeModules:n}=aT(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return qA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function JA({page:r,matches:e,...n}){let s=ea(),{future:o,manifest:u,routeModules:f}=aT(),{basename:m}=sT(),{loaderData:p,matches:g}=YA(),E=P.useMemo(()=>u0(r,e,g,u,s,"data"),[r,e,g,u,s]),w=P.useMemo(()=>u0(r,e,g,u,s,"assets"),[r,e,g,u,s]),A=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Z=new Set,L=!1;if(e.forEach(he=>{var Se;let re=u.routes[he.route.id];!re||!re.hasLoader||(!E.some(Pe=>Pe.route.id===he.route.id)&&he.route.id in p&&((Se=f[he.route.id])!=null&&Se.shouldRevalidate)||re.hasClientLoader?L=!0:Z.add(he.route.id))}),Z.size===0)return[];let ue=zA(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return L&&Z.size>0&&ue.searchParams.set("_routes",e.filter(he=>Z.has(he.route.id)).map(he=>he.route.id).join(",")),[ue.pathname+ue.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,f]),V=P.useMemo(()=>HA(w,u),[w,u]),G=XA(w);return P.createElement(P.Fragment,null,A.map(Z=>P.createElement("link",{key:Z,rel:"prefetch",as:"fetch",href:Z,...n})),V.map(Z=>P.createElement("link",{key:Z,rel:"modulepreload",href:Z,...n})),G.map(({key:Z,link:L})=>P.createElement("link",{key:Z,nonce:n.nonce,...L})))}function WA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZA&&(window.__reactRouterVersion="7.12.0")}catch{}function eR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=OS({window:s,v5Compat:!0}));let u=o.current,[f,m]=P.useState({action:u.action,location:u.location}),p=P.useCallback(g=>{n===!1?m(g):P.startTransition(()=>m(g))},[n]);return P.useLayoutEffect(()=>u.listen(p),[u,p]),P.createElement(CA,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var oT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lT=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:A,...V},G){let{basename:Z,unstable_useTransitions:L}=P.useContext(Oi),ue=typeof g=="string"&&oT.test(g),he=XE(g,Z);g=he.to;let re=dA(g,{relative:o}),[Se,Pe,De]=KA(s,V),N=rR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:A,unstable_useTransitions:L});function R(O){e&&e(O),O.defaultPrevented||N(O)}let C=P.createElement("a",{...V,...De,href:he.absoluteURL||re,onClick:he.isExternal||u?e:R,ref:WA(G,Pe),target:p,"data-discover":!ue&&n==="render"?"true":void 0});return Se&&!ue?P.createElement(P.Fragment,null,C,P.createElement($A,{page:re})):C});lT.displayName="Link";var tR=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=Tu(f,{relative:g.relative}),A=ea(),V=P.useContext(Jh),{navigator:G,basename:Z}=P.useContext(Oi),L=V!=null&&cR(w)&&m===!0,ue=G.encodeLocation?G.encodeLocation(w).pathname:w.pathname,he=A.pathname,re=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(he=he.toLowerCase(),re=re?re.toLowerCase():null,ue=ue.toLowerCase()),re&&Z&&(re=Gr(re,Z)||re);const Se=ue!=="/"&&ue.endsWith("/")?ue.length-1:ue.length;let Pe=he===ue||!o&&he.startsWith(ue)&&he.charAt(Se)==="/",De=re!=null&&(re===ue||!o&&re.startsWith(ue)&&re.charAt(ue.length)==="/"),N={isActive:Pe,isPending:De,isTransitioning:L},R=Pe?e:void 0,C;typeof s=="function"?C=s(N):C=[s,Pe?"active":null,De?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(N):u;return P.createElement(lT,{...g,"aria-current":R,className:C,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(N):p)});tR.displayName="NavLink";var nR=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=ph,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:A,...V},G)=>{let{unstable_useTransitions:Z}=P.useContext(Oi),L=lR(),ue=uR(m,{relative:g}),he=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&oT.test(m),Se=Pe=>{if(p&&p(Pe),Pe.defaultPrevented)return;Pe.preventDefault();let De=Pe.nativeEvent.submitter,N=(De==null?void 0:De.getAttribute("formmethod"))||f,R=()=>L(De||Pe.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:A});Z&&n!==!1?P.startTransition(()=>R()):R()};return P.createElement("form",{ref:G,method:he,action:ue,onSubmit:s?p:Se,...V,"data-discover":!re&&r==="render"?"true":void 0})});nR.displayName="Form";function iR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uT(r){let e=P.useContext(Go);return Ot(e,iR(r)),e}function rR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Sp(),E=ea(),w=Tu(r,{relative:u});return P.useCallback(A=>{if(VA(A,e)){A.preventDefault();let V=n!==void 0?n:cu(E)===cu(w),G=()=>g(r,{replace:V,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?P.startTransition(()=>G()):G()}},[E,g,w,n,s,e,r,o,u,f,m,p])}function sR(r){yi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(Ym(r)),n=P.useRef(!1),s=ea(),o=P.useMemo(()=>kA(s.search,n.current?null:e.current),[s.search]),u=Sp(),f=P.useCallback((m,p)=>{const g=Ym(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var aR=0,oR=()=>`__${String(++aR)}__`;function lR(){let{router:r}=uT("useSubmit"),{basename:e}=P.useContext(Oi),n=SA(),s=r.fetch,o=r.navigate;return P.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:w}=UA(u,e);if(f.navigate===!1){let A=f.fetcherKey||oR();await s(A,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:w,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:w,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function uR(r,{relative:e}={}){let{basename:n}=P.useContext(Oi),s=P.useContext(Jr);Ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Tu(r||".",{relative:e})},f=ea();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Hr([n,u.pathname])),cu(u)}function cR(r,{relative:e}={}){let n=P.useContext(WE);Ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=uT("useViewTransitionState"),o=Tu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Gr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Gr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ih(o.pathname,f)!=null||Ih(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cT=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=P.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>P.createElement("svg",{ref:p,...fR,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:cT("lucide",o),...m},[...f.map(([g,E])=>P.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=(r,e)=>{const n=P.forwardRef(({className:s,...o},u)=>P.createElement(dR,{ref:u,iconNode:e,className:cT(`lucide-${hR(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=In("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=In("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=In("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=In("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=In("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=In("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=In("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=In("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=In("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=In("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=In("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=In("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=In("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=In("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=In("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=In("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=In("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),bR=()=>{};var h0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},SR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},pT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(A=64)),s.push(n[E],n[w],n[A],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(mT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):SR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new AR;const A=u<<2|m>>4;if(s.push(A),g!==64){const V=m<<4&240|g>>2;if(s.push(V),w!==64){const G=g<<6&192|w;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class AR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RR=function(r){const e=mT(r);return pT.encodeByteArray(e,!0)},xh=function(r){return RR(r).replace(/\./g,"")},gT=function(r){try{return pT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=()=>IR().__FIREBASE_DEFAULTS__,xR=()=>{if(typeof process>"u"||typeof h0>"u")return;const r=h0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},DR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&gT(r[1]);return e&&JSON.parse(e)},Zh=()=>{try{return bR()||CR()||xR()||DR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},yT=r=>{var e,n;return(n=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},NR=r=>{const e=yT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},vT=()=>{var r;return(r=Zh())===null||r===void 0?void 0:r.config},_T=r=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ET(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[xh(JSON.stringify(n)),xh(JSON.stringify(f)),""].join(".")}const nu={};function VR(){const r={prod:[],emulator:[]};for(const e of Object.keys(nu))nu[e]?r.emulator.push(e):r.prod.push(e);return r}function kR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let f0=!1;function TT(r,e){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||nu[r]===e||nu[r]||f0)return;nu[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=VR().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{f0=!0,f()},A}function E(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=kR(s),V=n("text"),G=document.getElementById(V)||document.createElement("span"),Z=n("learnmore"),L=document.getElementById(Z)||document.createElement("a"),ue=n("preprendIcon"),he=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;m(re),E(L,Z);const Se=g();p(he,ue),re.append(he,G,L,Se),document.body.appendChild(re)}u?(G.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function LR(){var r;const e=(r=Zh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function jR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BR(){const r=Vn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qR(){return!LR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HR(){try{return typeof indexedDB=="object"}catch{return!1}}function FR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="FirebaseError";class Wr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=GR,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?QR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Wr(o,m,s)}}function QR(r,e){return r.replace(YR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const YR=/\{\$([^}]+)}/g;function KR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Qs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(d0(u)&&d0(f)){if(!Qs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function d0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $R(r,e){const n=new XR(r,e);return n.subscribe.bind(n)}class XR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");JR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Im),o.error===void 0&&(o.error=Im),o.complete===void 0&&(o.complete=Im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(r){return r&&r._delegate?r._delegate:r}class ka{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new MR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e2(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZR(r){return r===Na?void 0:r}function e2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(We||(We={}));const n2={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},i2=We.INFO,r2={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},s2=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=r2[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xp{constructor(e){this.name=e,this._logLevel=i2,this._logHandler=s2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const a2=(r,e)=>e.some(n=>r instanceof n);let m0,p0;function o2(){return m0||(m0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l2(){return p0||(p0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wT=new WeakMap,$m=new WeakMap,bT=new WeakMap,Cm=new WeakMap,Dp=new WeakMap;function u2(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(zs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&wT.set(n,r)}).catch(()=>{}),Dp.set(e,r),e}function c2(r){if($m.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});$m.set(r,e)}let Xm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return $m.get(r);if(e==="objectStoreNames")return r.objectStoreNames||bT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function h2(r){Xm=r(Xm)}function f2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(xm(this),e,...n);return bT.set(s,e.sort?e.sort():[e]),zs(s)}:l2().includes(r)?function(...e){return r.apply(xm(this),e),zs(wT.get(this))}:function(...e){return zs(r.apply(xm(this),e))}}function d2(r){return typeof r=="function"?f2(r):(r instanceof IDBTransaction&&c2(r),a2(r,o2())?new Proxy(r,Xm):r)}function zs(r){if(r instanceof IDBRequest)return u2(r);if(Cm.has(r))return Cm.get(r);const e=d2(r);return e!==r&&(Cm.set(r,e),Dp.set(e,r)),e}const xm=r=>Dp.get(r);function m2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=zs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(zs(f.result),p.oldVersion,p.newVersion,zs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const p2=["get","getKey","getAll","getAllKeys","count"],g2=["put","add","delete","clear"],Dm=new Map;function g0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dm.get(e))return Dm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=g2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||p2.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Dm.set(e,u),u}h2(r=>({...r,get:(e,n,s)=>g0(e,n)||r.get(e,n,s),has:(e,n)=>!!g0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function v2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jm="@firebase/app",y0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new xp("@firebase/app"),_2="@firebase/app-compat",E2="@firebase/analytics-compat",T2="@firebase/analytics",w2="@firebase/app-check-compat",b2="@firebase/app-check",S2="@firebase/auth",A2="@firebase/auth-compat",R2="@firebase/database",I2="@firebase/data-connect",C2="@firebase/database-compat",x2="@firebase/functions",D2="@firebase/functions-compat",N2="@firebase/installations",M2="@firebase/installations-compat",O2="@firebase/messaging",V2="@firebase/messaging-compat",k2="@firebase/performance",P2="@firebase/performance-compat",L2="@firebase/remote-config",U2="@firebase/remote-config-compat",z2="@firebase/storage",j2="@firebase/storage-compat",B2="@firebase/firestore",q2="@firebase/ai",H2="@firebase/firestore-compat",F2="firebase",G2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="[DEFAULT]",Q2={[Jm]:"fire-core",[_2]:"fire-core-compat",[T2]:"fire-analytics",[E2]:"fire-analytics-compat",[b2]:"fire-app-check",[w2]:"fire-app-check-compat",[S2]:"fire-auth",[A2]:"fire-auth-compat",[R2]:"fire-rtdb",[I2]:"fire-data-connect",[C2]:"fire-rtdb-compat",[x2]:"fire-fn",[D2]:"fire-fn-compat",[N2]:"fire-iid",[M2]:"fire-iid-compat",[O2]:"fire-fcm",[V2]:"fire-fcm-compat",[k2]:"fire-perf",[P2]:"fire-perf-compat",[L2]:"fire-rc",[U2]:"fire-rc-compat",[z2]:"fire-gcs",[j2]:"fire-gcs-compat",[B2]:"fire-fst",[H2]:"fire-fst-compat",[q2]:"fire-vertex","fire-js":"fire-js",[F2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,Y2=new Map,Zm=new Map;function v0(r,e){try{r.container.addComponent(e)}catch(n){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Lo(r){const e=r.name;if(Zm.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,r);for(const n of Dh.values())v0(n,r);for(const n of Y2.values())v0(n,r);return!0}function Np(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ni(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new wu("app","Firebase",K2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=G2;function ST(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Wm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw js.create("bad-app-name",{appName:String(o)});if(n||(n=vT()),!n)throw js.create("no-options");const u=Dh.get(o);if(u){if(Qs(n,u.options)&&Qs(s,u.config))return u;throw js.create("duplicate-app",{appName:o})}const f=new t2(o);for(const p of Zm.values())f.addComponent(p);const m=new $2(n,s,f);return Dh.set(o,m),m}function AT(r=Wm){const e=Dh.get(r);if(!e&&r===Wm&&vT())return ST();if(!e)throw js.create("no-app",{appName:r});return e}function Bs(r,e,n){var s;let o=(s=Q2[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(m.join(" "));return}Lo(new ka(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="firebase-heartbeat-database",J2=1,hu="firebase-heartbeat-store";let Nm=null;function RT(){return Nm||(Nm=m2(X2,J2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(r=>{throw js.create("idb-open",{originalErrorMessage:r.message})})),Nm}async function W2(r){try{const n=(await RT()).transaction(hu),s=await n.objectStore(hu).get(IT(r));return await n.done,s}catch(e){if(e instanceof Wr)Qr.warn(e.message);else{const n=js.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qr.warn(n.message)}}}async function _0(r,e){try{const s=(await RT()).transaction(hu,"readwrite");await s.objectStore(hu).put(e,IT(r)),await s.done}catch(n){if(n instanceof Wr)Qr.warn(n.message);else{const s=js.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qr.warn(s.message)}}}function IT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=1024,eI=30;class tI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=E0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>eI){const f=rI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Qr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=E0(),{heartbeatsToSend:s,unsentEntries:o}=nI(this._heartbeatsCache.heartbeats),u=xh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Qr.warn(n),""}}}function E0(){return new Date().toISOString().substring(0,10)}function nI(r,e=Z2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),T0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),T0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class iI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HR()?FR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await W2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return _0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return _0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function T0(r){return xh(JSON.stringify({version:2,heartbeats:r})).length}function rI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(r){Lo(new ka("platform-logger",e=>new y2(e),"PRIVATE")),Lo(new ka("heartbeat",e=>new tI(e),"PRIVATE")),Bs(Jm,y0,r),Bs(Jm,y0,"esm2017"),Bs("fire-js","")}sI("");function Mp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function CT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aI=CT,xT=new wu("auth","Firebase",CT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new xp("@firebase/auth");function oI(r,...e){Nh.logLevel<=We.WARN&&Nh.warn(`Auth (${Yo}): ${r}`,...e)}function yh(r,...e){Nh.logLevel<=We.ERROR&&Nh.error(`Auth (${Yo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(r,...e){throw Vp(r,...e)}function Ki(r,...e){return Vp(r,...e)}function Op(r,e,n){const s=Object.assign(Object.assign({},aI()),{[e]:n});return new wu("auth","Firebase",s).create(e,{appName:r.name})}function qs(r){return Op(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DT(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&pr(r,"argument-error"),Op(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return xT.create(r,...e)}function Ve(r,e,...n){if(!r)throw Vp(e,...n)}function Br(r){const e="INTERNAL ASSERTION FAILED: "+r;throw yh(e),new Error(e)}function Yr(r,e){r||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function lI(){return w0()==="http:"||w0()==="https:"}function w0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lI()||zR()||"connection"in navigator)?navigator.onLine:!0}function cI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yr(n>e,"Short delay should be less than long delay!"),this.isMobile=PR()||jR()}get(){return uI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(r,e){Yr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dI=new Su(3e4,6e4);function Pp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ko(r,e,n,s,o={}){return MT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=bu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return UR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Qo(r.emulatorConfig.host)&&(g.credentials="include"),NT.fetch()(await OT(r,r.config.apiHost,n,m),g)})}async function MT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},hI),e);try{const o=new pI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw uh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw uh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw uh(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Op(r,E,g);pr(r,E)}}catch(o){if(o instanceof Wr)throw o;pr(r,"network-request-failed",{message:String(o)})}}async function mI(r,e,n,s,o={}){const u=await Ko(r,e,n,s,o);return"mfaPendingCredential"in u&&pr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function OT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?kp(r.config,o):`${r.config.apiScheme}://${o}`;return fI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class pI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ki(this.auth,"network-request-failed")),dI.get())})}}function uh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ki(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(r,e){return Ko(r,"POST","/v1/accounts:delete",e)}async function Mh(r,e){return Ko(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yI(r,e=!1){const n=jt(r),s=await n.getIdToken(e),o=Lp(s);Ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:iu(Mm(o.auth_time)),issuedAtTime:iu(Mm(o.iat)),expirationTime:iu(Mm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Mm(r){return Number(r)*1e3}function Lp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=gT(n);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function b0(r){const e=Lp(r);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Wr&&vI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function vI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await fu(r,Mh(n,{idToken:s}));Ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?VT(u.providerUserInfo):[],m=TI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new tp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function EI(r){const e=jt(r);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function VT(r){return r.map(e=>{var{providerId:n}=e,s=Mp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(r,e){const n=await MT(r,{},async()=>{const s=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await OT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Qo(r.emulatorConfig.host)&&(p.credentials="include"),NT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bI(r,e){return Ko(r,"POST","/v2/accounts:revokeToken",Pp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=b0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await wI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Oo;return s&&(Ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(r,e){Ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Yi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _I(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new tp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await fu(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yI(this,e)}reload(){return EI(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ni(this.auth.app))return Promise.reject(qs(this.auth));const e=await this.getIdToken();return await fu(this,gI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,G=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ue=(g=n.createdAt)!==null&&g!==void 0?g:void 0,he=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:Se,isAnonymous:Pe,providerData:De,stsTokenManager:N}=n;Ve(re&&N,e,"internal-error");const R=Oo.fromJSON(this.name,N);Ve(typeof re=="string",e,"internal-error"),Os(w,e.name),Os(A,e.name),Ve(typeof Se=="boolean",e,"internal-error"),Ve(typeof Pe=="boolean",e,"internal-error"),Os(V,e.name),Os(G,e.name),Os(Z,e.name),Os(L,e.name),Os(ue,e.name),Os(he,e.name);const C=new Yi({uid:re,auth:e,email:A,emailVerified:Se,displayName:w,isAnonymous:Pe,photoURL:G,phoneNumber:V,tenantId:Z,stsTokenManager:R,createdAt:ue,lastLoginAt:he});return De&&Array.isArray(De)&&(C.providerData=De.map(O=>Object.assign({},O))),L&&(C._redirectEventId=L),C}static async _fromIdTokenResponse(e,n,s=!1){const o=new Oo;o.updateFromServerResponse(n);const u=new Yi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Oh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?VT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Oo;m.updateFromIdToken(s);const p=new Yi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=new Map;function qr(r){Yr(r instanceof Function,"Expected a class definition");let e=S0.get(r);return e?(Yr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,S0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kT.type="NONE";const np=kT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(r,e,n){return`firebase:${r}:${e}:${n}`}class Vo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=vh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?Yi._fromGetAccountInfoResponse(this.auth,n,e):null}return Yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Vo(qr(np),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||qr(np);const f=vh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const A=await Mh(e,{idToken:E}).catch(()=>{});if(!A)break;w=await Yi._fromGetAccountInfoResponse(e,A,E)}else w=Yi._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Vo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Vo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BT(e))return"Blackberry";if(qT(e))return"Webos";if(LT(e))return"Safari";if((e.includes("chrome/")||UT(e))&&!e.includes("edge/"))return"Chrome";if(jT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function PT(r=Vn()){return/firefox\//i.test(r)}function LT(r=Vn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UT(r=Vn()){return/crios\//i.test(r)}function zT(r=Vn()){return/iemobile/i.test(r)}function jT(r=Vn()){return/android/i.test(r)}function BT(r=Vn()){return/blackberry/i.test(r)}function qT(r=Vn()){return/webos/i.test(r)}function Up(r=Vn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function SI(r=Vn()){var e;return Up(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AI(){return BR()&&document.documentMode===10}function HT(r=Vn()){return Up(r)||jT(r)||qT(r)||BT(r)||/windows phone/i.test(r)||zT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(r,e=[]){let n;switch(r){case"Browser":n=A0(Vn());break;case"Worker":n=`${A0(Vn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(r,e={}){return Ko(r,"GET","/v2/passwordPolicy",Pp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=6;class xI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:CI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R0(this),this.idTokenSubscription=new R0(this),this.beforeStateQueue=new RI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),s=await Yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ni(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ni(this.app))return Promise.reject(qs(this));const n=e?jt(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ni(this.app)?Promise.reject(qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ni(this.app)?Promise.reject(qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await II(this),n=new xI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await bI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qr(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&oI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Au(r){return jt(r)}class R0{constructor(e){this.auth=e,this.observer=null,this.addObserver=$R(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NI(r){zp=r}function MI(r){return zp.loadJS(r)}function OI(){return zp.gapiScript}function VI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(r,e){const n=Np(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Qs(u,e??{}))return o;pr(o,"already-initialized")}return n.initialize({options:e})}function PI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(qr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function LI(r,e,n){const s=Au(r);Ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=GT(e),{host:f,port:m}=UI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ve(Qs(g,s.config.emulator)&&Qs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Qo(f)?(ET(`${u}//${f}${p}`),TT("Auth",!0)):zI()}function GT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function UI(r){const e=GT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:I0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:I0(f)}}}function I0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function zI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(r,e){return mI(r,"POST","/v1/accounts:signInWithIdp",Pp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="http://localhost";class Pa extends QT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Mp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Pa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ko(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ko(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ko(e,n)}buildRequest(){const e={requestUri:jI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends ef{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Ru{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pa._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return jr.credential(n,s)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Ru{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Ru{constructor(){super("twitter.com")}static credential(e,n){return Pa._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ps.credential(n,s)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Yi._fromIdTokenResponse(e,s,o),f=C0(s);return new Uo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=C0(s);return new Uo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function C0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends Wr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Vh(e,n,s,o)}}function YT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(r,u,e,s):u})}async function BI(r,e,n=!1){const s=await fu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Uo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(r,e,n=!1){const{auth:s}=r;if(Ni(s.app))return Promise.reject(qs(s));const o="reauthenticate";try{const u=await fu(r,YT(s,o,e,r),n);Ve(u.idToken,s,"internal-error");const f=Lp(u.idToken);Ve(f,s,"internal-error");const{sub:m}=f;return Ve(r.uid===m,s,"user-mismatch"),Uo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&pr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(r,e,n=!1){if(Ni(r.app))return Promise.reject(qs(r));const s="signIn",o=await YT(r,s,e),u=await Uo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(r,e){return jt(r).setPersistence(e)}function FI(r,e,n,s){return jt(r).onIdTokenChanged(e,n,s)}function GI(r,e,n){return jt(r).beforeAuthStateChanged(e,n)}function KT(r,e,n,s){return jt(r).onAuthStateChanged(e,n,s)}function QI(r){return jt(r).signOut()}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=1e3,KI=10;class XT extends $T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);AI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,KI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},YI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XT.type="LOCAL";const tf=XT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT extends $T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JT.type="SESSION";const WT=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new nf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await $I(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=jp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function JI(r){hr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function WI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function eC(){return ZT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="firebaseLocalStorageDb",tC=1,Ph="firebaseLocalStorage",t1="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(r,e){return r.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function nC(){const r=indexedDB.deleteDatabase(e1);return new Iu(r).toPromise()}function ip(){const r=indexedDB.open(e1,tC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ph,{keyPath:t1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ph)?e(s):(s.close(),await nC(),e(await ip()))})})}async function x0(r,e,n){const s=rf(r,!0).put({[t1]:e,value:n});return new Iu(s).toPromise()}async function iC(r,e){const n=rf(r,!1).get(e),s=await new Iu(n).toPromise();return s===void 0?null:s.value}function D0(r,e){const n=rf(r,!0).delete(e);return new Iu(n).toPromise()}const rC=800,sC=3;class n1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ip(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>sC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(eC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WI(),!this.activeServiceWorker)return;this.sender=new XI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ip();return await x0(e,kh,"1"),await D0(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>x0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>iC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>D0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=rf(o,!1).getAll();return new Iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n1.type="LOCAL";const i1=n1;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(r,e){return e?qr(e):(Ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends QT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aC(r){return HI(r.auth,new qp(r),r.bypassAuthState)}function oC(r){const{auth:e,user:n}=r;return Ve(n,e,"internal-error"),qI(n,new qp(r),r.bypassAuthState)}async function lC(r){const{auth:e,user:n}=r;return Ve(n,e,"internal-error"),BI(n,new qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aC;case"linkViaPopup":case"linkViaRedirect":return lC;case"reauthViaPopup":case"reauthViaRedirect":return oC;default:pr(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new Su(2e3,1e4);async function cC(r,e,n){if(Ni(r.app))return Promise.reject(Ki(r,"operation-not-supported-in-this-environment"));const s=Au(r);DT(r,e,ef);const o=Bp(s,n);return new Ma(s,"signInViaPopup",e,o).executeNotNull()}class Ma extends r1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ma.currentPopupAction&&Ma.currentPopupAction.cancel(),Ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uC.get())};e()}}Ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="pendingRedirect",_h=new Map;class fC extends r1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const s=await dC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dC(r,e){const n=a1(e),s=s1(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function mC(r,e){return s1(r)._set(a1(e),"true")}function pC(r,e){_h.set(r._key(),e)}function s1(r){return qr(r._redirectPersistence)}function a1(r){return vh(hC,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r,e,n){return gC(r,e,n)}async function gC(r,e,n){if(Ni(r.app))return Promise.reject(qs(r));const s=Au(r);DT(r,e,ef),await s._initializationPromise;const o=Bp(s,n);return await mC(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function yC(r,e,n=!1){if(Ni(r.app))return Promise.reject(qs(r));const s=Au(r),o=Bp(s,e),f=await new fC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=600*1e3;class _C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!o1(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ki(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vC&&this.cachedEventUids.clear(),this.cachedEventUids.has(M0(e))}saveEventToCache(e){this.cachedEventUids.add(M0(e)),this.lastProcessedEventTime=Date.now()}}function M0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function o1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(r,e={}){return Ko(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bC=/^https?/;async function SC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await TC(r);for(const n of e)try{if(AC(n))return}catch{}pr(r,"unauthorized-domain")}function AC(r){const e=ep(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!bC.test(n))return!1;if(wC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new Su(3e4,6e4);function O0(){const r=hr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function IC(r){return new Promise((e,n)=>{var s,o,u;function f(){O0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O0(),n(Ki(r,"network-request-failed"))},timeout:RC.get()})}if(!((o=(s=hr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=hr().gapi)===null||u===void 0)&&u.load)f();else{const m=VI("iframefcb");return hr()[m]=()=>{gapi.load?f():n(Ki(r,"network-request-failed"))},MI(`${OI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function CC(r){return Eh=Eh||IC(r),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new Su(5e3,15e3),DC="__/auth/iframe",NC="emulator/auth/iframe",MC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VC(r){const e=r.config;Ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?kp(e,NC):`https://${r.config.authDomain}/${DC}`,s={apiKey:e.apiKey,appName:r.name,v:Yo},o=OC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${bu(s).slice(1)}`}async function kC(r){const e=await CC(r),n=hr().gapi;return Ve(n,r,"internal-error"),e.open({where:document.body,url:VC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ki(r,"network-request-failed"),m=hr().setTimeout(()=>{u(f)},xC.get());function p(){hr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LC=500,UC=600,zC="_blank",jC="http://localhost";class V0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BC(r,e,n,s=LC,o=UC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},PC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Vn().toLowerCase();n&&(m=UT(g)?zC:n),PT(g)&&(e=e||jC,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[V,G])=>`${A}${V}=${G},`,"");if(SI(g)&&m!=="_self")return qC(e||"",m),new V0(null);const w=window.open(e||"",m,E);Ve(w,r,"popup-blocked");try{w.focus()}catch{}return new V0(w)}function qC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="__/auth/handler",FC="emulator/auth/handler",GC=encodeURIComponent("fac");async function k0(r,e,n,s,o,u){Ve(r.config.authDomain,r,"auth-domain-config-required"),Ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Yo,eventId:o};if(e instanceof ef){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",KR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Ru){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${GC}=${encodeURIComponent(p)}`:"";return`${QC(r)}?${bu(m).slice(1)}${g}`}function QC({config:r}){return r.emulator?kp(r,FC):`https://${r.authDomain}/${HC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class YC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WT,this._completeRedirectFn=yC,this._overrideRedirectResult=pC}async _openPopup(e,n,s,o){var u;Yr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await k0(e,n,s,ep(),o);return BC(e,f,jp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await k0(e,n,s,ep(),o);return JI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await kC(e),s=new _C(e);return n.register("authEvent",o=>(Ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Om];f!==void 0&&n(!!f),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HT()||LT()||Up()}}const KC=YC;var P0="@firebase/auth",L0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JC(r){Lo(new ka("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FT(r)},g=new DI(s,o,u,p);return PI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Lo(new ka("auth-internal",e=>{const n=Au(e.getProvider("auth").getImmediate());return(s=>new $C(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bs(P0,L0,XC(r)),Bs(P0,L0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=300,ZC=_T("authIdTokenMaxAge")||WC;let U0=null;const ex=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZC)return;const o=n==null?void 0:n.token;U0!==o&&(U0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tx(r=AT()){const e=Np(r,"auth");if(e.isInitialized())return e.getImmediate();const n=kI(r,{popupRedirectResolver:KC,persistence:[i1,tf,WT]}),s=_T("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=ex(u.toString());GI(n,f,()=>f(n.currentUser)),FI(n,m=>f(m))}}const o=yT("auth");return o&&LI(n,`http://${o}`),n}function nx(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}NI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ki("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",nx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JC("Browser");var z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,l1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function C(){}C.prototype=R.prototype,N.D=R.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(O,k,j){for(var D=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)D[Rt-2]=arguments[Rt];return R.prototype[k].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,C){C||(C=0);var O=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)O[k]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(k=0;16>k;++k)O[k]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=N.g[0],C=N.g[1],k=N.g[2];var j=N.g[3],D=R+(j^C&(k^j))+O[0]+3614090360&4294967295;R=C+(D<<7&4294967295|D>>>25),D=j+(k^R&(C^k))+O[1]+3905402710&4294967295,j=R+(D<<12&4294967295|D>>>20),D=k+(C^j&(R^C))+O[2]+606105819&4294967295,k=j+(D<<17&4294967295|D>>>15),D=C+(R^k&(j^R))+O[3]+3250441966&4294967295,C=k+(D<<22&4294967295|D>>>10),D=R+(j^C&(k^j))+O[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=j+(k^R&(C^k))+O[5]+1200080426&4294967295,j=R+(D<<12&4294967295|D>>>20),D=k+(C^j&(R^C))+O[6]+2821735955&4294967295,k=j+(D<<17&4294967295|D>>>15),D=C+(R^k&(j^R))+O[7]+4249261313&4294967295,C=k+(D<<22&4294967295|D>>>10),D=R+(j^C&(k^j))+O[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=j+(k^R&(C^k))+O[9]+2336552879&4294967295,j=R+(D<<12&4294967295|D>>>20),D=k+(C^j&(R^C))+O[10]+4294925233&4294967295,k=j+(D<<17&4294967295|D>>>15),D=C+(R^k&(j^R))+O[11]+2304563134&4294967295,C=k+(D<<22&4294967295|D>>>10),D=R+(j^C&(k^j))+O[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=j+(k^R&(C^k))+O[13]+4254626195&4294967295,j=R+(D<<12&4294967295|D>>>20),D=k+(C^j&(R^C))+O[14]+2792965006&4294967295,k=j+(D<<17&4294967295|D>>>15),D=C+(R^k&(j^R))+O[15]+1236535329&4294967295,C=k+(D<<22&4294967295|D>>>10),D=R+(k^j&(C^k))+O[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^k&(R^C))+O[6]+3225465664&4294967295,j=R+(D<<9&4294967295|D>>>23),D=k+(R^C&(j^R))+O[11]+643717713&4294967295,k=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(k^j))+O[0]+3921069994&4294967295,C=k+(D<<20&4294967295|D>>>12),D=R+(k^j&(C^k))+O[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^k&(R^C))+O[10]+38016083&4294967295,j=R+(D<<9&4294967295|D>>>23),D=k+(R^C&(j^R))+O[15]+3634488961&4294967295,k=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(k^j))+O[4]+3889429448&4294967295,C=k+(D<<20&4294967295|D>>>12),D=R+(k^j&(C^k))+O[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^k&(R^C))+O[14]+3275163606&4294967295,j=R+(D<<9&4294967295|D>>>23),D=k+(R^C&(j^R))+O[3]+4107603335&4294967295,k=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(k^j))+O[8]+1163531501&4294967295,C=k+(D<<20&4294967295|D>>>12),D=R+(k^j&(C^k))+O[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=j+(C^k&(R^C))+O[2]+4243563512&4294967295,j=R+(D<<9&4294967295|D>>>23),D=k+(R^C&(j^R))+O[7]+1735328473&4294967295,k=j+(D<<14&4294967295|D>>>18),D=C+(j^R&(k^j))+O[12]+2368359562&4294967295,C=k+(D<<20&4294967295|D>>>12),D=R+(C^k^j)+O[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^k)+O[8]+2272392833&4294967295,j=R+(D<<11&4294967295|D>>>21),D=k+(j^R^C)+O[11]+1839030562&4294967295,k=j+(D<<16&4294967295|D>>>16),D=C+(k^j^R)+O[14]+4259657740&4294967295,C=k+(D<<23&4294967295|D>>>9),D=R+(C^k^j)+O[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^k)+O[4]+1272893353&4294967295,j=R+(D<<11&4294967295|D>>>21),D=k+(j^R^C)+O[7]+4139469664&4294967295,k=j+(D<<16&4294967295|D>>>16),D=C+(k^j^R)+O[10]+3200236656&4294967295,C=k+(D<<23&4294967295|D>>>9),D=R+(C^k^j)+O[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^k)+O[0]+3936430074&4294967295,j=R+(D<<11&4294967295|D>>>21),D=k+(j^R^C)+O[3]+3572445317&4294967295,k=j+(D<<16&4294967295|D>>>16),D=C+(k^j^R)+O[6]+76029189&4294967295,C=k+(D<<23&4294967295|D>>>9),D=R+(C^k^j)+O[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=j+(R^C^k)+O[12]+3873151461&4294967295,j=R+(D<<11&4294967295|D>>>21),D=k+(j^R^C)+O[15]+530742520&4294967295,k=j+(D<<16&4294967295|D>>>16),D=C+(k^j^R)+O[2]+3299628645&4294967295,C=k+(D<<23&4294967295|D>>>9),D=R+(k^(C|~j))+O[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~k))+O[7]+1126891415&4294967295,j=R+(D<<10&4294967295|D>>>22),D=k+(R^(j|~C))+O[14]+2878612391&4294967295,k=j+(D<<15&4294967295|D>>>17),D=C+(j^(k|~R))+O[5]+4237533241&4294967295,C=k+(D<<21&4294967295|D>>>11),D=R+(k^(C|~j))+O[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~k))+O[3]+2399980690&4294967295,j=R+(D<<10&4294967295|D>>>22),D=k+(R^(j|~C))+O[10]+4293915773&4294967295,k=j+(D<<15&4294967295|D>>>17),D=C+(j^(k|~R))+O[1]+2240044497&4294967295,C=k+(D<<21&4294967295|D>>>11),D=R+(k^(C|~j))+O[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~k))+O[15]+4264355552&4294967295,j=R+(D<<10&4294967295|D>>>22),D=k+(R^(j|~C))+O[6]+2734768916&4294967295,k=j+(D<<15&4294967295|D>>>17),D=C+(j^(k|~R))+O[13]+1309151649&4294967295,C=k+(D<<21&4294967295|D>>>11),D=R+(k^(C|~j))+O[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=j+(C^(R|~k))+O[11]+3174756917&4294967295,j=R+(D<<10&4294967295|D>>>22),D=k+(R^(j|~C))+O[2]+718787259&4294967295,k=j+(D<<15&4294967295|D>>>17),D=C+(j^(k|~R))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var C=R-this.blockSize,O=this.B,k=this.h,j=0;j<R;){if(k==0)for(;j<=C;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<R;)if(O[k++]=N.charCodeAt(j++),k==this.blockSize){o(this,O),k=0;break}}else for(;j<R;)if(O[k++]=N[j++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var C=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=C&255,C/=256;for(this.u(N),N=Array(16),R=C=0;4>R;++R)for(var O=0;32>O;O+=8)N[C++]=this.g[R]>>>O&255;return N};function u(N,R){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=R(N)}function f(N,R){this.h=R;for(var C=[],O=!0,k=N.length-1;0<=k;k--){var j=N[k]|0;O&&j==R||(C[k]=j,O=!1)}this.g=C}var m={};function p(N){return-128<=N&&128>N?u(N,function(R){return new f([R|0],0>R?-1:0)}):new f([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return L(g(-N));for(var R=[],C=1,O=0;N>=C;O++)R[O]=N/C|0,C*=4294967296;return new f(R,0)}function E(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return L(E(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),O=w,k=0;k<N.length;k+=8){var j=Math.min(8,N.length-k),D=parseInt(N.substring(k,k+j),R);8>j?(j=g(Math.pow(R,j)),O=O.j(j).add(g(D))):(O=O.j(C),O=O.add(g(D)))}return O}var w=p(0),A=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(Z(this))return-L(this).m();for(var N=0,R=1,C=0;C<this.g.length;C++){var O=this.i(C);N+=(0<=O?O:4294967296+O)*R,R*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(G(this))return"0";if(Z(this))return"-"+L(this).toString(N);for(var R=g(Math.pow(N,6)),C=this,O="";;){var k=Se(C,R).g;C=ue(C,k.j(R));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=k,G(C))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function G(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function Z(N){return N.h==-1}r.l=function(N){return N=ue(this,N),Z(N)?-1:G(N)?0:1};function L(N){for(var R=N.g.length,C=[],O=0;O<R;O++)C[O]=~N.g[O];return new f(C,~N.h).add(A)}r.abs=function(){return Z(this)?L(this):this},r.add=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],O=0,k=0;k<=R;k++){var j=O+(this.i(k)&65535)+(N.i(k)&65535),D=(j>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);O=D>>>16,j&=65535,D&=65535,C[k]=D<<16|j}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ue(N,R){return N.add(L(R))}r.j=function(N){if(G(this)||G(N))return w;if(Z(this))return Z(N)?L(this).j(L(N)):L(L(this).j(N));if(Z(N))return L(this.j(L(N)));if(0>this.l(V)&&0>N.l(V))return g(this.m()*N.m());for(var R=this.g.length+N.g.length,C=[],O=0;O<2*R;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<N.g.length;k++){var j=this.i(O)>>>16,D=this.i(O)&65535,Rt=N.i(k)>>>16,Nt=N.i(k)&65535;C[2*O+2*k]+=D*Nt,he(C,2*O+2*k),C[2*O+2*k+1]+=j*Nt,he(C,2*O+2*k+1),C[2*O+2*k+1]+=D*Rt,he(C,2*O+2*k+1),C[2*O+2*k+2]+=j*Rt,he(C,2*O+2*k+2)}for(O=0;O<R;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=R;O<2*R;O++)C[O]=0;return new f(C,0)};function he(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function re(N,R){this.g=N,this.h=R}function Se(N,R){if(G(R))throw Error("division by zero");if(G(N))return new re(w,w);if(Z(N))return R=Se(L(N),R),new re(L(R.g),L(R.h));if(Z(R))return R=Se(N,L(R)),new re(L(R.g),R.h);if(30<N.g.length){if(Z(N)||Z(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,O=R;0>=O.l(N);)C=Pe(C),O=Pe(O);var k=De(C,1),j=De(O,1);for(O=De(O,2),C=De(C,2);!G(O);){var D=j.add(O);0>=D.l(N)&&(k=k.add(C),j=D),O=De(O,1),C=De(C,1)}return R=ue(N,k.j(R)),new re(k,R)}for(k=w;0<=N.l(R);){for(C=Math.max(1,Math.floor(N.m()/R.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=g(C),D=j.j(R);Z(D)||0<D.l(N);)C-=O,j=g(C),D=j.j(R);G(j)&&(j=A),k=k.add(j),N=ue(N,D)}return new re(k,N)}r.A=function(N){return Se(this,N).h},r.and=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)&N.i(O);return new f(C,this.h&N.h)},r.or=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)|N.i(O);return new f(C,this.h|N.h)},r.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)^N.i(O);return new f(C,this.h^N.h)};function Pe(N){for(var R=N.g.length+1,C=[],O=0;O<R;O++)C[O]=N.i(O)<<1|N.i(O-1)>>>31;return new f(C,N.h)}function De(N,R){var C=R>>5;R%=32;for(var O=N.g.length-C,k=[],j=0;j<O;j++)k[j]=0<R?N.i(j+C)>>>R|N.i(j+C+1)<<32-R:N.i(j+C);return new f(k,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,l1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Hs=f}).apply(typeof z0<"u"?z0:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u1,Wl,c1,Th,rp,h1,f1,d1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var F=c[S];if(!(F in _))break e;_=_[F]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,F={next:function(){if(!S&&_<c.length){var W=_++;return{value:y(W,c[W]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function V(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function G(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,F,W){for(var pe=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)pe[ut-2]=arguments[ut];return y.prototype[F].apply(S,pe)}}function Z(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const F=c.length||0,W=S.length||0;c.length=F+W;for(let pe=0;pe<W;pe++)c[F+pe]=S[pe]}else c.push(S)}}class ue{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function he(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Se(c){return Se[" "](c),c}Se[" "]=function(){};var Pe=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function De(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(_ in S)c[_]=S[_];for(let W=0;W<C.length;W++)_=C[W],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function D(){var c=et;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Rt{constructor(){this.h=this.g=null}add(y,_){const S=Nt.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Nt=new ue(()=>new ee,c=>c.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let de,Ee=!1,et=new Rt,B=()=>{const c=m.Promise.resolve(void 0);de=()=>{c.then(T)}};var T=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){j(_)}var y=Nt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Ee=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ae=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c})();function ce(c,y){if(Y.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Pe){e:{try{Se(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ce.aa.h.call(this)}}G(ce,Y);var me={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),we=0;function be(c,y,_,S,F){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=F,this.key=++we,this.da=this.fa=!1}function Ue(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c){this.src=c,this.g={},this.h=0}je.prototype.add=function(c,y,_,S,F){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var pe=Qe(c,y,S,F);return-1<pe?(y=c[pe],_||(y.fa=!1)):(y=new be(y,this.src,W,!!S,F),y.fa=_,c.push(y)),y};function He(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],F=Array.prototype.indexOf.call(S,y,void 0),W;(W=0<=F)&&Array.prototype.splice.call(S,F,1),W&&(Ue(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Qe(c,y,_,S){for(var F=0;F<c.length;++F){var W=c[F];if(!W.da&&W.listener==y&&W.capture==!!_&&W.ha==S)return F}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),_t={};function It(c,y,_,S,F){if(Array.isArray(y)){for(var W=0;W<y.length;W++)It(c,y[W],_,S,F);return null}return _=Vi(_),c&&c[fe]?c.K(y,_,g(S)?!!S.capture:!1,F):en(c,y,_,!1,S,F)}function en(c,y,_,S,F,W){if(!y)throw Error("Invalid event type");var pe=g(F)?!!F.capture:!!F,ut=yr(c);if(ut||(c[Ae]=ut=new je(c)),_=ut.add(y,_,S,pe,W),_.proxy)return _;if(S=Cn(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ae||(F=pe),F===void 0&&(F=!1),c.addEventListener(y.toString(),S,F);else if(c.attachEvent)c.attachEvent(Xi(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Cn(){function c(_){return y.call(c.src,c.listener,_)}const y=ia;return c}function xn(c,y,_,S,F){if(Array.isArray(y))for(var W=0;W<y.length;W++)xn(c,y[W],_,S,F);else S=g(S)?!!S.capture:!!S,_=Vi(_),c&&c[fe]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],_=Qe(W,_,S,F),-1<_&&(Ue(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=yr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Qe(y,_,S,F)),(_=-1<c?y[c]:null)&&Gt(_))}function Gt(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[fe])He(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(Xi(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=yr(y))?(He(_,c),_.h==0&&(_.src=null,y[Ae]=null)):Ue(c)}}}function Xi(c){return c in _t?_t[c]:_t[c]="on"+c}function ia(c,y){if(c.da)c=!0;else{y=new ce(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Gt(c),c=_.call(S,y)}return c}function yr(c){return c=c[Ae],c instanceof je?c:null}var kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vi(c){return typeof c=="function"?c:(c[kt]||(c[kt]=function(y){return c.handleEvent(y)}),c[kt])}function Et(){U.call(this),this.i=new je(this),this.M=this,this.F=null}G(Et,U),Et.prototype[fe]=!0,Et.prototype.removeEventListener=function(c,y,_,S){xn(this,c,y,_,S)};function Tt(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new Y(y,c);else if(y instanceof Y)y.target=y.target||c;else{var F=y;y=new Y(S,c),O(y,F)}if(F=!0,_)for(var W=_.length-1;0<=W;W--){var pe=y.g=_[W];F=Bn(pe,S,!0,y)&&F}if(pe=y.g=c,F=Bn(pe,S,!0,y)&&F,F=Bn(pe,S,!1,y)&&F,_)for(W=0;W<_.length;W++)pe=y.g=_[W],F=Bn(pe,S,!1,y)&&F}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)Ue(_[S]);delete c.g[y],c.h--}}this.F=null},Et.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},Et.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function Bn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,W=0;W<y.length;++W){var pe=y[W];if(pe&&!pe.da&&pe.capture==_){var ut=pe.listener,Qt=pe.ha||pe.src;pe.fa&&He(c.i,pe),F=ut.call(Qt,S)!==!1&&F}}return F&&!S.defaultPrevented}function Ji(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Wi(c){c.g=Ji(()=>{c.g=null,c.i&&(c.i=!1,Wi(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ki extends U{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Wi(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(c){U.call(this),this.h=c,this.g={}}G(vi,U);var on=[];function gt(c){De(c.g,function(y,_){this.g.hasOwnProperty(_)&&Gt(y)},c),c.g={}}vi.prototype.N=function(){vi.aa.N.call(this),gt(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=m.JSON.stringify,ln=m.JSON.parse,ra=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function sa(){}sa.prototype.h=null;function Ha(c){return c.h||(c.h=c.i())}function Pi(){}var un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){Y.call(this,"d")}G(ni,Y);function Hn(){Y.call(this,"c")}G(Hn,Y);var Fn={},Li=null;function Zr(){return Li=Li||new Et}Fn.La="serverreachability";function aa(c){Y.call(this,Fn.La,c)}G(aa,Y);function Ui(c){const y=Zr();Tt(y,new aa(y))}Fn.STAT_EVENT="statevent";function Zi(c,y){Y.call(this,Fn.STAT_EVENT,c),this.stat=y}G(Zi,Y);function tn(c){const y=Zr();Tt(y,new Zi(y,c))}Fn.Ma="timingevent";function zi(c,y){Y.call(this,Fn.Ma,c),this.size=y}G(zi,Y);function Gn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function Qn(c,y,_,S,F,W){c.info(function(){if(c.g)if(W)for(var pe="",ut=W.split("&"),Qt=0;Qt<ut.length;Qt++){var Fe=ut[Qt].split("=");if(1<Fe.length){var hn=Fe[0];Fe=Fe[1];var fn=hn.split("_");pe=2<=fn.length&&fn[1]=="type"?pe+(hn+"="+Fe+"&"):pe+(hn+"=redacted&")}}else pe=null;else pe=W;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+y+`
`+_+`
`+pe})}function er(c,y,_,S,F,W,pe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+y+`
`+_+`
`+W+" "+pe})}function ji(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+_i(c,_)+(S?" "+S:"")})}function es(c,y){c.info(function(){return"TIMEOUT: "+y})}kn.prototype.info=function(){};function _i(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var pe=1;pe<F.length;pe++)F[pe]=""}}}}return qn(_)}catch{return y}}var Ct={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ei;function tr(){}G(tr,sa),tr.prototype.g=function(){return new XMLHttpRequest},tr.prototype.i=function(){return{}},Ei=new tr;function Pn(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fa}function Fa(){this.i=null,this.g="",this.h=!1}var oa={},Bi={};function vr(c,y,_){c.L=1,c.v=ua(Pt(y)),c.m=_,c.P=!0,ii(c,null)}function ii(c,y){c.F=Date.now(),q(c),c.A=Pt(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Tr(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Fa,c.g=Zu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ki(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(on[0]=F.toString()),F=on);for(var W=0;W<F.length;W++){var pe=It(_,F[W],S||y.handleEvent,!1,y.h||y);if(!pe)break;y.g[pe.key]=pe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ui(),Qn(c.i,c.u,c.A,c.l,c.R,c.m)}Pn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Ln(c)==3?y.j():this.Y(c)},Pn.prototype.Y=function(c){try{if(c==this.g)e:{const fn=Ln(this.g);var y=this.g.Ba();const cs=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||fa(this.g)))){this.J||fn!=4||y==7||(y==8||0>=cs?Ui(3):Ui(2)),le(this);var _=this.g.Z();this.X=_;t:if(yn(this)){var S=fa(this.g);c="";var F=S.length,W=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Re(this),ge(this);var pe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(W&&y==F-1)});S.length=0,this.h.g+=c,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=_==200,er(this.i,this.u,this.A,this.l,this.R,fn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,Qt=this.g;if((ut=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!he(ut)){var Fe=ut;break t}}Fe=null}if(_=Fe)ji(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ce(this,_);else{this.o=!1,this.s=3,tn(12),Re(this),ge(this);break e}}if(this.P){_=!0;let Kn;for(;!this.J&&this.C<pe.length;)if(Kn=I(this,pe),Kn==Bi){fn==4&&(this.s=4,tn(14),_=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==oa){this.s=4,tn(15),ji(this.i,this.l,pe,"[Invalid Chunk]"),_=!1;break}else ji(this.i,this.l,Kn,null),Ce(this,Kn);if(yn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||pe.length!=0||this.h.h||(this.s=1,tn(16),_=!1),this.o=this.o&&_,!_)ji(this.i,this.l,pe,"[Invalid Chunked Response]"),Re(this),ge(this);else if(0<pe.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),ul(hn),hn.M=!0,tn(11))}}else ji(this.i,this.l,pe,null),Ce(this,pe);fn==4&&Re(this),this.o&&!this.J&&(fn==4?Xu(this.j,this):(this.o=!1,q(this)))}else Fu(this.g),_==400&&0<pe.indexOf("Unknown SID")?(this.s=3,tn(12)):(this.s=0,tn(13)),Re(this),ge(this)}}}catch{}finally{}};function yn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function I(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?Bi:(_=Number(y.substring(_,S)),isNaN(_)?oa:(S+=1,S+_>y.length?Bi:(y=y.slice(S,S+_),c.C=S+_,y)))}Pn.prototype.cancel=function(){this.J=!0,Re(this)};function q(c){c.S=Date.now()+c.I,$(c,c.I)}function $(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Gn(A(c.ba,c),y)}function le(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Pn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(es(this.i,this.A),this.L!=2&&(Ui(),tn(17)),Re(this),this.s=2,ge(this)):$(this,this.S-c)};function ge(c){c.j.G==0||c.J||Xu(c.j,c)}function Re(c){le(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,gt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ce(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||xt(_.h,c))){if(!c.K&&xt(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ls(_),os(_);else break e;ll(_),tn(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=Gn(A(_.Za,_),6e3));if(1>=ze(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else br(_,11)}else if((c.K||_.g==c)&&ls(_),!he(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let Fe=F[y];if(_.T=Fe[0],Fe=Fe[1],_.G==2)if(Fe[0]=="c"){_.K=Fe[1],_.ia=Fe[2];const hn=Fe[3];hn!=null&&(_.la=hn,_.j.info("VER="+_.la));const fn=Fe[4];fn!=null&&(_.Aa=fn,_.j.info("SVER="+_.Aa));const cs=Fe[5];cs!=null&&typeof cs=="number"&&0<cs&&(S=1.5*cs,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Kn=c.g;if(Kn){const pa=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var W=S.h;W.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(vn(W,W.h),W.h=null))}if(S.D){const Sr=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sr&&(S.ya=Sr,rt(S.I,S.D,Sr))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var pe=c;if(S.qa=Wu(S,S.J?S.ia:null,S.W),pe.K){_n(S.h,pe);var ut=pe,Qt=S.L;Qt&&(ut.I=Qt),ut.B&&(le(ut),q(ut)),S.g=pe}else Ku(S);0<_.i.length&&Ja(_)}else Fe[0]!="stop"&&Fe[0]!="close"||br(_,7);else _.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?br(_,7):al(_):Fe[0]!="noop"&&_.l&&_.l.ta(Fe),_.v=0)}}Ui(4)}catch{}}var yt=class{constructor(c,y){this.g=c,this.map=y}};function lt(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ze(c){return c.h?1:c.g?c.g.size:0}function xt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function vn(c,y){c.g?c.g.add(y):c.h=y}function _n(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}lt.prototype.cancel=function(){if(this.i=Bt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bt(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Z(c.i)}function qi(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function _r(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Mt(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=_r(c),S=qi(c),F=S.length,W=0;W<F;W++)y.call(void 0,S[W],_&&_[W],c)}var tl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),F=null;if(0<=S){var W=c[_].substring(0,S);F=c[_].substring(S+1)}else W=c[_];y(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Er(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Er){this.h=c.h,ts(this,c.j),this.o=c.o,this.g=c.g,la(this,c.s),this.l=c.l;var y=c.i,_=new nr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Qa(this,_),this.m=c.m}else c&&(y=String(c).match(tl))?(this.h=!1,ts(this,y[1]||"",!0),this.o=ns(y[2]||""),this.g=ns(y[3]||"",!0),la(this,y[4]),this.l=ns(y[5]||"",!0),Qa(this,y[6]||"",!0),this.m=ns(y[7]||"")):(this.h=!1,this.i=new nr(null,this.h))}Er.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ti(y,nl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ti(y,nl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ti(_,_.charAt(0)=="/"?il:ju,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ti(_,bf)),c.join("")};function Pt(c){return new Er(c)}function ts(c,y,_){c.j=_?ns(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function la(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Qa(c,y,_){y instanceof nr?(c.i=y,Bu(c.i,c.h)):(_||(y=Ti(y,wf)),c.i=new nr(y,c.h))}function rt(c,y,_){c.i.set(y,_)}function ua(c){return rt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ns(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ti(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Tf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var nl=/[#\/\?@]/g,ju=/[#\?:]/g,il=/[#\?]/g,wf=/[#\?@]/g,bf=/#/g;function nr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ga(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=nr.prototype,r.add=function(c,y){cn(this),this.i=null,c=ri(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ya(c,y){cn(c),y=ri(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ka(c,y){return cn(c),y=ri(c,y),c.g.has(y)}r.forEach=function(c,y){cn(this),this.g.forEach(function(_,S){_.forEach(function(F){c.call(y,F,S,this)},this)},this)},r.na=function(){cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const F=c[S];for(let W=0;W<F.length;W++)_.push(y[S])}return _},r.V=function(c){cn(this);let y=[];if(typeof c=="string")Ka(this,c)&&(y=y.concat(this.g.get(ri(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return cn(this),this.i=null,c=ri(this,c),Ka(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Tr(c,y,_){Ya(c,y),0<_.length&&(c.i=null,c.g.set(ri(c,y),Z(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const W=encodeURIComponent(String(S)),pe=this.V(S);for(S=0;S<pe.length;S++){var F=W;pe[S]!==""&&(F+="="+encodeURIComponent(String(pe[S]))),c.push(F)}}return this.i=c.join("&")};function ri(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Bu(c,y){y&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(_,S){var F=S.toLowerCase();S!=F&&(Ya(this,S),Tr(this,F,_))},c)),c.j=y}function rl(c,y){const _=new kn;if(m.Image){const S=new Image;S.onload=V(Yn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=V(Yn,_,"TestLoadImage: error",!1,y,S),S.onabort=V(Yn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=V(Yn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function qu(c,y){const _=new kn,S=new AbortController,F=setTimeout(()=>{S.abort(),Yn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(W=>{clearTimeout(F),W.ok?Yn(_,"TestPingServer: ok",!0,y):Yn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Yn(_,"TestPingServer: error",!1,y)})}function Yn(c,y,_,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(_)}catch{}}function Hi(){this.g=new ra}function sl(c,y,_){const S=_||"";try{Mt(c,function(F,W){let pe=F;g(F)&&(pe=qn(F)),y.push(S+W+"="+encodeURIComponent(pe))})}catch(F){throw y.push(S+"type="+encodeURIComponent("_badmap")),F}}function ir(c){this.l=c.Ub||null,this.j=c.eb||!1}G(ir,sa),ir.prototype.g=function(){return new si(this.l,this.j)},ir.prototype.i=(function(c){return function(){return c}})({});function si(c,y){Et.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(si,Et),r=si.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,is(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$a(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function $a(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?rr(this):is(this),this.readyState==3&&$a(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,rr(this))},r.Qa=function(c){this.g&&(this.response=c,rr(this))},r.ga=function(){this.g&&rr(this)};function rr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,is(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function is(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ca(c){let y="";return De(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function rs(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=ca(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):rt(c,y,_))}function wt(c){Et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(wt,Et);var Dn=/^https?$/i,wr=["POST","PUT"];r=wt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ei.g(),this.v=this.o?Ha(this.o):Ha(Ei),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){ha(this,W);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)_.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const W of S.keys())_.set(W,S.get(W));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(wr,y,void 0))||S||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,pe]of _)this.g.setRequestHeader(W,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xa(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){ha(this,W)}};function ha(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ss(c),as(c)}function ss(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Tt(this,"complete"),Tt(this,"abort"),as(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),wt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Hu(this):this.bb())},r.bb=function(){Hu(this)};function Hu(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)Ji(c.Ea,0,c);else if(Tt(c,"readystatechange"),Ln(c)==4){c.h=!1;try{const pe=c.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=pe===0){var F=String(c.D).match(tl)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),S=!Dn.test(F?F.toLowerCase():"")}_=S}if(_)Tt(c,"complete"),Tt(c,"success");else{c.m=6;try{var W=2<Ln(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",ss(c)}}finally{as(c)}}}}function as(c,y){if(c.g){Xa(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Tt(c,"ready");try{_.onreadystatechange=S}catch{}}}function Xa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ln(y)}};function fa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fu(c){const y={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(he(c[S]))continue;var _=k(c[S]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=y[F]||[];y[F]=W,W.push(_)}N(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function da(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Gu(c){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=da("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=da("baseRetryDelayMs",5e3,c),this.cb=da("retryDelaySeedMs",1e4,c),this.Wa=da("forwardChannelMaxRetries",2,c),this.wa=da("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new lt(c&&c.concurrentRequestLimit),this.Da=new Hi,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Gu.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,S){tn(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Wu(this,null,this.W),Ja(this)};function al(c){if(Qu(c),c.G==3){var y=c.U++,_=Pt(c.I);if(rt(_,"SID",c.K),rt(_,"RID",y),rt(_,"TYPE","terminate"),ma(c,_),y=new Pn(c,c.j,y),y.L=2,y.v=ua(Pt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Zu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),q(y)}cl(c)}function os(c){c.g&&(ul(c),c.g.cancel(),c.g=null)}function Qu(c){os(c),c.u&&(m.clearTimeout(c.u),c.u=null),ls(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ja(c){if(!Ye(c.h)&&!c.s){c.s=!0;var y=c.Ga;de||B(),Ee||(de(),Ee=!0),et.add(y,c),c.B=0}}function Sf(c,y){return ze(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Gn(A(c.Ga,c,y),Ju(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new Pn(this,this.j,c);let W=this.o;if(this.S&&(W?(W=R(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ol(this,F,y),_=Pt(this.I),rt(_,"RID",c),rt(_,"CVER",22),this.D&&rt(_,"X-HTTP-Session-Id",this.D),ma(this,_),W&&(this.O?y="headers="+encodeURIComponent(String(ca(W)))+"&"+y:this.m&&rs(_,this.m,W)),vn(this.h,F),this.Ua&&rt(_,"TYPE","init"),this.P?(rt(_,"$req",y),rt(_,"SID","null"),F.T=!0,vr(F,_,null)):vr(F,_,y),this.G=2}}else this.G==3&&(c?Yu(this,c):this.i.length==0||Ye(this.h)||Yu(this))};function Yu(c,y){var _;y?_=y.l:_=c.U++;const S=Pt(c.I);rt(S,"SID",c.K),rt(S,"RID",_),rt(S,"AID",c.T),ma(c,S),c.m&&c.o&&rs(S,c.m,c.o),_=new Pn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ol(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),vn(c.h,_),vr(_,S,y)}function ma(c,y){c.H&&De(c.H,function(_,S){rt(y,S,_)}),c.l&&Mt({},function(_,S){rt(y,S,_)})}function ol(c,y,_){_=Math.min(c.i.length,_);var S=c.l?A(c.l.Na,c.l,c):null;e:{var F=c.i;let W=-1;for(;;){const pe=["count="+_];W==-1?0<_?(W=F[0].g,pe.push("ofs="+W)):W=0:pe.push("ofs="+W);let ut=!0;for(let Qt=0;Qt<_;Qt++){let Fe=F[Qt].g;const hn=F[Qt].map;if(Fe-=W,0>Fe)W=Math.max(0,F[Qt].g-100),ut=!1;else try{sl(hn,pe,"req"+Fe+"_")}catch{S&&S(hn)}}if(ut){S=pe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function Ku(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;de||B(),Ee||(de(),Ee=!0),et.add(y,c),c.v=0}}function ll(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Gn(A(c.Fa,c),Ju(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,$u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Gn(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tn(10),os(this),$u(this))};function ul(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function $u(c){c.g=new Pn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Pt(c.qa);rt(y,"RID","rpc"),rt(y,"SID",c.K),rt(y,"AID",c.T),rt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&rt(y,"TO",c.ja),rt(y,"TYPE","xmlhttp"),ma(c,y),c.m&&c.o&&rs(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ua(Pt(y)),_.m=null,_.P=!0,ii(_,c)}r.Za=function(){this.C!=null&&(this.C=null,os(this),ll(this),tn(19))};function ls(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Xu(c,y){var _=null;if(c.g==y){ls(c),ul(c),c.g=null;var S=2}else if(xt(c.h,y))_=y.D,_n(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;S=Zr(),Tt(S,new zi(S,_)),Ja(c)}else Ku(c);else if(F=y.s,F==3||F==0&&0<y.X||!(S==1&&Sf(c,y)||S==2&&ll(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),F){case 1:br(c,5);break;case 4:br(c,10);break;case 3:br(c,6);break;default:br(c,2)}}}function Ju(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function br(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),S=c.Xa;const F=!S;S=new Er(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ts(S,"https"),ua(S),F?rl(S.toString(),_):qu(S.toString(),_)}else tn(2);c.G=0,c.l&&c.l.sa(y),cl(c),Qu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function cl(c){if(c.G=0,c.ka=[],c.l){const y=Bt(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function Wu(c,y,_){var S=_ instanceof Er?Pt(_):new Er(_);if(S.g!="")y&&(S.g=y+"."+S.g),la(S,S.s);else{var F=m.location;S=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var W=new Er(null);S&&ts(W,S),y&&(W.g=y),F&&la(W,F),_&&(W.l=_),S=W}return _=c.D,y=c.ya,_&&y&&rt(S,_,y),rt(S,"VER",c.la),ma(c,S),S}function Zu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new wt(new ir({eb:_})):new wt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ec(){}r=ec.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Wa(){}Wa.prototype.g=function(c,y){return new Un(c,y)};function Un(c,y){Et.call(this),this.g=new Gu(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!he(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!he(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new us(this)}G(Un,Et),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){al(this.g)},Un.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=qn(c),c=_);y.i.push(new yt(y.Ya++,c)),y.G==3&&Ja(y)},Un.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,Un.aa.N.call(this)};function tc(c){ni.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}G(tc,ni);function nc(){Hn.call(this),this.status=1}G(nc,Hn);function us(c){this.g=c}G(us,ec),us.prototype.ua=function(){Tt(this.g,"a")},us.prototype.ta=function(c){Tt(this.g,new tc(c))},us.prototype.sa=function(c){Tt(this.g,new nc)},us.prototype.ra=function(){Tt(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,d1=function(){return new Wa},f1=function(){return Zr()},h1=Fn,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ct.NO_ERROR=0,Ct.TIMEOUT=8,Ct.HTTP_ERROR=6,Th=Ct,nn.COMPLETE="complete",c1=nn,Pi.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Wl=Pi,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,u1=wt}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});const j0="@firebase/firestore",B0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new xp("@firebase/firestore");function Co(){return La.logLevel}function ve(r,...e){if(La.logLevel<=We.DEBUG){const n=e.map(Hp);La.debug(`Firestore (${$o}): ${r}`,...n)}}function Kr(r,...e){if(La.logLevel<=We.ERROR){const n=e.map(Hp);La.error(`Firestore (${$o}): ${r}`,...n)}}function Ys(r,...e){if(La.logLevel<=We.WARN){const n=e.map(Hp);La.warn(`Firestore (${$o}): ${r}`,...n)}}function Hp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,m1(r,s,n)}function m1(r,e,n){let s=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Kr(s),new Error(s)}function it(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||m1(e,o,s)}function ke(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ix{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(On.UNAUTHENTICATED)))}shutdown(){}}class rx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sx{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(it(typeof s.accessToken=="string",31837,{l:s}),new p1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class ax{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=On.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ox{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ax(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(On.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const s=u=>{u.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ve("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new q0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ux(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ge(r,e){return r<e?-1:r>e?1:0}function sp(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ge(s,o);{const u=g1(),f=cx(u.encode(H0(r,n)),u.encode(H0(e,n)));return f!==0?f:Ge(s,o)}}n+=s>65535?2:1}return Ge(r.length,e.length)}function H0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function cx(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ge(r[n],e[n]);return Ge(r.length,e.length)}function zo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="__name__";class ur{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ne(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ur.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ur?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ur.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ge(e.length,n.length)}static compareSegments(e,n){const s=ur.isNumericId(e),o=ur.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ur.extractNumericId(e).compare(ur.extractNumericId(n)):sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class pt extends ur{construct(e,n,s){return new pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new pt(n)}static emptyPath(){return new pt([])}}const hx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends ur{construct(e,n,s){return new An(e,n,s)}static isValidIdentifier(e){return hx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F0}static keyField(){return new An([F0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ye(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new An(n)}static emptyPath(){return new An([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(pt.fromString(e))}static fromName(e){return new Ie(pt.fromString(e).popFirst(5))}static empty(){return new Ie(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(r,e,n){if(!n)throw new ye(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function fx(r,e,n,s){if(e===!0&&s===!0)throw new ye(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function G0(r){if(!Ie.isDocumentKey(r))throw new ye(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Q0(r){if(Ie.isDocumentKey(r))throw new ye(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function v1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function sf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ne(12329,{type:typeof r})}function pi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sf(r);throw new ye(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Cu(r,e){if(!v1(r))throw new ye(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ye(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=-62135596800,K0=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*K0);return new At(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Y0)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K0}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Y0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Zt("string",At._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new At(0,0))}static max(){return new Oe(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function dx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(s===1e9?new At(n+1,0):new At(n,s));return new Ks(o,Ie.empty(),e)}function mx(r){return new Ks(r.readTime,r.key,du)}class Ks{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ks(Oe.min(),Ie.empty(),du)}static max(){return new Ks(Oe.max(),Ie.empty(),du)}}function px(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(r.documentKey,e.documentKey),n!==0?n:Ge(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==gx)throw r;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((o=>o?oe.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new oe(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function vx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}af.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function xu(r){return r==null}function Lh(r){return r===0&&1/r==-1/0}function _x(r){return typeof r=="number"&&Number.isInteger(r)&&!Lh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="";function Ex(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=$0(e)),e=Tx(r.get(n),e);return $0(e)}function Tx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case _1:n+="";break;default:n+=u}}return n}function $0(r){return r+_1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ta(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function E1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||Sn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Sn.RED,this.left=o??Sn.EMPTY,this.right=u??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Sn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Sn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J0(this.data.getIterator())}getIteratorFrom(e){return new J0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class J0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.fields=e,e.sort(An.comparator)}static empty(){return new mi([])}unionWith(e){let n=new an(An.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new T1("Invalid base64 string: "+u):u}})(e);return new Rn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const wx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(r){if(it(!!r,39018),typeof r=="string"){let e=0;const n=wx.exec(r);if(it(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ft(r.seconds),nanos:Ft(r.nanos)}}function Ft(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xs(r){return typeof r=="string"?Rn.fromBase64String(r):Rn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="server_timestamp",b1="__type__",S1="__previous_value__",A1="__local_write_time__";function Qp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[b1])===null||n===void 0?void 0:n.stringValue)===w1}function of(r){const e=r.mapValue.fields[S1];return Qp(e)?of(e):e}function mu(r){const e=$s(r.mapValue.fields[A1].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Uh="(default)";class pu{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="__type__",Sx="__max__",fh={mapValue:{}},I1="__vector__",zh="value";function Js(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qp(r)?4:Rx(r)?9007199254740991:Ax(r)?10:11:Ne(28295,{value:r})}function gr(r,e){if(r===e)return!0;const n=Js(r);if(n!==Js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return mu(r).isEqual(mu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=$s(o.timestampValue),m=$s(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Xs(o.bytesValue).isEqual(Xs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ft(o.geoPointValue.latitude)===Ft(u.geoPointValue.latitude)&&Ft(o.geoPointValue.longitude)===Ft(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ft(o.integerValue)===Ft(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ft(o.doubleValue),m=Ft(u.doubleValue);return f===m?Lh(f)===Lh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return zo(r.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(X0(f)!==X0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!gr(f[p],m[p])))return!1;return!0})(r,e);default:return Ne(52216,{left:r})}}function gu(r,e){return(r.values||[]).find((n=>gr(n,e)))!==void 0}function jo(r,e){if(r===e)return 0;const n=Js(r),s=Js(e);if(n!==s)return Ge(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Ft(u.integerValue||u.doubleValue),p=Ft(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return W0(r.timestampValue,e.timestampValue);case 4:return W0(mu(r),mu(e));case 5:return sp(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=Xs(u),p=Xs(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ge(m[g],p[g]);if(E!==0)return E}return Ge(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ge(Ft(u.latitude),Ft(f.latitude));return m!==0?m:Ge(Ft(u.longitude),Ft(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Z0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var m,p,g,E;const w=u.fields||{},A=f.fields||{},V=(m=w[zh])===null||m===void 0?void 0:m.arrayValue,G=(p=A[zh])===null||p===void 0?void 0:p.arrayValue,Z=Ge(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((E=G==null?void 0:G.values)===null||E===void 0?void 0:E.length)||0);return Z!==0?Z:Z0(V,G)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===fh.mapValue&&f===fh.mapValue)return 0;if(u===fh.mapValue)return 1;if(f===fh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=sp(p[w],E[w]);if(A!==0)return A;const V=jo(m[p[w]],g[E[w]]);if(V!==0)return V}return Ge(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ne(23264,{le:n})}}function W0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ge(r,e);const n=$s(r),s=$s(e),o=Ge(n.seconds,s.seconds);return o!==0?o:Ge(n.nanos,s.nanos)}function Z0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=jo(n[o],s[o]);if(u)return u}return Ge(n.length,s.length)}function Bo(r){return ap(r)}function ap(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=$s(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Xs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ie.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ap(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${ap(n.fields[f])}`;return o+"}"})(r.mapValue):Ne(61005,{value:r})}function wh(r){switch(Js(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=of(r);return e?16+wh(e):16;case 5:return 2*r.stringValue.length;case 6:return Xs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+wh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ta(s.fields,((u,f)=>{o+=u.length+wh(f)})),o})(r.mapValue);default:throw Ne(13486,{value:r})}}function eE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function op(r){return!!r&&"integerValue"in r}function Yp(r){return!!r&&"arrayValue"in r}function tE(r){return!!r&&"nullValue"in r}function nE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bh(r){return!!r&&"mapValue"in r}function Ax(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[R1])===null||n===void 0?void 0:n.stringValue)===I1}function su(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ta(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=su(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Rx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Sx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=An.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=su(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ta(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new jn(su(this.value))}}function C1(r){const e=[];return ta(r.fields,((n,s)=>{const o=new An([n]);if(bh(s)){const u=C1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new gn(e,0,Oe.min(),Oe.min(),Oe.min(),jn.empty(),0)}static newFoundDocument(e,n,s,o){return new gn(e,1,n,Oe.min(),s,o,0)}static newNoDocument(e,n){return new gn(e,2,n,Oe.min(),Oe.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,Oe.min(),Oe.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.position=e,this.inclusive=n}}function iE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ie.comparator(Ie.fromName(f.referenceValue),n.key):s=jo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function rE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!gr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ix(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{}class Wt extends x1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new xx(e,n,s):n==="array-contains"?new Mx(e,s):n==="in"?new Ox(e,s):n==="not-in"?new Vx(e,s):n==="array-contains-any"?new kx(e,s):new Wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Dx(e,s):new Nx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jo(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends x1{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new $i(e,n)}matches(e){return D1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function D1(r){return r.op==="and"}function N1(r){return Cx(r)&&D1(r)}function Cx(r){for(const e of r.filters)if(e instanceof $i)return!1;return!0}function lp(r){if(r instanceof Wt)return r.field.canonicalString()+r.op.toString()+Bo(r.value);if(N1(r))return r.filters.map((e=>lp(e))).join(",");{const e=r.filters.map((n=>lp(n))).join(",");return`${r.op}(${e})`}}function M1(r,e){return r instanceof Wt?(function(s,o){return o instanceof Wt&&s.op===o.op&&s.field.isEqual(o.field)&&gr(s.value,o.value)})(r,e):r instanceof $i?(function(s,o){return o instanceof $i&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&M1(f,o.filters[m])),!0):!1})(r,e):void Ne(19439)}function O1(r){return r instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`})(r):r instanceof $i?(function(n){return n.op.toString()+" {"+n.getFilters().map(O1).join(" ,")+"}"})(r):"Filter"}class xx extends Wt{constructor(e,n,s){super(e,n,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dx extends Wt{constructor(e,n){super(e,"in",n),this.keys=V1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Nx extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=V1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function V1(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>Ie.fromName(s.referenceValue)))}class Mx extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yp(n)&&gu(n.arrayValue,this.value)}}class Ox extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gu(this.value.arrayValue,n)}}class Vx extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gu(this.value.arrayValue,n)}}class kx extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>gu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function sE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new Px(r,e,n,s,o,u,f)}function Kp(r){const e=ke(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>lp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),xu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Bo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Bo(s))).join(",")),e.Pe=n}return e.Pe}function $p(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Ix(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!M1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!rE(r.startAt,e.startAt)&&rE(r.endAt,e.endAt)}function up(r){return Ie.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Lx(r,e,n,s,o,u,f,m){return new Du(r,e,n,s,o,u,f,m)}function Xp(r){return new Du(r)}function aE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function k1(r){return r.collectionGroup!==null}function au(r){const e=ke(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new an(An.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Bh(u,s))})),n.has(An.keyField().canonicalString())||e.Te.push(new Bh(An.keyField(),s))}return e.Te}function fr(r){const e=ke(r);return e.Ie||(e.Ie=Ux(e,au(r))),e.Ie}function Ux(r,e){if(r.limitType==="F")return sE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Bh(o.field,u)}));const n=r.endAt?new jh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new jh(r.startAt.position,r.startAt.inclusive):null;return sE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function cp(r,e){const n=r.filters.concat([e]);return new Du(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function hp(r,e,n){return new Du(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function lf(r,e){return $p(fr(r),fr(e))&&r.limitType===e.limitType}function P1(r){return`${Kp(fr(r))}|lt:${r.limitType}`}function xo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>O1(o))).join(", ")}]`),xu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Bo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Bo(o))).join(",")),`Target(${s})`})(fr(r))}; limitType=${r.limitType})`}function uf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ie.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of au(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=iE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,au(s),o)||s.endAt&&!(function(f,m,p){const g=iE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,au(s),o))})(r,e)}function zx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function L1(r){return(e,n)=>{let s=!1;for(const o of au(r)){const u=jx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function jx(r,e,n){const s=r.field.isKeyField()?Ie.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?jo(p,g):Ne(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return E1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Vt(Ie.comparator);function $r(){return Bx}const U1=new Vt(Ie.comparator);function Zl(...r){let e=U1;for(const n of r)e=e.insert(n.key,n);return e}function z1(r){let e=U1;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Oa(){return ou()}function j1(){return ou()}function ou(){return new ja((r=>r.toString()),((r,e)=>r.isEqual(e)))}const qx=new Vt(Ie.comparator),Hx=new an(Ie.comparator);function Ze(...r){let e=Hx;for(const n of r)e=e.add(n);return e}const Fx=new an(Ge);function Gx(){return Fx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function B1(r){return{integerValue:""+r}}function q1(r,e){return _x(e)?B1(e):Jp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function Qx(r,e,n){return r instanceof qh?(function(o,u){const f={fields:{[b1]:{stringValue:w1},[A1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qp(u)&&(u=of(u)),u&&(f.fields[S1]=u),{mapValue:f}})(n,e):r instanceof qo?F1(r,e):r instanceof yu?G1(r,e):(function(o,u){const f=H1(o,u),m=oE(f)+oE(o.Ee);return op(f)&&op(o.Ee)?B1(m):Jp(o.serializer,m)})(r,e)}function Yx(r,e,n){return r instanceof qo?F1(r,e):r instanceof yu?G1(r,e):n}function H1(r,e){return r instanceof vu?(function(s){return op(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class qh extends cf{}class qo extends cf{constructor(e){super(),this.elements=e}}function F1(r,e){const n=Q1(e);for(const s of r.elements)n.some((o=>gr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class yu extends cf{constructor(e){super(),this.elements=e}}function G1(r,e){let n=Q1(e);for(const s of r.elements)n=n.filter((o=>!gr(o,s)));return{arrayValue:{values:n}}}class vu extends cf{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function oE(r){return Ft(r.integerValue||r.doubleValue)}function Q1(r){return Yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n){this.field=e,this.transform=n}}function Kx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof qo&&o instanceof qo||s instanceof yu&&o instanceof yu?zo(s.elements,o.elements,gr):s instanceof vu&&o instanceof vu?gr(s.Ee,o.Ee):s instanceof qh&&o instanceof qh})(r.transform,e.transform)}class $x{constructor(e,n){this.version=e,this.transformResults=n}}class sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sn}static exists(e){return new sn(void 0,e)}static updateTime(e){return new sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class hf{}function K1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Mu(r.key,sn.none()):new Nu(r.key,r.data,sn.none());{const n=r.data,s=jn.empty();let o=new an(An.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new na(r.key,s,new mi(o.toArray()),sn.none())}}function Xx(r,e,n){r instanceof Nu?(function(o,u,f){const m=o.value.clone(),p=uE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof na?(function(o,u,f){if(!Sh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=uE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll($1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function lu(r,e,n,s){return r instanceof Nu?(function(u,f,m,p){if(!Sh(u.precondition,f))return m;const g=u.value.clone(),E=cE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof na?(function(u,f,m,p){if(!Sh(u.precondition,f))return m;const g=cE(u.fieldTransforms,p,f),E=f.data;return E.setAll($1(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,e,n,s):(function(u,f,m){return Sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function Jx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=H1(s.transform,o||null);u!=null&&(n===null&&(n=jn.empty()),n.set(s.field,u))}return n||null}function lE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&zo(s,o,((u,f)=>Kx(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Nu extends hf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class na extends hf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function uE(r,e,n){const s=new Map;it(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Yx(f,m,n[o]))}return s}function cE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Qx(u,f,e))}return s}class Mu extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X1 extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Xx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=j1();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=K1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Oe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,((n,s)=>lE(n,s)))&&zo(this.baseMutations,e.baseMutations,((n,s)=>lE(n,s)))}}class Wp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){it(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=(function(){return qx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Wp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,nt;function J1(r){switch(r){case ie.OK:return Ne(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ne(15467,{code:r})}}function W1(r){if(r===void 0)return Kr("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Jt.OK:return ie.OK;case Jt.CANCELLED:return ie.CANCELLED;case Jt.UNKNOWN:return ie.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return ie.INTERNAL;case Jt.UNAVAILABLE:return ie.UNAVAILABLE;case Jt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Jt.NOT_FOUND:return ie.NOT_FOUND;case Jt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Jt.ABORTED:return ie.ABORTED;case Jt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Jt.DATA_LOSS:return ie.DATA_LOSS;default:return Ne(39323,{code:r})}}(nt=Jt||(Jt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new Hs([4294967295,4294967295],0);function hE(r){const e=g1().encode(r),n=new l1;return n.update(e),new Uint8Array(n.digest())}function fE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Hs([n,s],0),new Hs([o,u],0)]}class Zp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(s<0)throw new eu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Hs.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(Hs.fromNumber(s)));return o.compare(tD)===1&&(o=new Hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=hE(e),[s,o]=fE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Zp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.fe===0)return;const n=hE(e),[s,o]=fE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ff(Oe.min(),o,new Vt(Ge),$r(),Ze())}}class Ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ou(s,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class Z1{constructor(e,n){this.targetId=e,this.De=n}}class ew{constructor(e,n,s=Rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class dE{constructor(){this.ve=0,this.Ce=mE(),this.Fe=Rn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ze(),n=Ze(),s=Ze();return this.Ce.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ne(38017,{changeType:u})}})),new Ou(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=mE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class nD{constructor(e){this.We=e,this.Ge=new Map,this.ze=$r(),this.je=dh(),this.Je=dh(),this.He=new Vt(Ge)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(up(u))if(s===0){const f=new Ie(u.path);this.Xe(n,f,gn.newNoDocument(f,Oe.min()))}else it(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Xs(s).toUint8Array()}catch(p){if(p instanceof T1)return Ys("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Zp(f,o,u)}catch(p){return Ys(p instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(e){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&up(m.target)){const p=new Ie(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,gn.newNoDocument(p,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=Ze();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(e)));const o=new ff(e,n,this.He,this.ze,s);return this.ze=$r(),this.je=dh(),this.Je=dh(),this.He=new Vt(Ge),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new dE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new an(Ge),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new an(Ge),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new dE),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function dh(){return new Vt(Ie.comparator)}function mE(){return new Vt(Ie.comparator)}const iD={asc:"ASCENDING",desc:"DESCENDING"},rD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sD={and:"AND",or:"OR"};class aD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fp(r,e){return r.useProto3Json||xu(e)?e:{value:e}}function Hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function oD(r,e){return Hh(r,e.toTimestamp())}function gi(r){return it(!!r,49232),Oe.fromTimestamp((function(n){const s=$s(n);return new At(s.seconds,s.nanos)})(r))}function eg(r,e){return dp(r,e).canonicalString()}function dp(r,e){const n=(function(o){return new pt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function nw(r){const e=pt.fromString(r);return it(lw(e),10190,{key:e.toString()}),e}function Fh(r,e){return eg(r.databaseId,e.path)}function uu(r,e){const n=nw(e);if(n.get(1)!==r.databaseId.projectId)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ie(rw(n))}function iw(r,e){return eg(r.databaseId,e)}function lD(r){const e=nw(r);return e.length===4?pt.emptyPath():rw(e)}function mp(r){return new pt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rw(r){return it(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function pE(r,e,n){return{name:Fh(r,e),fields:n.value.mapValue.fields}}function uD(r,e){return"found"in e?(function(s,o){it(!!o.found,43571),o.found.name,o.found.updateTime;const u=uu(s,o.found.name),f=gi(o.found.updateTime),m=o.found.createTime?gi(o.found.createTime):Oe.min(),p=new jn({mapValue:{fields:o.found.fields}});return gn.newFoundDocument(u,f,m,p)})(r,e):"missing"in e?(function(s,o){it(!!o.missing,3894),it(!!o.readTime,22933);const u=uu(s,o.missing),f=gi(o.readTime);return gn.newNoDocument(u,f)})(r,e):Ne(7234,{result:e})}function cD(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ne(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(it(E===void 0||typeof E=="string",58123),Rn.fromBase64String(E||"")):(it(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Rn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?ie.UNKNOWN:W1(g.code);return new ye(E,g.message||"")})(f);n=new ew(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=uu(r,s.document.name),u=gi(s.document.updateTime),f=s.document.createTime?gi(s.document.createTime):Oe.min(),m=new jn({mapValue:{fields:s.document.fields}}),p=gn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Ah(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=uu(r,s.document),u=s.readTime?gi(s.readTime):Oe.min(),f=gn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Ah([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=uu(r,s.document),u=s.removedTargetIds||[];n=new Ah([],u,o,null)}else{if(!("filter"in e))return Ne(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new eD(o,u),m=s.targetId;n=new Z1(m,f)}}return n}function sw(r,e){let n;if(e instanceof Nu)n={update:pE(r,e.key,e.value)};else if(e instanceof Mu)n={delete:Fh(r,e.key)};else if(e instanceof na)n={update:pE(r,e.key,e.data),updateMask:_D(e.fieldMask)};else{if(!(e instanceof X1))return Ne(16599,{Rt:e.type});n={verify:Fh(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof qh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof qo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof yu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vu)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw Ne(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:oD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ne(27497)})(r,e.precondition)),n}function hD(r,e){return r&&r.length>0?(it(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?gi(o.updateTime):gi(u);return f.isEqual(Oe.min())&&(f=gi(u)),new $x(f,o.transformResults||[])})(n,e)))):[]}function fD(r,e){return{documents:[iw(r,e.path)]}}function dD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=iw(r,o);const u=(function(g){if(g.length!==0)return ow($i.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:Do(A.field),direction:gD(A.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=fp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{Vt:n,parent:o}}function mD(r){let e=lD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){it(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(w){const A=aw(w);return A instanceof $i&&N1(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((A=>(function(G){return new Bh(No(G.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let A;return A=typeof w=="object"?w.value:w,xu(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(w){const A=!!w.before,V=w.values||[];return new jh(V,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const A=!w.before,V=w.values||[];return new jh(V,A)})(n.endAt)),Lx(e,o,f,u,m,"F",p,g)}function pD(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aw(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=No(n.unaryFilter.field);return Wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=No(n.unaryFilter.field);return Wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=No(n.unaryFilter.field);return Wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=No(n.unaryFilter.field);return Wt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Wt.create(No(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return $i.create(n.compositeFilter.filters.map((s=>aw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(r):Ne(30097,{filter:r})}function gD(r){return iD[r]}function yD(r){return rD[r]}function vD(r){return sD[r]}function Do(r){return{fieldPath:r.canonicalString()}}function No(r){return An.fromServerFormat(r.fieldPath)}function ow(r){return r instanceof Wt?(function(n){if(n.op==="=="){if(nE(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nE(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(n.field),op:yD(n.op),value:n.value}}})(r):r instanceof $i?(function(n){const s=n.getFilters().map((o=>ow(o)));return s.length===1?s[0]:{compositeFilter:{op:vD(n.op),filters:s}}})(r):Ne(54877,{filter:r})}function _D(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function lw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n,s,o,u=Oe.min(),f=Oe.min(),m=Rn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.gt=e}}function TD(r){const e=mD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.Dn=new bD}addToCollectionParentIndex(e,n){return this.Dn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Ks.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class bD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new an(pt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new an(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uw=41943040;class ti{static withCacheSize(e){return new ti(e,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti.DEFAULT_COLLECTION_PERCENTILE=10,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ti.DEFAULT=new ti(uw,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ti.DISABLED=new ti(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ho(0)}static ur(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LruGarbageCollector",SD=1048576;function vE([r,e],[n,s]){const o=Ge(r,n);return o===0?Ge(e,s):o}class AD{constructor(e){this.Tr=e,this.buffer=new an(vE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ve(yE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jo(n)?ve(yE,"Ignoring IndexedDB error during garbage collection: ",n):await Xo(n)}await this.Rr(3e5)}))}}class ID{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(af.ue);const s=new AD(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(gE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gE):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(g=Date.now(),Co()<=We.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function CD(r,e){return new ID(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.changes=new ja((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&lu(s.mutation,o,mi.empty(),At.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ze()){const o=Oa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Zl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Oa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ze())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=$r();const f=ou(),m=(function(){return ou()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof na)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),lu(E.mutation,g,E.mutation.getFieldMask(),At.now())):f.set(g.key,mi.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>{var w;return m.set(g,new DD(E,(w=f.get(g))!==null&&w!==void 0?w:null))})),m)))}recalculateAndSaveOverlays(e,n){const s=ou();let o=new Vt(((f,m)=>f-m)),u=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||mi.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Ze()).add(p);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=j1();E.forEach((A=>{if(!u.has(A)){const V=K1(n.get(A),s.get(A));V!==null&&w.set(A,V),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return oe.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return Ie.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):k1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):oe.resolve(Oa());let m=du,p=u;return f.next((g=>oe.forEach(g,((E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?oe.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ze()))).next((E=>({batchId:m,changes:z1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Zl();return this.indexManager.getCollectionParents(e,u).next((m=>oe.forEach(m,(p=>{const g=(function(w,A){return new Du(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((w,A)=>{f=f.insert(w,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,gn.newInvalidDocument(E)))}));let m=Zl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&lu(E.mutation,g,mi.empty(),At.now()),uf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:gi(o.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:TD(o.bundledQuery),readTime:gi(o.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.overlays=new Vt(Ie.comparator),this.kr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Oa();return oe.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.wt(e,n,u)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const o=Oa(),u=n.length+1,f=new Ie(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Vt(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Oa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Oa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return oe.resolve(m)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Zx(n,s));let u=this.kr.get(n);u===void 0&&(u=Ze(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.qr=new an(pn.Qr),this.$r=new an(pn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new pn(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new pn(e,n))}Gr(e,n){e.forEach((s=>this.removeReference(s,n)))}zr(e){const n=new Ie(new pt([])),s=new pn(n,e),o=new pn(n,e+1),u=[];return this.$r.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ie(new pt([])),s=new pn(n,e),o=new pn(n,e+1);let u=Ze();return this.$r.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new pn(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class pn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ie.comparator(e.key,n.key)||Ge(e.Hr,n.Hr)}static Ur(e,n){return Ge(e.Hr,n.Hr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new an(pn.Qr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Wx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new pn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(f)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Gp:this.er-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new pn(n,0),o=new pn(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new an(Ge);return n.forEach((o=>{const u=new pn(o,0),f=new pn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),oe.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ie.isDocumentKey(u)||(u=u.child(""));const f=new pn(new Ie(u),0);let m=new an(Ge);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),f),oe.resolve(this.ei(m))}ei(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){it(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return oe.forEach(n.mutations,(o=>{const u=new pn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,n){const s=new pn(n,0),o=this.Yr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.ni=e,this.docs=(function(){return new Vt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let s=$r();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():gn.newInvalidDocument(o))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=$r();const f=n.path,m=new Ie(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||px(mx(E),s)<=0||(o.has(E.key)||uf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ne(9500)}ri(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new LD(this)}getSize(e){return oe.resolve(this.size)}}class LD extends xD{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.persistence=e,this.ii=new ja((n=>Kp(n)),$p),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.si=0,this.oi=new tg,this.targetCount=0,this._i=Ho.ar()}forEachTarget(e,n){return this.ii.forEach(((s,o)=>n(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),oe.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ho(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.hr(n),oe.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),oe.waitFor(u).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),oe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n){this.ai={},this.overlays={},this.ui=new af(0),this.ci=!1,this.ci=!0,this.li=new VD,this.referenceDelegate=e(this),this.hi=new UD(this),this.indexManager=new wD,this.remoteDocumentCache=(function(o){return new PD(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new ED(n),this.Ti=new MD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new kD(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ve("MemoryPersistence","Starting transaction:",e);const o=new zD(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return oe.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,n))))}}class zD extends yx{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Ai=new tg,this.Ri=null}static Vi(e){return new ng(e)}get mi(){if(this.Ri)return this.Ri;throw Ne(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.mi,(s=>{const o=Ie.fromPath(s);return this.fi(e,o).next((u=>{u||n.removeEntry(o,Oe.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return oe.or([()=>oe.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Gh{constructor(e,n){this.persistence=e,this.gi=new ja((s=>Ex(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=CD(this,n)}static Vi(e,n){return new Gh(e,n)}Ii(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}yr(e){let n=0;return this.gr(e,(s=>{n++})).next((()=>n))}gr(e,n){return oe.forEach(this.gi,((s,o)=>this.Sr(e,s,o).next((u=>u?oe.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,(f=>this.Sr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Oe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wh(e.data.value)),n}Sr(e,n,s){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return oe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=Ze(),o=Ze();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ig(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return qR()?8:vx(Vn())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new jD;return this.ws(e,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)}))})).next((()=>u.result))}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(Co()<=We.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(Co()<=We.DEBUG&&ve("QueryEngine","Query:",xo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Co()<=We.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(n))):oe.resolve())}ps(e,n){if(aE(n))return oe.resolve(null);let s=fr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=hp(n,null,"F"),s=fr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ze(...u);return this.gs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,f,p.readTime)?this.ps(e,hp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ys(e,n,s,o){return aE(n)||o.isEqual(Oe.min())?oe.resolve(null):this.gs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?oe.resolve(null):(Co()<=We.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(n)),this.vs(e,f,n,dx(o,du)).next((m=>m)))}))}bs(e,n){let s=new an(L1(e));return n.forEach(((o,u)=>{uf(e,u)&&(s=s.add(u))})),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return Co()<=We.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",xo(n)),this.gs.getDocumentsMatchingQuery(e,n,Ks.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="LocalStore",qD=3e8;class HD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new Vt(Ge),this.Ms=new ja((u=>Kp(u)),$p),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ND(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function FD(r,e,n,s){return new HD(r,e,n,s)}async function hw(r,e){const n=ke(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Ze();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function GD(r,e){const n=ke(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const w=g.batch,A=w.keys();let V=oe.resolve();return A.forEach((G=>{V=V.next((()=>E.getEntry(p,G))).next((Z=>{const L=g.docVersions.get(G);it(L!==null,48541),Z.version.compareTo(L)<0&&(w.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),E.addEntry(Z)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,w)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ze();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function fw(r){const e=ke(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function QD(r,e){const n=ke(r),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach(((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,w).next((()=>n.hi.addMatchingKeys(u,E.addedDocuments,w))));let V=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?V=V.withResumeToken(Rn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(w,V),(function(Z,L,ue){return Z.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=qD?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(A,V,E)&&m.push(n.hi.updateTargetData(u,V))}));let p=$r(),g=Ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(YD(u,f,e.documentUpdates).next((E=>{p=E.Ls,g=E.ks}))),!s.isEqual(Oe.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next((w=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return oe.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function YD(r,e,n){let s=Ze(),o=Ze();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=$r();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ve(rg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:f,ks:o}}))}function KD(r,e){const n=ke(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Gp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function $D(r,e){const n=ke(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,e).next((u=>u?(o=u,oe.resolve(o)):n.hi.allocateTargetId(s).next((f=>(o=new Ls(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s}))}async function pp(r,e,n){const s=ke(r),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Jo(f))throw f;ve(rg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function _E(r,e,n){const s=ke(r);let o=Oe.min(),u=Ze();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const w=ke(p),A=w.Ms.get(E);return A!==void 0?oe.resolve(w.Fs.get(A)):w.hi.getTargetData(g,E)})(s,f,fr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Oe.min(),n?u:Ze()))).next((m=>(XD(s,zx(e),m),{documents:m,qs:u})))))}function XD(r,e,n){let s=r.xs.get(e)||Oe.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(e,s)}class EE{constructor(){this.activeTargetIds=Gx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JD{constructor(){this.Fo=new EE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new EE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="ConnectivityMonitor";class wE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ve(TE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ve(TE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function gp(){return mh===null?mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="RestConnection",ZD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eN{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Uh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=gp(),m=this.Go(e,n.toUriEncodedString());ve(Vm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=Qo(g);return this.jo(e,m,p,s,E).then((w=>(ve(Vm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw Ys(Vm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w}))}Jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Go(e,n){const s=ZD[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class nN extends eN{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const f=gp();return new Promise(((m,p)=>{const g=new u1;g.setWithCredentials(!0),g.listenOnce(c1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Th.NO_ERROR:const w=g.getResponseJson();ve(Mn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Th.TIMEOUT:ve(Mn,`RPC '${e}' ${f} timed out`),p(new ye(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const A=g.getStatus();if(ve(Mn,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const G=V==null?void 0:V.error;if(G&&G.status&&G.message){const Z=(function(ue){const he=ue.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(he)>=0?he:ie.UNKNOWN})(G.status);p(new ye(Z,G.message))}else p(new ye(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ye(ie.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{c_:e,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ve(Mn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ve(Mn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}P_(e,n,s){const o=gp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=d1(),m=f1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ve(Mn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.T_(w);let A=!1,V=!1;const G=new tN({Ho:L=>{V?ve(Mn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(ve(Mn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ve(Mn,`RPC '${e}' stream ${o} sending:`,L),w.send(L))},Yo:()=>w.close()}),Z=(L,ue,he)=>{L.listen(ue,(re=>{try{he(re)}catch(Se){setTimeout((()=>{throw Se}),0)}}))};return Z(w,Wl.EventType.OPEN,(()=>{V||(ve(Mn,`RPC '${e}' stream ${o} transport opened.`),G.s_())})),Z(w,Wl.EventType.CLOSE,(()=>{V||(V=!0,ve(Mn,`RPC '${e}' stream ${o} transport closed`),G.__(),this.I_(w))})),Z(w,Wl.EventType.ERROR,(L=>{V||(V=!0,Ys(Mn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),G.__(new ye(ie.UNAVAILABLE,"The operation could not be completed")))})),Z(w,Wl.EventType.MESSAGE,(L=>{var ue;if(!V){const he=L.data[0];it(!!he,16349);const re=he,Se=(re==null?void 0:re.error)||((ue=re[0])===null||ue===void 0?void 0:ue.error);if(Se){ve(Mn,`RPC '${e}' stream ${o} received error:`,Se);const Pe=Se.status;let De=(function(C){const O=Jt[C];if(O!==void 0)return W1(O)})(Pe),N=Se.message;De===void 0&&(De=ie.INTERNAL,N="Unknown error status: "+Pe+" with message "+Se.message),V=!0,G.__(new ye(De,N)),w.close()}else ve(Mn,`RPC '${e}' stream ${o} received:`,he),G.a_(he)}})),Z(m,h1.STAT_EVENT,(L=>{L.stat===rp.PROXY?ve(Mn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===rp.NOPROXY&&ve(Mn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.o_()}),0),G}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(r){return new aD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="PersistentStream";class dw{constructor(e,n,s,o,u,f,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new sg(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Kr(n.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{e((()=>{const o=new ye(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return ve(bE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(ve(bE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iN extends dw{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=cD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Oe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Oe.min():f.readTime?gi(f.readTime):Oe.min()})(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=mp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=up(p)?{documents:fD(u,p)}:{query:dD(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=tw(u,f.resumeToken);const g=fp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Oe.min())>0){m.readTime=Hh(u,f.snapshotVersion.toTimestamp());const g=fp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=pD(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=mp(this.serializer),n.removeTarget=e,this.k_(n)}}class rN extends dw{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=hD(e.writeResults,e.commitTime),s=gi(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=mp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>sw(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{}class aN extends sN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,dp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ie.UNKNOWN,u.toString())}))}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(e,dp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ye(ie.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class oN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Kr(n),this._a=!1):ve("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="RemoteStore";class lN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{Ba(this)&&(ve(Ua,"Restarting streams for network reachability change."),await(async function(p){const g=ke(p);g.Ia.add(4),await Vu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await mf(g)})(this))}))})),this.Aa=new oN(s,o)}}async function mf(r){if(Ba(r))for(const e of r.da)await e(!0)}async function Vu(r){for(const e of r.da)await e(!1)}function mw(r,e){const n=ke(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),ug(n)?lg(n):Wo(n).x_()&&og(n,e))}function ag(r,e){const n=ke(r),s=Wo(n);n.Ta.delete(e),s.x_()&&pw(n,e),n.Ta.size===0&&(s.x_()?s.B_():Ba(n)&&n.Aa.set("Unknown"))}function og(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wo(r).H_(e)}function pw(r,e){r.Ra.$e(e),Wo(r).Y_(e)}function lg(r){r.Ra=new nD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Wo(r).start(),r.Aa.aa()}function ug(r){return Ba(r)&&!Wo(r).M_()&&r.Ta.size>0}function Ba(r){return ke(r).Ia.size===0}function gw(r){r.Ra=void 0}async function uN(r){r.Aa.set("Online")}async function cN(r){r.Ta.forEach(((e,n)=>{og(r,e)}))}async function hN(r,e){gw(r),ug(r)?(r.Aa.la(e),lg(r)):r.Aa.set("Unknown")}async function fN(r,e,n){if(r.Aa.set("Online"),e instanceof ew&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))})(r,e)}catch(s){ve(Ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qh(r,s)}else if(e instanceof Ah?r.Ra.Ye(e):e instanceof Z1?r.Ra.it(e):r.Ra.et(e),!n.isEqual(Oe.min()))try{const s=await fw(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(Rn.EMPTY_BYTE_STRING,E.snapshotVersion)),pw(u,p);const w=new Ls(E.target,p,g,E.sequenceNumber);og(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ve(Ua,"Failed to raise snapshot:",s),await Qh(r,s)}}async function Qh(r,e,n){if(!Jo(e))throw e;r.Ia.add(1),await Vu(r),r.Aa.set("Offline"),n||(n=()=>fw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ve(Ua,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await mf(r)}))}function yw(r,e){return e().catch((n=>Qh(r,n,e)))}async function pf(r){const e=ke(r),n=Ws(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Gp;for(;dN(e);)try{const o=await KD(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,mN(e,o)}catch(o){await Qh(e,o)}vw(e)&&_w(e)}function dN(r){return Ba(r)&&r.Pa.length<10}function mN(r,e){r.Pa.push(e);const n=Ws(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function vw(r){return Ba(r)&&!Ws(r).M_()&&r.Pa.length>0}function _w(r){Ws(r).start()}async function pN(r){Ws(r).na()}async function gN(r){const e=Ws(r);for(const n of r.Pa)e.X_(n.mutations)}async function yN(r,e,n){const s=r.Pa.shift(),o=Wp.from(s,e,n);await yw(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await pf(r)}async function vN(r,e){e&&Ws(r).Z_&&await(async function(s,o){if((function(f){return J1(f)&&f!==ie.ABORTED})(o.code)){const u=s.Pa.shift();Ws(s).N_(),await yw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await pf(s)}})(r,e),vw(r)&&_w(r)}async function SE(r,e){const n=ke(r);n.asyncQueue.verifyOperationInProgress(),ve(Ua,"RemoteStore received new credentials");const s=Ba(n);n.Ia.add(3),await Vu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await mf(n)}async function _N(r,e){const n=ke(r);e?(n.Ia.delete(2),await mf(n)):e||(n.Ia.add(2),await Vu(n),n.Aa.set("Unknown"))}function Wo(r){return r.Va||(r.Va=(function(n,s,o){const u=ke(n);return u.ia(),new iN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:uN.bind(null,r),e_:cN.bind(null,r),n_:hN.bind(null,r),J_:fN.bind(null,r)}),r.da.push((async e=>{e?(r.Va.N_(),ug(r)?lg(r):r.Aa.set("Unknown")):(await r.Va.stop(),gw(r))}))),r.Va}function Ws(r){return r.ma||(r.ma=(function(n,s,o){const u=ke(n);return u.ia(),new rN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:pN.bind(null,r),n_:vN.bind(null,r),ea:gN.bind(null,r),ta:yN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.N_(),await pf(r)):(await r.ma.stop(),r.Pa.length>0&&(ve(Ua,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new cg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(r,e){if(Kr("AsyncQueue",`${e}: ${r}`),Jo(r))return new ye(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{static emptySet(e){return new Po(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ie.comparator(n.key,s.key):(n,s)=>Ie.comparator(n.key,s.key),this.keyedMap=Zl(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.fa=new Vt(Ie.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ne(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Fo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Fo(e,n,Po.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class TN{constructor(){this.queries=RE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=ke(n),u=o.queries;o.queries=RE(),u.forEach(((f,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ye(ie.ABORTED,"Firestore shutting down"))}}function RE(){return new ja((r=>P1(r)),lf)}async function Ew(r,e){const n=ke(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new EN,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=hg(f,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&fg(n)}async function Tw(r,e){const n=ke(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wN(r,e){const n=ke(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&fg(n)}function bN(r,e,n){const s=ke(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function fg(r){r.Da.forEach((e=>{e.next()}))}var yp,IE;(IE=yp||(yp={})).Fa="default",IE.Cache="cache";class ww{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.key=e}}class Sw{constructor(e){this.key=e}}class SN{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ze(),this.mutatedKeys=Ze(),this.Xa=L1(e),this.eu=new Po(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new AE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const A=o.get(E),V=uf(this.query,w)?w:null,G=!!A&&this.mutatedKeys.has(A.key),Z=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let L=!1;A&&V?A.data.isEqual(V.data)?G!==Z&&(s.track({type:3,doc:V}),L=!0):this.iu(A,V)||(s.track({type:2,doc:V}),L=!0,(p&&this.Xa(V,p)>0||g&&this.Xa(V,g)<0)&&(m=!0)):!A&&V?(s.track({type:0,doc:V}),L=!0):A&&!V&&(s.track({type:1,doc:A}),L=!0,(p||g)&&(m=!0)),L&&(V?(f=f.add(V),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort(((E,w)=>(function(V,G){const Z=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{At:L})}};return Z(V)-Z(G)})(E.type,w.type)||this.Xa(E.doc,w.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new Fo(this.query,e.eu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new AE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ze(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return e.forEach((s=>{this.Za.has(s)||n.push(new Sw(s))})),this.Za.forEach((s=>{e.has(s)||n.push(new bw(s))})),n}uu(e){this.Ha=e.qs,this.Za=Ze();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Fo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const dg="SyncEngine";class AN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class RN{constructor(e){this.key=e,this.lu=!1}}class IN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new ja((m=>P1(m)),lf),this.Tu=new Map,this.Iu=new Set,this.du=new Vt(Ie.comparator),this.Eu=new Map,this.Au=new tg,this.Ru={},this.Vu=new Map,this.mu=Ho.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function CN(r,e,n=!0){const s=Dw(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await Aw(s,e,n,!0),o}async function xN(r,e){const n=Dw(r);await Aw(n,e,!0,!1)}async function Aw(r,e,n,s){const o=await $D(r.localStore,fr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await DN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&mw(r.remoteStore,o),m}async function DN(r,e,n,s,o){r.gu=(w,A,V)=>(async function(Z,L,ue,he){let re=L.view.nu(ue);re.Ds&&(re=await _E(Z.localStore,L.query,!1).then((({documents:N})=>L.view.nu(N,re))));const Se=he&&he.targetChanges.get(L.targetId),Pe=he&&he.targetMismatches.get(L.targetId)!=null,De=L.view.applyChanges(re,Z.isPrimaryClient,Se,Pe);return xE(Z,L.targetId,De._u),De.snapshot})(r,w,A,V);const u=await _E(r.localStore,e,!0),f=new SN(e,u.qs),m=f.nu(u.documents),p=Ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);xE(r,n,g._u);const E=new AN(e,n,f);return r.Pu.set(e,E),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),g.snapshot}async function NN(r,e,n){const s=ke(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((f=>!lf(f,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ag(s.remoteStore,o.targetId),vp(s,o.targetId)})).catch(Xo)):(vp(s,o.targetId),await pp(s.localStore,o.targetId,!0))}async function MN(r,e){const n=ke(r),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ag(n.remoteStore,s.targetId))}async function ON(r,e,n){const s=jN(r);try{const o=await(function(f,m){const p=ke(f),g=At.now(),E=m.reduce(((V,G)=>V.add(G.key)),Ze());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let G=$r(),Z=Ze();return p.Os.getEntries(V,E).next((L=>{G=L,G.forEach(((ue,he)=>{he.isValidDocument()||(Z=Z.add(ue))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,G))).next((L=>{w=L;const ue=[];for(const he of m){const re=Jx(he,w.get(he.key).overlayedDocument);re!=null&&ue.push(new na(he.key,re,C1(re.value.mapValue),sn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,ue,m)})).next((L=>{A=L;const ue=L.applyToLocalDocumentSet(w,Z);return p.documentOverlayCache.saveOverlays(V,L.batchId,ue)}))})).then((()=>({batchId:A.batchId,changes:z1(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new Vt(Ge)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g})(s,o.batchId,n),await ku(s,o.changes),await pf(s.remoteStore)}catch(o){const u=hg(o,"Failed to persist write");n.reject(u)}}async function Rw(r,e){const n=ke(r);try{const s=await QD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?it(f.lu,14607):o.removedDocuments.size>0&&(it(f.lu,42227),f.lu=!1))})),await ku(n,s,e)}catch(s){await Xo(s)}}function CE(r,e,n){const s=ke(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=ke(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,w)=>{for(const A of w.wa)A.va(m)&&(g=!0)})),g&&fg(p)})(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function VN(r,e,n){const s=ke(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new Vt(Ie.comparator);f=f.insert(u,gn.newNoDocument(u,Oe.min()));const m=Ze().add(u),p=new ff(Oe.min(),new Map,new Vt(Ge),f,m);await Rw(s,p),s.du=s.du.remove(u),s.Eu.delete(e),mg(s)}else await pp(s.localStore,e,!1).then((()=>vp(s,e,n))).catch(Xo)}async function kN(r,e){const n=ke(r),s=e.batch.batchId;try{const o=await GD(n.localStore,e);Cw(n,s,null),Iw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ku(n,o)}catch(o){await Xo(o)}}async function PN(r,e,n){const s=ke(r);try{const o=await(function(f,m){const p=ke(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((w=>(it(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);Cw(s,e,n),Iw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ku(s,o)}catch(o){await Xo(o)}}function Iw(r,e){(r.Vu.get(e)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(e)}function Cw(r,e,n){const s=ke(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function vp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach((s=>{r.Au.containsKey(s)||xw(r,s)}))}function xw(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(ag(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),mg(r))}function xE(r,e,n){for(const s of n)s instanceof bw?(r.Au.addReference(s.key,e),LN(r,s)):s instanceof Sw?(ve(dg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||xw(r,s.key)):Ne(19791,{yu:s})}function LN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(ve(dg,"New document in limbo: "+n),r.Iu.add(s),mg(r))}function mg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new Ie(pt.fromString(e)),s=r.mu.next();r.Eu.set(s,new RN(n)),r.du=r.du.insert(n,s),mw(r.remoteStore,new Ls(fr(Xp(n.path)),s,"TargetPurposeLimboResolution",af.ue))}}async function ku(r,e,n){const s=ke(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{f.push(s.gu(p,e,n).then((g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=ig.Es(p.targetId,g);u.push(w)}})))})),await Promise.all(f),s.hu.J_(o),await(async function(p,g){const E=ke(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>oe.forEach(g,(A=>oe.forEach(A.Is,(V=>E.persistence.referenceDelegate.addReference(w,A.targetId,V))).next((()=>oe.forEach(A.ds,(V=>E.persistence.referenceDelegate.removeReference(w,A.targetId,V)))))))))}catch(w){if(!Jo(w))throw w;ve(rg,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const V=E.Fs.get(A),G=V.snapshotVersion,Z=V.withLastLimboFreeSnapshotVersion(G);E.Fs=E.Fs.insert(A,Z)}}})(s.localStore,u))}async function UN(r,e){const n=ke(r);if(!n.currentUser.isEqual(e)){ve(dg,"User change. New user:",e.toKey());const s=await hw(n.localStore,e);n.currentUser=e,(function(u,f){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ye(ie.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ku(n,s.Bs)}}function zN(r,e){const n=ke(r),s=n.Eu.get(e);if(s&&s.lu)return Ze().add(s.key);{let o=Ze();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function Dw(r){const e=ke(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VN.bind(null,e),e.hu.J_=wN.bind(null,e.eventManager),e.hu.pu=bN.bind(null,e.eventManager),e}function jN(r){const e=ke(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PN.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return FD(this.persistence,new BD,e.initialUser,this.serializer)}Du(e){return new cw(ng.Vi,this.serializer)}bu(e){return new JD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class BN extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){it(this.persistence.referenceDelegate instanceof Gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new RD(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?ti.withCacheSize(this.cacheSizeBytes):ti.DEFAULT;return new cw((s=>Gh.Vi(s,n)),this.serializer)}}class _p{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>CE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UN.bind(null,this.syncEngine),await _N(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TN})()}createDatastore(e){const n=df(e.databaseInfo.databaseId),s=(function(u){return new nN(u)})(e.databaseInfo);return(function(u,f,m,p){return new aN(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new lN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>CE(this.syncEngine,n,0)),(function(){return wE.C()?new wE:new WD})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const w=new IN(o,u,f,m,p,g);return E&&(w.fu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=ke(o);ve(Ua,"RemoteStore shutting down."),u.Ia.add(5),await Vu(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ye(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=ke(o),m={documents:u.map((w=>Fh(f.serializer,w)))},p=await f.Jo("BatchGetDocuments",f.serializer.databaseId,pt.emptyPath(),m,u.length),g=new Map;p.forEach((w=>{const A=uD(f.serializer,w);g.set(A.key.toString(),A)}));const E=[];return u.forEach((w=>{const A=g.get(w.toString());it(!!A,55234,{key:w}),E.push(A)})),E})(this.datastore,e);return n.forEach((s=>this.recordVersion(s))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,s)=>{const o=Ie.fromPath(s);this.mutations.push(new X1(o,this.precondition(o)))})),await(async function(s,o){const u=ke(s),f={writes:o.map((m=>sw(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,pt.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ne(50498,{Wu:e.constructor.name});n=Oe.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new ye(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Oe.min())?sn.exists(!1):sn.updateTime(n):sn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Oe.min()))throw new ye(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sn.updateTime(n)}return sn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,s,o,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new sg(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const e=new qN(this.datastore),n=this.Ju(e);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(e){try{const n=this.updateFunction(e);return!xu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!J1(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class FN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=On.UNAUTHENTICATED,this.clientId=Fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ve(Zs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ve(Zs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=hg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Pm(r,e){r.asyncQueue.verifyOperationInProgress(),ve(Zs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await hw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>{Ys("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{ve("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Ys("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=e}async function DE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await GN(r);ve(Zs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>SE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>SE(e.remoteStore,o))),r._onlineComponents=e}async function GN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ve(Zs,"Using user provided OfflineComponentProvider");try{await Pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ys("Error using user provided cache. Falling back to memory cache: "+n),await Pm(r,new Yh)}}else ve(Zs,"Using default OfflineComponentProvider"),await Pm(r,new BN(void 0));return r._offlineComponents}async function pg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ve(Zs,"Using user provided OnlineComponentProvider"),await DE(r,r._uninitializedComponentsProvider._online)):(ve(Zs,"Using default OnlineComponentProvider"),await DE(r,new _p))),r._onlineComponents}function QN(r){return pg(r).then((e=>e.syncEngine))}function YN(r){return pg(r).then((e=>e.datastore))}async function Ep(r){const e=await pg(r),n=e.eventManager;return n.onListen=CN.bind(null,e.syncEngine),n.onUnlisten=NN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MN.bind(null,e.syncEngine),n}function KN(r,e,n={}){const s=new Fr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new Nw({next:A=>{E.Ou(),f.enqueueAndForget((()=>Tw(u,w))),A.fromCache&&p.source==="server"?g.reject(new ye(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new ww(m,E,{includeMetadataChanges:!0,ka:!0});return Ew(u,w)})(await Ep(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="firestore.googleapis.com",ME=!0;class OE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ow,this.ssl=ME}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ME;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SD)throw new ye(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ix;switch(s.type){case"firstParty":return new ox(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=NE.get(n);s&&(ve("ComponentProvider","Removing Datastore"),NE.delete(n),s.terminate())})(this),Promise.resolve()}}function $N(r,e,n,s={}){var o;r=pi(r,gf);const u=Qo(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(ET(`https://${p}`),TT("Firestore",!0)),f.host!==Ow&&f.host!==p&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Qs(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=On.MOCK_USER;else{E=OR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ye(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new On(A)}r._authCredentials=new rx(new p1(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qa(this.firestore,e,this._query)}}class zt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Cu(n,zt._jsonSchema))return new zt(e,s||null,new Ie(pt.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Zt("string",zt._jsonSchemaVersion),referencePath:Zt("string")};class Fs extends qa{constructor(e,n,s){super(e,n,Xp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Ie(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function $l(r,e,...n){if(r=jt(r),y1("collection","path",e),r instanceof gf){const s=pt.fromString(e,...n);return Q0(s),new Fs(r,null,s)}{if(!(r instanceof zt||r instanceof Fs))throw new ye(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pt.fromString(e,...n));return Q0(s),new Fs(r.firestore,null,s)}}function ei(r,e,...n){if(r=jt(r),arguments.length===1&&(e=Fp.newId()),y1("doc","path",e),r instanceof gf){const s=pt.fromString(e,...n);return G0(s),new zt(r,null,new Ie(s))}{if(!(r instanceof zt||r instanceof Fs))throw new ye(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pt.fromString(e,...n));return G0(s),new zt(r.firestore,r instanceof Fs?r.converter:null,new Ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="AsyncQueue";class kE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new sg(this,"async_queue_retry"),this.oc=()=>{const s=km();s&&ve(VE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Fr;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Jo(e))throw e;ve(VE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,Kr("INTERNAL UNHANDLED ERROR: ",PE(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=cg.createAndSchedule(this,e,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&Ne(47125,{hc:PE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function PE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Xr extends gf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new kE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kE(e),this._firestoreClient=void 0,await e}}}function XN(r,e){const n=typeof r=="object"?r:AT(),s=typeof r=="string"?r:Uh,o=Np(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=NR("firestore");u&&$N(o,...u)}return o}function Pu(r){if(r._terminated)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||JN(r),r._firestoreClient}function JN(r){var e,n,s;const o=r._freezeSettings(),u=(function(m,p,g,E){return new bx(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Mw(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new FN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new di(Rn.fromBase64String(e))}catch(n){throw new ye(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new di(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,di._jsonSchema))return di.fromBase64String(e.bytes)}}di._jsonSchemaVersion="firestore/bytes/1.0",di._jsonSchema={type:Zt("string",di._jsonSchemaVersion),bytes:Zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dr._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,dr._jsonSchema))return new dr(e.latitude,e.longitude)}}dr._jsonSchemaVersion="firestore/geoPoint/1.0",dr._jsonSchema={type:Zt("string",dr._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new mr(e.vectorValues);throw new ye(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mr._jsonSchemaVersion="firestore/vectorValue/1.0",mr._jsonSchema={type:Zt("string",mr._jsonSchemaVersion),vectorValues:Zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=/^__.*__$/;class ZN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new na(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class Vw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new na(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ec:r})}}class yf{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new yf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Kh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(kw(this.Ec)&&WN.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class eM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||df(e)}Dc(e,n,s,o=!1){return new yf({Ec:e,methodName:n,bc:s,path:An.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uu(r){const e=r._freezeSettings(),n=df(r._databaseId);return new eM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function gg(r,e,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);Tg("Data must be an object, but it was:",f,s);const m=Pw(s,f);let p,g;if(u.merge)p=new mi(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=Tp(e,w,n);if(!f.contains(A))throw new ye(ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Uw(E,A)||E.push(A)}p=new mi(E),g=f.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,g=f.fieldTransforms;return new ZN(new jn(m),p,g)}class zu extends Lu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zu}}function tM(r,e,n){return new yf({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yg extends Lu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=tM(this,e,!0),s=this.vc.map((u=>el(u,n))),o=new qo(s);return new Y1(e.path,o)}isEqual(e){return e instanceof yg&&Qs(this.vc,e.vc)}}class vg extends Lu{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new vu(e.serializer,q1(e.serializer,this.Cc));return new Y1(e.path,n)}isEqual(e){return e instanceof vg&&this.Cc===e.Cc}}function _g(r,e,n,s){const o=r.Dc(1,e,n);Tg("Data must be an object, but it was:",o,s);const u=[],f=jn.empty();ta(s,((p,g)=>{const E=wg(e,p,n);g=jt(g);const w=o.gc(E);if(g instanceof zu)u.push(E);else{const A=el(g,w);A!=null&&(u.push(E),f.set(E,A))}}));const m=new mi(u);return new Vw(f,m,o.fieldTransforms)}function Eg(r,e,n,s,o,u){const f=r.Dc(1,e,n),m=[Tp(e,s,n)],p=[o];if(u.length%2!=0)throw new ye(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Tp(e,u[A])),p.push(u[A+1]);const g=[],E=jn.empty();for(let A=m.length-1;A>=0;--A)if(!Uw(g,m[A])){const V=m[A];let G=p[A];G=jt(G);const Z=f.gc(V);if(G instanceof zu)g.push(V);else{const L=el(G,Z);L!=null&&(g.push(V),E.set(V,L))}}const w=new mi(g);return new Vw(E,w,f.fieldTransforms)}function nM(r,e,n,s=!1){return el(n,r.Dc(s?4:3,e))}function el(r,e){if(Lw(r=jt(r)))return Tg("Unsupported field value:",e,r),Pw(r,e);if(r instanceof Lu)return(function(s,o){if(!kw(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=el(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return q1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=At.fromDate(s);return{timestampValue:Hh(o.serializer,u)}}if(s instanceof At){const u=new At(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hh(o.serializer,u)}}if(s instanceof dr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof di)return{bytesValue:tw(o.serializer,s._byteString)};if(s instanceof zt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:eg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof mr)return(function(f,m){return{mapValue:{fields:{[R1]:{stringValue:I1},[zh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return Jp(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${sf(s)}`)})(r,e)}function Pw(r,e){const n={};return E1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(r,((s,o)=>{const u=el(o,e.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Lw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof At||r instanceof dr||r instanceof di||r instanceof zt||r instanceof Lu||r instanceof mr)}function Tg(r,e,n){if(!Lw(n)||!v1(n)){const s=sf(n);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Tp(r,e,n){if((e=jt(e))instanceof Zo)return e._internalPath;if(typeof e=="string")return wg(r,e);throw Kh("Field path arguments must be of type string or ",r,!1,void 0,n)}const iM=new RegExp("[~\\*/\\[\\]]");function wg(r,e,n){if(e.search(iM)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Zo(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Kh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ye(ie.INVALID_ARGUMENT,m+r+p)}function Uw(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rM extends $h{data(){return super.data()}}function bg(r,e){return typeof e=="string"?wg(r,e):e instanceof Zo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class sM extends Sg{}function aM(r,e,...n){let s=[];e instanceof Sg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Ag)).length,m=u.filter((p=>p instanceof vf)).length;if(f>1||f>0&&m>0)throw new ye(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class vf extends sM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new vf(e,n,s)}_apply(e){const n=this._parse(e);return jw(e._query,n),new qa(e.firestore,e.converter,cp(e._query,n))}_parse(e){const n=Uu(e.firestore);return(function(u,f,m,p,g,E,w){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ye(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){zE(w,E);const G=[];for(const Z of w)G.push(UE(p,u,Z));A={arrayValue:{values:G}}}else A=UE(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||zE(w,E),A=nM(m,f,w,E==="in"||E==="not-in");return Wt.create(g,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oM(r,e,n){const s=e,o=bg("where",r);return vf._create(o,s,n)}class Ag extends Sg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ag(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:$i.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)jw(f,p),f=cp(f,p)})(e._query,n),new qa(e.firestore,e.converter,cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function UE(r,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new ye(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k1(e)&&n.indexOf("/")!==-1)throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(pt.fromString(n));if(!Ie.isDocumentKey(s))throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return eE(r,new Ie(s))}if(n instanceof zt)return eE(r,n._key);throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sf(n)}.`)}function zE(r,e){if(!Array.isArray(r)||r.length===0)throw new ye(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jw(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Bw{convertValue(e,n="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ta(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[zh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>Ft(f.doubleValue)));return new mr(u)}convertGeoPoint(e){return new dr(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=of(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=$s(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=pt.fromString(e);it(lw(s),9688,{name:e});const o=new pu(s.get(1),s.get(3)),u=new Ie(s.popFirst(5));return o.isEqual(n)||Kr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class lM extends Bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}class Mo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends $h{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(bg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:Zt("string",Gs._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Rh extends Gs{data(e={}){return super.data(e)}}class Va{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Mo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Rh(this._firestore,this._userDataWriter,s.key,s,new Mo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Mo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Mo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:uM(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:r})}}Va._jsonSchemaVersion="firestore/querySnapshot/1.0",Va._jsonSchema={type:Zt("string",Va._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class _f extends Bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function jE(r){r=pi(r,qa);const e=pi(r.firestore,Xr),n=Pu(e),s=new _f(e);return zw(r._query),KN(n,r._query).then((o=>new Va(e,s,r,o)))}function Xl(r,e,n){r=pi(r,zt);const s=pi(r.firestore,Xr),o=Rg(r.converter,e,n);return Ef(s,[gg(Uu(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,sn.none())])}function Jl(r,e,n,...s){r=pi(r,zt);const o=pi(r.firestore,Xr),u=Uu(o);let f;return f=typeof(e=jt(e))=="string"||e instanceof Zo?Eg(u,"updateDoc",r._key,e,n,s):_g(u,"updateDoc",r._key,e),Ef(o,[f.toMutation(r._key,sn.exists(!0))])}function Lm(r){return Ef(pi(r.firestore,Xr),[new Mu(r._key,sn.none())])}function Um(r,...e){var n,s,o;r=jt(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||LE(e[f])||(u=e[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(LE(e[f])){const w=e[f];e[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,E;if(r instanceof zt)g=pi(r.firestore,Xr),E=Xp(r._key.path),p={next:w=>{e[f]&&e[f](cM(g,r,w))},error:e[f+1],complete:e[f+2]};else{const w=pi(r,qa);g=pi(w.firestore,Xr),E=w._query;const A=new _f(g);p={next:V=>{e[f]&&e[f](new Va(g,A,w,V))},error:e[f+1],complete:e[f+2]},zw(r._query)}return(function(A,V,G,Z){const L=new Nw(Z),ue=new ww(V,L,G);return A.asyncQueue.enqueueAndForget((async()=>Ew(await Ep(A),ue))),()=>{L.Ou(),A.asyncQueue.enqueueAndForget((async()=>Tw(await Ep(A),ue)))}})(Pu(g),E,m,p)}function Ef(r,e){return(function(s,o){const u=new Fr;return s.asyncQueue.enqueueAndForget((async()=>ON(await QN(s),o,u))),u.promise})(Pu(r),e)}function cM(r,e,n){const s=n.docs.get(e._key),o=new _f(r);return new Gs(r,o,e._key,s,new Mo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Uu(e)}set(e,n,s){this._verifyNotCommitted();const o=Us(e,this._firestore),u=Rg(o.converter,n,s),f=gg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,sn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Us(e,this._firestore);let f;return f=typeof(n=jt(n))=="string"||n instanceof Zo?Eg(this._dataReader,"WriteBatch.update",u._key,n,s,o):_g(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,sn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Us(e,this._firestore);return this._mutations=this._mutations.concat(new Mu(n._key,sn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Us(r,e){if((r=jt(r)).firestore!==e)throw new ye(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Uu(e)}get(e){const n=Us(e,this._firestore),s=new lM(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return Ne(24041);const u=o[0];if(u.isFoundDocument())return new $h(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new $h(this._firestore,s,n._key,null,n.converter);throw Ne(18433,{doc:u})}))}set(e,n,s){const o=Us(e,this._firestore),u=Rg(o.converter,n,s),f=gg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,n,s,...o){const u=Us(e,this._firestore);let f;return f=typeof(n=jt(n))=="string"||n instanceof Zo?Eg(this._dataReader,"Transaction.update",u._key,n,s,o):_g(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(e){const n=Us(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM extends dM{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Us(e,this._firestore),s=new _f(this._firestore);return super.get(e).then((o=>new Gs(this._firestore,s,n._key,o._document,new Mo(!1,!1),n.converter)))}}function pM(r,e,n){r=pi(r,Xr);const s=Object.assign(Object.assign({},hM),n);return(function(u){if(u.maxAttempts<1)throw new ye(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Fr;return u.asyncQueue.enqueueAndForget((async()=>{const g=await YN(u);new HN(u.asyncQueue,g,m,f,p).zu()})),p.promise})(Pu(r),(o=>e(new mM(r,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){return new zu("deleteField")}function yM(...r){return new yg("arrayUnion",r)}function vM(r){return new vg("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(r){return Pu(r=pi(r,Xr)),new fM(r,(e=>Ef(r,e)))}(function(e,n=!0){(function(o){$o=o})(Yo),Lo(new ka("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Xr(new sx(s.getProvider("auth-internal")),new lx(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(g.options.projectId,E)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Bs(j0,B0,e),Bs(j0,B0,"esm2017")})();var EM="firebase",TM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs(EM,TM,"app");const wM={apiKey:"AIzaSyA6gk3B0uFG3y7v4jhCWb9zzlPSmX0CjdU",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.appspot.com",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},qw=ST(wM),Mi=tx(qw),mn=XN(qw),zm=new jr;(async()=>{try{await ru(Mi,i1)}catch{try{await ru(Mi,tf)}catch{await ru(Mi,np)}}})();var Ig={};(function r(e,n,s,o){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=(function(){if(!e.OffscreenCanvas)return!1;try{var B=new OffscreenCanvas(1,1),T=B.getContext("2d");T.fillRect(0,0,1,1);var U=B.transferToImageBitmap();T.createPattern(U,"no-repeat")}catch{return!1}return!0})();function p(){}function g(B){var T=n.exports.Promise,U=T!==void 0?T:e.Promise;return typeof U=="function"?new U(B):(B(p,p),null)}var E=(function(B,T){return{transform:function(U){if(B)return U;if(T.has(U))return T.get(U);var Y=new OffscreenCanvas(U.width,U.height),ae=Y.getContext("2d");return ae.drawImage(U,0,0),T.set(U,Y),Y},clear:function(){T.clear()}}})(m,new Map),w=(function(){var B=Math.floor(16.666666666666668),T,U,Y={},ae=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(ce){var me=Math.random();return Y[me]=requestAnimationFrame(function fe(we){ae===we||ae+B-1<we?(ae=we,delete Y[me],ce()):Y[me]=requestAnimationFrame(fe)}),me},U=function(ce){Y[ce]&&cancelAnimationFrame(Y[ce])}):(T=function(ce){return setTimeout(ce,B)},U=function(ce){return clearTimeout(ce)}),{frame:T,cancel:U}})(),A=(function(){var B,T,U={};function Y(ae){function ce(me,fe){ae.postMessage({options:me||{},callback:fe})}ae.init=function(fe){var we=fe.transferControlToOffscreen();ae.postMessage({canvas:we},[we])},ae.fire=function(fe,we,be){if(T)return ce(fe,null),T;var Ue=Math.random().toString(36).slice(2);return T=g(function(je){function He(Qe){Qe.data.callback===Ue&&(delete U[Ue],ae.removeEventListener("message",He),T=null,E.clear(),be(),je())}ae.addEventListener("message",He),ce(fe,Ue),U[Ue]=He.bind(null,{data:{callback:Ue}})}),T},ae.reset=function(){ae.postMessage({reset:!0});for(var fe in U)U[fe](),delete U[fe]}}return function(){if(B)return B;if(!s&&u){var ae=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{B=new Worker(URL.createObjectURL(new Blob([ae])))}catch(ce){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ce),null}Y(B)}return B}})(),V={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function G(B,T){return T?T(B):B}function Z(B){return B!=null}function L(B,T,U){return G(B&&Z(B[T])?B[T]:V[T],U)}function ue(B){return B<0?0:Math.floor(B)}function he(B,T){return Math.floor(Math.random()*(T-B))+B}function re(B){return parseInt(B,16)}function Se(B){return B.map(Pe)}function Pe(B){var T=String(B).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:re(T.substring(0,2)),g:re(T.substring(2,4)),b:re(T.substring(4,6))}}function De(B){var T=L(B,"origin",Object);return T.x=L(T,"x",Number),T.y=L(T,"y",Number),T}function N(B){B.width=document.documentElement.clientWidth,B.height=document.documentElement.clientHeight}function R(B){var T=B.getBoundingClientRect();B.width=T.width,B.height=T.height}function C(B){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=B,T}function O(B,T,U,Y,ae,ce,me,fe,we){B.save(),B.translate(T,U),B.rotate(ce),B.scale(Y,ae),B.arc(0,0,1,me,fe,we),B.restore()}function k(B){var T=B.angle*(Math.PI/180),U=B.spread*(Math.PI/180);return{x:B.x,y:B.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:B.startVelocity*.5+Math.random()*B.startVelocity,angle2D:-T+(.5*U-Math.random()*U),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:B.color,shape:B.shape,tick:0,totalTicks:B.ticks,decay:B.decay,drift:B.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:B.gravity*3,ovalScalar:.6,scalar:B.scalar,flat:B.flat}}function j(B,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var U=T.tick++/T.totalTicks,Y=T.x+T.random*T.tiltCos,ae=T.y+T.random*T.tiltSin,ce=T.wobbleX+T.random*T.tiltCos,me=T.wobbleY+T.random*T.tiltSin;if(B.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-U)+")",B.beginPath(),f&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))B.fill(de(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(ce-Y)*.1,Math.abs(me-ae)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var fe=Math.PI/10*T.wobble,we=Math.abs(ce-Y)*.1,be=Math.abs(me-ae)*.1,Ue=T.shape.bitmap.width*T.scalar,je=T.shape.bitmap.height*T.scalar,He=new DOMMatrix([Math.cos(fe)*we,Math.sin(fe)*we,-Math.sin(fe)*be,Math.cos(fe)*be,T.x,T.y]);He.multiplySelf(new DOMMatrix(T.shape.matrix));var Qe=B.createPattern(E.transform(T.shape.bitmap),"no-repeat");Qe.setTransform(He),B.globalAlpha=1-U,B.fillStyle=Qe,B.fillRect(T.x-Ue/2,T.y-je/2,Ue,je),B.globalAlpha=1}else if(T.shape==="circle")B.ellipse?B.ellipse(T.x,T.y,Math.abs(ce-Y)*T.ovalScalar,Math.abs(me-ae)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):O(B,T.x,T.y,Math.abs(ce-Y)*T.ovalScalar,Math.abs(me-ae)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var Ae=Math.PI/2*3,_t=4*T.scalar,It=8*T.scalar,en=T.x,Cn=T.y,xn=5,Gt=Math.PI/xn;xn--;)en=T.x+Math.cos(Ae)*It,Cn=T.y+Math.sin(Ae)*It,B.lineTo(en,Cn),Ae+=Gt,en=T.x+Math.cos(Ae)*_t,Cn=T.y+Math.sin(Ae)*_t,B.lineTo(en,Cn),Ae+=Gt;else B.moveTo(Math.floor(T.x),Math.floor(T.y)),B.lineTo(Math.floor(T.wobbleX),Math.floor(ae)),B.lineTo(Math.floor(ce),Math.floor(me)),B.lineTo(Math.floor(Y),Math.floor(T.wobbleY));return B.closePath(),B.fill(),T.tick<T.totalTicks}function D(B,T,U,Y,ae){var ce=T.slice(),me=B.getContext("2d"),fe,we,be=g(function(Ue){function je(){fe=we=null,me.clearRect(0,0,Y.width,Y.height),E.clear(),ae(),Ue()}function He(){s&&!(Y.width===o.width&&Y.height===o.height)&&(Y.width=B.width=o.width,Y.height=B.height=o.height),!Y.width&&!Y.height&&(U(B),Y.width=B.width,Y.height=B.height),me.clearRect(0,0,Y.width,Y.height),ce=ce.filter(function(Qe){return j(me,Qe)}),ce.length?fe=w.frame(He):je()}fe=w.frame(He),we=je});return{addFettis:function(Ue){return ce=ce.concat(Ue),be},canvas:B,promise:be,reset:function(){fe&&w.cancel(fe),we&&we()}}}function Rt(B,T){var U=!B,Y=!!L(T||{},"resize"),ae=!1,ce=L(T,"disableForReducedMotion",Boolean),me=u&&!!L(T||{},"useWorker"),fe=me?A():null,we=U?N:R,be=B&&fe?!!B.__confetti_initialized:!1,Ue=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,je;function He(Ae,_t,It){for(var en=L(Ae,"particleCount",ue),Cn=L(Ae,"angle",Number),xn=L(Ae,"spread",Number),Gt=L(Ae,"startVelocity",Number),Xi=L(Ae,"decay",Number),ia=L(Ae,"gravity",Number),yr=L(Ae,"drift",Number),kt=L(Ae,"colors",Se),Vi=L(Ae,"ticks",Number),Et=L(Ae,"shapes"),Tt=L(Ae,"scalar"),Bn=!!L(Ae,"flat"),Ji=De(Ae),Wi=en,ki=[],vi=B.width*Ji.x,on=B.height*Ji.y;Wi--;)ki.push(k({x:vi,y:on,angle:Cn,spread:xn,startVelocity:Gt,color:kt[Wi%kt.length],shape:Et[he(0,Et.length)],ticks:Vi,decay:Xi,gravity:ia,drift:yr,scalar:Tt,flat:Bn}));return je?je.addFettis(ki):(je=D(B,ki,we,_t,It),je.promise)}function Qe(Ae){var _t=ce||L(Ae,"disableForReducedMotion",Boolean),It=L(Ae,"zIndex",Number);if(_t&&Ue)return g(function(Gt){Gt()});U&&je?B=je.canvas:U&&!B&&(B=C(It),document.body.appendChild(B)),Y&&!be&&we(B);var en={width:B.width,height:B.height};fe&&!be&&fe.init(B),be=!0,fe&&(B.__confetti_initialized=!0);function Cn(){if(fe){var Gt={getBoundingClientRect:function(){if(!U)return B.getBoundingClientRect()}};we(Gt),fe.postMessage({resize:{width:Gt.width,height:Gt.height}});return}en.width=en.height=null}function xn(){je=null,Y&&(ae=!1,e.removeEventListener("resize",Cn)),U&&B&&(document.body.contains(B)&&document.body.removeChild(B),B=null,be=!1)}return Y&&!ae&&(ae=!0,e.addEventListener("resize",Cn,!1)),fe?fe.fire(Ae,en,xn):He(Ae,en,xn)}return Qe.reset=function(){fe&&fe.reset(),je&&je.reset()},Qe}var Nt;function ee(){return Nt||(Nt=Rt(null,{useWorker:!0,resize:!0})),Nt}function de(B,T,U,Y,ae,ce,me){var fe=new Path2D(B),we=new Path2D;we.addPath(fe,new DOMMatrix(T));var be=new Path2D;return be.addPath(we,new DOMMatrix([Math.cos(me)*ae,Math.sin(me)*ae,-Math.sin(me)*ce,Math.cos(me)*ce,U,Y])),be}function Ee(B){if(!f)throw new Error("path confetti are not supported in this browser");var T,U;typeof B=="string"?T=B:(T=B.path,U=B.matrix);var Y=new Path2D(T),ae=document.createElement("canvas"),ce=ae.getContext("2d");if(!U){for(var me=1e3,fe=me,we=me,be=0,Ue=0,je,He,Qe=0;Qe<me;Qe+=2)for(var Ae=0;Ae<me;Ae+=2)ce.isPointInPath(Y,Qe,Ae,"nonzero")&&(fe=Math.min(fe,Qe),we=Math.min(we,Ae),be=Math.max(be,Qe),Ue=Math.max(Ue,Ae));je=be-fe,He=Ue-we;var _t=10,It=Math.min(_t/je,_t/He);U=[It,0,0,It,-Math.round(je/2+fe)*It,-Math.round(He/2+we)*It]}return{type:"path",path:T,matrix:U}}function et(B){var T,U=1,Y="#000000",ae='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof B=="string"?T=B:(T=B.text,U="scalar"in B?B.scalar:U,ae="fontFamily"in B?B.fontFamily:ae,Y="color"in B?B.color:Y);var ce=10*U,me=""+ce+"px "+ae,fe=new OffscreenCanvas(ce,ce),we=fe.getContext("2d");we.font=me;var be=we.measureText(T),Ue=Math.ceil(be.actualBoundingBoxRight+be.actualBoundingBoxLeft),je=Math.ceil(be.actualBoundingBoxAscent+be.actualBoundingBoxDescent),He=2,Qe=be.actualBoundingBoxLeft+He,Ae=be.actualBoundingBoxAscent+He;Ue+=He+He,je+=He+He,fe=new OffscreenCanvas(Ue,je),we=fe.getContext("2d"),we.font=me,we.fillStyle=Y,we.fillText(T,Qe,Ae);var _t=1/U;return{type:"bitmap",bitmap:fe.transferToImageBitmap(),matrix:[_t,0,0,_t,-Ue*_t/2,-je*_t/2]}}n.exports=function(){return ee().apply(this,arguments)},n.exports.reset=function(){ee().reset()},n.exports.create=Rt,n.exports.shapeFromPath=Ee,n.exports.shapeFromText=et})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Ig,!1);const bM=Ig.exports;Ig.exports.create;const SM=({className:r})=>H.jsxs("span",{className:"relative inline-block "+(r||""),children:[H.jsx(hT,{className:"w-5 h-5"}),H.jsx("span",{className:"absolute -right-1 -top-1",children:H.jsx(Km,{className:"w-3.5 h-3.5"})})]});(async()=>{try{await ru(Mi,tf)}catch{}})();function AM(r,e){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(r)}&token=${encodeURIComponent(e)}`}async function RM(r){try{return await navigator.clipboard.writeText(r),!0}catch{return window.prompt("  :",r),!1}}async function tu(){try{try{await ru(Mi,tf)}catch{}await cC(Mi,zm)}catch(r){const e=r==null?void 0:r.code;if(e==="auth/popup-blocked"||e==="auth/cancelled-popup-request"||e==="auth/popup-closed-by-user"){await N0(Mi,zm);return}await N0(Mi,zm)}}function IM(r){const e=encodeURIComponent(r);window.open(`https://wa.me/?text=${e}`,"_blank")}const CM=()=>{const[r]=sR(),e=Sp(),n=r.get("listId"),s=r.get("token"),[o,u]=P.useState(Mi.currentUser),[f,m]=P.useState(!0),[p,g]=P.useState(!1),[E,w]=P.useState(null);P.useEffect(()=>KT(Mi,G=>{u(G),m(!1)}),[]);const A=async()=>{w(null);try{await tu()}catch(G){w((G==null?void 0:G.message)||" ")}},V=async()=>{if(!n||!s){w("    (listId  token)");return}if(!o){await A();return}g(!0),w(null);try{await pM(mn,async G=>{var re;const Z=ei(mn,"lists",n),L=await G.get(Z);if(!L.exists())throw new Error("  ");const he=(re=L.data().pendingInvites)==null?void 0:re[s];if(!he)throw new Error("  ");if(he.expiresAt<Date.now())throw new Error("  ");G.update(Z,{sharedWith:yM(o.uid),[`pendingInvites.${s}`]:gM()})}),localStorage.setItem("activeListId",n),e("/")}catch(G){w((G==null?void 0:G.message)||"  ")}finally{g(!1)}};return f?H.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif'},children:[H.jsx("style",{children:`
        html, body, #root {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        *, *::before, *::after,
        input, button, select, textarea, option, label {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        input::placeholder, textarea::placeholder {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
      `}),H.jsx(Ch,{className:"animate-spin text-indigo-600"})]}):H.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:H.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[H.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:H.jsx(dT,{className:"w-10 h-10"})}),H.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?H.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,E?H.jsx("p",{className:"text-rose-500 font-bold break-words",children:E}):null,o?H.jsx("button",{onClick:V,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?H.jsx(Ch,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):H.jsxs("button",{onClick:A,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[H.jsx(fT,{className:"w-4 h-4"}),"   "]})]})})},Hw={:1,:1,:2,:2,:2,:2,:2,:3,:3,:4,:4,:5,:5,:6,:6,:7,:7,:8,:9,:9,:10,:10},Di=r=>(r||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),Fw=r=>(r||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\b\b/g,",").replace(/\b\b/g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim();function Xh(r){return r?/^\d+$/.test(r)?!0:Hw[r]!=null:!1}function xM(r){if(!r)return null;if(/^\d+$/.test(r))return Number(r);const e=Hw[r];return e??null}const DM=new Set(["","","","","","","","","","","","","","","","","","","","","","","",""]);function NM(r){return DM.has(r)}const jm=new Set([" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","' "," "," "," "]),Bm=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),qm=new Set(["","","","","","","","","","","","",""]);function MM(r){const e=[];let n=0;const s=o=>o&&o.startsWith("")&&o.length>1?o.slice(1):o;for(;n<r.length;){const o=r[n],u=n+1<r.length?r[n+1]:"";if(o&&u&&!Xh(o)&&!Xh(u)){const f=`${o} ${u}`,m=s(u),p=`${o} ${m}`;if(jm.has(f)||jm.has(p)){e.push(jm.has(f)?f:p),n+=2;continue}if(Bm.has(u)||Bm.has(m)){e.push(Bm.has(u)?f:p),n+=2;continue}if(qm.has(u)||qm.has(m)){e.push(qm.has(u)?f:p),n+=2;continue}}e.push(o),n+=1}return e}function OM(r){const e=Di(r);if(!e)return[];let n=e.split(" ").filter(Boolean);if(n=MM(n),n.length===0)return[];const s=[];let o=1,u=[];const f=p=>{const g=u.join(" ").trim();if(g){const E=Math.max(1,Number(p??o??1));s.push({name:g,qty:E})}o=1,u=[]},m=p=>p+1<n.length?n[p+1]:"";for(let p=0;p<n.length;p++){const g=n[p];if(Xh(g)){const w=Math.max(1,xM(g)||1),A=m(p);if(u.length===0){o=w;continue}if(!A){f(w);continue}f(),o=w;continue}u.push(g);const E=m(p);u.length===1&&NM(u[0])||g===""||g===""||E===""||E===""||Xh(E)||f()}return u.length>0&&f(),s.map(p=>({name:p.name.replace(/\s+/g," ").trim(),qty:Math.max(1,Number(p.qty||1))})).filter(p=>p.name.length>0)}function VM(r){const e=Fw(r),n=Di(e);if(!n)return[];const o=n.replace(/\s+\s+/g,",").replace(/\s+\s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+\s+/g,",").split(/,|\n/).map(f=>f.trim()).filter(Boolean),u=[];for(const f of o){const m=OM(f);for(const p of m)u.push(p)}return u}const kM=["","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","'"," "," "," ","","","","","","",""," "," ","",""," ","","","","","",""," ",""," "," "," "," "," "," ","",""," "];function cr(r){return r.trim().replace(/\s+/g," ").replace(/[]/g,'"').replace(/[]/g,"'").toLowerCase()}const Gw="shopping_list_item_history_v1",Qw="shopping_list_hidden_suggestions_v1",PM=1440*60*1e3;function Cg(){try{const r=localStorage.getItem(Qw);if(!r)return{};const e=JSON.parse(r);if(!e||typeof e!="object"||Array.isArray(e))return{};const n={};for(const[s,o]of Object.entries(e))typeof s=="string"&&typeof o=="number"&&Number.isFinite(o)&&(n[s]=o);return n}catch{return{}}}function xg(r){try{localStorage.setItem(Qw,JSON.stringify(r))}catch{}}function BE(){const r=Cg(),e=Date.now(),n=[];let s=!1;for(const[o,u]of Object.entries(r)){if(typeof u!="number"||!Number.isFinite(u)){delete r[o],s=!0;continue}u>e?n.push(o):(delete r[o],s=!0)}return s&&xg(r),n}function LM(r){const e=Cg();e[r]=Date.now()+PM,xg(e)}function Hm(r){try{const e=Cg();e[r]&&(delete e[r],xg(e))}catch{}}function UM(){try{const r=localStorage.getItem(Gw);if(!r)return{};const e=JSON.parse(r);return!e||typeof e!="object"?{}:e}catch{return{}}}function qE(r){try{localStorage.setItem(Gw,JSON.stringify(r))}catch{}}function zM(r){const e=r.query,n=cr(e),s=r.limit??8;if(!n)return[];const o=new Map,u=(g,E)=>{const w=g.trim();if(!w)return;const A=cr(w);if(!A||r.hiddenKeys.has(A))return;const V=o.get(A);if(V){V.sources.add(E);return}o.set(A,{name:w,key:A,sources:new Set([E])})};for(const g of r.favorites)u(g,"favorite");for(const g of r.items)u(g.name,"items");for(const[g,E]of Object.entries(r.history)){u((E==null?void 0:E.name)||g,"history");const w=o.get(g);w&&(w.history=E)}for(const g of kM)u(g,"static");const f=Array.from(o.values()),m=new Map;for(const g of r.items){const E=cr(g.name);E&&(m.has(E)||m.set(E,{id:g.id,quantity:g.quantity}))}const p=g=>{const E=g.key,w=E.startsWith(n),A=!w&&E.includes(n);if(!w&&!A)return-1/0;let V=w?120:70;if(g.sources.has("favorite")&&(V+=45),g.sources.has("history")&&(V+=35),g.sources.has("items")&&(V+=20),g.sources.has("static")&&(V+=10),g.history){const G=Math.max(0,g.history.count||0),Z=Math.max(0,g.history.lastUsed||0);V+=Math.min(30,Math.log2(G+1)*8);const L=(Date.now()-Z)/(1e3*60*60*24),ue=Math.max(0,20-L);V+=Math.min(20,ue)}return V};return f.map(g=>({c:g,s:p(g)})).filter(g=>Number.isFinite(g.s)).sort((g,E)=>E.s-g.s).slice(0,s).map(g=>{const E=m.get(g.c.key);return{name:g.c.name,key:g.c.key,canHide:g.c.sources.has("history")&&!g.c.sources.has("favorite"),isInList:!!E,itemId:E==null?void 0:E.id,currentQty:E==null?void 0:E.quantity}})}const jM=()=>{const[r,e]=P.useState(null),[n,s]=P.useState(null),[o,u]=P.useState([]),[f,m]=P.useState([]),[p,g]=P.useState("list"),[E,w]=P.useState(""),A=P.useRef(null),[V,G]=P.useState(!1),[Z,L]=P.useState(-1),ue=P.useRef({}),he=P.useRef(null);P.useEffect(()=>{ue.current=UM()},[]);const[re,Se]=P.useState(!1),[Pe,De]=P.useState(!1),[N,R]=P.useState(!1),[C,O]=P.useState(()=>{const I=new Date,q=new Date(I);q.setMinutes(0,0,0),q.setHours(18),q.getTime()<I.getTime()&&q.setHours(I.getHours()+1);const $=le=>String(le).padStart(2,"0");return`${q.getFullYear()}-${$(q.getMonth()+1)}-${$(q.getDate())}T${$(q.getHours())}:${$(q.getMinutes())}`}),[k,j]=P.useState(60),[D,Rt]=P.useState(!0),[Nt,ee]=P.useState(!1),[de,Ee]=P.useState(!1),[et]=P.useState("hold_to_talk"),[B,T]=P.useState(""),[U,Y]=P.useState(null),ae=P.useRef(null),ce=P.useRef(!1),me=P.useRef([]),fe=P.useRef(""),we=P.useRef(!1),be=P.useRef(null),Ue=P.useRef(null),je=P.useRef(!1),He=P.useRef(null),[Qe,Ae]=P.useState({id:null,dx:0}),_t=70,It=110,en=I=>{const q=I;return q?!!q.closest("button, input, textarea, select, a, [data-noswipe='true']"):!1},Cn=I=>q=>{en(q.target)||(je.current=!1,be.current={x:q.clientX,y:q.clientY,id:I,pointerId:q.pointerId},Ue.current={x:q.clientX,y:q.clientY},Ae({id:I,dx:0}))},xn=I=>q=>{const $=be.current;if(!$||$.id!==I||$.pointerId!==q.pointerId)return;Ue.current={x:q.clientX,y:q.clientY};const le=q.clientX-$.x,ge=Math.max(-It,Math.min(It,le));if(!He.current&&Math.abs(le)>10&&Math.abs(le)>=Math.abs(q.clientY-$.y))try{q.currentTarget.setPointerCapture(q.pointerId),He.current={el:q.currentTarget,pointerId:q.pointerId}}catch{}Ae({id:I,dx:ge})},Gt=I=>async q=>{const $=be.current,le=Ue.current;be.current=null;try{He.current&&He.current.el.releasePointerCapture($.pointerId)}catch{}if(He.current=null,Ue.current=null,!$||$.id!==I){Ae({id:null,dx:0});return}const ge=(le==null?void 0:le.x)??q.clientX,Re=(le==null?void 0:le.y)??q.clientY,Ce=ge-$.x,yt=Re-$.y;if(Ae({id:null,dx:0}),!(Math.abs(Ce)<_t||Math.abs(Ce)<Math.abs(yt))){je.current=!0;try{Ce<0?await ni(I):Bn.has(I)||await Hn(I)}finally{window.setTimeout(()=>{je.current=!1},0)}}},Xi=I=>q=>{if(en(q.target))return;const $=q.touches[0];$&&(je.current=!1,be.current={x:$.clientX,y:$.clientY,id:I,pointerId:-1},Ue.current={x:$.clientX,y:$.clientY},Ae({id:I,dx:0}))},ia=I=>q=>{const $=be.current;if(!$||$.id!==I)return;const le=q.touches[0];if(!le)return;Ue.current={x:le.clientX,y:le.clientY};const ge=le.clientX-$.x,Re=le.clientY-$.y;if(Math.abs(ge)<6||Math.abs(ge)<Math.abs(Re))return;try{q.preventDefault()}catch{}const Ce=Math.max(-It,Math.min(It,ge));Ae({id:I,dx:Ce})},yr=I=>async q=>{const $=be.current,le=Ue.current;if(be.current=null,Ue.current=null,!$||$.id!==I){Ae({id:null,dx:0});return}const ge=le?le.x-$.x:0;if(Math.abs(ge)<_t){Ae({id:null,dx:0});return}je.current=!0,ge<0?await ni(I):await Hn(I),Ae({id:null,dx:0})},kt=()=>{be.current=null,Ue.current=null;try{He.current&&He.current.el.releasePointerCapture(He.current.pointerId)}catch{}He.current=null,Ae({id:null,dx:0})},Vi=P.useRef(null),Et=P.useRef([]),Tt=P.useRef(!1);P.useEffect(()=>{Vi.current=(n==null?void 0:n.id)??null},[n==null?void 0:n.id]),P.useEffect(()=>{Et.current=o},[o]),P.useEffect(()=>{if(!o||o.length===0){Tt.current=!1;return}const I=o.every(q=>q.isPurchased);I&&!Tt.current&&(Tt.current=!0,bM({particleCount:140,spread:75,origin:{y:.65}})),I||(Tt.current=!1)},[o]),P.useEffect(()=>{if(!U)return;const I=setTimeout(()=>Y(null),2500);return()=>clearTimeout(I)},[U]),P.useEffect(()=>KT(Mi,async I=>{if(e(I),Rt(!1),!I){s(null),u([]),m([]);return}ee(!0);const q=aM($l(mn,"lists"),oM("sharedWith","array-contains",I.uid)),$=await jE(q);if($.empty){const le=ei($l(mn,"lists")),ge={id:le.id,title:" ",ownerUid:I.uid,sharedWith:[I.uid],createdAt:Date.now(),updatedAt:Date.now()};await Xl(le,ge),s(ge),localStorage.setItem("activeListId",le.id)}else{const le=localStorage.getItem("activeListId"),ge=le?$.docs.find(Ce=>Ce.id===le)??$.docs[0]:$.docs[0],Re=ge.data();s({...Re,id:ge.id}),localStorage.setItem("activeListId",ge.id)}ee(!1)}),[]),P.useEffect(()=>{if(!(n!=null&&n.id))return;const I=ei(mn,"lists",n.id),q=$l(I,"items"),$=$l(I,"favorites"),le=Um(I,Ce=>{Ce.exists()&&s({...Ce.data(),id:Ce.id})}),ge=Um(q,Ce=>{const yt=Ce.docs.map(lt=>lt.data());u(yt)}),Re=Um($,Ce=>{const yt=Ce.docs.map(lt=>{const Ye=lt.data();return{id:lt.id,name:String((Ye==null?void 0:Ye.name)||""),createdAt:Number((Ye==null?void 0:Ye.createdAt)||0)}});yt.sort((lt,Ye)=>Ye.createdAt-lt.createdAt),m(yt)});return()=>{le(),ge(),Re()}},[n==null?void 0:n.id]);const Bn=P.useMemo(()=>{const I=new Set;for(const q of f)I.add(q.id);return I},[f]),Ji=P.useMemo(()=>{const I=new Set,q=[];for(const $ of f){const le=Di($.name);le&&(I.has(le)||(I.add(le),q.push($)))}return q},[f]),Wi=P.useMemo(()=>o.filter(I=>!I.isPurchased).sort((I,q)=>q.createdAt-I.createdAt),[o]),ki=P.useMemo(()=>o.filter(I=>I.isPurchased).sort((I,q)=>(q.purchasedAt||0)-(I.purchasedAt||0)),[o]),vi=I=>{const q=I.trim();if(!q)return;const $=cr(q);if(!$)return;const le=ue.current[$],ge={name:q,count:((le==null?void 0:le.count)||0)+1,lastUsed:Date.now()};ue.current={...ue.current,[$]:ge},qE(ue.current)},on=P.useRef(new Set);P.useEffect(()=>{on.current=new Set(BE())},[]);const gt=P.useMemo(()=>{const I=new Set(BE());return on.current=I,zM({query:E,favorites:(f??[]).map(q=>q.name),items:o??[],history:ue.current,hiddenKeys:I,limit:8})},[E,f,o]),qn=()=>{he.current&&window.clearTimeout(he.current),he.current=window.setTimeout(()=>{G(!1),L(-1)},120)},ln=()=>{he.current&&window.clearTimeout(he.current),G(!0)},ra=async I=>{if(I.isInList&&I.itemId){const q=(I.currentQty??1)+1;await un(I.itemId,1);const $=I.key||cr(I.name);$&&(Hm($),on.current.delete($)),Y(`  -   -${q}`),w(""),L(-1),G(!1),window.requestAnimationFrame(()=>{var le;return(le=A.current)==null?void 0:le.focus()});return}w(I.name),L(-1),G(!1),window.requestAnimationFrame(()=>{var q;return(q=A.current)==null?void 0:q.focus()})},sa=I=>{const q=I.key||cr(I.name);if(!q)return;const $={...ue.current};$[q]&&(delete $[q],ue.current=$,qE($));const le=new Set(on.current);le.add(q),on.current=le,LM(q),G(!1),L(-1),window.requestAnimationFrame(()=>{var ge;return(ge=A.current)==null?void 0:ge.focus()})},Ha=async I=>{if(I&&I.preventDefault(),!r){await tu();return}if(!(n!=null&&n.id))return;const q=E.trim();if(!q)return;const $=cr(q),le=o.find(Ce=>cr(Ce.name)===$);if(le){await un(le.id,1),$&&(Hm($),on.current.delete($)),vi(le.name),w(""),G(!1),L(-1);return}const ge=crypto.randomUUID(),Re={id:ge,name:q,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Xl(ei(mn,"lists",n.id,"items",ge),Re),$&&(Hm($),on.current.delete($)),vi(q),w(""),G(!1),L(-1)},Pi=async I=>{if(!(n!=null&&n.id))return;const q=o.find(le=>le.id===I);if(!q)return;const $=!q.isPurchased;await Jl(ei(mn,"lists",n.id,"items",I),{isPurchased:$,purchasedAt:$?Date.now():null})},un=async(I,q)=>{if(!(n!=null&&n.id))return;if(q>0){await Jl(ei(mn,"lists",n.id,"items",I),{quantity:vM(q)});return}const $=o.find(le=>le.id===I);$&&await Jl(ei(mn,"lists",n.id,"items",I),{quantity:Math.max(1,$.quantity+q)})},ni=async I=>{n!=null&&n.id&&await Lm(ei(mn,"lists",n.id,"items",I))},Hn=async I=>{if(!(n!=null&&n.id))return;const q=ei(mn,"lists",n.id,"favorites",I);if(Bn.has(I)){await Lm(q);return}const $=o.find(Re=>Re.id===I),le=String(($==null?void 0:$.name)||""),ge=Di(le);ge&&f.some(Ce=>Di(Ce.name)===ge)||await Xl(q,{name:le,createdAt:Date.now()})},Fn=async I=>{n!=null&&n.id&&await Lm(ei(mn,"lists",n.id,"favorites",I))},Li=async()=>{const I=Vi.current||(n==null?void 0:n.id);if(!I)return;const q=$l(mn,"lists",I,"items"),$=await jE(q);if($.empty){De(!1);return}const le=$.docs;let ge=0;for(;ge<le.length;){const Re=_M(mn),Ce=le.slice(ge,ge+450);for(const yt of Ce)Re.delete(yt.ref);await Re.commit(),ge+=Ce.length}De(!1)},Zr=async()=>{if(!r)return await tu(),null;if(!(n!=null&&n.id))return null;const I=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),q=Date.now()+2880*60*1e3;return await Jl(ei(mn,"lists",n.id),{[`pendingInvites.${I}`]:{createdAt:Date.now(),expiresAt:q}}),AM(n.id,I)},aa=async()=>{const I=await Zr();if(I){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:" ",text:"   ",url:I});return}}catch{}await RM(I),Se(!0),setTimeout(()=>Se(!1),2e3)}},Ui=(I,q)=>{const[$,le]=I.split("T"),[ge,Re,Ce]=$.split("-").map(Mt=>parseInt(Mt,10)),[yt,lt]=le.split(":").map(Mt=>parseInt(Mt,10)),Ye=new Date(ge,Re-1,Ce,yt,lt,0,0),ze=new Date(Ye.getTime()+Math.max(15,q)*6e4),xt=Mt=>String(Mt).padStart(2,"0"),vn=Mt=>`${Mt.getFullYear()}${xt(Mt.getMonth()+1)}${xt(Mt.getDate())}T${xt(Mt.getHours())}${xt(Mt.getMinutes())}00`,_n=`${vn(Ye)}/${vn(ze)}`,Bt=encodeURIComponent("  "),qi=encodeURIComponent("   -     "),_r=encodeURIComponent("Asia/Jerusalem");return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${Bt}&dates=${encodeURIComponent(_n)}&details=${qi}&ctz=${_r}`},Zi=()=>{const I=Ui(C,k),q=navigator.userAgent||"",$=/Android/i.test(q),le=/iPhone|iPad|iPod/i.test(q);if($){const ge=I.replace(/^https:\/\//i,"intent://")+"#Intent;scheme=https;package=com.google.android.calendar;end";window.location.href=ge,window.setTimeout(()=>{window.location.href=I},700);return}if(le){window.location.href="googlecalendar://",window.setTimeout(()=>{window.location.href=I},700);return}window.open(I,"_blank","noopener,noreferrer")},tn=()=>{const I=(n==null?void 0:n.title)||" ",q=o.filter(ze=>!ze.isPurchased),$="",le="",ge="",Re="",Ce=q.length>0?q.map(ze=>(ze.quantity||1)<=1?`${$}${ze.name}${le}`:`${$}${ze.name} X ${ge}${ze.quantity}${Re}${le}`).join(`
`):`${$}(  )${le}`,Ye=`${`*${I}:*`}

${Ce}

   `;IM(Ye)},zi=P.useRef(null),Gn=P.useRef(null),kn=P.useRef(null),[Qn,er]=P.useState({id:null,dx:0,rawDx:0}),ji=60,es=110,_i=async I=>{if(!(n!=null&&n.id))return;const q=cr(I.name),$=o.find(le=>!le.isPurchased&&cr(le.name)===q);if($)await un($.id,1);else{const le=crypto.randomUUID(),ge={id:le,name:I.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Xl(ei(mn,"lists",n.id,"items",le),ge)}},Ct=I=>q=>{en(q.target)||(zi.current={x:q.clientX,y:q.clientY,id:I,pointerId:q.pointerId},Gn.current={x:q.clientX,y:q.clientY},er({id:I,dx:0,rawDx:0}))},nn=I=>q=>{const $=zi.current;if(!$||$.id!==I)return;Gn.current={x:q.clientX,y:q.clientY};const le=q.clientX-$.x,ge=q.clientY-$.y;if(!kn.current&&Math.abs(le)>10&&Math.abs(ge)<=Math.abs(le)*1.2)try{q.currentTarget.setPointerCapture(q.pointerId),kn.current={el:q.currentTarget,pointerId:q.pointerId}}catch{}if(Math.abs(ge)>Math.abs(le)*1.6)return;const Re=Math.max(-es,Math.min(es,le));er({id:I,dx:Re,rawDx:le})},Ei=I=>async q=>{const $=zi.current,le=Gn.current;zi.current=null;try{kn.current&&$&&kn.current.el.releasePointerCapture($.pointerId)}catch{}if(kn.current=null,Gn.current=null,er({id:null,dx:0,rawDx:0}),!$||$.id!==I)return;const ge=(le==null?void 0:le.x)??q.clientX,Re=(le==null?void 0:le.y)??q.clientY,Ce=ge-$.x,yt=Re-$.y;if(Math.abs(Ce)<ji||Math.abs(yt)>Math.abs(Ce)*1.6)return;const lt=f.find(Ye=>Ye.id===I);Ce>0?lt&&await _i(lt):(await Fn(I),Y(" "))},tr=()=>{zi.current=null,Gn.current=null,kn.current=null,er({id:null,dx:0,rawDx:0})},Pn=I=>{const q=Di(I),$=o.find(ge=>Di(ge.name)===q);return $||o.find(ge=>Di(ge.name).includes(q)||q.includes(Di(ge.name)))||null},Fa=async(I,q)=>{const $=Vi.current||(n==null?void 0:n.id);if(!$)return;const le=Et.current||o,ge=I.trim();if(!ge)return;const Re=le.find(lt=>!lt.isPurchased&&Di(lt.name)===Di(ge));if(Re){await Jl(ei(mn,"lists",$,"items",Re.id),{quantity:q});return}const Ce=crypto.randomUUID(),yt={id:Ce,name:ge,quantity:q,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Xl(ei(mn,"lists",$,"items",Ce),yt)},oa=I=>/(|||||||||)\s*(\s*)?(\s*)?(\s*)?(|)?/.test(I)||/^(||)$/.test(I)||I.includes("")&&I.includes("")&&(I.includes("")||I.includes(""))||I.includes("")&&(I.includes("")||I.includes("")),Bi=async I=>{if(!(Vi.current||(n==null?void 0:n.id)))return;const $=Di(I);if(!$)return;if(oa($)){await Li(),Y(" ");return}if(/^(|||)\s+/.test($)){const Ye=$.replace(/^(|||)\s+/,"").trim(),ze=Pn(Ye);if(!ze){Y("   ");return}await ni(ze.id),Y(`: ${ze.name}`);return}const le=$.match(/^(||)\s+(.+)\s+(||)$/);if(le){const Ye=le[2].trim(),ze=Pn(Ye);if(!ze){Y("   ");return}ze.isPurchased||await Pi(ze.id),Y(` : ${ze.name}`);return}const ge=$.match(/^(||)\s+(.+)$/);if(ge){const Ye=ge[2].trim(),ze=Pn(Ye);return ze?(await un(ze.id,1),Y(`: ${ze.name}`)):Y("   ")}const Re=$.match(/^(||)\s+(.+)$/);if(Re){const Ye=Re[2].trim(),ze=Pn(Ye);return ze?(await un(ze.id,-1),Y(`: ${ze.name}`)):Y("   ")}const Ce=$.match(/^(|||)(?:\s+)?\s+(.+)$/),yt=Ce?Ce[2]:$,lt=VM(yt);if(lt.length!==0)for(const Ye of lt)await Fa(Ye.name,Ye.qty)},vr=()=>{const I=window.SpeechRecognition||window.webkitSpeechRecognition;return I||null},ii=()=>{const I=vr();if(!I){alert("    .  Chrome  Edge.");return}if(!r){Y("    "),tu();return}if(me.current=[],fe.current="",we.current=!1,ce.current=!0,T(""),Ee(!0),Y("  -   "),ae.current){try{ae.current.stop()}catch{}ae.current=null}const q=new I;ae.current=q,q.lang="he-IL",q.interimResults=!0,q.maxAlternatives=1,q.continuous=!0;const $=3e3,le=9e4;let ge=!1,Re=Date.now(),Ce=null,yt=null;const lt=()=>{Ce!=null&&window.clearTimeout(Ce),yt!=null&&window.clearTimeout(yt),Ce=null,yt=null},Ye=()=>{ce.current&&ge&&(Ce!=null&&window.clearTimeout(Ce),Ce=window.setTimeout(()=>{if(!ce.current)return;Date.now()-Re>=$&&yn()},$+50))};yt=window.setTimeout(()=>{ce.current&&(Y("     - ..."),yn())},le),q.onstart=()=>{},q.onaudiostart=()=>{},q.onspeechstart=()=>{},q.onresult=ze=>{try{let xt="";const vn=ze.results;if(!vn)return;for(let Bt=ze.resultIndex??0;Bt<((vn==null?void 0:vn.length)??0);Bt++){const qi=vn[Bt],_r=qi==null?void 0:qi[0],Mt=Fw(String((_r==null?void 0:_r.transcript)||""));Mt&&(qi.isFinal?(me.current.push(Mt),fe.current=""):(xt=Mt,fe.current=Mt))}const _n=xt||(me.current.length?me.current[me.current.length-1]:"");_n&&T(_n),ge=!0,Re=Date.now(),Ye()}catch{}},q.onerror=ze=>{const xt=String((ze==null?void 0:ze.error)||"");console.warn("Speech error:",xt,ze),xt!=="no-speech"&&(lt(),clearVoiceTimers(),Ee(!1),ce.current=!1,xt==="not-allowed"||xt==="service-not-allowed"?alert("  .     ."):Y(xt==="audio-capture"?"   (    )":` : ${xt||"unknown"}`))},q.onend=()=>{if(!ce.current){lt();return}Ye(),!we.current&&(we.current=!0,setTimeout(()=>{if(!ce.current){we.current=!1,lt();return}try{q.start()}catch{}finally{we.current=!1}},180))};try{q.start(),Ye()}catch(ze){console.error(ze),lt(),clearVoiceTimers(),Ee(!1),ce.current=!1,Y("   ")}},yn=async()=>{var le,ge;if(!ce.current)return;ce.current=!1,Ee(!1);try{(ge=(le=ae.current)==null?void 0:le.stop)==null||ge.call(le)}catch{}const I=me.current.join(" ").trim(),q=(fe.current||"").trim(),$=`${I} ${q}`.replace(/\s+/g," ").trim();if(me.current=[],fe.current="",!$){Y("   -  ");return}Y("...");try{await Bi($)}catch(Re){console.error(Re),Y(`: ${String((Re==null?void 0:Re.message)||Re||"")}`)}};return P.useEffect(()=>()=>{var I,q;try{ce.current=!1,(q=(I=ae.current)==null?void 0:I.stop)==null||q.call(I)}catch{}},[]),r?D?H.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:H.jsx(Ch,{className:"animate-spin text-indigo-600"})}):Nt||!(n!=null&&n.id)?H.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:H.jsx(Ch,{className:"animate-spin text-indigo-600"})}):H.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[H.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-6 py-4 items-center justify-between border-b border-slate-100 relative grid grid-cols-3 items-center",children:[H.jsxs("div",{className:"flex items-center gap-2 justify-start",children:[H.jsx("button",{onClick:()=>De(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ",children:H.jsx(lh,{className:"w-5 h-5"})}),H.jsx("button",{onClick:aa,className:"p-2 text-slate-400 hover:text-indigo-600",title:" ",children:re?H.jsx(mR,{className:"w-5 h-5 text-emerald-500"}):H.jsx(dT,{className:"w-5 h-5"})})]}),H.jsx("h1",{className:"text-xl font-bold text-indigo-600 leading-none text-center justify-self-center whitespace-nowrap",children:(n==null?void 0:n.title)||" "}),H.jsx("button",{onClick:()=>QI(Mi),className:"justify-self-end w-9 h-9 min-w-0 p-0 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:"",children:H.jsx(yR,{className:"w-4 h-4"})})]}),H.jsx("div",{className:"px-5 pt-3",children:H.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[H.jsx("div",{className:"text-[11px] font-black text-slate-400",children:de?"  -    ":" :    ,  "}),B?H.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[": ",B]}):null,H.jsx("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:': "    " | " " | " "'})]})}),H.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:p==="list"?H.jsxs(H.Fragment,{children:[H.jsxs("form",{onSubmit:Ha,className:"relative",children:[H.jsx("input",{ref:A,value:E,onFocus:ln,onBlur:qn,onKeyDown:I=>{if(V){if(I.key==="Escape"){I.preventDefault(),G(!1),L(-1);return}if(I.key==="ArrowDown"){if(I.preventDefault(),gt.length===0)return;L(q=>{const $=q+1;return $>=gt.length?0:$});return}if(I.key==="ArrowUp"){if(I.preventDefault(),gt.length===0)return;L(q=>{const $=q-1;return $<0?gt.length-1:$});return}if(I.key==="Tab"){if(gt.length===0)return;I.preventDefault(),ra(gt[Math.max(0,Z>=0?Z:0)]);return}if(I.key==="Enter"&&gt.length>0){I.preventDefault();const q=Z>=0?Z:0;ra(gt[q]);return}}},onChange:I=>{w(I.target.value),ln(),L(-1)},placeholder:"  ?",className:"w-full p-4 pr-12 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),H.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:H.jsx(Km,{className:"w-6 h-6"})}),V&&E.trim()&&gt.length>0?H.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 z-50 bg-white border border-slate-200 rounded-2xl shadow-lg overflow-hidden",dir:"rtl",onMouseDown:I=>{I.preventDefault()},onPointerDown:I=>{I.preventDefault()},children:gt.map((I,q)=>H.jsxs("div",{className:"w-full flex items-stretch justify-between gap-2 hover:bg-slate-50 transition-colors "+(q===Z?"bg-slate-100":""),children:[H.jsxs("button",{type:"button",className:"flex-1 text-right px-4 py-3 flex items-center justify-between",onPointerDown:$=>{$.preventDefault(),ra(I)},title:"",children:[H.jsx("span",{className:"font-semibold text-slate-700",children:I.name}),I.isInList?H.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:["",typeof I.currentQty=="number"?` (${I.currentQty})`:""]}):H.jsx("span",{className:"text-xs text-slate-400",children:"Tab"})]}),I.canHide?H.jsx("button",{type:"button",className:"px-3 text-slate-400 hover:text-slate-700",onPointerDown:$=>{$.preventDefault(),$.stopPropagation(),sa(I)},title:" ","aria-label":" ",children:""}):null]},I.key+"-"+q))}):null]}),((o==null?void 0:o.length)??0)===0?H.jsxs("div",{className:"text-center py-20 opacity-20",children:[H.jsx(wR,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),H.jsx("p",{className:"text-lg font-bold",children:" "})]}):H.jsx("div",{className:"space-y-4",children:H.jsxs("div",{className:"space-y-3",children:[Wi.map(I=>H.jsxs("div",{className:"relative overflow-hidden flex items-center justify-between p-3 bg-white rounded-2xl border border-slate-100 shadow-sm select-none",dir:"rtl",onPointerDown:Cn(I.id),onPointerMove:xn(I.id),onPointerUp:Gt(I.id),onPointerCancel:kt,onTouchStart:Xi(I.id),onTouchMove:ia(I.id),onTouchEnd:yr(I.id),style:{touchAction:"pan-y"},children:[H.jsx("div",{className:`absolute inset-0 ${Qe.id===I.id?Qe.dx>0?"bg-emerald-50":Qe.dx<0?"bg-rose-50":"bg-transparent":"bg-transparent"}`,style:{opacity:Qe.id===I.id?Math.min(1,Math.abs(Qe.dx)/It):0}}),H.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full",style:{transform:Qe.id===I.id?`translateX(${Qe.dx}px)`:void 0,transition:Qe.id===I.id?"none":"transform 120ms ease-out"},children:[H.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>{je.current||Pi(I.id)},children:I.name}),H.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100","data-noswipe":"true",children:[H.jsx("button",{onClick:()=>un(I.id,-1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:H.jsx(TR,{className:"w-3 h-3"})}),H.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:I.quantity}),H.jsx("button",{onClick:()=>un(I.id,1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:H.jsx(Km,{className:"w-3 h-3"})})]})]}),Qe.id===I.id&&Qe.dx>12?H.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center text-emerald-600 pointer-events-none",children:H.jsx(oh,{className:"w-5 h-5 fill-emerald-600"})}):null,Qe.id===I.id&&Qe.dx<-12?H.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center text-rose-600 pointer-events-none",children:H.jsx(lh,{className:"w-5 h-5"})}):null]},I.id)),ki.length>0?H.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[H.jsxs("h3",{className:"text-lg font-bold text-slate-700 text-right mb-2",children:[" (",ki.length,")"]}),ki.map(I=>H.jsx("div",{className:"flex items-center justify-between p-3 bg-slate-100/50 rounded-2xl opacity-60 grayscale transition-all",dir:"rtl",children:H.jsxs("div",{className:"flex items-center justify-between w-full",children:[H.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-start cursor-pointer",onClick:()=>Pi(I.id),style:{direction:"rtl",unicodeBidi:"plaintext"},children:[H.jsx(gR,{className:"w-6 h-6 text-emerald-500 flex-shrink-0"}),H.jsx("span",{className:"text-base font-bold text-slate-500 line-through truncate text-left",children:H.jsxs("span",{className:"flex gap-1",children:[H.jsx("span",{children:I.name}),(I.quantity||1)>1&&H.jsxs(H.Fragment,{children:[H.jsx("span",{children:"x"}),H.jsx("span",{children:I.quantity})]})]})})]}),H.jsx("button",{onClick:()=>ni(I.id),className:"p-2 text-slate-300",title:"",children:H.jsx(lh,{className:"w-4 h-4"})})]})},I.id))]}):null]})})]}):H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{className:"text-right",children:[H.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),H.jsx("p",{className:"text-sm text-slate-400 font-bold",children:H.jsx("span",{className:"font-semibold",children:"  "})})]}),Ji.length===0?H.jsxs("div",{className:"text-center py-20 opacity-20",children:[H.jsx(oh,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),H.jsx("p",{className:"font-bold",children:"  "})]}):H.jsx("div",{className:"grid grid-cols-1 gap-3",children:Ji.map(I=>H.jsxs("div",{className:"relative overflow-hidden rounded-2xl select-none",dir:"ltr",onPointerDown:Ct(I.id),onPointerMove:nn(I.id),onPointerUp:Ei(I.id),onPointerCancel:tr,style:{touchAction:"pan-y"},children:[H.jsx("div",{className:`absolute inset-0 ${Qn.id===I.id?Qn.rawDx>0?"bg-emerald-50":Qn.rawDx<0?"bg-rose-50":"bg-transparent":"bg-transparent"}`,style:{opacity:Qn.id===I.id?Math.min(1,Math.abs(Qn.rawDx)/es):0}}),H.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 pointer-events-none",children:[H.jsx("div",{className:"flex items-center gap-2 text-emerald-600",children:H.jsx(SM,{className:"w-6 h-6"})}),H.jsx("div",{className:"flex items-center gap-2 text-rose-600",children:H.jsx(lh,{className:"w-5 h-5"})})]}),H.jsxs("div",{className:"relative z-10 flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-100 shadow-sm",style:{transform:Qn.id===I.id?`translateX(${Qn.dx}px)`:void 0,transition:Qn.id===I.id?"none":"transform 160ms ease-out"},children:[H.jsx("div",{className:"flex items-center gap-2"}),H.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate px-3 text-base",style:{direction:"rtl",unicodeBidi:"plaintext"},children:I.name}),H.jsx(oh,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]})]},I.id))})]})}),H.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:H.jsx("div",{className:"max-w-md mx-auto px-4 pb-3",children:H.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:H.jsxs("div",{className:"relative flex items-center justify-between px-8 pt-9 pb-3",children:[H.jsxs("button",{onClick:()=>g("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[H.jsx(oh,{className:`w-7 h-7 ${p==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),""]}),H.jsxs("button",{onClick:tn,className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:"",children:[H.jsx(vR,{className:"w-7 h-7"}),""]}),H.jsxs("button",{onClick:()=>R(!0),className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:"",children:[H.jsx(c0,{className:"w-7 h-7"}),""]}),H.jsxs("button",{onClick:()=>g("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[H.jsx(hT,{className:"w-7 h-7"}),""]}),H.jsx("button",{onPointerDown:I=>{I.preventDefault(),ii()},onPointerUp:I=>{I.preventDefault(),yn()},onPointerCancel:I=>{I.preventDefault(),yn()},onPointerLeave:I=>{ce.current&&(I.preventDefault(),yn())},onTouchStart:I=>{I.preventDefault(),ii()},onTouchEnd:I=>{I.preventDefault(),yn()},onMouseDown:I=>{I.preventDefault(),ii()},onMouseUp:I=>{I.preventDefault(),yn()},style:{touchAction:"none"},className:`absolute left-1/2 -translate-x-1/2 -top-8 w-16 h-16 rounded-full border-4 border-white shadow-xl flex items-center justify-center ${de?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:de?"  -   ":"   ",children:de?H.jsx(_R,{className:"w-7 h-7"}):H.jsx(ER,{className:"w-7 h-7"})})]})})})}),N?H.jsx("div",{className:"fixed inset-0 z-[70] bg-black/50 flex items-center justify-center p-6",dir:"rtl",children:H.jsx("div",{className:"w-full max-w-sm rounded-3xl bg-white shadow-2xl border border-slate-100 overflow-hidden",children:H.jsxs("div",{className:"p-6 space-y-4",children:[H.jsxs("div",{className:"flex items-start justify-between gap-3",children:[H.jsxs("div",{className:"text-right",children:[H.jsx("div",{className:"text-xl font-black text-slate-800",children:" "}),H.jsx("div",{className:"text-sm font-bold text-slate-400",children:"   (  )"})]}),H.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center",children:H.jsx(c0,{className:"w-5 h-5"})})]}),H.jsxs("div",{className:"space-y-3",children:[H.jsx("label",{className:"block text-sm font-black text-slate-600",children:"  ?"}),H.jsx("input",{type:"datetime-local",value:C,onChange:I=>O(I.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 font-bold text-slate-700 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),H.jsxs("div",{className:"space-y-3",children:[H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsx("span",{className:"text-sm font-black text-slate-600",children:""}),H.jsxs("span",{className:"text-sm font-black text-slate-500",children:[k," "]})]}),H.jsx("div",{className:"grid grid-cols-4 gap-2",dir:"ltr",children:[30,45,60,90].map(I=>H.jsx("button",{onClick:()=>j(I),className:`py-2 rounded-2xl font-black text-sm ${k===I?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700"}`,children:I},I))})]}),H.jsxs("div",{className:"flex gap-3 pt-2",children:[H.jsx("button",{onClick:()=>R(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),H.jsx("button",{onClick:()=>{R(!1),Zi()},className:"flex-1 py-3 rounded-2xl font-black bg-indigo-600 text-white shadow-lg shadow-indigo-100",children:" "})]})]})})}):null,Pe?H.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:H.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:H.jsx(pR,{className:"w-5 h-5"})}),H.jsxs("div",{className:"text-right",children:[H.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),H.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),H.jsxs("div",{className:"flex gap-3",children:[H.jsx("button",{onClick:()=>De(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),H.jsx("button",{onClick:Li,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null,U?H.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50",children:U}):null]}):H.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:H.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[H.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),H.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),H.jsxs("button",{onClick:async()=>{await tu()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[H.jsx(fT,{className:"w-4 h-4"}),"  "]})]})})},BM=()=>H.jsx(eR,{children:H.jsxs(xA,{children:[H.jsx(Gm,{path:"/",element:H.jsx(jM,{})}),H.jsx(Gm,{path:"/invite",element:H.jsx(CM,{})})]})}),Yw=document.getElementById("root");if(!Yw)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",r=>{const e=(r==null?void 0:r.message)||"unknown",n=r==null?void 0:r.error;console.error("WINDOW_ERROR:",e,n),alert("WINDOW_ERROR: "+e)});window.addEventListener("unhandledrejection",r=>{const e=r==null?void 0:r.reason;console.error("UNHANDLED_REJECTION:",e);let n="";try{typeof e=="string"?n=e:e!=null&&e.message?n=e.message:n=JSON.stringify(e)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());MS.createRoot(Yw).render(H.jsx(AS.StrictMode,{children:H.jsx(BM,{})}));
