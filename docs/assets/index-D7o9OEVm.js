(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function P1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var nm={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function k1(){if(vv)return Dl;vv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Dl.Fragment=t,Dl.jsx=n,Dl.jsxs=n,Dl}var Ev;function U1(){return Ev||(Ev=1,nm.exports=k1()),nm.exports}var Ut=U1(),im={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function z1(){if(Tv)return Rt;Tv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),b=Symbol.iterator;function L(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,j={};function it(O,X,rt){this.props=O,this.context=X,this.refs=j,this.updater=rt||q}it.prototype.isReactComponent={},it.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},it.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function st(){}st.prototype=it.prototype;function tt(O,X,rt){this.props=O,this.context=X,this.refs=j,this.updater=rt||q}var mt=tt.prototype=new st;mt.constructor=tt,K(mt,it.prototype),mt.isPureReactComponent=!0;var St=Array.isArray;function Et(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(O,X,rt){var et=rt.ref;return{$$typeof:r,type:O,key:X,ref:et!==void 0?et:null,props:rt}}function V(O,X){return R(O.type,X,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(rt){return X[rt]})}var C=/\/+/g;function Ct(O,X){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):X.toString(36)}function ce(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Et,Et):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,X,rt,et,nt){var ut=typeof O;(ut==="undefined"||ut==="boolean")&&(O=null);var at=!1;if(O===null)at=!0;else switch(ut){case"bigint":case"string":case"number":at=!0;break;case"object":switch(O.$$typeof){case r:case t:at=!0;break;case E:return at=O._init,Q(at(O._payload),X,rt,et,nt)}}if(at)return nt=nt(O),at=et===""?"."+Ct(O,0):et,St(nt)?(rt="",at!=null&&(rt=at.replace(C,"$&/")+"/"),Q(nt,X,rt,"",function(de){return de})):nt!=null&&(M(nt)&&(nt=V(nt,rt+(nt.key==null||O&&O.key===nt.key?"":(""+nt.key).replace(C,"$&/")+"/")+at)),X.push(nt)),1;at=0;var Ot=et===""?".":et+":";if(St(O))for(var gt=0;gt<O.length;gt++)et=O[gt],ut=Ot+Ct(et,gt),at+=Q(et,X,rt,ut,nt);else if(gt=L(O),typeof gt=="function")for(O=gt.call(O),gt=0;!(et=O.next()).done;)et=et.value,ut=Ot+Ct(et,gt++),at+=Q(et,X,rt,ut,nt);else if(ut==="object"){if(typeof O.then=="function")return Q(ce(O),X,rt,et,nt);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return at}function lt(O,X,rt){if(O==null)return O;var et=[],nt=0;return Q(O,et,"","",function(ut){return X.call(rt,ut,nt++)}),et}function pt(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(rt){(O._status===0||O._status===-1)&&(O._status=1,O._result=rt)},function(rt){(O._status===0||O._status===-1)&&(O._status=2,O._result=rt)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var Mt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},jt={map:lt,forEach:function(O,X,rt){lt(O,function(){X.apply(this,arguments)},rt)},count:function(O){var X=0;return lt(O,function(){X++}),X},toArray:function(O){return lt(O,function(X){return X})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Rt.Activity=A,Rt.Children=jt,Rt.Component=it,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=tt,Rt.StrictMode=s,Rt.Suspense=g,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(O,X,rt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var et=K({},O.props),nt=O.key;if(X!=null)for(ut in X.key!==void 0&&(nt=""+X.key),X)!w.call(X,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&X.ref===void 0||(et[ut]=X[ut]);var ut=arguments.length-2;if(ut===1)et.children=rt;else if(1<ut){for(var at=Array(ut),Ot=0;Ot<ut;Ot++)at[Ot]=arguments[Ot+2];et.children=at}return R(O.type,nt,et)},Rt.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Rt.createElement=function(O,X,rt){var et,nt={},ut=null;if(X!=null)for(et in X.key!==void 0&&(ut=""+X.key),X)w.call(X,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(nt[et]=X[et]);var at=arguments.length-2;if(at===1)nt.children=rt;else if(1<at){for(var Ot=Array(at),gt=0;gt<at;gt++)Ot[gt]=arguments[gt+2];nt.children=Ot}if(O&&O.defaultProps)for(et in at=O.defaultProps,at)nt[et]===void 0&&(nt[et]=at[et]);return R(O,ut,nt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:m,render:O}},Rt.isValidElement=M,Rt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:pt}},Rt.memo=function(O,X){return{$$typeof:y,type:O,compare:X===void 0?null:X}},Rt.startTransition=function(O){var X=D.T,rt={};D.T=rt;try{var et=O(),nt=D.S;nt!==null&&nt(rt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Et,Mt)}catch(ut){Mt(ut)}finally{X!==null&&rt.types!==null&&(X.types=rt.types),D.T=X}},Rt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Rt.use=function(O){return D.H.use(O)},Rt.useActionState=function(O,X,rt){return D.H.useActionState(O,X,rt)},Rt.useCallback=function(O,X){return D.H.useCallback(O,X)},Rt.useContext=function(O){return D.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,X){return D.H.useDeferredValue(O,X)},Rt.useEffect=function(O,X){return D.H.useEffect(O,X)},Rt.useEffectEvent=function(O){return D.H.useEffectEvent(O)},Rt.useId=function(){return D.H.useId()},Rt.useImperativeHandle=function(O,X,rt){return D.H.useImperativeHandle(O,X,rt)},Rt.useInsertionEffect=function(O,X){return D.H.useInsertionEffect(O,X)},Rt.useLayoutEffect=function(O,X){return D.H.useLayoutEffect(O,X)},Rt.useMemo=function(O,X){return D.H.useMemo(O,X)},Rt.useOptimistic=function(O,X){return D.H.useOptimistic(O,X)},Rt.useReducer=function(O,X,rt){return D.H.useReducer(O,X,rt)},Rt.useRef=function(O){return D.H.useRef(O)},Rt.useState=function(O){return D.H.useState(O)},Rt.useSyncExternalStore=function(O,X,rt){return D.H.useSyncExternalStore(O,X,rt)},Rt.useTransition=function(){return D.H.useTransition()},Rt.version="19.2.3",Rt}var Av;function Jm(){return Av||(Av=1,im.exports=z1()),im.exports}var F=Jm();const er=P1(F);var rm={exports:{}},Ol={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function B1(){return Sv||(Sv=1,(function(r){function t(Q,lt){var pt=Q.length;Q.push(lt);t:for(;0<pt;){var Mt=pt-1>>>1,jt=Q[Mt];if(0<o(jt,lt))Q[Mt]=lt,Q[pt]=jt,pt=Mt;else break t}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var lt=Q[0],pt=Q.pop();if(pt!==lt){Q[0]=pt;t:for(var Mt=0,jt=Q.length,O=jt>>>1;Mt<O;){var X=2*(Mt+1)-1,rt=Q[X],et=X+1,nt=Q[et];if(0>o(rt,pt))et<jt&&0>o(nt,rt)?(Q[Mt]=nt,Q[et]=pt,Mt=et):(Q[Mt]=rt,Q[X]=pt,Mt=X);else if(et<jt&&0>o(nt,pt))Q[Mt]=nt,Q[et]=pt,Mt=et;else break t}}return lt}function o(Q,lt){var pt=Q.sortIndex-lt.sortIndex;return pt!==0?pt:Q.id-lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,A=null,b=3,L=!1,q=!1,K=!1,j=!1,it=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function mt(Q){for(var lt=n(y);lt!==null;){if(lt.callback===null)s(y);else if(lt.startTime<=Q)s(y),lt.sortIndex=lt.expirationTime,t(g,lt);else break;lt=n(y)}}function St(Q){if(K=!1,mt(Q),!q)if(n(g)!==null)q=!0,Et||(Et=!0,P());else{var lt=n(y);lt!==null&&ce(St,lt.startTime-Q)}}var Et=!1,D=-1,w=5,R=-1;function V(){return j?!0:!(r.unstable_now()-R<w)}function M(){if(j=!1,Et){var Q=r.unstable_now();R=Q;var lt=!0;try{t:{q=!1,K&&(K=!1,st(D),D=-1),L=!0;var pt=b;try{e:{for(mt(Q),A=n(g);A!==null&&!(A.expirationTime>Q&&V());){var Mt=A.callback;if(typeof Mt=="function"){A.callback=null,b=A.priorityLevel;var jt=Mt(A.expirationTime<=Q);if(Q=r.unstable_now(),typeof jt=="function"){A.callback=jt,mt(Q),lt=!0;break e}A===n(g)&&s(g),mt(Q)}else s(g);A=n(g)}if(A!==null)lt=!0;else{var O=n(y);O!==null&&ce(St,O.startTime-Q),lt=!1}}break t}finally{A=null,b=pt,L=!1}lt=void 0}}finally{lt?P():Et=!1}}}var P;if(typeof tt=="function")P=function(){tt(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ct=C.port2;C.port1.onmessage=M,P=function(){Ct.postMessage(null)}}else P=function(){it(M,0)};function ce(Q,lt){D=it(function(){Q(r.unstable_now())},lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var lt=3;break;default:lt=b}var pt=b;b=lt;try{return Q()}finally{b=pt}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(Q,lt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pt=b;b=Q;try{return lt()}finally{b=pt}},r.unstable_scheduleCallback=function(Q,lt,pt){var Mt=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Mt+pt:Mt):pt=Mt,Q){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=pt+jt,Q={id:E++,callback:lt,priorityLevel:Q,startTime:pt,expirationTime:jt,sortIndex:-1},pt>Mt?(Q.sortIndex=pt,t(y,Q),n(g)===null&&Q===n(y)&&(K?(st(D),D=-1):K=!0,ce(St,pt-Mt))):(Q.sortIndex=jt,t(g,Q),q||L||(q=!0,Et||(Et=!0,P()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var lt=b;return function(){var pt=b;b=lt;try{return Q.apply(this,arguments)}finally{b=pt}}}})(am)),am}var bv;function j1(){return bv||(bv=1,sm.exports=B1()),sm.exports}var om={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function q1(){if(wv)return en;wv=1;var r=Jm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},en.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},en.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},en.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},en.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:L}):E==="script"&&s.d.X(g,{crossOrigin:A,integrity:b,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},en.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},en.requestFormReset=function(g){s.d.r(g)},en.unstable_batchedUpdates=function(g,y){return g(y)},en.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},en.useFormStatus=function(){return f.H.useHostTransitionStatus()},en.version="19.2.3",en}var Rv;function H1(){if(Rv)return om.exports;Rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),om.exports=q1(),om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function F1(){if(Iv)return Ol;Iv=1;var r=j1(),t=Jm(),n=H1();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,b=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),St=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Ct(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case it:return"Profiler";case j:return"StrictMode";case St:return"Suspense";case Et:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case tt:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case mt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:Ct(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return Ct(e(i))}catch{}}return null}var ce=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Mt=[],jt=-1;function O(e){return{current:e}}function X(e){0>jt||(e.current=Mt[jt],Mt[jt]=null,jt--)}function rt(e,i){jt++,Mt[jt]=e.current,e.current=i}var et=O(null),nt=O(null),ut=O(null),at=O(null);function Ot(e,i){switch(rt(ut,i),rt(nt,e),rt(et,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?q_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=q_(i),e=H_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(et),rt(et,e)}function gt(){X(et),X(nt),X(ut)}function de(e){e.memoizedState!==null&&rt(at,e);var i=et.current,a=H_(i,e.type);i!==a&&(rt(nt,e),rt(et,a))}function an(e){nt.current===e&&(X(et),X(nt)),at.current===e&&(X(at),wl._currentValue=pt)}var bn,re;function qt(e){if(bn===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);bn=i&&i[1]||"",re=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bn+e+re}var qe=!1;function pn(e,i){if(!e||qe)return"";qe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var B=H}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(H){B=H}e.call(Z.prototype)}}else{try{throw Error()}catch(H){B=H}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var Y=`
`+I[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{qe=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?qt(a):""}function Zn(e,i){switch(e.tag){case 26:case 27:case 5:return qt(e.type);case 16:return qt("Lazy");case 13:return e.child!==i&&i!==null?qt("Suspense Fallback"):qt("Suspense");case 19:return qt("SuspenseList");case 0:case 15:return pn(e.type,!1);case 11:return pn(e.type.render,!1);case 1:return pn(e.type,!0);case 31:return qt("Activity");default:return""}}function Ci(e){try{var i="",a=null;do i+=Zn(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var fa=Object.prototype.hasOwnProperty,ws=r.unstable_scheduleCallback,da=r.unstable_cancelCallback,Wh=r.unstable_shouldYield,Co=r.unstable_requestPaint,He=r.unstable_now,pu=r.unstable_getCurrentPriorityLevel,Ve=r.unstable_ImmediatePriority,Le=r.unstable_UserBlockingPriority,Di=r.unstable_NormalPriority,gu=r.unstable_LowPriority,Do=r.unstable_IdlePriority,tf=r.log,Rs=r.unstable_setDisableYieldValue,dr=null,We=null;function kn(e){if(typeof tf=="function"&&Rs(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(dr,e)}catch{}}var on=Math.clz32?Math.clz32:yu,ef=Math.log,Oo=Math.LN2;function yu(e){return e>>>=0,e===0?32:31-(ef(e)/Oo|0)|0}var Is=256,li=262144,mr=4194304;function Wn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Un(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Wn(l):(_&=T,_!==0?h=Wn(_):a||(a=T&~e,a!==0&&(h=Wn(a))))):(T=l&~d,T!==0?h=Wn(T):_!==0?h=Wn(_):a||(a=l&~e,a!==0&&(h=Wn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function pr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function ma(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(){var e=mr;return mr<<=1,(mr&62914560)===0&&(mr=4194304),e}function Oi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function gr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fe(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-on(a),Z=1<<Y;T[Y]=0,I[Y]=-1;var B=z[Y];if(B!==null)for(z[Y]=null,Y=0;Y<B.length;Y++){var H=B[Y];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&Vo(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Vo(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-on(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function yr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-on(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function _r(e,i){var a=i&-i;return a=(a&42)!==0?1:Mo(a),(a&(e.suspendedLanes|i))!==0?0:a}function Mo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ni(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:fv(e.type))}function _u(e,i){var a=lt.p;try{return lt.p=e,i()}finally{lt.p=a}}var ui=Math.random().toString(36).slice(2),me="__reactFiber$"+ui,Ge="__reactProps$"+ui,ci="__reactContainer$"+ui,vr="__reactEvents$"+ui,hi="__reactListeners$"+ui,vu="__reactHandles$"+ui,Lo="__reactResources$"+ui,Vi="__reactMarker$"+ui;function Cs(e){delete e[me],delete e[Ge],delete e[vr],delete e[hi],delete e[vu]}function Mi(e){var i=e[me];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ci]||a[me]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=$_(e);e!==null;){if(a=e[me])return a;e=$_(e)}return i}e=a,a=e.parentNode}return null}function xi(e){if(e=e[me]||e[ci]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Ds(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function ti(e){var i=e[Lo];return i||(i=e[Lo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function _e(e){e[Vi]=!0}var pa=new Set,Er={};function ln(e,i){fi(e,i),fi(e+"Capture",i)}function fi(e,i){for(Er[e]=i,e=0;e<i.length;e++)pa.add(i[e])}var nf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},ko={};function Eu(e){return fa.call(ko,e)?!0:fa.call(Po,e)?!1:nf.test(e)?ko[e]=!0:(Po[e]=!0,!1)}function Tr(e,i,a){if(Eu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Ar(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function zn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function un(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tu(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function rf(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ga(e){if(!e._valueTracker){var i=Tu(e)?"checked":"value";e._valueTracker=rf(e,i,""+e[i])}}function Uo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Tu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function ya(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Li=/[\n"\\]/g;function pe(e){return e.replace(Li,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Sr(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+un(i)):e.value!==""+un(i)&&(e.value=""+un(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?_a(e,_,un(i)):a!=null?_a(e,_,un(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+un(T):e.removeAttribute("name")}function Os(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){ga(e);return}a=a!=null?""+un(a):"",i=i!=null?""+un(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),ga(e)}function _a(e,i,a){i==="number"&&ya(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Qt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+un(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Ns(e,i,a){if(i!=null&&(i=""+un(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+un(a):""}function br(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=un(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),ga(e)}function Bn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var sf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||sf.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Au(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&zo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&zo(e,d,i[d])}function Bo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var af=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function di(e){return of.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pe(){}var va=null;function Ea(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pi=null,wn=null;function Su(e){var i=xi(e);if(i&&(e=i.stateNode)){var a=e[Ge]||null;t:switch(e=i.stateNode,i.type){case"input":if(Sr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pe(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ge]||null;if(!h)throw Error(s(90));Sr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Uo(l)}break t;case"textarea":Ns(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Qt(e,!!a.multiple,i,!1)}}}var jo=!1;function bu(e,i,a){if(jo)return e(i,a);jo=!0;try{var l=e(i);return l}finally{if(jo=!1,(Pi!==null||wn!==null)&&(Ec(),Pi&&(i=Pi,e=wn,wn=Pi=null,Su(i),e)))for(i=0;i<e.length;i++)Su(e[i])}}function gn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ge]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qo=!1;if(ei)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){qo=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{qo=!1}var Rn=null,Ta=null,pi=null;function wr(){if(pi)return pi;var e,i=Ta,a=i.length,l,h="value"in Rn?Rn.value:Rn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return pi=h.slice(e,1<l?1-l:void 0)}function Vs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Rr(){return!0}function se(){return!1}function tn(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Rr:se,this.isPropagationStopped=se,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),i}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=tn(ki),Ir=A({},ki,{view:0,detail:0}),wu=tn(Ir),Cr,Aa,cn,xs=A({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&e.type==="mousemove"?(Cr=e.screenX-cn.screenX,Aa=e.screenY-cn.screenY):Aa=Cr=0,cn=e),Cr)},movementY:function(e){return"movementY"in e?e.movementY:Aa}}),Ru=tn(xs),Ls=A({},xs,{dataTransfer:0}),Iu=tn(Ls),Ho=A({},Ir,{relatedTarget:0}),Dr=tn(Ho),Cu=A({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Sa=tn(Cu),lf=A({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Du=tn(lf),Ps=A({},ki,{data:0}),Fo=tn(Ps),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Go={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Qo[e])?!!i[e]:!1}function Or(){return Nu}var Vu=A({},Ir,{key:function(e){if(e.key){var i=Ou[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Go[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(e){return e.type==="keypress"?Vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mu=tn(Vu),Ui=A({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=tn(Ui),xu=A({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),Lu=tn(xu),Pu=A({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),ba=tn(Pu),hn=A({},xs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ku=tn(hn),Uu=A({},ki,{newState:0,oldState:0}),Nr=tn(Uu),c=[9,13,27,32],p=ei&&"CompositionEvent"in window,v=null;ei&&"documentMode"in document&&(v=document.documentMode);var S=ei&&"TextEvent"in window&&!v,k=ei&&(!p||v&&8<v&&11>=v),G=" ",ot=!1;function $t(e,i){switch(e){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Se(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nt=!1;function ke(e,i){switch(e){case"compositionend":return Se(i);case"keypress":return i.which!==32?null:(ot=!0,G);case"textInput":return e=i.data,e===G&&ot?null:e;default:return null}}function Ue(e,i){if(Nt)return e==="compositionend"||!p&&$t(e,i)?(e=wr(),pi=Ta=Rn=null,Nt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return k&&i.locale!=="ko"?null:i.data;default:return null}}var Vr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yn(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Vr[e.type]:i==="textarea"}function ks(e,i,a,l){Pi?wn?wn.push(l):wn=[l]:Pi=l,i=Ic(i,"onChange"),0<i.length&&(a=new Ms("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var zi=null,Yo=null;function uS(e){P_(e,0)}function zu(e){var i=Ds(e);if(Uo(i))return e}function eg(e,i){if(e==="change")return i}var ng=!1;if(ei){var uf;if(ei){var cf="oninput"in document;if(!cf){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),cf=typeof ig.oninput=="function"}uf=cf}else uf=!1;ng=uf&&(!document.documentMode||9<document.documentMode)}function rg(){zi&&(zi.detachEvent("onpropertychange",sg),Yo=zi=null)}function sg(e){if(e.propertyName==="value"&&zu(Yo)){var i=[];ks(i,Yo,e,Ea(e)),bu(uS,i)}}function cS(e,i,a){e==="focusin"?(rg(),zi=i,Yo=a,zi.attachEvent("onpropertychange",sg)):e==="focusout"&&rg()}function hS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zu(Yo)}function fS(e,i){if(e==="click")return zu(i)}function dS(e,i){if(e==="input"||e==="change")return zu(i)}function mS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var In=typeof Object.is=="function"?Object.is:mS;function Xo(e,i){if(In(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!fa.call(i,h)||!In(e[h],i[h]))return!1}return!0}function ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function og(e,i){var a=ag(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ag(a)}}function lg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?lg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ug(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ya(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ya(e.document)}return i}function hf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var pS=ei&&"documentMode"in document&&11>=document.documentMode,wa=null,ff=null,$o=null,df=!1;function cg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;df||wa==null||wa!==ya(l)||(l=wa,"selectionStart"in l&&hf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$o&&Xo($o,l)||($o=l,l=Ic(ff,"onSelect"),0<l.length&&(i=new Ms("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=wa)))}function Us(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ra={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},mf={},hg={};ei&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function zs(e){if(mf[e])return mf[e];if(!Ra[e])return e;var i=Ra[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in hg)return mf[e]=i[a];return e}var fg=zs("animationend"),dg=zs("animationiteration"),mg=zs("animationstart"),gS=zs("transitionrun"),yS=zs("transitionstart"),_S=zs("transitioncancel"),pg=zs("transitionend"),gg=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function ni(e,i){gg.set(e,i),ln(i,[e])}var Bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],Ia=0,gf=0;function ju(){for(var e=Ia,i=gf=Ia=0;i<e;){var a=jn[i];jn[i++]=null;var l=jn[i];jn[i++]=null;var h=jn[i];jn[i++]=null;var d=jn[i];if(jn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&yg(a,h,d)}}function qu(e,i,a,l){jn[Ia++]=e,jn[Ia++]=i,jn[Ia++]=a,jn[Ia++]=l,gf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function yf(e,i,a,l){return qu(e,i,a,l),Hu(e)}function Bs(e,i){return qu(e,null,null,i),Hu(e)}function yg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-on(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Hu(e){if(50<_l)throw _l=0,Rd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ca={};function vS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,i,a,l){return new vS(e,i,a,l)}function _f(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bi(e,i){var a=e.alternate;return a===null?(a=Cn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function _g(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Fu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")_f(e)&&(_=1);else if(typeof e=="string")_=b1(e,a,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Cn(31,a,i,h),e.elementType=R,e.lanes=d,e;case K:return js(a.children,h,d,i);case j:_=8,h|=24;break;case it:return e=Cn(12,a,i,h|2),e.elementType=it,e.lanes=d,e;case St:return e=Cn(13,a,i,h),e.elementType=St,e.lanes=d,e;case Et:return e=Cn(19,a,i,h),e.elementType=Et,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tt:_=10;break t;case st:_=9;break t;case mt:_=11;break t;case D:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Cn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function js(e,i,a,l){return e=Cn(7,e,l,i),e.lanes=a,e}function vf(e,i,a){return e=Cn(6,e,null,i),e.lanes=a,e}function vg(e){var i=Cn(18,null,null,0);return i.stateNode=e,i}function Ef(e,i,a){return i=Cn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Eg=new WeakMap;function qn(e,i){if(typeof e=="object"&&e!==null){var a=Eg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ci(i)},Eg.set(e,i),i)}return{value:e,source:i,stack:Ci(i)}}var Da=[],Oa=0,Gu=null,Jo=0,Hn=[],Fn=0,Mr=null,gi=1,yi="";function ji(e,i){Da[Oa++]=Jo,Da[Oa++]=Gu,Gu=e,Jo=i}function Tg(e,i,a){Hn[Fn++]=gi,Hn[Fn++]=yi,Hn[Fn++]=Mr,Mr=e;var l=gi;e=yi;var h=32-on(l)-1;l&=~(1<<h),a+=1;var d=32-on(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,gi=1<<32-on(i)+h|a<<h|l,yi=d+e}else gi=1<<d|a<<h|l,yi=e}function Tf(e){e.return!==null&&(ji(e,1),Tg(e,1,0))}function Af(e){for(;e===Gu;)Gu=Da[--Oa],Da[Oa]=null,Jo=Da[--Oa],Da[Oa]=null;for(;e===Mr;)Mr=Hn[--Fn],Hn[Fn]=null,yi=Hn[--Fn],Hn[Fn]=null,gi=Hn[--Fn],Hn[Fn]=null}function Ag(e,i){Hn[Fn++]=gi,Hn[Fn++]=yi,Hn[Fn++]=Mr,gi=i.id,yi=i.overflow,Mr=e}var Qe=null,ae=null,Ht=!1,xr=null,Gn=!1,Sf=Error(s(519));function Lr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(qn(i,e)),Sf}function Sg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[me]=e,i[Ge]=l,a){case"dialog":Lt("cancel",i),Lt("close",i);break;case"iframe":case"object":case"embed":Lt("load",i);break;case"video":case"audio":for(a=0;a<El.length;a++)Lt(El[a],i);break;case"source":Lt("error",i);break;case"img":case"image":case"link":Lt("error",i),Lt("load",i);break;case"details":Lt("toggle",i);break;case"input":Lt("invalid",i),Os(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Lt("invalid",i);break;case"textarea":Lt("invalid",i),br(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||B_(i.textContent,a)?(l.popover!=null&&(Lt("beforetoggle",i),Lt("toggle",i)),l.onScroll!=null&&Lt("scroll",i),l.onScrollEnd!=null&&Lt("scrollend",i),l.onClick!=null&&(i.onclick=Pe),i=!0):i=!1,i||Lr(e,!0)}function bg(e){for(Qe=e.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Qe=Qe.return}}function Na(e){if(e!==Qe)return!1;if(!Ht)return bg(e),Ht=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||jd(e.type,e.memoizedProps)),a=!a),a&&ae&&Lr(e),bg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ae=X_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ae=X_(e)}else i===27?(i=ae,Xr(e.type)?(e=Qd,Qd=null,ae=e):ae=i):ae=Qe?Kn(e.stateNode.nextSibling):null;return!0}function qs(){ae=Qe=null,Ht=!1}function bf(){var e=xr;return e!==null&&(Tn===null?Tn=e:Tn.push.apply(Tn,e),xr=null),e}function Zo(e){xr===null?xr=[e]:xr.push(e)}var wf=O(null),Hs=null,qi=null;function Pr(e,i,a){rt(wf,i._currentValue),i._currentValue=a}function Hi(e){e._currentValue=wf.current,X(wf)}function Rf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function If(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Rf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Rf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Va(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;In(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===at.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(wl):e=[wl])}h=h.return}e!==null&&If(i,e,a,l),i.flags|=262144}function Qu(e){for(e=e.firstContext;e!==null;){if(!In(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fs(e){Hs=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return wg(Hs,e)}function Ku(e,i){return Hs===null&&Fs(e),wg(e,i)}function wg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(e===null)throw Error(s(308));qi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else qi=qi.next=i;return a}var ES=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},TS=r.unstable_scheduleCallback,AS=r.unstable_NormalPriority,be={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new ES,data:new Map,refCount:0}}function Wo(e){e.refCount--,e.refCount===0&&TS(AS,function(){e.controller.abort()})}var tl=null,Df=0,Ma=0,xa=null;function SS(e,i){if(tl===null){var a=tl=[];Df=0,Ma=Vd(),xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,i.then(Rg,Rg),i}function Rg(){if(--Df===0&&tl!==null){xa!==null&&(xa.status="fulfilled");var e=tl;tl=null,Ma=0,xa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function bS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ig=Q.S;Q.S=function(e,i){c_=He(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&SS(e,i),Ig!==null&&Ig(e,i)};var Gs=O(null);function Of(){var e=Gs.current;return e!==null?e:ie.pooledCache}function Yu(e,i){i===null?rt(Gs,Gs.current):rt(Gs,i.pool)}function Cg(){var e=Of();return e===null?null:{parent:be._currentValue,pool:e}}var La=Error(s(460)),Nf=Error(s(474)),Xu=Error(s(542)),$u={then:function(){}};function Dg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Og(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Pe,Pe),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Vg(e),e;default:if(typeof i.status=="string")i.then(Pe,Pe);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Vg(e),e}throw Ks=i,La}}function Qs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ks=a,La):a}}var Ks=null;function Ng(){if(Ks===null)throw Error(s(459));var e=Ks;return Ks=null,e}function Vg(e){if(e===La||e===Xu)throw Error(s(483))}var Pa=null,el=0;function Ju(e){var i=el;return el+=1,Pa===null&&(Pa=[]),Og(Pa,e,i)}function nl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Zu(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Mg(e){function i(x,N){if(e){var U=x.deletions;U===null?(x.deletions=[N],x.flags|=16):U.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Bi(x,N),x.index=0,x.sibling=null,x}function d(x,N,U){return x.index=U,e?(U=x.alternate,U!==null?(U=U.index,U<N?(x.flags|=67108866,N):U):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function _(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,N,U,$){return N===null||N.tag!==6?(N=vf(U,x.mode,$),N.return=x,N):(N=h(N,U),N.return=x,N)}function I(x,N,U,$){var _t=U.type;return _t===K?Y(x,N,U.props.children,$,U.key):N!==null&&(N.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===w&&Qs(_t)===N.type)?(N=h(N,U.props),nl(N,U),N.return=x,N):(N=Fu(U.type,U.key,U.props,null,x.mode,$),nl(N,U),N.return=x,N)}function z(x,N,U,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Ef(U,x.mode,$),N.return=x,N):(N=h(N,U.children||[]),N.return=x,N)}function Y(x,N,U,$,_t){return N===null||N.tag!==7?(N=js(U,x.mode,$,_t),N.return=x,N):(N=h(N,U),N.return=x,N)}function Z(x,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=vf(""+N,x.mode,U),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case L:return U=Fu(N.type,N.key,N.props,null,x.mode,U),nl(U,N),U.return=x,U;case q:return N=Ef(N,x.mode,U),N.return=x,N;case w:return N=Qs(N),Z(x,N,U)}if(ce(N)||P(N))return N=js(N,x.mode,U,null),N.return=x,N;if(typeof N.then=="function")return Z(x,Ju(N),U);if(N.$$typeof===tt)return Z(x,Ku(x,N),U);Zu(x,N)}return null}function B(x,N,U,$){var _t=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return _t!==null?null:T(x,N,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case L:return U.key===_t?I(x,N,U,$):null;case q:return U.key===_t?z(x,N,U,$):null;case w:return U=Qs(U),B(x,N,U,$)}if(ce(U)||P(U))return _t!==null?null:Y(x,N,U,$,null);if(typeof U.then=="function")return B(x,N,Ju(U),$);if(U.$$typeof===tt)return B(x,N,Ku(x,U),$);Zu(x,U)}return null}function H(x,N,U,$,_t){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return x=x.get(U)||null,T(N,x,""+$,_t);if(typeof $=="object"&&$!==null){switch($.$$typeof){case L:return x=x.get($.key===null?U:$.key)||null,I(N,x,$,_t);case q:return x=x.get($.key===null?U:$.key)||null,z(N,x,$,_t);case w:return $=Qs($),H(x,N,U,$,_t)}if(ce($)||P($))return x=x.get(U)||null,Y(N,x,$,_t,null);if(typeof $.then=="function")return H(x,N,U,Ju($),_t);if($.$$typeof===tt)return H(x,N,U,Ku(N,$),_t);Zu(N,$)}return null}function ft(x,N,U,$){for(var _t=null,Kt=null,dt=N,Dt=N=0,kt=null;dt!==null&&Dt<U.length;Dt++){dt.index>Dt?(kt=dt,dt=null):kt=dt.sibling;var Yt=B(x,dt,U[Dt],$);if(Yt===null){dt===null&&(dt=kt);break}e&&dt&&Yt.alternate===null&&i(x,dt),N=d(Yt,N,Dt),Kt===null?_t=Yt:Kt.sibling=Yt,Kt=Yt,dt=kt}if(Dt===U.length)return a(x,dt),Ht&&ji(x,Dt),_t;if(dt===null){for(;Dt<U.length;Dt++)dt=Z(x,U[Dt],$),dt!==null&&(N=d(dt,N,Dt),Kt===null?_t=dt:Kt.sibling=dt,Kt=dt);return Ht&&ji(x,Dt),_t}for(dt=l(dt);Dt<U.length;Dt++)kt=H(dt,x,Dt,U[Dt],$),kt!==null&&(e&&kt.alternate!==null&&dt.delete(kt.key===null?Dt:kt.key),N=d(kt,N,Dt),Kt===null?_t=kt:Kt.sibling=kt,Kt=kt);return e&&dt.forEach(function(ts){return i(x,ts)}),Ht&&ji(x,Dt),_t}function Tt(x,N,U,$){if(U==null)throw Error(s(151));for(var _t=null,Kt=null,dt=N,Dt=N=0,kt=null,Yt=U.next();dt!==null&&!Yt.done;Dt++,Yt=U.next()){dt.index>Dt?(kt=dt,dt=null):kt=dt.sibling;var ts=B(x,dt,Yt.value,$);if(ts===null){dt===null&&(dt=kt);break}e&&dt&&ts.alternate===null&&i(x,dt),N=d(ts,N,Dt),Kt===null?_t=ts:Kt.sibling=ts,Kt=ts,dt=kt}if(Yt.done)return a(x,dt),Ht&&ji(x,Dt),_t;if(dt===null){for(;!Yt.done;Dt++,Yt=U.next())Yt=Z(x,Yt.value,$),Yt!==null&&(N=d(Yt,N,Dt),Kt===null?_t=Yt:Kt.sibling=Yt,Kt=Yt);return Ht&&ji(x,Dt),_t}for(dt=l(dt);!Yt.done;Dt++,Yt=U.next())Yt=H(dt,x,Dt,Yt.value,$),Yt!==null&&(e&&Yt.alternate!==null&&dt.delete(Yt.key===null?Dt:Yt.key),N=d(Yt,N,Dt),Kt===null?_t=Yt:Kt.sibling=Yt,Kt=Yt);return e&&dt.forEach(function(L1){return i(x,L1)}),Ht&&ji(x,Dt),_t}function ee(x,N,U,$){if(typeof U=="object"&&U!==null&&U.type===K&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case L:t:{for(var _t=U.key;N!==null;){if(N.key===_t){if(_t=U.type,_t===K){if(N.tag===7){a(x,N.sibling),$=h(N,U.props.children),$.return=x,x=$;break t}}else if(N.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===w&&Qs(_t)===N.type){a(x,N.sibling),$=h(N,U.props),nl($,U),$.return=x,x=$;break t}a(x,N);break}else i(x,N);N=N.sibling}U.type===K?($=js(U.props.children,x.mode,$,U.key),$.return=x,x=$):($=Fu(U.type,U.key,U.props,null,x.mode,$),nl($,U),$.return=x,x=$)}return _(x);case q:t:{for(_t=U.key;N!==null;){if(N.key===_t)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(x,N.sibling),$=h(N,U.children||[]),$.return=x,x=$;break t}else{a(x,N);break}else i(x,N);N=N.sibling}$=Ef(U,x.mode,$),$.return=x,x=$}return _(x);case w:return U=Qs(U),ee(x,N,U,$)}if(ce(U))return ft(x,N,U,$);if(P(U)){if(_t=P(U),typeof _t!="function")throw Error(s(150));return U=_t.call(U),Tt(x,N,U,$)}if(typeof U.then=="function")return ee(x,N,Ju(U),$);if(U.$$typeof===tt)return ee(x,N,Ku(x,U),$);Zu(x,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(a(x,N.sibling),$=h(N,U),$.return=x,x=$):(a(x,N),$=vf(U,x.mode,$),$.return=x,x=$),_(x)):a(x,N)}return function(x,N,U,$){try{el=0;var _t=ee(x,N,U,$);return Pa=null,_t}catch(dt){if(dt===La||dt===Xu)throw dt;var Kt=Cn(29,dt,null,x.mode);return Kt.lanes=$,Kt.return=x,Kt}finally{}}}var Ys=Mg(!0),xg=Mg(!1),kr=!1;function Vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ur(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Xt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Hu(e),yg(e,null,a),i}return qu(e,l,i,a),Hu(e)}function il(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,yr(e,a)}}function xf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Lf=!1;function rl(){if(Lf){var e=xa;if(e!==null)throw e}}function sl(e,i,a,l){Lf=!1;var h=e.updateQueue;kr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,_===null?d=z:_.next=z,_=I;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=z:T.next=z,Y.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;_=0,Y=z=I=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Pt&B)===B:(l&B)===B){B!==0&&B===Ma&&(Lf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ft=e,Tt=T;B=i;var ee=a;switch(Tt.tag){case 1:if(ft=Tt.payload,typeof ft=="function"){Z=ft.call(ee,Z,B);break t}Z=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Tt.payload,B=typeof ft=="function"?ft.call(ee,Z,B):ft,B==null)break t;Z=A({},Z,B);break t;case 2:kr=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(z=Y=H,I=Z):Y=Y.next=H,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Fr|=_,e.lanes=_,e.memoizedState=Z}}function Lg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Pg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Lg(a[e],i)}var ka=O(null),Wu=O(0);function kg(e,i){e=Zi,rt(Wu,e),rt(ka,i),Zi=e|i.baseLanes}function Pf(){rt(Wu,Zi),rt(ka,ka.current)}function kf(){Zi=Wu.current,X(ka),X(Wu)}var Dn=O(null),Qn=null;function Br(e){var i=e.alternate;rt(ve,ve.current&1),rt(Dn,e),Qn===null&&(i===null||ka.current!==null||i.memoizedState!==null)&&(Qn=e)}function Uf(e){rt(ve,ve.current),rt(Dn,e),Qn===null&&(Qn=e)}function Ug(e){e.tag===22?(rt(ve,ve.current),rt(Dn,e),Qn===null&&(Qn=e)):jr()}function jr(){rt(ve,ve.current),rt(Dn,Dn.current)}function On(e){X(Dn),Qn===e&&(Qn=null),X(ve)}var ve=O(0);function tc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fd(a)||Gd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,It=null,Wt=null,we=null,ec=!1,Ua=!1,Xs=!1,nc=0,al=0,za=null,wS=0;function ge(){throw Error(s(321))}function zf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!In(e[a],i[a]))return!1;return!0}function Bf(e,i,a,l,h,d){return Fi=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=e===null||e.memoizedState===null?Ty:ed,Xs=!1,d=a(l,h),Xs=!1,Ua&&(d=Bg(i,a,l,h)),zg(e),d}function zg(e){Q.H=ul;var i=Wt!==null&&Wt.next!==null;if(Fi=0,we=Wt=It=null,ec=!1,al=0,za=null,i)throw Error(s(300));e===null||Re||(e=e.dependencies,e!==null&&Qu(e)&&(Re=!0))}function Bg(e,i,a,l){It=e;var h=0;do{if(Ua&&(za=null),al=0,Ua=!1,25<=h)throw Error(s(301));if(h+=1,we=Wt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Ay,d=i(a,l)}while(Ua);return d}function RS(){var e=Q.H,i=e.useState()[0];return i=typeof i.then=="function"?ol(i):i,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(It.flags|=1024),i}function jf(){var e=nc!==0;return nc=0,e}function qf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Hf(e){if(ec){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ec=!1}Fi=0,we=Wt=It=null,Ua=!1,al=nc=0,za=null}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?It.memoizedState=we=e:we=we.next=e,we}function Ee(){if(Wt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var i=we===null?It.memoizedState:we.next;if(i!==null)we=i,Wt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},we===null?It.memoizedState=we=e:we=we.next=e}return we}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(e){var i=al;return al+=1,za===null&&(za=[]),e=Og(za,e,i),i=It,(we===null?i.memoizedState:we.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Ty:ed),e}function rc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ol(e);if(e.$$typeof===tt)return Ke(e)}throw Error(s(438,String(e)))}function Ff(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ic(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Gi(e,i){return typeof i=="function"?i(e):i}function sc(e){var i=Ee();return Gf(i,Wt,e)}function Gf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,I=null,z=i,Y=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Pt&Z)===Z:(Fi&Z)===Z){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Ma&&(Y=!0);else if((Fi&B)===B){z=z.next,B===Ma&&(Y=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=Z,_=d):I=I.next=Z,It.lanes|=B,Fr|=B;Z=z.action,Xs&&a(d,Z),d=z.hasEagerState?z.eagerState:a(d,Z)}else B={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=B,_=d):I=I.next=B,It.lanes|=Z,Fr|=Z;z=z.next}while(z!==null&&z!==i);if(I===null?_=d:I.next=T,!In(d,e.memoizedState)&&(Re=!0,Y&&(a=xa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Qf(e){var i=Ee(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);In(d,i.memoizedState)||(Re=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function jg(e,i,a){var l=It,h=Ee(),d=Ht;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!In((Wt||h).memoizedState,a);if(_&&(h.memoizedState=a,Re=!0),h=h.queue,Xf(Fg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,Ba(9,{destroy:void 0},Hg.bind(null,l,h,a,i),null),ie===null)throw Error(s(349));d||(Fi&127)!==0||qg(l,i,a)}return a}function qg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=ic(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Hg(e,i,a,l){i.value=a,i.getSnapshot=l,Gg(i)&&Qg(e)}function Fg(e,i,a){return a(function(){Gg(i)&&Qg(e)})}function Gg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!In(e,a)}catch{return!0}}function Qg(e){var i=Bs(e,2);i!==null&&An(i,e,2)}function Kf(e){var i=fn();if(typeof e=="function"){var a=e;if(e=a(),Xs){kn(!0);try{a()}finally{kn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},i}function Kg(e,i,a,l){return e.baseState=a,Gf(e,Wt,typeof l=="function"?l:Gi)}function IS(e,i,a,l,h){if(lc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Yg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Yg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var T=a(h,l),I=Q.S;I!==null&&I(_,T),Xg(e,i,T)}catch(z){Yf(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(h,l),Xg(e,i,d)}catch(z){Yf(e,i,z)}}function Xg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){$g(e,i,l)},function(l){return Yf(e,i,l)}):$g(e,i,a)}function $g(e,i,a){i.status="fulfilled",i.value=a,Jg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Yg(e,a)))}function Yf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Jg(i),i=i.next;while(i!==l)}e.action=null}function Jg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Zg(e,i){return i}function Wg(e,i){if(Ht){var a=ie.formState;if(a!==null){t:{var l=It;if(Ht){if(ae){e:{for(var h=ae,d=Gn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Kn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ae=Kn(h.nextSibling),l=h.data==="F!";break t}}Lr(l)}l=!1}l&&(i=a[0])}}return a=fn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:i},a.queue=l,a=_y.bind(null,It,l),l.dispatch=a,l=Kf(!1),d=td.bind(null,It,!1,l.queue),l=fn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=IS.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function ty(e){var i=Ee();return ey(i,Wt,e)}function ey(e,i,a){if(i=Gf(e,i,Zg)[0],e=sc(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ol(i)}catch(_){throw _===La?Xu:_}else l=i;i=Ee();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,Ba(9,{destroy:void 0},CS.bind(null,h,a),null)),[l,d,e]}function CS(e,i){e.action=i}function ny(e){var i=Ee(),a=Wt;if(a!==null)return ey(i,a,e);Ee(),i=i.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ba(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=ic(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function iy(){return Ee().memoizedState}function ac(e,i,a,l){var h=fn();It.flags|=e,h.memoizedState=Ba(1|i,{destroy:void 0},a,l===void 0?null:l)}function oc(e,i,a,l){var h=Ee();l=l===void 0?null:l;var d=h.memoizedState.inst;Wt!==null&&l!==null&&zf(l,Wt.memoizedState.deps)?h.memoizedState=Ba(i,d,a,l):(It.flags|=e,h.memoizedState=Ba(1|i,d,a,l))}function ry(e,i){ac(8390656,8,e,i)}function Xf(e,i){oc(2048,8,e,i)}function DS(e){It.flags|=4;var i=It.updateQueue;if(i===null)i=ic(),It.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function sy(e){var i=Ee().memoizedState;return DS({ref:i,nextImpl:e}),function(){if((Xt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ay(e,i){return oc(4,2,e,i)}function oy(e,i){return oc(4,4,e,i)}function ly(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function uy(e,i,a){a=a!=null?a.concat([e]):null,oc(4,4,ly.bind(null,i,e),a)}function $f(){}function cy(e,i){var a=Ee();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&zf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function hy(e,i){var a=Ee();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&zf(i,l[1]))return l[0];if(l=e(),Xs){kn(!0);try{e()}finally{kn(!1)}}return a.memoizedState=[l,i],l}function Jf(e,i,a){return a===void 0||(Fi&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=f_(),It.lanes|=e,Fr|=e,a)}function fy(e,i,a,l){return In(a,i)?a:ka.current!==null?(e=Jf(e,a,l),In(e,i)||(Re=!0),e):(Fi&42)===0||(Fi&1073741824)!==0&&(Pt&261930)===0?(Re=!0,e.memoizedState=a):(e=f_(),It.lanes|=e,Fr|=e,i)}function dy(e,i,a,l,h){var d=lt.p;lt.p=d!==0&&8>d?d:8;var _=Q.T,T={};Q.T=T,td(e,!1,i,a);try{var I=h(),z=Q.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=bS(I,l);ll(e,i,Y,Mn(e))}else ll(e,i,l,Mn(e))}catch(Z){ll(e,i,{then:function(){},status:"rejected",reason:Z},Mn())}finally{lt.p=d,_!==null&&T.types!==null&&(_.types=T.types),Q.T=_}}function OS(){}function Zf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=my(e).queue;dy(e,h,i,pt,a===null?OS:function(){return py(e),a(l)})}function my(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:pt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function py(e){var i=my(e);i.next===null&&(i=e.alternate.memoizedState),ll(e,i.next.queue,{},Mn())}function Wf(){return Ke(wl)}function gy(){return Ee().memoizedState}function yy(){return Ee().memoizedState}function NS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Mn();e=Ur(a);var l=zr(i,e,a);l!==null&&(An(l,i,a),il(l,i,a)),i={cache:Cf()},e.payload=i;return}i=i.return}}function VS(e,i,a){var l=Mn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lc(e)?vy(i,a):(a=yf(e,i,a,l),a!==null&&(An(a,e,l),Ey(a,i,l)))}function _y(e,i,a){var l=Mn();ll(e,i,a,l)}function ll(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(e))vy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,In(T,_))return qu(e,i,h,0),ie===null&&ju(),!1}catch{}finally{}if(a=yf(e,i,h,l),a!==null)return An(a,e,l),Ey(a,i,l),!0}return!1}function td(e,i,a,l){if(l={lane:2,revertLane:Vd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},lc(e)){if(i)throw Error(s(479))}else i=yf(e,a,l,2),i!==null&&An(i,e,2)}function lc(e){var i=e.alternate;return e===It||i!==null&&i===It}function vy(e,i){Ua=ec=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Ey(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,yr(e,a)}}var ul={readContext:Ke,use:rc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};ul.useEffectEvent=ge;var Ty={readContext:Ke,use:rc,useCallback:function(e,i){return fn().memoizedState=[e,i===void 0?null:i],e},useContext:Ke,useEffect:ry,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ac(4194308,4,ly.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ac(4194308,4,e,i)},useInsertionEffect:function(e,i){ac(4,2,e,i)},useMemo:function(e,i){var a=fn();i=i===void 0?null:i;var l=e();if(Xs){kn(!0);try{e()}finally{kn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=fn();if(a!==void 0){var h=a(i);if(Xs){kn(!0);try{a(i)}finally{kn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=VS.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=fn();return e={current:e},i.memoizedState=e},useState:function(e){e=Kf(e);var i=e.queue,a=_y.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:$f,useDeferredValue:function(e,i){var a=fn();return Jf(a,e,i)},useTransition:function(){var e=Kf(!1);return e=dy.bind(null,It,e.queue,!0,!1),fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=fn();if(Ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ie===null)throw Error(s(349));(Pt&127)!==0||qg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ry(Fg.bind(null,l,d,e),[e]),l.flags|=2048,Ba(9,{destroy:void 0},Hg.bind(null,l,d,a,i),null),a},useId:function(){var e=fn(),i=ie.identifierPrefix;if(Ht){var a=yi,l=gi;a=(l&~(1<<32-on(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=nc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=wS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Wf,useFormState:Wg,useActionState:Wg,useOptimistic:function(e){var i=fn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=td.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:Ff,useCacheRefresh:function(){return fn().memoizedState=NS.bind(null,It)},useEffectEvent:function(e){var i=fn(),a={impl:e};return i.memoizedState=a,function(){if((Xt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ed={readContext:Ke,use:rc,useCallback:cy,useContext:Ke,useEffect:Xf,useImperativeHandle:uy,useInsertionEffect:ay,useLayoutEffect:oy,useMemo:hy,useReducer:sc,useRef:iy,useState:function(){return sc(Gi)},useDebugValue:$f,useDeferredValue:function(e,i){var a=Ee();return fy(a,Wt.memoizedState,e,i)},useTransition:function(){var e=sc(Gi)[0],i=Ee().memoizedState;return[typeof e=="boolean"?e:ol(e),i]},useSyncExternalStore:jg,useId:gy,useHostTransitionStatus:Wf,useFormState:ty,useActionState:ty,useOptimistic:function(e,i){var a=Ee();return Kg(a,Wt,e,i)},useMemoCache:Ff,useCacheRefresh:yy};ed.useEffectEvent=sy;var Ay={readContext:Ke,use:rc,useCallback:cy,useContext:Ke,useEffect:Xf,useImperativeHandle:uy,useInsertionEffect:ay,useLayoutEffect:oy,useMemo:hy,useReducer:Qf,useRef:iy,useState:function(){return Qf(Gi)},useDebugValue:$f,useDeferredValue:function(e,i){var a=Ee();return Wt===null?Jf(a,e,i):fy(a,Wt.memoizedState,e,i)},useTransition:function(){var e=Qf(Gi)[0],i=Ee().memoizedState;return[typeof e=="boolean"?e:ol(e),i]},useSyncExternalStore:jg,useId:gy,useHostTransitionStatus:Wf,useFormState:ny,useActionState:ny,useOptimistic:function(e,i){var a=Ee();return Wt!==null?Kg(a,Wt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:yy};Ay.useEffectEvent=sy;function nd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var id={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Mn(),h=Ur(l);h.payload=i,a!=null&&(h.callback=a),i=zr(e,h,l),i!==null&&(An(i,e,l),il(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Mn(),h=Ur(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=zr(e,h,l),i!==null&&(An(i,e,l),il(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Mn(),l=Ur(a);l.tag=2,i!=null&&(l.callback=i),i=zr(e,l,a),i!==null&&(An(i,e,a),il(i,e,a))}};function Sy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Xo(a,l)||!Xo(h,d):!0}function by(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&id.enqueueReplaceState(i,i.state,null)}function $s(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function wy(e){Bu(e)}function Ry(e){console.error(e)}function Iy(e){Bu(e)}function uc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Cy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rd(e,i,a){return a=Ur(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(e,i)},a}function Dy(e){return e=Ur(e),e.tag=3,e}function Oy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Cy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Cy(i,a,l),typeof h!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function MS(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Va(i,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?Tc():a.alternate===null&&ye===0&&(ye=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===$u?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Dd(e,l,h)),!1;case 22:return a.flags|=65536,l===$u?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Dd(e,l,h)),!1}throw Error(s(435,a.tag))}return Dd(e,l,h),Tc(),!1}if(Ht)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Sf&&(e=Error(s(422),{cause:l}),Zo(qn(e,a)))):(l!==Sf&&(i=Error(s(423),{cause:l}),Zo(qn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=qn(l,a),h=rd(e.stateNode,l,h),xf(e,h),ye!==4&&(ye=2)),!1;var d=Error(s(520),{cause:l});if(d=qn(d,a),yl===null?yl=[d]:yl.push(d),ye!==4&&(ye=2),i===null)return!0;l=qn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=rd(a.stateNode,l,e),xf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Dy(h),Oy(h,e,a,l),xf(a,h),!1}a=a.return}while(a!==null);return!1}var sd=Error(s(461)),Re=!1;function Ye(e,i,a,l){i.child=e===null?xg(i,null,a,l):Ys(i,e.child,a,l)}function Ny(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Fs(i),l=Bf(e,i,a,_,d,h),T=jf(),e!==null&&!Re?(qf(e,i,h),Qi(e,i,h)):(Ht&&T&&Tf(i),i.flags|=1,Ye(e,i,l,h),i.child)}function Vy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!_f(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,My(e,i,d,l,h)):(e=Fu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!dd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(_,l)&&e.ref===i.ref)return Qi(e,i,h)}return i.flags|=1,e=Bi(d,l),e.ref=i.ref,e.return=i,i.child=e}function My(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Xo(d,l)&&e.ref===i.ref)if(Re=!1,i.pendingProps=l=d,dd(e,h))(e.flags&131072)!==0&&(Re=!0);else return i.lanes=e.lanes,Qi(e,i,h)}return ad(e,i,a,l,h)}function xy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ly(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yu(i,d!==null?d.cachePool:null),d!==null?kg(i,d):Pf(),Ug(i);else return l=i.lanes=536870912,Ly(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Yu(i,d.cachePool),kg(i,d),jr(),i.memoizedState=null):(e!==null&&Yu(i,null),Pf(),jr());return Ye(e,i,h,a),i.child}function cl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ly(e,i,a,l,h){var d=Of();return d=d===null?null:{parent:be._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Yu(i,null),Pf(),Ug(i),e!==null&&Va(e,i,l,!0),i.childLanes=h,null}function cc(e,i){return i=fc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Py(e,i,a){return Ys(i,e.child,null,a),e=cc(i,i.pendingProps),e.flags|=2,On(i),i.memoizedState=null,e}function xS(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ht){if(l.mode==="hidden")return e=cc(i,l),i.lanes=536870912,cl(null,e);if(Uf(i),(e=ae)?(e=Y_(e,Gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Mr!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},a=vg(e),a.return=i,i.child=a,Qe=i,ae=null)):e=null,e===null)throw Lr(i);return i.lanes=536870912,null}return cc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Uf(i),h)if(i.flags&256)i.flags&=-257,i=Py(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Re||Va(e,i,a,!1),h=(a&e.childLanes)!==0,Re||h){if(l=ie,l!==null&&(_=_r(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Bs(e,_),An(l,e,_),sd;Tc(),i=Py(e,i,a)}else e=d.treeContext,ae=Kn(_.nextSibling),Qe=i,Ht=!0,xr=null,Gn=!1,e!==null&&Ag(i,e),i=cc(i,l),i.flags|=4096;return i}return e=Bi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function hc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function ad(e,i,a,l,h){return Fs(i),a=Bf(e,i,a,l,void 0,h),l=jf(),e!==null&&!Re?(qf(e,i,h),Qi(e,i,h)):(Ht&&l&&Tf(i),i.flags|=1,Ye(e,i,a,h),i.child)}function ky(e,i,a,l,h,d){return Fs(i),i.updateQueue=null,a=Bg(i,l,a,h),zg(e),l=jf(),e!==null&&!Re?(qf(e,i,d),Qi(e,i,d)):(Ht&&l&&Tf(i),i.flags|=1,Ye(e,i,a,d),i.child)}function Uy(e,i,a,l,h){if(Fs(i),i.stateNode===null){var d=Ca,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ke(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=id,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Vf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ke(_):Ca,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(nd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&id.enqueueReplaceState(d,d.state,null),sl(i,l,d,h),rl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=$s(a,T);d.props=I;var z=d.context,Y=a.contextType;_=Ca,typeof Y=="object"&&Y!==null&&(_=Ke(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&by(i,d,l,_),kr=!1;var B=i.memoizedState;d.state=B,sl(i,l,d,h),rl(),z=i.memoizedState,T||B!==z||kr?(typeof Z=="function"&&(nd(i,a,Z,l),z=i.memoizedState),(I=kr||Sy(i,a,I,l,B,z,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Mf(e,i),_=i.memoizedProps,Y=$s(a,_),d.props=Y,Z=i.pendingProps,B=d.context,z=a.contextType,I=Ca,typeof z=="object"&&z!==null&&(I=Ke(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||B!==I)&&by(i,d,l,I),kr=!1,B=i.memoizedState,d.state=B,sl(i,l,d,h),rl();var H=i.memoizedState;_!==Z||B!==H||kr||e!==null&&e.dependencies!==null&&Qu(e.dependencies)?(typeof T=="function"&&(nd(i,a,T,l),H=i.memoizedState),(Y=kr||Sy(i,a,Y,l,B,H,I)||e!==null&&e.dependencies!==null&&Qu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=I,l=Y):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,hc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ys(i,e.child,null,h),i.child=Ys(i,null,a,h)):Ye(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Qi(e,i,h),e}function zy(e,i,a,l){return qs(),i.flags|=256,Ye(e,i,a,l),i.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(e){return{baseLanes:e,cachePool:Cg()}}function ud(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Vn),e}function By(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ve.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ht){if(h?Br(i):jr(),(e=ae)?(e=Y_(e,Gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Mr!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},a=vg(e),a.return=i,i.child=a,Qe=i,ae=null)):e=null,e===null)throw Lr(i);return Gd(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(jr(),h=i.mode,T=fc({mode:"hidden",children:T},h),l=js(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=ld(a),l.childLanes=ud(e,_,a),i.memoizedState=od,cl(null,l)):(Br(i),cd(i,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Br(i),i.flags&=-257,i=hd(e,i,a)):i.memoizedState!==null?(jr(),i.child=e.child,i.flags|=128,i=null):(jr(),T=l.fallback,h=i.mode,l=fc({mode:"visible",children:l.children},h),T=js(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Ys(i,e.child,null,a),l=i.child,l.memoizedState=ld(a),l.childLanes=ud(e,_,a),i.memoizedState=od,i=cl(null,l));else if(Br(i),Gd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,Zo({value:l,source:null,stack:null}),i=hd(e,i,a)}else if(Re||Va(e,i,a,!1),_=(a&e.childLanes)!==0,Re||_){if(_=ie,_!==null&&(l=_r(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Bs(e,l),An(_,e,l),sd;Fd(T)||Tc(),i=hd(e,i,a)}else Fd(T)?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,ae=Kn(T.nextSibling),Qe=i,Ht=!0,xr=null,Gn=!1,e!==null&&Ag(i,e),i=cd(i,l.children),i.flags|=4096);return i}return h?(jr(),T=l.fallback,h=i.mode,I=e.child,z=I.sibling,l=Bi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?T=Bi(z,T):(T=js(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,cl(null,l),l=i.child,T=e.child.memoizedState,T===null?T=ld(a):(h=T.cachePool,h!==null?(I=be._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Cg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=ud(e,_,a),i.memoizedState=od,cl(e.child,l)):(Br(i),a=e.child,e=a.sibling,a=Bi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function cd(e,i){return i=fc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function fc(e,i){return e=Cn(22,e,null,i),e.lanes=0,e}function hd(e,i,a){return Ys(i,e.child,null,a),e=cd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function jy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Rf(e.return,i,a)}function fd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function qy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=ve.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,rt(ve,_),Ye(e,i,l,a),l=Ht?Jo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jy(e,a,i);else if(e.tag===19)jy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&tc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),fd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&tc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}fd(i,!0,a,null,d,l);break;case"together":fd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Qi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Fr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Va(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Bi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Bi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function dd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Qu(e)))}function LS(e,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),Pr(i,be,e.memoizedState.cache),qs();break;case 27:case 5:de(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:Pr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Uf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Br(i),i.flags|=128,null):(a&i.child.childLanes)!==0?By(e,i,a):(Br(i),e=Qi(e,i,a),e!==null?e.sibling:null);Br(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Va(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return qy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(ve,ve.current),l)break;return null;case 22:return i.lanes=0,xy(e,i,a,i.pendingProps);case 24:Pr(i,be,e.memoizedState.cache)}return Qi(e,i,a)}function Hy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Re=!0;else{if(!dd(e,a)&&(i.flags&128)===0)return Re=!1,LS(e,i,a);Re=(e.flags&131072)!==0}else Re=!1,Ht&&(i.flags&1048576)!==0&&Tg(i,Jo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Qs(i.elementType),i.type=e,typeof e=="function")_f(e)?(l=$s(e,l),i.tag=1,i=Uy(null,i,e,l,a)):(i.tag=0,i=ad(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===mt){i.tag=11,i=Ny(null,i,e,l,a);break t}else if(h===D){i.tag=14,i=Vy(null,i,e,l,a);break t}}throw i=Ct(e)||e,Error(s(306,i,""))}}return i;case 0:return ad(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=$s(l,i.pendingProps),Uy(e,i,l,h,a);case 3:t:{if(Ot(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Mf(e,i),sl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Pr(i,be,l),l!==d.cache&&If(i,[be],a,!0),rl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=zy(e,i,l,a);break t}else if(l!==h){h=qn(Error(s(424)),i),Zo(h),i=zy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=Kn(e.firstChild),Qe=i,Ht=!0,xr=null,Gn=!0,a=xg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qs(),l===h){i=Qi(e,i,a);break t}Ye(e,i,l,a)}i=i.child}return i;case 26:return hc(e,i),e===null?(a=tv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ht||(a=i.type,e=i.pendingProps,l=Cc(ut.current).createElement(a),l[me]=i,l[Ge]=e,Xe(l,a,e),_e(l),i.stateNode=l):i.memoizedState=tv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return de(i),e===null&&Ht&&(l=i.stateNode=J_(i.type,i.pendingProps,ut.current),Qe=i,Gn=!0,h=ae,Xr(i.type)?(Qd=h,ae=Kn(l.firstChild)):ae=h),Ye(e,i,i.pendingProps.children,a),hc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ht&&((h=l=ae)&&(l=h1(l,i.type,i.pendingProps,Gn),l!==null?(i.stateNode=l,Qe=i,ae=Kn(l.firstChild),Gn=!1,h=!0):h=!1),h||Lr(i)),de(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,jd(h,d)?l=null:_!==null&&jd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Bf(e,i,RS,null,null,a),wl._currentValue=h),hc(e,i),Ye(e,i,l,a),i.child;case 6:return e===null&&Ht&&((e=a=ae)&&(a=f1(a,i.pendingProps,Gn),a!==null?(i.stateNode=a,Qe=i,ae=null,e=!0):e=!1),e||Lr(i)),null;case 13:return By(e,i,a);case 4:return Ot(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ys(i,null,l,a):Ye(e,i,l,a),i.child;case 11:return Ny(e,i,i.type,i.pendingProps,a);case 7:return Ye(e,i,i.pendingProps,a),i.child;case 8:return Ye(e,i,i.pendingProps.children,a),i.child;case 12:return Ye(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Pr(i,i.type,l.value),Ye(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Fs(i),h=Ke(h),l=l(h),i.flags|=1,Ye(e,i,l,a),i.child;case 14:return Vy(e,i,i.type,i.pendingProps,a);case 15:return My(e,i,i.type,i.pendingProps,a);case 19:return qy(e,i,a);case 31:return xS(e,i,a);case 22:return xy(e,i,a,i.pendingProps);case 24:return Fs(i),l=Ke(be),e===null?(h=Of(),h===null&&(h=ie,d=Cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Vf(i),Pr(i,be,h)):((e.lanes&a)!==0&&(Mf(e,i),sl(i,null,null,a),rl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Pr(i,be,l)):(l=d.cache,Pr(i,be,l),l!==h.cache&&If(i,[be],a,!0))),Ye(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ki(e){e.flags|=4}function md(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(g_())e.flags|=8192;else throw Ks=$u,Nf}else e.flags&=-16777217}function Fy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!sv(i))if(g_())e.flags|=8192;else throw Ks=$u,Nf}function dc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?No():536870912,e.lanes|=i,Fa|=i)}function hl(e,i){if(!Ht)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function PS(e,i,a){var l=i.pendingProps;switch(Af(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(i),null;case 1:return oe(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(be),gt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Na(i)?Ki(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,bf())),oe(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Ki(i),d!==null?(oe(i),Fy(i,d)):(oe(i),md(i,h,null,l,a))):d?d!==e.memoizedState?(Ki(i),oe(i),Fy(i,d)):(oe(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ki(i),oe(i),md(i,h,e,l,a)),null;case 27:if(an(i),a=ut.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return oe(i),null}e=et.current,Na(i)?Sg(i):(e=J_(h,l,a),i.stateNode=e,Ki(i))}return oe(i),null;case 5:if(an(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return oe(i),null}if(d=et.current,Na(i))Sg(i);else{var _=Cc(ut.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[me]=i,d[Ge]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Xe(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ki(i)}}return oe(i),md(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ki(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=ut.current,Na(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[me]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||B_(e.nodeValue,a)),e||Lr(i,!0)}else e=Cc(e).createTextNode(l),e[me]=i,i.stateNode=e}return oe(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Na(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[me]=i}else qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),e=!1}else a=bf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(On(i),i):(On(i),null);if((i.flags&128)!==0)throw Error(s(558))}return oe(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Na(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[me]=i}else qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),h=!1}else h=bf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(On(i),i):(On(i),null)}return On(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),dc(i,i.updateQueue),oe(i),null);case 4:return gt(),e===null&&Pd(i.stateNode.containerInfo),oe(i),null;case 10:return Hi(i.type),oe(i),null;case 19:if(X(ve),l=i.memoizedState,l===null)return oe(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)hl(l,!1);else{if(ye!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=tc(e),d!==null){for(i.flags|=128,hl(l,!1),e=d.updateQueue,i.updateQueue=e,dc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)_g(a,e),a=a.sibling;return rt(ve,ve.current&1|2),Ht&&ji(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&He()>_c&&(i.flags|=128,h=!0,hl(l,!1),i.lanes=4194304)}else{if(!h)if(e=tc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,dc(i,e),hl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ht)return oe(i),null}else 2*He()-l.renderingStartTime>_c&&a!==536870912&&(i.flags|=128,h=!0,hl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=He(),e.sibling=null,a=ve.current,rt(ve,h?a&1|2:a&1),Ht&&ji(i,l.treeForkCount),e):(oe(i),null);case 22:case 23:return On(i),kf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(oe(i),i.subtreeFlags&6&&(i.flags|=8192)):oe(i),a=i.updateQueue,a!==null&&dc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&X(Gs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(be),oe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function kS(e,i){switch(Af(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Hi(be),gt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return an(i),null;case 31:if(i.memoizedState!==null){if(On(i),i.alternate===null)throw Error(s(340));qs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(On(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));qs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return X(ve),null;case 4:return gt(),null;case 10:return Hi(i.type),null;case 22:case 23:return On(i),kf(),e!==null&&X(Gs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Hi(be),null;case 25:return null;default:return null}}function Gy(e,i){switch(Af(i),i.tag){case 3:Hi(be),gt();break;case 26:case 27:case 5:an(i);break;case 4:gt();break;case 31:i.memoizedState!==null&&On(i);break;case 13:On(i);break;case 19:X(ve);break;case 10:Hi(i.type);break;case 22:case 23:On(i),kf(),e!==null&&X(Gs);break;case 24:Hi(be)}}function fl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Zt(i,i.return,T)}}function qr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a,z=T;try{z()}catch(Y){Zt(h,I,Y)}}}l=l.next}while(l!==d)}}catch(Y){Zt(i,i.return,Y)}}function Qy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Pg(i,a)}catch(l){Zt(e,e.return,l)}}}function Ky(e,i,a){a.props=$s(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(e,i,l)}}function dl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Zt(e,i,h)}}function _i(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Zt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,i,h)}else a.current=null}function Yy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function pd(e,i,a){try{var l=e.stateNode;s1(l,e.type,a,i),l[Ge]=i}catch(h){Zt(e,e.return,h)}}function Xy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xr(e.type)||e.tag===4}function gd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Xy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Pe));else if(l!==4&&(l===27&&Xr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(yd(e,i,a),e=e.sibling;e!==null;)yd(e,i,a),e=e.sibling}function mc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Xr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(mc(e,i,a),e=e.sibling;e!==null;)mc(e,i,a),e=e.sibling}function $y(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Xe(i,l,a),i[me]=e,i[Ge]=a}catch(d){Zt(e,e.return,d)}}var Yi=!1,Ie=!1,_d=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,ze=null;function US(e,i){if(e=e.containerInfo,zd=Lc,e=ug(e),hf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,I=-1,z=0,Y=0,Z=e,B=null;e:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(T=_+h),Z!==d||l!==0&&Z.nodeType!==3||(I=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(H=Z.firstChild)!==null;)B=Z,Z=H;for(;;){if(Z===e)break e;if(B===a&&++z===h&&(T=_),B===d&&++Y===l&&(I=_),(H=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bd={focusedElem:e,selectionRange:a},Lc=!1,ze=i;ze!==null;)if(i=ze,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ze=e;else for(;ze!==null;){switch(i=ze,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ft=$s(a.type,h);e=l.getSnapshotBeforeUpdate(ft,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){Zt(a,a.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Hd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ze=e;break}ze=i.return}}function Zy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(e,a),l&4&&fl(5,a);break;case 1:if($i(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Zt(a,a.return,_)}else{var h=$s(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Zt(a,a.return,_)}}l&64&&Qy(a),l&512&&dl(a,a.return);break;case 3:if($i(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Pg(e,i)}catch(_){Zt(a,a.return,_)}}break;case 27:i===null&&l&4&&$y(a);case 26:case 5:$i(e,a),i===null&&l&4&&Yy(a),l&512&&dl(a,a.return);break;case 12:$i(e,a);break;case 31:$i(e,a),l&4&&e_(e,a);break;case 13:$i(e,a),l&4&&n_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=KS.bind(null,a),d1(e,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){i=i!==null&&i.memoizedState!==null||Ie,h=Yi;var d=Ie;Yi=l,(Ie=i)&&!d?Ji(e,a,(a.subtreeFlags&8772)!==0):$i(e,a),Yi=h,Ie=d}break;case 30:break;default:$i(e,a)}}function Wy(e){var i=e.alternate;i!==null&&(e.alternate=null,Wy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Cs(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,_n=!1;function Xi(e,i,a){for(a=a.child;a!==null;)t_(e,i,a),a=a.sibling}function t_(e,i,a){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(dr,a)}catch{}switch(a.tag){case 26:Ie||_i(a,i),Xi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||_i(a,i);var l=ue,h=_n;Xr(a.type)&&(ue=a.stateNode,_n=!1),Xi(e,i,a),Al(a.stateNode),ue=l,_n=h;break;case 5:Ie||_i(a,i);case 6:if(l=ue,h=_n,ue=null,Xi(e,i,a),ue=l,_n=h,ue!==null)if(_n)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(d){Zt(a,i,d)}else try{ue.removeChild(a.stateNode)}catch(d){Zt(a,i,d)}break;case 18:ue!==null&&(_n?(e=ue,Q_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Za(e)):Q_(ue,a.stateNode));break;case 4:l=ue,h=_n,ue=a.stateNode.containerInfo,_n=!0,Xi(e,i,a),ue=l,_n=h;break;case 0:case 11:case 14:case 15:qr(2,a,i),Ie||qr(4,a,i),Xi(e,i,a);break;case 1:Ie||(_i(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ky(a,i,l)),Xi(e,i,a);break;case 21:Xi(e,i,a);break;case 22:Ie=(l=Ie)||a.memoizedState!==null,Xi(e,i,a),Ie=l;break;default:Xi(e,i,a)}}function e_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Za(e)}catch(a){Zt(i,i.return,a)}}}function n_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Za(e)}catch(a){Zt(i,i.return,a)}}function zS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Jy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Jy),i;default:throw Error(s(435,e.tag))}}function pc(e,i){var a=zS(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=YS.bind(null,e,l);l.then(h,h)}})}function vn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Xr(T.type)){ue=T.stateNode,_n=!1;break t}break;case 5:ue=T.stateNode,_n=!1;break t;case 3:case 4:ue=T.stateNode.containerInfo,_n=!0;break t}T=T.return}if(ue===null)throw Error(s(160));t_(d,_,h),ue=null,_n=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)i_(i,e),i=i.sibling}var ii=null;function i_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vn(i,e),En(e),l&4&&(qr(3,e,e.return),fl(3,e),qr(5,e,e.return));break;case 1:vn(i,e),En(e),l&512&&(Ie||a===null||_i(a,a.return)),l&64&&Yi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ii;if(vn(i,e),En(e),l&512&&(Ie||a===null||_i(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Vi]||d[me]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Xe(d,l,a),d[me]=e,_e(d),l=d;break t;case"link":var _=iv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Xe(d,l,a),h.head.appendChild(d);break;case"meta":if(_=iv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Xe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[me]=e,_e(d),l=d}e.stateNode=l}else rv(h,e.type,e.stateNode);else e.stateNode=nv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?rv(h,e.type,e.stateNode):nv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&pd(e,e.memoizedProps,a.memoizedProps)}break;case 27:vn(i,e),En(e),l&512&&(Ie||a===null||_i(a,a.return)),a!==null&&l&4&&pd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(vn(i,e),En(e),l&512&&(Ie||a===null||_i(a,a.return)),e.flags&32){h=e.stateNode;try{Bn(h,"")}catch(ft){Zt(e,e.return,ft)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,pd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(_d=!0);break;case 6:if(vn(i,e),En(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ft){Zt(e,e.return,ft)}}break;case 3:if(Nc=null,h=ii,ii=Dc(i.containerInfo),vn(i,e),ii=h,En(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(i.containerInfo)}catch(ft){Zt(e,e.return,ft)}_d&&(_d=!1,r_(e));break;case 4:l=ii,ii=Dc(e.stateNode.containerInfo),vn(i,e),En(e),ii=l;break;case 12:vn(i,e),En(e);break;case 31:vn(i,e),En(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,pc(e,l)));break;case 13:vn(i,e),En(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=He()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,pc(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Yi,Y=Ie;if(Yi=z||h,Ie=Y||I,vn(i,e),Ie=Y,Yi=z,En(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Yi||Ie||Js(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var Z=I.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ft){Zt(I,I.return,ft)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ft){Zt(I,I.return,ft)}}}else if(i.tag===18){if(a===null){I=i;try{var H=I.stateNode;h?K_(H,!0):K_(I.stateNode,!1)}catch(ft){Zt(I,I.return,ft)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pc(e,a))));break;case 19:vn(i,e),En(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,pc(e,l)));break;case 30:break;case 21:break;default:vn(i,e),En(e)}}function En(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Xy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=gd(e);mc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Bn(_,""),a.flags&=-33);var T=gd(e);mc(e,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,z=gd(e);yd(e,z,I);break;default:throw Error(s(161))}}catch(Y){Zt(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function r_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;r_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function $i(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Zy(e,i.alternate,i),i=i.sibling}function Js(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:qr(4,i,i.return),Js(i);break;case 1:_i(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ky(i,i.return,a),Js(i);break;case 27:Al(i.stateNode);case 26:case 5:_i(i,i.return),Js(i);break;case 22:i.memoizedState===null&&Js(i);break;case 30:Js(i);break;default:Js(i)}e=e.sibling}}function Ji(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ji(h,d,a),fl(4,d);break;case 1:if(Ji(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Zt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Lg(I[h],T)}catch(z){Zt(l,l.return,z)}}a&&_&64&&Qy(d),dl(d,d.return);break;case 27:$y(d);case 26:case 5:Ji(h,d,a),a&&l===null&&_&4&&Yy(d),dl(d,d.return);break;case 12:Ji(h,d,a);break;case 31:Ji(h,d,a),a&&_&4&&e_(h,d);break;case 13:Ji(h,d,a),a&&_&4&&n_(h,d);break;case 22:d.memoizedState===null&&Ji(h,d,a),dl(d,d.return);break;case 30:break;default:Ji(h,d,a)}i=i.sibling}}function vd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Wo(a))}function Ed(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e))}function ri(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)s_(e,i,a,l),i=i.sibling}function s_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(e,i,a,l),h&2048&&fl(9,i);break;case 1:ri(e,i,a,l);break;case 3:ri(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e)));break;case 12:if(h&2048){ri(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Zt(i,i.return,I)}}else ri(e,i,a,l);break;case 31:ri(e,i,a,l);break;case 13:ri(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ri(e,i,a,l):ml(e,i):d._visibility&2?ri(e,i,a,l):(d._visibility|=2,ja(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&vd(_,i);break;case 24:ri(e,i,a,l),h&2048&&Ed(i.alternate,i);break;default:ri(e,i,a,l)}}function ja(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,I=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:ja(d,_,T,I,h),fl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?ja(d,_,T,I,h):ml(d,_):(Y._visibility|=2,ja(d,_,T,I,h)),h&&z&2048&&vd(_.alternate,_);break;case 24:ja(d,_,T,I,h),h&&z&2048&&Ed(_.alternate,_);break;default:ja(d,_,T,I,h)}i=i.sibling}}function ml(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:ml(a,l),h&2048&&vd(l.alternate,l);break;case 24:ml(a,l),h&2048&&Ed(l.alternate,l);break;default:ml(a,l)}i=i.sibling}}var pl=8192;function qa(e,i,a){if(e.subtreeFlags&pl)for(e=e.child;e!==null;)a_(e,i,a),e=e.sibling}function a_(e,i,a){switch(e.tag){case 26:qa(e,i,a),e.flags&pl&&e.memoizedState!==null&&w1(a,ii,e.memoizedState,e.memoizedProps);break;case 5:qa(e,i,a);break;case 3:case 4:var l=ii;ii=Dc(e.stateNode.containerInfo),qa(e,i,a),ii=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=pl,pl=16777216,qa(e,i,a),pl=l):qa(e,i,a));break;default:qa(e,i,a)}}function o_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function gl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ze=l,u_(l,e)}o_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)l_(e),e=e.sibling}function l_(e){switch(e.tag){case 0:case 11:case 15:gl(e),e.flags&2048&&qr(9,e,e.return);break;case 3:gl(e);break;case 12:gl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,gc(e)):gl(e);break;default:gl(e)}}function gc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ze=l,u_(l,e)}o_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:qr(8,i,i.return),gc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,gc(i));break;default:gc(i)}e=e.sibling}}function u_(e,i){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:qr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=e;ze!==null;){l=ze;var h=l.sibling,d=l.return;if(Wy(l),l===a){ze=null;break t}if(h!==null){h.return=d,ze=h;break t}ze=d}}}var BS={getCacheForType:function(e){var i=Ke(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Ke(be).controller.signal}},jS=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ie=null,xt=null,Pt=0,Jt=0,Nn=null,Hr=!1,Ha=!1,Td=!1,Zi=0,ye=0,Fr=0,Zs=0,Ad=0,Vn=0,Fa=0,yl=null,Tn=null,Sd=!1,yc=0,c_=0,_c=1/0,vc=null,Gr=null,Me=0,Qr=null,Ga=null,Wi=0,bd=0,wd=null,h_=null,_l=0,Rd=null;function Mn(){return(Xt&2)!==0&&Pt!==0?Pt&-Pt:Q.T!==null?Vd():Ni()}function f_(){if(Vn===0)if((Pt&536870912)===0||Ht){var e=li;li<<=1,(li&3932160)===0&&(li=262144),Vn=e}else Vn=536870912;return e=Dn.current,e!==null&&(e.flags|=32),Vn}function An(e,i,a){(e===ie&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),Kr(e,Pt,Vn,!1)),gr(e,a),((Xt&2)===0||e!==ie)&&(e===ie&&((Xt&2)===0&&(Zs|=a),ye===4&&Kr(e,Pt,Vn,!1)),vi(e))}function d_(e,i,a){if((Xt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||pr(e,i),h=l?FS(e,i):Cd(e,i,!0),d=l;do{if(h===0){Ha&&!l&&Kr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!qS(a)){h=Cd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=yl;var I=T.current.memoizedState.isDehydrated;if(I&&(Qa(T,_).flags|=256),_=Cd(T,_,!1),_!==2){if(Td&&!I){T.errorRecoveryDisabledLanes|=d,Zs|=d,h=4;break t}d=Tn,Tn=h,d!==null&&(Tn===null?Tn=d:Tn.push.apply(Tn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Qa(e,0),Kr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Kr(l,i,Vn,!Hr);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=yc+300-He(),10<h)){if(Kr(l,i,Vn,!Hr),Un(l,0,!0)!==0)break t;Wi=i,l.timeoutHandle=F_(m_.bind(null,l,a,Tn,vc,Sd,i,Vn,Zs,Fa,Hr,d,"Throttled",-0,0),h);break t}m_(l,a,Tn,vc,Sd,i,Vn,Zs,Fa,Hr,d,null,-0,0)}}break}while(!0);vi(e)}function m_(e,i,a,l,h,d,_,T,I,z,Y,Z,B,H){if(e.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pe},a_(i,d,Z);var ft=(d&62914560)===d?yc-He():(d&4194048)===d?c_-He():0;if(ft=R1(Z,ft),ft!==null){Wi=d,e.cancelPendingCommit=ft(A_.bind(null,e,i,d,a,l,h,_,T,I,Y,Z,null,B,H)),Kr(e,d,_,!z);return}}A_(e,i,d,a,l,h,_,T,I)}function qS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!In(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Kr(e,i,a,l){i&=~Ad,i&=~Zs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-on(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Vo(e,a,i)}function Ec(){return(Xt&6)===0?(vl(0),!1):!0}function Id(){if(xt!==null){if(Jt===0)var e=xt.return;else e=xt,qi=Hs=null,Hf(e),Pa=null,el=0,e=xt;for(;e!==null;)Gy(e.alternate,e),e=e.return;xt=null}}function Qa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,l1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wi=0,Id(),ie=e,xt=a=Bi(e.current,null),Pt=i,Jt=0,Nn=null,Hr=!1,Ha=pr(e,i),Td=!1,Fa=Vn=Ad=Zs=Fr=ye=0,Tn=yl=null,Sd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-on(l),d=1<<h;i|=e[h],l&=~d}return Zi=i,ju(),a}function p_(e,i){It=null,Q.H=ul,i===La||i===Xu?(i=Ng(),Jt=3):i===Nf?(i=Ng(),Jt=4):Jt=i===sd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nn=i,xt===null&&(ye=1,uc(e,qn(i,e.current)))}function g_(){var e=Dn.current;return e===null?!0:(Pt&4194048)===Pt?Qn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===Qn:!1}function y_(){var e=Q.H;return Q.H=ul,e===null?ul:e}function __(){var e=Q.A;return Q.A=BS,e}function Tc(){ye=4,Hr||(Pt&4194048)!==Pt&&Dn.current!==null||(Ha=!0),(Fr&134217727)===0&&(Zs&134217727)===0||ie===null||Kr(ie,Pt,Vn,!1)}function Cd(e,i,a){var l=Xt;Xt|=2;var h=y_(),d=__();(ie!==e||Pt!==i)&&(vc=null,Qa(e,i)),i=!1;var _=ye;t:do try{if(Jt!==0&&xt!==null){var T=xt,I=Nn;switch(Jt){case 8:Id(),_=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var z=Jt;if(Jt=0,Nn=null,Ka(e,T,I,z),a&&Ha){_=0;break t}break;default:z=Jt,Jt=0,Nn=null,Ka(e,T,I,z)}}HS(),_=ye;break}catch(Y){p_(e,Y)}while(!0);return i&&e.shellSuspendCounter++,qi=Hs=null,Xt=l,Q.H=h,Q.A=d,xt===null&&(ie=null,Pt=0,ju()),_}function HS(){for(;xt!==null;)v_(xt)}function FS(e,i){var a=Xt;Xt|=2;var l=y_(),h=__();ie!==e||Pt!==i?(vc=null,_c=He()+500,Qa(e,i)):Ha=pr(e,i);t:do try{if(Jt!==0&&xt!==null){i=xt;var d=Nn;e:switch(Jt){case 1:Jt=0,Nn=null,Ka(e,i,d,1);break;case 2:case 9:if(Dg(d)){Jt=0,Nn=null,E_(i);break}i=function(){Jt!==2&&Jt!==9||ie!==e||(Jt=7),vi(e)},d.then(i,i);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Dg(d)?(Jt=0,Nn=null,E_(i)):(Jt=0,Nn=null,Ka(e,i,d,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var T=xt;if(_?sv(_):T.stateNode.complete){Jt=0,Nn=null;var I=T.sibling;if(I!==null)xt=I;else{var z=T.return;z!==null?(xt=z,Ac(z)):xt=null}break e}}Jt=0,Nn=null,Ka(e,i,d,5);break;case 6:Jt=0,Nn=null,Ka(e,i,d,6);break;case 8:Id(),ye=6;break t;default:throw Error(s(462))}}GS();break}catch(Y){p_(e,Y)}while(!0);return qi=Hs=null,Q.H=l,Q.A=h,Xt=a,xt!==null?0:(ie=null,Pt=0,ju(),ye)}function GS(){for(;xt!==null&&!Wh();)v_(xt)}function v_(e){var i=Hy(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,i===null?Ac(e):xt=i}function E_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=ky(a,i,i.pendingProps,i.type,void 0,Pt);break;case 11:i=ky(a,i,i.pendingProps,i.type.render,i.ref,Pt);break;case 5:Hf(i);default:Gy(a,i),i=xt=_g(i,Zi),i=Hy(a,i,Zi)}e.memoizedProps=e.pendingProps,i===null?Ac(e):xt=i}function Ka(e,i,a,l){qi=Hs=null,Hf(i),Pa=null,el=0;var h=i.return;try{if(MS(e,h,i,a,Pt)){ye=1,uc(e,qn(a,e.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;ye=1,uc(e,qn(a,e.current)),xt=null;return}i.flags&32768?(Ht||l===1?e=!0:Ha||(Pt&536870912)!==0?e=!1:(Hr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),T_(i,e)):Ac(i)}function Ac(e){var i=e;do{if((i.flags&32768)!==0){T_(i,Hr);return}e=i.return;var a=PS(i.alternate,i,Zi);if(a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=e}while(i!==null);ye===0&&(ye=5)}function T_(e,i){do{var a=kS(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);ye=6,xt=null}function A_(e,i,a,l,h,d,_,T,I){e.cancelPendingCommit=null;do Sc();while(Me!==0);if((Xt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=gf,Fe(e,a,d,_,T,I),e===ie&&(xt=ie=null,Pt=0),Ga=i,Qr=e,Wi=a,bd=d,wd=h,h_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,XS(Di,function(){return I_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=lt.p,lt.p=2,_=Xt,Xt|=4;try{US(e,i,a)}finally{Xt=_,lt.p=h,Q.T=l}}Me=1,S_(),b_(),w_()}}function S_(){if(Me===1){Me=0;var e=Qr,i=Ga,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=lt.p;lt.p=2;var h=Xt;Xt|=4;try{i_(i,e);var d=Bd,_=ug(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&lg(T.ownerDocument.documentElement,T)){if(I!==null&&hf(T)){var z=I.start,Y=I.end;if(Y===void 0&&(Y=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Y,T.value.length);else{var Z=T.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var H=B.getSelection(),ft=T.textContent.length,Tt=Math.min(I.start,ft),ee=I.end===void 0?Tt:Math.min(I.end,ft);!H.extend&&Tt>ee&&(_=ee,ee=Tt,Tt=_);var x=og(T,Tt),N=og(T,ee);if(x&&N&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var U=Z.createRange();U.setStart(x.node,x.offset),H.removeAllRanges(),Tt>ee?(H.addRange(U),H.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),H.addRange(U))}}}}for(Z=[],H=T;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var $=Z[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Lc=!!zd,Bd=zd=null}finally{Xt=h,lt.p=l,Q.T=a}}e.current=i,Me=2}}function b_(){if(Me===2){Me=0;var e=Qr,i=Ga,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=lt.p;lt.p=2;var h=Xt;Xt|=4;try{Zy(e,i.alternate,i)}finally{Xt=h,lt.p=l,Q.T=a}}Me=3}}function w_(){if(Me===4||Me===3){Me=0,Co();var e=Qr,i=Ga,a=Wi,l=h_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Me=5:(Me=0,Ga=Qr=null,R_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Gr=null),xo(a),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(dr,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=lt.p,lt.p=2,Q.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,lt.p=h}}(Wi&3)!==0&&Sc(),vi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Rd?_l++:(_l=0,Rd=e):_l=0,vl(0)}}function R_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Wo(i)))}function Sc(){return S_(),b_(),w_(),I_()}function I_(){if(Me!==5)return!1;var e=Qr,i=bd;bd=0;var a=xo(Wi),l=Q.T,h=lt.p;try{lt.p=32>a?32:a,Q.T=null,a=wd,wd=null;var d=Qr,_=Wi;if(Me=0,Ga=Qr=null,Wi=0,(Xt&6)!==0)throw Error(s(331));var T=Xt;if(Xt|=4,l_(d.current),s_(d,d.current,_,a),Xt=T,vl(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(dr,d)}catch{}return!0}finally{lt.p=h,Q.T=l,R_(e,i)}}function C_(e,i,a){i=qn(a,i),i=rd(e.stateNode,i,2),e=zr(e,i,2),e!==null&&(gr(e,2),vi(e))}function Zt(e,i,a){if(e.tag===3)C_(e,e,a);else for(;i!==null;){if(i.tag===3){C_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){e=qn(a,e),a=Dy(2),l=zr(i,a,2),l!==null&&(Oy(a,l,i,e),gr(l,2),vi(l));break}}i=i.return}}function Dd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new jS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Td=!0,h.add(a),e=QS.bind(null,e,i,a),i.then(e,e))}function QS(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ie===e&&(Pt&a)===a&&(ye===4||ye===3&&(Pt&62914560)===Pt&&300>He()-yc?(Xt&2)===0&&Qa(e,0):Ad|=a,Fa===Pt&&(Fa=0)),vi(e)}function D_(e,i){i===0&&(i=No()),e=Bs(e,i),e!==null&&(gr(e,i),vi(e))}function KS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),D_(e,a)}function YS(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),D_(e,a)}function XS(e,i){return ws(e,i)}var bc=null,Ya=null,Od=!1,wc=!1,Nd=!1,Yr=0;function vi(e){e!==Ya&&e.next===null&&(Ya===null?bc=Ya=e:Ya=Ya.next=e),wc=!0,Od||(Od=!0,JS())}function vl(e,i){if(!Nd&&wc){Nd=!0;do for(var a=!1,l=bc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-on(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,M_(l,d))}else d=Pt,d=Un(l,l===ie?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||pr(l,d)||(a=!0,M_(l,d));l=l.next}while(a);Nd=!1}}function $S(){O_()}function O_(){wc=Od=!1;var e=0;Yr!==0&&o1()&&(e=Yr);for(var i=He(),a=null,l=bc;l!==null;){var h=l.next,d=N_(l,i);d===0?(l.next=null,a===null?bc=h:a.next=h,h===null&&(Ya=a)):(a=l,(e!==0||(d&3)!==0)&&(wc=!0)),l=h}Me!==0&&Me!==5||vl(e),Yr!==0&&(Yr=0)}function N_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-on(d),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=ma(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=ie,a=Pt,a=Un(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&da(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||pr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&da(l),xo(a)){case 2:case 8:a=Le;break;case 32:a=Di;break;case 268435456:a=Do;break;default:a=Di}return l=V_.bind(null,e),a=ws(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&da(l),e.callbackPriority=2,e.callbackNode=null,2}function V_(e,i){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Sc()&&e.callbackNode!==a)return null;var l=Pt;return l=Un(e,e===ie?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(d_(e,l,i),N_(e,He()),e.callbackNode!=null&&e.callbackNode===a?V_.bind(null,e):null)}function M_(e,i){if(Sc())return null;d_(e,i,!0)}function JS(){u1(function(){(Xt&6)!==0?ws(Ve,$S):O_()})}function Vd(){if(Yr===0){var e=Ma;e===0&&(e=Is,Is<<=1,(Is&261888)===0&&(Is=256)),Yr=e}return Yr}function x_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:di(""+e)}function L_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function ZS(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=x_((h[Ge]||null).action),_=l.submitter;_&&(i=(i=_[Ge]||null)?x_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Ms("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var I=_?L_(h,_):new FormData(h);Zf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?L_(h,_):new FormData(h),Zf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Md=0;Md<pf.length;Md++){var xd=pf[Md],WS=xd.toLowerCase(),t1=xd[0].toUpperCase()+xd.slice(1);ni(WS,"on"+t1)}ni(fg,"onAnimationEnd"),ni(dg,"onAnimationIteration"),ni(mg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(gS,"onTransitionRun"),ni(yS,"onTransitionStart"),ni(_S,"onTransitionCancel"),ni(pg,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function P_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Y){Bu(Y)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,z=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Y){Bu(Y)}h.currentTarget=null,d=I}}}}function Lt(e,i){var a=i[vr];a===void 0&&(a=i[vr]=new Set);var l=e+"__bubble";a.has(l)||(k_(i,e,2,!1),a.add(l))}function Ld(e,i,a){var l=0;i&&(l|=4),k_(a,e,l,i)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Pd(e){if(!e[Rc]){e[Rc]=!0,pa.forEach(function(a){a!=="selectionchange"&&(e1.has(a)||Ld(a,!1,e),Ld(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Rc]||(i[Rc]=!0,Ld("selectionchange",!1,i))}}function k_(e,i,a,l){switch(fv(i)){case 2:var h=D1;break;case 8:h=O1;break;default:h=Jd}a=h.bind(null,i,a,e),h=void 0,!qo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function kd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Mi(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue t}T=T.parentNode}}l=l.return}bu(function(){var z=d,Y=Ea(a),Z=[];t:{var B=gg.get(e);if(B!==void 0){var H=Ms,ft=e;switch(e){case"keypress":if(Vs(a)===0)break t;case"keydown":case"keyup":H=Mu;break;case"focusin":ft="focus",H=Dr;break;case"focusout":ft="blur",H=Dr;break;case"beforeblur":case"afterblur":H=Dr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Lu;break;case fg:case dg:case mg:H=Sa;break;case pg:H=ba;break;case"scroll":case"scrollend":H=wu;break;case"wheel":H=ku;break;case"copy":case"cut":case"paste":H=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ko;break;case"toggle":case"beforetoggle":H=Nr}var Tt=(i&4)!==0,ee=!Tt&&(e==="scroll"||e==="scrollend"),x=Tt?B!==null?B+"Capture":null:B;Tt=[];for(var N=z,U;N!==null;){var $=N;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||x===null||($=gn(N,x),$!=null&&Tt.push(Tl(N,$,U))),ee)break;N=N.return}0<Tt.length&&(B=new H(B,ft,null,a,Y),Z.push({event:B,listeners:Tt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==va&&(ft=a.relatedTarget||a.fromElement)&&(Mi(ft)||ft[ci]))break t;if((H||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ft=a.relatedTarget||a.toElement,H=z,ft=ft?Mi(ft):null,ft!==null&&(ee=u(ft),Tt=ft.tag,ft!==ee||Tt!==5&&Tt!==27&&Tt!==6)&&(ft=null)):(H=null,ft=z),H!==ft)){if(Tt=Ru,$="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=Ko,$="onPointerLeave",x="onPointerEnter",N="pointer"),ee=H==null?B:Ds(H),U=ft==null?B:Ds(ft),B=new Tt($,N+"leave",H,a,Y),B.target=ee,B.relatedTarget=U,$=null,Mi(Y)===z&&(Tt=new Tt(x,N+"enter",ft,a,Y),Tt.target=U,Tt.relatedTarget=ee,$=Tt),ee=$,H&&ft)e:{for(Tt=n1,x=H,N=ft,U=0,$=x;$;$=Tt($))U++;$=0;for(var _t=N;_t;_t=Tt(_t))$++;for(;0<U-$;)x=Tt(x),U--;for(;0<$-U;)N=Tt(N),$--;for(;U--;){if(x===N||N!==null&&x===N.alternate){Tt=x;break e}x=Tt(x),N=Tt(N)}Tt=null}else Tt=null;H!==null&&U_(Z,B,H,Tt,!1),ft!==null&&ee!==null&&U_(Z,ee,ft,Tt,!0)}}t:{if(B=z?Ds(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Kt=eg;else if(yn(B))if(ng)Kt=dS;else{Kt=hS;var dt=cS}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Bo(z.elementType)&&(Kt=eg):Kt=fS;if(Kt&&(Kt=Kt(e,z))){ks(Z,Kt,a,Y);break t}dt&&dt(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&_a(B,"number",B.value)}switch(dt=z?Ds(z):window,e){case"focusin":(yn(dt)||dt.contentEditable==="true")&&(wa=dt,ff=z,$o=null);break;case"focusout":$o=ff=wa=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,cg(Z,a,Y);break;case"selectionchange":if(pS)break;case"keydown":case"keyup":cg(Z,a,Y)}var Dt;if(p)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Nt?$t(e,a)&&(kt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(k&&a.locale!=="ko"&&(Nt||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Nt&&(Dt=wr()):(Rn=Y,Ta="value"in Rn?Rn.value:Rn.textContent,Nt=!0)),dt=Ic(z,kt),0<dt.length&&(kt=new Fo(kt,e,null,a,Y),Z.push({event:kt,listeners:dt}),Dt?kt.data=Dt:(Dt=Se(a),Dt!==null&&(kt.data=Dt)))),(Dt=S?ke(e,a):Ue(e,a))&&(kt=Ic(z,"onBeforeInput"),0<kt.length&&(dt=new Fo("onBeforeInput","beforeinput",null,a,Y),Z.push({event:dt,listeners:kt}),dt.data=Dt)),ZS(Z,e,z,a,Y)}P_(Z,i)})}function Tl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ic(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=gn(e,a),h!=null&&l.unshift(Tl(e,h,d)),h=gn(e,i),h!=null&&l.push(Tl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function n1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function U_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=gn(a,d),z!=null&&_.unshift(Tl(a,z,I))):h||(z=gn(a,d),z!=null&&_.push(Tl(a,z,I)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var i1=/\r\n?/g,r1=/\u0000|\uFFFD/g;function z_(e){return(typeof e=="string"?e:""+e).replace(i1,`
`).replace(r1,"")}function B_(e,i){return i=z_(i),z_(e)===i}function te(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Bn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Bn(e,""+l);break;case"className":Ar(e,"class",l);break;case"tabIndex":Ar(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(e,a,l);break;case"style":Au(e,l,d);break;case"data":if(i!=="object"){Ar(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=di(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&te(e,i,"name",h.name,h,null),te(e,i,"formEncType",h.formEncType,h,null),te(e,i,"formMethod",h.formMethod,h,null),te(e,i,"formTarget",h.formTarget,h,null)):(te(e,i,"encType",h.encType,h,null),te(e,i,"method",h.method,h,null),te(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=di(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Pe);break;case"onScroll":l!=null&&Lt("scroll",e);break;case"onScrollEnd":l!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=di(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),Tr(e,"popover",l);break;case"xlinkActuate":zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Tr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=af.get(a)||a,Tr(e,a,l))}}function Ud(e,i,a,l,h,d){switch(a){case"style":Au(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Bn(e,l):(typeof l=="number"||typeof l=="bigint")&&Bn(e,""+l);break;case"onScroll":l!=null&&Lt("scroll",e);break;case"onScrollEnd":l!=null&&Lt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Pe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Er.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ge]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Tr(e,a,l)}}}function Xe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:te(e,i,d,_,a,null)}}h&&te(e,i,"srcSet",a.srcSet,a,null),l&&te(e,i,"src",a.src,a,null);return;case"input":Lt("invalid",e);var T=d=_=h=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":_=Y;break;case"checked":I=Y;break;case"defaultChecked":z=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:te(e,i,l,Y,a,null)}}Os(e,d,T,I,z,_,h,!1);return;case"select":Lt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:te(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Qt(e,!!l,i,!1):a!=null&&Qt(e,!!l,a,!0);return;case"textarea":Lt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:te(e,i,_,T,a,null)}br(e,l,h,d);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(e,i,I,l,a,null)}return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(l=0;l<El.length;l++)Lt(El[l],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:te(e,i,z,l,a,null)}return;default:if(Bo(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Ud(e,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&te(e,i,T,l,a,null))}function s1(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,z=null,Y=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(H)||te(e,i,H,null,l,Z)}}for(var B in l){var H=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(H!=null||Z!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Y=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==Z&&te(e,i,B,H,l,Z)}}Sr(e,_,T,I,z,Y,d,h);return;case"select":H=_=T=B=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||te(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&te(e,i,h,d,l,I)}i=T,a=_,l=H,B!=null?Qt(e,!!a,B,!1):!!l!=!!a&&(i!=null?Qt(e,!!a,i,!0):Qt(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:te(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&te(e,i,_,h,l,d)}Ns(e,B,H);return;case"option":for(var ft in a)if(B=a[ft],a.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":e.selected=!1;break;default:te(e,i,ft,null,l,B)}for(I in l)if(B=l[I],H=a[I],l.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null))switch(I){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:te(e,i,I,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)B=a[Tt],a.hasOwnProperty(Tt)&&B!=null&&!l.hasOwnProperty(Tt)&&te(e,i,Tt,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:te(e,i,z,B,l,H)}return;default:if(Bo(i)){for(var ee in a)B=a[ee],a.hasOwnProperty(ee)&&B!==void 0&&!l.hasOwnProperty(ee)&&Ud(e,i,ee,void 0,l,B);for(Y in l)B=l[Y],H=a[Y],!l.hasOwnProperty(Y)||B===H||B===void 0&&H===void 0||Ud(e,i,Y,B,l,H);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&te(e,i,x,null,l,B);for(Z in l)B=l[Z],H=a[Z],!l.hasOwnProperty(Z)||B===H||B==null&&H==null||te(e,i,Z,B,l,H)}function j_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function a1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&j_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],z=I.startTime;if(z>T)break;var Y=I.transferSize,Z=I.initiatorType;Y&&j_(Z)&&(I=I.responseEnd,_+=Y*(I<T?1:(T-z)/(I-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var zd=null,Bd=null;function Cc(e){return e.nodeType===9?e:e.ownerDocument}function q_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function jd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qd=null;function o1(){var e=window.event;return e&&e.type==="popstate"?e===qd?!1:(qd=e,!0):(qd=null,!1)}var F_=typeof setTimeout=="function"?setTimeout:void 0,l1=typeof clearTimeout=="function"?clearTimeout:void 0,G_=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof G_<"u"?function(e){return G_.resolve(null).then(e).catch(c1)}:F_;function c1(e){setTimeout(function(){throw e})}function Xr(e){return e==="head"}function Q_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Za(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Al(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Al(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[Vi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Al(e.ownerDocument.body);a=h}while(a);Za(i)}function K_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Hd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hd(a),Cs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function h1(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Vi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Kn(e.nextSibling),e===null)break}return null}function f1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kn(e.nextSibling),e===null))return null;return e}function Y_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Kn(e.nextSibling),e===null))return null;return e}function Fd(e){return e.data==="$?"||e.data==="$~"}function Gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function d1(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Qd=null;function X_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Kn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function $_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function J_(e,i,a){switch(i=Cc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Al(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Cs(e)}var Yn=new Map,Z_=new Set;function Dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var tr=lt.d;lt.d={f:m1,r:p1,D:g1,C:y1,L:_1,m:v1,X:T1,S:E1,M:A1};function m1(){var e=tr.f(),i=Ec();return e||i}function p1(e){var i=xi(e);i!==null&&i.tag===5&&i.type==="form"?py(i):tr.r(e)}var Xa=typeof document>"u"?null:document;function W_(e,i,a){var l=Xa;if(l&&typeof i=="string"&&i){var h=pe(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Z_.has(h)||(Z_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Xe(i,"link",e),_e(i),l.head.appendChild(i)))}}function g1(e){tr.D(e),W_("dns-prefetch",e,null)}function y1(e,i){tr.C(e,i),W_("preconnect",e,i)}function _1(e,i,a){tr.L(e,i,a);var l=Xa;if(l&&e&&i){var h='link[rel="preload"][as="'+pe(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pe(a.imageSizes)+'"]')):h+='[href="'+pe(e)+'"]';var d=h;switch(i){case"style":d=$a(e);break;case"script":d=Ja(e)}Yn.has(d)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Yn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Sl(d))||i==="script"&&l.querySelector(bl(d))||(i=l.createElement("link"),Xe(i,"link",e),_e(i),l.head.appendChild(i)))}}function v1(e,i){tr.m(e,i);var a=Xa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ja(e)}if(!Yn.has(d)&&(e=A({rel:"modulepreload",href:e},i),Yn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),Xe(l,"link",e),_e(l),a.head.appendChild(l)}}}function E1(e,i,a){tr.S(e,i,a);var l=Xa;if(l&&e){var h=ti(l).hoistableStyles,d=$a(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Sl(d)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Yn.get(d))&&Kd(e,a);var I=_=l.createElement("link");_e(I),Xe(I,"link",e),I._p=new Promise(function(z,Y){I.onload=z,I.onerror=Y}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Oc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function T1(e,i){tr.X(e,i);var a=Xa;if(a&&e){var l=ti(a).hoistableScripts,h=Ja(e),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(e=A({src:e,async:!0},i),(i=Yn.get(h))&&Yd(e,i),d=a.createElement("script"),_e(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function A1(e,i){tr.M(e,i);var a=Xa;if(a&&e){var l=ti(a).hoistableScripts,h=Ja(e),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(e=A({src:e,async:!0,type:"module"},i),(i=Yn.get(h))&&Yd(e,i),d=a.createElement("script"),_e(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function tv(e,i,a,l){var h=(h=ut.current)?Dc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=$a(a.href),a=ti(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=$a(a.href);var d=ti(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Sl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Yn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(e,a),d||S1(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ja(a),a=ti(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function $a(e){return'href="'+pe(e)+'"'}function Sl(e){return'link[rel="stylesheet"]['+e+"]"}function ev(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function S1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xe(i,"link",a),_e(i),e.head.appendChild(i))}function Ja(e){return'[src="'+pe(e)+'"]'}function bl(e){return"script[async]"+e}function nv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+pe(a.href)+'"]');if(l)return i.instance=l,_e(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),_e(l),Xe(l,"style",h),Oc(l,a.precedence,e),i.instance=l;case"stylesheet":h=$a(a.href);var d=e.querySelector(Sl(h));if(d)return i.state.loading|=4,i.instance=d,_e(d),d;l=ev(a),(h=Yn.get(h))&&Kd(l,h),d=(e.ownerDocument||e).createElement("link"),_e(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Xe(d,"link",l),i.state.loading|=4,Oc(d,a.precedence,e),i.instance=d;case"script":return d=Ja(a.src),(h=e.querySelector(bl(d)))?(i.instance=h,_e(h),h):(l=a,(h=Yn.get(d))&&(l=A({},a),Yd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),Xe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Oc(l,a.precedence,e));return i.instance}function Oc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Kd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Yd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Nc=null;function iv(e,i,a){if(Nc===null){var l=new Map,h=Nc=new Map;h.set(a,l)}else h=Nc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Vi]||d[me]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function rv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function b1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function sv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function w1(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=$a(l.href),d=i.querySelector(Sl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Vc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,_e(d);return}d=i.ownerDocument||i,l=ev(l),(h=Yn.get(h))&&Kd(l,h),d=d.createElement("link"),_e(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Xe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Vc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Xd=0;function R1(e,i){return e.stylesheets&&e.count===0&&xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Xd===0&&(Xd=62500*a1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Xd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mc=null;function xc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mc=new Map,i.forEach(I1,e),Mc=null,Vc.call(e))}function I1(e,i){if(!(i.state.loading&4)){var a=Mc.get(e);if(a)var l=a.get(null);else{a=new Map,Mc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var wl={$$typeof:tt,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function C1(e,i,a,l,h,d,_,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function av(e,i,a,l,h,d,_,T,I,z,Y,Z){return e=new C1(e,i,a,_,I,z,Y,Z,T),i=1,d===!0&&(i|=24),d=Cn(3,null,null,i),e.current=d,d.stateNode=e,i=Cf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Vf(d),e}function ov(e){return e?(e=Ca,e):Ca}function lv(e,i,a,l,h,d){h=ov(h),l.context===null?l.context=h:l.pendingContext=h,l=Ur(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=zr(e,l,i),a!==null&&(An(a,e,i),il(a,e,i))}function uv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function $d(e,i){uv(e,i),(e=e.alternate)&&uv(e,i)}function cv(e){if(e.tag===13||e.tag===31){var i=Bs(e,67108864);i!==null&&An(i,e,67108864),$d(e,67108864)}}function hv(e){if(e.tag===13||e.tag===31){var i=Mn();i=Mo(i);var a=Bs(e,i);a!==null&&An(a,e,i),$d(e,i)}}var Lc=!0;function D1(e,i,a,l){var h=Q.T;Q.T=null;var d=lt.p;try{lt.p=2,Jd(e,i,a,l)}finally{lt.p=d,Q.T=h}}function O1(e,i,a,l){var h=Q.T;Q.T=null;var d=lt.p;try{lt.p=8,Jd(e,i,a,l)}finally{lt.p=d,Q.T=h}}function Jd(e,i,a,l){if(Lc){var h=Zd(l);if(h===null)kd(e,i,l,Pc,a),dv(e,l);else if(V1(h,e,i,a,l))l.stopPropagation();else if(dv(e,l),i&4&&-1<N1.indexOf(e)){for(;h!==null;){var d=xi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Wn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-on(_);T.entanglements[1]|=I,_&=~I}vi(d),(Xt&6)===0&&(_c=He()+500,vl(0))}}break;case 31:case 13:T=Bs(d,2),T!==null&&An(T,d,2),Ec(),$d(d,2)}if(d=Zd(l),d===null&&kd(e,i,l,Pc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else kd(e,i,l,null,a)}}function Zd(e){return e=Ea(e),Wd(e)}var Pc=null;function Wd(e){if(Pc=null,e=Mi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Pc=e,null}function fv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pu()){case Ve:return 2;case Le:return 8;case Di:case gu:return 32;case Do:return 268435456;default:return 32}default:return 32}}var tm=!1,$r=null,Jr=null,Zr=null,Rl=new Map,Il=new Map,Wr=[],N1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(e,i){switch(e){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function Cl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=xi(i),i!==null&&cv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function V1(e,i,a,l,h){switch(i){case"focusin":return $r=Cl($r,e,i,a,l,h),!0;case"dragenter":return Jr=Cl(Jr,e,i,a,l,h),!0;case"mouseover":return Zr=Cl(Zr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Cl(Rl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Il.set(d,Cl(Il.get(d)||null,e,i,a,l,h)),!0}return!1}function mv(e){var i=Mi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,_u(e.priority,function(){hv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,_u(e.priority,function(){hv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Zd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);va=l,a.target.dispatchEvent(l),va=null}else return i=xi(a),i!==null&&cv(i),e.blockedOn=a,!1;i.shift()}return!0}function pv(e,i,a){kc(e)&&a.delete(i)}function M1(){tm=!1,$r!==null&&kc($r)&&($r=null),Jr!==null&&kc(Jr)&&(Jr=null),Zr!==null&&kc(Zr)&&(Zr=null),Rl.forEach(pv),Il.forEach(pv)}function Uc(e,i){e.blockedOn===i&&(e.blockedOn=null,tm||(tm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,M1)))}var zc=null;function gv(e){zc!==e&&(zc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zc===e&&(zc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Wd(l||a)===null)continue;break}var d=xi(a);d!==null&&(e.splice(i,3),i-=3,Zf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Za(e){function i(I){return Uc(I,e)}$r!==null&&Uc($r,e),Jr!==null&&Uc(Jr,e),Zr!==null&&Uc(Zr,e),Rl.forEach(i),Il.forEach(i);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)mv(a),a.blockedOn===null&&Wr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ge]||null;if(typeof d=="function")_||gv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ge]||null)T=_.formAction;else if(Wd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),gv(a)}}}function yv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function em(e){this._internalRoot=e}Bc.prototype.render=em.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Mn();lv(a,l,e,i,null,null)},Bc.prototype.unmount=em.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;lv(e.current,2,null,e,null,null),Ec(),i[ci]=null}};function Bc(e){this._internalRoot=e}Bc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ni();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Wr.length&&i!==0&&i<Wr[a].priority;a++);Wr.splice(a,0,e),a===0&&mv(e)}};var _v=t.version;if(_v!=="19.2.3")throw Error(s(527,_v,"19.2.3"));lt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var x1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{dr=jc.inject(x1),We=jc}catch{}}return Ol.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=wy,d=Ry,_=Iy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=av(e,1,!1,null,null,a,l,null,h,d,_,yv),e[ci]=i.current,Pd(e),new em(i)},Ol.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=wy,_=Ry,T=Iy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=av(e,1,!0,i,a??null,l,h,I,d,_,T,yv),i.context=ov(null),a=i.current,l=Mn(),l=Mo(l),h=Ur(l),h.callback=null,zr(a,h,l),a=l,i.current.lanes=a,gr(i,a),vi(i),e[ci]=i.current,Pd(e),new Bc(i)},Ol.version="19.2.3",Ol}var Cv;function G1(){if(Cv)return rm.exports;Cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),rm.exports=F1(),rm.exports}var Q1=G1();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dv="popstate";function K1(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:g=""}=oa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),bm("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:Hl(u))}function s(o,u){$n(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return X1(t,n,s,r)}function he(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function $n(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Y1(){return Math.random().toString(36).substring(2,10)}function Ov(r,t){return{usr:r.state,key:r.key,idx:t}}function bm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?oa(t):t,state:n,key:t&&t.key||s||Y1()}}function Hl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function oa(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function X1(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let j=E(),it=j==null?null:j-y;y=j,g&&g({action:m,location:K.location,delta:it})}function b(j,it){m="PUSH";let st=bm(K.location,j,it);n&&n(st,j),y=E()+1;let tt=Ov(st,y),mt=K.createHref(st);try{f.pushState(tt,"",mt)}catch(St){if(St instanceof DOMException&&St.name==="DataCloneError")throw St;o.location.assign(mt)}u&&g&&g({action:m,location:K.location,delta:1})}function L(j,it){m="REPLACE";let st=bm(K.location,j,it);n&&n(st,j),y=E();let tt=Ov(st,y),mt=K.createHref(st);f.replaceState(tt,"",mt),u&&g&&g({action:m,location:K.location,delta:0})}function q(j){return $1(j)}let K={get action(){return m},get location(){return r(o,f)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Dv,A),g=j,()=>{o.removeEventListener(Dv,A),g=null}},createHref(j){return t(o,j)},createURL:q,encodeLocation(j){let it=q(j);return{pathname:it.pathname,search:it.search,hash:it.hash}},push:b,replace:L,go(j){return f.go(j)}};return K}function $1(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),he(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Hl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function p0(r,t,n="/"){return J1(r,t,n,!1)}function J1(r,t,n,s){let o=typeof t=="string"?oa(t):t,u=ar(o.pathname||"/",n);if(u==null)return null;let f=g0(r);Z1(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=ub(u);m=ob(f[g],y,s)}return m}function g0(r,t=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;he(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let A=sr([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(he(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),g0(f.children,t,b,A,g)),!(f.path==null&&!f.index)&&t.push({path:A,score:sb(A,f.index),routesMeta:b})};return r.forEach((f,m)=>{var g;if(f.path===""||!((g=f.path)!=null&&g.includes("?")))u(f,m);else for(let y of y0(f.path))u(f,m,!0,y)}),t}function y0(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=y0(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function Z1(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:ab(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var W1=/^:[\w-]+$/,tb=3,eb=2,nb=1,ib=10,rb=-2,Nv=r=>r==="*";function sb(r,t){let n=r.split("/"),s=n.length;return n.some(Nv)&&(s+=rb),t&&(s+=eb),n.filter(o=>!Nv(o)).reduce((o,u)=>o+(W1.test(u)?tb:u===""?nb:ib),s)}function ab(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function ob(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=lh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),b=g.route;if(!A&&y&&n&&!s[s.length-1].route.index&&(A=lh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:sr([u,A.pathname]),pathnameBase:db(sr([u,A.pathnameBase])),route:b}),A.pathnameBase!=="/"&&(u=sr([u,A.pathnameBase]))}return f}function lh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=lb(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:A},b)=>{if(E==="*"){let q=m[b]||"";f=u.slice(0,u.length-q.length).replace(/(.)\/+$/,"$1")}const L=m[b];return A&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function lb(r,t=!1,n=!0){$n(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function ub(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $n(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function ar(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var _0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cb=r=>_0.test(r);function hb(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?oa(r):r,u;if(n)if(cb(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),$n(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Vv(n.substring(1),"/"):u=Vv(n,t)}else u=t;return{pathname:u,search:mb(s),hash:pb(o)}}function Vv(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fb(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function v0(r){let t=fb(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function E0(r,t,n,s=!1){let o;typeof r=="string"?o=oa(r):(o={...r},he(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),he(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),he(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),A-=1;o.pathname=b.join("/")}m=A>=0?t[A]:"/"}let g=hb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var sr=r=>r.join("/").replace(/\/\/+/g,"/"),db=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),mb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,pb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,gb=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function yb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function _b(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var T0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function A0(r,t){let n=r;if(typeof n!="string"||!_0.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(T0)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=ar(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{$n(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var S0=["POST","PUT","PATCH","DELETE"];new Set(S0);var vb=["GET",...S0];new Set(vb);var vo=F.createContext(null);vo.displayName="DataRouter";var Nh=F.createContext(null);Nh.displayName="DataRouterState";var Eb=F.createContext(!1),b0=F.createContext({isTransitioning:!1});b0.displayName="ViewTransition";var Tb=F.createContext(new Map);Tb.displayName="Fetchers";var Ab=F.createContext(null);Ab.displayName="Await";var Jn=F.createContext(null);Jn.displayName="Navigation";var Zl=F.createContext(null);Zl.displayName="Location";var hr=F.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var Zm=F.createContext(null);Zm.displayName="RouteError";var w0="REACT_ROUTER_ERROR",Sb="REDIRECT",bb="ROUTE_ERROR_RESPONSE";function wb(r){if(r.startsWith(`${w0}:${Sb}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Rb(r){if(r.startsWith(`${w0}:${bb}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new gb(t.status,t.statusText,t.data)}catch{}}function Ib(r,{relative:t}={}){he(Wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(Jn),{hash:o,pathname:u,search:f}=tu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:sr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Wl(){return F.useContext(Zl)!=null}function la(){return he(Wl(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Zl).location}var R0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function I0(r){F.useContext(Jn).static||F.useLayoutEffect(r)}function Cb(){let{isDataRoute:r}=F.useContext(hr);return r?jb():Db()}function Db(){he(Wl(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(vo),{basename:t,navigator:n}=F.useContext(Jn),{matches:s}=F.useContext(hr),{pathname:o}=la(),u=JSON.stringify(v0(s)),f=F.useRef(!1);return I0(()=>{f.current=!0}),F.useCallback((g,y={})=>{if($n(f.current,R0),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=E0(g,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:sr([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}F.createContext(null);function tu(r,{relative:t}={}){let{matches:n}=F.useContext(hr),{pathname:s}=la(),o=JSON.stringify(v0(n));return F.useMemo(()=>E0(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function Ob(r,t){return C0(r,t)}function C0(r,t,n,s,o){var st;he(Wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=F.useContext(Jn),{matches:f}=F.useContext(hr),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let tt=A&&A.path||"";O0(y,!A||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let b=la(),L;if(t){let tt=typeof t=="string"?oa(t):t;he(E==="/"||((st=tt.pathname)==null?void 0:st.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),L=tt}else L=b;let q=L.pathname||"/",K=q;if(E!=="/"){let tt=E.replace(/^\//,"").split("/");K="/"+q.replace(/^\//,"").split("/").slice(tt.length).join("/")}let j=p0(r,{pathname:K});$n(A||j!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),$n(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let it=Lb(j&&j.map(tt=>Object.assign({},tt,{params:Object.assign({},g,tt.params),pathname:sr([E,u.encodeLocation?u.encodeLocation(tt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?E:sr([E,u.encodeLocation?u.encodeLocation(tt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathnameBase])})),f,n,s,o);return t&&it?F.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},it):it}function Nb(){let r=Bb(),t=yb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:o},n):null,f)}var Vb=F.createElement(Nb,null),D0=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Rb(r.digest);n&&(r=n)}let t=r!==void 0?F.createElement(hr.Provider,{value:this.props.routeContext},F.createElement(Zm.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?F.createElement(Mb,{error:r},t):t}};D0.contextType=Eb;var um=new WeakMap;function Mb({children:r,error:t}){let{basename:n}=F.useContext(Jn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=wb(t.digest);if(s){let o=um.get(t);if(o)throw o;let u=A0(s.location,n);if(T0&&!um.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw um.set(t,f),f}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function xb({routeContext:r,match:t,children:n}){let s=F.useContext(vo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(hr.Provider,{value:r},n)}function Lb(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let E=u.findIndex(A=>A.route.id&&(f==null?void 0:f[A.route.id])!==void 0);he(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let A=u[E];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(g=E),A.route.id){let{loaderData:b,errors:L}=n,q=A.route.loader&&!b.hasOwnProperty(A.route.id)&&(!L||L[A.route.id]===void 0);if(A.route.lazy||q){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,A)=>{var b,L;s(E,{location:n.location,params:((L=(b=n.matches)==null?void 0:b[0])==null?void 0:L.params)??{},unstable_pattern:_b(n.matches),errorInfo:A})}:void 0;return u.reduceRight((E,A,b)=>{let L,q=!1,K=null,j=null;n&&(L=f&&A.route.id?f[A.route.id]:void 0,K=A.route.errorElement||Vb,m&&(g<0&&b===0?(O0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,j=null):g===b&&(q=!0,j=A.route.hydrateFallbackElement||null)));let it=t.concat(u.slice(0,b+1)),st=()=>{let tt;return L?tt=K:q?tt=j:A.route.Component?tt=F.createElement(A.route.Component,null):A.route.element?tt=A.route.element:tt=E,F.createElement(xb,{match:A,routeContext:{outlet:E,matches:it,isDataRoute:n!=null},children:tt})};return n&&(A.route.ErrorBoundary||A.route.errorElement||b===0)?F.createElement(D0,{location:n.location,revalidation:n.revalidation,component:K,error:L,children:st(),routeContext:{outlet:null,matches:it,isDataRoute:!0},onError:y}):st()},null)}function Wm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pb(r){let t=F.useContext(vo);return he(t,Wm(r)),t}function kb(r){let t=F.useContext(Nh);return he(t,Wm(r)),t}function Ub(r){let t=F.useContext(hr);return he(t,Wm(r)),t}function tp(r){let t=Ub(r),n=t.matches[t.matches.length-1];return he(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function zb(){return tp("useRouteId")}function Bb(){var s;let r=F.useContext(Zm),t=kb("useRouteError"),n=tp("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function jb(){let{router:r}=Pb("useNavigate"),t=tp("useNavigate"),n=F.useRef(!1);return I0(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{$n(n.current,R0),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var Mv={};function O0(r,t,n){!t&&!Mv[r]&&(Mv[r]=!0,$n(!1,n))}F.memo(qb);function qb({routes:r,future:t,state:n,onError:s}){return C0(r,void 0,n,s,t)}function N0(r){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hb({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){he(!Wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=F.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=oa(n));let{pathname:y="/",search:E="",hash:A="",state:b=null,key:L="default"}=n,q=F.useMemo(()=>{let K=ar(y,m);return K==null?null:{location:{pathname:K,search:E,hash:A,state:b,key:L},navigationType:s}},[m,y,E,A,b,L,s]);return $n(q!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${A}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:F.createElement(Jn.Provider,{value:g},F.createElement(Zl.Provider,{children:t,value:q}))}function Fb({children:r,location:t}){return Ob(wm(r),t)}function wm(r,t=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...t,o];if(s.type===F.Fragment){n.push.apply(n,wm(s.props.children,u));return}he(s.type===N0,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=wm(s.props.children,u)),n.push(f)}),n}var $c="get",Jc="application/x-www-form-urlencoded";function Vh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Gb(r){return Vh(r)&&r.tagName.toLowerCase()==="button"}function Qb(r){return Vh(r)&&r.tagName.toLowerCase()==="form"}function Kb(r){return Vh(r)&&r.tagName.toLowerCase()==="input"}function Yb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Xb(r,t){return r.button===0&&(!t||t==="_self")&&!Yb(r)}var qc=null;function $b(){if(qc===null)try{new FormData(document.createElement("form"),0),qc=!1}catch{qc=!0}return qc}var Jb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cm(r){return r!=null&&!Jb.has(r)?($n(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jc}"`),null):r}function Zb(r,t){let n,s,o,u,f;if(Qb(r)){let m=r.getAttribute("action");s=m?ar(m,t):null,n=r.getAttribute("method")||$c,o=cm(r.getAttribute("enctype"))||Jc,u=new FormData(r)}else if(Gb(r)||Kb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?ar(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||$c,o=cm(r.getAttribute("formenctype"))||cm(m.getAttribute("enctype"))||Jc,u=new FormData(m,r),!$b()){let{name:y,type:E,value:A}=r;if(E==="image"){let b=y?`${y}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else y&&u.append(y,A)}}else{if(Vh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$c,s=null,o=Jc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ep(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Wb(r,t,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&ar(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function tw(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ew(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function nw(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await tw(u,n);return f.links?f.links():[]}return[]}));return aw(s.flat(1).filter(ew).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function xv(r,t,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>{var E;return n[y].pathname!==g.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{var A;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function iw(r,t,{includeHydrateFallback:n}={}){return rw(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function rw(r){return[...new Set(r)]}function sw(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function aw(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(sw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function V0(){let r=F.useContext(vo);return ep(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ow(){let r=F.useContext(Nh);return ep(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var np=F.createContext(void 0);np.displayName="FrameworkContext";function M0(){let r=F.useContext(np);return ep(r,"You must render this element inside a <HydratedRouter> element"),r}function lw(r,t){let n=F.useContext(np),[s,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=t,b=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=it=>{it.forEach(st=>{f(st.isIntersecting)})},j=new IntersectionObserver(K,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[r]),F.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let L=()=>{o(!0)},q=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Nl(m,L),onBlur:Nl(g,q),onMouseEnter:Nl(y,L),onMouseLeave:Nl(E,q),onTouchStart:Nl(A,L)}]:[!1,b,{}]}function Nl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function uw({page:r,...t}){let{router:n}=V0(),s=F.useMemo(()=>p0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(hw,{page:r,matches:s,...t}):null}function cw(r){let{manifest:t,routeModules:n}=M0(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return nw(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function hw({page:r,matches:t,...n}){let s=la(),{future:o,manifest:u,routeModules:f}=M0(),{basename:m}=V0(),{loaderData:g,matches:y}=ow(),E=F.useMemo(()=>xv(r,t,y,u,s,"data"),[r,t,y,u,s]),A=F.useMemo(()=>xv(r,t,y,u,s,"assets"),[r,t,y,u,s]),b=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,j=!1;if(t.forEach(st=>{var mt;let tt=u.routes[st.route.id];!tt||!tt.hasLoader||(!E.some(St=>St.route.id===st.route.id)&&st.route.id in g&&((mt=f[st.route.id])!=null&&mt.shouldRevalidate)||tt.hasClientLoader?j=!0:K.add(st.route.id))}),K.size===0)return[];let it=Wb(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return j&&K.size>0&&it.searchParams.set("_routes",t.filter(st=>K.has(st.route.id)).map(st=>st.route.id).join(",")),[it.pathname+it.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,t,r,f]),L=F.useMemo(()=>iw(A,u),[A,u]),q=cw(A);return F.createElement(F.Fragment,null,b.map(K=>F.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),L.map(K=>F.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),q.map(({key:K,link:j})=>F.createElement("link",{key:K,nonce:n.nonce,...j})))}function fw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dw&&(window.__reactRouterVersion="7.12.0")}catch{}function mw({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=F.useRef();o.current==null&&(o.current=K1({window:s,v5Compat:!0}));let u=o.current,[f,m]=F.useState({action:u.action,location:u.location}),g=F.useCallback(y=>{n===!1?m(y):F.startTransition(()=>m(y))},[n]);return F.useLayoutEffect(()=>u.listen(g),[u,g]),F.createElement(Hb,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var x0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L0=F.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:b,...L},q){let{basename:K,unstable_useTransitions:j}=F.useContext(Jn),it=typeof y=="string"&&x0.test(y),st=A0(y,K);y=st.to;let tt=Ib(y,{relative:o}),[mt,St,Et]=lw(s,L),D=_w(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:A,unstable_defaultShouldRevalidate:b,unstable_useTransitions:j});function w(V){t&&t(V),V.defaultPrevented||D(V)}let R=F.createElement("a",{...L,...Et,href:st.absoluteURL||tt,onClick:st.isExternal||u?t:w,ref:fw(q,St),target:g,"data-discover":!it&&n==="render"?"true":void 0});return mt&&!it?F.createElement(F.Fragment,null,R,F.createElement(uw,{page:tt})):R});L0.displayName="Link";var pw=F.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let A=tu(f,{relative:y.relative}),b=la(),L=F.useContext(Nh),{navigator:q,basename:K}=F.useContext(Jn),j=L!=null&&Sw(A)&&m===!0,it=q.encodeLocation?q.encodeLocation(A).pathname:A.pathname,st=b.pathname,tt=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(st=st.toLowerCase(),tt=tt?tt.toLowerCase():null,it=it.toLowerCase()),tt&&K&&(tt=ar(tt,K)||tt);const mt=it!=="/"&&it.endsWith("/")?it.length-1:it.length;let St=st===it||!o&&st.startsWith(it)&&st.charAt(mt)==="/",Et=tt!=null&&(tt===it||!o&&tt.startsWith(it)&&tt.charAt(it.length)==="/"),D={isActive:St,isPending:Et,isTransitioning:j},w=St?t:void 0,R;typeof s=="function"?R=s(D):R=[s,St?"active":null,Et?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(D):u;return F.createElement(L0,{...y,"aria-current":w,className:R,ref:E,style:V,to:f,viewTransition:m},typeof g=="function"?g(D):g)});pw.displayName="NavLink";var gw=F.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=$c,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:b,...L},q)=>{let{unstable_useTransitions:K}=F.useContext(Jn),j=Tw(),it=Aw(m,{relative:y}),st=f.toLowerCase()==="get"?"get":"post",tt=typeof m=="string"&&x0.test(m),mt=St=>{if(g&&g(St),St.defaultPrevented)return;St.preventDefault();let Et=St.nativeEvent.submitter,D=(Et==null?void 0:Et.getAttribute("formmethod"))||f,w=()=>j(Et||St.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:b});K&&n!==!1?F.startTransition(()=>w()):w()};return F.createElement("form",{ref:q,method:st,action:it,onSubmit:s?g:mt,...L,"data-discover":!tt&&r==="render"?"true":void 0})});gw.displayName="Form";function yw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P0(r){let t=F.useContext(vo);return he(t,yw(r)),t}function _w(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=Cb(),E=la(),A=tu(r,{relative:u});return F.useCallback(b=>{if(Xb(b,t)){b.preventDefault();let L=n!==void 0?n:Hl(E)===Hl(A),q=()=>y(r,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?F.startTransition(()=>q()):q()}},[E,y,A,n,s,t,r,o,u,f,m,g])}var vw=0,Ew=()=>`__${String(++vw)}__`;function Tw(){let{router:r}=P0("useSubmit"),{basename:t}=F.useContext(Jn),n=zb(),s=r.fetch,o=r.navigate;return F.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:A}=Zb(u,t);if(f.navigate===!1){let b=f.fetcherKey||Ew();await s(b,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:A,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:A,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function Aw(r,{relative:t}={}){let{basename:n}=F.useContext(Jn),s=F.useContext(hr);he(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...tu(r||".",{relative:t})},f=la();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:sr([n,u.pathname])),Hl(u)}function Sw(r,{relative:t}={}){let n=F.useContext(b0);he(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=P0("useViewTransitionState"),o=tu(r,{relative:t});if(!n.isTransitioning)return!1;let u=ar(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ar(n.nextLocation.pathname,s)||n.nextLocation.pathname;return lh(o.pathname,f)!=null||lh(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k0=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ww={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=F.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>F.createElement("svg",{ref:g,...ww,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:k0("lucide",o),...m},[...f.map(([y,E])=>F.createElement(y,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=(r,t)=>{const n=F.forwardRef(({className:s,...o},u)=>F.createElement(Rw,{ref:u,iconNode:t,className:k0(`lucide-${bw(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=ua("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=ua("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=ua("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=ua("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=ua("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=ua("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=ua("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),xw=()=>{};var Lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Lw=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},z0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let b=(m&15)<<2|y>>6,L=y&63;g||(L=64,f||(b=64)),s.push(n[E],n[A],n[b],n[L])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(U0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Lw(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new Pw;const b=u<<2|m>>4;if(s.push(b),y!==64){const L=m<<4&240|y>>2;if(s.push(L),A!==64){const q=y<<6&192|A;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Pw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kw=function(r){const t=U0(r);return z0.encodeByteArray(t,!0)},uh=function(r){return kw(r).replace(/\./g,"")},B0=function(r){try{return z0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=()=>Uw().__FIREBASE_DEFAULTS__,Bw=()=>{if(typeof process>"u"||typeof Lv>"u")return;const r=Lv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},jw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&B0(r[1]);return t&&JSON.parse(t)},Mh=()=>{try{return xw()||zw()||Bw()||jw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},j0=r=>{var t,n;return(n=(t=Mh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},qw=r=>{const t=j0(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},q0=()=>{var r;return(r=Mh())===null||r===void 0?void 0:r.config},H0=r=>{var t;return(t=Mh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[uh(JSON.stringify(n)),uh(JSON.stringify(f)),""].join(".")}const Pl={};function Gw(){const r={prod:[],emulator:[]};for(const t of Object.keys(Pl))Pl[t]?r.emulator.push(t):r.prod.push(t);return r}function Qw(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Pv=!1;function G0(r,t){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Pl[r]===t||Pl[r]||Pv)return;Pl[r]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=Gw().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,L){b.setAttribute("width","24"),b.setAttribute("id",L),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Pv=!0,f()},b}function E(b,L){b.setAttribute("id",L),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function A(){const b=Qw(s),L=n("text"),q=document.getElementById(L)||document.createElement("span"),K=n("learnmore"),j=document.getElementById(K)||document.createElement("a"),it=n("preprendIcon"),st=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const tt=b.element;m(tt),E(j,K);const mt=y();g(st,it),tt.append(st,q,j,mt),document.body.appendChild(tt)}u?(q.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function Yw(){var r;const t=(r=Mh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $w(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Jw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zw(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Ww(){return!Yw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tR(){try{return typeof indexedDB=="object"}catch{return!1}}function eR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="FirebaseError";class fr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=nR,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?iR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new fr(o,m,s)}}function iR(r,t){return r.replace(rR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const rR=/\{\$([^}]+)}/g;function sR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function na(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(kv(u)&&kv(f)){if(!na(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function kv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function aR(r,t){const n=new oR(r,t);return n.subscribe.bind(n)}class oR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");lR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=hm),o.error===void 0&&(o.error=hm),o.complete===void 0&&(o.complete=hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r){return r&&r._delegate?r._delegate:r}class ia{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Hw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hR(t))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ws){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ws){return this.instances.has(t)}getOptions(t=Ws){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ws){return this.component?this.component.multipleInstances?t:Ws:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cR(r){return r===Ws?void 0:r}function hR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new uR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(zt||(zt={}));const dR={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},mR=zt.INFO,pR={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},gR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=pR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ip{constructor(t){this.name=t,this._logLevel=mR,this._logHandler=gR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const yR=(r,t)=>t.some(n=>r instanceof n);let Uv,zv;function _R(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vR(){return zv||(zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q0=new WeakMap,Rm=new WeakMap,K0=new WeakMap,fm=new WeakMap,rp=new WeakMap;function ER(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(os(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&Q0.set(n,r)}).catch(()=>{}),rp.set(t,r),t}function TR(r){if(Rm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Rm.set(r,t)}let Im={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Rm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||K0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function AR(r){Im=r(Im)}function SR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(dm(this),t,...n);return K0.set(s,t.sort?t.sort():[t]),os(s)}:vR().includes(r)?function(...t){return r.apply(dm(this),t),os(Q0.get(this))}:function(...t){return os(r.apply(dm(this),t))}}function bR(r){return typeof r=="function"?SR(r):(r instanceof IDBTransaction&&TR(r),yR(r,_R())?new Proxy(r,Im):r)}function os(r){if(r instanceof IDBRequest)return ER(r);if(fm.has(r))return fm.get(r);const t=bR(r);return t!==r&&(fm.set(r,t),rp.set(t,r)),t}const dm=r=>rp.get(r);function wR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=os(f);return s&&f.addEventListener("upgradeneeded",g=>{s(os(f.result),g.oldVersion,g.newVersion,os(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const RR=["get","getKey","getAll","getAllKeys","count"],IR=["put","add","delete","clear"],mm=new Map;function Bv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(mm.get(t))return mm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=IR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||RR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return mm.set(t,u),u}AR(r=>({...r,get:(t,n,s)=>Bv(t,n)||r.get(t,n,s),has:(t,n)=>!!Bv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function DR(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Cm="@firebase/app",jv="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new ip("@firebase/app"),OR="@firebase/app-compat",NR="@firebase/analytics-compat",VR="@firebase/analytics",MR="@firebase/app-check-compat",xR="@firebase/app-check",LR="@firebase/auth",PR="@firebase/auth-compat",kR="@firebase/database",UR="@firebase/data-connect",zR="@firebase/database-compat",BR="@firebase/functions",jR="@firebase/functions-compat",qR="@firebase/installations",HR="@firebase/installations-compat",FR="@firebase/messaging",GR="@firebase/messaging-compat",QR="@firebase/performance",KR="@firebase/performance-compat",YR="@firebase/remote-config",XR="@firebase/remote-config-compat",$R="@firebase/storage",JR="@firebase/storage-compat",ZR="@firebase/firestore",WR="@firebase/ai",tI="@firebase/firestore-compat",eI="firebase",nI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="[DEFAULT]",iI={[Cm]:"fire-core",[OR]:"fire-core-compat",[VR]:"fire-analytics",[NR]:"fire-analytics-compat",[xR]:"fire-app-check",[MR]:"fire-app-check-compat",[LR]:"fire-auth",[PR]:"fire-auth-compat",[kR]:"fire-rtdb",[UR]:"fire-data-connect",[zR]:"fire-rtdb-compat",[BR]:"fire-fn",[jR]:"fire-fn-compat",[qR]:"fire-iid",[HR]:"fire-iid-compat",[FR]:"fire-fcm",[GR]:"fire-fcm-compat",[QR]:"fire-perf",[KR]:"fire-perf-compat",[YR]:"fire-rc",[XR]:"fire-rc-compat",[$R]:"fire-gcs",[JR]:"fire-gcs-compat",[ZR]:"fire-fst",[tI]:"fire-fst-compat",[WR]:"fire-vertex","fire-js":"fire-js",[eI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,rI=new Map,Om=new Map;function qv(r,t){try{r.container.addComponent(t)}catch(n){or.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function co(r){const t=r.name;if(Om.has(t))return or.debug(`There were multiple attempts to register component ${t}.`),!1;Om.set(t,r);for(const n of ch.values())qv(n,r);for(const n of rI.values())qv(n,r);return!0}function sp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Xn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new eu("app","Firebase",sI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=nI;function Y0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Dm,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(n||(n=q0()),!n)throw ls.create("no-options");const u=ch.get(o);if(u){if(na(n,u.options)&&na(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const f=new fR(o);for(const g of Om.values())f.addComponent(g);const m=new aI(n,s,f);return ch.set(o,m),m}function X0(r=Dm){const t=ch.get(r);if(!t&&r===Dm&&q0())return Y0();if(!t)throw ls.create("no-app",{appName:r});return t}function us(r,t,n){var s;let o=(s=iI[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),or.warn(m.join(" "));return}co(new ia(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="firebase-heartbeat-database",lI=1,Fl="firebase-heartbeat-store";let pm=null;function $0(){return pm||(pm=wR(oI,lI,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ls.create("idb-open",{originalErrorMessage:r.message})})),pm}async function uI(r){try{const n=(await $0()).transaction(Fl),s=await n.objectStore(Fl).get(J0(r));return await n.done,s}catch(t){if(t instanceof fr)or.warn(t.message);else{const n=ls.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});or.warn(n.message)}}}async function Hv(r,t){try{const s=(await $0()).transaction(Fl,"readwrite");await s.objectStore(Fl).put(t,J0(r)),await s.done}catch(n){if(n instanceof fr)or.warn(n.message);else{const s=ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});or.warn(s.message)}}}function J0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=1024,hI=30;class fI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Fv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>hI){const f=pI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){or.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fv(),{heartbeatsToSend:s,unsentEntries:o}=dI(this._heartbeatsCache.heartbeats),u=uh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return or.warn(n),""}}}function Fv(){return new Date().toISOString().substring(0,10)}function dI(r,t=cI){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Gv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Gv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class mI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tR()?eR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Gv(r){return uh(JSON.stringify({version:2,heartbeats:r})).length}function pI(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r){co(new ia("platform-logger",t=>new CR(t),"PRIVATE")),co(new ia("heartbeat",t=>new fI(t),"PRIVATE")),us(Cm,jv,r),us(Cm,jv,"esm2017"),us("fire-js","")}gI("");function ap(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function Z0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yI=Z0,W0=new eu("auth","Firebase",Z0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new ip("@firebase/auth");function _I(r,...t){hh.logLevel<=zt.WARN&&hh.warn(`Auth (${To}): ${r}`,...t)}function Zc(r,...t){hh.logLevel<=zt.ERROR&&hh.error(`Auth (${To}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(r,...t){throw lp(r,...t)}function ai(r,...t){return lp(r,...t)}function op(r,t,n){const s=Object.assign(Object.assign({},yI()),{[t]:n});return new eu("auth","Firebase",s).create(t,{appName:r.name})}function cs(r){return op(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tT(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Ri(r,"argument-error"),op(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return W0.create(r,...t)}function bt(r,t,...n){if(!r)throw lp(t,...n)}function ir(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Zc(t),new Error(t)}function lr(r,t){r||ir(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function vI(){return Qv()==="http:"||Qv()==="https:"}function Qv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vI()||$w()||"connection"in navigator)?navigator.onLine:!0}function TI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t,n){this.shortDelay=t,this.longDelay=n,lr(n>t,"Short delay should be less than long delay!"),this.isMobile=Kw()||Jw()}get(){return EI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(r,t){lr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bI=new iu(3e4,6e4);function cp(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Ao(r,t,n,s,o={}){return nT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=nu(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:g},u);return Xw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(y.credentials="include"),eT.fetch()(await iT(r,r.config.apiHost,n,m),y)})}async function nT(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},AI),t);try{const o=new RI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Hc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Hc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Hc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw op(r,E,y);Ri(r,E)}}catch(o){if(o instanceof fr)throw o;Ri(r,"network-request-failed",{message:String(o)})}}async function wI(r,t,n,s,o={}){const u=await Ao(r,t,n,s,o);return"mfaPendingCredential"in u&&Ri(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function iT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?up(r.config,o):`${r.config.apiScheme}://${o}`;return SI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class RI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ai(this.auth,"network-request-failed")),bI.get())})}}function Hc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ai(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(r,t){return Ao(r,"POST","/v1/accounts:delete",t)}async function fh(r,t){return Ao(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function CI(r,t=!1){const n=Ne(r),s=await n.getIdToken(t),o=hp(s);bt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:kl(gm(o.auth_time)),issuedAtTime:kl(gm(o.iat)),expirationTime:kl(gm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function gm(r){return Number(r)*1e3}function hp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=B0(n);return o?JSON.parse(o):(Zc("Failed to decode base64 JWT payload"),null)}catch(o){return Zc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Kv(r){const t=hp(r);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof fr&&DI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function DI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Gl(r,fh(n,{idToken:s}));bt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?rT(u.providerUserInfo):[],m=VI(r.providerData,f),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?y:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Vm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function NI(r){const t=Ne(r);await dh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function VI(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function rT(r){return r.map(t=>{var{providerId:n}=t,s=ap(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(r,t){const n=await nT(r,{},async()=>{const s=nu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await iT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(g.credentials="include"),eT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xI(r,t){return Ao(r,"POST","/v2/accounts:revokeToken",cp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Kv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const n=Kv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await MI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new so;return s&&(bt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(bt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(bt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(r,t){bt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class si{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=ap(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Vm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,t));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return CI(this,t)}reload(){return NI(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new si(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(cs(this.auth));const t=await this.getIdToken();return await Gl(this,II(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,g,y,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,L=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,q=(f=n.photoURL)!==null&&f!==void 0?f:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,j=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,it=(y=n.createdAt)!==null&&y!==void 0?y:void 0,st=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:tt,emailVerified:mt,isAnonymous:St,providerData:Et,stsTokenManager:D}=n;bt(tt&&D,t,"internal-error");const w=so.fromJSON(this.name,D);bt(typeof tt=="string",t,"internal-error"),es(A,t.name),es(b,t.name),bt(typeof mt=="boolean",t,"internal-error"),bt(typeof St=="boolean",t,"internal-error"),es(L,t.name),es(q,t.name),es(K,t.name),es(j,t.name),es(it,t.name),es(st,t.name);const R=new si({uid:tt,auth:t,email:b,emailVerified:mt,displayName:A,isAnonymous:St,photoURL:q,phoneNumber:L,tenantId:K,stsTokenManager:w,createdAt:it,lastLoginAt:st});return Et&&Array.isArray(Et)&&(R.providerData=Et.map(V=>Object.assign({},V))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(t,n,s=!1){const o=new so;o.updateFromServerResponse(n);const u=new si({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await dh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];bt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?rT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new so;m.updateFromIdToken(s);const g=new si({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=new Map;function rr(r){lr(r instanceof Function,"Expected a class definition");let t=Yv.get(r);return t?(lr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Yv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}sT.type="NONE";const Xv=sT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(r,t,n){return`firebase:${r}:${t}:${n}`}class ao{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Wc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await fh(this.auth,{idToken:t}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new ao(rr(Xv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||rr(Xv);const f=Wc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let A;if(typeof E=="string"){const b=await fh(t,{idToken:E}).catch(()=>{});if(!b)break;A=await si._fromGetAccountInfoResponse(t,b,E)}else A=si._fromJSON(t,E);y!==u&&(m=A),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new ao(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new ao(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(uT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(aT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hT(t))return"Blackberry";if(fT(t))return"Webos";if(oT(t))return"Safari";if((t.includes("chrome/")||lT(t))&&!t.includes("edge/"))return"Chrome";if(cT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function aT(r=sn()){return/firefox\//i.test(r)}function oT(r=sn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function lT(r=sn()){return/crios\//i.test(r)}function uT(r=sn()){return/iemobile/i.test(r)}function cT(r=sn()){return/android/i.test(r)}function hT(r=sn()){return/blackberry/i.test(r)}function fT(r=sn()){return/webos/i.test(r)}function fp(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function LI(r=sn()){var t;return fp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function PI(){return Zw()&&document.documentMode===10}function dT(r=sn()){return fp(r)||cT(r)||fT(r)||hT(r)||/windows phone/i.test(r)||uT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(r,t=[]){let n;switch(r){case"Browser":n=$v(sn());break;case"Worker":n=`${$v(sn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(r,t={}){return Ao(r,"GET","/v2/passwordPolicy",cp(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=6;class BI{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:zI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new kI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ao.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await fh(this,{idToken:t}),s=await si._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Xn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(t);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await dh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=TI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(cs(this));const n=t?Ne(t):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await UI(this),n=new BI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new eu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await xI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&rr(t)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=mT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&_I(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ru(r){return Ne(r)}class Jv{constructor(t){this.auth=t,this.observer=null,this.addObserver=aR(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qI(r){dp=r}function HI(r){return dp.loadJS(r)}function FI(){return dp.gapiScript}function GI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(r,t){const n=sp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(na(u,t??{}))return o;Ri(o,"already-initialized")}return n.initialize({options:t})}function KI(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(rr);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function YI(r,t,n){const s=ru(r);bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=pT(t),{host:f,port:m}=XI(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){bt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),bt(na(y,s.config.emulator)&&na(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Eo(f)?(F0(`${u}//${f}${g}`),G0("Auth",!0)):$I()}function pT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function XI(r){const t=pT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Zv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Zv(f)}}}function Zv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function $I(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(t){return ir("not implemented")}_linkToIdToken(t,n){return ir("not implemented")}_getReauthenticationResolver(t){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(r,t){return wI(r,"POST","/v1/accounts:signInWithIdp",cp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="http://localhost";class ra extends gT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ra(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=ap(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ra(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return oo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,oo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,oo(t,n)}buildRequest(){const t={requestUri:JI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=nu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends xh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends su{constructor(){super("facebook.com")}static credential(t){return ra._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return is.credential(t.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ra._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return nr.credential(n,s)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends su{constructor(){super("github.com")}static credential(t){return ra._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rs.credentialFromTaggedObject(t)}static credentialFromError(t){return rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rs.credential(t.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends su{constructor(){super("twitter.com")}static credential(t,n){return ra._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ss.credentialFromTaggedObject(t)}static credentialFromError(t){return ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ss.credential(n,s)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await si._fromIdTokenResponse(t,s,o),f=Wv(s);return new ho({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Wv(s);return new ho({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Wv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends fr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new mh(t,n,s,o)}}function yT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(r,u,t,s):u})}async function ZI(r,t,n=!1){const s=await Gl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ho._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(r,t,n=!1){const{auth:s}=r;if(Xn(s.app))return Promise.reject(cs(s));const o="reauthenticate";try{const u=await Gl(r,yT(s,o,t,r),n);bt(u.idToken,s,"internal-error");const f=hp(u.idToken);bt(f,s,"internal-error");const{sub:m}=f;return bt(r.uid===m,s,"user-mismatch"),ho._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ri(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(r,t,n=!1){if(Xn(r.app))return Promise.reject(cs(r));const s="signIn",o=await yT(r,s,t),u=await ho._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(r,t){return Ne(r).setPersistence(t)}function eC(r,t,n,s){return Ne(r).onIdTokenChanged(t,n,s)}function nC(r,t,n){return Ne(r).beforeAuthStateChanged(t,n)}function iC(r,t,n,s){return Ne(r).onAuthStateChanged(t,n,s)}function rC(r){return Ne(r).signOut()}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=1e3,aC=10;class ET extends vT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);PI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,aC):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},sC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}ET.type="LOCAL";const mp=ET;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends vT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}TT.type="SESSION";const AT=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Lh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await oC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=pp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const b=A;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function uC(r){Ai().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function cC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function fC(){return ST()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="firebaseLocalStorageDb",dC=1,gh="firebaseLocalStorage",wT="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(r,t){return r.transaction([gh],t?"readwrite":"readonly").objectStore(gh)}function mC(){const r=indexedDB.deleteDatabase(bT);return new au(r).toPromise()}function Mm(){const r=indexedDB.open(bT,dC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(gh,{keyPath:wT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(gh)?t(s):(s.close(),await mC(),t(await Mm()))})})}async function tE(r,t,n){const s=Ph(r,!0).put({[wT]:t,value:n});return new au(s).toPromise()}async function pC(r,t){const n=Ph(r,!1).get(t),s=await new au(n).toPromise();return s===void 0?null:s.value}function eE(r,t){const n=Ph(r,!0).delete(t);return new au(n).toPromise()}const gC=800,yC=3;class RT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>yC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ST()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(fC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await cC(),!this.activeServiceWorker)return;this.sender=new lC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||hC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Mm();return await tE(t,ph,"1"),await eE(t,ph),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>tE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>pC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>eE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Ph(o,!1).getAll();return new au(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RT.type="LOCAL";const _C=RT;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(r,t){return t?rr(t):(bt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends gT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return oo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return oo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function vC(r){return tC(r.auth,new yp(r),r.bypassAuthState)}function EC(r){const{auth:t,user:n}=r;return bt(n,t,"internal-error"),WI(n,new yp(r),r.bypassAuthState)}async function TC(r){const{auth:t,user:n}=r;return bt(n,t,"internal-error"),ZI(n,new yp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vC;case"linkViaPopup":case"linkViaRedirect":return TC;case"reauthViaPopup":case"reauthViaRedirect":return EC;default:Ri(this.auth,"internal-error")}}resolve(t){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new iu(2e3,1e4);async function SC(r,t,n){if(Xn(r.app))return Promise.reject(ai(r,"operation-not-supported-in-this-environment"));const s=ru(r);tT(r,t,xh);const o=gp(s,n);return new ta(s,"signInViaPopup",t,o).executeNotNull()}class ta extends IT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const t=pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,AC.get())};t()}}ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="pendingRedirect",th=new Map;class wC extends IT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=th.get(this.auth._key());if(!t){try{const s=await RC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}th.set(this.auth._key(),t)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RC(r,t){const n=DT(t),s=CT(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function IC(r,t){return CT(r)._set(DT(t),"true")}function CC(r,t){th.set(r._key(),t)}function CT(r){return rr(r._redirectPersistence)}function DT(r){return Wc(bC,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(r,t,n){return OC(r,t,n)}async function OC(r,t,n){if(Xn(r.app))return Promise.reject(cs(r));const s=ru(r);tT(r,t,xh),await s._initializationPromise;const o=gp(s,n);return await IC(o,s),o._openRedirect(s,t,"signInViaRedirect")}async function NC(r,t,n=!1){if(Xn(r.app))return Promise.reject(cs(r));const s=ru(r),o=gp(s,t),f=await new wC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=600*1e3;class MC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!OT(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=VC&&this.cachedEventUids.clear(),this.cachedEventUids.has(nE(t))}saveEventToCache(t){this.cachedEventUids.add(nE(t)),this.lastProcessedEventTime=Date.now()}}function nE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function OT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function xC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(r,t={}){return Ao(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kC=/^https?/;async function UC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await LC(r);for(const n of t)try{if(zC(n))return}catch{}Ri(r,"unauthorized-domain")}function zC(r){const t=Nm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!kC.test(n))return!1;if(PC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=new iu(3e4,6e4);function iE(){const r=Ai().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function jC(r){return new Promise((t,n)=>{var s,o,u;function f(){iE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{iE(),n(ai(r,"network-request-failed"))},timeout:BC.get()})}if(!((o=(s=Ai().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Ai().gapi)===null||u===void 0)&&u.load)f();else{const m=GI("iframefcb");return Ai()[m]=()=>{gapi.load?f():n(ai(r,"network-request-failed"))},HI(`${FI()}?onload=${m}`).catch(g=>n(g))}}).catch(t=>{throw eh=null,t})}let eh=null;function qC(r){return eh=eh||jC(r),eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new iu(5e3,15e3),FC="__/auth/iframe",GC="emulator/auth/iframe",QC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YC(r){const t=r.config;bt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?up(t,GC):`https://${r.config.authDomain}/${FC}`,s={apiKey:t.apiKey,appName:r.name,v:To},o=KC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${nu(s).slice(1)}`}async function XC(r){const t=await qC(r),n=Ai().gapi;return bt(n,r,"internal-error"),t.open({where:document.body,url:YC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ai(r,"network-request-failed"),m=Ai().setTimeout(()=>{u(f)},HC.get());function g(){Ai().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JC=500,ZC=600,WC="_blank",t2="http://localhost";class rE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e2(r,t,n,s=JC,o=ZC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},$C),{width:s.toString(),height:o.toString(),top:u,left:f}),y=sn().toLowerCase();n&&(m=lT(y)?WC:n),aT(y)&&(t=t||t2,g.scrollbars="yes");const E=Object.entries(g).reduce((b,[L,q])=>`${b}${L}=${q},`,"");if(LI(y)&&m!=="_self")return n2(t||"",m),new rE(null);const A=window.open(t||"",m,E);bt(A,r,"popup-blocked");try{A.focus()}catch{}return new rE(A)}function n2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="__/auth/handler",r2="emulator/auth/handler",s2=encodeURIComponent("fac");async function sE(r,t,n,s,o,u){bt(r.config.authDomain,r,"auth-domain-config-required"),bt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:To,eventId:o};if(t instanceof xh){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",sR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof su){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${s2}=${encodeURIComponent(g)}`:"";return`${a2(r)}?${nu(m).slice(1)}${y}`}function a2({config:r}){return r.emulator?up(r,r2):`https://${r.authDomain}/${i2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="webStorageSupport";class o2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AT,this._completeRedirectFn=NC,this._overrideRedirectResult=CC}async _openPopup(t,n,s,o){var u;lr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await sE(t,n,s,Nm(),o);return e2(t,f,pp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await sE(t,n,s,Nm(),o);return uC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(lr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await XC(t),s=new MC(t);return n.register("authEvent",o=>(bt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ym,{type:ym},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[ym];f!==void 0&&n(!!f),Ri(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return dT()||oT()||fp()}}const l2=o2;var aE="@firebase/auth",oE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h2(r){co(new ia("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;bt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mT(r)},y=new jI(s,o,u,g);return KI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),co(new ia("auth-internal",t=>{const n=ru(t.getProvider("auth").getImmediate());return(s=>new u2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(aE,oE,c2(r)),us(aE,oE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=300,d2=H0("authIdTokenMaxAge")||f2;let lE=null;const m2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>d2)return;const o=n==null?void 0:n.token;lE!==o&&(lE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function p2(r=X0()){const t=sp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=QI(r,{popupRedirectResolver:l2,persistence:[_C,mp,AT]}),s=H0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=m2(u.toString());nC(n,f,()=>f(n.currentUser)),eC(n,m=>f(m))}}const o=j0("auth");return o&&YI(n,`http://${o}`),n}function g2(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}qI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",g2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h2("Browser");var uE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,NT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,w){function R(){}R.prototype=w.prototype,D.D=w.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(V,M,P){for(var C=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)C[Ct-2]=arguments[Ct];return w.prototype[M].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,R){R||(R=0);var V=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)V[M]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(M=0;16>M;++M)V[M]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=D.g[0],R=D.g[1],M=D.g[2];var P=D.g[3],C=w+(P^R&(M^P))+V[0]+3614090360&4294967295;w=R+(C<<7&4294967295|C>>>25),C=P+(M^w&(R^M))+V[1]+3905402710&4294967295,P=w+(C<<12&4294967295|C>>>20),C=M+(R^P&(w^R))+V[2]+606105819&4294967295,M=P+(C<<17&4294967295|C>>>15),C=R+(w^M&(P^w))+V[3]+3250441966&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(P^R&(M^P))+V[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(M^w&(R^M))+V[5]+1200080426&4294967295,P=w+(C<<12&4294967295|C>>>20),C=M+(R^P&(w^R))+V[6]+2821735955&4294967295,M=P+(C<<17&4294967295|C>>>15),C=R+(w^M&(P^w))+V[7]+4249261313&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(P^R&(M^P))+V[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(M^w&(R^M))+V[9]+2336552879&4294967295,P=w+(C<<12&4294967295|C>>>20),C=M+(R^P&(w^R))+V[10]+4294925233&4294967295,M=P+(C<<17&4294967295|C>>>15),C=R+(w^M&(P^w))+V[11]+2304563134&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(P^R&(M^P))+V[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(M^w&(R^M))+V[13]+4254626195&4294967295,P=w+(C<<12&4294967295|C>>>20),C=M+(R^P&(w^R))+V[14]+2792965006&4294967295,M=P+(C<<17&4294967295|C>>>15),C=R+(w^M&(P^w))+V[15]+1236535329&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(M^P&(R^M))+V[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^M&(w^R))+V[6]+3225465664&4294967295,P=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(P^w))+V[11]+643717713&4294967295,M=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(M^P))+V[0]+3921069994&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^P&(R^M))+V[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^M&(w^R))+V[10]+38016083&4294967295,P=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(P^w))+V[15]+3634488961&4294967295,M=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(M^P))+V[4]+3889429448&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^P&(R^M))+V[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^M&(w^R))+V[14]+3275163606&4294967295,P=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(P^w))+V[3]+4107603335&4294967295,M=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(M^P))+V[8]+1163531501&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^P&(R^M))+V[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^M&(w^R))+V[2]+4243563512&4294967295,P=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(P^w))+V[7]+1735328473&4294967295,M=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(M^P))+V[12]+2368359562&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(R^M^P)+V[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^M)+V[8]+2272392833&4294967295,P=w+(C<<11&4294967295|C>>>21),C=M+(P^w^R)+V[11]+1839030562&4294967295,M=P+(C<<16&4294967295|C>>>16),C=R+(M^P^w)+V[14]+4259657740&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^P)+V[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^M)+V[4]+1272893353&4294967295,P=w+(C<<11&4294967295|C>>>21),C=M+(P^w^R)+V[7]+4139469664&4294967295,M=P+(C<<16&4294967295|C>>>16),C=R+(M^P^w)+V[10]+3200236656&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^P)+V[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^M)+V[0]+3936430074&4294967295,P=w+(C<<11&4294967295|C>>>21),C=M+(P^w^R)+V[3]+3572445317&4294967295,M=P+(C<<16&4294967295|C>>>16),C=R+(M^P^w)+V[6]+76029189&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^P)+V[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^M)+V[12]+3873151461&4294967295,P=w+(C<<11&4294967295|C>>>21),C=M+(P^w^R)+V[15]+530742520&4294967295,M=P+(C<<16&4294967295|C>>>16),C=R+(M^P^w)+V[2]+3299628645&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(M^(R|~P))+V[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~M))+V[7]+1126891415&4294967295,P=w+(C<<10&4294967295|C>>>22),C=M+(w^(P|~R))+V[14]+2878612391&4294967295,M=P+(C<<15&4294967295|C>>>17),C=R+(P^(M|~w))+V[5]+4237533241&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~P))+V[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~M))+V[3]+2399980690&4294967295,P=w+(C<<10&4294967295|C>>>22),C=M+(w^(P|~R))+V[10]+4293915773&4294967295,M=P+(C<<15&4294967295|C>>>17),C=R+(P^(M|~w))+V[1]+2240044497&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~P))+V[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~M))+V[15]+4264355552&4294967295,P=w+(C<<10&4294967295|C>>>22),C=M+(w^(P|~R))+V[6]+2734768916&4294967295,M=P+(C<<15&4294967295|C>>>17),C=R+(P^(M|~w))+V[13]+1309151649&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~P))+V[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~M))+V[11]+3174756917&4294967295,P=w+(C<<10&4294967295|C>>>22),C=M+(w^(P|~R))+V[2]+718787259&4294967295,M=P+(C<<15&4294967295|C>>>17),C=R+(P^(M|~w))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+P&4294967295}s.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var R=w-this.blockSize,V=this.B,M=this.h,P=0;P<w;){if(M==0)for(;P<=R;)o(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<w;)if(V[M++]=D.charCodeAt(P++),M==this.blockSize){o(this,V),M=0;break}}else for(;P<w;)if(V[M++]=D[P++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=w},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var R=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=R&255,R/=256;for(this.u(D),D=Array(16),w=R=0;4>w;++w)for(var V=0;32>V;V+=8)D[R++]=this.g[w]>>>V&255;return D};function u(D,w){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=w(D)}function f(D,w){this.h=w;for(var R=[],V=!0,M=D.length-1;0<=M;M--){var P=D[M]|0;V&&P==w||(R[M]=P,V=!1)}this.g=R}var m={};function g(D){return-128<=D&&128>D?u(D,function(w){return new f([w|0],0>w?-1:0)}):new f([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return A;if(0>D)return j(y(-D));for(var w=[],R=1,V=0;D>=R;V++)w[V]=D/R|0,R*=4294967296;return new f(w,0)}function E(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return j(E(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(w,8)),V=A,M=0;M<D.length;M+=8){var P=Math.min(8,D.length-M),C=parseInt(D.substring(M,M+P),w);8>P?(P=y(Math.pow(w,P)),V=V.j(P).add(y(C))):(V=V.j(R),V=V.add(y(C)))}return V}var A=g(0),b=g(1),L=g(16777216);r=f.prototype,r.m=function(){if(K(this))return-j(this).m();for(var D=0,w=1,R=0;R<this.g.length;R++){var V=this.i(R);D+=(0<=V?V:4294967296+V)*w,w*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(q(this))return"0";if(K(this))return"-"+j(this).toString(D);for(var w=y(Math.pow(D,6)),R=this,V="";;){var M=mt(R,w).g;R=it(R,M.j(w));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=M,q(R))return P+V;for(;6>P.length;)P="0"+P;V=P+V}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function q(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function K(D){return D.h==-1}r.l=function(D){return D=it(this,D),K(D)?-1:q(D)?0:1};function j(D){for(var w=D.g.length,R=[],V=0;V<w;V++)R[V]=~D.g[V];return new f(R,~D.h).add(b)}r.abs=function(){return K(this)?j(this):this},r.add=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],V=0,M=0;M<=w;M++){var P=V+(this.i(M)&65535)+(D.i(M)&65535),C=(P>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);V=C>>>16,P&=65535,C&=65535,R[M]=C<<16|P}return new f(R,R[R.length-1]&-2147483648?-1:0)};function it(D,w){return D.add(j(w))}r.j=function(D){if(q(this)||q(D))return A;if(K(this))return K(D)?j(this).j(j(D)):j(j(this).j(D));if(K(D))return j(this.j(j(D)));if(0>this.l(L)&&0>D.l(L))return y(this.m()*D.m());for(var w=this.g.length+D.g.length,R=[],V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var M=0;M<D.g.length;M++){var P=this.i(V)>>>16,C=this.i(V)&65535,Ct=D.i(M)>>>16,ce=D.i(M)&65535;R[2*V+2*M]+=C*ce,st(R,2*V+2*M),R[2*V+2*M+1]+=P*ce,st(R,2*V+2*M+1),R[2*V+2*M+1]+=C*Ct,st(R,2*V+2*M+1),R[2*V+2*M+2]+=P*Ct,st(R,2*V+2*M+2)}for(V=0;V<w;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=w;V<2*w;V++)R[V]=0;return new f(R,0)};function st(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function tt(D,w){this.g=D,this.h=w}function mt(D,w){if(q(w))throw Error("division by zero");if(q(D))return new tt(A,A);if(K(D))return w=mt(j(D),w),new tt(j(w.g),j(w.h));if(K(w))return w=mt(D,j(w)),new tt(j(w.g),w.h);if(30<D.g.length){if(K(D)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,V=w;0>=V.l(D);)R=St(R),V=St(V);var M=Et(R,1),P=Et(V,1);for(V=Et(V,2),R=Et(R,2);!q(V);){var C=P.add(V);0>=C.l(D)&&(M=M.add(R),P=C),V=Et(V,1),R=Et(R,1)}return w=it(D,M.j(w)),new tt(M,w)}for(M=A;0<=D.l(w);){for(R=Math.max(1,Math.floor(D.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),P=y(R),C=P.j(w);K(C)||0<C.l(D);)R-=V,P=y(R),C=P.j(w);q(P)&&(P=b),M=M.add(P),D=it(D,C)}return new tt(M,D)}r.A=function(D){return mt(this,D).h},r.and=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],V=0;V<w;V++)R[V]=this.i(V)&D.i(V);return new f(R,this.h&D.h)},r.or=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],V=0;V<w;V++)R[V]=this.i(V)|D.i(V);return new f(R,this.h|D.h)},r.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),R=[],V=0;V<w;V++)R[V]=this.i(V)^D.i(V);return new f(R,this.h^D.h)};function St(D){for(var w=D.g.length+1,R=[],V=0;V<w;V++)R[V]=D.i(V)<<1|D.i(V-1)>>>31;return new f(R,D.h)}function Et(D,w){var R=w>>5;w%=32;for(var V=D.g.length-R,M=[],P=0;P<V;P++)M[P]=0<w?D.i(P+R)>>>w|D.i(P+R+1)<<32-w:D.i(P+R);return new f(M,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,NT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,hs=f}).apply(typeof uE<"u"?uE:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VT,Vl,MT,nh,xm,xT,LT,PT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var k=c[S];if(!(k in v))break t;v=v[k]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,S=!1,k={next:function(){if(!S&&v<c.length){var G=v++;return{value:p(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,v){return c.call.apply(c.bind,arguments)}function A(c,p,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,S),c.apply(p,k)}}return function(){return c.apply(p,arguments)}}function b(c,p,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,b.apply(null,arguments)}function L(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function q(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,k,G){for(var ot=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)ot[$t-2]=arguments[$t];return p.prototype[k].apply(S,ot)}}function K(c){const p=c.length;if(0<p){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function j(c,p){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(g(S)){const k=c.length||0,G=S.length||0;c.length=k+G;for(let ot=0;ot<G;ot++)c[k+ot]=S[ot]}else c.push(S)}}class it{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function st(c){return/^[\s\xa0]*$/.test(c)}function tt(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function mt(c){return mt[" "](c),c}mt[" "]=function(){};var St=tt().indexOf("Gecko")!=-1&&!(tt().toLowerCase().indexOf("webkit")!=-1&&tt().indexOf("Edge")==-1)&&!(tt().indexOf("Trident")!=-1||tt().indexOf("MSIE")!=-1)&&tt().indexOf("Edge")==-1;function Et(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function D(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function w(c){const p={};for(const v in c)p[v]=c[v];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,p){let v,S;for(let k=1;k<arguments.length;k++){S=arguments[k];for(v in S)c[v]=S[v];for(let G=0;G<R.length;G++)v=R[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function M(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function P(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Mt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Ct{constructor(){this.h=this.g=null}add(p,v){const S=ce.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ce=new it(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,pt=!1,Mt=new Ct,jt=()=>{const c=m.Promise.resolve(void 0);lt=()=>{c.then(O)}};var O=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){P(v)}var p=ce;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}pt=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var et=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c})();function nt(c,p){if(rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(St){t:{try{mt(p.nodeName);var k=!0;break t}catch{}k=!1}k||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ut[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&nt.aa.h.call(this)}}q(nt,rt);var ut={2:"touch",3:"pen",4:"mouse"};nt.prototype.h=function(){nt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),Ot=0;function gt(c,p,v,S,k){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=k,this.key=++Ot,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function an(c){this.src=c,this.g={},this.h=0}an.prototype.add=function(c,p,v,S,k){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ot=re(c,p,S,k);return-1<ot?(p=c[ot],v||(p.fa=!1)):(p=new gt(p,this.src,G,!!S,k),p.fa=v,c.push(p)),p};function bn(c,p){var v=p.type;if(v in c.g){var S=c.g[v],k=Array.prototype.indexOf.call(S,p,void 0),G;(G=0<=k)&&Array.prototype.splice.call(S,k,1),G&&(de(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function re(c,p,v,S){for(var k=0;k<c.length;++k){var G=c[k];if(!G.da&&G.listener==p&&G.capture==!!v&&G.ha==S)return k}return-1}var qt="closure_lm_"+(1e6*Math.random()|0),qe={};function pn(c,p,v,S,k){if(Array.isArray(p)){for(var G=0;G<p.length;G++)pn(c,p[G],v,S,k);return null}return v=pu(v),c&&c[at]?c.K(p,v,y(S)?!!S.capture:!1,k):Zn(c,p,v,!1,S,k)}function Zn(c,p,v,S,k,G){if(!p)throw Error("Invalid event type");var ot=y(k)?!!k.capture:!!k,$t=Co(c);if($t||(c[qt]=$t=new an(c)),v=$t.add(p,v,S,ot,G),v.proxy)return v;if(S=Ci(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)et||(k=ot),k===void 0&&(k=!1),c.addEventListener(p.toString(),S,k);else if(c.attachEvent)c.attachEvent(da(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ci(){function c(v){return p.call(c.src,c.listener,v)}const p=Wh;return c}function fa(c,p,v,S,k){if(Array.isArray(p))for(var G=0;G<p.length;G++)fa(c,p[G],v,S,k);else S=y(S)?!!S.capture:!!S,v=pu(v),c&&c[at]?(c=c.i,p=String(p).toString(),p in c.g&&(G=c.g[p],v=re(G,v,S,k),-1<v&&(de(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[p],c.h--)))):c&&(c=Co(c))&&(p=c.g[p.toString()],c=-1,p&&(c=re(p,v,S,k)),(v=-1<c?p[c]:null)&&ws(v))}function ws(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[at])bn(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(da(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=Co(p))?(bn(v,c),v.h==0&&(v.src=null,p[qt]=null)):de(c)}}}function da(c){return c in qe?qe[c]:qe[c]="on"+c}function Wh(c,p){if(c.da)c=!0;else{p=new nt(p,this);var v=c.listener,S=c.ha||c.src;c.fa&&ws(c),c=v.call(S,p)}return c}function Co(c){return c=c[qt],c instanceof an?c:null}var He="__closure_events_fn_"+(1e9*Math.random()>>>0);function pu(c){return typeof c=="function"?c:(c[He]||(c[He]=function(p){return c.handleEvent(p)}),c[He])}function Ve(){X.call(this),this.i=new an(this),this.M=this,this.F=null}q(Ve,X),Ve.prototype[at]=!0,Ve.prototype.removeEventListener=function(c,p,v,S){fa(this,c,p,v,S)};function Le(c,p){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new rt(p,c);else if(p instanceof rt)p.target=p.target||c;else{var k=p;p=new rt(S,c),V(p,k)}if(k=!0,v)for(var G=v.length-1;0<=G;G--){var ot=p.g=v[G];k=Di(ot,S,!0,p)&&k}if(ot=p.g=c,k=Di(ot,S,!0,p)&&k,k=Di(ot,S,!1,p)&&k,v)for(G=0;G<v.length;G++)ot=p.g=v[G],k=Di(ot,S,!1,p)&&k}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],S=0;S<v.length;S++)de(v[S]);delete c.g[p],c.h--}}this.F=null},Ve.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},Ve.prototype.L=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function Di(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var k=!0,G=0;G<p.length;++G){var ot=p[G];if(ot&&!ot.da&&ot.capture==v){var $t=ot.listener,Se=ot.ha||ot.src;ot.fa&&bn(c.i,ot),k=$t.call(Se,S)!==!1&&k}}return k&&!S.defaultPrevented}function gu(c,p,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Do(c){c.g=gu(()=>{c.g=null,c.i&&(c.i=!1,Do(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class tf extends X{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(c){X.call(this),this.h=c,this.g={}}q(Rs,X);var dr=[];function We(c){Et(c.g,function(p,v){this.g.hasOwnProperty(v)&&ws(p)},c),c.g={}}Rs.prototype.N=function(){Rs.aa.N.call(this),We(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=m.JSON.stringify,on=m.JSON.parse,ef=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Oo(){}Oo.prototype.h=null;function yu(c){return c.h||(c.h=c.i())}function Is(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){rt.call(this,"d")}q(mr,rt);function Wn(){rt.call(this,"c")}q(Wn,rt);var Un={},pr=null;function ma(){return pr=pr||new Ve}Un.La="serverreachability";function No(c){rt.call(this,Un.La,c)}q(No,rt);function Oi(c){const p=ma();Le(p,new No(p))}Un.STAT_EVENT="statevent";function gr(c,p){rt.call(this,Un.STAT_EVENT,c),this.stat=p}q(gr,rt);function Fe(c){const p=ma();Le(p,new gr(p,c))}Un.Ma="timingevent";function Vo(c,p){rt.call(this,Un.Ma,c),this.size=p}q(Vo,rt);function yr(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function _r(){this.g=!0}_r.prototype.xa=function(){this.g=!1};function Mo(c,p,v,S,k,G){c.info(function(){if(c.g)if(G)for(var ot="",$t=G.split("&"),Se=0;Se<$t.length;Se++){var Nt=$t[Se].split("=");if(1<Nt.length){var ke=Nt[0];Nt=Nt[1];var Ue=ke.split("_");ot=2<=Ue.length&&Ue[1]=="type"?ot+(ke+"="+Nt+"&"):ot+(ke+"=redacted&")}}else ot=null;else ot=G;return"XMLHTTP REQ ("+S+") [attempt "+k+"]: "+p+`
`+v+`
`+ot})}function xo(c,p,v,S,k,G,ot){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+k+"]: "+p+`
`+v+`
`+G+" "+ot})}function Ni(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+ui(c,v)+(S?" "+S:"")})}function _u(c,p){c.info(function(){return"TIMEOUT: "+p})}_r.prototype.info=function(){};function ui(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var k=S[1];if(Array.isArray(k)&&!(1>k.length)){var G=k[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ot=1;ot<k.length;ot++)k[ot]=""}}}}return kn(v)}catch{return p}}var me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function vr(){}q(vr,Oo),vr.prototype.g=function(){return new XMLHttpRequest},vr.prototype.i=function(){return{}},ci=new vr;function hi(c,p,v,S){this.j=c,this.i=p,this.l=v,this.R=S||1,this.U=new Rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vu}function vu(){this.i=null,this.g="",this.h=!1}var Lo={},Vi={};function Cs(c,p,v){c.L=1,c.v=Ns(pe(p)),c.m=v,c.P=!0,Mi(c,null)}function Mi(c,p){c.F=Date.now(),ti(c),c.A=pe(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Pi(v.i,"t",S),c.C=0,v=c.j.J,c.h=new vu,c.g=Lu(c.j,v?p:null,!c.m),0<c.O&&(c.M=new tf(b(c.Y,c,c.g),c.O)),p=c.U,v=c.g,S=c.ca;var k="readystatechange";Array.isArray(k)||(k&&(dr[0]=k.toString()),k=dr);for(var G=0;G<k.length;G++){var ot=pn(v,k[G],S||p.handleEvent,!1,p.h||p);if(!ot)break;p.g[ot.key]=ot}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Oi(),Mo(c.i,c.u,c.A,c.l,c.R,c.m)}hi.prototype.ca=function(c){c=c.target;const p=this.M;p&&cn(c)==3?p.j():this.Y(c)},hi.prototype.Y=function(c){try{if(c==this.g)t:{const Ue=cn(this.g);var p=this.g.Ba();const Vr=this.g.Z();if(!(3>Ue)&&(Ue!=3||this.g&&(this.h.h||this.g.oa()||xs(this.g)))){this.J||Ue!=4||p==7||(p==8||0>=Vr?Oi(3):Oi(2)),pa(this);var v=this.g.Z();this.X=v;e:if(xi(this)){var S=xs(this.g);c="";var k=S.length,G=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),Er(this);var ot="";break e}this.h.i=new m.TextDecoder}for(p=0;p<k;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(G&&p==k-1)});S.length=0,this.h.g+=c,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=v==200,xo(this.i,this.u,this.A,this.l,this.R,Ue,v),this.o){if(this.T&&!this.K){e:{if(this.g){var $t,Se=this.g;if(($t=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st($t)){var Nt=$t;break e}}Nt=null}if(v=Nt)Ni(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fi(this,v);else{this.o=!1,this.s=3,Fe(12),ln(this),Er(this);break t}}if(this.P){v=!0;let yn;for(;!this.J&&this.C<ot.length;)if(yn=Ds(this,ot),yn==Vi){Ue==4&&(this.s=4,Fe(14),v=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Lo){this.s=4,Fe(15),Ni(this.i,this.l,ot,"[Invalid Chunk]"),v=!1;break}else Ni(this.i,this.l,yn,null),fi(this,yn);if(xi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||ot.length!=0||this.h.h||(this.s=1,Fe(16),v=!1),this.o=this.o&&v,!v)Ni(this.i,this.l,ot,"[Invalid Chunked Response]"),ln(this),Er(this);else if(0<ot.length&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.ba&&!ke.M&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Qo(ke),ke.M=!0,Fe(11))}}else Ni(this.i,this.l,ot,null),fi(this,ot);Ue==4&&ln(this),this.o&&!this.J&&(Ue==4?Vu(this.j,this):(this.o=!1,ti(this)))}else Ru(this.g),v==400&&0<ot.indexOf("Unknown SID")?(this.s=3,Fe(12)):(this.s=0,Fe(13)),ln(this),Er(this)}}}catch{}finally{}};function xi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ds(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?Vi:(v=Number(p.substring(v,S)),isNaN(v)?Lo:(S+=1,S+v>p.length?Vi:(p=p.slice(S,S+v),c.C=S+v,p)))}hi.prototype.cancel=function(){this.J=!0,ln(this)};function ti(c){c.S=Date.now()+c.I,_e(c,c.I)}function _e(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yr(b(c.ba,c),p)}function pa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}hi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(_u(this.i,this.A),this.L!=2&&(Oi(),Fe(17)),ln(this),this.s=2,Er(this)):_e(this,this.S-c)};function Er(c){c.j.G==0||c.J||Vu(c.j,c)}function ln(c){pa(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,We(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function fi(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||Tr(v.h,c))){if(!c.K&&Tr(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var k=S;if(k[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Or(v),Dr(v);else break t;Go(v),Fe(18)}}else v.za=k[1],0<v.za-v.T&&37500>k[2]&&v.F&&v.v==0&&!v.C&&(v.C=yr(b(v.Za,v),6e3));if(1>=Eu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ui(v,11)}else if((c.K||v.g==c)&&Or(v),!st(p))for(k=v.Da.g.parse(p),p=0;p<k.length;p++){let Nt=k[p];if(v.T=Nt[0],Nt=Nt[1],v.G==2)if(Nt[0]=="c"){v.K=Nt[1],v.ia=Nt[2];const ke=Nt[3];ke!=null&&(v.la=ke,v.j.info("VER="+v.la));const Ue=Nt[4];Ue!=null&&(v.Aa=Ue,v.j.info("SVER="+v.Aa));const Vr=Nt[5];Vr!=null&&typeof Vr=="number"&&0<Vr&&(S=1.5*Vr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const yn=c.g;if(yn){const ks=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var G=S.h;G.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ar(G,G.h),G.h=null))}if(S.D){const zi=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;zi&&(S.ya=zi,Qt(S.I,S.D,zi))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ot=c;if(S.qa=xu(S,S.J?S.ia:null,S.W),ot.K){zn(S.h,ot);var $t=ot,Se=S.L;Se&&($t.I=Se),$t.B&&(pa($t),ti($t)),S.g=ot}else Ou(S);0<v.i.length&&Sa(v)}else Nt[0]!="stop"&&Nt[0]!="close"||Ui(v,7);else v.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?Ui(v,7):Ho(v):Nt[0]!="noop"&&v.l&&v.l.ta(Nt),v.v=0)}}Oi(4)}catch{}}var nf=class{constructor(c,p){this.g=c,this.map=p}};function Po(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Eu(c){return c.h?1:c.g?c.g.size:0}function Tr(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Ar(c,p){c.g?c.g.add(p):c.h=p}function zn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Po.prototype.cancel=function(){if(this.i=un(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function un(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return K(c.i)}function Tu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,S=0;S<v;S++)p.push(c[S]);return p}p=[],v=0;for(S in c)p[v++]=c[S];return p}function rf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const S in c)p[v++]=S;return p}}}function ga(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=rf(c),S=Tu(c),k=S.length,G=0;G<k;G++)p.call(void 0,S[G],v&&v[G],c)}var Uo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),k=null;if(0<=S){var G=c[v].substring(0,S);k=c[v].substring(S+1)}else G=c[v];p(G,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Li(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Li){this.h=c.h,Sr(this,c.j),this.o=c.o,this.g=c.g,Os(this,c.s),this.l=c.l;var p=c.i,v=new di;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),_a(this,v),this.m=c.m}else c&&(p=String(c).match(Uo))?(this.h=!1,Sr(this,p[1]||"",!0),this.o=br(p[2]||""),this.g=br(p[3]||"",!0),Os(this,p[4]),this.l=br(p[5]||"",!0),_a(this,p[6]||"",!0),this.m=br(p[7]||"")):(this.h=!1,this.i=new di(null,this.h))}Li.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Bn(p,zo,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Bn(p,zo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Bn(v,v.charAt(0)=="/"?Bo:Au,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Bn(v,of)),c.join("")};function pe(c){return new Li(c)}function Sr(c,p,v){c.j=v?br(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Os(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function _a(c,p,v){p instanceof di?(c.i=p,Su(c.i,c.h)):(v||(p=Bn(p,af)),c.i=new di(p,c.h))}function Qt(c,p,v){c.i.set(p,v)}function Ns(c){return Qt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function br(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bn(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,sf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zo=/[#\/\?@]/g,Au=/[#\?:]/g,Bo=/[#\?]/g,af=/[#\?@]/g,of=/#/g;function di(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Pe(c){c.g||(c.g=new Map,c.h=0,c.i&&ya(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=di.prototype,r.add=function(c,p){Pe(this),this.i=null,c=wn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function va(c,p){Pe(c),p=wn(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Ea(c,p){return Pe(c),p=wn(c,p),c.g.has(p)}r.forEach=function(c,p){Pe(this),this.g.forEach(function(v,S){v.forEach(function(k){c.call(p,k,S,this)},this)},this)},r.na=function(){Pe(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let S=0;S<p.length;S++){const k=c[S];for(let G=0;G<k.length;G++)v.push(p[S])}return v},r.V=function(c){Pe(this);let p=[];if(typeof c=="string")Ea(this,c)&&(p=p.concat(this.g.get(wn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},r.set=function(c,p){return Pe(this),this.i=null,c=wn(this,c),Ea(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Pi(c,p,v){va(c,p),0<v.length&&(c.i=null,c.g.set(wn(c,p),K(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var S=p[v];const G=encodeURIComponent(String(S)),ot=this.V(S);for(S=0;S<ot.length;S++){var k=G;ot[S]!==""&&(k+="="+encodeURIComponent(String(ot[S]))),c.push(k)}}return this.i=c.join("&")};function wn(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Su(c,p){p&&!c.j&&(Pe(c),c.i=null,c.g.forEach(function(v,S){var k=S.toLowerCase();S!=k&&(va(this,S),Pi(this,k,v))},c)),c.j=p}function jo(c,p){const v=new _r;if(m.Image){const S=new Image;S.onload=L(gn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=L(gn,v,"TestLoadImage: error",!1,p,S),S.onabort=L(gn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=L(gn,v,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function bu(c,p){const v=new _r,S=new AbortController,k=setTimeout(()=>{S.abort(),gn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(k),G.ok?gn(v,"TestPingServer: ok",!0,p):gn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(k),gn(v,"TestPingServer: error",!1,p)})}function gn(c,p,v,S,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),S(v)}catch{}}function ei(){this.g=new ef}function qo(c,p,v){const S=v||"";try{ga(c,function(k,G){let ot=k;y(k)&&(ot=kn(k)),p.push(S+G+"="+encodeURIComponent(ot))})}catch(k){throw p.push(S+"type="+encodeURIComponent("_badmap")),k}}function mi(c){this.l=c.Ub||null,this.j=c.eb||!1}q(mi,Oo),mi.prototype.g=function(){return new Rn(this.l,this.j)},mi.prototype.i=(function(c){return function(){return c}})({});function Rn(c,p){Ve.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(Rn,Ve),r=Rn.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,wr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ta(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ta(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?pi(this):wr(this),this.readyState==3&&Ta(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,pi(this))},r.Qa=function(c){this.g&&(this.response=c,pi(this))},r.ga=function(){this.g&&pi(this)};function pi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,wr(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function wr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vs(c){let p="";return Et(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Rr(c,p,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Vs(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Qt(c,p,v))}function se(c){Ve.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(se,Ve);var tn=/^https?$/i,ki=["POST","PUT"];r=se.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?yu(this.o):yu(ci),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(G){Ms(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var k in S)v.set(k,S[k]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),k=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ki,p,void 0))||S||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ot]of v)this.g.setRequestHeader(G,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Aa(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Ms(this,G)}};function Ms(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Ir(c),Cr(c)}function Ir(c){c.A||(c.A=!0,Le(c,"complete"),Le(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Le(this,"complete"),Le(this,"abort"),Cr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cr(this,!0)),se.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?wu(this):this.bb())},r.bb=function(){wu(this)};function wu(c){if(c.h&&typeof f<"u"&&(!c.v[1]||cn(c)!=4||c.Z()!=2)){if(c.u&&cn(c)==4)gu(c.Ea,0,c);else if(Le(c,"readystatechange"),cn(c)==4){c.h=!1;try{const ot=c.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var S;if(S=ot===0){var k=String(c.D).match(Uo)[1]||null;!k&&m.self&&m.self.location&&(k=m.self.location.protocol.slice(0,-1)),S=!tn.test(k?k.toLowerCase():"")}v=S}if(v)Le(c,"complete"),Le(c,"success");else{c.m=6;try{var G=2<cn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Ir(c)}}finally{Cr(c)}}}}function Cr(c,p){if(c.g){Aa(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Le(c,"ready");try{v.onreadystatechange=S}catch{}}}function Aa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function cn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),on(p)}};function xs(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ru(c){const p={};c=(c.g&&2<=cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(st(c[S]))continue;var v=M(c[S]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=p[k]||[];p[k]=G,G.push(v)}D(p,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ls(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Iu(c){this.Aa=0,this.i=[],this.j=new _r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ls("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ls("baseRetryDelayMs",5e3,c),this.cb=Ls("retryDelaySeedMs",1e4,c),this.Wa=Ls("forwardChannelMaxRetries",2,c),this.wa=Ls("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Po(c&&c.concurrentRequestLimit),this.Da=new ei,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Iu.prototype,r.la=8,r.G=1,r.connect=function(c,p,v,S){Fe(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=xu(this,null,this.W),Sa(this)};function Ho(c){if(Cu(c),c.G==3){var p=c.U++,v=pe(c.I);if(Qt(v,"SID",c.K),Qt(v,"RID",p),Qt(v,"TYPE","terminate"),Ps(c,v),p=new hi(c,c.j,p),p.L=2,p.v=Ns(pe(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=Lu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ti(p)}Ko(c)}function Dr(c){c.g&&(Qo(c),c.g.cancel(),c.g=null)}function Cu(c){Dr(c),c.u&&(m.clearTimeout(c.u),c.u=null),Or(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Sa(c){if(!ko(c.h)&&!c.s){c.s=!0;var p=c.Ga;lt||jt(),pt||(lt(),pt=!0),Mt.add(p,c),c.B=0}}function lf(c,p){return Eu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yr(b(c.Ga,c,p),Mu(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const k=new hi(this,this.j,c);let G=this.o;if(this.S&&(G?(G=w(G),V(G,this.S)):G=this.S),this.m!==null||this.O||(k.H=G,G=null),this.P)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Fo(this,k,p),v=pe(this.I),Qt(v,"RID",c),Qt(v,"CVER",22),this.D&&Qt(v,"X-HTTP-Session-Id",this.D),Ps(this,v),G&&(this.O?p="headers="+encodeURIComponent(String(Vs(G)))+"&"+p:this.m&&Rr(v,this.m,G)),Ar(this.h,k),this.Ua&&Qt(v,"TYPE","init"),this.P?(Qt(v,"$req",p),Qt(v,"SID","null"),k.T=!0,Cs(k,v,null)):Cs(k,v,p),this.G=2}}else this.G==3&&(c?Du(this,c):this.i.length==0||ko(this.h)||Du(this))};function Du(c,p){var v;p?v=p.l:v=c.U++;const S=pe(c.I);Qt(S,"SID",c.K),Qt(S,"RID",v),Qt(S,"AID",c.T),Ps(c,S),c.m&&c.o&&Rr(S,c.m,c.o),v=new hi(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Fo(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ar(c.h,v),Cs(v,S,p)}function Ps(c,p){c.H&&Et(c.H,function(v,S){Qt(p,S,v)}),c.l&&ga({},function(v,S){Qt(p,S,v)})}function Fo(c,p,v){v=Math.min(c.i.length,v);var S=c.l?b(c.l.Na,c.l,c):null;t:{var k=c.i;let G=-1;for(;;){const ot=["count="+v];G==-1?0<v?(G=k[0].g,ot.push("ofs="+G)):G=0:ot.push("ofs="+G);let $t=!0;for(let Se=0;Se<v;Se++){let Nt=k[Se].g;const ke=k[Se].map;if(Nt-=G,0>Nt)G=Math.max(0,k[Se].g-100),$t=!1;else try{qo(ke,ot,"req"+Nt+"_")}catch{S&&S(ke)}}if($t){S=ot.join("&");break t}}}return c=c.i.splice(0,v),p.D=c,S}function Ou(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;lt||jt(),pt||(lt(),pt=!0),Mt.add(p,c),c.v=0}}function Go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yr(b(c.Fa,c),Mu(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yr(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fe(10),Dr(this),Nu(this))};function Qo(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Nu(c){c.g=new hi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=pe(c.qa);Qt(p,"RID","rpc"),Qt(p,"SID",c.K),Qt(p,"AID",c.T),Qt(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qt(p,"TO",c.ja),Qt(p,"TYPE","xmlhttp"),Ps(c,p),c.m&&c.o&&Rr(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ns(pe(p)),v.m=null,v.P=!0,Mi(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Dr(this),Go(this),Fe(19))};function Or(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Vu(c,p){var v=null;if(c.g==p){Or(c),Qo(c),c.g=null;var S=2}else if(Tr(c.h,p))v=p.D,zn(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var k=c.B;S=ma(),Le(S,new Vo(S,v)),Sa(c)}else Ou(c);else if(k=p.s,k==3||k==0&&0<p.X||!(S==1&&lf(c,p)||S==2&&Go(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),k){case 1:Ui(c,5);break;case 4:Ui(c,10);break;case 3:Ui(c,6);break;default:Ui(c,2)}}}function Mu(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function Ui(c,p){if(c.j.info("Error code "+p),p==2){var v=b(c.fb,c),S=c.Xa;const k=!S;S=new Li(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Sr(S,"https"),Ns(S),k?jo(S.toString(),v):bu(S.toString(),v)}else Fe(2);c.G=0,c.l&&c.l.sa(p),Ko(c),Cu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Fe(2)):(this.j.info("Failed to ping google.com"),Fe(1))};function Ko(c){if(c.G=0,c.ka=[],c.l){const p=un(c.h);(p.length!=0||c.i.length!=0)&&(j(c.ka,p),j(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function xu(c,p,v){var S=v instanceof Li?pe(v):new Li(v);if(S.g!="")p&&(S.g=p+"."+S.g),Os(S,S.s);else{var k=m.location;S=k.protocol,p=p?p+"."+k.hostname:k.hostname,k=+k.port;var G=new Li(null);S&&Sr(G,S),p&&(G.g=p),k&&Os(G,k),v&&(G.l=v),S=G}return v=c.D,p=c.ya,v&&p&&Qt(S,v,p),Qt(S,"VER",c.la),Ps(c,S),S}function Lu(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new se(new mi({eb:v})):new se(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}r=Pu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ba(){}ba.prototype.g=function(c,p){return new hn(c,p)};function hn(c,p){Ve.call(this),this.g=new Iu(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!st(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!st(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Nr(this)}q(hn,Ve),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Ho(this.g)},hn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=kn(c),c=v);p.i.push(new nf(p.Ya++,c)),p.G==3&&Sa(p)},hn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,hn.aa.N.call(this)};function ku(c){mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}q(ku,mr);function Uu(){Wn.call(this),this.status=1}q(Uu,Wn);function Nr(c){this.g=c}q(Nr,Pu),Nr.prototype.ua=function(){Le(this.g,"a")},Nr.prototype.ta=function(c){Le(this.g,new ku(c))},Nr.prototype.sa=function(c){Le(this.g,new Uu)},Nr.prototype.ra=function(){Le(this.g,"b")},ba.prototype.createWebChannel=ba.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,PT=function(){return new ba},LT=function(){return ma()},xT=Un,xm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,nh=me,Ge.COMPLETE="complete",MT=Ge,Is.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,Vl=Is,se.prototype.listenOnce=se.prototype.L,se.prototype.getLastError=se.prototype.Ka,se.prototype.getLastErrorCode=se.prototype.Ba,se.prototype.getStatus=se.prototype.Z,se.prototype.getResponseJson=se.prototype.Oa,se.prototype.getResponseText=se.prototype.oa,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Ha,VT=se}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const cE="@firebase/firestore",hE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new ip("@firebase/firestore");function Wa(){return sa.logLevel}function ht(r,...t){if(sa.logLevel<=zt.DEBUG){const n=t.map(_p);sa.debug(`Firestore (${So}): ${r}`,...n)}}function ur(r,...t){if(sa.logLevel<=zt.ERROR){const n=t.map(_p);sa.error(`Firestore (${So}): ${r}`,...n)}}function gs(r,...t){if(sa.logLevel<=zt.WARN){const n=t.map(_p);sa.warn(`Firestore (${So}): ${r}`,...n)}}function _p(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,kT(r,s,n)}function kT(r,t,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ur(s),new Error(s)}function Gt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||kT(t,o,s)}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends fr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class y2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class _2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class v2{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fs,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fs)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new UT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class E2{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class T2{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new E2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=S2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Vt(r,t){return r<t?-1:r>t?1:0}function Lm(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Vt(s,o);{const u=zT(),f=b2(u.encode(dE(r,n)),u.encode(dE(t,n)));return f!==0?f:Vt(s,o)}}n+=s>65535?2:1}return Vt(r.length,t.length)}function dE(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function b2(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Vt(r[n],t[n]);return Vt(r.length,t.length)}function fo(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="__name__";class Ti{constructor(t,n,s){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&vt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Ti.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Vt(t.length,n.length)}static compareSegments(t,n){const s=Ti.isNumericId(t),o=Ti.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ti.extractNumericId(t).compare(Ti.extractNumericId(n)):Lm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return hs.fromString(t.substring(4,t.length-2))}}class ne extends Ti{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const w2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Ti{construct(t,n,s){return new Je(t,n,s)}static isValidIdentifier(t){return w2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mE}static keyField(){return new Je([mE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(n)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ne.fromString(t))}static fromName(t){return new yt(ne.fromString(t).popFirst(5))}static empty(){return new yt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(r,t,n){if(!n)throw new ct(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function R2(r,t,n,s){if(t===!0&&s===!0)throw new ct(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function pE(r){if(!yt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function gE(r){if(yt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function jT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function ds(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kh(r);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(r,t){const n={typeString:r};return t&&(n.value=t),n}function ou(r,t){if(!jT(r))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=-62135596800,_E=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*_E);return new le(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<yE)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_E}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ou(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-yE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Oe("string",le._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new le(0,0))}static max(){return new At(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function I2(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new le(n+1,0):new le(n,s));return new ys(o,yt.empty(),t)}function C2(r){return new ys(r.readTime,r.key,Ql)}class ys{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ys(At.min(),yt.empty(),Ql)}static max(){return new ys(At.max(),yt.empty(),Ql)}}function D2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(r.documentKey,t.documentKey),n!==0?n:Vt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==O2)throw r;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):W.reject(n)}static resolve(t){return new W(((n,s)=>{n(t)}))}static reject(t){return new W(((n,s)=>{s(t)}))}static waitFor(t){return new W(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=W.resolve(!1);for(const s of t)n=n.next((o=>o?W.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new W(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new W(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function V2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Uh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=-1;function lu(r){return r==null}function yh(r){return r===0&&1/r==-1/0}function M2(r){return typeof r=="number"&&Number.isInteger(r)&&!yh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="";function x2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=vE(t)),t=L2(r.get(n),t);return vE(t)}function L2(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case qT:n+="";break;default:n+=u}}return n}function vE(r){return r+qT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Ss(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function HT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n){this.comparator=t,this.root=n||$e.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gc(this.root,t,this.comparator,!0)}}class Gc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??$e.RED,this.left=o??$e.EMPTY,this.right=u??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new $e(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new $e(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new TE(this.data.getIterator())}getIteratorFrom(t){return new TE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class TE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Ln([])}unionWith(t){let n=new xe(Je.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Ln(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return fo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new FT("Invalid base64 string: "+u):u}})(t);return new Ze(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Ze(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const P2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(r){if(Gt(!!r,39018),typeof r=="string"){let t=0;const n=P2.exec(r);if(Gt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Te(r.seconds),nanos:Te(r.nanos)}}function Te(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function vs(r){return typeof r=="string"?Ze.fromBase64String(r):Ze.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="server_timestamp",QT="__type__",KT="__previous_value__",YT="__local_write_time__";function Tp(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[QT])===null||n===void 0?void 0:n.stringValue)===GT}function zh(r){const t=r.mapValue.fields[KT];return Tp(t)?zh(t):t}function Kl(r){const t=_s(r.mapValue.fields[YT].timestampValue);return new le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,n,s,o,u,f,m,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const _h="(default)";class Yl{constructor(t,n){this.projectId=t,this.database=n||_h}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===_h}isEqual(t){return t instanceof Yl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="__type__",U2="__max__",Qc={mapValue:{}},$T="__vector__",vh="value";function Es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tp(r)?4:B2(r)?9007199254740991:z2(r)?10:11:vt(28295,{value:r})}function Ii(r,t){if(r===t)return!0;const n=Es(r);if(n!==Es(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Kl(r).isEqual(Kl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=_s(o.timestampValue),m=_s(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return vs(o.bytesValue).isEqual(vs(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Te(o.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Te(o.integerValue)===Te(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Te(o.doubleValue),m=Te(u.doubleValue);return f===m?yh(f)===yh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return fo(r.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(EE(f)!==EE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Ii(f[g],m[g])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function Xl(r,t){return(r.values||[]).find((n=>Ii(n,t)))!==void 0}function mo(r,t){if(r===t)return 0;const n=Es(r),s=Es(t);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Te(u.integerValue||u.doubleValue),g=Te(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return AE(r.timestampValue,t.timestampValue);case 4:return AE(Kl(r),Kl(t));case 5:return Lm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=vs(u),g=vs(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Vt(m[y],g[y]);if(E!==0)return E}return Vt(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Vt(Te(u.latitude),Te(f.latitude));return m!==0?m:Vt(Te(u.longitude),Te(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return SE(r.arrayValue,t.arrayValue);case 10:return(function(u,f){var m,g,y,E;const A=u.fields||{},b=f.fields||{},L=(m=A[vh])===null||m===void 0?void 0:m.arrayValue,q=(g=b[vh])===null||g===void 0?void 0:g.arrayValue,K=Vt(((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0,((E=q==null?void 0:q.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:SE(L,q)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Qc.mapValue&&f===Qc.mapValue)return 0;if(u===Qc.mapValue)return 1;if(f===Qc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const b=Lm(g[A],E[A]);if(b!==0)return b;const L=mo(m[g[A]],y[E[A]]);if(L!==0)return L}return Vt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{le:n})}}function AE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const n=_s(r),s=_s(t),o=Vt(n.seconds,s.seconds);return o!==0?o:Vt(n.nanos,s.nanos)}function SE(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=mo(n[o],s[o]);if(u)return u}return Vt(n.length,s.length)}function po(r){return Pm(r)}function Pm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=_s(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return vs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return yt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Pm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Pm(n.fields[f])}`;return o+"}"})(r.mapValue):vt(61005,{value:r})}function ih(r){switch(Es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zh(r);return t?16+ih(t):16;case 5:return 2*r.stringValue.length;case 6:return vs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ih(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ss(s.fields,((u,f)=>{o+=u.length+ih(f)})),o})(r.mapValue);default:throw vt(13486,{value:r})}}function bE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function km(r){return!!r&&"integerValue"in r}function Ap(r){return!!r&&"arrayValue"in r}function wE(r){return!!r&&"nullValue"in r}function RE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function rh(r){return!!r&&"mapValue"in r}function z2(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[XT])===null||n===void 0?void 0:n.stringValue)===$T}function Ul(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ss(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Ul(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ul(r.arrayValue.values[n]);return t}return Object.assign({},r)}function B2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===U2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!rh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ul(n)}setAll(t){let n=Je.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ul(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Ss(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new dn(Ul(this.value))}}function JT(r){const t=[];return Ss(r.fields,((n,s)=>{const o=new Je([n]);if(rh(s)){const u=JT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new je(t,0,At.min(),At.min(),At.min(),dn.empty(),0)}static newFoundDocument(t,n,s,o){return new je(t,1,n,At.min(),s,o,0)}static newNoDocument(t,n){return new je(t,2,n,At.min(),At.min(),dn.empty(),0)}static newUnknownDocument(t,n){return new je(t,3,n,At.min(),At.min(),dn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,n){this.position=t,this.inclusive=n}}function IE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),n.key):s=mo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function CE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ii(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,n="asc"){this.field=t,this.dir=n}}function j2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{}class De extends ZT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new H2(t,n,s):n==="array-contains"?new Q2(t,s):n==="in"?new K2(t,s):n==="not-in"?new Y2(t,s):n==="array-contains-any"?new X2(t,s):new De(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new F2(t,s):new G2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends ZT{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new oi(t,n)}matches(t){return WT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function WT(r){return r.op==="and"}function tA(r){return q2(r)&&WT(r)}function q2(r){for(const t of r.filters)if(t instanceof oi)return!1;return!0}function Um(r){if(r instanceof De)return r.field.canonicalString()+r.op.toString()+po(r.value);if(tA(r))return r.filters.map((t=>Um(t))).join(",");{const t=r.filters.map((n=>Um(n))).join(",");return`${r.op}(${t})`}}function eA(r,t){return r instanceof De?(function(s,o){return o instanceof De&&s.op===o.op&&s.field.isEqual(o.field)&&Ii(s.value,o.value)})(r,t):r instanceof oi?(function(s,o){return o instanceof oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&eA(f,o.filters[m])),!0):!1})(r,t):void vt(19439)}function nA(r){return r instanceof De?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(r):r instanceof oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(nA).join(" ,")+"}"})(r):"Filter"}class H2 extends De{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class F2 extends De{constructor(t,n){super(t,"in",n),this.keys=iA("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class G2 extends De{constructor(t,n){super(t,"not-in",n),this.keys=iA("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function iA(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>yt.fromName(s.referenceValue)))}class Q2 extends De{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ap(n)&&Xl(n.arrayValue,this.value)}}class K2 extends De{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class Y2 extends De{constructor(t,n){super(t,"not-in",n)}matches(t){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class X2 extends De{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Xl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function DE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new $2(r,t,n,s,o,u,f)}function Sp(r){const t=wt(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Um(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),lu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>po(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>po(s))).join(",")),t.Pe=n}return t.Pe}function bp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!j2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!eA(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!CE(r.startAt,t.startAt)&&CE(r.endAt,t.endAt)}function zm(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function J2(r,t,n,s,o,u,f,m){return new uu(r,t,n,s,o,u,f,m)}function wp(r){return new uu(r)}function OE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function rA(r){return r.collectionGroup!==null}function zl(r){const t=wt(r);if(t.Te===null){t.Te=[];const n=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xe(Je.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Te.push(new Th(u,s))})),n.has(Je.keyField().canonicalString())||t.Te.push(new Th(Je.keyField(),s))}return t.Te}function Si(r){const t=wt(r);return t.Ie||(t.Ie=Z2(t,zl(r))),t.Ie}function Z2(r,t){if(r.limitType==="F")return DE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Th(o.field,u)}));const n=r.endAt?new Eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Eh(r.startAt.position,r.startAt.inclusive):null;return DE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Bm(r,t){const n=r.filters.concat([t]);return new uu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function jm(r,t,n){return new uu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Bh(r,t){return bp(Si(r),Si(t))&&r.limitType===t.limitType}function sA(r){return`${Sp(Si(r))}|lt:${r.limitType}`}function to(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>nA(o))).join(", ")}]`),lu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${s})`})(Si(r))}; limitType=${r.limitType})`}function jh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=IE(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,zl(s),o)||s.endAt&&!(function(f,m,g){const y=IE(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,zl(s),o))})(r,t)}function W2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function aA(r){return(t,n)=>{let s=!1;for(const o of zl(r)){const u=tD(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function tD(r,t,n){const s=r.field.isKeyField()?yt.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?mo(g,y):vt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ss(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return HT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new fe(yt.comparator);function cr(){return eD}const oA=new fe(yt.comparator);function Ml(...r){let t=oA;for(const n of r)t=t.insert(n.key,n);return t}function lA(r){let t=oA;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ea(){return Bl()}function uA(){return Bl()}function Bl(){return new ca((r=>r.toString()),((r,t)=>r.isEqual(t)))}const nD=new fe(yt.comparator),iD=new xe(yt.comparator);function Bt(...r){let t=iD;for(const n of r)t=t.add(n);return t}const rD=new xe(Vt);function sD(){return rD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(t)?"-0":t}}function cA(r){return{integerValue:""+r}}function aD(r,t){return M2(t)?cA(t):Rp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function oD(r,t,n){return r instanceof Ah?(function(o,u){const f={fields:{[QT]:{stringValue:GT},[YT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Tp(u)&&(u=zh(u)),u&&(f.fields[KT]=u),{mapValue:f}})(n,t):r instanceof $l?fA(r,t):r instanceof Jl?dA(r,t):(function(o,u){const f=hA(o,u),m=NE(f)+NE(o.Ee);return km(f)&&km(o.Ee)?cA(m):Rp(o.serializer,m)})(r,t)}function lD(r,t,n){return r instanceof $l?fA(r,t):r instanceof Jl?dA(r,t):n}function hA(r,t){return r instanceof Sh?(function(s){return km(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Ah extends qh{}class $l extends qh{constructor(t){super(),this.elements=t}}function fA(r,t){const n=mA(t);for(const s of r.elements)n.some((o=>Ii(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Jl extends qh{constructor(t){super(),this.elements=t}}function dA(r,t){let n=mA(t);for(const s of r.elements)n=n.filter((o=>!Ii(o,s)));return{arrayValue:{values:n}}}class Sh extends qh{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function NE(r){return Te(r.integerValue||r.doubleValue)}function mA(r){return Ap(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function uD(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof $l&&o instanceof $l||s instanceof Jl&&o instanceof Jl?fo(s.elements,o.elements,Ii):s instanceof Sh&&o instanceof Sh?Ii(s.Ee,o.Ee):s instanceof Ah&&o instanceof Ah})(r.transform,t.transform)}class cD{constructor(t,n){this.version=t,this.transformResults=n}}class mn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new mn}static exists(t){return new mn(void 0,t)}static updateTime(t){return new mn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function sh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Hh{}function pA(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Fh(r.key,mn.none()):new cu(r.key,r.data,mn.none());{const n=r.data,s=dn.empty();let o=new xe(Je.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new bs(r.key,s,new Ln(o.toArray()),mn.none())}}function hD(r,t,n){r instanceof cu?(function(o,u,f){const m=o.value.clone(),g=ME(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof bs?(function(o,u,f){if(!sh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=ME(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(gA(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function jl(r,t,n,s){return r instanceof cu?(function(u,f,m,g){if(!sh(u.precondition,f))return m;const y=u.value.clone(),E=xE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof bs?(function(u,f,m,g){if(!sh(u.precondition,f))return m;const y=xE(u.fieldTransforms,g,f),E=f.data;return E.setAll(gA(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,t,n,s):(function(u,f,m){return sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function fD(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=hA(s.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(s.field,u))}return n||null}function VE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&fo(s,o,((u,f)=>uD(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class cu extends Hh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bs extends Hh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gA(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function ME(r,t,n){const s=new Map;Gt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,lD(f,m,n[o]))}return s}function xE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,oD(u,f,t))}return s}class Fh extends Hh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yA extends Hh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&hD(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=jl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=jl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=uA();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=pA(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&fo(this.mutations,t.mutations,((n,s)=>VE(n,s)))&&fo(this.baseMutations,t.baseMutations,((n,s)=>VE(n,s)))}}class Ip{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Gt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=(function(){return nD})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ip(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,Ft;function _A(r){switch(r){case J.OK:return vt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function vA(r){if(r===void 0)return ur("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ce.OK:return J.OK;case Ce.CANCELLED:return J.CANCELLED;case Ce.UNKNOWN:return J.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return J.INTERNAL;case Ce.UNAVAILABLE:return J.UNAVAILABLE;case Ce.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ce.NOT_FOUND:return J.NOT_FOUND;case Ce.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ce.ABORTED:return J.ABORTED;case Ce.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ce.DATA_LOSS:return J.DATA_LOSS;default:return vt(39323,{code:r})}}(Ft=Ce||(Ce={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=new hs([4294967295,4294967295],0);function LE(r){const t=zT().encode(r),n=new NT;return n.update(t),new Uint8Array(n.digest())}function PE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new hs([n,s],0),new hs([o,u],0)]}class Cp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new xl(`Invalid padding: ${n}`);if(s<0)throw new xl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new xl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=hs.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(hs.fromNumber(s)));return o.compare(gD)===1&&(o=new hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=LE(t),[s,o]=PE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Cp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.fe===0)return;const n=LE(t),[s,o]=PE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,hu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Gh(At.min(),o,new fe(Vt),cr(),Bt())}}class hu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new hu(s,n,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class EA{constructor(t,n){this.targetId=t,this.De=n}}class TA{constructor(t,n,s=Ze.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class kE{constructor(){this.ve=0,this.Ce=UE(),this.Fe=Ze.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Bt(),n=Bt(),s=Bt();return this.Ce.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:u})}})),new hu(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=UE()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class yD{constructor(t){this.We=t,this.Ge=new Map,this.ze=cr(),this.je=Kc(),this.Je=Kc(),this.He=new fe(Vt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,(n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const u=o.target;if(zm(u))if(s===0){const f=new yt(u.path);this.Xe(n,f,je.newNoDocument(f,At.min()))}else Gt(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(t),g=m?this.ut(m,t,f):1;if(g!==0){this.rt(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,y)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=vs(s).toUint8Array()}catch(g){if(g instanceof FT)return gs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Cp(f,o,u)}catch(g){return gs(g instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.fe===0?null:m}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(t){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&zm(m.target)){const g=new yt(m.target.path);this.Tt(g).has(f)||this.It(f,g)||this.Xe(f,g,je.newNoDocument(g,t))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=Bt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.st(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(t)));const o=new Gh(t,n,this.He,this.ze,s);return this.ze=cr(),this.je=Kc(),this.Je=Kc(),this.He=new fe(Vt),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new kE,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new xe(Vt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new xe(Vt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new kE),this.We.getRemoteKeysForTarget(t).forEach((n=>{this.Xe(t,n,null)}))}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function Kc(){return new fe(yt.comparator)}function UE(){return new fe(yt.comparator)}const _D={asc:"ASCENDING",desc:"DESCENDING"},vD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ED={and:"AND",or:"OR"};class TD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function qm(r,t){return r.useProto3Json||lu(t)?t:{value:t}}function bh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function AA(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function AD(r,t){return bh(r,t.toTimestamp())}function Pn(r){return Gt(!!r,49232),At.fromTimestamp((function(n){const s=_s(n);return new le(s.seconds,s.nanos)})(r))}function Dp(r,t){return Hm(r,t).canonicalString()}function Hm(r,t){const n=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function SA(r){const t=ne.fromString(r);return Gt(DA(t),10190,{key:t.toString()}),t}function wh(r,t){return Dp(r.databaseId,t.path)}function ql(r,t){const n=SA(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yt(wA(n))}function bA(r,t){return Dp(r.databaseId,t)}function SD(r){const t=SA(r);return t.length===4?ne.emptyPath():wA(t)}function Fm(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function wA(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function zE(r,t,n){return{name:wh(r,t),fields:n.value.mapValue.fields}}function bD(r,t){return"found"in t?(function(s,o){Gt(!!o.found,43571),o.found.name,o.found.updateTime;const u=ql(s,o.found.name),f=Pn(o.found.updateTime),m=o.found.createTime?Pn(o.found.createTime):At.min(),g=new dn({mapValue:{fields:o.found.fields}});return je.newFoundDocument(u,f,m,g)})(r,t):"missing"in t?(function(s,o){Gt(!!o.missing,3894),Gt(!!o.readTime,22933);const u=ql(s,o.missing),f=Pn(o.readTime);return je.newNoDocument(u,f)})(r,t):vt(7234,{result:t})}function wD(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Gt(E===void 0||typeof E=="string",58123),Ze.fromBase64String(E||"")):(Gt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ze.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?J.UNKNOWN:vA(y.code);return new ct(E,y.message||"")})(f);n=new TA(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=ql(r,s.document.name),u=Pn(s.document.updateTime),f=s.document.createTime?Pn(s.document.createTime):At.min(),m=new dn({mapValue:{fields:s.document.fields}}),g=je.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new ah(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=ql(r,s.document),u=s.readTime?Pn(s.readTime):At.min(),f=je.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ah([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=ql(r,s.document),u=s.removedTargetIds||[];n=new ah([],u,o,null)}else{if(!("filter"in t))return vt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new pD(o,u),m=s.targetId;n=new EA(m,f)}}return n}function RA(r,t){let n;if(t instanceof cu)n={update:zE(r,t.key,t.value)};else if(t instanceof Fh)n={delete:wh(r,t.key)};else if(t instanceof bs)n={update:zE(r,t.key,t.data),updateMask:xD(t.fieldMask)};else{if(!(t instanceof yA))return vt(16599,{Rt:t.type});n={verify:wh(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Ah)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw vt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:AD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)})(r,t.precondition)),n}function RD(r,t){return r&&r.length>0?(Gt(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Pn(o.updateTime):Pn(u);return f.isEqual(At.min())&&(f=Pn(u)),new cD(f,o.transformResults||[])})(n,t)))):[]}function ID(r,t){return{documents:[bA(r,t.path)]}}function CD(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=bA(r,o);const u=(function(y){if(y.length!==0)return CA(oi.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(b){return{field:eo(b.field),direction:ND(b.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=qm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{Vt:n,parent:o}}function DD(r){let t=SD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Gt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(A){const b=IA(A);return b instanceof oi&&tA(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((b=>(function(q){return new Th(no(q.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let b;return b=typeof A=="object"?A.value:A,lu(b)?null:b})(n.limit));let g=null;n.startAt&&(g=(function(A){const b=!!A.before,L=A.values||[];return new Eh(L,b)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const b=!A.before,L=A.values||[];return new Eh(L,b)})(n.endAt)),J2(t,o,f,u,m,"F",g,y)}function OD(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function IA(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=no(n.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return De.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return De.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=no(n.unaryFilter.field);return De.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return De.create(no(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return oi.create(n.compositeFilter.filters.map((s=>IA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(n.compositeFilter.op))})(r):vt(30097,{filter:r})}function ND(r){return _D[r]}function VD(r){return vD[r]}function MD(r){return ED[r]}function eo(r){return{fieldPath:r.canonicalString()}}function no(r){return Je.fromServerFormat(r.fieldPath)}function CA(r){return r instanceof De?(function(n){if(n.op==="=="){if(RE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(wE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(wE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:VD(n.op),value:n.value}}})(r):r instanceof oi?(function(n){const s=n.getFilters().map((o=>CA(o)));return s.length===1?s[0]:{compositeFilter:{op:MD(n.op),filters:s}}})(r):vt(54877,{filter:r})}function xD(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function DA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t,n,s,o,u=At.min(),f=At.min(),m=Ze.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new as(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t){this.gt=t}}function PD(r){const t=DD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.Dn=new UD}addToCollectionParentIndex(t,n){return this.Dn.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(ys.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(ys.min())}updateCollectionGroup(t,n,s){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class UD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new xe(ne.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new xe(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OA=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(OA,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new go(0)}static ur(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="LruGarbageCollector",zD=1048576;function qE([r,t],[n,s]){const o=Vt(r,n);return o===0?Vt(t,s):o}class BD{constructor(t){this.Tr=t,this.buffer=new xe(qE),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();qE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jD{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ht(jE,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?ht(jE,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Rr(3e5)}))}}class qD{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return W.resolve(Uh.ue);const s=new BD(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(BE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BE):this.pr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(t,s,n)))).next((A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(y=Date.now(),Wa()<=zt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function HD(r,t){return new qD(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.changes=new ca((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&jl(s.mutation,o,Ln.empty(),le.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Bt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Bt()){const o=ea();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Ml();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=ea();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Bt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=cr();const f=Bl(),m=(function(){return Bl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof bs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),jl(E.mutation,y,E.mutation.getFieldMask(),le.now())):f.set(y.key,Ln.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>{var A;return m.set(y,new GD(E,(A=f.get(y))!==null&&A!==void 0?A:null))})),m)))}recalculateAndSaveOverlays(t,n){const s=Bl();let o=new fe(((f,m)=>f-m)),u=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Ln.empty();E=m.applyToLocalView(y,E),s.set(g,E);const A=(o.get(m.batchId)||Bt()).add(g);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,A=uA();E.forEach((b=>{if(!u.has(b)){const L=pA(n.get(b),s.get(b));L!==null&&A.set(b,L),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,A))}return W.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):rA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):W.resolve(ea());let m=Ql,g=u;return f.next((y=>W.forEach(y,((E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next((b=>{g=g.insert(E,b)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Bt()))).next((E=>({batchId:m,changes:lA(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let o=Ml();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Ml();return this.indexManager.getCollectionParents(t,u).next((m=>W.forEach(m,(g=>{const y=(function(A,b){return new uu(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((A,b)=>{f=f.insert(A,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,je.newInvalidDocument(E)))}));let m=Ml();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&jl(E.mutation,y,Ln.empty(),le.now()),jh(n,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return W.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Pn(o.createTime)}})(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:PD(o.bundledQuery),readTime:Pn(o.readTime)}})(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.overlays=new fe(yt.comparator),this.kr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ea();return W.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.wt(t,n,u)})),W.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),W.resolve()}getOverlaysForCollection(t,n,s){const o=ea(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new fe(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=ea(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ea(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return W.resolve(m)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new mD(n,s));let u=this.kr.get(n);u===void 0&&(u=Bt(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.qr=new xe(Be.Qr),this.$r=new xe(Be.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new Be(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Be(t,n))}Gr(t,n){t.forEach((s=>this.removeReference(s,n)))}zr(t){const n=new yt(new ne([])),s=new Be(n,t),o=new Be(n,t+1),u=[];return this.$r.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new yt(new ne([])),s=new Be(n,t),o=new Be(n,t+1);let u=Bt();return this.$r.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Be(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Be{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return yt.comparator(t.key,n.key)||Vt(t.Hr,n.Hr)}static Ur(t,n){return Vt(t.Hr,n.Hr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new xe(Be.Qr)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new dD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new Be(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(t,n){return W.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Ep:this.er-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Be(n,0),o=new Be(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new xe(Vt);return n.forEach((o=>{const u=new Be(o,0),f=new Be(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),W.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new Be(new yt(u),0);let m=new xe(Vt);return this.Yr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),f),W.resolve(this.ei(m))}ei(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Gt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return W.forEach(n.mutations,(o=>{const u=new Be(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Yr=s}))}rr(t){}containsKey(t,n){const s=new Be(n,0),o=this.Yr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(t){this.ni=t,this.docs=(function(){return new fe(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():je.newInvalidDocument(n))}getEntries(t,n){let s=cr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():je.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=cr();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||D2(C2(E),s)<=0||(o.has(E.key)||jh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,n,s,o){vt(9500)}ri(t,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new ZD(this)}getSize(t){return W.resolve(this.size)}}class ZD extends FD{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)})),W.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(t){this.persistence=t,this.ii=new ca((n=>Sp(n)),bp),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.si=0,this.oi=new Op,this.targetCount=0,this._i=go.ar()}forEachTarget(t,n){return this.ii.forEach(((s,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),W.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new go(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.hr(n),W.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return W.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),W.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return W.resolve(s)}containsKey(t,n){return W.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t,n){this.ai={},this.overlays={},this.ui=new Uh(0),this.ci=!1,this.ci=!0,this.li=new XD,this.referenceDelegate=t(this),this.hi=new WD(this),this.indexManager=new kD,this.remoteDocumentCache=(function(o){return new JD(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new LD(n),this.Ti=new KD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new YD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new $D(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new tO(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return W.or(Object.values(this.ai).map((s=>()=>s.containsKey(t,n))))}}class tO extends N2{constructor(t){super(),this.currentSequenceNumber=t}}class Np{constructor(t){this.persistence=t,this.Ai=new Op,this.Ri=null}static Vi(t){return new Np(t)}get mi(){if(this.Ri)return this.Ri;throw vt(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),W.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),W.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.mi,(s=>{const o=yt.fromPath(s);return this.fi(t,o).next((u=>{u||n.removeEntry(o,At.min())}))})).next((()=>(this.Ri=null,n.apply(t))))}updateLimboDocument(t,n){return this.fi(t,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(t){return 0}fi(t,n){return W.or([()=>W.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Rh{constructor(t,n){this.persistence=t,this.gi=new ca((s=>x2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=HD(this,n)}static Vi(t,n){return new Rh(t,n)}Ii(){}di(t){return W.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}yr(t){let n=0;return this.gr(t,(s=>{n++})).next((()=>n))}gr(t,n){return W.forEach(this.gi,((s,o)=>this.Sr(t,s,o).next((u=>u?W.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,(f=>this.Sr(t,f,n).next((m=>{m||(s++,u.removeEntry(f,At.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),W.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),W.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ih(t.data.value)),n}Sr(t,n,s){return W.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=Bt(),o=Bt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return Ww()?8:V2(sn())>0?6:4})()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ps(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new eO;return this.ws(t,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(t,n,f,m.size)}))})).next((()=>u.result))}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(Wa()<=zt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(Wa()<=zt.DEBUG&&ht("QueryEngine","Query:",to(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Wa()<=zt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(n))):W.resolve())}ps(t,n){if(OE(n))return W.resolve(null);let s=Si(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=jm(n,null,"F"),s=Si(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Bt(...u);return this.gs.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.bs(n,m);return this.Ds(n,y,f,g.readTime)?this.ps(t,jm(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ys(t,n,s,o){return OE(n)||o.isEqual(At.min())?W.resolve(null):this.gs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?W.resolve(null):(Wa()<=zt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),to(n)),this.vs(t,f,n,I2(o,Ql)).next((m=>m)))}))}bs(t,n){let s=new xe(aA(t));return n.forEach(((o,u)=>{jh(t,u)&&(s=s.add(u))})),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,n,s){return Wa()<=zt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",to(n)),this.gs.getDocumentsMatchingQuery(t,n,ys.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="LocalStore",iO=3e8;class rO{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new fe(Vt),this.Ms=new ca((u=>Sp(u)),bp),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new QD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Fs)))}}function sO(r,t,n,s){return new rO(r,t,n,s)}async function VA(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Bt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Bs:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function aO(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const A=y.batch,b=A.keys();let L=W.resolve();return b.forEach((q=>{L=L.next((()=>E.getEntry(g,q))).next((K=>{const j=y.docVersions.get(q);Gt(j!==null,48541),K.version.compareTo(j)<0&&(A.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(g,A)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Bt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function MA(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.hi.getLastRemoteSnapshotVersion(n)))}function oO(r,t){const n=wt(r),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];t.targetChanges.forEach(((E,A)=>{const b=o.get(A);if(!b)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,A).next((()=>n.hi.addMatchingKeys(u,E.addedDocuments,A))));let L=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?L=L.withResumeToken(Ze.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(A,L),(function(K,j,it){return K.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=iO?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(b,L,E)&&m.push(n.hi.updateTargetData(u,L))}));let g=cr(),y=Bt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(lO(u,f,t.documentUpdates).next((E=>{g=E.Ls,y=E.ks}))),!s.isEqual(At.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next((A=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return W.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Fs=o,u)))}function lO(r,t,n){let s=Bt(),o=Bt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=cr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(At.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ht(Mp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Ls:f,ks:o}}))}function uO(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Ep),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function cO(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,t).next((u=>u?(o=u,W.resolve(o)):n.hi.allocateTargetId(s).next((f=>(o=new as(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s}))}async function Gm(r,t,n){const s=wt(r),o=s.Fs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!wo(f))throw f;ht(Mp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function HE(r,t,n){const s=wt(r);let o=At.min(),u=Bt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const A=wt(g),b=A.Ms.get(E);return b!==void 0?W.resolve(A.Fs.get(b)):A.hi.getTargetData(y,E)})(s,f,Si(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:At.min(),n?u:Bt()))).next((m=>(hO(s,W2(t),m),{documents:m,qs:u})))))}function hO(r,t,n){let s=r.xs.get(t)||At.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(t,s)}class FE{constructor(){this.activeTargetIds=sD()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fO{constructor(){this.Fo=new FE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new FE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="ConnectivityMonitor";class QE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ht(GE,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ht(GE,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function Qm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="RestConnection",mO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pO{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===_h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=Qm(),m=this.Go(t,n.toUriEncodedString());ht(_m,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,u);const{host:y}=new URL(m),E=Eo(y);return this.jo(t,m,g,s,E).then((A=>(ht(_m,`Received RPC '${t}' ${f}: `,A),A)),(A=>{throw gs(_m,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",s),A}))}Jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}zo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Go(t,n){const s=mO[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class yO extends pO{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,u){const f=Qm();return new Promise(((m,g)=>{const y=new VT;y.setWithCredentials(!0),y.listenOnce(MT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case nh.NO_ERROR:const A=y.getResponseJson();ht(nn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case nh.TIMEOUT:ht(nn,`RPC '${t}' ${f} timed out`),g(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const b=y.getStatus();if(ht(nn,`RPC '${t}' ${f} failed with status:`,b,"response text:",y.getResponseText()),b>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const q=L==null?void 0:L.error;if(q&&q.status&&q.message){const K=(function(it){const st=it.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(st)>=0?st:J.UNKNOWN})(q.status);g(new ct(K,q.message))}else g(new ct(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ct(J.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{c_:t,streamId:f,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{ht(nn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ht(nn,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}P_(t,n,s){const o=Qm(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=PT(),m=LT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ht(nn,`Creating RPC '${t}' stream ${o}: ${E}`,g);const A=f.createWebChannel(E,g);this.T_(A);let b=!1,L=!1;const q=new gO({Ho:j=>{L?ht(nn,`Not sending because RPC '${t}' stream ${o} is closed:`,j):(b||(ht(nn,`Opening RPC '${t}' stream ${o} transport.`),A.open(),b=!0),ht(nn,`RPC '${t}' stream ${o} sending:`,j),A.send(j))},Yo:()=>A.close()}),K=(j,it,st)=>{j.listen(it,(tt=>{try{st(tt)}catch(mt){setTimeout((()=>{throw mt}),0)}}))};return K(A,Vl.EventType.OPEN,(()=>{L||(ht(nn,`RPC '${t}' stream ${o} transport opened.`),q.s_())})),K(A,Vl.EventType.CLOSE,(()=>{L||(L=!0,ht(nn,`RPC '${t}' stream ${o} transport closed`),q.__(),this.I_(A))})),K(A,Vl.EventType.ERROR,(j=>{L||(L=!0,gs(nn,`RPC '${t}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),q.__(new ct(J.UNAVAILABLE,"The operation could not be completed")))})),K(A,Vl.EventType.MESSAGE,(j=>{var it;if(!L){const st=j.data[0];Gt(!!st,16349);const tt=st,mt=(tt==null?void 0:tt.error)||((it=tt[0])===null||it===void 0?void 0:it.error);if(mt){ht(nn,`RPC '${t}' stream ${o} received error:`,mt);const St=mt.status;let Et=(function(R){const V=Ce[R];if(V!==void 0)return vA(V)})(St),D=mt.message;Et===void 0&&(Et=J.INTERNAL,D="Unknown error status: "+St+" with message "+mt.message),L=!0,q.__(new ct(Et,D)),A.close()}else ht(nn,`RPC '${t}' stream ${o} received:`,st),q.a_(st)}})),K(m,xT.STAT_EVENT,(j=>{j.stat===xm.PROXY?ht(nn,`RPC '${t}' stream ${o} detected buffering proxy`):j.stat===xm.NOPROXY&&ht(nn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{q.o_()}),0),q}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((n=>n===t))}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(r){return new TD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="PersistentStream";class xA{constructor(t,n,s,o,u,f,m,g){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new xp(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{t((()=>{const o=new ct(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return ht(KE,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget((()=>this.b_===t?n():(ht(KE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _O extends xA{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=wD(this.serializer,t),s=(function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?Pn(f.readTime):At.min()})(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=Fm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=zm(g)?{documents:ID(u,g)}:{query:CD(u,g).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=AA(u,f.resumeToken);const y=qm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=bh(u,f.snapshotVersion.toTimestamp());const y=qm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=OD(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=Fm(this.serializer),n.removeTarget=t,this.k_(n)}}class vO extends xA{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=RD(t.writeResults,t.commitTime),s=Pn(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=Fm(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>RA(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{}class TO extends EO{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,Hm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(J.UNKNOWN,u.toString())}))}Jo(t,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(t,Hm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(J.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class AO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ur(n),this._a=!1):ht("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class SO{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{ha(this)&&(ht(aa,"Restarting streams for network reachability change."),await(async function(g){const y=wt(g);y.Ia.add(4),await fu(y),y.Aa.set("Unknown"),y.Ia.delete(4),await Kh(y)})(this))}))})),this.Aa=new AO(s,o)}}async function Kh(r){if(ha(r))for(const t of r.da)await t(!0)}async function fu(r){for(const t of r.da)await t(!1)}function LA(r,t){const n=wt(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Up(n)?kp(n):Ro(n).x_()&&Pp(n,t))}function Lp(r,t){const n=wt(r),s=Ro(n);n.Ta.delete(t),s.x_()&&PA(n,t),n.Ta.size===0&&(s.x_()?s.B_():ha(n)&&n.Aa.set("Unknown"))}function Pp(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ro(r).H_(t)}function PA(r,t){r.Ra.$e(t),Ro(r).Y_(t)}function kp(r){r.Ra=new yD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),Ro(r).start(),r.Aa.aa()}function Up(r){return ha(r)&&!Ro(r).M_()&&r.Ta.size>0}function ha(r){return wt(r).Ia.size===0}function kA(r){r.Ra=void 0}async function bO(r){r.Aa.set("Online")}async function wO(r){r.Ta.forEach(((t,n)=>{Pp(r,t)}))}async function RO(r,t){kA(r),Up(r)?(r.Aa.la(t),kp(r)):r.Aa.set("Unknown")}async function IO(r,t,n){if(r.Aa.set("Online"),t instanceof TA&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))})(r,t)}catch(s){ht(aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Ih(r,s)}else if(t instanceof ah?r.Ra.Ye(t):t instanceof EA?r.Ra.it(t):r.Ra.et(t),!n.isEqual(At.min()))try{const s=await MA(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ta.get(y);E&&u.Ta.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ta.get(g);if(!E)return;u.Ta.set(g,E.withResumeToken(Ze.EMPTY_BYTE_STRING,E.snapshotVersion)),PA(u,g);const A=new as(E.target,g,y,E.sequenceNumber);Pp(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ht(aa,"Failed to raise snapshot:",s),await Ih(r,s)}}async function Ih(r,t,n){if(!wo(t))throw t;r.Ia.add(1),await fu(r),r.Aa.set("Offline"),n||(n=()=>MA(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ht(aa,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await Kh(r)}))}function UA(r,t){return t().catch((n=>Ih(r,n,t)))}async function Yh(r){const t=wt(r),n=Ts(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Ep;for(;CO(t);)try{const o=await uO(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,DO(t,o)}catch(o){await Ih(t,o)}zA(t)&&BA(t)}function CO(r){return ha(r)&&r.Pa.length<10}function DO(r,t){r.Pa.push(t);const n=Ts(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function zA(r){return ha(r)&&!Ts(r).M_()&&r.Pa.length>0}function BA(r){Ts(r).start()}async function OO(r){Ts(r).na()}async function NO(r){const t=Ts(r);for(const n of r.Pa)t.X_(n.mutations)}async function VO(r,t,n){const s=r.Pa.shift(),o=Ip.from(s,t,n);await UA(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Yh(r)}async function MO(r,t){t&&Ts(r).Z_&&await(async function(s,o){if((function(f){return _A(f)&&f!==J.ABORTED})(o.code)){const u=s.Pa.shift();Ts(s).N_(),await UA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Yh(s)}})(r,t),zA(r)&&BA(r)}async function YE(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),ht(aa,"RemoteStore received new credentials");const s=ha(n);n.Ia.add(3),await fu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await Kh(n)}async function xO(r,t){const n=wt(r);t?(n.Ia.delete(2),await Kh(n)):t||(n.Ia.add(2),await fu(n),n.Aa.set("Unknown"))}function Ro(r){return r.Va||(r.Va=(function(n,s,o){const u=wt(n);return u.ia(),new _O(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:bO.bind(null,r),e_:wO.bind(null,r),n_:RO.bind(null,r),J_:IO.bind(null,r)}),r.da.push((async t=>{t?(r.Va.N_(),Up(r)?kp(r):r.Aa.set("Unknown")):(await r.Va.stop(),kA(r))}))),r.Va}function Ts(r){return r.ma||(r.ma=(function(n,s,o){const u=wt(n);return u.ia(),new vO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:OO.bind(null,r),n_:MO.bind(null,r),ea:NO.bind(null,r),ta:VO.bind(null,r)}),r.da.push((async t=>{t?(r.ma.N_(),await Yh(r)):(await r.ma.stop(),r.Pa.length>0&&(ht(aa,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new zp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(r,t){if(ur("AsyncQueue",`${t}: ${r}`),wo(r))return new ct(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(t){return new lo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=Ml(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof lo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new lo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.fa=new fe(yt.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):vt(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal(((n,s)=>{t.push(s)})),t}}class yo{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new yo(t,n,lo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class PO{constructor(){this.queries=$E(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=$E(),u.forEach(((f,m)=>{for(const g of m.wa)g.onError(s)}))})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function $E(){return new ca((r=>sA(r)),Bh)}async function kO(r,t){const n=wt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new LO,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Bp(f,`Initialization of query '${to(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.wa.push(t),t.va(n.onlineState),u.ya&&t.Ca(u.ya)&&jp(n)}async function UO(r,t){const n=wt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(t);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function zO(r,t){const n=wt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&jp(n)}function BO(r,t,n){const s=wt(r),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(t)}function jp(r){r.Da.forEach((t=>{t.next()}))}var Km,JE;(JE=Km||(Km={})).Fa="default",JE.Cache="cache";class jO{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new yo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(t){this.key=t}}class qA{constructor(t){this.key=t}}class qO{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Bt(),this.mutatedKeys=Bt(),this.Xa=aA(t),this.eu=new lo(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new XE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,A)=>{const b=o.get(E),L=jh(this.query,A)?A:null,q=!!b&&this.mutatedKeys.has(b.key),K=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let j=!1;b&&L?b.data.isEqual(L.data)?q!==K&&(s.track({type:3,doc:L}),j=!0):this.iu(b,L)||(s.track({type:2,doc:L}),j=!0,(g&&this.Xa(L,g)>0||y&&this.Xa(L,y)<0)&&(m=!0)):!b&&L?(s.track({type:0,doc:L}),j=!0):b&&!L&&(s.track({type:1,doc:b}),j=!0,(g||y)&&(m=!0)),j&&(L?(f=f.add(L),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const f=t.ru.pa();f.sort(((E,A)=>(function(L,q){const K=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{At:j})}};return K(L)-K(q)})(E.type,A.type)||this.Xa(E.doc,A.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,y=g!==this.Ya;return this.Ya=g,f.length!==0||y?{snapshot:new yo(this.query,t.eu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new XE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Bt(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return t.forEach((s=>{this.Za.has(s)||n.push(new qA(s))})),this.Za.forEach((s=>{t.has(s)||n.push(new jA(s))})),n}uu(t){this.Ha=t.qs,this.Za=Bt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return yo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const qp="SyncEngine";class HO{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class FO{constructor(t){this.key=t,this.lu=!1}}class GO{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new ca((m=>sA(m)),Bh),this.Tu=new Map,this.Iu=new Set,this.du=new fe(yt.comparator),this.Eu=new Map,this.Au=new Op,this.Ru={},this.Vu=new Map,this.mu=go.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function QO(r,t,n=!0){const s=YA(r);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await HA(s,t,n,!0),o}async function KO(r,t){const n=YA(r);await HA(n,t,!0,!1)}async function HA(r,t,n,s){const o=await cO(r.localStore,Si(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await YO(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&LA(r.remoteStore,o),m}async function YO(r,t,n,s,o){r.gu=(A,b,L)=>(async function(K,j,it,st){let tt=j.view.nu(it);tt.Ds&&(tt=await HE(K.localStore,j.query,!1).then((({documents:D})=>j.view.nu(D,tt))));const mt=st&&st.targetChanges.get(j.targetId),St=st&&st.targetMismatches.get(j.targetId)!=null,Et=j.view.applyChanges(tt,K.isPrimaryClient,mt,St);return WE(K,j.targetId,Et._u),Et.snapshot})(r,A,b,L);const u=await HE(r.localStore,t,!0),f=new qO(t,u.qs),m=f.nu(u.documents),g=hu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);WE(r,n,y._u);const E=new HO(t,n,f);return r.Pu.set(t,E),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),y.snapshot}async function XO(r,t,n){const s=wt(r),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((f=>!Bh(f,t)))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Lp(s.remoteStore,o.targetId),Ym(s,o.targetId)})).catch(bo)):(Ym(s,o.targetId),await Gm(s.localStore,o.targetId,!0))}async function $O(r,t){const n=wt(r),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lp(n.remoteStore,s.targetId))}async function JO(r,t,n){const s=rN(r);try{const o=await(function(f,m){const g=wt(f),y=le.now(),E=m.reduce(((L,q)=>L.add(q.key)),Bt());let A,b;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let q=cr(),K=Bt();return g.Os.getEntries(L,E).next((j=>{q=j,q.forEach(((it,st)=>{st.isValidDocument()||(K=K.add(it))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,q))).next((j=>{A=j;const it=[];for(const st of m){const tt=fD(st,A.get(st.key).overlayedDocument);tt!=null&&it.push(new bs(st.key,tt,JT(tt.value.mapValue),mn.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,it,m)})).next((j=>{b=j;const it=j.applyToLocalDocumentSet(A,K);return g.documentOverlayCache.saveOverlays(L,j.batchId,it)}))})).then((()=>({batchId:b.batchId,changes:lA(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Ru[f.currentUser.toKey()];y||(y=new fe(Vt)),y=y.insert(m,g),f.Ru[f.currentUser.toKey()]=y})(s,o.batchId,n),await du(s,o.changes),await Yh(s.remoteStore)}catch(o){const u=Bp(o,"Failed to persist write");n.reject(u)}}async function FA(r,t){const n=wt(r);try{const s=await oO(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?Gt(f.lu,14607):o.removedDocuments.size>0&&(Gt(f.lu,42227),f.lu=!1))})),await du(n,s,t)}catch(s){await bo(s)}}function ZE(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=wt(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,A)=>{for(const b of A.wa)b.va(m)&&(y=!0)})),y&&jp(g)})(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function ZO(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let f=new fe(yt.comparator);f=f.insert(u,je.newNoDocument(u,At.min()));const m=Bt().add(u),g=new Gh(At.min(),new Map,new fe(Vt),f,m);await FA(s,g),s.du=s.du.remove(u),s.Eu.delete(t),Hp(s)}else await Gm(s.localStore,t,!1).then((()=>Ym(s,t,n))).catch(bo)}async function WO(r,t){const n=wt(r),s=t.batch.batchId;try{const o=await aO(n.localStore,t);QA(n,s,null),GA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await du(n,o)}catch(o){await bo(o)}}async function tN(r,t,n){const s=wt(r);try{const o=await(function(f,m){const g=wt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((A=>(Gt(A!==null,37113),E=A.keys(),g.mutationQueue.removeMutationBatch(y,A)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);QA(s,t,n),GA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await du(s,o)}catch(o){await bo(o)}}function GA(r,t){(r.Vu.get(t)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(t)}function QA(r,t,n){const s=wt(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function Ym(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach((s=>{r.Au.containsKey(s)||KA(r,s)}))}function KA(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Lp(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),Hp(r))}function WE(r,t,n){for(const s of n)s instanceof jA?(r.Au.addReference(s.key,t),eN(r,s)):s instanceof qA?(ht(qp,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||KA(r,s.key)):vt(19791,{yu:s})}function eN(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(ht(qp,"New document in limbo: "+n),r.Iu.add(s),Hp(r))}function Hp(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new yt(ne.fromString(t)),s=r.mu.next();r.Eu.set(s,new FO(n)),r.du=r.du.insert(n,s),LA(r.remoteStore,new as(Si(wp(n.path)),s,"TargetPurposeLimboResolution",Uh.ue))}}async function du(r,t,n){const s=wt(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,g)=>{f.push(s.gu(g,t,n).then((y=>{var E;if((y||n)&&s.isPrimaryClient){const A=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(y){o.push(y);const A=Vp.Es(g.targetId,y);u.push(A)}})))})),await Promise.all(f),s.hu.J_(o),await(async function(g,y){const E=wt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>W.forEach(y,(b=>W.forEach(b.Is,(L=>E.persistence.referenceDelegate.addReference(A,b.targetId,L))).next((()=>W.forEach(b.ds,(L=>E.persistence.referenceDelegate.removeReference(A,b.targetId,L)))))))))}catch(A){if(!wo(A))throw A;ht(Mp,"Failed to update sequence numbers: "+A)}for(const A of y){const b=A.targetId;if(!A.fromCache){const L=E.Fs.get(b),q=L.snapshotVersion,K=L.withLastLimboFreeSnapshotVersion(q);E.Fs=E.Fs.insert(b,K)}}})(s.localStore,u))}async function nN(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){ht(qp,"User change. New user:",t.toKey());const s=await VA(n.localStore,t);n.currentUser=t,(function(u,f){u.Vu.forEach((m=>{m.forEach((g=>{g.reject(new ct(J.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await du(n,s.Bs)}}function iN(r,t){const n=wt(r),s=n.Eu.get(t);if(s&&s.lu)return Bt().add(s.key);{let o=Bt();const u=n.Tu.get(t);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function YA(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=FA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZO.bind(null,t),t.hu.J_=zO.bind(null,t.eventManager),t.hu.pu=BO.bind(null,t.eventManager),t}function rN(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tN.bind(null,t),t}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Qh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return sO(this.persistence,new nO,t.initialUser,this.serializer)}Du(t){return new NA(Np.Vi,this.serializer)}bu(t){return new fO}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class sN extends Ch{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){Gt(this.persistence.referenceDelegate instanceof Rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jD(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new NA((s=>Rh.Vi(s,n)),this.serializer)}}class Xm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ZE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nN.bind(null,this.syncEngine),await xO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new PO})()}createDatastore(t){const n=Qh(t.databaseInfo.databaseId),s=(function(u){return new yO(u)})(t.databaseInfo);return(function(u,f,m,g){return new TO(u,f,m,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new SO(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>ZE(this.syncEngine,n,0)),(function(){return QE.C()?new QE:new dO})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,E){const A=new GO(o,u,f,m,g,y);return E&&(A.fu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=wt(o);ht(aa,"RemoteStore shutting down."),u.Ia.add(5),await fu(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Xm.provider={build:()=>new Xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):ur("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ct(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=wt(o),m={documents:u.map((A=>wh(f.serializer,A)))},g=await f.Jo("BatchGetDocuments",f.serializer.databaseId,ne.emptyPath(),m,u.length),y=new Map;g.forEach((A=>{const b=bD(f.serializer,A);y.set(b.key.toString(),b)}));const E=[];return u.forEach((A=>{const b=y.get(A.toString());Gt(!!b,55234,{key:A}),E.push(b)})),E})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Fh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=yt.fromPath(s);this.mutations.push(new yA(o,this.precondition(o)))})),await(async function(s,o){const u=wt(s),f={writes:o.map((m=>RA(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,ne.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw vt(50498,{Wu:t.constructor.name});n=At.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new ct(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(At.min())?mn.exists(!1):mn.updateTime(n):mn.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(At.min()))throw new ct(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mn.updateTime(n)}return mn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new xp(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const t=new oN(this.datastore),n=this.Ju(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(t){try{const n=this.updateFunction(t);return!lu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(t){this.Gu>0&&this.Yu(t)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(t)}Yu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!_A(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class uN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ht(As,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ht(As,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Bp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Em(r,t){r.asyncQueue.verifyOperationInProgress(),ht(As,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await VA(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>{gs("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{ht("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{gs("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=t}async function t0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await cN(r);ht(As,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>YE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>YE(t.remoteStore,o))),r._onlineComponents=t}async function cN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(As,"Using user provided OfflineComponentProvider");try{await Em(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;gs("Error using user provided cache. Falling back to memory cache: "+n),await Em(r,new Ch)}}else ht(As,"Using default OfflineComponentProvider"),await Em(r,new sN(void 0));return r._offlineComponents}async function Fp(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(As,"Using user provided OnlineComponentProvider"),await t0(r,r._uninitializedComponentsProvider._online)):(ht(As,"Using default OnlineComponentProvider"),await t0(r,new Xm))),r._onlineComponents}function hN(r){return Fp(r).then((t=>t.syncEngine))}function fN(r){return Fp(r).then((t=>t.datastore))}async function e0(r){const t=await Fp(r),n=t.eventManager;return n.onListen=QO.bind(null,t.syncEngine),n.onUnlisten=XO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=KO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=$O.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firestore.googleapis.com",i0=!0;class r0{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$A,this.ssl=i0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:i0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<zD)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}R2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XA((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new y2;switch(s.type){case"firstParty":return new T2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=n0.get(n);s&&(ht("ComponentProvider","Removing Datastore"),n0.delete(n),s.terminate())})(this),Promise.resolve()}}function dN(r,t,n,s={}){var o;r=ds(r,Xh);const u=Eo(t),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${n}`;u&&(F0(`https://${g}`),G0("Firestore",!0)),f.host!==$A&&f.host!==g&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:g,ssl:u,emulatorOptions:s});if(!na(y,m)&&(r._setSettings(y),s.mockUserToken)){let E,A;if(typeof s.mockUserToken=="string")E=s.mockUserToken,A=rn.MOCK_USER;else{E=Fw(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new rn(b)}r._authCredentials=new _2(new UT(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Io(this.firestore,t,this._query)}}class Ae{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ae(this.firestore,t,this._key)}toJSON(){return{type:Ae._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(ou(n,Ae._jsonSchema))return new Ae(t,s||null,new yt(ne.fromString(n.referencePath)))}}Ae._jsonSchemaVersion="firestore/documentReference/1.0",Ae._jsonSchema={type:Oe("string",Ae._jsonSchemaVersion),referencePath:Oe("string")};class ms extends Io{constructor(t,n,s){super(t,n,wp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ae(this.firestore,null,new yt(t))}withConverter(t){return new ms(this.firestore,t,this._path)}}function Tm(r,t,...n){if(r=Ne(r),BT("collection","path",t),r instanceof Xh){const s=ne.fromString(t,...n);return gE(s),new ms(r,null,s)}{if(!(r instanceof Ae||r instanceof ms))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return gE(s),new ms(r.firestore,null,s)}}function Xc(r,t,...n){if(r=Ne(r),arguments.length===1&&(t=vp.newId()),BT("doc","path",t),r instanceof Xh){const s=ne.fromString(t,...n);return pE(s),new Ae(r,null,new yt(s))}{if(!(r instanceof Ae||r instanceof ms))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return pE(s),new Ae(r.firestore,r instanceof ms?r.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="AsyncQueue";class a0{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new xp(this,"async_queue_retry"),this.oc=()=>{const s=vm();s&&ht(s0,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new fs;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!wo(t))throw t;ht(s0,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((s=>{throw this.tc=s,this.nc=!1,ur("INTERNAL UNHANDLED ERROR: ",o0(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=zp.createAndSchedule(this,t,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&vt(47125,{hc:o0(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function o0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class _o extends Xh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new a0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new a0(t),this._firestoreClient=void 0,await t}}}function mN(r,t){const n=typeof r=="object"?r:X0(),s=typeof r=="string"?r:_h,o=sp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=qw("firestore");u&&dN(o,...u)}return o}function Gp(r){if(r._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pN(r),r._firestoreClient}function pN(r){var t,n,s;const o=r._freezeSettings(),u=(function(m,g,y,E){return new k2(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,XA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new uN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Ze.fromBase64String(t))}catch(n){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xn(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ou(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Oe("string",xn._jsonSchemaVersion),bytes:Oe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(ou(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Oe("string",bi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ou(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new wi(t.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Oe("string",wi._jsonSchemaVersion),vectorValues:Oe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=/^__.*__$/;class yN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new bs(t,this.data,this.fieldMask,n,this.fieldTransforms):new cu(t,this.data,n,this.fieldTransforms)}}class JA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new bs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ec:r})}}class Kp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Kp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Dh(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(ZA(this.Ec)&&gN.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class _N{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Qh(t)}Dc(t,n,s,o=!1){return new Kp({Ec:t,methodName:n,bc:s,path:Je.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yp(r){const t=r._freezeSettings(),n=Qh(r._databaseId);return new _N(r._databaseId,!!t.ignoreUndefinedProperties,n)}function WA(r,t,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,t,n,o);Xp("Data must be an object, but it was:",f,s);const m=tS(s,f);let g,y;if(u.merge)g=new Ln(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const b=$m(t,A,n);if(!f.contains(b))throw new ct(J.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);nS(E,b)||E.push(b)}g=new Ln(E),y=f.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,y=f.fieldTransforms;return new yN(new dn(m),g,y)}class Jh extends Qp{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Jh}}function vN(r,t,n,s){const o=r.Dc(1,t,n);Xp("Data must be an object, but it was:",o,s);const u=[],f=dn.empty();Ss(s,((g,y)=>{const E=$p(t,g,n);y=Ne(y);const A=o.gc(E);if(y instanceof Jh)u.push(E);else{const b=mu(y,A);b!=null&&(u.push(E),f.set(E,b))}}));const m=new Ln(u);return new JA(f,m,o.fieldTransforms)}function EN(r,t,n,s,o,u){const f=r.Dc(1,t,n),m=[$m(t,s,n)],g=[o];if(u.length%2!=0)throw new ct(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push($m(t,u[b])),g.push(u[b+1]);const y=[],E=dn.empty();for(let b=m.length-1;b>=0;--b)if(!nS(y,m[b])){const L=m[b];let q=g[b];q=Ne(q);const K=f.gc(L);if(q instanceof Jh)y.push(L);else{const j=mu(q,K);j!=null&&(y.push(L),E.set(L,j))}}const A=new Ln(y);return new JA(E,A,f.fieldTransforms)}function TN(r,t,n,s=!1){return mu(n,r.Dc(s?4:3,t))}function mu(r,t){if(eS(r=Ne(r)))return Xp("Unsupported field value:",t,r),tS(r,t);if(r instanceof Qp)return(function(s,o){if(!ZA(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=mu(m,o.yc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Ne(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return aD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=le.fromDate(s);return{timestampValue:bh(o.serializer,u)}}if(s instanceof le){const u=new le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(s instanceof bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xn)return{bytesValue:AA(o.serializer,s._byteString)};if(s instanceof Ae){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof wi)return(function(f,m){return{mapValue:{fields:{[XT]:{stringValue:$T},[vh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.wc("VectorValues must only contain numeric values.");return Rp(m.serializer,y)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${kh(s)}`)})(r,t)}function tS(r,t){const n={};return HT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ss(r,((s,o)=>{const u=mu(o,t.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function eS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof le||r instanceof bi||r instanceof xn||r instanceof Ae||r instanceof Qp||r instanceof wi)}function Xp(r,t,n){if(!eS(n)||!jT(n)){const s=kh(n);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function $m(r,t,n){if((t=Ne(t))instanceof $h)return t._internalPath;if(typeof t=="string")return $p(r,t);throw Dh("Field path arguments must be of type string or ",r,!1,void 0,n)}const AN=new RegExp("[~\\*/\\[\\]]");function $p(r,t,n){if(t.search(AN)>=0)throw Dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new $h(...t.split("."))._internalPath}catch{throw Dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Dh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ct(J.INVALID_ARGUMENT,m+r+g)}function nS(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ae(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new SN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Jp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SN extends Oh{data(){return super.data()}}function Jp(r,t){return typeof t=="string"?$p(r,t):t instanceof $h?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class wN extends Zp{}function Am(r,t,...n){let s=[];t instanceof Zp&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Wp)).length,m=u.filter((g=>g instanceof Zh)).length;if(f>1||f>0&&m>0)throw new ct(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Zh extends wN{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Zh(t,n,s)}_apply(t){const n=this._parse(t);return iS(t._query,n),new Io(t.firestore,t.converter,Bm(t._query,n))}_parse(t){const n=Yp(t.firestore);return(function(u,f,m,g,y,E,A){let b;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){h0(A,E);const q=[];for(const K of A)q.push(c0(g,u,K));b={arrayValue:{values:q}}}else b=c0(g,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||h0(A,E),b=TN(m,f,A,E==="in"||E==="not-in");return De.create(y,E,b)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function u0(r,t,n){const s=t,o=Jp("where",r);return Zh._create(o,s,n)}class Wp extends Zp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Wp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:oi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)iS(f,g),f=Bm(f,g)})(t._query,n),new Io(t.firestore,t.converter,Bm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function c0(r,t,n){if(typeof(n=Ne(n))=="string"){if(n==="")throw new ct(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rA(t)&&n.indexOf("/")!==-1)throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!yt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return bE(r,new yt(s))}if(n instanceof Ae)return bE(r,n._key);throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(n)}.`)}function h0(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class rS{convertValue(t,n="none"){switch(Es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(vs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ss(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[vh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>Te(f.doubleValue)));return new wi(u)}convertGeoPoint(t){return new bi(Te(t.latitude),Te(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=zh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Kl(t));default:return null}}convertTimestamp(t){const n=_s(t);return new le(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Gt(DA(s),9688,{name:t});const o=new Yl(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||ur(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class RN extends rS{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ae(this.firestore,null,n)}}class ro{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ps extends Oh{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Jp("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ps._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",ps._jsonSchema={type:Oe("string",ps._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class oh extends ps{data(t={}){return super.data(t)}}class uo{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ro(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new oh(this._firestore,this._userDataWriter,s.key,s,new ro(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ro(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ro(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:IN(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=uo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function IN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Oe("string",uo._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class tg extends rS{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ae(this.firestore,null,n)}}function f0(r,t,n){r=ds(r,Ae);const s=ds(r.firestore,_o),o=sS(r.converter,t,n);return aS(s,[WA(Yp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,mn.none())])}function CN(r){return aS(ds(r.firestore,_o),[new Fh(r._key,mn.none())])}function Sm(r,...t){var n,s,o;r=Ne(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||l0(t[f])||(u=t[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(l0(t[f])){const A=t[f];t[f]=(n=A.next)===null||n===void 0?void 0:n.bind(A),t[f+1]=(s=A.error)===null||s===void 0?void 0:s.bind(A),t[f+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let g,y,E;if(r instanceof Ae)y=ds(r.firestore,_o),E=wp(r._key.path),g={next:A=>{t[f]&&t[f](DN(y,r,A))},error:t[f+1],complete:t[f+2]};else{const A=ds(r,Io);y=ds(A.firestore,_o),E=A._query;const b=new tg(y);g={next:L=>{t[f]&&t[f](new uo(y,b,A,L))},error:t[f+1],complete:t[f+2]},bN(r._query)}return(function(b,L,q,K){const j=new aN(K),it=new jO(L,j,q);return b.asyncQueue.enqueueAndForget((async()=>kO(await e0(b),it))),()=>{j.Ou(),b.asyncQueue.enqueueAndForget((async()=>UO(await e0(b),it)))}})(Gp(y),E,m,g)}function aS(r,t){return(function(s,o){const u=new fs;return s.asyncQueue.enqueueAndForget((async()=>JO(await hN(s),o,u))),u.promise})(Gp(r),t)}function DN(r,t,n){const s=n.docs.get(t._key),o=new tg(r);return new ps(r,o,t._key,s,new ro(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={maxAttempts:5};function Ll(r,t){if((r=Ne(r)).firestore!==t)throw new ct(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Yp(t)}get(t){const n=Ll(t,this._firestore),s=new RN(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return vt(24041);const u=o[0];if(u.isFoundDocument())return new Oh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Oh(this._firestore,s,n._key,null,n.converter);throw vt(18433,{doc:u})}))}set(t,n,s){const o=Ll(t,this._firestore),u=sS(o.converter,n,s),f=WA(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(t,n,s,...o){const u=Ll(t,this._firestore);let f;return f=typeof(n=Ne(n))=="string"||n instanceof $h?EN(this._dataReader,"Transaction.update",u._key,n,s,o):vN(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(t){const n=Ll(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN extends NN{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Ll(t,this._firestore),s=new tg(this._firestore);return super.get(t).then((o=>new ps(this._firestore,s,n._key,o._document,new ro(!1,!1),n.converter)))}}function MN(r,t,n){r=ds(r,_o);const s=Object.assign(Object.assign({},ON),n);return(function(u){if(u.maxAttempts<1)throw new ct(J.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const g=new fs;return u.asyncQueue.enqueueAndForget((async()=>{const y=await fN(u);new lN(u.asyncQueue,y,m,f,g).zu()})),g.promise})(Gp(r),(o=>t(new VN(r,o))),s)}(function(t,n=!0){(function(o){So=o})(To),co(new ia("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new _o(new v2(s.getProvider("auth-internal")),new A2(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(y.options.projectId,E)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),us(cE,hE,t),us(cE,hE,"esm2017")})();var xN="firebase",LN="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(xN,LN,"app");const PN={apiKey:"AIzaSyCEUaqAGQBy_-tQEjnkNGYMXRk7YRaCAjI",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.firebasestorage.app",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},oS=Y0(PN),io=p2(oS),d0=new nr,ns=mN(oS);F.useEffect(()=>{try{_T(io,mp)}catch(r){console.warn("Failed to set auth persistence",r)}},[]);const Ei=r=>(r||"").toLowerCase().replace(/[!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~]/g," ").replace(/\s+/g," ").trim(),kN=r=>(r||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim(),m0=({children:r})=>Ut.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:r});function UN(){const[r,t]=F.useState(null),[n,s]=F.useState(!0),[o,u]=F.useState(null),[f,m]=F.useState([]),[g,y]=F.useState([]),[E,A]=F.useState("list"),[b,L]=F.useState(null),[q,K]=F.useState("continuous"),[j,it]=F.useState(!1),[st,tt]=F.useState(""),mt=er.useRef(null),St=er.useRef(!1),Et=er.useRef(!1),D=er.useRef(null),w=er.useRef(null),R=er.useRef(null),V=er.useRef(null),M=er.useRef([]);F.useEffect(()=>{V.current=(o==null?void 0:o.id)??null},[o==null?void 0:o.id]),F.useEffect(()=>{M.current=f},[f]),F.useEffect(()=>iC(io,async et=>{t(et),s(!1)}),[]);const P=async()=>{try{await _T(io,mp)}catch{}try{await SC(io,d0)}catch(et){console.warn("Popup sign-in failed, trying redirect",et),await DC(io,d0)}},C=async()=>{try{await rC(io)}catch{}};F.useEffect(()=>{if(!b)return;const et=setTimeout(()=>L(null),2500);return()=>clearTimeout(et)},[b]);const Ct=et=>{try{const nt=new SpeechSynthesisUtterance(et);nt.lang="he-IL",window.speechSynthesis.cancel(),window.speechSynthesis.speak(nt)}catch{}},ce=()=>{D.current&&(clearTimeout(D.current),D.current=null),w.current&&(clearTimeout(w.current),w.current=null)},Q=()=>{var et,nt;ce(),St.current=!1,Et.current=!1,R.current=null,it(!1);try{Ct(" ")}catch{}try{(nt=(et=mt.current)==null?void 0:et.stop)==null||nt.call(et)}catch{}},lt=()=>{ce(),D.current=setTimeout(()=>{(St.current||j)&&Q()},12e3),w.current=setTimeout(()=>{Q()},6e4)},pt=et=>{const nt=M.current??f,ut=Ei(et),at=nt.find(gt=>Ei(gt.name)===ut);return at||nt.find(gt=>Ei(gt.name).includes(ut)||ut.includes(Ei(gt.name)))||null};F.useEffect(()=>{if(!(r!=null&&r.uid))return;const et=Am(Tm(ns,"lists"),u0("members","array-contains",r.uid)),nt=Sm(et,ut=>{const at=ut.docs.map(Ot=>({id:Ot.id,...Ot.data()}));at.length?u({id:at[0].id,title:at[0].title||" ",ownerUid:at[0].ownerUid,members:at[0].members||[],createdAt:at[0].createdAt||Date.now()}):u(null)});return()=>nt()},[r==null?void 0:r.uid]),F.useEffect(()=>{if(!(o!=null&&o.id))return;const et=Am(Tm(ns,"lists",o.id,"items")),nt=Sm(et,ut=>{const Ot=ut.docs.map(gt=>({id:gt.id,...gt.data()})).map(gt=>({id:gt.id,name:gt.name,quantity:Number(gt.quantity||1),isPurchased:!!gt.isPurchased,isFavorite:!!gt.isFavorite,createdAt:Number(gt.createdAt||Date.now())})).sort((gt,de)=>gt.isPurchased===de.isPurchased?gt.createdAt-de.createdAt:gt.isPurchased?1:-1);m(Ot)});return()=>nt()},[o==null?void 0:o.id]),F.useEffect(()=>{if(!(r!=null&&r.uid))return;const et=Am(Tm(ns,"favorites"),u0("uid","==",r.uid)),nt=Sm(et,ut=>{const Ot=ut.docs.map(gt=>({id:gt.id,...gt.data()})).map(gt=>({id:gt.id,name:gt.name,createdAt:Number(gt.createdAt||Date.now())})).sort((gt,de)=>gt.name.localeCompare(de.name,"he"));y(Ot)});return()=>nt()},[r==null?void 0:r.uid]);const Mt=async(et,nt)=>{if(!(o!=null&&o.id))return;const ut=Xc(ns,"lists",o.id,"items",et);await MN(ns,async at=>{const Ot=await at.get(ut);if(!Ot.exists())return;const gt=Ot.data(),de=Math.max(1,Number(gt.quantity||1)+nt);at.update(ut,{quantity:de})})},jt=et=>et.replace(/\s+\s+/g,",").replace(/\s+\s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+ \s+/g,",").split(/,|\n/).map(nt=>nt.trim()).filter(Boolean),O=async et=>{const nt=V.current||(o==null?void 0:o.id);if(!nt)return;const ut=M.current||f,at=Ei(et);if(!at)return;if(at.includes(" ")||at===""){K("continuous"),Ct("   ");return}if(at.includes("  ")||at.includes(" ")||at===""){K("once"),Ct("    ");return}if(at.includes("")){A("list"),Ct(" ");return}if(at.includes("")||at.includes("")){A("favorites"),Ct(" ");return}if(at===""||at===""||at===""||at===" "||at===" "||at===" "){Ct("  ?");return}const Ot=at.match(/^(|||)(?:\s+)?\s+(\d+)\s+(.+)$/);if(Ot){const re=Math.max(1,Number(Ot[2]||1)),qt=Ot[3].trim();if(!qt)return;const qe=ut.find(Ci=>!Ci.isPurchased&&Ei(Ci.name)===Ei(qt));if(qe){await Mt(qe.id,re),Ct(` ${qe.name} ${re}`);return}const pn=crypto.randomUUID(),Zn={id:pn,name:qt,quantity:re,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await f0(Xc(ns,"lists",nt,"items",pn),Zn),Ct(` ${qt} ${re}`);return}const gt=at.match(/^(|||)(?:\s+)?\s+(.+)$/);if(gt){const re=gt[2].trim();if(!re)return;const qt=ut.find(Zn=>!Zn.isPurchased&&Ei(Zn.name)===Ei(re));if(qt){await Mt(qt.id,1),Ct(` ${qt.name}`);return}const qe=crypto.randomUUID(),pn={id:qe,name:re,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await f0(Xc(ns,"lists",nt,"items",qe),pn),Ct(` ${re}`);return}const de=at.match(/^(||)(?:\s+)?\s+(.+)$/);if(de){const re=de[2].trim(),qt=pt(re);if(!qt){Ct("    ");return}await CN(Xc(ns,"lists",nt,"items",qt.id)),Ct(` ${qt.name}`);return}const an=at.match(/^(||)\s+(.+)$/);if(an){const re=an[2].trim(),qt=pt(re);if(!qt){Ct("    ");return}await Mt(qt.id,1),Ct(` ${qt.name}`);return}const bn=at.match(/^(||)\s+(.+)$/);if(bn){const re=bn[2].trim(),qt=pt(re);if(!qt){Ct("    ");return}await Mt(qt.id,-1),Ct(` ${qt.name}`);return}Ct("   ")},X=async et=>{const nt=Ei(et);if(!nt)return;const ut=nt.match(/(||||||)\s+[^,]+/g);if(ut&&ut.length>1){for(const at of ut)await O(at.trim());return}if(/^(|||)/.test(nt)){R.current="add";const at=nt.replace(/^(|||)(?:\s+)?\s*/,"").trim();if(!at){Ct("  ?");return}for(const Ot of jt(at))await O(` ${Ot}`);return}if(/^(||)/.test(nt)){R.current="delete";const at=nt.replace(/^(||)(?:\s+)?\s*/,"").trim();if(!at){Ct("  ?");return}for(const Ot of jt(at))await O(` ${Ot}`);return}if(R.current==="add"){for(const at of jt(nt))await O(` ${at}`);return}if(R.current==="delete"){for(const at of jt(nt))await O(` ${at}`);return}await O(nt)},rt=()=>{const et=window.SpeechRecognition||window.webkitSpeechRecognition;if(!et){alert("    .  Chrome  Edge.");return}if(j){Q();return}if(mt.current){try{mt.current.stop()}catch{}mt.current=null}const nt=new et;mt.current=nt,nt.lang="he-IL",nt.interimResults=!1,nt.maxAlternatives=1,nt.continuous=q==="continuous",nt.onstart=()=>{it(!0),lt(),Et.current&&(Ct(" "),Et.current=!1)},nt.onerror=ut=>{console.error("Speech error",ut),ce(),it(!1),St.current=!1;const at=String((ut==null?void 0:ut.error)||"");(at==="not-allowed"||at==="service-not-allowed")&&alert("  .     .")},nt.onresult=async ut=>{var bn,re,qt,qe,pn,Zn;ce();const at=typeof(ut==null?void 0:ut.resultIndex)=="number"?ut.resultIndex:0,Ot=(re=(bn=ut==null?void 0:ut.results)==null?void 0:bn[at])==null?void 0:re[0],de=((Ot==null?void 0:Ot.transcript)||"").trim()||String(((Zn=(pn=(qe=ut==null?void 0:ut.results)==null?void 0:qe[((qt=ut==null?void 0:ut.results)==null?void 0:qt.length)-1])==null?void 0:pn[0])==null?void 0:Zn.transcript)||"").trim(),an=kN(de);tt(an);try{await X(an)}catch(Ci){console.error(Ci),Ct("   ")}finally{q==="continuous"&&lt(),q==="once"&&Q()}},nt.onend=()=>{if(ce(),it(!1),q==="continuous"&&St.current)try{nt.start()}catch{}},St.current=q==="continuous",Et.current=!0,R.current=null;try{nt.start()}catch(ut){console.error(ut),Q()}};return F.useEffect(()=>()=>{var et,nt;try{(nt=(et=mt.current)==null?void 0:et.stop)==null||nt.call(et)}catch{}},[]),n?Ut.jsx(m0,{children:Ut.jsxs("div",{className:"flex items-center gap-2 text-lg",children:[Ut.jsx(Iw,{className:"animate-spin"}),"..."]})}):r?Ut.jsxs("div",{className:"min-h-screen bg-gray-50",children:[Ut.jsxs("header",{className:"sticky top-0 z-10 bg-white border-b",children:[Ut.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-3 flex items-center justify-between",children:[Ut.jsxs("div",{className:"flex items-center gap-2",children:[Ut.jsx(Vw,{}),Ut.jsx("div",{className:"font-bold",children:(o==null?void 0:o.title)||" "})]}),Ut.jsxs("div",{className:"flex items-center gap-2",children:[Ut.jsxs("button",{onClick:()=>{K("continuous"),St.current=!0,Et.current=!0,rt()},className:"px-3 py-2 rounded-xl bg-indigo-600 text-white flex items-center gap-2",title:"AI ",children:[Ut.jsx(Mw,{size:16}),"AI",j?Ut.jsx(Nw,{size:16}):Ut.jsx(Ow,{size:16})]}),Ut.jsxs("button",{onClick:C,className:"px-3 py-2 rounded-xl bg-gray-200 flex items-center gap-2",children:[Ut.jsx(Dw,{size:16}),""]})]})]}),st?Ut.jsxs("div",{className:"max-w-3xl mx-auto px-4 pb-2 text-sm text-gray-600",children:[": ",st]}):null]}),Ut.jsxs("main",{className:"max-w-3xl mx-auto p-4 space-y-4",children:[Ut.jsxs("div",{className:"flex gap-2",children:[Ut.jsx("button",{onClick:()=>A("list"),className:`flex-1 py-2 rounded-xl border ${E==="list"?"bg-black text-white":"bg-white"}`,children:""}),Ut.jsx("button",{onClick:()=>A("favorites"),className:`flex-1 py-2 rounded-xl border ${E==="favorites"?"bg-black text-white":"bg-white"}`,children:""})]}),Ut.jsx("div",{className:"text-gray-500 text-sm",children:"        (UI )  ,   -       ,     -AI ."})]}),b?Ut.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-xl shadow",children:b}):null]}):Ut.jsx(m0,{children:Ut.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow p-6 space-y-4",children:[Ut.jsx("div",{className:"text-xl font-bold",children:"  "}),Ut.jsx("div",{className:"text-gray-600",children:"  ,    Google."}),Ut.jsxs("button",{onClick:P,className:"w-full flex items-center justify-center gap-2 bg-black text-white rounded-xl py-3",children:[Ut.jsx(Cw,{size:18}),"  Google"]})]})})}function zN(){return Ut.jsx(mw,{children:Ut.jsx(Fb,{children:Ut.jsx(N0,{path:"/*",element:Ut.jsx(UN,{})})})})}const lS=document.getElementById("root");if(!lS)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",r=>{const t=(r==null?void 0:r.message)||"unknown",n=r==null?void 0:r.error;console.error("WINDOW_ERROR:",t,n),alert("WINDOW_ERROR: "+t)});window.addEventListener("unhandledrejection",r=>{const t=r==null?void 0:r.reason;console.error("UNHANDLED_REJECTION:",t);let n="";try{typeof t=="string"?n=t:t!=null&&t.message?n=t.message:n=JSON.stringify(t)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());Q1.createRoot(lS).render(Ut.jsx(er.StrictMode,{children:Ut.jsx(zN,{})}));
