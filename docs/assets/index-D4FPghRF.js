(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function sw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Vm={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function aw(){if(ov)return Hl;ov=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=t,Hl.jsx=n,Hl.jsxs=n,Hl}var lv;function ow(){return lv||(lv=1,Vm.exports=aw()),Vm.exports}var X=ow(),Um={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function lw(){if(uv)return Ct;uv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,D={};function et(L,Q,st){this.props=L,this.context=Q,this.refs=D,this.updater=st||V}et.prototype.isReactComponent={},et.prototype.setState=function(L,Q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Q,"setState")},et.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function rt(){}rt.prototype=et.prototype;function Z(L,Q,st){this.props=L,this.context=Q,this.refs=D,this.updater=st||V}var mt=Z.prototype=new rt;mt.constructor=Z,z(mt,et.prototype),mt.isPureReactComponent=!0;var It=Array.isArray;function Et(){}var O={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function w(L,Q,st){var ht=st.ref;return{$$typeof:i,type:L,key:Q,ref:ht!==void 0?ht:null,props:st}}function x(L,Q){return w(L.type,Q,L.props)}function U(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function P(L){var Q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(st){return Q[st]})}var C=/\/+/g;function _e(L,Q){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):Q.toString(36)}function ze(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(Et,Et):(L.status="pending",L.then(function(Q){L.status==="pending"&&(L.status="fulfilled",L.value=Q)},function(Q){L.status==="pending"&&(L.status="rejected",L.reason=Q)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function K(L,Q,st,ht,At){var Dt=typeof L;(Dt==="undefined"||Dt==="boolean")&&(L=null);var wt=!1;if(L===null)wt=!0;else switch(Dt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(L.$$typeof){case i:case t:wt=!0;break;case v:return wt=L._init,K(wt(L._payload),Q,st,ht,At)}}if(wt)return At=At(L),wt=ht===""?"."+_e(L,0):ht,It(At)?(st="",wt!=null&&(st=wt.replace(C,"$&/")+"/"),K(At,Q,st,"",function(Xn){return Xn})):At!=null&&(U(At)&&(At=x(At,st+(At.key==null||L&&L.key===At.key?"":(""+At.key).replace(C,"$&/")+"/")+wt)),Q.push(At)),1;wt=0;var Lt=ht===""?".":ht+":";if(It(L))for(var ne=0;ne<L.length;ne++)ht=L[ne],Dt=Lt+_e(ht,ne),wt+=K(ht,Q,st,Dt,At);else if(ne=b(L),typeof ne=="function")for(L=ne.call(L),ne=0;!(ht=L.next()).done;)ht=ht.value,Dt=Lt+_e(ht,ne++),wt+=K(ht,Q,st,Dt,At);else if(Dt==="object"){if(typeof L.then=="function")return K(ze(L),Q,st,ht,At);throw Q=String(L),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return wt}function lt(L,Q,st){if(L==null)return L;var ht=[],At=0;return K(L,ht,"","",function(Dt){return Q.call(st,Dt,At++)}),ht}function gt(L){if(L._status===-1){var Q=L._result;Q=Q(),Q.then(function(st){(L._status===0||L._status===-1)&&(L._status=1,L._result=st)},function(st){(L._status===0||L._status===-1)&&(L._status=2,L._result=st)}),L._status===-1&&(L._status=0,L._result=Q)}if(L._status===1)return L._result.default;throw L._result}var xt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Yt={map:lt,forEach:function(L,Q,st){lt(L,function(){Q.apply(this,arguments)},st)},count:function(L){var Q=0;return lt(L,function(){Q++}),Q},toArray:function(L){return lt(L,function(Q){return Q})||[]},only:function(L){if(!U(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ct.Activity=T,Ct.Children=Yt,Ct.Component=et,Ct.Fragment=n,Ct.Profiler=o,Ct.PureComponent=Z,Ct.StrictMode=s,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(L){return O.H.useMemoCache(L)}},Ct.cache=function(L){return function(){return L.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(L,Q,st){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ht=z({},L.props),At=L.key;if(Q!=null)for(Dt in Q.key!==void 0&&(At=""+Q.key),Q)!R.call(Q,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&Q.ref===void 0||(ht[Dt]=Q[Dt]);var Dt=arguments.length-2;if(Dt===1)ht.children=st;else if(1<Dt){for(var wt=Array(Dt),Lt=0;Lt<Dt;Lt++)wt[Lt]=arguments[Lt+2];ht.children=wt}return w(L.type,At,ht)},Ct.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},Ct.createElement=function(L,Q,st){var ht,At={},Dt=null;if(Q!=null)for(ht in Q.key!==void 0&&(Dt=""+Q.key),Q)R.call(Q,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(At[ht]=Q[ht]);var wt=arguments.length-2;if(wt===1)At.children=st;else if(1<wt){for(var Lt=Array(wt),ne=0;ne<wt;ne++)Lt[ne]=arguments[ne+2];At.children=Lt}if(L&&L.defaultProps)for(ht in wt=L.defaultProps,wt)At[ht]===void 0&&(At[ht]=wt[ht]);return w(L,Dt,At)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(L){return{$$typeof:m,render:L}},Ct.isValidElement=U,Ct.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:gt}},Ct.memo=function(L,Q){return{$$typeof:g,type:L,compare:Q===void 0?null:Q}},Ct.startTransition=function(L){var Q=O.T,st={};O.T=st;try{var ht=L(),At=O.S;At!==null&&At(st,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(Et,xt)}catch(Dt){xt(Dt)}finally{Q!==null&&st.types!==null&&(Q.types=st.types),O.T=Q}},Ct.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ct.use=function(L){return O.H.use(L)},Ct.useActionState=function(L,Q,st){return O.H.useActionState(L,Q,st)},Ct.useCallback=function(L,Q){return O.H.useCallback(L,Q)},Ct.useContext=function(L){return O.H.useContext(L)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(L,Q){return O.H.useDeferredValue(L,Q)},Ct.useEffect=function(L,Q){return O.H.useEffect(L,Q)},Ct.useEffectEvent=function(L){return O.H.useEffectEvent(L)},Ct.useId=function(){return O.H.useId()},Ct.useImperativeHandle=function(L,Q,st){return O.H.useImperativeHandle(L,Q,st)},Ct.useInsertionEffect=function(L,Q){return O.H.useInsertionEffect(L,Q)},Ct.useLayoutEffect=function(L,Q){return O.H.useLayoutEffect(L,Q)},Ct.useMemo=function(L,Q){return O.H.useMemo(L,Q)},Ct.useOptimistic=function(L,Q){return O.H.useOptimistic(L,Q)},Ct.useReducer=function(L,Q,st){return O.H.useReducer(L,Q,st)},Ct.useRef=function(L){return O.H.useRef(L)},Ct.useState=function(L){return O.H.useState(L)},Ct.useSyncExternalStore=function(L,Q,st){return O.H.useSyncExternalStore(L,Q,st)},Ct.useTransition=function(){return O.H.useTransition()},Ct.version="19.2.3",Ct}var cv;function zp(){return cv||(cv=1,Um.exports=lw()),Um.exports}var G=zp();const rp=sw(G);var Pm={exports:{}},Fl={},km={exports:{}},Bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function uw(){return hv||(hv=1,(function(i){function t(K,lt){var gt=K.length;K.push(lt);t:for(;0<gt;){var xt=gt-1>>>1,Yt=K[xt];if(0<o(Yt,lt))K[xt]=lt,K[gt]=Yt,gt=xt;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var lt=K[0],gt=K.pop();if(gt!==lt){K[0]=gt;t:for(var xt=0,Yt=K.length,L=Yt>>>1;xt<L;){var Q=2*(xt+1)-1,st=K[Q],ht=Q+1,At=K[ht];if(0>o(st,gt))ht<Yt&&0>o(At,st)?(K[xt]=At,K[ht]=gt,xt=ht):(K[xt]=st,K[Q]=gt,xt=Q);else if(ht<Yt&&0>o(At,gt))K[xt]=At,K[ht]=gt,xt=ht;else break t}}return lt}function o(K,lt){var gt=K.sortIndex-lt.sortIndex;return gt!==0?gt:K.id-lt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,T=null,S=3,b=!1,V=!1,z=!1,D=!1,et=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function mt(K){for(var lt=n(g);lt!==null;){if(lt.callback===null)s(g);else if(lt.startTime<=K)s(g),lt.sortIndex=lt.expirationTime,t(p,lt);else break;lt=n(g)}}function It(K){if(z=!1,mt(K),!V)if(n(p)!==null)V=!0,Et||(Et=!0,P());else{var lt=n(g);lt!==null&&ze(It,lt.startTime-K)}}var Et=!1,O=-1,R=5,w=-1;function x(){return D?!0:!(i.unstable_now()-w<R)}function U(){if(D=!1,Et){var K=i.unstable_now();w=K;var lt=!0;try{t:{V=!1,z&&(z=!1,rt(O),O=-1),b=!0;var gt=S;try{e:{for(mt(K),T=n(p);T!==null&&!(T.expirationTime>K&&x());){var xt=T.callback;if(typeof xt=="function"){T.callback=null,S=T.priorityLevel;var Yt=xt(T.expirationTime<=K);if(K=i.unstable_now(),typeof Yt=="function"){T.callback=Yt,mt(K),lt=!0;break e}T===n(p)&&s(p),mt(K)}else s(p);T=n(p)}if(T!==null)lt=!0;else{var L=n(g);L!==null&&ze(It,L.startTime-K),lt=!1}}break t}finally{T=null,S=gt,b=!1}lt=void 0}}finally{lt?P():Et=!1}}}var P;if(typeof Z=="function")P=function(){Z(U)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,_e=C.port2;C.port1.onmessage=U,P=function(){_e.postMessage(null)}}else P=function(){et(U,0)};function ze(K,lt){O=et(function(){K(i.unstable_now())},lt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(K){switch(S){case 1:case 2:case 3:var lt=3;break;default:lt=S}var gt=S;S=lt;try{return K()}finally{S=gt}},i.unstable_requestPaint=function(){D=!0},i.unstable_runWithPriority=function(K,lt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var gt=S;S=K;try{return lt()}finally{S=gt}},i.unstable_scheduleCallback=function(K,lt,gt){var xt=i.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?xt+gt:xt):gt=xt,K){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=gt+Yt,K={id:v++,callback:lt,priorityLevel:K,startTime:gt,expirationTime:Yt,sortIndex:-1},gt>xt?(K.sortIndex=gt,t(g,K),n(p)===null&&K===n(g)&&(z?(rt(O),O=-1):z=!0,ze(It,gt-xt))):(K.sortIndex=Yt,t(p,K),V||b||(V=!0,Et||(Et=!0,P()))),K},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(K){var lt=S;return function(){var gt=S;S=lt;try{return K.apply(this,arguments)}finally{S=gt}}}})(Bm)),Bm}var fv;function cw(){return fv||(fv=1,km.exports=uw()),km.exports}var zm={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function hw(){if(dv)return hn;dv=1;var i=zp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},hn.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},hn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},hn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},hn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:b}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},hn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},hn.requestFormReset=function(p){s.d.r(p)},hn.unstable_batchedUpdates=function(p,g){return p(g)},hn.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},hn.useFormStatus=function(){return h.H.useHostTransitionStatus()},hn.version="19.2.3",hn}var mv;function fw(){if(mv)return zm.exports;mv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),zm.exports=hw(),zm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function dw(){if(pv)return Fl;pv=1;var i=cw(),t=zp(),n=fw();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var y=!1,A=f.child;A;){if(A===a){y=!0,a=f,l=d;break}if(A===l){y=!0,l=f,a=d;break}A=A.sibling}if(!y){for(A=d.child;A;){if(A===a){y=!0,a=d,l=f;break}if(A===l){y=!0,l=d,a=f;break}A=A.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function v(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=v(e),r!==null)return r;e=e.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function _e(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case et:return"Profiler";case D:return"StrictMode";case It:return"Suspense";case Et:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case Z:return e.displayName||"Context";case rt:return(e._context.displayName||"Context")+".Consumer";case mt:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return r=e.displayName||null,r!==null?r:_e(e.type)||"Memo";case R:r=e._payload,e=e._init;try{return _e(e(r))}catch{}}return null}var ze=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},xt=[],Yt=-1;function L(e){return{current:e}}function Q(e){0>Yt||(e.current=xt[Yt],xt[Yt]=null,Yt--)}function st(e,r){Yt++,xt[Yt]=e.current,e.current=r}var ht=L(null),At=L(null),Dt=L(null),wt=L(null);function Lt(e,r){switch(st(Dt,r),st(At,e),st(ht,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?OE(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=OE(r),e=DE(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(ht),st(ht,e)}function ne(){Q(ht),Q(At),Q(Dt)}function Xn(e){e.memoizedState!==null&&st(wt,e);var r=ht.current,a=DE(r,e.type);r!==a&&(st(At,e),st(ht,a))}function wn(e){At.current===e&&(Q(ht),Q(At)),wt.current===e&&(Q(wt),kl._currentValue=gt)}var Hi,it;function at(e){if(Hi===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Hi=r&&r[1]||"",it=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hi+e+it}var ft=!1;function Pt(e,r){if(!e||ft)return"";ft=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(q){var F=q}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(q){F=q}e.call(tt.prototype)}}else{try{throw Error()}catch(q){F=q}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(q){if(q&&F&&typeof q.stack=="string")return[q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],A=d[1];if(y&&A){var N=y.split(`
`),H=A.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===H.length)for(l=N.length-1,f=H.length-1;1<=l&&0<=f&&N[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==H[f]){var $=`
`+N[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=f);break}}}finally{ft=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?at(a):""}function le(e,r){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return e.child!==r&&r!==null?at("Suspense Fallback"):at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return Pt(e.type,!1);case 11:return Pt(e.type.render,!1);case 1:return Pt(e.type,!0);case 31:return at("Activity");default:return""}}function Cn(e){try{var r="",a=null;do r+=le(e,a),a=e,e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var me=Object.prototype.hasOwnProperty,je=i.unstable_scheduleCallback,Gt=i.unstable_cancelCallback,Nt=i.unstable_shouldYield,Oe=i.unstable_requestPaint,ue=i.unstable_now,Jn=i.unstable_getCurrentPriorityLevel,pe=i.unstable_ImmediatePriority,Ge=i.unstable_UserBlockingPriority,Fi=i.unstable_NormalPriority,Du=i.unstable_LowPriority,Ho=i.unstable_IdlePriority,Lf=i.log,Bs=i.unstable_setDisableYieldValue,wr=null,un=null;function Wn(e){if(typeof Lf=="function"&&Bs(e),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(wr,e)}catch{}}var _n=Math.clz32?Math.clz32:Mu,Vf=Math.log,Fo=Math.LN2;function Mu(e){return e>>>=0,e===0?32:31-(Vf(e)/Fo|0)|0}var zs=256,Si=262144,Cr=4194304;function mi(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zn(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=mi(l):(y&=A,y!==0?f=mi(y):a||(a=A&~e,a!==0&&(f=mi(a))))):(A=l&~d,A!==0?f=mi(A):y!==0?f=mi(y):a||(a=l&~e,a!==0&&(f=mi(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Nr(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function ba(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Go(){var e=Cr;return Cr<<=1,(Cr&62914560)===0&&(Cr=4194304),e}function Gi(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Or(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Je(e,r,a,l,f,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,N=e.expirationTimes,H=e.hiddenUpdates;for(a=y&~a;0<a;){var $=31-_n(a),tt=1<<$;A[$]=0,N[$]=-1;var F=H[$];if(F!==null)for(H[$]=null,$=0;$<F.length;$++){var q=F[$];q!==null&&(q.lane&=-536870913)}a&=~tt}l!==0&&qo(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~r))}function qo(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-_n(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Dr(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-_n(a),f=1<<l;f&r|e[l]&r&&(e[l]|=r),a&=~f}}function Mr(e,r){var a=r&-r;return a=(a&42)!==0?1:Yo(a),(a&(e.suspendedLanes|r))!==0?0:a}function Yo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ko(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qi(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:tv(e.type))}function xu(e,r){var a=lt.p;try{return lt.p=e,r()}finally{lt.p=a}}var Ii=Math.random().toString(36).slice(2),Te="__reactFiber$"+Ii,We="__reactProps$"+Ii,Ri="__reactContainer$"+Ii,xr="__reactEvents$"+Ii,bi="__reactListeners$"+Ii,Lu="__reactHandles$"+Ii,$o="__reactResources$"+Ii,Yi="__reactMarker$"+Ii;function js(e){delete e[Te],delete e[We],delete e[xr],delete e[bi],delete e[Lu]}function Ki(e){var r=e[Te];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Ri]||a[Te]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=kE(e);e!==null;){if(a=e[Te])return a;e=kE(e)}return r}e=a,a=e.parentNode}return null}function $i(e){if(e=e[Te]||e[Ri]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function Hs(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function pi(e){var r=e[$o];return r||(r=e[$o]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function be(e){e[Yi]=!0}var wa=new Set,Lr={};function yn(e,r){wi(e,r),wi(e+"Capture",r)}function wi(e,r){for(Lr[e]=r,e=0;e<r.length;e++)wa.add(r[e])}var Uf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Xo={};function Vu(e){return me.call(Xo,e)?!0:me.call(Qo,e)?!1:Uf.test(e)?Xo[e]=!0:(Qo[e]=!0,!1)}function Vr(e,r,a){if(Vu(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Ur(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function ti(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}function En(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uu(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Pf(e,r,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Ca(e){if(!e._valueTracker){var r=Uu(e)?"checked":"value";e._valueTracker=Pf(e,r,""+e[r])}}function Jo(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=Uu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function Na(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qi=/[\n"\\]/g;function Ae(e){return e.replace(Qi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Pr(e,r,a,l,f,d,y,A){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),r!=null?y==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+En(r)):e.value!==""+En(r)&&(e.value=""+En(r)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),r!=null?Oa(e,y,En(r)):a!=null?Oa(e,y,En(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+En(A):e.removeAttribute("name")}function Fs(e,r,a,l,f,d,y,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ca(e);return}a=a!=null?""+En(a):"",r=r!=null?""+En(r):a,A||r===e.value||(e.value=r),e.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Ca(e)}function Oa(e,r,a){r==="number"&&Na(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Qt(e,r,a,l){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+En(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function Gs(e,r,a){if(r!=null&&(r=""+En(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+En(a):""}function kr(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ze(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=En(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Ca(e)}function ei(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var kf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||kf.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Pu(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Wo(e,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Wo(e,d,r[d])}function Zo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ci(e){return zf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qe(){}var Da=null;function Ma(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xi=null,Pn=null;function ku(e){var r=$i(e);if(r&&(e=r.stateNode)){var a=e[We]||null;t:switch(e=r.stateNode,r.type){case"input":if(Pr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ae(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var f=l[We]||null;if(!f)throw Error(s(90));Pr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&Jo(l)}break t;case"textarea":Gs(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Qt(e,!!a.multiple,r,!1)}}}var tl=!1;function Bu(e,r,a){if(tl)return e(r,a);tl=!0;try{var l=e(r);return l}finally{if(tl=!1,(Xi!==null||Pn!==null)&&(Vc(),Xi&&(r=Xi,e=Pn,Pn=Xi=null,ku(r),e)))for(r=0;r<e.length;r++)ku(e[r])}}function Nn(e,r){var a=e.stateNode;if(a===null)return null;var l=a[We]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),el=!1;if(gi)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){el=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{el=!1}var kn=null,xa=null,Oi=null;function Br(){if(Oi)return Oi;var e,r=xa,a=r.length,l,f="value"in kn?kn.value:kn.textContent,d=f.length;for(e=0;e<a&&r[e]===f[e];e++);var y=a-e;for(l=1;l<=y&&r[a-l]===f[d-l];l++);return Oi=f.slice(e,1<l?1-l:void 0)}function qs(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function zr(){return!0}function ce(){return!1}function cn(e){function r(a,l,f,d,y){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zr:ce,this.isPropagationStopped=ce,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),r}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=cn(Ji),jr=T({},Ji,{view:0,detail:0}),zu=cn(jr),Hr,La,vn,Ks=T({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vn&&(vn&&e.type==="mousemove"?(Hr=e.screenX-vn.screenX,La=e.screenY-vn.screenY):La=Hr=0,vn=e),Hr)},movementY:function(e){return"movementY"in e?e.movementY:La}}),ju=cn(Ks),$s=T({},Ks,{dataTransfer:0}),Hu=cn($s),nl=T({},jr,{relatedTarget:0}),Fr=cn(nl),Fu=T({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=cn(Fu),jf=T({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gu=cn(jf),Qs=T({},Ji,{data:0}),il=cn(Qs),qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=sl[e])?!!r[e]:!1}function Gr(){return Yu}var Ku=T({},jr,{key:function(e){if(e.key){var r=qu[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(e){return e.type==="keypress"?qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$u=cn(Ku),Wi=T({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=cn(Wi),Qu=T({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),Xu=cn(Qu),Ju=T({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ua=cn(Ju),Tn=T({},Ks,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wu=cn(Tn),Zu=T({},Ji,{newState:0,oldState:0}),qr=cn(Zu),c=[9,13,27,32],_=gi&&"CompositionEvent"in window,E=null;gi&&"documentMode"in document&&(E=document.documentMode);var I=gi&&"TextEvent"in window&&!E,B=gi&&(!_||E&&8<E&&11>=E),Y=" ",ot=!1;function Zt(e,r){switch(e){case"keyup":return c.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function De(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function Ye(e,r){switch(e){case"compositionend":return De(r);case"keypress":return r.which!==32?null:(ot=!0,Y);case"textInput":return e=r.data,e===Y&&ot?null:e;default:return null}}function Ke(e,r){if(Vt)return e==="compositionend"||!_&&Zt(e,r)?(e=Br(),Oi=xa=kn=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return B&&r.locale!=="ko"?null:r.data;default:return null}}var Yr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Yr[e.type]:r==="textarea"}function Xs(e,r,a,l){Xi?Pn?Pn.push(l):Pn=[l]:Xi=l,r=Hc(r,"onChange"),0<r.length&&(a=new Ys("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var Zi=null,ol=null;function MR(e){IE(e,0)}function tc(e){var r=Hs(e);if(Jo(r))return e}function Fg(e,r){if(e==="change")return r}var Gg=!1;if(gi){var Hf;if(gi){var Ff="oninput"in document;if(!Ff){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),Ff=typeof qg.oninput=="function"}Hf=Ff}else Hf=!1;Gg=Hf&&(!document.documentMode||9<document.documentMode)}function Yg(){Zi&&(Zi.detachEvent("onpropertychange",Kg),ol=Zi=null)}function Kg(e){if(e.propertyName==="value"&&tc(ol)){var r=[];Xs(r,ol,e,Ma(e)),Bu(MR,r)}}function xR(e,r,a){e==="focusin"?(Yg(),Zi=r,ol=a,Zi.attachEvent("onpropertychange",Kg)):e==="focusout"&&Yg()}function LR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tc(ol)}function VR(e,r){if(e==="click")return tc(r)}function UR(e,r){if(e==="input"||e==="change")return tc(r)}function PR(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Bn=typeof Object.is=="function"?Object.is:PR;function ll(e,r){if(Bn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!me.call(r,f)||!Bn(e[f],r[f]))return!1}return!0}function $g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qg(e,r){var a=$g(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=$g(a)}}function Xg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Xg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Jg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Na(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Na(e.document)}return r}function Gf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var kR=gi&&"documentMode"in document&&11>=document.documentMode,Pa=null,qf=null,ul=null,Yf=!1;function Wg(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yf||Pa==null||Pa!==Na(l)||(l=Pa,"selectionStart"in l&&Gf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=Hc(qf,"onSelect"),0<l.length&&(r=new Ys("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Pa)))}function Js(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var ka={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},Kf={},Zg={};gi&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Ws(e){if(Kf[e])return Kf[e];if(!ka[e])return e;var r=ka[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Zg)return Kf[e]=r[a];return e}var t_=Ws("animationend"),e_=Ws("animationiteration"),n_=Ws("animationstart"),BR=Ws("transitionrun"),zR=Ws("transitionstart"),jR=Ws("transitioncancel"),i_=Ws("transitionend"),r_=new Map,$f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$f.push("scrollEnd");function _i(e,r){r_.set(e,r),yn(r,[e])}var ec=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ni=[],Ba=0,Qf=0;function nc(){for(var e=Ba,r=Qf=Ba=0;r<e;){var a=ni[r];ni[r++]=null;var l=ni[r];ni[r++]=null;var f=ni[r];ni[r++]=null;var d=ni[r];if(ni[r++]=null,l!==null&&f!==null){var y=l.pending;y===null?f.next=f:(f.next=y.next,y.next=f),l.pending=f}d!==0&&s_(a,f,d)}}function ic(e,r,a,l){ni[Ba++]=e,ni[Ba++]=r,ni[Ba++]=a,ni[Ba++]=l,Qf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Xf(e,r,a,l){return ic(e,r,a,l),rc(e)}function Zs(e,r){return ic(e,null,null,r),rc(e)}function s_(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-_n(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function rc(e){if(50<Dl)throw Dl=0,sm=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var za={};function HR(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,r,a,l){return new HR(e,r,a,l)}function Jf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tr(e,r){var a=e.alternate;return a===null?(a=zn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function a_(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function sc(e,r,a,l,f,d){var y=0;if(l=e,typeof e=="function")Jf(e)&&(y=1);else if(typeof e=="string")y=Kb(e,a,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=zn(31,a,r,f),e.elementType=w,e.lanes=d,e;case z:return ta(a.children,f,d,r);case D:y=8,f|=24;break;case et:return e=zn(12,a,r,f|2),e.elementType=et,e.lanes=d,e;case It:return e=zn(13,a,r,f),e.elementType=It,e.lanes=d,e;case Et:return e=zn(19,a,r,f),e.elementType=Et,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:y=10;break t;case rt:y=9;break t;case mt:y=11;break t;case O:y=14;break t;case R:y=16,l=null;break t}y=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=zn(y,a,r,f),r.elementType=e,r.type=l,r.lanes=d,r}function ta(e,r,a,l){return e=zn(7,e,l,r),e.lanes=a,e}function Wf(e,r,a){return e=zn(6,e,null,r),e.lanes=a,e}function o_(e){var r=zn(18,null,null,0);return r.stateNode=e,r}function Zf(e,r,a){return r=zn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var l_=new WeakMap;function ii(e,r){if(typeof e=="object"&&e!==null){var a=l_.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Cn(r)},l_.set(e,r),r)}return{value:e,source:r,stack:Cn(r)}}var ja=[],Ha=0,ac=null,cl=0,ri=[],si=0,Kr=null,Di=1,Mi="";function er(e,r){ja[Ha++]=cl,ja[Ha++]=ac,ac=e,cl=r}function u_(e,r,a){ri[si++]=Di,ri[si++]=Mi,ri[si++]=Kr,Kr=e;var l=Di;e=Mi;var f=32-_n(l)-1;l&=~(1<<f),a+=1;var d=32-_n(r)+f;if(30<d){var y=f-f%5;d=(l&(1<<y)-1).toString(32),l>>=y,f-=y,Di=1<<32-_n(r)+f|a<<f|l,Mi=d+e}else Di=1<<d|a<<f|l,Mi=e}function td(e){e.return!==null&&(er(e,1),u_(e,1,0))}function ed(e){for(;e===ac;)ac=ja[--Ha],ja[Ha]=null,cl=ja[--Ha],ja[Ha]=null;for(;e===Kr;)Kr=ri[--si],ri[si]=null,Mi=ri[--si],ri[si]=null,Di=ri[--si],ri[si]=null}function c_(e,r){ri[si++]=Di,ri[si++]=Mi,ri[si++]=Kr,Di=r.id,Mi=r.overflow,Kr=e}var Ze=null,he=null,qt=!1,$r=null,ai=!1,nd=Error(s(519));function Qr(e){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(ii(r,e)),nd}function h_(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[Te]=e,r[We]=l,a){case"dialog":Bt("cancel",r),Bt("close",r);break;case"iframe":case"object":case"embed":Bt("load",r);break;case"video":case"audio":for(a=0;a<xl.length;a++)Bt(xl[a],r);break;case"source":Bt("error",r);break;case"img":case"image":case"link":Bt("error",r),Bt("load",r);break;case"details":Bt("toggle",r);break;case"input":Bt("invalid",r),Fs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Bt("invalid",r);break;case"textarea":Bt("invalid",r),kr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||CE(r.textContent,a)?(l.popover!=null&&(Bt("beforetoggle",r),Bt("toggle",r)),l.onScroll!=null&&Bt("scroll",r),l.onScrollEnd!=null&&Bt("scrollend",r),l.onClick!=null&&(r.onclick=qe),r=!0):r=!1,r||Qr(e,!0)}function f_(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:Ze=Ze.return}}function Fa(e){if(e!==Ze)return!1;if(!qt)return f_(e),qt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||vm(e.type,e.memoizedProps)),a=!a),a&&he&&Qr(e),f_(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));he=PE(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));he=PE(e)}else r===27?(r=he,us(e.type)?(e=Rm,Rm=null,he=e):he=r):he=Ze?li(e.stateNode.nextSibling):null;return!0}function ea(){he=Ze=null,qt=!1}function id(){var e=$r;return e!==null&&(Ln===null?Ln=e:Ln.push.apply(Ln,e),$r=null),e}function hl(e){$r===null?$r=[e]:$r.push(e)}var rd=L(null),na=null,nr=null;function Xr(e,r,a){st(rd,r._currentValue),r._currentValue=a}function ir(e){e._currentValue=rd.current,Q(rd)}function sd(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function ad(e,r,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var y=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var N=0;N<r.length;N++)if(A.context===r[N]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),sd(d.return,a,e),l||(y=null);break t}d=A.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),sd(y,a,e),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===e){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function Ga(e,r,a,l){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var A=f.type;Bn(f.pendingProps.value,y.value)||(e!==null?e.push(A):e=[A])}}else if(f===wt.current){if(y=f.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(kl):e=[kl])}f=f.return}e!==null&&ad(r,e,a,l),r.flags|=262144}function oc(e){for(e=e.firstContext;e!==null;){if(!Bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ia(e){na=e,nr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tn(e){return d_(na,e)}function lc(e,r){return na===null&&ia(e),d_(e,r)}function d_(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},nr===null){if(e===null)throw Error(s(308));nr=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else nr=nr.next=r;return a}var FR=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},GR=i.unstable_scheduleCallback,qR=i.unstable_NormalPriority,Me={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new FR,data:new Map,refCount:0}}function fl(e){e.refCount--,e.refCount===0&&GR(qR,function(){e.controller.abort()})}var dl=null,ld=0,qa=0,Ya=null;function YR(e,r){if(dl===null){var a=dl=[];ld=0,qa=hm(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ld++,r.then(m_,m_),r}function m_(){if(--ld===0&&dl!==null){Ya!==null&&(Ya.status="fulfilled");var e=dl;dl=null,qa=0,Ya=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function KR(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var p_=K.S;K.S=function(e,r){Wy=ue(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&YR(e,r),p_!==null&&p_(e,r)};var ra=L(null);function ud(){var e=ra.current;return e!==null?e:oe.pooledCache}function uc(e,r){r===null?st(ra,ra.current):st(ra,r.pool)}function g_(){var e=ud();return e===null?null:{parent:Me._currentValue,pool:e}}var Ka=Error(s(460)),cd=Error(s(474)),cc=Error(s(542)),hc={then:function(){}};function __(e){return e=e.status,e==="fulfilled"||e==="rejected"}function y_(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(qe,qe),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,v_(e),e;default:if(typeof r.status=="string")r.then(qe,qe);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,v_(e),e}throw aa=r,Ka}}function sa(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(aa=a,Ka):a}}var aa=null;function E_(){if(aa===null)throw Error(s(459));var e=aa;return aa=null,e}function v_(e){if(e===Ka||e===cc)throw Error(s(483))}var $a=null,ml=0;function fc(e){var r=ml;return ml+=1,$a===null&&($a=[]),y_($a,e,r)}function pl(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function dc(e,r){throw r.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function T_(e){function r(k,M){if(e){var j=k.deletions;j===null?(k.deletions=[M],k.flags|=16):j.push(M)}}function a(k,M){if(!e)return null;for(;M!==null;)r(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function f(k,M){return k=tr(k,M),k.index=0,k.sibling=null,k}function d(k,M,j){return k.index=j,e?(j=k.alternate,j!==null?(j=j.index,j<M?(k.flags|=67108866,M):j):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function A(k,M,j,J){return M===null||M.tag!==6?(M=Wf(j,k.mode,J),M.return=k,M):(M=f(M,j),M.return=k,M)}function N(k,M,j,J){var yt=j.type;return yt===z?$(k,M,j.props.children,J,j.key):M!==null&&(M.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===R&&sa(yt)===M.type)?(M=f(M,j.props),pl(M,j),M.return=k,M):(M=sc(j.type,j.key,j.props,null,k.mode,J),pl(M,j),M.return=k,M)}function H(k,M,j,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=Zf(j,k.mode,J),M.return=k,M):(M=f(M,j.children||[]),M.return=k,M)}function $(k,M,j,J,yt){return M===null||M.tag!==7?(M=ta(j,k.mode,J,yt),M.return=k,M):(M=f(M,j),M.return=k,M)}function tt(k,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Wf(""+M,k.mode,j),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return j=sc(M.type,M.key,M.props,null,k.mode,j),pl(j,M),j.return=k,j;case V:return M=Zf(M,k.mode,j),M.return=k,M;case R:return M=sa(M),tt(k,M,j)}if(ze(M)||P(M))return M=ta(M,k.mode,j,null),M.return=k,M;if(typeof M.then=="function")return tt(k,fc(M),j);if(M.$$typeof===Z)return tt(k,lc(k,M),j);dc(k,M)}return null}function F(k,M,j,J){var yt=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return yt!==null?null:A(k,M,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return j.key===yt?N(k,M,j,J):null;case V:return j.key===yt?H(k,M,j,J):null;case R:return j=sa(j),F(k,M,j,J)}if(ze(j)||P(j))return yt!==null?null:$(k,M,j,J,null);if(typeof j.then=="function")return F(k,M,fc(j),J);if(j.$$typeof===Z)return F(k,M,lc(k,j),J);dc(k,j)}return null}function q(k,M,j,J,yt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(j)||null,A(M,k,""+J,yt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return k=k.get(J.key===null?j:J.key)||null,N(M,k,J,yt);case V:return k=k.get(J.key===null?j:J.key)||null,H(M,k,J,yt);case R:return J=sa(J),q(k,M,j,J,yt)}if(ze(J)||P(J))return k=k.get(j)||null,$(M,k,J,yt,null);if(typeof J.then=="function")return q(k,M,j,fc(J),yt);if(J.$$typeof===Z)return q(k,M,j,lc(M,J),yt);dc(M,J)}return null}function dt(k,M,j,J){for(var yt=null,Xt=null,pt=M,Mt=M=0,jt=null;pt!==null&&Mt<j.length;Mt++){pt.index>Mt?(jt=pt,pt=null):jt=pt.sibling;var Jt=F(k,pt,j[Mt],J);if(Jt===null){pt===null&&(pt=jt);break}e&&pt&&Jt.alternate===null&&r(k,pt),M=d(Jt,M,Mt),Xt===null?yt=Jt:Xt.sibling=Jt,Xt=Jt,pt=jt}if(Mt===j.length)return a(k,pt),qt&&er(k,Mt),yt;if(pt===null){for(;Mt<j.length;Mt++)pt=tt(k,j[Mt],J),pt!==null&&(M=d(pt,M,Mt),Xt===null?yt=pt:Xt.sibling=pt,Xt=pt);return qt&&er(k,Mt),yt}for(pt=l(pt);Mt<j.length;Mt++)jt=q(pt,k,Mt,j[Mt],J),jt!==null&&(e&&jt.alternate!==null&&pt.delete(jt.key===null?Mt:jt.key),M=d(jt,M,Mt),Xt===null?yt=jt:Xt.sibling=jt,Xt=jt);return e&&pt.forEach(function(ms){return r(k,ms)}),qt&&er(k,Mt),yt}function Tt(k,M,j,J){if(j==null)throw Error(s(151));for(var yt=null,Xt=null,pt=M,Mt=M=0,jt=null,Jt=j.next();pt!==null&&!Jt.done;Mt++,Jt=j.next()){pt.index>Mt?(jt=pt,pt=null):jt=pt.sibling;var ms=F(k,pt,Jt.value,J);if(ms===null){pt===null&&(pt=jt);break}e&&pt&&ms.alternate===null&&r(k,pt),M=d(ms,M,Mt),Xt===null?yt=ms:Xt.sibling=ms,Xt=ms,pt=jt}if(Jt.done)return a(k,pt),qt&&er(k,Mt),yt;if(pt===null){for(;!Jt.done;Mt++,Jt=j.next())Jt=tt(k,Jt.value,J),Jt!==null&&(M=d(Jt,M,Mt),Xt===null?yt=Jt:Xt.sibling=Jt,Xt=Jt);return qt&&er(k,Mt),yt}for(pt=l(pt);!Jt.done;Mt++,Jt=j.next())Jt=q(pt,k,Mt,Jt.value,J),Jt!==null&&(e&&Jt.alternate!==null&&pt.delete(Jt.key===null?Mt:Jt.key),M=d(Jt,M,Mt),Xt===null?yt=Jt:Xt.sibling=Jt,Xt=Jt);return e&&pt.forEach(function(rw){return r(k,rw)}),qt&&er(k,Mt),yt}function se(k,M,j,J){if(typeof j=="object"&&j!==null&&j.type===z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case b:t:{for(var yt=j.key;M!==null;){if(M.key===yt){if(yt=j.type,yt===z){if(M.tag===7){a(k,M.sibling),J=f(M,j.props.children),J.return=k,k=J;break t}}else if(M.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===R&&sa(yt)===M.type){a(k,M.sibling),J=f(M,j.props),pl(J,j),J.return=k,k=J;break t}a(k,M);break}else r(k,M);M=M.sibling}j.type===z?(J=ta(j.props.children,k.mode,J,j.key),J.return=k,k=J):(J=sc(j.type,j.key,j.props,null,k.mode,J),pl(J,j),J.return=k,k=J)}return y(k);case V:t:{for(yt=j.key;M!==null;){if(M.key===yt)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(k,M.sibling),J=f(M,j.children||[]),J.return=k,k=J;break t}else{a(k,M);break}else r(k,M);M=M.sibling}J=Zf(j,k.mode,J),J.return=k,k=J}return y(k);case R:return j=sa(j),se(k,M,j,J)}if(ze(j))return dt(k,M,j,J);if(P(j)){if(yt=P(j),typeof yt!="function")throw Error(s(150));return j=yt.call(j),Tt(k,M,j,J)}if(typeof j.then=="function")return se(k,M,fc(j),J);if(j.$$typeof===Z)return se(k,M,lc(k,j),J);dc(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(k,M.sibling),J=f(M,j),J.return=k,k=J):(a(k,M),J=Wf(j,k.mode,J),J.return=k,k=J),y(k)):a(k,M)}return function(k,M,j,J){try{ml=0;var yt=se(k,M,j,J);return $a=null,yt}catch(pt){if(pt===Ka||pt===cc)throw pt;var Xt=zn(29,pt,null,k.mode);return Xt.lanes=J,Xt.return=k,Xt}finally{}}}var oa=T_(!0),A_=T_(!1),Jr=!1;function hd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zr(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Wt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=rc(e),s_(e,null,a),r}return ic(e,l,r,a),rc(e)}function gl(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Dr(e,a)}}function dd(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var md=!1;function _l(){if(md){var e=Ya;if(e!==null)throw e}}function yl(e,r,a,l){md=!1;var f=e.updateQueue;Jr=!1;var d=f.firstBaseUpdate,y=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var N=A,H=N.next;N.next=null,y===null?d=H:y.next=H,y=N;var $=e.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==y&&(A===null?$.firstBaseUpdate=H:A.next=H,$.lastBaseUpdate=N))}if(d!==null){var tt=f.baseState;y=0,$=H=N=null,A=d;do{var F=A.lane&-536870913,q=F!==A.lane;if(q?(zt&F)===F:(l&F)===F){F!==0&&F===qa&&(md=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var dt=e,Tt=A;F=r;var se=a;switch(Tt.tag){case 1:if(dt=Tt.payload,typeof dt=="function"){tt=dt.call(se,tt,F);break t}tt=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Tt.payload,F=typeof dt=="function"?dt.call(se,tt,F):dt,F==null)break t;tt=T({},tt,F);break t;case 2:Jr=!0}}F=A.callback,F!==null&&(e.flags|=64,q&&(e.flags|=8192),q=f.callbacks,q===null?f.callbacks=[F]:q.push(F))}else q={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(H=$=q,N=tt):$=$.next=q,y|=F;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;q=A,A=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);$===null&&(N=tt),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),rs|=y,e.lanes=y,e.memoizedState=tt}}function S_(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function I_(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)S_(a[e],r)}var Qa=L(null),mc=L(0);function R_(e,r){e=fr,st(mc,e),st(Qa,r),fr=e|r.baseLanes}function pd(){st(mc,fr),st(Qa,Qa.current)}function gd(){fr=mc.current,Q(Qa),Q(mc)}var jn=L(null),oi=null;function ts(e){var r=e.alternate;st(we,we.current&1),st(jn,e),oi===null&&(r===null||Qa.current!==null||r.memoizedState!==null)&&(oi=e)}function _d(e){st(we,we.current),st(jn,e),oi===null&&(oi=e)}function b_(e){e.tag===22?(st(we,we.current),st(jn,e),oi===null&&(oi=e)):es()}function es(){st(we,we.current),st(jn,jn.current)}function Hn(e){Q(jn),oi===e&&(oi=null),Q(we)}var we=L(0);function pc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sm(a)||Im(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var rr=0,Ot=null,ie=null,xe=null,gc=!1,Xa=!1,la=!1,_c=0,El=0,Ja=null,$R=0;function Se(){throw Error(s(321))}function yd(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!Bn(e[a],r[a]))return!1;return!0}function Ed(e,r,a,l,f,d){return rr=d,Ot=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=e===null||e.memoizedState===null?uy:Ld,la=!1,d=a(l,f),la=!1,Xa&&(d=C_(r,a,l,f)),w_(e),d}function w_(e){K.H=Al;var r=ie!==null&&ie.next!==null;if(rr=0,xe=ie=Ot=null,gc=!1,El=0,Ja=null,r)throw Error(s(300));e===null||Le||(e=e.dependencies,e!==null&&oc(e)&&(Le=!0))}function C_(e,r,a,l){Ot=e;var f=0;do{if(Xa&&(Ja=null),El=0,Xa=!1,25<=f)throw Error(s(301));if(f+=1,xe=ie=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=cy,d=r(a,l)}while(Xa);return d}function QR(){var e=K.H,r=e.useState()[0];return r=typeof r.then=="function"?vl(r):r,e=e.useState()[0],(ie!==null?ie.memoizedState:null)!==e&&(Ot.flags|=1024),r}function vd(){var e=_c!==0;return _c=0,e}function Td(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function Ad(e){if(gc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}gc=!1}rr=0,xe=ie=Ot=null,Xa=!1,El=_c=0,Ja=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Ot.memoizedState=xe=e:xe=xe.next=e,xe}function Ce(){if(ie===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var r=xe===null?Ot.memoizedState:xe.next;if(r!==null)xe=r,ie=e;else{if(e===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},xe===null?Ot.memoizedState=xe=e:xe=xe.next=e}return xe}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(e){var r=El;return El+=1,Ja===null&&(Ja=[]),e=y_(Ja,e,r),r=Ot,(xe===null?r.memoizedState:xe.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?uy:Ld),e}function Ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vl(e);if(e.$$typeof===Z)return tn(e)}throw Error(s(438,String(e)))}function Sd(e){var r=null,a=Ot.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=yc(),Ot.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=x;return r.index++,a}function sr(e,r){return typeof r=="function"?r(e):r}function vc(e){var r=Ce();return Id(r,ie,e)}function Id(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var y=f.next;f.next=d.next,d.next=y}r.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var A=y=null,N=null,H=r,$=!1;do{var tt=H.lane&-536870913;if(tt!==H.lane?(zt&tt)===tt:(rr&tt)===tt){var F=H.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),tt===qa&&($=!0);else if((rr&F)===F){H=H.next,F===qa&&($=!0);continue}else tt={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(A=N=tt,y=d):N=N.next=tt,Ot.lanes|=F,rs|=F;tt=H.action,la&&a(d,tt),d=H.hasEagerState?H.eagerState:a(d,tt)}else F={lane:tt,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(A=N=F,y=d):N=N.next=F,Ot.lanes|=tt,rs|=tt;H=H.next}while(H!==null&&H!==r);if(N===null?y=d:N.next=A,!Bn(d,e.memoizedState)&&(Le=!0,$&&(a=Ya,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Rd(e){var r=Ce(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var y=f=f.next;do d=e(d,y.action),y=y.next;while(y!==f);Bn(d,r.memoizedState)||(Le=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function N_(e,r,a){var l=Ot,f=Ce(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var y=!Bn((ie||f).memoizedState,a);if(y&&(f.memoizedState=a,Le=!0),f=f.queue,Cd(M_.bind(null,l,f,e),[e]),f.getSnapshot!==r||y||xe!==null&&xe.memoizedState.tag&1){if(l.flags|=2048,Wa(9,{destroy:void 0},D_.bind(null,l,f,a,r),null),oe===null)throw Error(s(349));d||(rr&127)!==0||O_(l,r,a)}return a}function O_(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Ot.updateQueue,r===null?(r=yc(),Ot.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function D_(e,r,a,l){r.value=a,r.getSnapshot=l,x_(r)&&L_(e)}function M_(e,r,a){return a(function(){x_(r)&&L_(e)})}function x_(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!Bn(e,a)}catch{return!0}}function L_(e){var r=Zs(e,2);r!==null&&Vn(r,e,2)}function bd(e){var r=An();if(typeof e=="function"){var a=e;if(e=a(),la){Wn(!0);try{a()}finally{Wn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:e},r}function V_(e,r,a,l){return e.baseState=a,Id(e,ie,typeof l=="function"?l:sr)}function XR(e,r,a,l,f){if(Sc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,U_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function U_(e,r){var a=r.action,l=r.payload,f=e.state;if(r.isTransition){var d=K.T,y={};K.T=y;try{var A=a(f,l),N=K.S;N!==null&&N(y,A),P_(e,r,A)}catch(H){wd(e,r,H)}finally{d!==null&&y.types!==null&&(d.types=y.types),K.T=d}}else try{d=a(f,l),P_(e,r,d)}catch(H){wd(e,r,H)}}function P_(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){k_(e,r,l)},function(l){return wd(e,r,l)}):k_(e,r,a)}function k_(e,r,a){r.status="fulfilled",r.value=a,B_(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,U_(e,a)))}function wd(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,B_(r),r=r.next;while(r!==l)}e.action=null}function B_(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function z_(e,r){return r}function j_(e,r){if(qt){var a=oe.formState;if(a!==null){t:{var l=Ot;if(qt){if(he){e:{for(var f=he,d=ai;f.nodeType!==8;){if(!d){f=null;break e}if(f=li(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){he=li(f.nextSibling),l=f.data==="F!";break t}}Qr(l)}l=!1}l&&(r=a[0])}}return a=An(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z_,lastRenderedState:r},a.queue=l,a=ay.bind(null,Ot,l),l.dispatch=a,l=bd(!1),d=xd.bind(null,Ot,!1,l.queue),l=An(),f={state:r,dispatch:null,action:e,pending:null},l.queue=f,a=XR.bind(null,Ot,f,d,a),f.dispatch=a,l.memoizedState=e,[r,a,!1]}function H_(e){var r=Ce();return F_(r,ie,e)}function F_(e,r,a){if(r=Id(e,r,z_)[0],e=vc(sr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=vl(r)}catch(y){throw y===Ka?cc:y}else l=r;r=Ce();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ot.flags|=2048,Wa(9,{destroy:void 0},JR.bind(null,f,a),null)),[l,d,e]}function JR(e,r){e.action=r}function G_(e){var r=Ce(),a=ie;if(a!==null)return F_(r,a,e);Ce(),r=r.memoizedState,a=Ce();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function Wa(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=Ot.updateQueue,r===null&&(r=yc(),Ot.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function q_(){return Ce().memoizedState}function Tc(e,r,a,l){var f=An();Ot.flags|=e,f.memoizedState=Wa(1|r,{destroy:void 0},a,l===void 0?null:l)}function Ac(e,r,a,l){var f=Ce();l=l===void 0?null:l;var d=f.memoizedState.inst;ie!==null&&l!==null&&yd(l,ie.memoizedState.deps)?f.memoizedState=Wa(r,d,a,l):(Ot.flags|=e,f.memoizedState=Wa(1|r,d,a,l))}function Y_(e,r){Tc(8390656,8,e,r)}function Cd(e,r){Ac(2048,8,e,r)}function WR(e){Ot.flags|=4;var r=Ot.updateQueue;if(r===null)r=yc(),Ot.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function K_(e){var r=Ce().memoizedState;return WR({ref:r,nextImpl:e}),function(){if((Wt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function $_(e,r){return Ac(4,2,e,r)}function Q_(e,r){return Ac(4,4,e,r)}function X_(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function J_(e,r,a){a=a!=null?a.concat([e]):null,Ac(4,4,X_.bind(null,r,e),a)}function Nd(){}function W_(e,r){var a=Ce();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&yd(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function Z_(e,r){var a=Ce();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&yd(r,l[1]))return l[0];if(l=e(),la){Wn(!0);try{e()}finally{Wn(!1)}}return a.memoizedState=[l,r],l}function Od(e,r,a){return a===void 0||(rr&1073741824)!==0&&(zt&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=tE(),Ot.lanes|=e,rs|=e,a)}function ty(e,r,a,l){return Bn(a,r)?a:Qa.current!==null?(e=Od(e,a,l),Bn(e,r)||(Le=!0),e):(rr&42)===0||(rr&1073741824)!==0&&(zt&261930)===0?(Le=!0,e.memoizedState=a):(e=tE(),Ot.lanes|=e,rs|=e,r)}function ey(e,r,a,l,f){var d=lt.p;lt.p=d!==0&&8>d?d:8;var y=K.T,A={};K.T=A,xd(e,!1,r,a);try{var N=f(),H=K.S;if(H!==null&&H(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=KR(N,l);Tl(e,r,$,qn(e))}else Tl(e,r,l,qn(e))}catch(tt){Tl(e,r,{then:function(){},status:"rejected",reason:tt},qn())}finally{lt.p=d,y!==null&&A.types!==null&&(y.types=A.types),K.T=y}}function ZR(){}function Dd(e,r,a,l){if(e.tag!==5)throw Error(s(476));var f=ny(e).queue;ey(e,f,r,gt,a===null?ZR:function(){return iy(e),a(l)})}function ny(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:gt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function iy(e){var r=ny(e);r.next===null&&(r=e.alternate.memoizedState),Tl(e,r.next.queue,{},qn())}function Md(){return tn(kl)}function ry(){return Ce().memoizedState}function sy(){return Ce().memoizedState}function tb(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=qn();e=Wr(a);var l=Zr(r,e,a);l!==null&&(Vn(l,r,a),gl(l,r,a)),r={cache:od()},e.payload=r;return}r=r.return}}function eb(e,r,a){var l=qn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Sc(e)?oy(r,a):(a=Xf(e,r,a,l),a!==null&&(Vn(a,e,l),ly(a,r,l)))}function ay(e,r,a){var l=qn();Tl(e,r,a,l)}function Tl(e,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sc(e))oy(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var y=r.lastRenderedState,A=d(y,a);if(f.hasEagerState=!0,f.eagerState=A,Bn(A,y))return ic(e,r,f,0),oe===null&&nc(),!1}catch{}finally{}if(a=Xf(e,r,f,l),a!==null)return Vn(a,e,l),ly(a,r,l),!0}return!1}function xd(e,r,a,l){if(l={lane:2,revertLane:hm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Sc(e)){if(r)throw Error(s(479))}else r=Xf(e,a,l,2),r!==null&&Vn(r,e,2)}function Sc(e){var r=e.alternate;return e===Ot||r!==null&&r===Ot}function oy(e,r){Xa=gc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function ly(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Dr(e,a)}}var Al={readContext:tn,use:Ec,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};Al.useEffectEvent=Se;var uy={readContext:tn,use:Ec,useCallback:function(e,r){return An().memoizedState=[e,r===void 0?null:r],e},useContext:tn,useEffect:Y_,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,Tc(4194308,4,X_.bind(null,r,e),a)},useLayoutEffect:function(e,r){return Tc(4194308,4,e,r)},useInsertionEffect:function(e,r){Tc(4,2,e,r)},useMemo:function(e,r){var a=An();r=r===void 0?null:r;var l=e();if(la){Wn(!0);try{e()}finally{Wn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=An();if(a!==void 0){var f=a(r);if(la){Wn(!0);try{a(r)}finally{Wn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=eb.bind(null,Ot,e),[l.memoizedState,e]},useRef:function(e){var r=An();return e={current:e},r.memoizedState=e},useState:function(e){e=bd(e);var r=e.queue,a=ay.bind(null,Ot,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:Nd,useDeferredValue:function(e,r){var a=An();return Od(a,e,r)},useTransition:function(){var e=bd(!1);return e=ey.bind(null,Ot,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=Ot,f=An();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),oe===null)throw Error(s(349));(zt&127)!==0||O_(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Y_(M_.bind(null,l,d,e),[e]),l.flags|=2048,Wa(9,{destroy:void 0},D_.bind(null,l,d,a,r),null),a},useId:function(){var e=An(),r=oe.identifierPrefix;if(qt){var a=Mi,l=Di;a=(l&~(1<<32-_n(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=_c++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=$R++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:Md,useFormState:j_,useActionState:j_,useOptimistic:function(e){var r=An();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=xd.bind(null,Ot,!0,a),a.dispatch=r,[e,r]},useMemoCache:Sd,useCacheRefresh:function(){return An().memoizedState=tb.bind(null,Ot)},useEffectEvent:function(e){var r=An(),a={impl:e};return r.memoizedState=a,function(){if((Wt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ld={readContext:tn,use:Ec,useCallback:W_,useContext:tn,useEffect:Cd,useImperativeHandle:J_,useInsertionEffect:$_,useLayoutEffect:Q_,useMemo:Z_,useReducer:vc,useRef:q_,useState:function(){return vc(sr)},useDebugValue:Nd,useDeferredValue:function(e,r){var a=Ce();return ty(a,ie.memoizedState,e,r)},useTransition:function(){var e=vc(sr)[0],r=Ce().memoizedState;return[typeof e=="boolean"?e:vl(e),r]},useSyncExternalStore:N_,useId:ry,useHostTransitionStatus:Md,useFormState:H_,useActionState:H_,useOptimistic:function(e,r){var a=Ce();return V_(a,ie,e,r)},useMemoCache:Sd,useCacheRefresh:sy};Ld.useEffectEvent=K_;var cy={readContext:tn,use:Ec,useCallback:W_,useContext:tn,useEffect:Cd,useImperativeHandle:J_,useInsertionEffect:$_,useLayoutEffect:Q_,useMemo:Z_,useReducer:Rd,useRef:q_,useState:function(){return Rd(sr)},useDebugValue:Nd,useDeferredValue:function(e,r){var a=Ce();return ie===null?Od(a,e,r):ty(a,ie.memoizedState,e,r)},useTransition:function(){var e=Rd(sr)[0],r=Ce().memoizedState;return[typeof e=="boolean"?e:vl(e),r]},useSyncExternalStore:N_,useId:ry,useHostTransitionStatus:Md,useFormState:G_,useActionState:G_,useOptimistic:function(e,r){var a=Ce();return ie!==null?V_(a,ie,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Sd,useCacheRefresh:sy};cy.useEffectEvent=K_;function Vd(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ud={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=qn(),f=Wr(l);f.payload=r,a!=null&&(f.callback=a),r=Zr(e,f,l),r!==null&&(Vn(r,e,l),gl(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=qn(),f=Wr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Zr(e,f,l),r!==null&&(Vn(r,e,l),gl(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=qn(),l=Wr(a);l.tag=2,r!=null&&(l.callback=r),r=Zr(e,l,a),r!==null&&(Vn(r,e,a),gl(r,e,a))}};function hy(e,r,a,l,f,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):r.prototype&&r.prototype.isPureReactComponent?!ll(a,l)||!ll(f,d):!0}function fy(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&Ud.enqueueReplaceState(r,r.state,null)}function ua(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function dy(e){ec(e)}function my(e){console.error(e)}function py(e){ec(e)}function Ic(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function gy(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Pd(e,r,a){return a=Wr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ic(e,r)},a}function _y(e){return e=Wr(e),e.tag=3,e}function yy(e,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){gy(r,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){gy(r,a,l),typeof f!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function nb(e,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ga(r,a,f,!0),a=jn.current,a!==null){switch(a.tag){case 31:case 13:return oi===null?Uc():a.alternate===null&&Ie===0&&(Ie=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===hc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),lm(e,l,f)),!1;case 22:return a.flags|=65536,l===hc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),lm(e,l,f)),!1}throw Error(s(435,a.tag))}return lm(e,l,f),Uc(),!1}if(qt)return r=jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==nd&&(e=Error(s(422),{cause:l}),hl(ii(e,a)))):(l!==nd&&(r=Error(s(423),{cause:l}),hl(ii(r,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=ii(l,a),f=Pd(e.stateNode,l,f),dd(e,f),Ie!==4&&(Ie=2)),!1;var d=Error(s(520),{cause:l});if(d=ii(d,a),Ol===null?Ol=[d]:Ol.push(d),Ie!==4&&(Ie=2),r===null)return!0;l=ii(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Pd(a.stateNode,l,e),dd(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ss===null||!ss.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=_y(f),yy(f,e,a,l),dd(a,f),!1}a=a.return}while(a!==null);return!1}var kd=Error(s(461)),Le=!1;function en(e,r,a,l){r.child=e===null?A_(r,null,a,l):oa(r,e.child,a,l)}function Ey(e,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var y={};for(var A in l)A!=="ref"&&(y[A]=l[A])}else y=l;return ia(r),l=Ed(e,r,a,y,d,f),A=vd(),e!==null&&!Le?(Td(e,r,f),ar(e,r,f)):(qt&&A&&td(r),r.flags|=1,en(e,r,l,f),r.child)}function vy(e,r,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!Jf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Ty(e,r,d,l,f)):(e=sc(a.type,null,l,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!Yd(e,f)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(y,l)&&e.ref===r.ref)return ar(e,r,f)}return r.flags|=1,e=tr(d,l),e.ref=r.ref,e.return=r,r.child=e}function Ty(e,r,a,l,f){if(e!==null){var d=e.memoizedProps;if(ll(d,l)&&e.ref===r.ref)if(Le=!1,r.pendingProps=l=d,Yd(e,f))(e.flags&131072)!==0&&(Le=!0);else return r.lanes=e.lanes,ar(e,r,f)}return Bd(e,r,a,l,f)}function Ay(e,r,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=r.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return Sy(e,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&uc(r,d!==null?d.cachePool:null),d!==null?R_(r,d):pd(),b_(r);else return l=r.lanes=536870912,Sy(e,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(uc(r,d.cachePool),R_(r,d),es(),r.memoizedState=null):(e!==null&&uc(r,null),pd(),es());return en(e,r,f,a),r.child}function Sl(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Sy(e,r,a,l,f){var d=ud();return d=d===null?null:{parent:Me._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},e!==null&&uc(r,null),pd(),b_(r),e!==null&&Ga(e,r,l,!0),r.childLanes=f,null}function Rc(e,r){return r=wc({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function Iy(e,r,a){return oa(r,e.child,null,a),e=Rc(r,r.pendingProps),e.flags|=2,Hn(r),r.memoizedState=null,e}function ib(e,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(qt){if(l.mode==="hidden")return e=Rc(r,l),r.lanes=536870912,Sl(null,e);if(_d(r),(e=he)?(e=UE(e,ai),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Kr!==null?{id:Di,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=o_(e),a.return=r,r.child=a,Ze=r,he=null)):e=null,e===null)throw Qr(r);return r.lanes=536870912,null}return Rc(r,l)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(_d(r),f)if(r.flags&256)r.flags&=-257,r=Iy(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(s(558));else if(Le||Ga(e,r,a,!1),f=(a&e.childLanes)!==0,Le||f){if(l=oe,l!==null&&(y=Mr(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,Zs(e,y),Vn(l,e,y),kd;Uc(),r=Iy(e,r,a)}else e=d.treeContext,he=li(y.nextSibling),Ze=r,qt=!0,$r=null,ai=!1,e!==null&&c_(r,e),r=Rc(r,l),r.flags|=4096;return r}return e=tr(e.child,{mode:l.mode,children:l.children}),e.ref=r.ref,r.child=e,e.return=r,e}function bc(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function Bd(e,r,a,l,f){return ia(r),a=Ed(e,r,a,l,void 0,f),l=vd(),e!==null&&!Le?(Td(e,r,f),ar(e,r,f)):(qt&&l&&td(r),r.flags|=1,en(e,r,a,f),r.child)}function Ry(e,r,a,l,f,d){return ia(r),r.updateQueue=null,a=C_(r,l,a,f),w_(e),l=vd(),e!==null&&!Le?(Td(e,r,d),ar(e,r,d)):(qt&&l&&td(r),r.flags|=1,en(e,r,a,d),r.child)}function by(e,r,a,l,f){if(ia(r),r.stateNode===null){var d=za,y=a.contextType;typeof y=="object"&&y!==null&&(d=tn(y)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ud,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},hd(r),y=a.contextType,d.context=typeof y=="object"&&y!==null?tn(y):za,d.state=r.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Vd(r,a,y,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Ud.enqueueReplaceState(d,d.state,null),yl(r,l,d,f),_l(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var A=r.memoizedProps,N=ua(a,A);d.props=N;var H=d.context,$=a.contextType;y=za,typeof $=="object"&&$!==null&&(y=tn($));var tt=a.getDerivedStateFromProps;$=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||H!==y)&&fy(r,d,l,y),Jr=!1;var F=r.memoizedState;d.state=F,yl(r,l,d,f),_l(),H=r.memoizedState,A||F!==H||Jr?(typeof tt=="function"&&(Vd(r,a,tt,l),H=r.memoizedState),(N=Jr||hy(r,a,N,l,F,H,y))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=y,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,fd(e,r),y=r.memoizedProps,$=ua(a,y),d.props=$,tt=r.pendingProps,F=d.context,H=a.contextType,N=za,typeof H=="object"&&H!==null&&(N=tn(H)),A=a.getDerivedStateFromProps,(H=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==tt||F!==N)&&fy(r,d,l,N),Jr=!1,F=r.memoizedState,d.state=F,yl(r,l,d,f),_l();var q=r.memoizedState;y!==tt||F!==q||Jr||e!==null&&e.dependencies!==null&&oc(e.dependencies)?(typeof A=="function"&&(Vd(r,a,A,l),q=r.memoizedState),($=Jr||hy(r,a,$,l,F,q,N)||e!==null&&e.dependencies!==null&&oc(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,bc(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=oa(r,e.child,null,f),r.child=oa(r,null,a,f)):en(e,r,a,f),r.memoizedState=d.state,e=r.child):e=ar(e,r,f),e}function wy(e,r,a,l){return ea(),r.flags|=256,en(e,r,a,l),r.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jd(e){return{baseLanes:e,cachePool:g_()}}function Hd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=Gn),e}function Cy(e,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),y&&(f=!0,r.flags&=-129),y=(r.flags&32)!==0,r.flags&=-33,e===null){if(qt){if(f?ts(r):es(),(e=he)?(e=UE(e,ai),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Kr!==null?{id:Di,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=o_(e),a.return=r,r.child=a,Ze=r,he=null)):e=null,e===null)throw Qr(r);return Im(e)?r.lanes=32:r.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(es(),f=r.mode,A=wc({mode:"hidden",children:A},f),l=ta(l,f,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,l=r.child,l.memoizedState=jd(a),l.childLanes=Hd(e,y,a),r.memoizedState=zd,Sl(null,l)):(ts(r),Fd(r,A))}var N=e.memoizedState;if(N!==null&&(A=N.dehydrated,A!==null)){if(d)r.flags&256?(ts(r),r.flags&=-257,r=Gd(e,r,a)):r.memoizedState!==null?(es(),r.child=e.child,r.flags|=128,r=null):(es(),A=l.fallback,f=r.mode,l=wc({mode:"visible",children:l.children},f),A=ta(A,f,a,null),A.flags|=2,l.return=r,A.return=r,l.sibling=A,r.child=l,oa(r,e.child,null,a),l=r.child,l.memoizedState=jd(a),l.childLanes=Hd(e,y,a),r.memoizedState=zd,r=Sl(null,l));else if(ts(r),Im(A)){if(y=A.nextSibling&&A.nextSibling.dataset,y)var H=y.dgst;y=H,l=Error(s(419)),l.stack="",l.digest=y,hl({value:l,source:null,stack:null}),r=Gd(e,r,a)}else if(Le||Ga(e,r,a,!1),y=(a&e.childLanes)!==0,Le||y){if(y=oe,y!==null&&(l=Mr(y,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Zs(e,l),Vn(y,e,l),kd;Sm(A)||Uc(),r=Gd(e,r,a)}else Sm(A)?(r.flags|=192,r.child=e.child,r=null):(e=N.treeContext,he=li(A.nextSibling),Ze=r,qt=!0,$r=null,ai=!1,e!==null&&c_(r,e),r=Fd(r,l.children),r.flags|=4096);return r}return f?(es(),A=l.fallback,f=r.mode,N=e.child,H=N.sibling,l=tr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?A=tr(H,A):(A=ta(A,f,a,null),A.flags|=2),A.return=r,l.return=r,l.sibling=A,r.child=l,Sl(null,l),l=r.child,A=e.child.memoizedState,A===null?A=jd(a):(f=A.cachePool,f!==null?(N=Me._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=g_(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Hd(e,y,a),r.memoizedState=zd,Sl(e.child,l)):(ts(r),a=e.child,e=a.sibling,a=tr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(y=r.deletions,y===null?(r.deletions=[e],r.flags|=16):y.push(e)),r.child=a,r.memoizedState=null,a)}function Fd(e,r){return r=wc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function wc(e,r){return e=zn(22,e,null,r),e.lanes=0,e}function Gd(e,r,a){return oa(r,e.child,null,a),e=Fd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Ny(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),sd(e.return,r,a)}function qd(e,r,a,l,f,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=f,y.treeForkCount=d)}function Oy(e,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var y=we.current,A=(y&2)!==0;if(A?(y=y&1|2,r.flags|=128):y&=1,st(we,y),en(e,r,l,a),l=qt?cl:0,!A&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ny(e,a,r);else if(e.tag===19)Ny(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&pc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),qd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&pc(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}qd(r,!0,a,null,d,l);break;case"together":qd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ar(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),rs|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(Ga(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=tr(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=tr(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Yd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&oc(e)))}function rb(e,r,a){switch(r.tag){case 3:Lt(r,r.stateNode.containerInfo),Xr(r,Me,e.memoizedState.cache),ea();break;case 27:case 5:Xn(r);break;case 4:Lt(r,r.stateNode.containerInfo);break;case 10:Xr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,_d(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(ts(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Cy(e,r,a):(ts(r),e=ar(e,r,a),e!==null?e.sibling:null);ts(r);break;case 19:var f=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ga(e,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Oy(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(we,we.current),l)break;return null;case 22:return r.lanes=0,Ay(e,r,a,r.pendingProps);case 24:Xr(r,Me,e.memoizedState.cache)}return ar(e,r,a)}function Dy(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Le=!0;else{if(!Yd(e,a)&&(r.flags&128)===0)return Le=!1,rb(e,r,a);Le=(e.flags&131072)!==0}else Le=!1,qt&&(r.flags&1048576)!==0&&u_(r,cl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(e=sa(r.elementType),r.type=e,typeof e=="function")Jf(e)?(l=ua(e,l),r.tag=1,r=by(null,r,e,l,a)):(r.tag=0,r=Bd(null,r,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===mt){r.tag=11,r=Ey(null,r,e,l,a);break t}else if(f===O){r.tag=14,r=vy(null,r,e,l,a);break t}}throw r=_e(e)||e,Error(s(306,r,""))}}return r;case 0:return Bd(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ua(l,r.pendingProps),by(e,r,l,f,a);case 3:t:{if(Lt(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,fd(e,r),yl(r,l,null,a);var y=r.memoizedState;if(l=y.cache,Xr(r,Me,l),l!==d.cache&&ad(r,[Me],a,!0),_l(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=wy(e,r,l,a);break t}else if(l!==f){f=ii(Error(s(424)),r),hl(f),r=wy(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(he=li(e.firstChild),Ze=r,qt=!0,$r=null,ai=!0,a=A_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ea(),l===f){r=ar(e,r,a);break t}en(e,r,l,a)}r=r.child}return r;case 26:return bc(e,r),e===null?(a=HE(r.type,null,r.pendingProps,null))?r.memoizedState=a:qt||(a=r.type,e=r.pendingProps,l=Fc(Dt.current).createElement(a),l[Te]=r,l[We]=e,nn(l,a,e),be(l),r.stateNode=l):r.memoizedState=HE(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Xn(r),e===null&&qt&&(l=r.stateNode=BE(r.type,r.pendingProps,Dt.current),Ze=r,ai=!0,f=he,us(r.type)?(Rm=f,he=li(l.firstChild)):he=f),en(e,r,r.pendingProps.children,a),bc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&qt&&((f=l=he)&&(l=Lb(l,r.type,r.pendingProps,ai),l!==null?(r.stateNode=l,Ze=r,he=li(l.firstChild),ai=!1,f=!0):f=!1),f||Qr(r)),Xn(r),f=r.type,d=r.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,vm(f,d)?l=null:y!==null&&vm(f,y)&&(r.flags|=32),r.memoizedState!==null&&(f=Ed(e,r,QR,null,null,a),kl._currentValue=f),bc(e,r),en(e,r,l,a),r.child;case 6:return e===null&&qt&&((e=a=he)&&(a=Vb(a,r.pendingProps,ai),a!==null?(r.stateNode=a,Ze=r,he=null,e=!0):e=!1),e||Qr(r)),null;case 13:return Cy(e,r,a);case 4:return Lt(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=oa(r,null,l,a):en(e,r,l,a),r.child;case 11:return Ey(e,r,r.type,r.pendingProps,a);case 7:return en(e,r,r.pendingProps,a),r.child;case 8:return en(e,r,r.pendingProps.children,a),r.child;case 12:return en(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Xr(r,r.type,l.value),en(e,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ia(r),f=tn(f),l=l(f),r.flags|=1,en(e,r,l,a),r.child;case 14:return vy(e,r,r.type,r.pendingProps,a);case 15:return Ty(e,r,r.type,r.pendingProps,a);case 19:return Oy(e,r,a);case 31:return ib(e,r,a);case 22:return Ay(e,r,a,r.pendingProps);case 24:return ia(r),l=tn(Me),e===null?(f=ud(),f===null&&(f=oe,d=od(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},hd(r),Xr(r,Me,f)):((e.lanes&a)!==0&&(fd(e,r),yl(r,null,null,a),_l()),f=e.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Xr(r,Me,l)):(l=d.cache,Xr(r,Me,l),l!==f.cache&&ad(r,[Me],a,!0))),en(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function or(e){e.flags|=4}function Kd(e,r,a,l,f){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(rE())e.flags|=8192;else throw aa=hc,cd}else e.flags&=-16777217}function My(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!KE(r))if(rE())e.flags|=8192;else throw aa=hc,cd}function Cc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Go():536870912,e.lanes|=r,no|=r)}function Il(e,r){if(!qt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function fe(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function sb(e,r,a){var l=r.pendingProps;switch(ed(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(r),null;case 1:return fe(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ir(Me),ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Fa(r)?or(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,id())),fe(r),null;case 26:var f=r.type,d=r.memoizedState;return e===null?(or(r),d!==null?(fe(r),My(r,d)):(fe(r),Kd(r,f,null,l,a))):d?d!==e.memoizedState?(or(r),fe(r),My(r,d)):(fe(r),r.flags&=-16777217):(e=e.memoizedProps,e!==l&&or(r),fe(r),Kd(r,f,e,l,a)),null;case 27:if(wn(r),a=Dt.current,f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&or(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return fe(r),null}e=ht.current,Fa(r)?h_(r):(e=BE(f,l,a),r.stateNode=e,or(r))}return fe(r),null;case 5:if(wn(r),f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&or(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return fe(r),null}if(d=ht.current,Fa(r))h_(r);else{var y=Fc(Dt.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(f,{is:l.is}):y.createElement(f)}}d[Te]=r,d[We]=l;t:for(y=r.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===r)break t;for(;y.sibling===null;){if(y.return===null||y.return===r)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}r.stateNode=d;t:switch(nn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&or(r)}}return fe(r),Kd(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&or(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=Dt.current,Fa(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,f=Ze,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Te]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||CE(e.nodeValue,a)),e||Qr(r,!0)}else e=Fc(e).createTextNode(l),e[Te]=r,r.stateNode=e}return fe(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(l=Fa(r),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Te]=r}else ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;fe(r),e=!1}else a=id(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(Hn(r),r):(Hn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return fe(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Fa(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Te]=r}else ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;fe(r),f=!1}else f=id(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Hn(r),r):(Hn(r),null)}return Hn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),Cc(r,r.updateQueue),fe(r),null);case 4:return ne(),e===null&&pm(r.stateNode.containerInfo),fe(r),null;case 10:return ir(r.type),fe(r),null;case 19:if(Q(we),l=r.memoizedState,l===null)return fe(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Il(l,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=pc(e),d!==null){for(r.flags|=128,Il(l,!1),e=d.updateQueue,r.updateQueue=e,Cc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)a_(a,e),a=a.sibling;return st(we,we.current&1|2),qt&&er(r,l.treeForkCount),r.child}e=e.sibling}l.tail!==null&&ue()>xc&&(r.flags|=128,f=!0,Il(l,!1),r.lanes=4194304)}else{if(!f)if(e=pc(d),e!==null){if(r.flags|=128,f=!0,e=e.updateQueue,r.updateQueue=e,Cc(r,e),Il(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qt)return fe(r),null}else 2*ue()-l.renderingStartTime>xc&&a!==536870912&&(r.flags|=128,f=!0,Il(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(e=l.last,e!==null?e.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ue(),e.sibling=null,a=we.current,st(we,f?a&1|2:a&1),qt&&er(r,l.treeForkCount),e):(fe(r),null);case 22:case 23:return Hn(r),gd(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(fe(r),r.subtreeFlags&6&&(r.flags|=8192)):fe(r),a=r.updateQueue,a!==null&&Cc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&Q(ra),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ir(Me),fe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ab(e,r){switch(ed(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return ir(Me),ne(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return wn(r),null;case 31:if(r.memoizedState!==null){if(Hn(r),r.alternate===null)throw Error(s(340));ea()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(Hn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ea()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Q(we),null;case 4:return ne(),null;case 10:return ir(r.type),null;case 22:case 23:return Hn(r),gd(),e!==null&&Q(ra),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return ir(Me),null;case 25:return null;default:return null}}function xy(e,r){switch(ed(r),r.tag){case 3:ir(Me),ne();break;case 26:case 27:case 5:wn(r);break;case 4:ne();break;case 31:r.memoizedState!==null&&Hn(r);break;case 13:Hn(r);break;case 19:Q(we);break;case 10:ir(r.type);break;case 22:case 23:Hn(r),gd(),e!==null&&Q(ra);break;case 24:ir(Me)}}function Rl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==f)}}catch(A){ee(r,r.return,A)}}function ns(e,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var y=l.inst,A=y.destroy;if(A!==void 0){y.destroy=void 0,f=r;var N=a,H=A;try{H()}catch($){ee(f,N,$)}}}l=l.next}while(l!==d)}}catch($){ee(r,r.return,$)}}function Ly(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{I_(r,a)}catch(l){ee(e,e.return,l)}}}function Vy(e,r,a){a.props=ua(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ee(e,r,l)}}function bl(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){ee(e,r,f)}}function xi(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ee(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ee(e,r,f)}else a.current=null}function Uy(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ee(e,e.return,f)}}function $d(e,r,a){try{var l=e.stateNode;Cb(l,e.type,a,r),l[We]=r}catch(f){ee(e,e.return,f)}}function Py(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&us(e.type)||e.tag===4}function Qd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Py(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&us(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xd(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=qe));else if(l!==4&&(l===27&&us(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Xd(e,r,a),e=e.sibling;e!==null;)Xd(e,r,a),e=e.sibling}function Nc(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&us(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Nc(e,r,a),e=e.sibling;e!==null;)Nc(e,r,a),e=e.sibling}function ky(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);nn(r,l,a),r[Te]=e,r[We]=a}catch(d){ee(e,e.return,d)}}var lr=!1,Ve=!1,Jd=!1,By=typeof WeakSet=="function"?WeakSet:Set,$e=null;function ob(e,r){if(e=e.containerInfo,ym=Xc,e=Jg(e),Gf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var y=0,A=-1,N=-1,H=0,$=0,tt=e,F=null;e:for(;;){for(var q;tt!==a||f!==0&&tt.nodeType!==3||(A=y+f),tt!==d||l!==0&&tt.nodeType!==3||(N=y+l),tt.nodeType===3&&(y+=tt.nodeValue.length),(q=tt.firstChild)!==null;)F=tt,tt=q;for(;;){if(tt===e)break e;if(F===a&&++H===f&&(A=y),F===d&&++$===l&&(N=y),(q=tt.nextSibling)!==null)break;tt=F,F=tt.parentNode}tt=q}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Em={focusedElem:e,selectionRange:a},Xc=!1,$e=r;$e!==null;)if(r=$e,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,$e=e;else for(;$e!==null;){switch(r=$e,d=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=ua(a.type,f);e=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){ee(a,a.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)Am(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Am(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,$e=e;break}$e=r.return}}function zy(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:cr(e,a),l&4&&Rl(5,a);break;case 1:if(cr(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(y){ee(a,a.return,y)}else{var f=ua(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(y){ee(a,a.return,y)}}l&64&&Ly(a),l&512&&bl(a,a.return);break;case 3:if(cr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{I_(e,r)}catch(y){ee(a,a.return,y)}}break;case 27:r===null&&l&4&&ky(a);case 26:case 5:cr(e,a),r===null&&l&4&&Uy(a),l&512&&bl(a,a.return);break;case 12:cr(e,a);break;case 31:cr(e,a),l&4&&Fy(e,a);break;case 13:cr(e,a),l&4&&Gy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=gb.bind(null,a),Ub(e,a))));break;case 22:if(l=a.memoizedState!==null||lr,!l){r=r!==null&&r.memoizedState!==null||Ve,f=lr;var d=Ve;lr=l,(Ve=r)&&!d?hr(e,a,(a.subtreeFlags&8772)!==0):cr(e,a),lr=f,Ve=d}break;case 30:break;default:cr(e,a)}}function jy(e){var r=e.alternate;r!==null&&(e.alternate=null,jy(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&js(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,Dn=!1;function ur(e,r,a){for(a=a.child;a!==null;)Hy(e,r,a),a=a.sibling}function Hy(e,r,a){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(wr,a)}catch{}switch(a.tag){case 26:Ve||xi(a,r),ur(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ve||xi(a,r);var l=ge,f=Dn;us(a.type)&&(ge=a.stateNode,Dn=!1),ur(e,r,a),Vl(a.stateNode),ge=l,Dn=f;break;case 5:Ve||xi(a,r);case 6:if(l=ge,f=Dn,ge=null,ur(e,r,a),ge=l,Dn=f,ge!==null)if(Dn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(a.stateNode)}catch(d){ee(a,r,d)}else try{ge.removeChild(a.stateNode)}catch(d){ee(a,r,d)}break;case 18:ge!==null&&(Dn?(e=ge,LE(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),co(e)):LE(ge,a.stateNode));break;case 4:l=ge,f=Dn,ge=a.stateNode.containerInfo,Dn=!0,ur(e,r,a),ge=l,Dn=f;break;case 0:case 11:case 14:case 15:ns(2,a,r),Ve||ns(4,a,r),ur(e,r,a);break;case 1:Ve||(xi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Vy(a,r,l)),ur(e,r,a);break;case 21:ur(e,r,a);break;case 22:Ve=(l=Ve)||a.memoizedState!==null,ur(e,r,a),Ve=l;break;default:ur(e,r,a)}}function Fy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{co(e)}catch(a){ee(r,r.return,a)}}}function Gy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{co(e)}catch(a){ee(r,r.return,a)}}function lb(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new By),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new By),r;default:throw Error(s(435,e.tag))}}function Oc(e,r){var a=lb(e);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=_b.bind(null,e,l);l.then(f,f)}})}function Mn(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,y=r,A=y;t:for(;A!==null;){switch(A.tag){case 27:if(us(A.type)){ge=A.stateNode,Dn=!1;break t}break;case 5:ge=A.stateNode,Dn=!1;break t;case 3:case 4:ge=A.stateNode.containerInfo,Dn=!0;break t}A=A.return}if(ge===null)throw Error(s(160));Hy(d,y,f),ge=null,Dn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)qy(r,e),r=r.sibling}var yi=null;function qy(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mn(r,e),xn(e),l&4&&(ns(3,e,e.return),Rl(3,e),ns(5,e,e.return));break;case 1:Mn(r,e),xn(e),l&512&&(Ve||a===null||xi(a,a.return)),l&64&&lr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=yi;if(Mn(r,e),xn(e),l&512&&(Ve||a===null||xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Yi]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),nn(d,l,a),d[Te]=e,be(d),l=d;break t;case"link":var y=qE("link","href",f).get(l+(a.href||""));if(y){for(var A=0;A<y.length;A++)if(d=y[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(A,1);break e}}d=f.createElement(l),nn(d,l,a),f.head.appendChild(d);break;case"meta":if(y=qE("meta","content",f).get(l+(a.content||""))){for(A=0;A<y.length;A++)if(d=y[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(A,1);break e}}d=f.createElement(l),nn(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Te]=e,be(d),l=d}e.stateNode=l}else YE(f,e.type,e.stateNode);else e.stateNode=GE(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?YE(f,e.type,e.stateNode):GE(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&$d(e,e.memoizedProps,a.memoizedProps)}break;case 27:Mn(r,e),xn(e),l&512&&(Ve||a===null||xi(a,a.return)),a!==null&&l&4&&$d(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Mn(r,e),xn(e),l&512&&(Ve||a===null||xi(a,a.return)),e.flags&32){f=e.stateNode;try{ei(f,"")}catch(dt){ee(e,e.return,dt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,$d(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Jd=!0);break;case 6:if(Mn(r,e),xn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(dt){ee(e,e.return,dt)}}break;case 3:if(Yc=null,f=yi,yi=Gc(r.containerInfo),Mn(r,e),yi=f,xn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{co(r.containerInfo)}catch(dt){ee(e,e.return,dt)}Jd&&(Jd=!1,Yy(e));break;case 4:l=yi,yi=Gc(e.stateNode.containerInfo),Mn(r,e),xn(e),yi=l;break;case 12:Mn(r,e),xn(e);break;case 31:Mn(r,e),xn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Oc(e,l)));break;case 13:Mn(r,e),xn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mc=ue()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Oc(e,l)));break;case 22:f=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=lr,$=Ve;if(lr=H||f,Ve=$||N,Mn(r,e),Ve=$,lr=H,xn(e),l&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||lr||Ve||ca(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=N.stateNode;var tt=N.memoizedProps.style,F=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(dt){ee(N,N.return,dt)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(dt){ee(N,N.return,dt)}}}else if(r.tag===18){if(a===null){N=r;try{var q=N.stateNode;f?VE(q,!0):VE(N.stateNode,!1)}catch(dt){ee(N,N.return,dt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Oc(e,a))));break;case 19:Mn(r,e),xn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Oc(e,l)));break;case 30:break;case 21:break;default:Mn(r,e),xn(e)}}function xn(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(Py(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Qd(e);Nc(e,d,f);break;case 5:var y=a.stateNode;a.flags&32&&(ei(y,""),a.flags&=-33);var A=Qd(e);Nc(e,A,y);break;case 3:case 4:var N=a.stateNode.containerInfo,H=Qd(e);Xd(e,H,N);break;default:throw Error(s(161))}}catch($){ee(e,e.return,$)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Yy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function cr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)zy(e,r.alternate,r),r=r.sibling}function ca(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:ns(4,r,r.return),ca(r);break;case 1:xi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Vy(r,r.return,a),ca(r);break;case 27:Vl(r.stateNode);case 26:case 5:xi(r,r.return),ca(r);break;case 22:r.memoizedState===null&&ca(r);break;case 30:ca(r);break;default:ca(r)}e=e.sibling}}function hr(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=e,d=r,y=d.flags;switch(d.tag){case 0:case 11:case 15:hr(f,d,a),Rl(4,d);break;case 1:if(hr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){ee(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)S_(N[f],A)}catch(H){ee(l,l.return,H)}}a&&y&64&&Ly(d),bl(d,d.return);break;case 27:ky(d);case 26:case 5:hr(f,d,a),a&&l===null&&y&4&&Uy(d),bl(d,d.return);break;case 12:hr(f,d,a);break;case 31:hr(f,d,a),a&&y&4&&Fy(f,d);break;case 13:hr(f,d,a),a&&y&4&&Gy(f,d);break;case 22:d.memoizedState===null&&hr(f,d,a),bl(d,d.return);break;case 30:break;default:hr(f,d,a)}r=r.sibling}}function Wd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&fl(a))}function Zd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&fl(e))}function Ei(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ky(e,r,a,l),r=r.sibling}function Ky(e,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ei(e,r,a,l),f&2048&&Rl(9,r);break;case 1:Ei(e,r,a,l);break;case 3:Ei(e,r,a,l),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&fl(e)));break;case 12:if(f&2048){Ei(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,y=d.id,A=d.onPostCommit;typeof A=="function"&&A(y,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){ee(r,r.return,N)}}else Ei(e,r,a,l);break;case 31:Ei(e,r,a,l);break;case 13:Ei(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,y=r.alternate,r.memoizedState!==null?d._visibility&2?Ei(e,r,a,l):wl(e,r):d._visibility&2?Ei(e,r,a,l):(d._visibility|=2,Za(e,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Wd(y,r);break;case 24:Ei(e,r,a,l),f&2048&&Zd(r.alternate,r);break;default:Ei(e,r,a,l)}}function Za(e,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=e,y=r,A=a,N=l,H=y.flags;switch(y.tag){case 0:case 11:case 15:Za(d,y,A,N,f),Rl(8,y);break;case 23:break;case 22:var $=y.stateNode;y.memoizedState!==null?$._visibility&2?Za(d,y,A,N,f):wl(d,y):($._visibility|=2,Za(d,y,A,N,f)),f&&H&2048&&Wd(y.alternate,y);break;case 24:Za(d,y,A,N,f),f&&H&2048&&Zd(y.alternate,y);break;default:Za(d,y,A,N,f)}r=r.sibling}}function wl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,f=l.flags;switch(l.tag){case 22:wl(a,l),f&2048&&Wd(l.alternate,l);break;case 24:wl(a,l),f&2048&&Zd(l.alternate,l);break;default:wl(a,l)}r=r.sibling}}var Cl=8192;function to(e,r,a){if(e.subtreeFlags&Cl)for(e=e.child;e!==null;)$y(e,r,a),e=e.sibling}function $y(e,r,a){switch(e.tag){case 26:to(e,r,a),e.flags&Cl&&e.memoizedState!==null&&$b(a,yi,e.memoizedState,e.memoizedProps);break;case 5:to(e,r,a);break;case 3:case 4:var l=yi;yi=Gc(e.stateNode.containerInfo),to(e,r,a),yi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Cl,Cl=16777216,to(e,r,a),Cl=l):to(e,r,a));break;default:to(e,r,a)}}function Qy(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Nl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];$e=l,Jy(l,e)}Qy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xy(e),e=e.sibling}function Xy(e){switch(e.tag){case 0:case 11:case 15:Nl(e),e.flags&2048&&ns(9,e,e.return);break;case 3:Nl(e);break;case 12:Nl(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Dc(e)):Nl(e);break;default:Nl(e)}}function Dc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];$e=l,Jy(l,e)}Qy(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:ns(8,r,r.return),Dc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Dc(r));break;default:Dc(r)}e=e.sibling}}function Jy(e,r){for(;$e!==null;){var a=$e;switch(a.tag){case 0:case 11:case 15:ns(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$e=l;else t:for(a=e;$e!==null;){l=$e;var f=l.sibling,d=l.return;if(jy(l),l===a){$e=null;break t}if(f!==null){f.return=d,$e=f;break t}$e=d}}}var ub={getCacheForType:function(e){var r=tn(Me),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return tn(Me).controller.signal}},cb=typeof WeakMap=="function"?WeakMap:Map,Wt=0,oe=null,kt=null,zt=0,te=0,Fn=null,is=!1,eo=!1,tm=!1,fr=0,Ie=0,rs=0,ha=0,em=0,Gn=0,no=0,Ol=null,Ln=null,nm=!1,Mc=0,Wy=0,xc=1/0,Lc=null,ss=null,He=0,as=null,io=null,dr=0,im=0,rm=null,Zy=null,Dl=0,sm=null;function qn(){return(Wt&2)!==0&&zt!==0?zt&-zt:K.T!==null?hm():qi()}function tE(){if(Gn===0)if((zt&536870912)===0||qt){var e=Si;Si<<=1,(Si&3932160)===0&&(Si=262144),Gn=e}else Gn=536870912;return e=jn.current,e!==null&&(e.flags|=32),Gn}function Vn(e,r,a){(e===oe&&(te===2||te===9)||e.cancelPendingCommit!==null)&&(ro(e,0),os(e,zt,Gn,!1)),Or(e,a),((Wt&2)===0||e!==oe)&&(e===oe&&((Wt&2)===0&&(ha|=a),Ie===4&&os(e,zt,Gn,!1)),Li(e))}function eE(e,r,a){if((Wt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&e.expiredLanes)===0||Nr(e,r),f=l?db(e,r):om(e,r,!0),d=l;do{if(f===0){eo&&!l&&os(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!hb(a)){f=om(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){r=y;t:{var A=e;f=Ol;var N=A.current.memoizedState.isDehydrated;if(N&&(ro(A,y).flags|=256),y=om(A,y,!1),y!==2){if(tm&&!N){A.errorRecoveryDisabledLanes|=d,ha|=d,f=4;break t}d=Ln,Ln=f,d!==null&&(Ln===null?Ln=d:Ln.push.apply(Ln,d))}f=y}if(d=!1,f!==2)continue}}if(f===1){ro(e,0),os(e,r,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:os(l,r,Gn,!is);break t;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Mc+300-ue(),10<f)){if(os(l,r,Gn,!is),Zn(l,0,!0)!==0)break t;dr=r,l.timeoutHandle=ME(nE.bind(null,l,a,Ln,Lc,nm,r,Gn,ha,no,is,d,"Throttled",-0,0),f);break t}nE(l,a,Ln,Lc,nm,r,Gn,ha,no,is,d,null,-0,0)}}break}while(!0);Li(e)}function nE(e,r,a,l,f,d,y,A,N,H,$,tt,F,q){if(e.timeoutHandle=-1,tt=r.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qe},$y(r,d,tt);var dt=(d&62914560)===d?Mc-ue():(d&4194048)===d?Wy-ue():0;if(dt=Qb(tt,dt),dt!==null){dr=d,e.cancelPendingCommit=dt(cE.bind(null,e,r,d,a,l,f,y,A,N,$,tt,null,F,q)),os(e,d,y,!H);return}}cE(e,r,d,a,l,f,y,A,N)}function hb(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Bn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function os(e,r,a,l){r&=~em,r&=~ha,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var f=r;0<f;){var d=31-_n(f),y=1<<d;l[d]=-1,f&=~y}a!==0&&qo(e,a,r)}function Vc(){return(Wt&6)===0?(Ml(0),!1):!0}function am(){if(kt!==null){if(te===0)var e=kt.return;else e=kt,nr=na=null,Ad(e),$a=null,ml=0,e=kt;for(;e!==null;)xy(e.alternate,e),e=e.return;kt=null}}function ro(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Db(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),dr=0,am(),oe=e,kt=a=tr(e.current,null),zt=r,te=0,Fn=null,is=!1,eo=Nr(e,r),tm=!1,no=Gn=em=ha=rs=Ie=0,Ln=Ol=null,nm=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var f=31-_n(l),d=1<<f;r|=e[f],l&=~d}return fr=r,nc(),a}function iE(e,r){Ot=null,K.H=Al,r===Ka||r===cc?(r=E_(),te=3):r===cd?(r=E_(),te=4):te=r===kd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Fn=r,kt===null&&(Ie=1,Ic(e,ii(r,e.current)))}function rE(){var e=jn.current;return e===null?!0:(zt&4194048)===zt?oi===null:(zt&62914560)===zt||(zt&536870912)!==0?e===oi:!1}function sE(){var e=K.H;return K.H=Al,e===null?Al:e}function aE(){var e=K.A;return K.A=ub,e}function Uc(){Ie=4,is||(zt&4194048)!==zt&&jn.current!==null||(eo=!0),(rs&134217727)===0&&(ha&134217727)===0||oe===null||os(oe,zt,Gn,!1)}function om(e,r,a){var l=Wt;Wt|=2;var f=sE(),d=aE();(oe!==e||zt!==r)&&(Lc=null,ro(e,r)),r=!1;var y=Ie;t:do try{if(te!==0&&kt!==null){var A=kt,N=Fn;switch(te){case 8:am(),y=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(r=!0);var H=te;if(te=0,Fn=null,so(e,A,N,H),a&&eo){y=0;break t}break;default:H=te,te=0,Fn=null,so(e,A,N,H)}}fb(),y=Ie;break}catch($){iE(e,$)}while(!0);return r&&e.shellSuspendCounter++,nr=na=null,Wt=l,K.H=f,K.A=d,kt===null&&(oe=null,zt=0,nc()),y}function fb(){for(;kt!==null;)oE(kt)}function db(e,r){var a=Wt;Wt|=2;var l=sE(),f=aE();oe!==e||zt!==r?(Lc=null,xc=ue()+500,ro(e,r)):eo=Nr(e,r);t:do try{if(te!==0&&kt!==null){r=kt;var d=Fn;e:switch(te){case 1:te=0,Fn=null,so(e,r,d,1);break;case 2:case 9:if(__(d)){te=0,Fn=null,lE(r);break}r=function(){te!==2&&te!==9||oe!==e||(te=7),Li(e)},d.then(r,r);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:__(d)?(te=0,Fn=null,lE(r)):(te=0,Fn=null,so(e,r,d,7));break;case 5:var y=null;switch(kt.tag){case 26:y=kt.memoizedState;case 5:case 27:var A=kt;if(y?KE(y):A.stateNode.complete){te=0,Fn=null;var N=A.sibling;if(N!==null)kt=N;else{var H=A.return;H!==null?(kt=H,Pc(H)):kt=null}break e}}te=0,Fn=null,so(e,r,d,5);break;case 6:te=0,Fn=null,so(e,r,d,6);break;case 8:am(),Ie=6;break t;default:throw Error(s(462))}}mb();break}catch($){iE(e,$)}while(!0);return nr=na=null,K.H=l,K.A=f,Wt=a,kt!==null?0:(oe=null,zt=0,nc(),Ie)}function mb(){for(;kt!==null&&!Nt();)oE(kt)}function oE(e){var r=Dy(e.alternate,e,fr);e.memoizedProps=e.pendingProps,r===null?Pc(e):kt=r}function lE(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Ry(a,r,r.pendingProps,r.type,void 0,zt);break;case 11:r=Ry(a,r,r.pendingProps,r.type.render,r.ref,zt);break;case 5:Ad(r);default:xy(a,r),r=kt=a_(r,fr),r=Dy(a,r,fr)}e.memoizedProps=e.pendingProps,r===null?Pc(e):kt=r}function so(e,r,a,l){nr=na=null,Ad(r),$a=null,ml=0;var f=r.return;try{if(nb(e,f,r,a,zt)){Ie=1,Ic(e,ii(a,e.current)),kt=null;return}}catch(d){if(f!==null)throw kt=f,d;Ie=1,Ic(e,ii(a,e.current)),kt=null;return}r.flags&32768?(qt||l===1?e=!0:eo||(zt&536870912)!==0?e=!1:(is=e=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),uE(r,e)):Pc(r)}function Pc(e){var r=e;do{if((r.flags&32768)!==0){uE(r,is);return}e=r.return;var a=sb(r.alternate,r,fr);if(a!==null){kt=a;return}if(r=r.sibling,r!==null){kt=r;return}kt=r=e}while(r!==null);Ie===0&&(Ie=5)}function uE(e,r){do{var a=ab(e.alternate,e);if(a!==null){a.flags&=32767,kt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){kt=e;return}kt=e=a}while(e!==null);Ie=6,kt=null}function cE(e,r,a,l,f,d,y,A,N){e.cancelPendingCommit=null;do kc();while(He!==0);if((Wt&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Qf,Je(e,a,d,y,A,N),e===oe&&(kt=oe=null,zt=0),io=r,as=e,dr=a,im=d,rm=f,Zy=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,yb(Fi,function(){return pE(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=lt.p,lt.p=2,y=Wt,Wt|=4;try{ob(e,r,a)}finally{Wt=y,lt.p=f,K.T=l}}He=1,hE(),fE(),dE()}}function hE(){if(He===1){He=0;var e=as,r=io,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=lt.p;lt.p=2;var f=Wt;Wt|=4;try{qy(r,e);var d=Em,y=Jg(e.containerInfo),A=d.focusedElem,N=d.selectionRange;if(y!==A&&A&&A.ownerDocument&&Xg(A.ownerDocument.documentElement,A)){if(N!==null&&Gf(A)){var H=N.start,$=N.end;if($===void 0&&($=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min($,A.value.length);else{var tt=A.ownerDocument||document,F=tt&&tt.defaultView||window;if(F.getSelection){var q=F.getSelection(),dt=A.textContent.length,Tt=Math.min(N.start,dt),se=N.end===void 0?Tt:Math.min(N.end,dt);!q.extend&&Tt>se&&(y=se,se=Tt,Tt=y);var k=Qg(A,Tt),M=Qg(A,se);if(k&&M&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var j=tt.createRange();j.setStart(k.node,k.offset),q.removeAllRanges(),Tt>se?(q.addRange(j),q.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),q.addRange(j))}}}}for(tt=[],q=A;q=q.parentNode;)q.nodeType===1&&tt.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<tt.length;A++){var J=tt[A];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Xc=!!ym,Em=ym=null}finally{Wt=f,lt.p=l,K.T=a}}e.current=r,He=2}}function fE(){if(He===2){He=0;var e=as,r=io,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=lt.p;lt.p=2;var f=Wt;Wt|=4;try{zy(e,r.alternate,r)}finally{Wt=f,lt.p=l,K.T=a}}He=3}}function dE(){if(He===4||He===3){He=0,Oe();var e=as,r=io,a=dr,l=Zy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?He=5:(He=0,io=as=null,mE(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(ss=null),Ko(a),r=r.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(wr,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,f=lt.p,lt.p=2,K.T=null;try{for(var d=e.onRecoverableError,y=0;y<l.length;y++){var A=l[y];d(A.value,{componentStack:A.stack})}}finally{K.T=r,lt.p=f}}(dr&3)!==0&&kc(),Li(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===sm?Dl++:(Dl=0,sm=e):Dl=0,Ml(0)}}function mE(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,fl(r)))}function kc(){return hE(),fE(),dE(),pE()}function pE(){if(He!==5)return!1;var e=as,r=im;im=0;var a=Ko(dr),l=K.T,f=lt.p;try{lt.p=32>a?32:a,K.T=null,a=rm,rm=null;var d=as,y=dr;if(He=0,io=as=null,dr=0,(Wt&6)!==0)throw Error(s(331));var A=Wt;if(Wt|=4,Xy(d.current),Ky(d,d.current,y,a),Wt=A,Ml(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(wr,d)}catch{}return!0}finally{lt.p=f,K.T=l,mE(e,r)}}function gE(e,r,a){r=ii(a,r),r=Pd(e.stateNode,r,2),e=Zr(e,r,2),e!==null&&(Or(e,2),Li(e))}function ee(e,r,a){if(e.tag===3)gE(e,e,a);else for(;r!==null;){if(r.tag===3){gE(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ss===null||!ss.has(l))){e=ii(a,e),a=_y(2),l=Zr(r,a,2),l!==null&&(yy(a,l,r,e),Or(l,2),Li(l));break}}r=r.return}}function lm(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new cb;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(tm=!0,f.add(a),e=pb.bind(null,e,r,a),r.then(e,e))}function pb(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,oe===e&&(zt&a)===a&&(Ie===4||Ie===3&&(zt&62914560)===zt&&300>ue()-Mc?(Wt&2)===0&&ro(e,0):em|=a,no===zt&&(no=0)),Li(e)}function _E(e,r){r===0&&(r=Go()),e=Zs(e,r),e!==null&&(Or(e,r),Li(e))}function gb(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),_E(e,a)}function _b(e,r){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),_E(e,a)}function yb(e,r){return je(e,r)}var Bc=null,ao=null,um=!1,zc=!1,cm=!1,ls=0;function Li(e){e!==ao&&e.next===null&&(ao===null?Bc=ao=e:ao=ao.next=e),zc=!0,um||(um=!0,vb())}function Ml(e,r){if(!cm&&zc){cm=!0;do for(var a=!1,l=Bc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var y=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-_n(42|e)+1)-1,d&=f&~(y&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,TE(l,d))}else d=zt,d=Zn(l,l===oe?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Nr(l,d)||(a=!0,TE(l,d));l=l.next}while(a);cm=!1}}function Eb(){yE()}function yE(){zc=um=!1;var e=0;ls!==0&&Ob()&&(e=ls);for(var r=ue(),a=null,l=Bc;l!==null;){var f=l.next,d=EE(l,r);d===0?(l.next=null,a===null?Bc=f:a.next=f,f===null&&(ao=a)):(a=l,(e!==0||(d&3)!==0)&&(zc=!0)),l=f}He!==0&&He!==5||Ml(e),ls!==0&&(ls=0)}function EE(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-_n(d),A=1<<y,N=f[y];N===-1?((A&a)===0||(A&l)!==0)&&(f[y]=ba(A,r)):N<=r&&(e.expiredLanes|=A),d&=~A}if(r=oe,a=zt,a=Zn(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(te===2||te===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Gt(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Nr(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&Gt(l),Ko(a)){case 2:case 8:a=Ge;break;case 32:a=Fi;break;case 268435456:a=Ho;break;default:a=Fi}return l=vE.bind(null,e),a=je(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&Gt(l),e.callbackPriority=2,e.callbackNode=null,2}function vE(e,r){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(kc()&&e.callbackNode!==a)return null;var l=zt;return l=Zn(e,e===oe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(eE(e,l,r),EE(e,ue()),e.callbackNode!=null&&e.callbackNode===a?vE.bind(null,e):null)}function TE(e,r){if(kc())return null;eE(e,r,!0)}function vb(){Mb(function(){(Wt&6)!==0?je(pe,Eb):yE()})}function hm(){if(ls===0){var e=qa;e===0&&(e=zs,zs<<=1,(zs&261888)===0&&(zs=256)),ls=e}return ls}function AE(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ci(""+e)}function SE(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function Tb(e,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=AE((f[We]||null).action),y=l.submitter;y&&(r=(r=y[We]||null)?AE(r.formAction):y.getAttribute("formAction"),r!==null&&(d=r,y=null));var A=new Ys("action","action",null,l,f);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ls!==0){var N=y?SE(f,y):new FormData(f);Dd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(A.preventDefault(),N=y?SE(f,y):new FormData(f),Dd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var fm=0;fm<$f.length;fm++){var dm=$f[fm],Ab=dm.toLowerCase(),Sb=dm[0].toUpperCase()+dm.slice(1);_i(Ab,"on"+Sb)}_i(t_,"onAnimationEnd"),_i(e_,"onAnimationIteration"),_i(n_,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(BR,"onTransitionRun"),_i(zR,"onTransitionStart"),_i(jR,"onTransitionCancel"),_i(i_,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ib=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function IE(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var y=l.length-1;0<=y;y--){var A=l[y],N=A.instance,H=A.currentTarget;if(A=A.listener,N!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=H;try{d(f)}catch($){ec($)}f.currentTarget=null,d=N}else for(y=0;y<l.length;y++){if(A=l[y],N=A.instance,H=A.currentTarget,A=A.listener,N!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=H;try{d(f)}catch($){ec($)}f.currentTarget=null,d=N}}}}function Bt(e,r){var a=r[xr];a===void 0&&(a=r[xr]=new Set);var l=e+"__bubble";a.has(l)||(RE(r,e,2,!1),a.add(l))}function mm(e,r,a){var l=0;r&&(l|=4),RE(a,e,l,r)}var jc="_reactListening"+Math.random().toString(36).slice(2);function pm(e){if(!e[jc]){e[jc]=!0,wa.forEach(function(a){a!=="selectionchange"&&(Ib.has(a)||mm(a,!1,e),mm(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[jc]||(r[jc]=!0,mm("selectionchange",!1,r))}}function RE(e,r,a,l){switch(tv(r)){case 2:var f=Wb;break;case 8:f=Zb;break;default:f=Om}a=f.bind(null,r,a,e),f=void 0,!el||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function gm(e,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var A=l.stateNode.containerInfo;if(A===f)break;if(y===4)for(y=l.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;A!==null;){if(y=Ki(A),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){l=d=y;continue t}A=A.parentNode}}l=l.return}Bu(function(){var H=d,$=Ma(a),tt=[];t:{var F=r_.get(e);if(F!==void 0){var q=Ys,dt=e;switch(e){case"keypress":if(qs(a)===0)break t;case"keydown":case"keyup":q=$u;break;case"focusin":dt="focus",q=Fr;break;case"focusout":dt="blur",q=Fr;break;case"beforeblur":case"afterblur":q=Fr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Xu;break;case t_:case e_:case n_:q=Va;break;case i_:q=Ua;break;case"scroll":case"scrollend":q=zu;break;case"wheel":q=Wu;break;case"copy":case"cut":case"paste":q=Gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=al;break;case"toggle":case"beforetoggle":q=qr}var Tt=(r&4)!==0,se=!Tt&&(e==="scroll"||e==="scrollend"),k=Tt?F!==null?F+"Capture":null:F;Tt=[];for(var M=H,j;M!==null;){var J=M;if(j=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||j===null||k===null||(J=Nn(M,k),J!=null&&Tt.push(Ll(M,J,j))),se)break;M=M.return}0<Tt.length&&(F=new q(F,dt,null,a,$),tt.push({event:F,listeners:Tt}))}}if((r&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",F&&a!==Da&&(dt=a.relatedTarget||a.fromElement)&&(Ki(dt)||dt[Ri]))break t;if((q||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,q?(dt=a.relatedTarget||a.toElement,q=H,dt=dt?Ki(dt):null,dt!==null&&(se=u(dt),Tt=dt.tag,dt!==se||Tt!==5&&Tt!==27&&Tt!==6)&&(dt=null)):(q=null,dt=H),q!==dt)){if(Tt=ju,J="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=al,J="onPointerLeave",k="onPointerEnter",M="pointer"),se=q==null?F:Hs(q),j=dt==null?F:Hs(dt),F=new Tt(J,M+"leave",q,a,$),F.target=se,F.relatedTarget=j,J=null,Ki($)===H&&(Tt=new Tt(k,M+"enter",dt,a,$),Tt.target=j,Tt.relatedTarget=se,J=Tt),se=J,q&&dt)e:{for(Tt=Rb,k=q,M=dt,j=0,J=k;J;J=Tt(J))j++;J=0;for(var yt=M;yt;yt=Tt(yt))J++;for(;0<j-J;)k=Tt(k),j--;for(;0<J-j;)M=Tt(M),J--;for(;j--;){if(k===M||M!==null&&k===M.alternate){Tt=k;break e}k=Tt(k),M=Tt(M)}Tt=null}else Tt=null;q!==null&&bE(tt,F,q,Tt,!1),dt!==null&&se!==null&&bE(tt,se,dt,Tt,!0)}}t:{if(F=H?Hs(H):window,q=F.nodeName&&F.nodeName.toLowerCase(),q==="select"||q==="input"&&F.type==="file")var Xt=Fg;else if(On(F))if(Gg)Xt=UR;else{Xt=LR;var pt=xR}else q=F.nodeName,!q||q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Zo(H.elementType)&&(Xt=Fg):Xt=VR;if(Xt&&(Xt=Xt(e,H))){Xs(tt,Xt,a,$);break t}pt&&pt(e,F,H),e==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Oa(F,"number",F.value)}switch(pt=H?Hs(H):window,e){case"focusin":(On(pt)||pt.contentEditable==="true")&&(Pa=pt,qf=H,ul=null);break;case"focusout":ul=qf=Pa=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,Wg(tt,a,$);break;case"selectionchange":if(kR)break;case"keydown":case"keyup":Wg(tt,a,$)}var Mt;if(_)t:{switch(e){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else Vt?Zt(e,a)&&(jt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(jt="onCompositionStart");jt&&(B&&a.locale!=="ko"&&(Vt||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Vt&&(Mt=Br()):(kn=$,xa="value"in kn?kn.value:kn.textContent,Vt=!0)),pt=Hc(H,jt),0<pt.length&&(jt=new il(jt,e,null,a,$),tt.push({event:jt,listeners:pt}),Mt?jt.data=Mt:(Mt=De(a),Mt!==null&&(jt.data=Mt)))),(Mt=I?Ye(e,a):Ke(e,a))&&(jt=Hc(H,"onBeforeInput"),0<jt.length&&(pt=new il("onBeforeInput","beforeinput",null,a,$),tt.push({event:pt,listeners:jt}),pt.data=Mt)),Tb(tt,e,H,a,$)}IE(tt,r)})}function Ll(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Hc(e,r){for(var a=r+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Nn(e,a),f!=null&&l.unshift(Ll(e,f,d)),f=Nn(e,r),f!=null&&l.push(Ll(e,f,d))),e.tag===3)return l;e=e.return}return[]}function Rb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bE(e,r,a,l,f){for(var d=r._reactName,y=[];a!==null&&a!==l;){var A=a,N=A.alternate,H=A.stateNode;if(A=A.tag,N!==null&&N===l)break;A!==5&&A!==26&&A!==27||H===null||(N=H,f?(H=Nn(a,d),H!=null&&y.unshift(Ll(a,H,N))):f||(H=Nn(a,d),H!=null&&y.push(Ll(a,H,N)))),a=a.return}y.length!==0&&e.push({event:r,listeners:y})}var bb=/\r\n?/g,wb=/\u0000|\uFFFD/g;function wE(e){return(typeof e=="string"?e:""+e).replace(bb,`
`).replace(wb,"")}function CE(e,r){return r=wE(r),wE(e)===r}function re(e,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||ei(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&ei(e,""+l);break;case"className":Ur(e,"class",l);break;case"tabIndex":Ur(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ur(e,a,l);break;case"style":Pu(e,l,d);break;case"data":if(r!=="object"){Ur(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ci(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&re(e,r,"name",f.name,f,null),re(e,r,"formEncType",f.formEncType,f,null),re(e,r,"formMethod",f.formMethod,f,null),re(e,r,"formTarget",f.formTarget,f,null)):(re(e,r,"encType",f.encType,f,null),re(e,r,"method",f.method,f,null),re(e,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ci(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=qe);break;case"onScroll":l!=null&&Bt("scroll",e);break;case"onScrollEnd":l!=null&&Bt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ci(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Bt("beforetoggle",e),Bt("toggle",e),Vr(e,"popover",l);break;case"xlinkActuate":ti(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ti(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ti(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ti(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ti(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ti(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ti(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ti(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ti(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Vr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bf.get(a)||a,Vr(e,a,l))}}function _m(e,r,a,l,f,d){switch(a){case"style":Pu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ei(e,l):(typeof l=="number"||typeof l=="bigint")&&ei(e,""+l);break;case"onScroll":l!=null&&Bt("scroll",e);break;case"onScrollEnd":l!=null&&Bt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=qe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=e[We]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Vr(e,a,l)}}}function nn(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",e),Bt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:re(e,r,d,y,a,null)}}f&&re(e,r,"srcSet",a.srcSet,a,null),l&&re(e,r,"src",a.src,a,null);return;case"input":Bt("invalid",e);var A=d=y=f=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":y=$;break;case"checked":N=$;break;case"defaultChecked":H=$;break;case"value":d=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:re(e,r,l,$,a,null)}}Fs(e,d,A,N,H,y,f,!1);return;case"select":Bt("invalid",e),l=y=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":y=A;break;case"multiple":l=A;default:re(e,r,f,A,a,null)}r=d,a=y,e.multiple=!!l,r!=null?Qt(e,!!l,r,!1):a!=null&&Qt(e,!!l,a,!0);return;case"textarea":Bt("invalid",e),d=f=l=null;for(y in a)if(a.hasOwnProperty(y)&&(A=a[y],A!=null))switch(y){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:re(e,r,y,A,a,null)}kr(e,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:re(e,r,N,l,a,null)}return;case"dialog":Bt("beforetoggle",e),Bt("toggle",e),Bt("cancel",e),Bt("close",e);break;case"iframe":case"object":Bt("load",e);break;case"video":case"audio":for(l=0;l<xl.length;l++)Bt(xl[l],e);break;case"image":Bt("error",e),Bt("load",e);break;case"details":Bt("toggle",e);break;case"embed":case"source":case"link":Bt("error",e),Bt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:re(e,r,H,l,a,null)}return;default:if(Zo(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&_m(e,r,$,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&re(e,r,A,l,a,null))}function Cb(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,y=null,A=null,N=null,H=null,$=null;for(q in a){var tt=a[q];if(a.hasOwnProperty(q)&&tt!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":N=tt;default:l.hasOwnProperty(q)||re(e,r,q,null,l,tt)}}for(var F in l){var q=l[F];if(tt=a[F],l.hasOwnProperty(F)&&(q!=null||tt!=null))switch(F){case"type":d=q;break;case"name":f=q;break;case"checked":H=q;break;case"defaultChecked":$=q;break;case"value":y=q;break;case"defaultValue":A=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:q!==tt&&re(e,r,F,q,l,tt)}}Pr(e,y,A,N,H,$,d,f);return;case"select":q=y=A=F=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":q=N;default:l.hasOwnProperty(d)||re(e,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":F=d;break;case"defaultValue":A=d;break;case"multiple":y=d;default:d!==N&&re(e,r,f,d,l,N)}r=A,a=y,l=q,F!=null?Qt(e,!!a,F,!1):!!l!=!!a&&(r!=null?Qt(e,!!a,r,!0):Qt(e,!!a,a?[]:"",!1));return;case"textarea":q=F=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:re(e,r,A,null,l,f)}for(y in l)if(f=l[y],d=a[y],l.hasOwnProperty(y)&&(f!=null||d!=null))switch(y){case"value":F=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&re(e,r,y,f,l,d)}Gs(e,F,q);return;case"option":for(var dt in a)if(F=a[dt],a.hasOwnProperty(dt)&&F!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:re(e,r,dt,null,l,F)}for(N in l)if(F=l[N],q=a[N],l.hasOwnProperty(N)&&F!==q&&(F!=null||q!=null))switch(N){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:re(e,r,N,F,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)F=a[Tt],a.hasOwnProperty(Tt)&&F!=null&&!l.hasOwnProperty(Tt)&&re(e,r,Tt,null,l,F);for(H in l)if(F=l[H],q=a[H],l.hasOwnProperty(H)&&F!==q&&(F!=null||q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:re(e,r,H,F,l,q)}return;default:if(Zo(r)){for(var se in a)F=a[se],a.hasOwnProperty(se)&&F!==void 0&&!l.hasOwnProperty(se)&&_m(e,r,se,void 0,l,F);for($ in l)F=l[$],q=a[$],!l.hasOwnProperty($)||F===q||F===void 0&&q===void 0||_m(e,r,$,F,l,q);return}}for(var k in a)F=a[k],a.hasOwnProperty(k)&&F!=null&&!l.hasOwnProperty(k)&&re(e,r,k,null,l,F);for(tt in l)F=l[tt],q=a[tt],!l.hasOwnProperty(tt)||F===q||F==null&&q==null||re(e,r,tt,F,l,q)}function NE(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Nb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,y=f.initiatorType,A=f.duration;if(d&&A&&NE(y)){for(y=0,A=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],H=N.startTime;if(H>A)break;var $=N.transferSize,tt=N.initiatorType;$&&NE(tt)&&(N=N.responseEnd,y+=$*(N<A?1:(A-H)/(N-H)))}if(--l,r+=8*(d+y)/(f.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ym=null,Em=null;function Fc(e){return e.nodeType===9?e:e.ownerDocument}function OE(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DE(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function vm(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Tm=null;function Ob(){var e=window.event;return e&&e.type==="popstate"?e===Tm?!1:(Tm=e,!0):(Tm=null,!1)}var ME=typeof setTimeout=="function"?setTimeout:void 0,Db=typeof clearTimeout=="function"?clearTimeout:void 0,xE=typeof Promise=="function"?Promise:void 0,Mb=typeof queueMicrotask=="function"?queueMicrotask:typeof xE<"u"?function(e){return xE.resolve(null).then(e).catch(xb)}:ME;function xb(e){setTimeout(function(){throw e})}function us(e){return e==="head"}function LE(e,r){var a=r,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),co(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Vl(a);for(var d=a.firstChild;d;){var y=d.nextSibling,A=d.nodeName;d[Yi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&Vl(e.ownerDocument.body);a=f}while(a);co(r)}function VE(e,r){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Am(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Am(a),js(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Lb(e,r,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Yi])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=li(e.nextSibling),e===null)break}return null}function Vb(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=li(e.nextSibling),e===null))return null;return e}function UE(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=li(e.nextSibling),e===null))return null;return e}function Sm(e){return e.data==="$?"||e.data==="$~"}function Im(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ub(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function li(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var Rm=null;function PE(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return li(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function kE(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function BE(e,r,a){switch(r=Fc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Vl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);js(e)}var ui=new Map,zE=new Set;function Gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mr=lt.d;lt.d={f:Pb,r:kb,D:Bb,C:zb,L:jb,m:Hb,X:Gb,S:Fb,M:qb};function Pb(){var e=mr.f(),r=Vc();return e||r}function kb(e){var r=$i(e);r!==null&&r.tag===5&&r.type==="form"?iy(r):mr.r(e)}var oo=typeof document>"u"?null:document;function jE(e,r,a){var l=oo;if(l&&typeof r=="string"&&r){var f=Ae(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),zE.has(f)||(zE.add(f),e={rel:e,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),nn(r,"link",e),be(r),l.head.appendChild(r)))}}function Bb(e){mr.D(e),jE("dns-prefetch",e,null)}function zb(e,r){mr.C(e,r),jE("preconnect",e,r)}function jb(e,r,a){mr.L(e,r,a);var l=oo;if(l&&e&&r){var f='link[rel="preload"][as="'+Ae(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ae(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ae(a.imageSizes)+'"]')):f+='[href="'+Ae(e)+'"]';var d=f;switch(r){case"style":d=lo(e);break;case"script":d=uo(e)}ui.has(d)||(e=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),ui.set(d,e),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ul(d))||r==="script"&&l.querySelector(Pl(d))||(r=l.createElement("link"),nn(r,"link",e),be(r),l.head.appendChild(r)))}}function Hb(e,r){mr.m(e,r);var a=oo;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ae(l)+'"][href="'+Ae(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=uo(e)}if(!ui.has(d)&&(e=T({rel:"modulepreload",href:e},r),ui.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),nn(l,"link",e),be(l),a.head.appendChild(l)}}}function Fb(e,r,a){mr.S(e,r,a);var l=oo;if(l&&e){var f=pi(l).hoistableStyles,d=lo(e);r=r||"default";var y=f.get(d);if(!y){var A={loading:0,preload:null};if(y=l.querySelector(Ul(d)))A.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":r},a),(a=ui.get(d))&&bm(e,a);var N=y=l.createElement("link");be(N),nn(N,"link",e),N._p=new Promise(function(H,$){N.onload=H,N.onerror=$}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,qc(y,r,l)}y={type:"stylesheet",instance:y,count:1,state:A},f.set(d,y)}}}function Gb(e,r){mr.X(e,r);var a=oo;if(a&&e){var l=pi(a).hoistableScripts,f=uo(e),d=l.get(f);d||(d=a.querySelector(Pl(f)),d||(e=T({src:e,async:!0},r),(r=ui.get(f))&&wm(e,r),d=a.createElement("script"),be(d),nn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function qb(e,r){mr.M(e,r);var a=oo;if(a&&e){var l=pi(a).hoistableScripts,f=uo(e),d=l.get(f);d||(d=a.querySelector(Pl(f)),d||(e=T({src:e,async:!0,type:"module"},r),(r=ui.get(f))&&wm(e,r),d=a.createElement("script"),be(d),nn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function HE(e,r,a,l){var f=(f=Dt.current)?Gc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=lo(a.href),a=pi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=lo(a.href);var d=pi(f).hoistableStyles,y=d.get(e);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=f.querySelector(Ul(e)))&&!d._p&&(y.instance=d,y.state.loading=5),ui.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ui.set(e,a),d||Yb(f,e,a,y.state))),r&&l===null)throw Error(s(528,""));return y}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=uo(a),a=pi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function lo(e){return'href="'+Ae(e)+'"'}function Ul(e){return'link[rel="stylesheet"]['+e+"]"}function FE(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Yb(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),nn(r,"link",a),be(r),e.head.appendChild(r))}function uo(e){return'[src="'+Ae(e)+'"]'}function Pl(e){return"script[async]"+e}function GE(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+Ae(a.href)+'"]');if(l)return r.instance=l,be(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),be(l),nn(l,"style",f),qc(l,a.precedence,e),r.instance=l;case"stylesheet":f=lo(a.href);var d=e.querySelector(Ul(f));if(d)return r.state.loading|=4,r.instance=d,be(d),d;l=FE(a),(f=ui.get(f))&&bm(l,f),d=(e.ownerDocument||e).createElement("link"),be(d);var y=d;return y._p=new Promise(function(A,N){y.onload=A,y.onerror=N}),nn(d,"link",l),r.state.loading|=4,qc(d,a.precedence,e),r.instance=d;case"script":return d=uo(a.src),(f=e.querySelector(Pl(d)))?(r.instance=f,be(f),f):(l=a,(f=ui.get(d))&&(l=T({},a),wm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),be(f),nn(f,"link",l),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,qc(l,a.precedence,e));return r.instance}function qc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,y=0;y<l.length;y++){var A=l[y];if(A.dataset.precedence===r)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function bm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function wm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Yc=null;function qE(e,r,a){if(Yc===null){var l=new Map,f=Yc=new Map;f.set(a,l)}else f=Yc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[Yi]||d[Te]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(r)||"";y=e+y;var A=l.get(y);A?A.push(d):l.set(y,[d])}}return l}function YE(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function Kb(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function KE(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $b(e,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=lo(l.href),d=r.querySelector(Ul(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Kc.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=d,be(d);return}d=r.ownerDocument||r,l=FE(l),(f=ui.get(f))&&bm(l,f),d=d.createElement("link"),be(d);var y=d;y._p=new Promise(function(A,N){y.onload=A,y.onerror=N}),nn(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Kc.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var Cm=0;function Qb(e,r){return e.stylesheets&&e.count===0&&Qc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Qc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+r);0<e.imgBytes&&Cm===0&&(Cm=62500*Nb());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Qc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Cm?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $c=null;function Qc(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$c=new Map,r.forEach(Xb,e),$c=null,Kc.call(e))}function Xb(e,r){if(!(r.state.loading&4)){var a=$c.get(e);if(a)var l=a.get(null);else{a=new Map,$c.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var y=f[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}f=r.instance,y=f.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,f),a.set(y,f),this.count++,l=Kc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var kl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function Jb(e,r,a,l,f,d,y,A,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function $E(e,r,a,l,f,d,y,A,N,H,$,tt){return e=new Jb(e,r,a,y,N,H,$,tt,A),r=1,d===!0&&(r|=24),d=zn(3,null,null,r),e.current=d,d.stateNode=e,r=od(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},hd(d),e}function QE(e){return e?(e=za,e):za}function XE(e,r,a,l,f,d){f=QE(f),l.context===null?l.context=f:l.pendingContext=f,l=Wr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Zr(e,l,r),a!==null&&(Vn(a,e,r),gl(a,e,r))}function JE(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Nm(e,r){JE(e,r),(e=e.alternate)&&JE(e,r)}function WE(e){if(e.tag===13||e.tag===31){var r=Zs(e,67108864);r!==null&&Vn(r,e,67108864),Nm(e,67108864)}}function ZE(e){if(e.tag===13||e.tag===31){var r=qn();r=Yo(r);var a=Zs(e,r);a!==null&&Vn(a,e,r),Nm(e,r)}}var Xc=!0;function Wb(e,r,a,l){var f=K.T;K.T=null;var d=lt.p;try{lt.p=2,Om(e,r,a,l)}finally{lt.p=d,K.T=f}}function Zb(e,r,a,l){var f=K.T;K.T=null;var d=lt.p;try{lt.p=8,Om(e,r,a,l)}finally{lt.p=d,K.T=f}}function Om(e,r,a,l){if(Xc){var f=Dm(l);if(f===null)gm(e,r,l,Jc,a),ev(e,l);else if(ew(f,e,r,a,l))l.stopPropagation();else if(ev(e,l),r&4&&-1<tw.indexOf(e)){for(;f!==null;){var d=$i(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=mi(d.pendingLanes);if(y!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;y;){var N=1<<31-_n(y);A.entanglements[1]|=N,y&=~N}Li(d),(Wt&6)===0&&(xc=ue()+500,Ml(0))}}break;case 31:case 13:A=Zs(d,2),A!==null&&Vn(A,d,2),Vc(),Nm(d,2)}if(d=Dm(l),d===null&&gm(e,r,l,Jc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else gm(e,r,l,null,a)}}function Dm(e){return e=Ma(e),Mm(e)}var Jc=null;function Mm(e){if(Jc=null,e=Ki(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=h(r),e!==null)return e;e=null}else if(a===31){if(e=m(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Jc=e,null}function tv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jn()){case pe:return 2;case Ge:return 8;case Fi:case Du:return 32;case Ho:return 268435456;default:return 32}default:return 32}}var xm=!1,cs=null,hs=null,fs=null,Bl=new Map,zl=new Map,ds=[],tw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(e,r){switch(e){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Bl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(r.pointerId)}}function jl(e,r,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=$i(r),r!==null&&WE(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function ew(e,r,a,l,f){switch(r){case"focusin":return cs=jl(cs,e,r,a,l,f),!0;case"dragenter":return hs=jl(hs,e,r,a,l,f),!0;case"mouseover":return fs=jl(fs,e,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Bl.set(d,jl(Bl.get(d)||null,e,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,zl.set(d,jl(zl.get(d)||null,e,r,a,l,f)),!0}return!1}function nv(e){var r=Ki(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){e.blockedOn=r,xu(e.priority,function(){ZE(a)});return}}else if(r===31){if(r=m(a),r!==null){e.blockedOn=r,xu(e.priority,function(){ZE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=Dm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Da=l,a.target.dispatchEvent(l),Da=null}else return r=$i(a),r!==null&&WE(r),e.blockedOn=a,!1;r.shift()}return!0}function iv(e,r,a){Wc(e)&&a.delete(r)}function nw(){xm=!1,cs!==null&&Wc(cs)&&(cs=null),hs!==null&&Wc(hs)&&(hs=null),fs!==null&&Wc(fs)&&(fs=null),Bl.forEach(iv),zl.forEach(iv)}function Zc(e,r){e.blockedOn===r&&(e.blockedOn=null,xm||(xm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,nw)))}var th=null;function rv(e){th!==e&&(th=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){th===e&&(th=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],f=e[r+2];if(typeof l!="function"){if(Mm(l||a)===null)continue;break}var d=$i(a);d!==null&&(e.splice(r,3),r-=3,Dd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function co(e){function r(N){return Zc(N,e)}cs!==null&&Zc(cs,e),hs!==null&&Zc(hs,e),fs!==null&&Zc(fs,e),Bl.forEach(r),zl.forEach(r);for(var a=0;a<ds.length;a++){var l=ds[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ds.length&&(a=ds[0],a.blockedOn===null);)nv(a),a.blockedOn===null&&ds.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],y=f[We]||null;if(typeof d=="function")y||rv(a);else if(y){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,y=d[We]||null)A=y.formAction;else if(Mm(f)!==null)continue}else A=y.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),rv(a)}}}function sv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Lm(e){this._internalRoot=e}eh.prototype.render=Lm.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=qn();XE(a,l,e,r,null,null)},eh.prototype.unmount=Lm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;XE(e.current,2,null,e,null,null),Vc(),r[Ri]=null}};function eh(e){this._internalRoot=e}eh.prototype.unstable_scheduleHydration=function(e){if(e){var r=qi();e={blockedOn:null,target:e,priority:r};for(var a=0;a<ds.length&&r!==0&&r<ds[a].priority;a++);ds.splice(a,0,e),a===0&&nv(e)}};var av=t.version;if(av!=="19.2.3")throw Error(s(527,av,"19.2.3"));lt.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(r),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var iw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{wr=nh.inject(iw),un=nh}catch{}}return Fl.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",f=dy,d=my,y=py;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),r=$E(e,1,!1,null,null,a,l,null,f,d,y,sv),e[Ri]=r.current,pm(e),new Lm(r)},Fl.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=dy,y=my,A=py,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=$E(e,1,!0,r,a??null,l,f,N,d,y,A,sv),r.context=QE(null),a=r.current,l=qn(),l=Yo(l),f=Wr(l),f.callback=null,Zr(a,f,l),a=l,r.current.lanes=a,Or(r,a),Li(r),e[Ri]=r.current,pm(e),new eh(r)},Fl.version="19.2.3",Fl}var gv;function mw(){if(gv)return Pm.exports;gv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Pm.exports=dw(),Pm.exports}var pw=mw();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _v="popstate";function gw(i={}){function t(o,u){let{pathname:h="/",search:m="",hash:p=""}=Aa(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),sp("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:su(u))}function s(o,u){Qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return yw(t,n,s,i)}function Ee(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Qn(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _w(){return Math.random().toString(36).substring(2,10)}function yv(i,t){return{usr:i.state,key:i.key,idx:t}}function sp(i,t,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Aa(t):t,state:n,key:t&&t.key||s||_w()}}function su({pathname:i="/",search:t="",hash:n=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Aa(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function yw(i,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function T(){m="POP";let D=v(),et=D==null?null:D-g;g=D,p&&p({action:m,location:z.location,delta:et})}function S(D,et){m="PUSH";let rt=sp(z.location,D,et);n&&n(rt,D),g=v()+1;let Z=yv(rt,g),mt=z.createHref(rt);try{h.pushState(Z,"",mt)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;o.location.assign(mt)}u&&p&&p({action:m,location:z.location,delta:1})}function b(D,et){m="REPLACE";let rt=sp(z.location,D,et);n&&n(rt,D),g=v();let Z=yv(rt,g),mt=z.createHref(rt);h.replaceState(Z,"",mt),u&&p&&p({action:m,location:z.location,delta:0})}function V(D){return Ew(D)}let z={get action(){return m},get location(){return i(o,h)},listen(D){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(_v,T),p=D,()=>{o.removeEventListener(_v,T),p=null}},createHref(D){return t(o,D)},createURL:V,encodeLocation(D){let et=V(D);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:S,replace:b,go(D){return h.go(D)}};return z}function Ew(i,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ee(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:su(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function hA(i,t,n="/"){return vw(i,t,n,!1)}function vw(i,t,n,s){let o=typeof t=="string"?Aa(t):t,u=vr(o.pathname||"/",n);if(u==null)return null;let h=fA(i);Tw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Mw(u);m=Ow(h[p],g,s)}return m}function fA(i,t=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let v={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;Ee(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=yr([s,v.relativePath]),S=n.concat(v);h.children&&h.children.length>0&&(Ee(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),fA(h.children,t,S,T,p)),!(h.path==null&&!h.index)&&t.push({path:T,score:Cw(T,h.index),routesMeta:S})};return i.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of dA(h.path))u(h,m,!0,g)}),t}function dA(i){let t=i.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=dA(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Tw(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:Nw(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Aw=/^:[\w-]+$/,Sw=3,Iw=2,Rw=1,bw=10,ww=-2,Ev=i=>i==="*";function Cw(i,t){let n=i.split("/"),s=n.length;return n.some(Ev)&&(s+=ww),t&&(s+=Iw),n.filter(o=>!Ev(o)).reduce((o,u)=>o+(Aw.test(u)?Sw:u===""?Rw:bw),s)}function Nw(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function Ow(i,t,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?t:t.slice(u.length)||"/",T=xh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=xh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:yr([u,T.pathname]),pathnameBase:Uw(yr([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=yr([u,T.pathnameBase]))}return h}function xh(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Dw(i.path,i.caseSensitive,i.end),o=t.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},S)=>{if(v==="*"){let V=m[S]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const b=m[S];return T&&!b?g[v]=void 0:g[v]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function Dw(i,t=!1,n=!0){Qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Mw(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function vr(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var mA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xw=i=>mA.test(i);function Lw(i,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Aa(i):i,u;if(n)if(xw(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=vv(n.substring(1),"/"):u=vv(n,t)}else u=t;return{pathname:u,search:Pw(s),hash:kw(o)}}function vv(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function jm(i,t,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vw(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pA(i){let t=Vw(i);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function gA(i,t,n,s=!1){let o;typeof i=="string"?o=Aa(i):(o={...i},Ee(!o.pathname||!o.pathname.includes("?"),jm("?","pathname","search",o)),Ee(!o.pathname||!o.pathname.includes("#"),jm("#","pathname","hash",o)),Ee(!o.search||!o.search.includes("#"),jm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=t.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?t[T]:"/"}let p=Lw(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var yr=i=>i.join("/").replace(/\/\/+/g,"/"),Uw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Pw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,kw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Bw=class{constructor(i,t,n,s=!1){this.status=i,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function zw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function jw(i){return i.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function yA(i,t){let n=i;if(typeof n!="string"||!mA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(_A)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=vr(h.pathname,t);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Qn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var EA=["POST","PUT","PATCH","DELETE"];new Set(EA);var Hw=["GET",...EA];new Set(Hw);var xo=G.createContext(null);xo.displayName="DataRouter";var af=G.createContext(null);af.displayName="DataRouterState";var Fw=G.createContext(!1),vA=G.createContext({isTransitioning:!1});vA.displayName="ViewTransition";var Gw=G.createContext(new Map);Gw.displayName="Fetchers";var qw=G.createContext(null);qw.displayName="Await";var di=G.createContext(null);di.displayName="Navigation";var du=G.createContext(null);du.displayName="Location";var Rr=G.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var jp=G.createContext(null);jp.displayName="RouteError";var TA="REACT_ROUTER_ERROR",Yw="REDIRECT",Kw="ROUTE_ERROR_RESPONSE";function $w(i){if(i.startsWith(`${TA}:${Yw}:{`))try{let t=JSON.parse(i.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Qw(i){if(i.startsWith(`${TA}:${Kw}:{`))try{let t=JSON.parse(i.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Bw(t.status,t.statusText,t.data)}catch{}}function Xw(i,{relative:t}={}){Ee(mu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(di),{hash:o,pathname:u,search:h}=pu(i,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:yr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function mu(){return G.useContext(du)!=null}function Us(){return Ee(mu(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(du).location}var AA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SA(i){G.useContext(di).static||G.useLayoutEffect(i)}function Hp(){let{isDataRoute:i}=G.useContext(Rr);return i?u1():Jw()}function Jw(){Ee(mu(),"useNavigate() may be used only in the context of a <Router> component.");let i=G.useContext(xo),{basename:t,navigator:n}=G.useContext(di),{matches:s}=G.useContext(Rr),{pathname:o}=Us(),u=JSON.stringify(pA(s)),h=G.useRef(!1);return SA(()=>{h.current=!0}),G.useCallback((p,g={})=>{if(Qn(h.current,AA),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=gA(p,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:yr([t,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[t,n,u,o,i])}G.createContext(null);function pu(i,{relative:t}={}){let{matches:n}=G.useContext(Rr),{pathname:s}=Us(),o=JSON.stringify(pA(n));return G.useMemo(()=>gA(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function Ww(i,t){return IA(i,t)}function IA(i,t,n,s,o){var rt;Ee(mu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=G.useContext(di),{matches:h}=G.useContext(Rr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let Z=T&&T.path||"";bA(g,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let S=Us(),b;if(t){let Z=typeof t=="string"?Aa(t):t;Ee(v==="/"||((rt=Z.pathname)==null?void 0:rt.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),b=Z}else b=S;let V=b.pathname||"/",z=V;if(v!=="/"){let Z=v.replace(/^\//,"").split("/");z="/"+V.replace(/^\//,"").split("/").slice(Z.length).join("/")}let D=hA(i,{pathname:z});Qn(T||D!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Qn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=i1(D&&D.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:yr([v,u.encodeLocation?u.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?v:yr([v,u.encodeLocation?u.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),h,n,s,o);return t&&et?G.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},et):et}function Zw(){let i=l1(),t=zw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:o},n):null,h)}var t1=G.createElement(Zw,null),RA=class extends G.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.onError?this.props.onError(i,t):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=Qw(i.digest);n&&(i=n)}let t=i!==void 0?G.createElement(Rr.Provider,{value:this.props.routeContext},G.createElement(jp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?G.createElement(e1,{error:i},t):t}};RA.contextType=Fw;var Hm=new WeakMap;function e1({children:i,error:t}){let{basename:n}=G.useContext(di);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=$w(t.digest);if(s){let o=Hm.get(t);if(o)throw o;let u=yA(s.location,n);if(_A&&!Hm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Hm.set(t,h),h}return G.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function n1({routeContext:i,match:t,children:n}){let s=G.useContext(xo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(Rr.Provider,{value:i},n)}function i1(i,t=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n==null?void 0:n.errors;if(h!=null){let v=u.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);Ee(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,p=-1;if(n)for(let v=0;v<u.length;v++){let T=u[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=v),T.route.id){let{loaderData:S,errors:b}=n,V=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!b||b[T.route.id]===void 0);if(T.route.lazy||V){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(v,T)=>{var S,b;s(v,{location:n.location,params:((b=(S=n.matches)==null?void 0:S[0])==null?void 0:b.params)??{},unstable_pattern:jw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((v,T,S)=>{let b,V=!1,z=null,D=null;n&&(b=h&&T.route.id?h[T.route.id]:void 0,z=T.route.errorElement||t1,m&&(p<0&&S===0?(bA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,D=null):p===S&&(V=!0,D=T.route.hydrateFallbackElement||null)));let et=t.concat(u.slice(0,S+1)),rt=()=>{let Z;return b?Z=z:V?Z=D:T.route.Component?Z=G.createElement(T.route.Component,null):T.route.element?Z=T.route.element:Z=v,G.createElement(n1,{match:T,routeContext:{outlet:v,matches:et,isDataRoute:n!=null},children:Z})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?G.createElement(RA,{location:n.location,revalidation:n.revalidation,component:z,error:b,children:rt(),routeContext:{outlet:null,matches:et,isDataRoute:!0},onError:g}):rt()},null)}function Fp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r1(i){let t=G.useContext(xo);return Ee(t,Fp(i)),t}function s1(i){let t=G.useContext(af);return Ee(t,Fp(i)),t}function a1(i){let t=G.useContext(Rr);return Ee(t,Fp(i)),t}function Gp(i){let t=a1(i),n=t.matches[t.matches.length-1];return Ee(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function o1(){return Gp("useRouteId")}function l1(){var s;let i=G.useContext(jp),t=s1("useRouteError"),n=Gp("useRouteError");return i!==void 0?i:(s=t.errors)==null?void 0:s[n]}function u1(){let{router:i}=r1("useNavigate"),t=Gp("useNavigate"),n=G.useRef(!1);return SA(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Qn(n.current,AA),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var Tv={};function bA(i,t,n){!t&&!Tv[i]&&(Tv[i]=!0,Qn(!1,n))}G.memo(c1);function c1({routes:i,future:t,state:n,onError:s}){return IA(i,void 0,n,s,t)}function ap(i){Ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function h1({basename:i="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){Ee(!mu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=G.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=Aa(n));let{pathname:g="/",search:v="",hash:T="",state:S=null,key:b="default"}=n,V=G.useMemo(()=>{let z=vr(g,m);return z==null?null:{location:{pathname:z,search:v,hash:T,state:S,key:b},navigationType:s}},[m,g,v,T,S,b,s]);return Qn(V!=null,`<Router basename="${m}"> is not able to match the URL "${g}${v}${T}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:G.createElement(di.Provider,{value:p},G.createElement(du.Provider,{children:t,value:V}))}function f1({children:i,location:t}){return Ww(op(i),t)}function op(i,t=[]){let n=[];return G.Children.forEach(i,(s,o)=>{if(!G.isValidElement(s))return;let u=[...t,o];if(s.type===G.Fragment){n.push.apply(n,op(s.props.children,u));return}Ee(s.type===ap,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=op(s.props.children,u)),n.push(h)}),n}var vh="get",Th="application/x-www-form-urlencoded";function of(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function d1(i){return of(i)&&i.tagName.toLowerCase()==="button"}function m1(i){return of(i)&&i.tagName.toLowerCase()==="form"}function p1(i){return of(i)&&i.tagName.toLowerCase()==="input"}function g1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function _1(i,t){return i.button===0&&(!t||t==="_self")&&!g1(i)}function lp(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((t,n)=>{let s=i[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function y1(i,t){let n=lp(i);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var ih=null;function E1(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var v1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fm(i){return i!=null&&!v1.has(i)?(Qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):i}function T1(i,t){let n,s,o,u,h;if(m1(i)){let m=i.getAttribute("action");s=m?vr(m,t):null,n=i.getAttribute("method")||vh,o=Fm(i.getAttribute("enctype"))||Th,u=new FormData(i)}else if(d1(i)||p1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?vr(p,t):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||vh,o=Fm(i.getAttribute("formenctype"))||Fm(m.getAttribute("enctype"))||Th,u=new FormData(m,i),!E1()){let{name:g,type:v,value:T}=i;if(v==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(of(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vh,s=null,o=Th,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function A1(i,t,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&vr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function S1(i,t){if(i.id in t)return t[i.id];try{let n=await import(i.module);return t[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function R1(i,t,n){let s=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await S1(u,n);return h.links?h.links():[]}return[]}));return N1(s.flat(1).filter(I1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Av(i,t,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var v;return n[g].pathname!==p.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var T;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function b1(i,t,{includeHydrateFallback:n}={}){return w1(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function w1(i){return[...new Set(i)]}function C1(i){let t={},n=Object.keys(i).sort();for(let s of n)t[s]=i[s];return t}function N1(i,t){let n=new Set;return new Set(t),i.reduce((s,o)=>{let u=JSON.stringify(C1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function wA(){let i=G.useContext(xo);return qp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function O1(){let i=G.useContext(af);return qp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Yp=G.createContext(void 0);Yp.displayName="FrameworkContext";function CA(){let i=G.useContext(Yp);return qp(i,"You must render this element inside a <HydratedRouter> element"),i}function D1(i,t){let n=G.useContext(Yp),[s,o]=G.useState(!1),[u,h]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=t,S=G.useRef(null);G.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=et=>{et.forEach(rt=>{h(rt.isIntersecting)})},D=new IntersectionObserver(z,{threshold:.5});return S.current&&D.observe(S.current),()=>{D.disconnect()}}},[i]),G.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let b=()=>{o(!0)},V=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Gl(m,b),onBlur:Gl(p,V),onMouseEnter:Gl(g,b),onMouseLeave:Gl(v,V),onTouchStart:Gl(T,b)}]:[!1,S,{}]}function Gl(i,t){return n=>{i&&i(n),n.defaultPrevented||t(n)}}function M1({page:i,...t}){let{router:n}=wA(),s=G.useMemo(()=>hA(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?G.createElement(L1,{page:i,matches:s,...t}):null}function x1(i){let{manifest:t,routeModules:n}=CA(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return R1(i,t,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,t,n]),s}function L1({page:i,matches:t,...n}){let s=Us(),{future:o,manifest:u,routeModules:h}=CA(),{basename:m}=wA(),{loaderData:p,matches:g}=O1(),v=G.useMemo(()=>Av(i,t,g,u,s,"data"),[i,t,g,u,s]),T=G.useMemo(()=>Av(i,t,g,u,s,"assets"),[i,t,g,u,s]),S=G.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let z=new Set,D=!1;if(t.forEach(rt=>{var mt;let Z=u.routes[rt.route.id];!Z||!Z.hasLoader||(!v.some(It=>It.route.id===rt.route.id)&&rt.route.id in p&&((mt=h[rt.route.id])!=null&&mt.shouldRevalidate)||Z.hasClientLoader?D=!0:z.add(rt.route.id))}),z.size===0)return[];let et=A1(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return D&&z.size>0&&et.searchParams.set("_routes",t.filter(rt=>z.has(rt.route.id)).map(rt=>rt.route.id).join(",")),[et.pathname+et.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,v,t,i,h]),b=G.useMemo(()=>b1(T,u),[T,u]),V=x1(T);return G.createElement(G.Fragment,null,S.map(z=>G.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),b.map(z=>G.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),V.map(({key:z,link:D})=>G.createElement("link",{key:z,nonce:n.nonce,...D})))}function V1(...i){return t=>{i.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var U1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{U1&&(window.__reactRouterVersion="7.12.0")}catch{}function P1({basename:i,children:t,unstable_useTransitions:n,window:s}){let o=G.useRef();o.current==null&&(o.current=gw({window:s,v5Compat:!0}));let u=o.current,[h,m]=G.useState({action:u.action,location:u.location}),p=G.useCallback(g=>{n===!1?m(g):G.startTransition(()=>m(g))},[n]);return G.useLayoutEffect(()=>u.listen(p),[u,p]),G.createElement(h1,{basename:i,children:t,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var NA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OA=G.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:S,...b},V){let{basename:z,unstable_useTransitions:D}=G.useContext(di),et=typeof g=="string"&&NA.test(g),rt=yA(g,z);g=rt.to;let Z=Xw(g,{relative:o}),[mt,It,Et]=D1(s,b),O=j1(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:D});function R(x){t&&t(x),x.defaultPrevented||O(x)}let w=G.createElement("a",{...b,...Et,href:rt.absoluteURL||Z,onClick:rt.isExternal||u?t:R,ref:V1(V,It),target:p,"data-discover":!et&&n==="render"?"true":void 0});return mt&&!et?G.createElement(G.Fragment,null,w,G.createElement(M1,{page:Z})):w});OA.displayName="Link";var k1=G.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let T=pu(h,{relative:g.relative}),S=Us(),b=G.useContext(af),{navigator:V,basename:z}=G.useContext(di),D=b!=null&&K1(T)&&m===!0,et=V.encodeLocation?V.encodeLocation(T).pathname:T.pathname,rt=S.pathname,Z=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(rt=rt.toLowerCase(),Z=Z?Z.toLowerCase():null,et=et.toLowerCase()),Z&&z&&(Z=vr(Z,z)||Z);const mt=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let It=rt===et||!o&&rt.startsWith(et)&&rt.charAt(mt)==="/",Et=Z!=null&&(Z===et||!o&&Z.startsWith(et)&&Z.charAt(et.length)==="/"),O={isActive:It,isPending:Et,isTransitioning:D},R=It?t:void 0,w;typeof s=="function"?w=s(O):w=[s,It?"active":null,Et?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(O):u;return G.createElement(OA,{...g,"aria-current":R,className:w,ref:v,style:x,to:h,viewTransition:m},typeof p=="function"?p(O):p)});k1.displayName="NavLink";var B1=G.forwardRef(({discover:i="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:h=vh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:S,...b},V)=>{let{unstable_useTransitions:z}=G.useContext(di),D=q1(),et=Y1(m,{relative:g}),rt=h.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&NA.test(m),mt=It=>{if(p&&p(It),It.defaultPrevented)return;It.preventDefault();let Et=It.nativeEvent.submitter,O=(Et==null?void 0:Et.getAttribute("formmethod"))||h,R=()=>D(Et||It.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:S});z&&n!==!1?G.startTransition(()=>R()):R()};return G.createElement("form",{ref:V,method:rt,action:et,onSubmit:s?p:mt,...b,"data-discover":!Z&&i==="render"?"true":void 0})});B1.displayName="Form";function z1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DA(i){let t=G.useContext(xo);return Ee(t,z1(i)),t}function j1(i,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Hp(),v=Us(),T=pu(i,{relative:u});return G.useCallback(S=>{if(_1(S,t)){S.preventDefault();let b=n!==void 0?n:su(v)===su(T),V=()=>g(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?G.startTransition(()=>V()):V()}},[v,g,T,n,s,t,i,o,u,h,m,p])}function H1(i){Qn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=G.useRef(lp(i)),n=G.useRef(!1),s=Us(),o=G.useMemo(()=>y1(s.search,n.current?null:t.current),[s.search]),u=Hp(),h=G.useCallback((m,p)=>{const g=lp(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,h]}var F1=0,G1=()=>`__${String(++F1)}__`;function q1(){let{router:i}=DA("useSubmit"),{basename:t}=G.useContext(di),n=o1(),s=i.fetch,o=i.navigate;return G.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:v,body:T}=T1(u,t);if(h.navigate===!1){let S=h.fetcherKey||G1();await s(S,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,t,n])}function Y1(i,{relative:t}={}){let{basename:n}=G.useContext(di),s=G.useContext(Rr);Ee(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...pu(i||".",{relative:t})},h=Us();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:yr([n,u.pathname])),su(u)}function K1(i,{relative:t}={}){let n=G.useContext(vA);Ee(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=DA("useViewTransitionState"),o=pu(i,{relative:t});if(!n.isTransitioning)return!1;let u=vr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=vr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return xh(o.pathname,h)!=null||xh(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MA=(...i)=>i.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=G.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>G.createElement("svg",{ref:p,...Q1,width:t,height:t,stroke:i,strokeWidth:s?Number(n)*24/Number(t):n,className:MA("lucide",o),...m},[...h.map(([g,v])=>G.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=(i,t)=>{const n=G.forwardRef(({className:s,...o},u)=>G.createElement(X1,{ref:u,iconNode:t,className:MA(`lucide-${$1(i)}`,s),...o}));return n.displayName=`${i}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=gn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=gn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=gn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=gn("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=gn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=gn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=gn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=gn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=gn("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=gn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=gn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=gn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=gn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=gn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=gn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=gn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),oC=()=>{};var Iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},lC=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},UA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,b=g&63;p||(b=64,h||(S=64)),s.push(n[v],n[T],n[S],n[b])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(VA(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):lC(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new uC;const S=u<<2|m>>4;if(s.push(S),g!==64){const b=m<<4&240|g>>2;if(s.push(b),T!==64){const V=g<<6&192|T;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class uC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cC=function(i){const t=VA(i);return UA.encodeByteArray(t,!0)},Vh=function(i){return cC(i).replace(/\./g,"")},PA=function(i){try{return UA.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=()=>hC().__FIREBASE_DEFAULTS__,dC=()=>{if(typeof process>"u"||typeof Iv>"u")return;const i=Iv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},mC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&PA(i[1]);return t&&JSON.parse(t)},lf=()=>{try{return oC()||fC()||dC()||mC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},kA=i=>{var t,n;return(n=(t=lf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[i]},pC=i=>{const t=kA(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},BA=()=>{var i;return(i=lf())===null||i===void 0?void 0:i.config},zA=i=>{var t;return(t=lf())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jA(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Vh(JSON.stringify(n)),Vh(JSON.stringify(h)),""].join(".")}const Jl={};function yC(){const i={prod:[],emulator:[]};for(const t of Object.keys(Jl))Jl[t]?i.emulator.push(t):i.prod.push(t);return i}function EC(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let Rv=!1;function HA(i,t){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||Jl[i]===t||Jl[i]||Rv)return;Jl[i]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=yC().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,b){S.setAttribute("width","24"),S.setAttribute("id",b),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Rv=!0,h()},S}function v(S,b){S.setAttribute("id",b),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=EC(s),b=n("text"),V=document.getElementById(b)||document.createElement("span"),z=n("learnmore"),D=document.getElementById(z)||document.createElement("a"),et=n("preprendIcon"),rt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Z=S.element;m(Z),v(D,z);const mt=g();p(rt,et),Z.append(rt,V,D,mt),document.body.appendChild(Z)}u?(V.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function TC(){var i;const t=(i=lf())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function IC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RC(){const i=pn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function bC(){return!TC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wC(){try{return typeof indexedDB=="object"}catch{return!1}}function CC(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="FirebaseError";class br extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=NC,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?OC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new br(o,m,s)}}function OC(i,t){return i.replace(DC,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const DC=/\{\$([^}]+)}/g;function MC(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ws(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=t[o];if(bv(u)&&bv(h)){if(!ws(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function bv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function xC(i,t){const n=new LC(i,t);return n.subscribe.bind(n)}class LC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");VC(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Gm),o.error===void 0&&(o.error=Gm),o.complete===void 0&&(o.complete=Gm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VC(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function Gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(i){return i&&i._delegate?i._delegate:i}class ya{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new gC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kC(t))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=fa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fa){return this.instances.has(t)}getOptions(t=fa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PC(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=fa){return this.component?this.component.multipleInstances?t:fa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PC(i){return i===fa?void 0:i}function kC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new UC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ht||(Ht={}));const zC={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},jC=Ht.INFO,HC={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},FC=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=HC[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Kp{constructor(t){this.name=t,this._logLevel=jC,this._logHandler=FC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const GC=(i,t)=>t.some(n=>i instanceof n);let wv,Cv;function qC(){return wv||(wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YC(){return Cv||(Cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FA=new WeakMap,up=new WeakMap,GA=new WeakMap,qm=new WeakMap,$p=new WeakMap;function KC(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(vs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&FA.set(n,i)}).catch(()=>{}),$p.set(t,i),t}function $C(i){if(up.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});up.set(i,t)}let cp={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return up.get(i);if(t==="objectStoreNames")return i.objectStoreNames||GA.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function QC(i){cp=i(cp)}function XC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Ym(this),t,...n);return GA.set(s,t.sort?t.sort():[t]),vs(s)}:YC().includes(i)?function(...t){return i.apply(Ym(this),t),vs(FA.get(this))}:function(...t){return vs(i.apply(Ym(this),t))}}function JC(i){return typeof i=="function"?XC(i):(i instanceof IDBTransaction&&$C(i),GC(i,qC())?new Proxy(i,cp):i)}function vs(i){if(i instanceof IDBRequest)return KC(i);if(qm.has(i))return qm.get(i);const t=JC(i);return t!==i&&(qm.set(i,t),$p.set(t,i)),t}const Ym=i=>$p.get(i);function WC(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),m=vs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(vs(h.result),p.oldVersion,p.newVersion,vs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ZC=["get","getKey","getAll","getAllKeys","count"],tN=["put","add","delete","clear"],Km=new Map;function Nv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Km.get(t))return Km.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=tN.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ZC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Km.set(t,u),u}QC(i=>({...i,get:(t,n,s)=>Nv(t,n)||i.get(t,n,s),has:(t,n)=>!!Nv(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nN(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nN(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const hp="@firebase/app",Ov="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new Kp("@firebase/app"),iN="@firebase/app-compat",rN="@firebase/analytics-compat",sN="@firebase/analytics",aN="@firebase/app-check-compat",oN="@firebase/app-check",lN="@firebase/auth",uN="@firebase/auth-compat",cN="@firebase/database",hN="@firebase/data-connect",fN="@firebase/database-compat",dN="@firebase/functions",mN="@firebase/functions-compat",pN="@firebase/installations",gN="@firebase/installations-compat",_N="@firebase/messaging",yN="@firebase/messaging-compat",EN="@firebase/performance",vN="@firebase/performance-compat",TN="@firebase/remote-config",AN="@firebase/remote-config-compat",SN="@firebase/storage",IN="@firebase/storage-compat",RN="@firebase/firestore",bN="@firebase/ai",wN="@firebase/firestore-compat",CN="firebase",NN="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="[DEFAULT]",ON={[hp]:"fire-core",[iN]:"fire-core-compat",[sN]:"fire-analytics",[rN]:"fire-analytics-compat",[oN]:"fire-app-check",[aN]:"fire-app-check-compat",[lN]:"fire-auth",[uN]:"fire-auth-compat",[cN]:"fire-rtdb",[hN]:"fire-data-connect",[fN]:"fire-rtdb-compat",[dN]:"fire-fn",[mN]:"fire-fn-compat",[pN]:"fire-iid",[gN]:"fire-iid-compat",[_N]:"fire-fcm",[yN]:"fire-fcm-compat",[EN]:"fire-perf",[vN]:"fire-perf-compat",[TN]:"fire-rc",[AN]:"fire-rc-compat",[SN]:"fire-gcs",[IN]:"fire-gcs-compat",[RN]:"fire-fst",[wN]:"fire-fst-compat",[bN]:"fire-vertex","fire-js":"fire-js",[CN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,DN=new Map,dp=new Map;function Dv(i,t){try{i.container.addComponent(t)}catch(n){Tr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ro(i){const t=i.name;if(dp.has(t))return Tr.debug(`There were multiple attempts to register component ${t}.`),!1;dp.set(t,i);for(const n of Uh.values())Dv(n,i);for(const n of DN.values())Dv(n,i);return!0}function Qp(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function ci(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new gu("app","Firebase",MN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=NN;function qA(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:fp,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Ts.create("bad-app-name",{appName:String(o)});if(n||(n=BA()),!n)throw Ts.create("no-options");const u=Uh.get(o);if(u){if(ws(n,u.options)&&ws(s,u.config))return u;throw Ts.create("duplicate-app",{appName:o})}const h=new BC(o);for(const p of dp.values())h.addComponent(p);const m=new xN(n,s,h);return Uh.set(o,m),m}function YA(i=fp){const t=Uh.get(i);if(!t&&i===fp&&BA())return qA();if(!t)throw Ts.create("no-app",{appName:i});return t}function As(i,t,n){var s;let o=(s=ON[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Tr.warn(m.join(" "));return}Ro(new ya(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="firebase-heartbeat-database",VN=1,au="firebase-heartbeat-store";let $m=null;function KA(){return $m||($m=WC(LN,VN,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(i=>{throw Ts.create("idb-open",{originalErrorMessage:i.message})})),$m}async function UN(i){try{const n=(await KA()).transaction(au),s=await n.objectStore(au).get($A(i));return await n.done,s}catch(t){if(t instanceof br)Tr.warn(t.message);else{const n=Ts.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Tr.warn(n.message)}}}async function Mv(i,t){try{const s=(await KA()).transaction(au,"readwrite");await s.objectStore(au).put(t,$A(i)),await s.done}catch(n){if(n instanceof br)Tr.warn(n.message);else{const s=Ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tr.warn(s.message)}}}function $A(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=1024,kN=30;class BN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=xv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>kN){const h=HN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Tr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xv(),{heartbeatsToSend:s,unsentEntries:o}=zN(this._heartbeatsCache.heartbeats),u=Vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Tr.warn(n),""}}}function xv(){return new Date().toISOString().substring(0,10)}function zN(i,t=PN){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Lv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Lv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class jN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wC()?CC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Lv(i){return Vh(JSON.stringify({version:2,heartbeats:i})).length}function HN(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(i){Ro(new ya("platform-logger",t=>new eN(t),"PRIVATE")),Ro(new ya("heartbeat",t=>new BN(t),"PRIVATE")),As(hp,Ov,i),As(hp,Ov,"esm2017"),As("fire-js","")}FN("");function Xp(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function QA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GN=QA,XA=new gu("auth","Firebase",QA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Kp("@firebase/auth");function qN(i,...t){Ph.logLevel<=Ht.WARN&&Ph.warn(`Auth (${Vo}): ${i}`,...t)}function Ah(i,...t){Ph.logLevel<=Ht.ERROR&&Ph.error(`Auth (${Vo}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(i,...t){throw Wp(i,...t)}function Ti(i,...t){return Wp(i,...t)}function Jp(i,t,n){const s=Object.assign(Object.assign({},GN()),{[t]:n});return new gu("auth","Firebase",s).create(t,{appName:i.name})}function Ss(i){return Jp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JA(i,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&zi(i,"argument-error"),Jp(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wp(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return XA.create(i,...t)}function Rt(i,t,...n){if(!i)throw Wp(t,...n)}function gr(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Ah(t),new Error(t)}function Ar(i,t){i||gr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function YN(){return Vv()==="http:"||Vv()==="https:"}function Vv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YN()||SC()||"connection"in navigator)?navigator.onLine:!0}function $N(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ar(n>t,"Short delay should be less than long delay!"),this.isMobile=vC()||IC()}get(){return KN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(i,t){Ar(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JN=new yu(3e4,6e4);function tg(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function Uo(i,t,n,s,o={}){return ZA(i,o,async()=>{let u={},h={};s&&(t==="GET"?h=s:u={body:JSON.stringify(s)});const m=_u(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},u);return AC()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(g.credentials="include"),WA.fetch()(await tS(i,i.config.apiHost,n,m),g)})}async function ZA(i,t,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},QN),t);try{const o=new ZN(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ah(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ah(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw ah(i,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Jp(i,v,g);zi(i,v)}}catch(o){if(o instanceof br)throw o;zi(i,"network-request-failed",{message:String(o)})}}async function WN(i,t,n,s,o={}){const u=await Uo(i,t,n,s,o);return"mfaPendingCredential"in u&&zi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function tS(i,t,n,s){const o=`${t}${n}?${s}`,u=i,h=u.config.emulator?Zp(i.config,o):`${i.config.apiScheme}://${o}`;return XN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class ZN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ti(this.auth,"network-request-failed")),JN.get())})}}function ah(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ti(i,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(i,t){return Uo(i,"POST","/v1/accounts:delete",t)}async function kh(i,t){return Uo(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function eO(i,t=!1){const n=Be(i),s=await n.getIdToken(t),o=eg(s);Rt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Wl(Qm(o.auth_time)),issuedAtTime:Wl(Qm(o.iat)),expirationTime:Wl(Qm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Qm(i){return Number(i)*1e3}function eg(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=PA(n);return o?JSON.parse(o):(Ah("Failed to decode base64 JWT payload"),null)}catch(o){return Ah("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Uv(i){const t=eg(i);return Rt(t,"internal-error"),Rt(typeof t.exp<"u","internal-error"),Rt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof br&&nO(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function nO({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(i){var t;const n=i.auth,s=await i.getIdToken(),o=await ou(i,kh(n,{idToken:s}));Rt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?eS(u.providerUserInfo):[],m=sO(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),v=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new pp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,T)}async function rO(i){const t=Be(i);await Bh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sO(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function eS(i){return i.map(t=>{var{providerId:n}=t,s=Xp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(i,t){const n=await ZA(i,{},async()=>{const s=_u({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await tS(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(p.credentials="include"),WA.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oO(i,t){return Uo(i,"POST","/v2/accounts:revokeToken",tg(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Rt(t.idToken,"internal-error"),Rt(typeof t.idToken<"u","internal-error"),Rt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Uv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Rt(t.length!==0,"internal-error");const n=Uv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Rt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await aO(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new vo;return s&&(Rt(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(Rt(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(Rt(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(i,t){Rt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class vi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Xp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new pp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await ou(this,this.stsTokenManager.getToken(this.auth,t));return Rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return eO(this,t)}reload(){return rO(this)}_assign(t){this!==t&&(Rt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new vi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(Ss(this.auth));const t=await this.getIdToken();return await ou(this,tO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,h,m,p,g,v;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,b=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(h=n.photoURL)!==null&&h!==void 0?h:void 0,z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,D=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,et=(g=n.createdAt)!==null&&g!==void 0?g:void 0,rt=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Z,emailVerified:mt,isAnonymous:It,providerData:Et,stsTokenManager:O}=n;Rt(Z&&O,t,"internal-error");const R=vo.fromJSON(this.name,O);Rt(typeof Z=="string",t,"internal-error"),ps(T,t.name),ps(S,t.name),Rt(typeof mt=="boolean",t,"internal-error"),Rt(typeof It=="boolean",t,"internal-error"),ps(b,t.name),ps(V,t.name),ps(z,t.name),ps(D,t.name),ps(et,t.name),ps(rt,t.name);const w=new vi({uid:Z,auth:t,email:S,emailVerified:mt,displayName:T,isAnonymous:It,photoURL:V,phoneNumber:b,tenantId:z,stsTokenManager:R,createdAt:et,lastLoginAt:rt});return Et&&Array.isArray(Et)&&(w.providerData=Et.map(x=>Object.assign({},x))),D&&(w._redirectEventId=D),w}static async _fromIdTokenResponse(t,n,s=!1){const o=new vo;o.updateFromServerResponse(n);const u=new vi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Bh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Rt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?eS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new vo;m.updateFromIdToken(s);const p=new vi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;function _r(i){Ar(i instanceof Function,"Expected a class definition");let t=Pv.get(i);return t?(Ar(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,Pv.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}nS.type="NONE";const kv=nS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(i,t,n){return`firebase:${i}:${t}:${n}`}class To{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Sh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await kh(this.auth,{idToken:t}).catch(()=>{});return n?vi._fromGetAccountInfoResponse(this.auth,n,t):null}return vi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new To(_r(kv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||_r(kv);const h=Sh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let T;if(typeof v=="string"){const S=await kh(t,{idToken:v}).catch(()=>{});if(!S)break;T=await vi._fromGetAccountInfoResponse(t,S,v)}else T=vi._fromJSON(t,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new To(u,t,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new To(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lS(t))return"Blackberry";if(uS(t))return"Webos";if(rS(t))return"Safari";if((t.includes("chrome/")||sS(t))&&!t.includes("edge/"))return"Chrome";if(oS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function iS(i=pn()){return/firefox\//i.test(i)}function rS(i=pn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sS(i=pn()){return/crios\//i.test(i)}function aS(i=pn()){return/iemobile/i.test(i)}function oS(i=pn()){return/android/i.test(i)}function lS(i=pn()){return/blackberry/i.test(i)}function uS(i=pn()){return/webos/i.test(i)}function ng(i=pn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function lO(i=pn()){var t;return ng(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function uO(){return RC()&&document.documentMode===10}function cS(i=pn()){return ng(i)||oS(i)||uS(i)||lS(i)||/windows phone/i.test(i)||aS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(i,t=[]){let n;switch(i){case"Browser":n=Bv(pn());break;case"Worker":n=`${Bv(pn())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((h,m)=>{try{const p=t(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(i,t={}){return Uo(i,"GET","/v2/passwordPolicy",tg(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=6;class dO{constructor(t){var n,s,o,u;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:fO,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zv(this),this.idTokenSubscription=new zv(this),this.beforeStateQueue=new cO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await To.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await kh(this,{idToken:t}),s=await vi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ci(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Bh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$N()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ci(this.app))return Promise.reject(Ss(this));const n=t?Be(t):null;return n&&Rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Rt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ci(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hO(this),n=new dO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new gu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await oO(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&_r(t)||this._popupRedirectResolver;Rt(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rt(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&qN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Eu(i){return Be(i)}class zv{constructor(t){this.auth=t,this.observer=null,this.addObserver=xC(n=>this.observer=n)}get next(){return Rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ig={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pO(i){ig=i}function gO(i){return ig.loadJS(i)}function _O(){return ig.gapiScript}function yO(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(i,t){const n=Qp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ws(u,t??{}))return o;zi(o,"already-initialized")}return n.initialize({options:t})}function vO(i,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(_r);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function TO(i,t,n){const s=Eu(i);Rt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=fS(t),{host:h,port:m}=AO(t),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Rt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Rt(ws(g,s.config.emulator)&&ws(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Lo(h)?(jA(`${u}//${h}${p}`),HA("Auth",!0)):SO()}function fS(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function AO(i){const t=fS(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:jv(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:jv(h)}}}function jv(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function SO(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(t){return gr("not implemented")}_linkToIdToken(t,n){return gr("not implemented")}_getReauthenticationResolver(t){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(i,t){return WN(i,"POST","/v1/accounts:signInWithIdp",tg(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="http://localhost";class Ea extends dS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ea(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Xp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Ea(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const n=this.buildRequest();return Ao(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ao(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ao(t,n)}buildRequest(){const t={requestUri:IO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=_u(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends uf{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends vu{constructor(){super("facebook.com")}static credential(t){return Ea._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gs.credentialFromTaggedObject(t)}static credentialFromError(t){return gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gs.credential(t.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ea._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return pr.credential(n,s)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends vu{constructor(){super("github.com")}static credential(t){return Ea._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _s.credentialFromTaggedObject(t)}static credentialFromError(t){return _s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _s.credential(t.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends vu{constructor(){super("twitter.com")}static credential(t,n){return Ea._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ys.credentialFromTaggedObject(t)}static credentialFromError(t){return ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ys.credential(n,s)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await vi._fromIdTokenResponse(t,s,o),h=Hv(s);return new bo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Hv(s);return new bo({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Hv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends br{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new zh(t,n,s,o)}}function mS(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(i,u,t,s):u})}async function RO(i,t,n=!1){const s=await ou(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return bo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(i,t,n=!1){const{auth:s}=i;if(ci(s.app))return Promise.reject(Ss(s));const o="reauthenticate";try{const u=await ou(i,mS(s,o,t,i),n);Rt(u.idToken,s,"internal-error");const h=eg(u.idToken);Rt(h,s,"internal-error");const{sub:m}=h;return Rt(i.uid===m,s,"user-mismatch"),bo._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&zi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(i,t,n=!1){if(ci(i.app))return Promise.reject(Ss(i));const s="signIn",o=await mS(i,s,t),u=await bo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function CO(i,t,n,s){return Be(i).onIdTokenChanged(t,n,s)}function NO(i,t,n){return Be(i).beforeAuthStateChanged(t,n)}function pS(i,t,n,s){return Be(i).onAuthStateChanged(t,n,s)}function OO(i){return Be(i).signOut()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=1e3,MO=10;class _S extends gS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);uO()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,MO):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},DO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}_S.type="LOCAL";const xO=_S;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends gS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}yS.type="SESSION";const ES=yS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new cf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await LO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=rg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function UO(i){Ui().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function PO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kO(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function BO(){return vS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="firebaseLocalStorageDb",zO=1,Hh="firebaseLocalStorage",AS="fbase_key";class Tu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hf(i,t){return i.transaction([Hh],t?"readwrite":"readonly").objectStore(Hh)}function jO(){const i=indexedDB.deleteDatabase(TS);return new Tu(i).toPromise()}function gp(){const i=indexedDB.open(TS,zO);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Hh,{keyPath:AS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Hh)?t(s):(s.close(),await jO(),t(await gp()))})})}async function Fv(i,t,n){const s=hf(i,!0).put({[AS]:t,value:n});return new Tu(s).toPromise()}async function HO(i,t){const n=hf(i,!1).get(t),s=await new Tu(n).toPromise();return s===void 0?null:s.value}function Gv(i,t){const n=hf(i,!0).delete(t);return new Tu(n).toPromise()}const FO=800,GO=3;class SS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>GO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(BO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await PO(),!this.activeServiceWorker)return;this.sender=new VO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gp();return await Fv(t,jh,"1"),await Gv(t,jh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Fv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>HO(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=hf(o,!1).getAll();return new Tu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SS.type="LOCAL";const qO=SS;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(i,t){return t?_r(t):(Rt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends dS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ao(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ao(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ao(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function YO(i){return wO(i.auth,new ag(i),i.bypassAuthState)}function KO(i){const{auth:t,user:n}=i;return Rt(n,t,"internal-error"),bO(n,new ag(i),i.bypassAuthState)}async function $O(i){const{auth:t,user:n}=i;return Rt(n,t,"internal-error"),RO(n,new ag(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return YO;case"linkViaPopup":case"linkViaRedirect":return $O;case"reauthViaPopup":case"reauthViaRedirect":return KO;default:zi(this.auth,"internal-error")}}resolve(t){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new yu(2e3,1e4);async function XO(i,t,n){if(ci(i.app))return Promise.reject(Ti(i,"operation-not-supported-in-this-environment"));const s=Eu(i);JA(i,t,uf);const o=sg(s,n);return new ma(s,"signInViaPopup",t,o).executeNotNull()}class ma extends IS{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ma.currentPopupAction&&ma.currentPopupAction.cancel(),ma.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Rt(t,this.auth,"internal-error"),t}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const t=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ma.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,QO.get())};t()}}ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="pendingRedirect",Ih=new Map;class WO extends IS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Ih.get(this.auth._key());if(!t){try{const s=await ZO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Ih.set(this.auth._key(),t)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZO(i,t){const n=bS(t),s=RS(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function tD(i,t){return RS(i)._set(bS(t),"true")}function eD(i,t){Ih.set(i._key(),t)}function RS(i){return _r(i._redirectPersistence)}function bS(i){return Sh(JO,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(i,t,n){return nD(i,t,n)}async function nD(i,t,n){if(ci(i.app))return Promise.reject(Ss(i));const s=Eu(i);JA(i,t,uf),await s._initializationPromise;const o=sg(s,n);return await tD(o,s),o._openRedirect(s,t,"signInViaRedirect")}async function iD(i,t,n=!1){if(ci(i.app))return Promise.reject(Ss(i));const s=Eu(i),o=sg(s,t),h=await new WO(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=600*1e3;class sD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!aD(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!wS(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ti(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=rD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yv(t))}saveEventToCache(t){this.cachedEventUids.add(Yv(t)),this.lastProcessedEventTime=Date.now()}}function Yv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function wS({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function aD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(i,t={}){return Uo(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uD=/^https?/;async function cD(i){if(i.config.emulator)return;const{authorizedDomains:t}=await oD(i);for(const n of t)try{if(hD(n))return}catch{}zi(i,"unauthorized-domain")}function hD(i){const t=mp(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!uD.test(n))return!1;if(lD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new yu(3e4,6e4);function Kv(){const i=Ui().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function dD(i){return new Promise((t,n)=>{var s,o,u;function h(){Kv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Kv(),n(Ti(i,"network-request-failed"))},timeout:fD.get()})}if(!((o=(s=Ui().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Ui().gapi)===null||u===void 0)&&u.load)h();else{const m=yO("iframefcb");return Ui()[m]=()=>{gapi.load?h():n(Ti(i,"network-request-failed"))},gO(`${_O()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw Rh=null,t})}let Rh=null;function mD(i){return Rh=Rh||dD(i),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new yu(5e3,15e3),gD="__/auth/iframe",_D="emulator/auth/iframe",yD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ED=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vD(i){const t=i.config;Rt(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Zp(t,_D):`https://${i.config.authDomain}/${gD}`,s={apiKey:t.apiKey,appName:i.name,v:Vo},o=ED.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${_u(s).slice(1)}`}async function TD(i){const t=await mD(i),n=Ui().gapi;return Rt(n,i,"internal-error"),t.open({where:document.body,url:vD(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ti(i,"network-request-failed"),m=Ui().setTimeout(()=>{u(h)},pD.get());function p(){Ui().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SD=500,ID=600,RD="_blank",bD="http://localhost";class $v{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wD(i,t,n,s=SD,o=ID){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},AD),{width:s.toString(),height:o.toString(),top:u,left:h}),g=pn().toLowerCase();n&&(m=sS(g)?RD:n),iS(g)&&(t=t||bD,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[b,V])=>`${S}${b}=${V},`,"");if(lO(g)&&m!=="_self")return CD(t||"",m),new $v(null);const T=window.open(t||"",m,v);Rt(T,i,"popup-blocked");try{T.focus()}catch{}return new $v(T)}function CD(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="__/auth/handler",OD="emulator/auth/handler",DD=encodeURIComponent("fac");async function Qv(i,t,n,s,o,u){Rt(i.config.authDomain,i,"auth-domain-config-required"),Rt(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Vo,eventId:o};if(t instanceof uf){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",MC(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))h[v]=T}if(t instanceof vu){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${DD}=${encodeURIComponent(p)}`:"";return`${MD(i)}?${_u(m).slice(1)}${g}`}function MD({config:i}){return i.emulator?Zp(i,OD):`https://${i.authDomain}/${ND}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="webStorageSupport";class xD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ES,this._completeRedirectFn=iD,this._overrideRedirectResult=eD}async _openPopup(t,n,s,o){var u;Ar((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await Qv(t,n,s,mp(),o);return wD(t,h,rg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Qv(t,n,s,mp(),o);return UO(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await TD(t),s=new sD(t);return n.register("authEvent",o=>(Rt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Xm,{type:Xm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Xm];h!==void 0&&n(!!h),zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return cS()||rS()||ng()}}const LD=xD;var Xv="@firebase/auth",Jv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PD(i){Ro(new ya("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Rt(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hS(i)},g=new mO(s,o,u,p);return vO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ro(new ya("auth-internal",t=>{const n=Eu(t.getProvider("auth").getImmediate());return(s=>new VD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),As(Xv,Jv,UD(i)),As(Xv,Jv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=300,BD=zA("authIdTokenMaxAge")||kD;let Wv=null;const zD=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>BD)return;const o=n==null?void 0:n.token;Wv!==o&&(Wv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jD(i=YA()){const t=Qp(i,"auth");if(t.isInitialized())return t.getImmediate();const n=EO(i,{popupRedirectResolver:LD,persistence:[qO,xO,ES]}),s=zA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=zD(u.toString());NO(n,h,()=>h(n.currentUser)),CO(n,m=>h(m))}}const o=kA("auth");return o&&TO(n,`http://${o}`),n}function HD(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}pO({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=Ti("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",HD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PD("Browser");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,CS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function w(){}w.prototype=R.prototype,O.D=R.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(x,U,P){for(var C=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)C[_e-2]=arguments[_e];return R.prototype[U].apply(x,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,w){w||(w=0);var x=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)x[U]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(U=0;16>U;++U)x[U]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=O.g[0],w=O.g[1],U=O.g[2];var P=O.g[3],C=R+(P^w&(U^P))+x[0]+3614090360&4294967295;R=w+(C<<7&4294967295|C>>>25),C=P+(U^R&(w^U))+x[1]+3905402710&4294967295,P=R+(C<<12&4294967295|C>>>20),C=U+(w^P&(R^w))+x[2]+606105819&4294967295,U=P+(C<<17&4294967295|C>>>15),C=w+(R^U&(P^R))+x[3]+3250441966&4294967295,w=U+(C<<22&4294967295|C>>>10),C=R+(P^w&(U^P))+x[4]+4118548399&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(U^R&(w^U))+x[5]+1200080426&4294967295,P=R+(C<<12&4294967295|C>>>20),C=U+(w^P&(R^w))+x[6]+2821735955&4294967295,U=P+(C<<17&4294967295|C>>>15),C=w+(R^U&(P^R))+x[7]+4249261313&4294967295,w=U+(C<<22&4294967295|C>>>10),C=R+(P^w&(U^P))+x[8]+1770035416&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(U^R&(w^U))+x[9]+2336552879&4294967295,P=R+(C<<12&4294967295|C>>>20),C=U+(w^P&(R^w))+x[10]+4294925233&4294967295,U=P+(C<<17&4294967295|C>>>15),C=w+(R^U&(P^R))+x[11]+2304563134&4294967295,w=U+(C<<22&4294967295|C>>>10),C=R+(P^w&(U^P))+x[12]+1804603682&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(U^R&(w^U))+x[13]+4254626195&4294967295,P=R+(C<<12&4294967295|C>>>20),C=U+(w^P&(R^w))+x[14]+2792965006&4294967295,U=P+(C<<17&4294967295|C>>>15),C=w+(R^U&(P^R))+x[15]+1236535329&4294967295,w=U+(C<<22&4294967295|C>>>10),C=R+(U^P&(w^U))+x[1]+4129170786&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^U&(R^w))+x[6]+3225465664&4294967295,P=R+(C<<9&4294967295|C>>>23),C=U+(R^w&(P^R))+x[11]+643717713&4294967295,U=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(U^P))+x[0]+3921069994&4294967295,w=U+(C<<20&4294967295|C>>>12),C=R+(U^P&(w^U))+x[5]+3593408605&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^U&(R^w))+x[10]+38016083&4294967295,P=R+(C<<9&4294967295|C>>>23),C=U+(R^w&(P^R))+x[15]+3634488961&4294967295,U=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(U^P))+x[4]+3889429448&4294967295,w=U+(C<<20&4294967295|C>>>12),C=R+(U^P&(w^U))+x[9]+568446438&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^U&(R^w))+x[14]+3275163606&4294967295,P=R+(C<<9&4294967295|C>>>23),C=U+(R^w&(P^R))+x[3]+4107603335&4294967295,U=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(U^P))+x[8]+1163531501&4294967295,w=U+(C<<20&4294967295|C>>>12),C=R+(U^P&(w^U))+x[13]+2850285829&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^U&(R^w))+x[2]+4243563512&4294967295,P=R+(C<<9&4294967295|C>>>23),C=U+(R^w&(P^R))+x[7]+1735328473&4294967295,U=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(U^P))+x[12]+2368359562&4294967295,w=U+(C<<20&4294967295|C>>>12),C=R+(w^U^P)+x[5]+4294588738&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^U)+x[8]+2272392833&4294967295,P=R+(C<<11&4294967295|C>>>21),C=U+(P^R^w)+x[11]+1839030562&4294967295,U=P+(C<<16&4294967295|C>>>16),C=w+(U^P^R)+x[14]+4259657740&4294967295,w=U+(C<<23&4294967295|C>>>9),C=R+(w^U^P)+x[1]+2763975236&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^U)+x[4]+1272893353&4294967295,P=R+(C<<11&4294967295|C>>>21),C=U+(P^R^w)+x[7]+4139469664&4294967295,U=P+(C<<16&4294967295|C>>>16),C=w+(U^P^R)+x[10]+3200236656&4294967295,w=U+(C<<23&4294967295|C>>>9),C=R+(w^U^P)+x[13]+681279174&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^U)+x[0]+3936430074&4294967295,P=R+(C<<11&4294967295|C>>>21),C=U+(P^R^w)+x[3]+3572445317&4294967295,U=P+(C<<16&4294967295|C>>>16),C=w+(U^P^R)+x[6]+76029189&4294967295,w=U+(C<<23&4294967295|C>>>9),C=R+(w^U^P)+x[9]+3654602809&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^U)+x[12]+3873151461&4294967295,P=R+(C<<11&4294967295|C>>>21),C=U+(P^R^w)+x[15]+530742520&4294967295,U=P+(C<<16&4294967295|C>>>16),C=w+(U^P^R)+x[2]+3299628645&4294967295,w=U+(C<<23&4294967295|C>>>9),C=R+(U^(w|~P))+x[0]+4096336452&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~U))+x[7]+1126891415&4294967295,P=R+(C<<10&4294967295|C>>>22),C=U+(R^(P|~w))+x[14]+2878612391&4294967295,U=P+(C<<15&4294967295|C>>>17),C=w+(P^(U|~R))+x[5]+4237533241&4294967295,w=U+(C<<21&4294967295|C>>>11),C=R+(U^(w|~P))+x[12]+1700485571&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~U))+x[3]+2399980690&4294967295,P=R+(C<<10&4294967295|C>>>22),C=U+(R^(P|~w))+x[10]+4293915773&4294967295,U=P+(C<<15&4294967295|C>>>17),C=w+(P^(U|~R))+x[1]+2240044497&4294967295,w=U+(C<<21&4294967295|C>>>11),C=R+(U^(w|~P))+x[8]+1873313359&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~U))+x[15]+4264355552&4294967295,P=R+(C<<10&4294967295|C>>>22),C=U+(R^(P|~w))+x[6]+2734768916&4294967295,U=P+(C<<15&4294967295|C>>>17),C=w+(P^(U|~R))+x[13]+1309151649&4294967295,w=U+(C<<21&4294967295|C>>>11),C=R+(U^(w|~P))+x[4]+4149444226&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~U))+x[11]+3174756917&4294967295,P=R+(C<<10&4294967295|C>>>22),C=U+(R^(P|~w))+x[2]+718787259&4294967295,U=P+(C<<15&4294967295|C>>>17),C=w+(P^(U|~R))+x[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(U+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+P&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var w=R-this.blockSize,x=this.B,U=this.h,P=0;P<R;){if(U==0)for(;P<=w;)o(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<R;)if(x[U++]=O.charCodeAt(P++),U==this.blockSize){o(this,x),U=0;break}}else for(;P<R;)if(x[U++]=O[P++],U==this.blockSize){o(this,x),U=0;break}}this.h=U,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var w=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=w&255,w/=256;for(this.u(O),O=Array(16),R=w=0;4>R;++R)for(var x=0;32>x;x+=8)O[w++]=this.g[R]>>>x&255;return O};function u(O,R){var w=m;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=R(O)}function h(O,R){this.h=R;for(var w=[],x=!0,U=O.length-1;0<=U;U--){var P=O[U]|0;x&&P==R||(w[U]=P,x=!1)}this.g=w}var m={};function p(O){return-128<=O&&128>O?u(O,function(R){return new h([R|0],0>R?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return T;if(0>O)return D(g(-O));for(var R=[],w=1,x=0;O>=w;x++)R[x]=O/w|0,w*=4294967296;return new h(R,0)}function v(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return D(v(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(R,8)),x=T,U=0;U<O.length;U+=8){var P=Math.min(8,O.length-U),C=parseInt(O.substring(U,U+P),R);8>P?(P=g(Math.pow(R,P)),x=x.j(P).add(g(C))):(x=x.j(w),x=x.add(g(C)))}return x}var T=p(0),S=p(1),b=p(16777216);i=h.prototype,i.m=function(){if(z(this))return-D(this).m();for(var O=0,R=1,w=0;w<this.g.length;w++){var x=this.i(w);O+=(0<=x?x:4294967296+x)*R,R*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if(z(this))return"-"+D(this).toString(O);for(var R=g(Math.pow(O,6)),w=this,x="";;){var U=mt(w,R).g;w=et(w,U.j(R));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=U,V(w))return P+x;for(;6>P.length;)P="0"+P;x=P+x}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function z(O){return O.h==-1}i.l=function(O){return O=et(this,O),z(O)?-1:V(O)?0:1};function D(O){for(var R=O.g.length,w=[],x=0;x<R;x++)w[x]=~O.g[x];return new h(w,~O.h).add(S)}i.abs=function(){return z(this)?D(this):this},i.add=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],x=0,U=0;U<=R;U++){var P=x+(this.i(U)&65535)+(O.i(U)&65535),C=(P>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);x=C>>>16,P&=65535,C&=65535,w[U]=C<<16|P}return new h(w,w[w.length-1]&-2147483648?-1:0)};function et(O,R){return O.add(D(R))}i.j=function(O){if(V(this)||V(O))return T;if(z(this))return z(O)?D(this).j(D(O)):D(D(this).j(O));if(z(O))return D(this.j(D(O)));if(0>this.l(b)&&0>O.l(b))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,w=[],x=0;x<2*R;x++)w[x]=0;for(x=0;x<this.g.length;x++)for(var U=0;U<O.g.length;U++){var P=this.i(x)>>>16,C=this.i(x)&65535,_e=O.i(U)>>>16,ze=O.i(U)&65535;w[2*x+2*U]+=C*ze,rt(w,2*x+2*U),w[2*x+2*U+1]+=P*ze,rt(w,2*x+2*U+1),w[2*x+2*U+1]+=C*_e,rt(w,2*x+2*U+1),w[2*x+2*U+2]+=P*_e,rt(w,2*x+2*U+2)}for(x=0;x<R;x++)w[x]=w[2*x+1]<<16|w[2*x];for(x=R;x<2*R;x++)w[x]=0;return new h(w,0)};function rt(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function Z(O,R){this.g=O,this.h=R}function mt(O,R){if(V(R))throw Error("division by zero");if(V(O))return new Z(T,T);if(z(O))return R=mt(D(O),R),new Z(D(R.g),D(R.h));if(z(R))return R=mt(O,D(R)),new Z(D(R.g),R.h);if(30<O.g.length){if(z(O)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var w=S,x=R;0>=x.l(O);)w=It(w),x=It(x);var U=Et(w,1),P=Et(x,1);for(x=Et(x,2),w=Et(w,2);!V(x);){var C=P.add(x);0>=C.l(O)&&(U=U.add(w),P=C),x=Et(x,1),w=Et(w,1)}return R=et(O,U.j(R)),new Z(U,R)}for(U=T;0<=O.l(R);){for(w=Math.max(1,Math.floor(O.m()/R.m())),x=Math.ceil(Math.log(w)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),P=g(w),C=P.j(R);z(C)||0<C.l(O);)w-=x,P=g(w),C=P.j(R);V(P)&&(P=S),U=U.add(P),O=et(O,C)}return new Z(U,O)}i.A=function(O){return mt(this,O).h},i.and=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],x=0;x<R;x++)w[x]=this.i(x)&O.i(x);return new h(w,this.h&O.h)},i.or=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],x=0;x<R;x++)w[x]=this.i(x)|O.i(x);return new h(w,this.h|O.h)},i.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],x=0;x<R;x++)w[x]=this.i(x)^O.i(x);return new h(w,this.h^O.h)};function It(O){for(var R=O.g.length+1,w=[],x=0;x<R;x++)w[x]=O.i(x)<<1|O.i(x-1)>>>31;return new h(w,O.h)}function Et(O,R){var w=R>>5;R%=32;for(var x=O.g.length-w,U=[],P=0;P<x;P++)U[P]=0<R?O.i(P+w)>>>R|O.i(P+w+1)<<32-R:O.i(P+w);return new h(U,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,CS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Is=h}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NS,Yl,OS,bh,_p,DS,MS,xS;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,E){return c==Array.prototype||c==Object.prototype||(c[_]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)t:{var E=s;c=c.split(".");for(var I=0;I<c.length-1;I++){var B=c[I];if(!(B in E))break t;E=E[B]}c=c[c.length-1],I=E[c],_=_(I),_!=I&&_!=null&&t(E,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var E=0,I=!1,B={next:function(){if(!I&&E<c.length){var Y=E++;return{value:_(Y,c[Y]),done:!1}}return I=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function v(c,_,E){return c.call.apply(c.bind,arguments)}function T(c,_,E){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),c.apply(_,B)}}return function(){return c.apply(_,arguments)}}function S(c,_,E){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,S.apply(null,arguments)}function b(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function V(c,_){function E(){}E.prototype=_.prototype,c.aa=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(I,B,Y){for(var ot=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)ot[Zt-2]=arguments[Zt];return _.prototype[B].apply(I,ot)}}function z(c){const _=c.length;if(0<_){const E=Array(_);for(let I=0;I<_;I++)E[I]=c[I];return E}return[]}function D(c,_){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(p(I)){const B=c.length||0,Y=I.length||0;c.length=B+Y;for(let ot=0;ot<Y;ot++)c[B+ot]=I[ot]}else c.push(I)}}class et{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function rt(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function mt(c){return mt[" "](c),c}mt[" "]=function(){};var It=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Et(c,_,E){for(const I in c)_.call(E,c[I],I,c)}function O(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function R(c){const _={};for(const E in c)_[E]=c[E];return _}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,_){let E,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(E in I)c[E]=I[E];for(let Y=0;Y<w.length;Y++)E=w[Y],Object.prototype.hasOwnProperty.call(I,E)&&(c[E]=I[E])}}function U(c){var _=1;c=c.split(":");const E=[];for(;0<_&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function P(c){m.setTimeout(()=>{throw c},0)}function C(){var c=xt;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class _e{constructor(){this.h=this.g=null}add(_,E){const I=ze.get();I.set(_,E),this.h?this.h.next=I:this.g=I,this.h=I}}var ze=new et(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,gt=!1,xt=new _e,Yt=()=>{const c=m.Promise.resolve(void 0);lt=()=>{c.then(L)}};var L=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(E){P(E)}var _=ze;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}gt=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var ht=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};m.addEventListener("test",E,_),m.removeEventListener("test",E,_)}catch{}return c})();function At(c,_){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(It){t:{try{mt(_.nodeName);var B=!0;break t}catch{}B=!1}B||(_=null)}}else E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement);this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Dt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&At.aa.h.call(this)}}V(At,st);var Dt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function ne(c,_,E,I,B){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!I,this.ha=B,this.key=++Lt,this.da=this.fa=!1}function Xn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wn(c){this.src=c,this.g={},this.h=0}wn.prototype.add=function(c,_,E,I,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ot=it(c,_,I,B);return-1<ot?(_=c[ot],E||(_.fa=!1)):(_=new ne(_,this.src,Y,!!I,B),_.fa=E,c.push(_)),_};function Hi(c,_){var E=_.type;if(E in c.g){var I=c.g[E],B=Array.prototype.indexOf.call(I,_,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(I,B,1),Y&&(Xn(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function it(c,_,E,I){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==_&&Y.capture==!!E&&Y.ha==I)return B}return-1}var at="closure_lm_"+(1e6*Math.random()|0),ft={};function Pt(c,_,E,I,B){if(Array.isArray(_)){for(var Y=0;Y<_.length;Y++)Pt(c,_[Y],E,I,B);return null}return E=Jn(E),c&&c[wt]?c.K(_,E,g(I)?!!I.capture:!1,B):le(c,_,E,!1,I,B)}function le(c,_,E,I,B,Y){if(!_)throw Error("Invalid event type");var ot=g(B)?!!B.capture:!!B,Zt=Oe(c);if(Zt||(c[at]=Zt=new wn(c)),E=Zt.add(_,E,I,ot,Y),E.proxy)return E;if(I=Cn(),E.proxy=I,I.src=c,I.listener=E,c.addEventListener)ht||(B=ot),B===void 0&&(B=!1),c.addEventListener(_.toString(),I,B);else if(c.attachEvent)c.attachEvent(Gt(_.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Cn(){function c(E){return _.call(c.src,c.listener,E)}const _=Nt;return c}function me(c,_,E,I,B){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)me(c,_[Y],E,I,B);else I=g(I)?!!I.capture:!!I,E=Jn(E),c&&c[wt]?(c=c.i,_=String(_).toString(),_ in c.g&&(Y=c.g[_],E=it(Y,E,I,B),-1<E&&(Xn(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete c.g[_],c.h--)))):c&&(c=Oe(c))&&(_=c.g[_.toString()],c=-1,_&&(c=it(_,E,I,B)),(E=-1<c?_[c]:null)&&je(E))}function je(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[wt])Hi(_.i,c);else{var E=c.type,I=c.proxy;_.removeEventListener?_.removeEventListener(E,I,c.capture):_.detachEvent?_.detachEvent(Gt(E),I):_.addListener&&_.removeListener&&_.removeListener(I),(E=Oe(_))?(Hi(E,c),E.h==0&&(E.src=null,_[at]=null)):Xn(c)}}}function Gt(c){return c in ft?ft[c]:ft[c]="on"+c}function Nt(c,_){if(c.da)c=!0;else{_=new At(_,this);var E=c.listener,I=c.ha||c.src;c.fa&&je(c),c=E.call(I,_)}return c}function Oe(c){return c=c[at],c instanceof wn?c:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jn(c){return typeof c=="function"?c:(c[ue]||(c[ue]=function(_){return c.handleEvent(_)}),c[ue])}function pe(){Q.call(this),this.i=new wn(this),this.M=this,this.F=null}V(pe,Q),pe.prototype[wt]=!0,pe.prototype.removeEventListener=function(c,_,E,I){me(this,c,_,E,I)};function Ge(c,_){var E,I=c.F;if(I)for(E=[];I;I=I.F)E.push(I);if(c=c.M,I=_.type||_,typeof _=="string")_=new st(_,c);else if(_ instanceof st)_.target=_.target||c;else{var B=_;_=new st(I,c),x(_,B)}if(B=!0,E)for(var Y=E.length-1;0<=Y;Y--){var ot=_.g=E[Y];B=Fi(ot,I,!0,_)&&B}if(ot=_.g=c,B=Fi(ot,I,!0,_)&&B,B=Fi(ot,I,!1,_)&&B,E)for(Y=0;Y<E.length;Y++)ot=_.g=E[Y],B=Fi(ot,I,!1,_)&&B}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var E=c.g[_],I=0;I<E.length;I++)Xn(E[I]);delete c.g[_],c.h--}}this.F=null},pe.prototype.K=function(c,_,E,I){return this.i.add(String(c),_,!1,E,I)},pe.prototype.L=function(c,_,E,I){return this.i.add(String(c),_,!0,E,I)};function Fi(c,_,E,I){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var B=!0,Y=0;Y<_.length;++Y){var ot=_[Y];if(ot&&!ot.da&&ot.capture==E){var Zt=ot.listener,De=ot.ha||ot.src;ot.fa&&Hi(c.i,ot),B=Zt.call(De,I)!==!1&&B}}return B&&!I.defaultPrevented}function Du(c,_,E){if(typeof c=="function")E&&(c=S(c,E));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(c,_||0)}function Ho(c){c.g=Du(()=>{c.g=null,c.i&&(c.i=!1,Ho(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class Lf extends Q{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ho(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(c){Q.call(this),this.h=c,this.g={}}V(Bs,Q);var wr=[];function un(c){Et(c.g,function(_,E){this.g.hasOwnProperty(E)&&je(_)},c),c.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),un(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=m.JSON.stringify,_n=m.JSON.parse,Vf=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Fo(){}Fo.prototype.h=null;function Mu(c){return c.h||(c.h=c.i())}function zs(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cr(){st.call(this,"d")}V(Cr,st);function mi(){st.call(this,"c")}V(mi,st);var Zn={},Nr=null;function ba(){return Nr=Nr||new pe}Zn.La="serverreachability";function Go(c){st.call(this,Zn.La,c)}V(Go,st);function Gi(c){const _=ba();Ge(_,new Go(_))}Zn.STAT_EVENT="statevent";function Or(c,_){st.call(this,Zn.STAT_EVENT,c),this.stat=_}V(Or,st);function Je(c){const _=ba();Ge(_,new Or(_,c))}Zn.Ma="timingevent";function qo(c,_){st.call(this,Zn.Ma,c),this.size=_}V(qo,st);function Dr(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},_)}function Mr(){this.g=!0}Mr.prototype.xa=function(){this.g=!1};function Yo(c,_,E,I,B,Y){c.info(function(){if(c.g)if(Y)for(var ot="",Zt=Y.split("&"),De=0;De<Zt.length;De++){var Vt=Zt[De].split("=");if(1<Vt.length){var Ye=Vt[0];Vt=Vt[1];var Ke=Ye.split("_");ot=2<=Ke.length&&Ke[1]=="type"?ot+(Ye+"="+Vt+"&"):ot+(Ye+"=redacted&")}}else ot=null;else ot=Y;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+_+`
`+E+`
`+ot})}function Ko(c,_,E,I,B,Y,ot){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+_+`
`+E+`
`+Y+" "+ot})}function qi(c,_,E,I){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ii(c,E)+(I?" "+I:"")})}function xu(c,_){c.info(function(){return"TIMEOUT: "+_})}Mr.prototype.info=function(){};function Ii(c,_){if(!c.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var I=E[c];if(!(2>I.length)){var B=I[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ot=1;ot<B.length;ot++)B[ot]=""}}}}return Wn(E)}catch{return _}}var Te={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},We={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ri;function xr(){}V(xr,Fo),xr.prototype.g=function(){return new XMLHttpRequest},xr.prototype.i=function(){return{}},Ri=new xr;function bi(c,_,E,I){this.j=c,this.i=_,this.l=E,this.R=I||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lu}function Lu(){this.i=null,this.g="",this.h=!1}var $o={},Yi={};function js(c,_,E){c.L=1,c.v=Gs(Ae(_)),c.m=E,c.P=!0,Ki(c,null)}function Ki(c,_){c.F=Date.now(),pi(c),c.A=Ae(c.v);var E=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Xi(E.i,"t",I),c.C=0,E=c.j.J,c.h=new Lu,c.g=Xu(c.j,E?_:null,!c.m),0<c.O&&(c.M=new Lf(S(c.Y,c,c.g),c.O)),_=c.U,E=c.g,I=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(wr[0]=B.toString()),B=wr);for(var Y=0;Y<B.length;Y++){var ot=Pt(E,B[Y],I||_.handleEvent,!1,_.h||_);if(!ot)break;_.g[ot.key]=ot}_=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),Gi(),Yo(c.i,c.u,c.A,c.l,c.R,c.m)}bi.prototype.ca=function(c){c=c.target;const _=this.M;_&&vn(c)==3?_.j():this.Y(c)},bi.prototype.Y=function(c){try{if(c==this.g)t:{const Ke=vn(this.g);var _=this.g.Ba();const Yr=this.g.Z();if(!(3>Ke)&&(Ke!=3||this.g&&(this.h.h||this.g.oa()||Ks(this.g)))){this.J||Ke!=4||_==7||(_==8||0>=Yr?Gi(3):Gi(2)),wa(this);var E=this.g.Z();this.X=E;e:if($i(this)){var I=Ks(this.g);c="";var B=I.length,Y=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Lr(this);var ot="";break e}this.h.i=new m.TextDecoder}for(_=0;_<B;_++)this.h.h=!0,c+=this.h.i.decode(I[_],{stream:!(Y&&_==B-1)});I.length=0,this.h.g+=c,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=E==200,Ko(this.i,this.u,this.A,this.l,this.R,Ke,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Zt,De=this.g;if((Zt=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(Zt)){var Vt=Zt;break e}}Vt=null}if(E=Vt)qi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wi(this,E);else{this.o=!1,this.s=3,Je(12),yn(this),Lr(this);break t}}if(this.P){E=!0;let On;for(;!this.J&&this.C<ot.length;)if(On=Hs(this,ot),On==Yi){Ke==4&&(this.s=4,Je(14),E=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(On==$o){this.s=4,Je(15),qi(this.i,this.l,ot,"[Invalid Chunk]"),E=!1;break}else qi(this.i,this.l,On,null),wi(this,On);if($i(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||ot.length!=0||this.h.h||(this.s=1,Je(16),E=!1),this.o=this.o&&E,!E)qi(this.i,this.l,ot,"[Invalid Chunked Response]"),yn(this),Lr(this);else if(0<ot.length&&!this.W){this.W=!0;var Ye=this.j;Ye.g==this&&Ye.ba&&!Ye.M&&(Ye.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),sl(Ye),Ye.M=!0,Je(11))}}else qi(this.i,this.l,ot,null),wi(this,ot);Ke==4&&yn(this),this.o&&!this.J&&(Ke==4?Ku(this.j,this):(this.o=!1,pi(this)))}else ju(this.g),E==400&&0<ot.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),yn(this),Lr(this)}}}catch{}finally{}};function $i(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Hs(c,_){var E=c.C,I=_.indexOf(`
`,E);return I==-1?Yi:(E=Number(_.substring(E,I)),isNaN(E)?$o:(I+=1,I+E>_.length?Yi:(_=_.slice(I,I+E),c.C=I+E,_)))}bi.prototype.cancel=function(){this.J=!0,yn(this)};function pi(c){c.S=Date.now()+c.I,be(c,c.I)}function be(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Dr(S(c.ba,c),_)}function wa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}bi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(xu(this.i,this.A),this.L!=2&&(Gi(),Je(17)),yn(this),this.s=2,Lr(this)):be(this,this.S-c)};function Lr(c){c.j.G==0||c.J||Ku(c.j,c)}function yn(c){wa(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,un(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function wi(c,_){try{var E=c.j;if(E.G!=0&&(E.g==c||Vr(E.h,c))){if(!c.K&&Vr(E.h,c)&&E.G==3){try{var I=E.Da.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Gr(E),Fr(E);else break t;rl(E),Je(18)}}else E.za=B[1],0<E.za-E.T&&37500>B[2]&&E.F&&E.v==0&&!E.C&&(E.C=Dr(S(E.Za,E),6e3));if(1>=Vu(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Wi(E,11)}else if((c.K||E.g==c)&&Gr(E),!rt(_))for(B=E.Da.g.parse(_),_=0;_<B.length;_++){let Vt=B[_];if(E.T=Vt[0],Vt=Vt[1],E.G==2)if(Vt[0]=="c"){E.K=Vt[1],E.ia=Vt[2];const Ye=Vt[3];Ye!=null&&(E.la=Ye,E.j.info("VER="+E.la));const Ke=Vt[4];Ke!=null&&(E.Aa=Ke,E.j.info("SVER="+E.Aa));const Yr=Vt[5];Yr!=null&&typeof Yr=="number"&&0<Yr&&(I=1.5*Yr,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const On=c.g;if(On){const Xs=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xs){var Y=I.h;Y.g||Xs.indexOf("spdy")==-1&&Xs.indexOf("quic")==-1&&Xs.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ur(Y,Y.h),Y.h=null))}if(I.D){const Zi=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;Zi&&(I.ya=Zi,Qt(I.I,I.D,Zi))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var ot=c;if(I.qa=Qu(I,I.J?I.ia:null,I.W),ot.K){ti(I.h,ot);var Zt=ot,De=I.L;De&&(Zt.I=De),Zt.B&&(wa(Zt),pi(Zt)),I.g=ot}else qu(I);0<E.i.length&&Va(E)}else Vt[0]!="stop"&&Vt[0]!="close"||Wi(E,7);else E.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?Wi(E,7):nl(E):Vt[0]!="noop"&&E.l&&E.l.ta(Vt),E.v=0)}}Gi(4)}catch{}}var Uf=class{constructor(c,_){this.g=c,this.map=_}};function Qo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Vu(c){return c.h?1:c.g?c.g.size:0}function Vr(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Ur(c,_){c.g?c.g.add(_):c.h=_}function ti(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Qo.prototype.cancel=function(){if(this.i=En(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function En(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.D);return _}return z(c.i)}function Uu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var _=[],E=c.length,I=0;I<E;I++)_.push(c[I]);return _}_=[],E=0;for(I in c)_[E++]=c[I];return _}function Pf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var _=[];c=c.length;for(var E=0;E<c;E++)_.push(E);return _}_=[],E=0;for(const I in c)_[E++]=I;return _}}}function Ca(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var E=Pf(c),I=Uu(c),B=I.length,Y=0;Y<B;Y++)_.call(void 0,I[Y],E&&E[Y],c)}var Jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(c,_){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var I=c[E].indexOf("="),B=null;if(0<=I){var Y=c[E].substring(0,I);B=c[E].substring(I+1)}else Y=c[E];_(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Qi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Qi){this.h=c.h,Pr(this,c.j),this.o=c.o,this.g=c.g,Fs(this,c.s),this.l=c.l;var _=c.i,E=new Ci;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Oa(this,E),this.m=c.m}else c&&(_=String(c).match(Jo))?(this.h=!1,Pr(this,_[1]||"",!0),this.o=kr(_[2]||""),this.g=kr(_[3]||"",!0),Fs(this,_[4]),this.l=kr(_[5]||"",!0),Oa(this,_[6]||"",!0),this.m=kr(_[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}Qi.prototype.toString=function(){var c=[],_=this.j;_&&c.push(ei(_,Wo,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(ei(_,Wo,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(ei(E,E.charAt(0)=="/"?Zo:Pu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",ei(E,zf)),c.join("")};function Ae(c){return new Qi(c)}function Pr(c,_,E){c.j=E?kr(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Fs(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function Oa(c,_,E){_ instanceof Ci?(c.i=_,ku(c.i,c.h)):(E||(_=ei(_,Bf)),c.i=new Ci(_,c.h))}function Qt(c,_,E){c.i.set(_,E)}function Gs(c){return Qt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function kr(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ei(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,kf),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function kf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wo=/[#\/\?@]/g,Pu=/[#\?:]/g,Zo=/[#\?]/g,Bf=/[#\?@]/g,zf=/#/g;function Ci(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function qe(c){c.g||(c.g=new Map,c.h=0,c.i&&Na(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}i=Ci.prototype,i.add=function(c,_){qe(this),this.i=null,c=Pn(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function Da(c,_){qe(c),_=Pn(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Ma(c,_){return qe(c),_=Pn(c,_),c.g.has(_)}i.forEach=function(c,_){qe(this),this.g.forEach(function(E,I){E.forEach(function(B){c.call(_,B,I,this)},this)},this)},i.na=function(){qe(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let I=0;I<_.length;I++){const B=c[I];for(let Y=0;Y<B.length;Y++)E.push(_[I])}return E},i.V=function(c){qe(this);let _=[];if(typeof c=="string")Ma(this,c)&&(_=_.concat(this.g.get(Pn(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)_=_.concat(c[E])}return _},i.set=function(c,_){return qe(this),this.i=null,c=Pn(this,c),Ma(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function Xi(c,_,E){Da(c,_),0<E.length&&(c.i=null,c.g.set(Pn(c,_),z(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var I=_[E];const Y=encodeURIComponent(String(I)),ot=this.V(I);for(I=0;I<ot.length;I++){var B=Y;ot[I]!==""&&(B+="="+encodeURIComponent(String(ot[I]))),c.push(B)}}return this.i=c.join("&")};function Pn(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function ku(c,_){_&&!c.j&&(qe(c),c.i=null,c.g.forEach(function(E,I){var B=I.toLowerCase();I!=B&&(Da(this,I),Xi(this,B,E))},c)),c.j=_}function tl(c,_){const E=new Mr;if(m.Image){const I=new Image;I.onload=b(Nn,E,"TestLoadImage: loaded",!0,_,I),I.onerror=b(Nn,E,"TestLoadImage: error",!1,_,I),I.onabort=b(Nn,E,"TestLoadImage: abort",!1,_,I),I.ontimeout=b(Nn,E,"TestLoadImage: timeout",!1,_,I),m.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else _(!1)}function Bu(c,_){const E=new Mr,I=new AbortController,B=setTimeout(()=>{I.abort(),Nn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:I.signal}).then(Y=>{clearTimeout(B),Y.ok?Nn(E,"TestPingServer: ok",!0,_):Nn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),Nn(E,"TestPingServer: error",!1,_)})}function Nn(c,_,E,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(E)}catch{}}function gi(){this.g=new Vf}function el(c,_,E){const I=E||"";try{Ca(c,function(B,Y){let ot=B;g(B)&&(ot=Wn(B)),_.push(I+Y+"="+encodeURIComponent(ot))})}catch(B){throw _.push(I+"type="+encodeURIComponent("_badmap")),B}}function Ni(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Ni,Fo),Ni.prototype.g=function(){return new kn(this.l,this.j)},Ni.prototype.i=(function(c){return function(){return c}})({});function kn(c,_){pe.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(kn,pe),i=kn.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,Br(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xa(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xa(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?Oi(this):Br(this),this.readyState==3&&xa(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Oi(this))},i.Qa=function(c){this.g&&(this.response=c,Oi(this))},i.ga=function(){this.g&&Oi(this)};function Oi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Br(c)}i.setRequestHeader=function(c,_){this.u.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function Br(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(kn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qs(c){let _="";return Et(c,function(E,I){_+=I,_+=":",_+=E,_+=`\r
`}),_}function zr(c,_,E){t:{for(I in E){var I=!1;break t}I=!0}I||(E=qs(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Qt(c,_,E))}function ce(c){pe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(ce,pe);var cn=/^https?$/i,Ji=["POST","PUT"];i=ce.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,_,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ri.g(),this.v=this.o?Mu(this.o):Mu(Ri),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(Y){Ys(this,Y);return}if(c=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)E.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Y of I.keys())E.set(Y,I.get(Y));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ji,_,void 0))||I||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ot]of E)this.g.setRequestHeader(Y,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{La(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Ys(this,Y)}};function Ys(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,jr(c),Hr(c)}function jr(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),Hr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hr(this,!0)),ce.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?zu(this):this.bb())},i.bb=function(){zu(this)};function zu(c){if(c.h&&typeof h<"u"&&(!c.v[1]||vn(c)!=4||c.Z()!=2)){if(c.u&&vn(c)==4)Du(c.Ea,0,c);else if(Ge(c,"readystatechange"),vn(c)==4){c.h=!1;try{const ot=c.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var I;if(I=ot===0){var B=String(c.D).match(Jo)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),I=!cn.test(B?B.toLowerCase():"")}E=I}if(E)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var Y=2<vn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",jr(c)}}finally{Hr(c)}}}}function Hr(c,_){if(c.g){La(c);const E=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Ge(c,"ready");try{E.onreadystatechange=I}catch{}}}function La(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function vn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),_n(_)}};function Ks(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ju(c){const _={};c=(c.g&&2<=vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(rt(c[I]))continue;var E=U(c[I]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=_[B]||[];_[B]=Y,Y.push(E)}O(_,function(I){return I.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function Hu(c){this.Aa=0,this.i=[],this.j=new Mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$s("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$s("baseRetryDelayMs",5e3,c),this.cb=$s("retryDelaySeedMs",1e4,c),this.Wa=$s("forwardChannelMaxRetries",2,c),this.wa=$s("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qo(c&&c.concurrentRequestLimit),this.Da=new gi,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Hu.prototype,i.la=8,i.G=1,i.connect=function(c,_,E,I){Je(0),this.W=c,this.H=_||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=Qu(this,null,this.W),Va(this)};function nl(c){if(Fu(c),c.G==3){var _=c.U++,E=Ae(c.I);if(Qt(E,"SID",c.K),Qt(E,"RID",_),Qt(E,"TYPE","terminate"),Qs(c,E),_=new bi(c,c.j,_),_.L=2,_.v=Gs(Ae(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&m.Image&&(new Image().src=_.v,E=!0),E||(_.g=Xu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),pi(_)}al(c)}function Fr(c){c.g&&(sl(c),c.g.cancel(),c.g=null)}function Fu(c){Fr(c),c.u&&(m.clearTimeout(c.u),c.u=null),Gr(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Va(c){if(!Xo(c.h)&&!c.s){c.s=!0;var _=c.Ga;lt||Yt(),gt||(lt(),gt=!0),xt.add(_,c),c.B=0}}function jf(c,_){return Vu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Dr(S(c.Ga,c,_),$u(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new bi(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),x(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(_+=I,4096<_){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=il(this,B,_),E=Ae(this.I),Qt(E,"RID",c),Qt(E,"CVER",22),this.D&&Qt(E,"X-HTTP-Session-Id",this.D),Qs(this,E),Y&&(this.O?_="headers="+encodeURIComponent(String(qs(Y)))+"&"+_:this.m&&zr(E,this.m,Y)),Ur(this.h,B),this.Ua&&Qt(E,"TYPE","init"),this.P?(Qt(E,"$req",_),Qt(E,"SID","null"),B.T=!0,js(B,E,null)):js(B,E,_),this.G=2}}else this.G==3&&(c?Gu(this,c):this.i.length==0||Xo(this.h)||Gu(this))};function Gu(c,_){var E;_?E=_.l:E=c.U++;const I=Ae(c.I);Qt(I,"SID",c.K),Qt(I,"RID",E),Qt(I,"AID",c.T),Qs(c,I),c.m&&c.o&&zr(I,c.m,c.o),E=new bi(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),_&&(c.i=_.D.concat(c.i)),_=il(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ur(c.h,E),js(E,I,_)}function Qs(c,_){c.H&&Et(c.H,function(E,I){Qt(_,I,E)}),c.l&&Ca({},function(E,I){Qt(_,I,E)})}function il(c,_,E){E=Math.min(c.i.length,E);var I=c.l?S(c.l.Na,c.l,c):null;t:{var B=c.i;let Y=-1;for(;;){const ot=["count="+E];Y==-1?0<E?(Y=B[0].g,ot.push("ofs="+Y)):Y=0:ot.push("ofs="+Y);let Zt=!0;for(let De=0;De<E;De++){let Vt=B[De].g;const Ye=B[De].map;if(Vt-=Y,0>Vt)Y=Math.max(0,B[De].g-100),Zt=!1;else try{el(Ye,ot,"req"+Vt+"_")}catch{I&&I(Ye)}}if(Zt){I=ot.join("&");break t}}}return c=c.i.splice(0,E),_.D=c,I}function qu(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;lt||Yt(),gt||(lt(),gt=!0),xt.add(_,c),c.v=0}}function rl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Dr(S(c.Fa,c),$u(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Dr(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),Fr(this),Yu(this))};function sl(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Yu(c){c.g=new bi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=Ae(c.qa);Qt(_,"RID","rpc"),Qt(_,"SID",c.K),Qt(_,"AID",c.T),Qt(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qt(_,"TO",c.ja),Qt(_,"TYPE","xmlhttp"),Qs(c,_),c.m&&c.o&&zr(_,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Gs(Ae(_)),E.m=null,E.P=!0,Ki(E,c)}i.Za=function(){this.C!=null&&(this.C=null,Fr(this),rl(this),Je(19))};function Gr(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ku(c,_){var E=null;if(c.g==_){Gr(c),sl(c),c.g=null;var I=2}else if(Vr(c.h,_))E=_.D,ti(c.h,_),I=1;else return;if(c.G!=0){if(_.o)if(I==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var B=c.B;I=ba(),Ge(I,new qo(I,E)),Va(c)}else qu(c);else if(B=_.s,B==3||B==0&&0<_.X||!(I==1&&jf(c,_)||I==2&&rl(c)))switch(E&&0<E.length&&(_=c.h,_.i=_.i.concat(E)),B){case 1:Wi(c,5);break;case 4:Wi(c,10);break;case 3:Wi(c,6);break;default:Wi(c,2)}}}function $u(c,_){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*_}function Wi(c,_){if(c.j.info("Error code "+_),_==2){var E=S(c.fb,c),I=c.Xa;const B=!I;I=new Qi(I||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Pr(I,"https"),Gs(I),B?tl(I.toString(),E):Bu(I.toString(),E)}else Je(2);c.G=0,c.l&&c.l.sa(_),al(c),Fu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function al(c){if(c.G=0,c.ka=[],c.l){const _=En(c.h);(_.length!=0||c.i.length!=0)&&(D(c.ka,_),D(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Qu(c,_,E){var I=E instanceof Qi?Ae(E):new Qi(E);if(I.g!="")_&&(I.g=_+"."+I.g),Fs(I,I.s);else{var B=m.location;I=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;var Y=new Qi(null);I&&Pr(Y,I),_&&(Y.g=_),B&&Fs(Y,B),E&&(Y.l=E),I=Y}return E=c.D,_=c.ya,E&&_&&Qt(I,E,_),Qt(I,"VER",c.la),Qs(c,I),I}function Xu(c,_,E){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new ce(new Ni({eb:E})):new ce(c.pa),_.Ha(c.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}i=Ju.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ua(){}Ua.prototype.g=function(c,_){return new Tn(c,_)};function Tn(c,_){pe.call(this),this.g=new Hu(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!rt(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!rt(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new qr(this)}V(Tn,pe),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){nl(this.g)},Tn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Wn(c),c=E);_.i.push(new Uf(_.Ya++,c)),_.G==3&&Va(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,Tn.aa.N.call(this)};function Wu(c){Cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){t:{for(const E in _){c=E;break t}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}V(Wu,Cr);function Zu(){mi.call(this),this.status=1}V(Zu,mi);function qr(c){this.g=c}V(qr,Ju),qr.prototype.ua=function(){Ge(this.g,"a")},qr.prototype.ta=function(c){Ge(this.g,new Wu(c))},qr.prototype.sa=function(c){Ge(this.g,new Zu)},qr.prototype.ra=function(){Ge(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,xS=function(){return new Ua},MS=function(){return ba()},DS=Zn,_p={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,bh=Te,We.COMPLETE="complete",OS=We,zs.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Yl=zs,ce.prototype.listenOnce=ce.prototype.L,ce.prototype.getLastError=ce.prototype.Ka,ce.prototype.getLastErrorCode=ce.prototype.Ba,ce.prototype.getStatus=ce.prototype.Z,ce.prototype.getResponseJson=ce.prototype.Oa,ce.prototype.getResponseText=ce.prototype.oa,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Ha,NS=ce}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const tT="@firebase/firestore",eT="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Kp("@firebase/firestore");function fo(){return va.logLevel}function ct(i,...t){if(va.logLevel<=Ht.DEBUG){const n=t.map(og);va.debug(`Firestore (${Po}): ${i}`,...n)}}function Sr(i,...t){if(va.logLevel<=Ht.ERROR){const n=t.map(og);va.error(`Firestore (${Po}): ${i}`,...n)}}function Cs(i,...t){if(va.logLevel<=Ht.WARN){const n=t.map(og);va.warn(`Firestore (${Po}): ${i}`,...n)}}function og(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,LS(i,s,n)}function LS(i,t,n){let s=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Sr(s),new Error(s)}function $t(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||LS(t,o,s)}function bt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends br{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(dn.UNAUTHENTICATED)))}shutdown(){}}class GD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class qD{constructor(t){this.t=t,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Er,t.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Er)}}),0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string",31837,{l:s}),new VS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new dn(t)}}class YD{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KD{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new YD(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $D{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0,3512);const s=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=QD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ut(i,t){return i<t?-1:i>t?1:0}function yp(i,t){let n=0;for(;n<i.length&&n<t.length;){const s=i.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ut(s,o);{const u=US(),h=XD(u.encode(iT(i,n)),u.encode(iT(t,n)));return h!==0?h:Ut(s,o)}}n+=s>65535?2:1}return Ut(i.length,t.length)}function iT(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function XD(i,t){for(let n=0;n<i.length&&n<t.length;++n)if(i[n]!==t[n])return Ut(i[n],t[n]);return Ut(i.length,t.length)}function wo(i,t,n){return i.length===t.length&&i.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="__name__";class Vi{constructor(t,n,s){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&vt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Vi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Vi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Vi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ut(t.length,n.length)}static compareSegments(t,n){const s=Vi.isNumericId(t),o=Vi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vi.extractNumericId(t).compare(Vi.extractNumericId(n)):yp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Is.fromString(t.substring(4,t.length-2))}}class ae extends Vi{construct(t,n,s){return new ae(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ae(n)}static emptyPath(){return new ae([])}}const JD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Vi{construct(t,n,s){return new an(t,n,s)}static isValidIdentifier(t){return JD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rT}static keyField(){return new an([rT])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ut(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ut(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ut(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(ae.fromString(t))}static fromName(t){return new _t(ae.fromString(t).popFirst(5))}static empty(){return new _t(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new ae(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(i,t,n){if(!n)throw new ut(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function WD(i,t,n,s){if(t===!0&&s===!0)throw new ut(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function sT(i){if(!_t.isDocumentKey(i))throw new ut(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function aT(i){if(_t.isDocumentKey(i))throw new ut(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function kS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function ff(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":vt(12329,{type:typeof i})}function hi(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ut(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ff(i);throw new ut(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(i,t){const n={typeString:i};return t&&(n.value=t),n}function Au(i,t){if(!kS(i))throw new ut(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ut(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=-62135596800,lT=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*lT);return new de(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<oT)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lT}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Au(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-oT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:ke("string",de._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new de(0,0))}static max(){return new St(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function ZD(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new de(n+1,0):new de(n,s));return new Ns(o,_t.empty(),t)}function t2(i){return new Ns(i.readTime,i.key,lu)}class Ns{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ns(St.min(),_t.empty(),lu)}static max(){return new Ns(St.max(),_t.empty(),lu)}}function e2(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=_t.comparator(i.documentKey,t.documentKey),n!==0?n:Ut(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==n2)throw i;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.reject(n)}static resolve(t){return new nt(((n,s)=>{n(t)}))}static reject(t){return new nt(((n,s)=>{s(t)}))}static waitFor(t){return new nt(((n,s)=>{let o=0,u=0,h=!1;t.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(t){let n=nt.resolve(!1);for(const s of t)n=n.next((o=>o?nt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new nt(((s,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((v=>{h[g]=v,++m,m===u&&s(h)}),(v=>o(v)))}}))}static doWhile(t,n){return new nt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function r2(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}df.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=-1;function Su(i){return i==null}function Fh(i){return i===0&&1/i==-1/0}function s2(i){return typeof i=="number"&&Number.isInteger(i)&&!Fh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="";function a2(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=uT(t)),t=o2(i.get(n),t);return uT(t)}function o2(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case BS:n+="";break;default:n+=u}}return n}function uT(i){return i+BS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function Ps(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function zS(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,n){this.comparator=t,this.root=n||sn.EMPTY}insert(t,n){return new ve(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lh(this.root,t,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lh(this.root,t,this.comparator,!0)}}class lh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??sn.RED,this.left=o??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new sn(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new sn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new hT(this.data.getIterator())}getIteratorFrom(t){return new hT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Fe(this.comparator);return n.data=t,n}}class hT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this.fields=t,t.sort(an.comparator)}static empty(){return new Kn([])}unionWith(t){let n=new Fe(an.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return wo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jS("Invalid base64 string: "+u):u}})(t);return new on(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(t);return new on(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}on.EMPTY_BYTE_STRING=new on("");const l2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(i){if($t(!!i,39018),typeof i=="string"){let t=0;const n=l2.exec(i);if($t(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ne(i.seconds),nanos:Ne(i.nanos)}}function Ne(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ds(i){return typeof i=="string"?on.fromBase64String(i):on.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="server_timestamp",FS="__type__",GS="__previous_value__",qS="__local_write_time__";function cg(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[FS])===null||n===void 0?void 0:n.stringValue)===HS}function mf(i){const t=i.mapValue.fields[GS];return cg(t)?mf(t):t}function uu(i){const t=Os(i.mapValue.fields[qS].timestampValue);return new de(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t,n,s,o,u,h,m,p,g,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Gh="(default)";class cu{constructor(t,n){this.projectId=t,this.database=n||Gh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(t){return t instanceof cu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="__type__",c2="__max__",uh={mapValue:{}},KS="__vector__",qh="value";function Ms(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?cg(i)?4:f2(i)?9007199254740991:h2(i)?10:11:vt(28295,{value:i})}function ji(i,t){if(i===t)return!0;const n=Ms(i);if(n!==Ms(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return uu(i).isEqual(uu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Os(o.timestampValue),m=Os(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return Ds(o.bytesValue).isEqual(Ds(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ne(o.geoPointValue.latitude)===Ne(u.geoPointValue.latitude)&&Ne(o.geoPointValue.longitude)===Ne(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ne(o.integerValue)===Ne(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ne(o.doubleValue),m=Ne(u.doubleValue);return h===m?Fh(h)===Fh(m):isNaN(h)&&isNaN(m)}return!1})(i,t);case 9:return wo(i.arrayValue.values||[],t.arrayValue.values||[],ji);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(cT(h)!==cT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!ji(h[p],m[p])))return!1;return!0})(i,t);default:return vt(52216,{left:i})}}function hu(i,t){return(i.values||[]).find((n=>ji(n,t)))!==void 0}function Co(i,t){if(i===t)return 0;const n=Ms(i),s=Ms(t);if(n!==s)return Ut(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ut(i.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=Ne(u.integerValue||u.doubleValue),p=Ne(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return fT(i.timestampValue,t.timestampValue);case 4:return fT(uu(i),uu(t));case 5:return yp(i.stringValue,t.stringValue);case 6:return(function(u,h){const m=Ds(u),p=Ds(h);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ut(m[g],p[g]);if(v!==0)return v}return Ut(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=Ut(Ne(u.latitude),Ne(h.latitude));return m!==0?m:Ut(Ne(u.longitude),Ne(h.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return dT(i.arrayValue,t.arrayValue);case 10:return(function(u,h){var m,p,g,v;const T=u.fields||{},S=h.fields||{},b=(m=T[qh])===null||m===void 0?void 0:m.arrayValue,V=(p=S[qh])===null||p===void 0?void 0:p.arrayValue,z=Ut(((g=b==null?void 0:b.values)===null||g===void 0?void 0:g.length)||0,((v=V==null?void 0:V.values)===null||v===void 0?void 0:v.length)||0);return z!==0?z:dT(b,V)})(i.mapValue,t.mapValue);case 11:return(function(u,h){if(u===uh.mapValue&&h===uh.mapValue)return 0;if(u===uh.mapValue)return 1;if(h===uh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const S=yp(p[T],v[T]);if(S!==0)return S;const b=Co(m[p[T]],g[v[T]]);if(b!==0)return b}return Ut(p.length,v.length)})(i.mapValue,t.mapValue);default:throw vt(23264,{le:n})}}function fT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Ut(i,t);const n=Os(i),s=Os(t),o=Ut(n.seconds,s.seconds);return o!==0?o:Ut(n.nanos,s.nanos)}function dT(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Co(n[o],s[o]);if(u)return u}return Ut(n.length,s.length)}function No(i){return Ep(i)}function Ep(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Os(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Ds(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return _t.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ep(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Ep(n.fields[h])}`;return o+"}"})(i.mapValue):vt(61005,{value:i})}function wh(i){switch(Ms(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mf(i);return t?16+wh(t):16;case 5:return 2*i.stringValue.length;case 6:return Ds(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+wh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ps(s.fields,((u,h)=>{o+=u.length+wh(h)})),o})(i.mapValue);default:throw vt(13486,{value:i})}}function mT(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function vp(i){return!!i&&"integerValue"in i}function hg(i){return!!i&&"arrayValue"in i}function pT(i){return!!i&&"nullValue"in i}function gT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ch(i){return!!i&&"mapValue"in i}function h2(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[YS])===null||n===void 0?void 0:n.stringValue)===KS}function Zl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Ps(i.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Zl(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zl(i.arrayValue.values[n]);return t}return Object.assign({},i)}function f2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===c2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.value=t}static empty(){return new Rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Ch(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zl(n)}setAll(t){let n=an.emptyPath(),s={},o=[];t.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Zl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ji(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Ps(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Rn(Zl(this.value))}}function $S(i){const t=[];return Ps(i.fields,((n,s)=>{const o=new an([n]);if(Ch(s)){const u=$S(s.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)})),new Kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,s,o,u,h,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new Xe(t,0,St.min(),St.min(),St.min(),Rn.empty(),0)}static newFoundDocument(t,n,s,o){return new Xe(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new Xe(t,2,n,St.min(),St.min(),Rn.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,St.min(),St.min(),Rn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,n){this.position=t,this.inclusive=n}}function _T(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?s=_t.comparator(_t.fromName(h.referenceValue),n.key):s=Co(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function yT(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ji(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,n="asc"){this.field=t,this.dir=n}}function d2(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{}class Pe extends QS{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new p2(t,n,s):n==="array-contains"?new y2(t,s):n==="in"?new E2(t,s):n==="not-in"?new v2(t,s):n==="array-contains-any"?new T2(t,s):new Pe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new g2(t,s):new _2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Co(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends QS{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new Ai(t,n)}matches(t){return XS(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function XS(i){return i.op==="and"}function JS(i){return m2(i)&&XS(i)}function m2(i){for(const t of i.filters)if(t instanceof Ai)return!1;return!0}function Tp(i){if(i instanceof Pe)return i.field.canonicalString()+i.op.toString()+No(i.value);if(JS(i))return i.filters.map((t=>Tp(t))).join(",");{const t=i.filters.map((n=>Tp(n))).join(",");return`${i.op}(${t})`}}function WS(i,t){return i instanceof Pe?(function(s,o){return o instanceof Pe&&s.op===o.op&&s.field.isEqual(o.field)&&ji(s.value,o.value)})(i,t):i instanceof Ai?(function(s,o){return o instanceof Ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&WS(h,o.filters[m])),!0):!1})(i,t):void vt(19439)}function ZS(i){return i instanceof Pe?(function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`})(i):i instanceof Ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(ZS).join(" ,")+"}"})(i):"Filter"}class p2 extends Pe{constructor(t,n,s){super(t,n,s),this.key=_t.fromName(s.referenceValue)}matches(t){const n=_t.comparator(t.key,this.key);return this.matchesComparison(n)}}class g2 extends Pe{constructor(t,n){super(t,"in",n),this.keys=tI("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class _2 extends Pe{constructor(t,n){super(t,"not-in",n),this.keys=tI("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function tI(i,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>_t.fromName(s.referenceValue)))}class y2 extends Pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return hg(n)&&hu(n.arrayValue,this.value)}}class E2 extends Pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class v2 extends Pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hu(this.value.arrayValue,n)}}class T2 extends Pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>hu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t,n=null,s=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function ET(i,t=null,n=[],s=[],o=null,u=null,h=null){return new A2(i,t,n,s,o,u,h)}function fg(i){const t=bt(i);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Tp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Su(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>No(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>No(s))).join(",")),t.Pe=n}return t.Pe}function dg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!d2(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!WS(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!yT(i.startAt,t.startAt)&&yT(i.endAt,t.endAt)}function Ap(i){return _t.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(t,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function S2(i,t,n,s,o,u,h,m){return new Iu(i,t,n,s,o,u,h,m)}function mg(i){return new Iu(i)}function vT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function eI(i){return i.collectionGroup!==null}function tu(i){const t=bt(i);if(t.Te===null){t.Te=[];const n=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Fe(an.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Te.push(new Kh(u,s))})),n.has(an.keyField().canonicalString())||t.Te.push(new Kh(an.keyField(),s))}return t.Te}function Pi(i){const t=bt(i);return t.Ie||(t.Ie=I2(t,tu(i))),t.Ie}function I2(i,t){if(i.limitType==="F")return ET(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Kh(o.field,u)}));const n=i.endAt?new Yh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Yh(i.startAt.position,i.startAt.inclusive):null;return ET(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function Sp(i,t){const n=i.filters.concat([t]);return new Iu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ip(i,t,n){return new Iu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function pf(i,t){return dg(Pi(i),Pi(t))&&i.limitType===t.limitType}function nI(i){return`${fg(Pi(i))}|lt:${i.limitType}`}function mo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>ZS(o))).join(", ")}]`),Su(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>No(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>No(o))).join(",")),`Target(${s})`})(Pi(i))}; limitType=${i.limitType})`}function gf(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_t.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of tu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=_T(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,tu(s),o)||s.endAt&&!(function(h,m,p){const g=_T(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,tu(s),o))})(i,t)}function R2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function iI(i){return(t,n)=>{let s=!1;for(const o of tu(i)){const u=b2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function b2(i,t,n){const s=i.field.isKeyField()?_t.comparator(t.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Co(p,g):vt(42886)})(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ps(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return zS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new ve(_t.comparator);function Ir(){return w2}const rI=new ve(_t.comparator);function Kl(...i){let t=rI;for(const n of i)t=t.insert(n.key,n);return t}function sI(i){let t=rI;return i.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function pa(){return eu()}function aI(){return eu()}function eu(){return new Sa((i=>i.toString()),((i,t)=>i.isEqual(t)))}const C2=new ve(_t.comparator),N2=new Fe(_t.comparator);function Ft(...i){let t=N2;for(const n of i)t=t.add(n);return t}const O2=new Fe(Ut);function D2(){return O2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(t)?"-0":t}}function oI(i){return{integerValue:""+i}}function M2(i,t){return s2(t)?oI(t):pg(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this._=void 0}}function x2(i,t,n){return i instanceof $h?(function(o,u){const h={fields:{[FS]:{stringValue:HS},[qS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&cg(u)&&(u=mf(u)),u&&(h.fields[GS]=u),{mapValue:h}})(n,t):i instanceof Oo?uI(i,t):i instanceof fu?cI(i,t):(function(o,u){const h=lI(o,u),m=TT(h)+TT(o.Ee);return vp(h)&&vp(o.Ee)?oI(m):pg(o.serializer,m)})(i,t)}function L2(i,t,n){return i instanceof Oo?uI(i,t):i instanceof fu?cI(i,t):n}function lI(i,t){return i instanceof Qh?(function(s){return vp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class $h extends _f{}class Oo extends _f{constructor(t){super(),this.elements=t}}function uI(i,t){const n=hI(t);for(const s of i.elements)n.some((o=>ji(o,s)))||n.push(s);return{arrayValue:{values:n}}}class fu extends _f{constructor(t){super(),this.elements=t}}function cI(i,t){let n=hI(t);for(const s of i.elements)n=n.filter((o=>!ji(o,s)));return{arrayValue:{values:n}}}class Qh extends _f{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function TT(i){return Ne(i.integerValue||i.doubleValue)}function hI(i){return hg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,n){this.field=t,this.transform=n}}function U2(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof Oo&&o instanceof Oo||s instanceof fu&&o instanceof fu?wo(s.elements,o.elements,ji):s instanceof Qh&&o instanceof Qh?ji(s.Ee,o.Ee):s instanceof $h&&o instanceof $h})(i.transform,t.transform)}class P2{constructor(t,n){this.version=t,this.transformResults=n}}class mn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new mn}static exists(t){return new mn(void 0,t)}static updateTime(t){return new mn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class yf{}function fI(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new Ef(i.key,mn.none()):new Ru(i.key,i.data,mn.none());{const n=i.data,s=Rn.empty();let o=new Fe(an.comparator);for(let u of t.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ks(i.key,s,new Kn(o.toArray()),mn.none())}}function k2(i,t,n){i instanceof Ru?(function(o,u,h){const m=o.value.clone(),p=ST(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,t,n):i instanceof ks?(function(o,u,h){if(!Nh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=ST(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(dI(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,t,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,n)}function nu(i,t,n,s){return i instanceof Ru?(function(u,h,m,p){if(!Nh(u.precondition,h))return m;const g=u.value.clone(),v=IT(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,t,n,s):i instanceof ks?(function(u,h,m,p){if(!Nh(u.precondition,h))return m;const g=IT(u.fieldTransforms,p,h),v=h.data;return v.setAll(dI(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,n,s):(function(u,h,m){return Nh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,t,n)}function B2(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=lI(s.transform,o||null);u!=null&&(n===null&&(n=Rn.empty()),n.set(s.field,u))}return n||null}function AT(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&wo(s,o,((u,h)=>U2(u,h)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Ru extends yf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ks extends yf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dI(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}})),t}function ST(i,t,n){const s=new Map;$t(i.length===n.length,32656,{Ae:n.length,Re:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=t.data.field(u.field);s.set(u.field,L2(h,m,n[o]))}return s}function IT(i,t,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,x2(u,h,t))}return s}class Ef extends yf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mI extends yf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&k2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=nu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=nu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=aI();return this.mutations.forEach((o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=fI(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ft())}isEqual(t){return this.batchId===t.batchId&&wo(this.mutations,t.mutations,((n,s)=>AT(n,s)))&&wo(this.baseMutations,t.baseMutations,((n,s)=>AT(n,s)))}}class gg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){$t(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=(function(){return C2})();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new gg(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,Kt;function pI(i){switch(i){case W.OK:return vt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return vt(15467,{code:i})}}function gI(i){if(i===void 0)return Sr("GRPC error has no .code"),W.UNKNOWN;switch(i){case Ue.OK:return W.OK;case Ue.CANCELLED:return W.CANCELLED;case Ue.UNKNOWN:return W.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return W.INTERNAL;case Ue.UNAVAILABLE:return W.UNAVAILABLE;case Ue.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ue.NOT_FOUND:return W.NOT_FOUND;case Ue.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ue.ABORTED:return W.ABORTED;case Ue.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ue.DATA_LOSS:return W.DATA_LOSS;default:return vt(39323,{code:i})}}(Kt=Ue||(Ue={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=new Is([4294967295,4294967295],0);function RT(i){const t=US().encode(i),n=new CS;return n.update(t),new Uint8Array(n.digest())}function bT(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Is([n,s],0),new Is([o,u],0)]}class _g{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(s<0)throw new $l(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Is.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(Is.fromNumber(s)));return o.compare(F2)===1&&(o=new Is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=RT(t),[s,o]=bT(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new _g(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(t){if(this.fe===0)return;const n=RT(t),[s,o]=bT(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,bu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new vf(St.min(),o,new ve(Ut),Ir(),Ft())}}class bu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new bu(s,n,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class _I{constructor(t,n){this.targetId=t,this.De=n}}class yI{constructor(t,n,s=on.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class wT{constructor(){this.ve=0,this.Ce=CT(),this.Fe=on.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Ft(),n=Ft(),s=Ft();return this.Ce.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:u})}})),new bu(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=CT()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class G2{constructor(t){this.We=t,this.Ge=new Map,this.ze=Ir(),this.je=ch(),this.Je=ch(),this.He=new ve(Ut)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,(n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const u=o.target;if(Ap(u))if(s===0){const h=new _t(u.path);this.Xe(n,h,Xe.newNoDocument(h,St.min()))}else $t(s===1,20013,{expectedCount:s});else{const h=this.ot(n);if(h!==s){const m=this._t(t),p=m?this.ut(m,t,h):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Ds(s).toUint8Array()}catch(p){if(p instanceof jS)return Cs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new _g(h,o,u)}catch(p){return Cs(p instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(t){const n=new Map;this.Ge.forEach(((u,h)=>{const m=this.st(h);if(m){if(u.current&&Ap(m.target)){const p=new _t(m.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,Xe.newNoDocument(p,t))}u.Ne&&(n.set(h,u.Le()),u.ke())}}));let s=Ft();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,h)=>h.setReadTime(t)));const o=new vf(t,n,this.He,this.ze,s);return this.ze=Ir(),this.je=ch(),this.Je=ch(),this.He=new ve(Ut),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new wT,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Fe(Ut),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Fe(Ut),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new wT),this.We.getRemoteKeysForTarget(t).forEach((n=>{this.Xe(t,n,null)}))}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function ch(){return new ve(_t.comparator)}function CT(){return new ve(_t.comparator)}const q2={asc:"ASCENDING",desc:"DESCENDING"},Y2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K2={and:"AND",or:"OR"};class $2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Rp(i,t){return i.useProto3Json||Su(t)?t:{value:t}}function Xh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function EI(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function Q2(i,t){return Xh(i,t.toTimestamp())}function $n(i){return $t(!!i,49232),St.fromTimestamp((function(n){const s=Os(n);return new de(s.seconds,s.nanos)})(i))}function yg(i,t){return bp(i,t).canonicalString()}function bp(i,t){const n=(function(o){return new ae(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function vI(i){const t=ae.fromString(i);return $t(bI(t),10190,{key:t.toString()}),t}function Jh(i,t){return yg(i.databaseId,t.path)}function iu(i,t){const n=vI(t);if(n.get(1)!==i.databaseId.projectId)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _t(AI(n))}function TI(i,t){return yg(i.databaseId,t)}function X2(i){const t=vI(i);return t.length===4?ae.emptyPath():AI(t)}function wp(i){return new ae(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function AI(i){return $t(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function NT(i,t,n){return{name:Jh(i,t),fields:n.value.mapValue.fields}}function J2(i,t){return"found"in t?(function(s,o){$t(!!o.found,43571),o.found.name,o.found.updateTime;const u=iu(s,o.found.name),h=$n(o.found.updateTime),m=o.found.createTime?$n(o.found.createTime):St.min(),p=new Rn({mapValue:{fields:o.found.fields}});return Xe.newFoundDocument(u,h,m,p)})(i,t):"missing"in t?(function(s,o){$t(!!o.missing,3894),$t(!!o.readTime,22933);const u=iu(s,o.missing),h=$n(o.readTime);return Xe.newNoDocument(u,h)})(i,t):vt(7234,{result:t})}function W2(i,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:vt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?($t(v===void 0||typeof v=="string",58123),on.fromBase64String(v||"")):($t(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),on.fromUint8Array(v||new Uint8Array))})(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(g){const v=g.code===void 0?W.UNKNOWN:gI(g.code);return new ut(v,g.message||"")})(h);n=new yI(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=iu(i,s.document.name),u=$n(s.document.updateTime),h=s.document.createTime?$n(s.document.createTime):St.min(),m=new Rn({mapValue:{fields:s.document.fields}}),p=Xe.newFoundDocument(o,u,h,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Oh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=iu(i,s.document),u=s.readTime?$n(s.readTime):St.min(),h=Xe.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Oh([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=iu(i,s.document),u=s.removedTargetIds||[];n=new Oh([],u,o,null)}else{if(!("filter"in t))return vt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new H2(o,u),m=s.targetId;n=new _I(m,h)}}return n}function SI(i,t){let n;if(t instanceof Ru)n={update:NT(i,t.key,t.value)};else if(t instanceof Ef)n={delete:Jh(i,t.key)};else if(t instanceof ks)n={update:NT(i,t.key,t.data),updateMask:oM(t.fieldMask)};else{if(!(t instanceof mI))return vt(16599,{Rt:t.type});n={verify:Jh(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof $h)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Oo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Qh)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw vt(20930,{transform:h.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Q2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)})(i,t.precondition)),n}function Z2(i,t){return i&&i.length>0?($t(t!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?$n(o.updateTime):$n(u);return h.isEqual(St.min())&&(h=$n(u)),new P2(h,o.transformResults||[])})(n,t)))):[]}function tM(i,t){return{documents:[TI(i,t.path)]}}function eM(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=TI(i,o);const u=(function(g){if(g.length!==0)return RI(Ai.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:po(S.field),direction:rM(S.dir)}})(v)))})(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Rp(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{Vt:n,parent:o}}function nM(i){let t=X2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$t(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const S=II(T);return S instanceof Ai&&JS(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((S=>(function(V){return new Kh(go(V.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,Su(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(T){const S=!!T.before,b=T.values||[];return new Yh(b,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,b=T.values||[];return new Yh(b,S)})(n.endAt)),S2(t,o,h,u,m,"F",p,g)}function iM(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function II(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=go(n.unaryFilter.field);return Pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(n.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=go(n.unaryFilter.field);return Pe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=go(n.unaryFilter.field);return Pe.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Pe.create(go(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Ai.create(n.compositeFilter.filters.map((s=>II(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(n.compositeFilter.op))})(i):vt(30097,{filter:i})}function rM(i){return q2[i]}function sM(i){return Y2[i]}function aM(i){return K2[i]}function po(i){return{fieldPath:i.canonicalString()}}function go(i){return an.fromServerFormat(i.fieldPath)}function RI(i){return i instanceof Pe?(function(n){if(n.op==="=="){if(gT(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(pT(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gT(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(pT(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:sM(n.op),value:n.value}}})(i):i instanceof Ai?(function(n){const s=n.getFilters().map((o=>RI(o)));return s.length===1?s[0]:{compositeFilter:{op:aM(n.op),filters:s}}})(i):vt(54877,{filter:i})}function oM(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function bI(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t,n,s,o,u=St.min(),h=St.min(),m=on.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Es(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(t){this.gt=t}}function uM(i){const t=nM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ip(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.Dn=new hM}addToCollectionParentIndex(t,n){return this.Dn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(Ns.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(Ns.min())}updateCollectionGroup(t,n,s){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class hM{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Fe(ae.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Fe(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wI=41943040;class Un{static withCacheSize(t){return new Un(t,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(wI,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Do(0)}static ur(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="LruGarbageCollector",fM=1048576;function MT([i,t],[n,s]){const o=Ut(i,n);return o===0?Ut(t,s):o}class dM{constructor(t){this.Tr=t,this.buffer=new Fe(MT),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();MT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mM{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ct(DT,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bo(n)?ct(DT,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.Rr(3e5)}))}}class pM{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(df.ue);const s=new dM(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(OT)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OT):this.pr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),fo()<=Ht.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function gM(i,t){return new pM(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.changes=new Sa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?nt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&nu(s.mutation,o,Kn.empty(),de.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ft()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ft()){const o=pa();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let h=Kl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(t,n){const s=pa();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ft())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(t,n,s,o){let u=Ir();const h=eu(),m=(function(){return eu()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ks)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),nu(v.mutation,g,v.mutation.getFieldMask(),de.now())):h.set(g.key,Kn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>h.set(g,v))),n.forEach(((g,v)=>{var T;return m.set(g,new yM(v,(T=h.get(g))!==null&&T!==void 0?T:null))})),m)))}recalculateAndSaveOverlays(t,n){const s=eu();let o=new ve(((h,m)=>h-m)),u=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Kn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||Ft()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=aI();v.forEach((S=>{if(!u.has(S)){const b=fI(n.get(S),s.get(S));b!==null&&T.set(S,b),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(t,g,T))}return nt.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(h){return _t.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):eI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):nt.resolve(pa());let m=lu,p=u;return h.next((g=>nt.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?nt.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ft()))).next((v=>({batchId:m,changes:sI(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new _t(n)).next((s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let h=Kl();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(p=>{const g=(function(T,S){return new Iu(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((v=>{v.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,Xe.newInvalidDocument(v)))}));let m=Kl();return h.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&nu(v.mutation,g,Kn.empty(),de.now()),gf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:$n(o.createTime)}})(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:uM(o.bundledQuery),readTime:$n(o.readTime)}})(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.overlays=new ve(_t.comparator),this.kr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=pa();return nt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.wt(t,n,u)})),nt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),nt.resolve()}getOverlaysForCollection(t,n,s){const o=pa(),u=n.length+1,h=new _t(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ve(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=pa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=pa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return nt.resolve(m)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new j2(n,s));let u=this.kr.get(n);u===void 0&&(u=Ft(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.qr=new Fe(Qe.Qr),this.$r=new Fe(Qe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new Qe(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Qe(t,n))}Gr(t,n){t.forEach((s=>this.removeReference(s,n)))}zr(t){const n=new _t(new ae([])),s=new Qe(n,t),o=new Qe(n,t+1),u=[];return this.$r.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new _t(new ae([])),s=new Qe(n,t),o=new Qe(n,t+1);let u=Ft();return this.$r.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(t){const n=new Qe(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Qe{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return _t.comparator(t.key,n.key)||Ut(t.Hr,n.Hr)}static Ur(t,n){return Ut(t.Hr,n.Hr)||_t.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Fe(Qe.Qr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new z2(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new Qe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(h)}lookupMutationBatch(t,n){return nt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?ug:this.er-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Qe(n,0),o=new Qe(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Fe(Ut);return n.forEach((o=>{const u=new Qe(o,0),h=new Qe(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),nt.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;_t.isDocumentKey(u)||(u=u.child(""));const h=new Qe(new _t(u),0);let m=new Fe(Ut);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),nt.resolve(this.ei(m))}ei(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){$t(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return nt.forEach(n.mutations,(o=>{const u=new Qe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Yr=s}))}rr(t){}containsKey(t,n){const s=new Qe(n,0),o=this.Yr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t){this.ni=t,this.docs=(function(){return new ve(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let s=Ir();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xe.newInvalidDocument(o))})),nt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Ir();const h=n.path,m=new _t(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||e2(t2(v),s)<=0||(o.has(v.key)||gf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){vt(9500)}ri(t,n){return nt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new RM(this)}getSize(t){return nt.resolve(this.size)}}class RM extends _M{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)})),nt.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t){this.persistence=t,this.ii=new Sa((n=>fg(n)),dg),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.si=0,this.oi=new Eg,this.targetCount=0,this._i=Do.ar()}forEachTarget(t,n){return this.ii.forEach(((s,o)=>n(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),nt.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Do(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.hr(n),nt.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ii.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return nt.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),nt.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(t,h))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return nt.resolve(s)}containsKey(t,n){return nt.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t,n){this.ai={},this.overlays={},this.ui=new df(0),this.ci=!1,this.ci=!0,this.li=new AM,this.referenceDelegate=t(this),this.hi=new bM(this),this.indexManager=new cM,this.remoteDocumentCache=(function(o){return new IM(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new lM(n),this.Ti=new vM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new TM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new SM(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){ct("MemoryPersistence","Starting transaction:",t);const o=new wM(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return nt.or(Object.values(this.ai).map((s=>()=>s.containsKey(t,n))))}}class wM extends i2{constructor(t){super(),this.currentSequenceNumber=t}}class vg{constructor(t){this.persistence=t,this.Ai=new Eg,this.Ri=null}static Vi(t){return new vg(t)}get mi(){if(this.Ri)return this.Ri;throw vt(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),nt.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.mi,(s=>{const o=_t.fromPath(s);return this.fi(t,o).next((u=>{u||n.removeEntry(o,St.min())}))})).next((()=>(this.Ri=null,n.apply(t))))}updateLimboDocument(t,n){return this.fi(t,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(t){return 0}fi(t,n){return nt.or([()=>nt.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Wh{constructor(t,n){this.persistence=t,this.gi=new Sa((s=>a2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=gM(this,n)}static Vi(t,n){return new Wh(t,n)}Ii(){}di(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}yr(t){let n=0;return this.gr(t,(s=>{n++})).next((()=>n))}gr(t,n){return nt.forEach(this.gi,((s,o)=>this.Sr(t,s,o).next((u=>u?nt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,(h=>this.Sr(t,h,n).next((m=>{m||(s++,u.removeEntry(h,St.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),nt.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=wh(t.data.value)),n}Sr(t,n,s){return nt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return nt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=Ft(),o=Ft();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return bC()?8:r2(pn())>0?6:4})()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ps(t,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ys(t,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new CM;return this.ws(t,n,h).next((m=>{if(u.result=m,this.Rs)return this.Ss(t,n,h,m.size)}))})).next((()=>u.result))}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(fo()<=Ht.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(fo()<=Ht.DEBUG&&ct("QueryEngine","Query:",mo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(fo()<=Ht.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Pi(n))):nt.resolve())}ps(t,n){if(vT(n))return nt.resolve(null);let s=Pi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ip(n,null,"F"),s=Pi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const h=Ft(...u);return this.gs.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,h,p.readTime)?this.ps(t,Ip(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ys(t,n,s,o){return vT(n)||o.isEqual(St.min())?nt.resolve(null):this.gs.getDocuments(t,s).next((u=>{const h=this.bs(n,u);return this.Ds(n,h,s,o)?nt.resolve(null):(fo()<=Ht.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(n)),this.vs(t,h,n,ZD(o,lu)).next((m=>m)))}))}bs(t,n){let s=new Fe(iI(t));return n.forEach(((o,u)=>{gf(t,u)&&(s=s.add(u))})),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,n,s){return fo()<=Ht.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",mo(n)),this.gs.getDocumentsMatchingQuery(t,n,Ns.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="LocalStore",OM=3e8;class DM{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new ve(Ut),this.Ms=new Sa((u=>fg(u)),dg),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new EM(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Fs)))}}function MM(i,t,n,s){return new DM(i,t,n,s)}async function NI(i,t){const n=bt(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ft();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function xM(i,t){const n=bt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,S=T.keys();let b=nt.resolve();return S.forEach((V=>{b=b.next((()=>v.getEntry(p,V))).next((z=>{const D=g.docVersions.get(V);$t(D!==null,48541),z.version.compareTo(D)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),v.addEntry(z)))}))})),b.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ft();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function OI(i){const t=bt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.hi.getLastRemoteSnapshotVersion(n)))}function LM(i,t){const n=bt(i),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];t.targetChanges.forEach(((v,T)=>{const S=o.get(T);if(!S)return;m.push(n.hi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.hi.addMatchingKeys(u,v.addedDocuments,T))));let b=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?b=b.withResumeToken(on.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,s)),o=o.insert(T,b),(function(z,D,et){return z.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=OM?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(S,b,v)&&m.push(n.hi.updateTargetData(u,b))}));let p=Ir(),g=Ft();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(VM(u,h,t.documentUpdates).next((v=>{p=v.Ls,g=v.ks}))),!s.isEqual(St.min())){const v=n.hi.getLastRemoteSnapshotVersion(u).next((T=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return nt.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function VM(i,t,n){let s=Ft(),o=Ft();return n.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let h=Ir();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):ct(Ag,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:h,ks:o}}))}function UM(i,t){const n=bt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ug),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function PM(i,t){const n=bt(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,t).next((u=>u?(o=u,nt.resolve(o)):n.hi.allocateTargetId(s).next((h=>(o=new Es(t,h,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s}))}async function Cp(i,t,n){const s=bt(i),o=s.Fs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Bo(h))throw h;ct(Ag,`Failed to update sequence numbers for target ${t}: ${h}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function xT(i,t,n){const s=bt(i);let o=St.min(),u=Ft();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,v){const T=bt(p),S=T.Ms.get(v);return S!==void 0?nt.resolve(T.Fs.get(S)):T.hi.getTargetData(g,v)})(s,h,Pi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,t,n?o:St.min(),n?u:Ft()))).next((m=>(kM(s,R2(t),m),{documents:m,qs:u})))))}function kM(i,t,n){let s=i.xs.get(t)||St.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.xs.set(t,s)}class LT{constructor(){this.activeTargetIds=D2()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class BM{constructor(){this.Fo=new LT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new LT,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="ConnectivityMonitor";class UT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ct(VT,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ct(VT,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function Np(){return hh===null?hh=(function(){return 268435456+Math.round(2147483648*Math.random())})():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="RestConnection",jM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HM{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Gh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const h=Np(),m=this.Go(t,n.toUriEncodedString());ct(Jm,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),v=Lo(g);return this.jo(t,m,p,s,v).then((T=>(ct(Jm,`Received RPC '${t}' ${h}: `,T),T)),(T=>{throw Cs(Jm,`RPC '${t}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Jo(t,n,s,o,u,h){return this.Wo(t,n,s,o,u)}zo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Po})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Go(t,n){const s=jM[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class GM extends HM{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,u){const h=Np();return new Promise(((m,p)=>{const g=new NS;g.setWithCredentials(!0),g.listenOnce(OS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case bh.NO_ERROR:const T=g.getResponseJson();ct(fn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),m(T);break;case bh.TIMEOUT:ct(fn,`RPC '${t}' ${h} timed out`),p(new ut(W.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const S=g.getStatus();if(ct(fn,`RPC '${t}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let b=g.getResponseJson();Array.isArray(b)&&(b=b[0]);const V=b==null?void 0:b.error;if(V&&V.status&&V.message){const z=(function(et){const rt=et.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(rt)>=0?rt:W.UNKNOWN})(V.status);p(new ut(z,V.message))}else p(new ut(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ut(W.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{c_:t,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ct(fn,`RPC '${t}' ${h} completed.`)}}));const v=JSON.stringify(o);ct(fn,`RPC '${t}' ${h} sending request:`,o),g.send(n,"POST",v,s,15)}))}P_(t,n,s){const o=Np(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=xS(),m=MS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ct(fn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const T=h.createWebChannel(v,p);this.T_(T);let S=!1,b=!1;const V=new FM({Ho:D=>{b?ct(fn,`Not sending because RPC '${t}' stream ${o} is closed:`,D):(S||(ct(fn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),ct(fn,`RPC '${t}' stream ${o} sending:`,D),T.send(D))},Yo:()=>T.close()}),z=(D,et,rt)=>{D.listen(et,(Z=>{try{rt(Z)}catch(mt){setTimeout((()=>{throw mt}),0)}}))};return z(T,Yl.EventType.OPEN,(()=>{b||(ct(fn,`RPC '${t}' stream ${o} transport opened.`),V.s_())})),z(T,Yl.EventType.CLOSE,(()=>{b||(b=!0,ct(fn,`RPC '${t}' stream ${o} transport closed`),V.__(),this.I_(T))})),z(T,Yl.EventType.ERROR,(D=>{b||(b=!0,Cs(fn,`RPC '${t}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),V.__(new ut(W.UNAVAILABLE,"The operation could not be completed")))})),z(T,Yl.EventType.MESSAGE,(D=>{var et;if(!b){const rt=D.data[0];$t(!!rt,16349);const Z=rt,mt=(Z==null?void 0:Z.error)||((et=Z[0])===null||et===void 0?void 0:et.error);if(mt){ct(fn,`RPC '${t}' stream ${o} received error:`,mt);const It=mt.status;let Et=(function(w){const x=Ue[w];if(x!==void 0)return gI(x)})(It),O=mt.message;Et===void 0&&(Et=W.INTERNAL,O="Unknown error status: "+It+" with message "+mt.message),b=!0,V.__(new ut(Et,O)),T.close()}else ct(fn,`RPC '${t}' stream ${o} received:`,rt),V.a_(rt)}})),z(m,DS.STAT_EVENT,(D=>{D.stat===_p.PROXY?ct(fn,`RPC '${t}' stream ${o} detected buffering proxy`):D.stat===_p.NOPROXY&&ct(fn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.o_()}),0),V}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((n=>n===t))}}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(i){return new $2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="PersistentStream";class DI{constructor(t,n,s,o,u,h,m,p){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Sg(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{t((()=>{const o=new ut(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return ct(PT,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget((()=>this.b_===t?n():(ct(PT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qM extends DI{constructor(t,n,s,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=W2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return St.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?St.min():h.readTime?$n(h.readTime):St.min()})(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=wp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Ap(p)?{documents:tM(u,p)}:{query:eM(u,p).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=EI(u,h.resumeToken);const g=Rp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(St.min())>0){m.readTime=Xh(u,h.snapshotVersion.toTimestamp());const g=Rp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=iM(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=wp(this.serializer),n.removeTarget=t,this.k_(n)}}class YM extends DI{constructor(t,n,s,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=Z2(t.writeResults,t.commitTime),s=$n(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=wp(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>SI(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{}class $M extends KM{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(t,bp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(W.UNKNOWN,u.toString())}))}Jo(t,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Jo(t,bp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(W.UNKNOWN,h.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class QM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Sr(n),this._a=!1):ct("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class XM{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((h=>{s.enqueueAndForget((async()=>{Ia(this)&&(ct(Ta,"Restarting streams for network reachability change."),await(async function(p){const g=bt(p);g.Ia.add(4),await wu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Af(g)})(this))}))})),this.Aa=new QM(s,o)}}async function Af(i){if(Ia(i))for(const t of i.da)await t(!0)}async function wu(i){for(const t of i.da)await t(!1)}function MI(i,t){const n=bt(i);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),wg(n)?bg(n):zo(n).x_()&&Rg(n,t))}function Ig(i,t){const n=bt(i),s=zo(n);n.Ta.delete(t),s.x_()&&xI(n,t),n.Ta.size===0&&(s.x_()?s.B_():Ia(n)&&n.Aa.set("Unknown"))}function Rg(i,t){if(i.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}zo(i).H_(t)}function xI(i,t){i.Ra.$e(t),zo(i).Y_(t)}function bg(i){i.Ra=new G2({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>i.Ta.get(t)||null,lt:()=>i.datastore.serializer.databaseId}),zo(i).start(),i.Aa.aa()}function wg(i){return Ia(i)&&!zo(i).M_()&&i.Ta.size>0}function Ia(i){return bt(i).Ia.size===0}function LI(i){i.Ra=void 0}async function JM(i){i.Aa.set("Online")}async function WM(i){i.Ta.forEach(((t,n)=>{Rg(i,t)}))}async function ZM(i,t){LI(i),wg(i)?(i.Aa.la(t),bg(i)):i.Aa.set("Unknown")}async function tx(i,t,n){if(i.Aa.set("Online"),t instanceof yI&&t.state===2&&t.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))})(i,t)}catch(s){ct(Ta,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Zh(i,s)}else if(t instanceof Oh?i.Ra.Ye(t):t instanceof _I?i.Ra.it(t):i.Ra.et(t),!n.isEqual(St.min()))try{const s=await OI(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ta.get(g);v&&u.Ta.set(g,v.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ta.get(p);if(!v)return;u.Ta.set(p,v.withResumeToken(on.EMPTY_BYTE_STRING,v.snapshotVersion)),xI(u,p);const T=new Es(v.target,p,g,v.sequenceNumber);Rg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ct(Ta,"Failed to raise snapshot:",s),await Zh(i,s)}}async function Zh(i,t,n){if(!Bo(t))throw t;i.Ia.add(1),await wu(i),i.Aa.set("Offline"),n||(n=()=>OI(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ct(Ta,"Retrying IndexedDB access"),await n(),i.Ia.delete(1),await Af(i)}))}function VI(i,t){return t().catch((n=>Zh(i,n,t)))}async function Sf(i){const t=bt(i),n=xs(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:ug;for(;ex(t);)try{const o=await UM(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,nx(t,o)}catch(o){await Zh(t,o)}UI(t)&&PI(t)}function ex(i){return Ia(i)&&i.Pa.length<10}function nx(i,t){i.Pa.push(t);const n=xs(i);n.x_()&&n.Z_&&n.X_(t.mutations)}function UI(i){return Ia(i)&&!xs(i).M_()&&i.Pa.length>0}function PI(i){xs(i).start()}async function ix(i){xs(i).na()}async function rx(i){const t=xs(i);for(const n of i.Pa)t.X_(n.mutations)}async function sx(i,t,n){const s=i.Pa.shift(),o=gg.from(s,t,n);await VI(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Sf(i)}async function ax(i,t){t&&xs(i).Z_&&await(async function(s,o){if((function(h){return pI(h)&&h!==W.ABORTED})(o.code)){const u=s.Pa.shift();xs(s).N_(),await VI(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Sf(s)}})(i,t),UI(i)&&PI(i)}async function kT(i,t){const n=bt(i);n.asyncQueue.verifyOperationInProgress(),ct(Ta,"RemoteStore received new credentials");const s=Ia(n);n.Ia.add(3),await wu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await Af(n)}async function ox(i,t){const n=bt(i);t?(n.Ia.delete(2),await Af(n)):t||(n.Ia.add(2),await wu(n),n.Aa.set("Unknown"))}function zo(i){return i.Va||(i.Va=(function(n,s,o){const u=bt(n);return u.ia(),new qM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:JM.bind(null,i),e_:WM.bind(null,i),n_:ZM.bind(null,i),J_:tx.bind(null,i)}),i.da.push((async t=>{t?(i.Va.N_(),wg(i)?bg(i):i.Aa.set("Unknown")):(await i.Va.stop(),LI(i))}))),i.Va}function xs(i){return i.ma||(i.ma=(function(n,s,o){const u=bt(n);return u.ia(),new YM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:ix.bind(null,i),n_:ax.bind(null,i),ea:rx.bind(null,i),ta:sx.bind(null,i)}),i.da.push((async t=>{t?(i.ma.N_(),await Sf(i)):(await i.ma.stop(),i.Pa.length>0&&(ct(Ta,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))}))),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const h=Date.now()+s,m=new Cg(t,n,h,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(i,t){if(Sr("AsyncQueue",`${t}: ${i}`),Bo(i))return new ut(W.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{static emptySet(t){return new So(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||_t.comparator(n.key,s.key):(n,s)=>_t.comparator(n.key,s.key),this.keyedMap=Kl(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof So)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new So;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.fa=new ve(_t.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):vt(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Mo{constructor(t,n,s,o,u,h,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Mo(t,n,So.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class ux{constructor(){this.queries=zT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=bt(n),u=o.queries;o.queries=zT(),u.forEach(((h,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ut(W.ABORTED,"Firestore shutting down"))}}function zT(){return new Sa((i=>nI(i)),pf)}async function kI(i,t){const n=bt(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new lx,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Ng(h,`Initialization of query '${mo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.wa.push(t),t.va(n.onlineState),u.ya&&t.Ca(u.ya)&&Og(n)}async function BI(i,t){const n=bt(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const h=u.wa.indexOf(t);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cx(i,t){const n=bt(i);let s=!1;for(const o of t){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&Og(n)}function hx(i,t,n){const s=bt(i),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(t)}function Og(i){i.Da.forEach((t=>{t.next()}))}var Op,jT;(jT=Op||(Op={})).Fa="default",jT.Cache="cache";class zI{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Mo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=Mo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t){this.key=t}}class HI{constructor(t){this.key=t}}class fx{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ft(),this.mutatedKeys=Ft(),this.Xa=iI(t),this.eu=new So(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new BT,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const S=o.get(v),b=gf(this.query,T)?T:null,V=!!S&&this.mutatedKeys.has(S.key),z=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let D=!1;S&&b?S.data.isEqual(b.data)?V!==z&&(s.track({type:3,doc:b}),D=!0):this.iu(S,b)||(s.track({type:2,doc:b}),D=!0,(p&&this.Xa(b,p)>0||g&&this.Xa(b,g)<0)&&(m=!0)):!S&&b?(s.track({type:0,doc:b}),D=!0):S&&!b&&(s.track({type:1,doc:S}),D=!0,(p||g)&&(m=!0)),D&&(b?(h=h.add(b),u=z?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const h=t.ru.pa();h.sort(((v,T)=>(function(b,V){const z=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{At:D})}};return z(b)-z(V)})(v.type,T.type)||this.Xa(v.doc,T.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new Mo(this.query,t.eu,u,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new BT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Ft(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return t.forEach((s=>{this.Za.has(s)||n.push(new HI(s))})),this.Za.forEach((s=>{t.has(s)||n.push(new jI(s))})),n}uu(t){this.Ha=t.qs,this.Za=Ft();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return Mo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Dg="SyncEngine";class dx{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class mx{constructor(t){this.key=t,this.lu=!1}}class px{constructor(t,n,s,o,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Sa((m=>nI(m)),pf),this.Tu=new Map,this.Iu=new Set,this.du=new ve(_t.comparator),this.Eu=new Map,this.Au=new Eg,this.Ru={},this.Vu=new Map,this.mu=Do.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function gx(i,t,n=!0){const s=$I(i);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await FI(s,t,n,!0),o}async function _x(i,t){const n=$I(i);await FI(n,t,!0,!1)}async function FI(i,t,n,s){const o=await PM(i.localStore,Pi(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await yx(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&MI(i.remoteStore,o),m}async function yx(i,t,n,s,o){i.gu=(T,S,b)=>(async function(z,D,et,rt){let Z=D.view.nu(et);Z.Ds&&(Z=await xT(z.localStore,D.query,!1).then((({documents:O})=>D.view.nu(O,Z))));const mt=rt&&rt.targetChanges.get(D.targetId),It=rt&&rt.targetMismatches.get(D.targetId)!=null,Et=D.view.applyChanges(Z,z.isPrimaryClient,mt,It);return FT(z,D.targetId,Et._u),Et.snapshot})(i,T,S,b);const u=await xT(i.localStore,t,!0),h=new fx(t,u.qs),m=h.nu(u.documents),p=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);FT(i,n,g._u);const v=new dx(t,n,h);return i.Pu.set(t,v),i.Tu.has(n)?i.Tu.get(n).push(t):i.Tu.set(n,[t]),g.snapshot}async function Ex(i,t,n){const s=bt(i),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((h=>!pf(h,t)))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Cp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ig(s.remoteStore,o.targetId),Dp(s,o.targetId)})).catch(ko)):(Dp(s,o.targetId),await Cp(s.localStore,o.targetId,!0))}async function vx(i,t){const n=bt(i),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ig(n.remoteStore,s.targetId))}async function Tx(i,t,n){const s=Cx(i);try{const o=await(function(h,m){const p=bt(h),g=de.now(),v=m.reduce(((b,V)=>b.add(V.key)),Ft());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let V=Ir(),z=Ft();return p.Os.getEntries(b,v).next((D=>{V=D,V.forEach(((et,rt)=>{rt.isValidDocument()||(z=z.add(et))}))})).next((()=>p.localDocuments.getOverlayedDocuments(b,V))).next((D=>{T=D;const et=[];for(const rt of m){const Z=B2(rt,T.get(rt.key).overlayedDocument);Z!=null&&et.push(new ks(rt.key,Z,$S(Z.value.mapValue),mn.exists(!0)))}return p.mutationQueue.addMutationBatch(b,g,et,m)})).next((D=>{S=D;const et=D.applyToLocalDocumentSet(T,z);return p.documentOverlayCache.saveOverlays(b,D.batchId,et)}))})).then((()=>({batchId:S.batchId,changes:sI(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new ve(Ut)),g=g.insert(m,p),h.Ru[h.currentUser.toKey()]=g})(s,o.batchId,n),await Cu(s,o.changes),await Sf(s.remoteStore)}catch(o){const u=Ng(o,"Failed to persist write");n.reject(u)}}async function GI(i,t){const n=bt(i);try{const s=await LM(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const h=n.Eu.get(u);h&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?$t(h.lu,14607):o.removedDocuments.size>0&&($t(h.lu,42227),h.lu=!1))})),await Cu(n,s,t)}catch(s){await ko(s)}}function HT(i,t,n){const s=bt(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=bt(h);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const S of T.wa)S.va(m)&&(g=!0)})),g&&Og(p)})(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Ax(i,t,n){const s=bt(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let h=new ve(_t.comparator);h=h.insert(u,Xe.newNoDocument(u,St.min()));const m=Ft().add(u),p=new vf(St.min(),new Map,new ve(Ut),h,m);await GI(s,p),s.du=s.du.remove(u),s.Eu.delete(t),Mg(s)}else await Cp(s.localStore,t,!1).then((()=>Dp(s,t,n))).catch(ko)}async function Sx(i,t){const n=bt(i),s=t.batch.batchId;try{const o=await xM(n.localStore,t);YI(n,s,null),qI(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cu(n,o)}catch(o){await ko(o)}}async function Ix(i,t,n){const s=bt(i);try{const o=await(function(h,m){const p=bt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>($t(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);YI(s,t,n),qI(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Cu(s,o)}catch(o){await ko(o)}}function qI(i,t){(i.Vu.get(t)||[]).forEach((n=>{n.resolve()})),i.Vu.delete(t)}function YI(i,t,n){const s=bt(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function Dp(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Tu.get(t))i.Pu.delete(s),n&&i.hu.pu(s,n);i.Tu.delete(t),i.isPrimaryClient&&i.Au.zr(t).forEach((s=>{i.Au.containsKey(s)||KI(i,s)}))}function KI(i,t){i.Iu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&(Ig(i.remoteStore,n),i.du=i.du.remove(t),i.Eu.delete(n),Mg(i))}function FT(i,t,n){for(const s of n)s instanceof jI?(i.Au.addReference(s.key,t),Rx(i,s)):s instanceof HI?(ct(Dg,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,t),i.Au.containsKey(s.key)||KI(i,s.key)):vt(19791,{yu:s})}function Rx(i,t){const n=t.key,s=n.path.canonicalString();i.du.get(n)||i.Iu.has(s)||(ct(Dg,"New document in limbo: "+n),i.Iu.add(s),Mg(i))}function Mg(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Iu.values().next().value;i.Iu.delete(t);const n=new _t(ae.fromString(t)),s=i.mu.next();i.Eu.set(s,new mx(n)),i.du=i.du.insert(n,s),MI(i.remoteStore,new Es(Pi(mg(n.path)),s,"TargetPurposeLimboResolution",df.ue))}}async function Cu(i,t,n){const s=bt(i),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{h.push(s.gu(p,t,n).then((g=>{var v;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Tg.Es(p.targetId,g);u.push(T)}})))})),await Promise.all(h),s.hu.J_(o),await(async function(p,g){const v=bt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>nt.forEach(g,(S=>nt.forEach(S.Is,(b=>v.persistence.referenceDelegate.addReference(T,S.targetId,b))).next((()=>nt.forEach(S.ds,(b=>v.persistence.referenceDelegate.removeReference(T,S.targetId,b)))))))))}catch(T){if(!Bo(T))throw T;ct(Ag,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const b=v.Fs.get(S),V=b.snapshotVersion,z=b.withLastLimboFreeSnapshotVersion(V);v.Fs=v.Fs.insert(S,z)}}})(s.localStore,u))}async function bx(i,t){const n=bt(i);if(!n.currentUser.isEqual(t)){ct(Dg,"User change. New user:",t.toKey());const s=await NI(n.localStore,t);n.currentUser=t,(function(u,h){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ut(W.CANCELLED,h))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Cu(n,s.Bs)}}function wx(i,t){const n=bt(i),s=n.Eu.get(t);if(s&&s.lu)return Ft().add(s.key);{let o=Ft();const u=n.Tu.get(t);if(!u)return o;for(const h of u){const m=n.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function $I(i){const t=bt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=GI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ax.bind(null,t),t.hu.J_=cx.bind(null,t.eventManager),t.hu.pu=hx.bind(null,t.eventManager),t}function Cx(i){const t=bt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ix.bind(null,t),t}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Tf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return MM(this.persistence,new NM,t.initialUser,this.serializer)}Du(t){return new CI(vg.Vi,this.serializer)}bu(t){return new BM}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class Nx extends tf{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){$t(this.persistence.referenceDelegate instanceof Wh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mM(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new CI((s=>Wh.Vi(s,n)),this.serializer)}}class Mp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>HT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bx.bind(null,this.syncEngine),await ox(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ux})()}createDatastore(t){const n=Tf(t.databaseInfo.databaseId),s=(function(u){return new GM(u)})(t.databaseInfo);return(function(u,h,m,p){return new $M(u,h,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,h,m){return new XM(s,o,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>HT(this.syncEngine,n,0)),(function(){return UT.C()?new UT:new zM})())}createSyncEngine(t,n){return(function(o,u,h,m,p,g,v){const T=new px(o,u,h,m,p,g);return v&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=bt(o);ct(Ta,"RemoteStore shutting down."),u.Ia.add(5),await wu(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Mp.provider={build:()=>new Mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Sr("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const h=bt(o),m={documents:u.map((T=>Jh(h.serializer,T)))},p=await h.Jo("BatchGetDocuments",h.serializer.databaseId,ae.emptyPath(),m,u.length),g=new Map;p.forEach((T=>{const S=J2(h.serializer,T);g.set(S.key.toString(),S)}));const v=[];return u.forEach((T=>{const S=g.get(T.toString());$t(!!S,55234,{key:T}),v.push(S)})),v})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ef(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=_t.fromPath(s);this.mutations.push(new mI(o,this.precondition(o)))})),await(async function(s,o){const u=bt(s),h={writes:o.map((m=>SI(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,ae.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw vt(50498,{Wu:t.constructor.name});n=St.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new ut(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(St.min())?mn.exists(!1):mn.updateTime(n):mn.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(St.min()))throw new ut(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mn.updateTime(n)}return mn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new Sg(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const t=new Ox(this.datastore),n=this.Ju(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(t){try{const n=this.updateFunction(t);return!Su(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(t){this.Gu>0&&this.Yu(t)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(t)}Yu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!pI(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="FirestoreClient";class Mx{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ct(Ls,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ct(Ls,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Ng(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Zm(i,t){i.asyncQueue.verifyOperationInProgress(),ct(Ls,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await NI(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>{Cs("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then((()=>{ct("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Cs("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),i._offlineComponents=t}async function GT(i,t){i.asyncQueue.verifyOperationInProgress();const n=await xx(i);ct(Ls,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((s=>kT(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>kT(t.remoteStore,o))),i._onlineComponents=t}async function xx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ct(Ls,"Using user provided OfflineComponentProvider");try{await Zm(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Cs("Error using user provided cache. Falling back to memory cache: "+n),await Zm(i,new tf)}}else ct(Ls,"Using default OfflineComponentProvider"),await Zm(i,new Nx(void 0));return i._offlineComponents}async function xg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ct(Ls,"Using user provided OnlineComponentProvider"),await GT(i,i._uninitializedComponentsProvider._online)):(ct(Ls,"Using default OnlineComponentProvider"),await GT(i,new Mp))),i._onlineComponents}function Lx(i){return xg(i).then((t=>t.syncEngine))}function Vx(i){return xg(i).then((t=>t.datastore))}async function xp(i){const t=await xg(i),n=t.eventManager;return n.onListen=gx.bind(null,t.syncEngine),n.onUnlisten=Ex.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_x.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=vx.bind(null,t.syncEngine),n}function Ux(i,t,n={}){const s=new Er;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new QI({next:S=>{v.Ou(),h.enqueueAndForget((()=>BI(u,T))),S.fromCache&&p.source==="server"?g.reject(new ut(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new zI(m,v,{includeMetadataChanges:!0,ka:!0});return kI(u,T)})(await xp(i),i.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="firestore.googleapis.com",YT=!0;class KT{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ut(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JI,this.ssl=YT}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:YT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wI;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fM)throw new ut(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XI((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class If{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new FD;switch(s.type){case"firstParty":return new KD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=qT.get(n);s&&(ct("ComponentProvider","Removing Datastore"),qT.delete(n),s.terminate())})(this),Promise.resolve()}}function Px(i,t,n,s={}){var o;i=hi(i,If);const u=Lo(t),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${t}:${n}`;u&&(jA(`https://${p}`),HA("Firestore",!0)),h.host!==JI&&h.host!==p&&Cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!ws(g,m)&&(i._setSettings(g),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=dn.MOCK_USER;else{v=_C(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ut(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new dn(S)}i._authCredentials=new GD(new VS(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ra(this.firestore,t,this._query)}}class Re{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Re(this.firestore,t,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Au(n,Re._jsonSchema))return new Re(t,s||null,new _t(ae.fromString(n.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:ke("string",Re._jsonSchemaVersion),referencePath:ke("string")};class Rs extends Ra{constructor(t,n,s){super(t,n,mg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Re(this.firestore,null,new _t(t))}withConverter(t){return new Rs(this.firestore,t,this._path)}}function fh(i,t,...n){if(i=Be(i),PS("collection","path",t),i instanceof If){const s=ae.fromString(t,...n);return aT(s),new Rs(i,null,s)}{if(!(i instanceof Re||i instanceof Rs))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ae.fromString(t,...n));return aT(s),new Rs(i.firestore,null,s)}}function Sn(i,t,...n){if(i=Be(i),arguments.length===1&&(t=lg.newId()),PS("doc","path",t),i instanceof If){const s=ae.fromString(t,...n);return sT(s),new Re(i,null,new _t(s))}{if(!(i instanceof Re||i instanceof Rs))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ae.fromString(t,...n));return sT(s),new Re(i.firestore,i instanceof Rs?i.converter:null,new _t(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="AsyncQueue";class QT{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Sg(this,"async_queue_retry"),this.oc=()=>{const s=Wm();s&&ct($T,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Er;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Bo(t))throw t;ct($T,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((s=>{throw this.tc=s,this.nc=!1,Sr("INTERNAL UNHANDLED ERROR: ",XT(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=Cg.createAndSchedule(this,t,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&vt(47125,{hc:XT(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function XT(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Vs extends If{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new QT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new QT(t),this._firestoreClient=void 0,await t}}}function kx(i,t){const n=typeof i=="object"?i:YA(),s=typeof i=="string"?i:Gh,o=Qp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=pC("firestore");u&&Px(o,...u)}return o}function Rf(i){if(i._terminated)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Bx(i),i._firestoreClient}function Bx(i){var t,n,s;const o=i._freezeSettings(),u=(function(m,p,g,v){return new u2(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,XI(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Mx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yn(on.fromBase64String(t))}catch(n){throw new ut(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Yn(on.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Au(t,Yn._jsonSchema))return Yn.fromBase64String(t.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:ke("string",Yn._jsonSchemaVersion),bytes:ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(Au(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:ke("string",ki._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Au(t,Bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Bi(t.vectorValues);throw new ut(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:ke("string",Bi._jsonSchemaVersion),vectorValues:ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=/^__.*__$/;class jx{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ks(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(t,this.data,n,this.fieldTransforms)}}class WI{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ks(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZI(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ec:i})}}class wf{constructor(t,n,s,o,u,h){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new wf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return ef(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(ZI(this.Ec)&&zx.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class Hx{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Tf(t)}Dc(t,n,s,o=!1){return new wf({Ec:t,methodName:n,bc:s,path:an.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cf(i){const t=i._freezeSettings(),n=Tf(i._databaseId);return new Hx(i._databaseId,!!t.ignoreUndefinedProperties,n)}function tR(i,t,n,s,o,u={}){const h=i.Dc(u.merge||u.mergeFields?2:0,t,n,o);Vg("Data must be an object, but it was:",h,s);const m=iR(s,h);let p,g;if(u.merge)p=new Kn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const S=Lp(t,T,n);if(!h.contains(S))throw new ut(W.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);sR(v,S)||v.push(S)}p=new Kn(v),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new jx(new Rn(m),p,g)}class Ou extends bf{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ou}}function Fx(i,t,n){return new wf({Ec:3,bc:t.settings.bc,methodName:i._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Lg extends bf{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=Fx(this,t,!0),s=this.vc.map((u=>jo(u,n))),o=new Oo(s);return new V2(t.path,o)}isEqual(t){return t instanceof Lg&&ws(this.vc,t.vc)}}function eR(i,t,n,s){const o=i.Dc(1,t,n);Vg("Data must be an object, but it was:",o,s);const u=[],h=Rn.empty();Ps(s,((p,g)=>{const v=Ug(t,p,n);g=Be(g);const T=o.gc(v);if(g instanceof Ou)u.push(v);else{const S=jo(g,T);S!=null&&(u.push(v),h.set(v,S))}}));const m=new Kn(u);return new WI(h,m,o.fieldTransforms)}function nR(i,t,n,s,o,u){const h=i.Dc(1,t,n),m=[Lp(t,s,n)],p=[o];if(u.length%2!=0)throw new ut(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Lp(t,u[S])),p.push(u[S+1]);const g=[],v=Rn.empty();for(let S=m.length-1;S>=0;--S)if(!sR(g,m[S])){const b=m[S];let V=p[S];V=Be(V);const z=h.gc(b);if(V instanceof Ou)g.push(b);else{const D=jo(V,z);D!=null&&(g.push(b),v.set(b,D))}}const T=new Kn(g);return new WI(v,T,h.fieldTransforms)}function Gx(i,t,n,s=!1){return jo(n,i.Dc(s?4:3,t))}function jo(i,t){if(rR(i=Be(i)))return Vg("Unsupported field value:",t,i),iR(i,t);if(i instanceof bf)return(function(s,o){if(!ZI(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=jo(m,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=Be(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return M2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=de.fromDate(s);return{timestampValue:Xh(o.serializer,u)}}if(s instanceof de){const u=new de(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xh(o.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yn)return{bytesValue:EI(o.serializer,s._byteString)};if(s instanceof Re){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:yg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bi)return(function(h,m){return{mapValue:{fields:{[YS]:{stringValue:KS},[qh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return pg(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${ff(s)}`)})(i,t)}function iR(i,t){const n={};return zS(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ps(i,((s,o)=>{const u=jo(o,t.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function rR(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof de||i instanceof ki||i instanceof Yn||i instanceof Re||i instanceof bf||i instanceof Bi)}function Vg(i,t,n){if(!rR(n)||!kS(n)){const s=ff(n);throw s==="an object"?t.wc(i+" a custom object"):t.wc(i+" "+s)}}function Lp(i,t,n){if((t=Be(t))instanceof Nu)return t._internalPath;if(typeof t=="string")return Ug(i,t);throw ef("Field path arguments must be of type string or ",i,!1,void 0,n)}const qx=new RegExp("[~\\*/\\[\\]]");function Ug(i,t,n){if(t.search(qx)>=0)throw ef(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Nu(...t.split("."))._internalPath}catch{throw ef(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function ef(i,t,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ut(W.INVALID_ARGUMENT,m+i+p)}function sR(i,t){return i.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Yx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Pg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Yx extends nf{data(){return super.data()}}function Pg(i,t){return typeof t=="string"?Ug(i,t):t instanceof Nu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ut(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kg{}class Kx extends kg{}function $x(i,t,...n){let s=[];t instanceof kg&&s.push(t),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Bg)).length,m=u.filter((p=>p instanceof Nf)).length;if(h>1||h>0&&m>0)throw new ut(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Nf extends Kx{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Nf(t,n,s)}_apply(t){const n=this._parse(t);return oR(t._query,n),new Ra(t.firestore,t.converter,Sp(t._query,n))}_parse(t){const n=Cf(t.firestore);return(function(u,h,m,p,g,v,T){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ut(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){ZT(T,v);const V=[];for(const z of T)V.push(WT(p,u,z));S={arrayValue:{values:V}}}else S=WT(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||ZT(T,v),S=Gx(m,h,T,v==="in"||v==="not-in");return Pe.create(g,v,S)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Qx(i,t,n){const s=t,o=Pg("where",i);return Nf._create(o,s,n)}class Bg extends kg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Bg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ai.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)oR(h,p),h=Sp(h,p)})(t._query,n),new Ra(t.firestore,t.converter,Sp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function WT(i,t,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new ut(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eI(t)&&n.indexOf("/")!==-1)throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ae.fromString(n));if(!_t.isDocumentKey(s))throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return mT(i,new _t(s))}if(n instanceof Re)return mT(i,n._key);throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ff(n)}.`)}function ZT(i,t){if(!Array.isArray(i)||i.length===0)throw new ut(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function oR(i,t){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ut(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class lR{convertValue(t,n="none"){switch(Ms(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ds(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ps(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[qh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((h=>Ne(h.doubleValue)));return new Bi(u)}convertGeoPoint(t){return new ki(Ne(t.latitude),Ne(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=mf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uu(t));default:return null}}convertTimestamp(t){const n=Os(t);return new de(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ae.fromString(t);$t(bI(s),9688,{name:t});const o=new cu(s.get(1),s.get(3)),u=new _t(s.popFirst(5));return o.isEqual(n)||Sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(i,t,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(t,n):i.toFirestore(t):t,s}class Xx extends lR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Re(this.firestore,null,n)}}class yo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class bs extends nf{constructor(t,n,s,o,u,h){super(t,n,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Pg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=bs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",bs._jsonSchema={type:ke("string",bs._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class Dh extends bs{data(t={}){return super.data(t)}}class ga{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new yo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Dh(this._firestore,this._userDataWriter,s.key,s,new yo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new yo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new yo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:Jx(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=lg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Jx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:i})}}ga._jsonSchemaVersion="firestore/querySnapshot/1.0",ga._jsonSchema={type:ke("string",ga._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};class Of extends lR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Re(this.firestore,null,n)}}function Wx(i){i=hi(i,Ra);const t=hi(i.firestore,Vs),n=Rf(t),s=new Of(t);return aR(i._query),Ux(n,i._query).then((o=>new ga(t,s,i,o)))}function ho(i,t,n){i=hi(i,Re);const s=hi(i.firestore,Vs),o=uR(i.converter,t,n);return zg(s,[tR(Cf(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,mn.none())])}function dh(i,t,n,...s){i=hi(i,Re);const o=hi(i.firestore,Vs),u=Cf(o);let h;return h=typeof(t=Be(t))=="string"||t instanceof Nu?nR(u,"updateDoc",i._key,t,n,s):eR(u,"updateDoc",i._key,t),zg(o,[h.toMutation(i._key,mn.exists(!0))])}function mh(i){return zg(hi(i.firestore,Vs),[new Ef(i._key,mn.none())])}function tp(i,...t){var n,s,o;i=Be(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||JT(t[h])||(u=t[h++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(JT(t[h])){const T=t[h];t[h]=(n=T.next)===null||n===void 0?void 0:n.bind(T),t[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),t[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,v;if(i instanceof Re)g=hi(i.firestore,Vs),v=mg(i._key.path),p={next:T=>{t[h]&&t[h](Zx(g,i,T))},error:t[h+1],complete:t[h+2]};else{const T=hi(i,Ra);g=hi(T.firestore,Vs),v=T._query;const S=new Of(g);p={next:b=>{t[h]&&t[h](new ga(g,S,T,b))},error:t[h+1],complete:t[h+2]},aR(i._query)}return(function(S,b,V,z){const D=new QI(z),et=new zI(b,D,V);return S.asyncQueue.enqueueAndForget((async()=>kI(await xp(S),et))),()=>{D.Ou(),S.asyncQueue.enqueueAndForget((async()=>BI(await xp(S),et)))}})(Rf(g),v,m,p)}function zg(i,t){return(function(s,o){const u=new Er;return s.asyncQueue.enqueueAndForget((async()=>Tx(await Lx(s),o,u))),u.promise})(Rf(i),t)}function Zx(i,t,n){const s=n.docs.get(t._key),o=new Of(i);return new bs(i,o,t._key,s,new yo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL={maxAttempts:5};function Ql(i,t){if((i=Be(i)).firestore!==t)throw new ut(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Cf(t)}get(t){const n=Ql(t,this._firestore),s=new Xx(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return vt(24041);const u=o[0];if(u.isFoundDocument())return new nf(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new nf(this._firestore,s,n._key,null,n.converter);throw vt(18433,{doc:u})}))}set(t,n,s){const o=Ql(t,this._firestore),u=uR(o.converter,n,s),h=tR(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,h),this}update(t,n,s,...o){const u=Ql(t,this._firestore);let h;return h=typeof(n=Be(n))=="string"||n instanceof Nu?nR(this._dataReader,"Transaction.update",u._key,n,s,o):eR(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,h),this}delete(t){const n=Ql(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL extends eL{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Ql(t,this._firestore),s=new Of(this._firestore);return super.get(t).then((o=>new bs(this._firestore,s,n._key,o._document,new yo(!1,!1),n.converter)))}}function iL(i,t,n){i=hi(i,Vs);const s=Object.assign(Object.assign({},tL),n);return(function(u){if(u.maxAttempts<1)throw new ut(W.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,h,m){const p=new Er;return u.asyncQueue.enqueueAndForget((async()=>{const g=await Vx(u);new Dx(u.asyncQueue,g,m,h,p).zu()})),p.promise})(Rf(i),(o=>t(new nL(i,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(){return new Ou("deleteField")}function sL(...i){return new Lg("arrayUnion",i)}(function(t,n=!0){(function(o){Po=o})(Vo),Ro(new ya("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Vs(new qD(s.getProvider("auth-internal")),new $D(h,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ut(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(g.options.projectId,v)})(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),As(tT,eT,t),As(tT,eT,"esm2017")})();var aL={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var t0;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(t0||(t0={}));var e0;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(e0||(e0={}));var n0;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(n0||(n0={}));var i0;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(i0||(i0={}));var r0;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(r0||(r0={}));var s0;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(s0||(s0={}));var a0;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(a0||(a0={}));var o0;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(o0||(o0={}));var l0;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(l0||(l0={}));var u0;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(u0||(u0={}));var c0;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(c0||(c0={}));var h0;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(h0||(h0={}));var f0;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(f0||(f0={}));var d0;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(d0||(d0={}));var m0;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(m0||(m0={}));var p0;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(p0||(p0={}));var g0;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(g0||(g0={}));var _0;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_0||(_0={}));var y0;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(y0||(y0={}));var E0;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(E0||(E0={}));var v0;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(v0||(v0={}));var T0;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(T0||(T0={}));var A0;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(A0||(A0={}));var S0;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(S0||(S0={}));var I0;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(I0||(I0={}));var R0;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(R0||(R0={}));var b0;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(b0||(b0={}));var w0;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(w0||(w0={}));var C0;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(C0||(C0={}));var N0;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(N0||(N0={}));var O0;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(O0||(O0={}));var D0;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(D0||(D0={}));var M0;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(M0||(M0={}));var x0;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(x0||(x0={}));var L0;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(L0||(L0={}));var V0;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(V0||(V0={}));var U0;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(U0||(U0={}));var P0;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(P0||(P0={}));var k0;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(k0||(k0={}));var B0;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(B0||(B0={}));var z0;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(z0||(z0={}));var j0;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(j0||(j0={}));var H0;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(H0||(H0={}));var F0;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(F0||(F0={}));var G0;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(G0||(G0={}));var q0;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(q0||(q0={}));var Y0;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Y0||(Y0={}));var K0;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(K0||(K0={}));var $0;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})($0||($0={}));var Q0;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Q0||(Q0={}));var X0;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(X0||(X0={}));var J0;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(J0||(J0={}));var W0;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(W0||(W0={}));var Z0;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Z0||(Z0={}));var tA;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(tA||(tA={}));var eA;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(eA||(eA={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var nA;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(nA||(nA={}));function rf(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function iA(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],s=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye(i){return this instanceof ye?(this.v=i,this):new ye(i)}function ru(i,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(i,t||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(b){return function(V){return Promise.resolve(V).then(b,T)}}function m(b,V){s[b]&&(o[b]=function(z){return new Promise(function(D,et){u.push([b,z,D,et])>1||p(b,z)})},V&&(o[b]=V(o[b])))}function p(b,V){try{g(s[b](V))}catch(z){S(u[0][3],z)}}function g(b){b.value instanceof ye?Promise.resolve(b.value.v).then(v,T):S(u[0][2],b)}function v(b){p("next",b)}function T(b){p("throw",b)}function S(b,V){b(V),u.shift(),u.length&&p(u[0][0],u[0][1])}}function Io(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],n;return t?t.call(i):(i=typeof iA=="function"?iA(i):i[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(u){n[u]=i[u]&&function(h){return new Promise(function(m,p){h=i[u](h),o(m,p,h.done,h.value)})}}function o(u,h,m,p){Promise.resolve(p).then(function(g){u({value:g,done:m})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let cR=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return cR=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),n=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};const oL=()=>cR();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vp(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Up=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fi extends Error{}class bn extends fi{constructor(t,n,s,o){super(`${bn.makeMessage(t,n,s)}`),this.status=t,this.headers=o,this.error=n}static makeMessage(t,n,s){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,n,s,o){if(!t||!o)return new Df({message:s,cause:Up(n)});const u=n;return t===400?new fR(t,u,s,o):t===401?new dR(t,u,s,o):t===403?new mR(t,u,s,o):t===404?new pR(t,u,s,o):t===409?new gR(t,u,s,o):t===422?new _R(t,u,s,o):t===429?new yR(t,u,s,o):t>=500?new ER(t,u,s,o):new bn(t,u,s,o)}}class Pp extends bn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Df extends bn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class hR extends Df{constructor({message:t}={}){super({message:t??"Request timed out."})}}class fR extends bn{}class dR extends bn{}class mR extends bn{}class pR extends bn{}class gR extends bn{}class _R extends bn{}class yR extends bn{}class ER extends bn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lL=/^[a-z][a-z0-9+.-]*:/i,uL=i=>lL.test(i);let kp=i=>(kp=Array.isArray,kp(i));const cL=kp;let hL=cL;const rA=hL;function fL(i){if(!i)return!0;for(const t in i)return!1;return!0}function dL(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const mL=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new fi(`${i} must be an integer`);if(t<0)throw new fi(`${i} must be a positive integer`);return t},pL=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gL=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _o="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _L(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const yL=()=>{var i,t,n,s,o;const u=_L();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_o,"X-Stainless-OS":aA(Deno.build.os),"X-Stainless-Arch":sA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_o,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_o,"X-Stainless-OS":aA((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":sA((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const h=EL();return h?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_o,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${h.browser}`,"X-Stainless-Runtime-Version":h.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_o,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function EL(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of i){const s=n.exec(navigator.userAgent);if(s){const o=s[1]||0,u=s[2]||0,h=s[3]||0;return{browser:t,version:`${o}.${u}.${h}`}}}return null}const sA=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",aA=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let ph;const vL=()=>ph??(ph=yL());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TL(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function vR(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function AL(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return vR({start(){},async pull(n){const{done:s,value:o}=await t.next();s?n.close():n.enqueue(o)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function TR(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function SL(i){var t,n;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((n=(t=i[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const s=i.getReader(),o=s.cancel();s.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IL=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AR=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ep(i,t,n){return AR(),new File(i,t??"unknown_file",n)}function RL(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const bL=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SR=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",wL=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&SR(i),CL=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function NL(i,t,n){if(AR(),i=await i,wL(i))return i instanceof File?i:ep([await i.arrayBuffer()],i.name);if(CL(i)){const o=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),ep(await Bp(o),t,n)}const s=await Bp(i);if(t||(t=RL(i)),!(n!=null&&n.type)){const o=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return ep(s,t,n)}async function Bp(i){var t,n,s,o,u;let h=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)h.push(i);else if(SR(i))h.push(i instanceof Blob?i:await i.arrayBuffer());else if(bL(i))try{for(var m=!0,p=Io(i),g;g=await p.next(),t=g.done,!t;m=!0){o=g.value,m=!1;const v=o;h.push(...await Bp(v))}}catch(v){n={error:v}}finally{try{!m&&!t&&(s=p.return)&&await s.call(p)}finally{if(n)throw n.error}}else{const v=(u=i==null?void 0:i.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${OL(i)}`)}return h}function OL(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IR{constructor(t){this._client=t}}IR._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RR(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const oA=Object.freeze(Object.create(null)),DL=(i=RR)=>(function(n,...s){if(n.length===1)return n[0];let o=!1;const u=[],h=n.reduce((v,T,S)=>{var b,V,z;/[?#]/.test(T)&&(o=!0);const D=s[S];let et=(o?encodeURIComponent:i)(""+D);return S!==s.length&&(D==null||typeof D=="object"&&D.toString===((z=Object.getPrototypeOf((V=Object.getPrototypeOf((b=D.hasOwnProperty)!==null&&b!==void 0?b:oA))!==null&&V!==void 0?V:oA))===null||z===void 0?void 0:z.toString))&&(et=D+"",u.push({start:v.length+T.length,length:et.length,error:`Value of type ${Object.prototype.toString.call(D).slice(8,-1)} is not a valid path parameter`})),v+T+(S===s.length?"":et)},""),m=h.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=p.exec(m))!==null;)u.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(u.sort((v,T)=>v.start-T.start),u.length>0){let v=0;const T=u.reduce((S,b)=>{const V=" ".repeat(b.start-v),z="^".repeat(b.length);return v=b.start+b.length,S+V+z},"");throw new fi(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${h}
${T}`)}return h}),gh=DL(RR);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bR extends IR{create(t,n){var s;const{api_version:o=this._client.apiVersion}=t,u=rf(t,["api_version"]);if("model"in u&&"agent_config"in u)throw new fi("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new fi("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(gh`/${o}/interactions`,Object.assign(Object.assign({body:u},n),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(gh`/${o}/interactions/${t}`,s)}cancel(t,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(gh`/${o}/interactions/${t}/cancel`,s)}get(t,n={},s){var o;const u=n??{},{api_version:h=this._client.apiVersion}=u,m=rf(u,["api_version"]);return this._client.get(gh`/${h}/interactions/${t}`,Object.assign(Object.assign({query:m},s),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}bR._key=Object.freeze(["interactions"]);class wR extends bR{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ML(i){let t=0;for(const o of i)t+=o.length;const n=new Uint8Array(t);let s=0;for(const o of i)n.set(o,s),s+=o.length;return n}let _h;function jg(i){let t;return(_h??(t=new globalThis.TextEncoder,_h=t.encode.bind(t)))(i)}let yh;function lA(i){let t;return(yh??(t=new globalThis.TextDecoder,yh=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mf{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?jg(t):t;this.buffer=ML([this.buffer,n]);const s=[];let o;for(;(o=xL(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){s.push(lA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,h=lA(this.buffer.subarray(0,u));s.push(h),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Mf.NEWLINE_CHARS=new Set([`
`,"\r"]);Mf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function xL(i,t){for(let o=t??0;o<i.length;o++){if(i[o]===10)return{preceding:o,index:o+1,carriage:!1};if(i[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function LL(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sf={off:0,error:200,warn:300,info:400,debug:500},uA=(i,t,n)=>{if(i){if(dL(sf,i))return i;In(n).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(sf))}`)}};function Xl(){}function Eh(i,t,n){return!t||sf[i]>sf[n]?Xl:t[i].bind(t)}const VL={error:Xl,warn:Xl,info:Xl,debug:Xl};let cA=new WeakMap;function In(i){var t;const n=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!n)return VL;const o=cA.get(n);if(o&&o[0]===s)return o[1];const u={error:Eh("error",n,s),warn:Eh("warn",n,s),info:Eh("info",n,s),debug:Eh("debug",n,s)};return cA.set(n,[s,u]),u}const da=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eo{constructor(t,n,s){this.iterator=t,this.controller=n,this.client=s}static fromSSEResponse(t,n,s){let o=!1;const u=s?In(s):console;function h(){return ru(this,arguments,function*(){var p,g,v,T;if(o)throw new fi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var b=!0,V=Io(UL(t,n)),z;z=yield ye(V.next()),p=z.done,!p;b=!0){T=z.value,b=!1;const D=T;if(!S)if(D.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield ye(JSON.parse(D.data))}catch(et){throw u.error("Could not parse message into JSON:",D.data),u.error("From chunk:",D.raw),et}}}catch(D){g={error:D}}finally{try{!b&&!p&&(v=V.return)&&(yield ye(v.call(V)))}finally{if(g)throw g.error}}S=!0}catch(D){if(Vp(D))return yield ye(void 0);throw D}finally{S||n.abort()}})}return new Eo(h,n,s)}static fromReadableStream(t,n,s){let o=!1;function u(){return ru(this,arguments,function*(){var p,g,v,T;const S=new Mf,b=TR(t);try{for(var V=!0,z=Io(b),D;D=yield ye(z.next()),p=D.done,!p;V=!0){T=D.value,V=!1;const et=T;for(const rt of S.decode(et))yield yield ye(rt)}}catch(et){g={error:et}}finally{try{!V&&!p&&(v=z.return)&&(yield ye(v.call(z)))}finally{if(g)throw g.error}}for(const et of S.flush())yield yield ye(et)})}function h(){return ru(this,arguments,function*(){var p,g,v,T;if(o)throw new fi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var b=!0,V=Io(u()),z;z=yield ye(V.next()),p=z.done,!p;b=!0){T=z.value,b=!1;const D=T;S||D&&(yield yield ye(JSON.parse(D)))}}catch(D){g={error:D}}finally{try{!b&&!p&&(v=V.return)&&(yield ye(v.call(V)))}finally{if(g)throw g.error}}S=!0}catch(D){if(Vp(D))return yield ye(void 0);throw D}finally{S||n.abort()}})}return new Eo(h,n,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],s=this.iterator(),o=u=>({next:()=>{if(u.length===0){const h=s.next();t.push(h),n.push(h)}return u.shift()}});return[new Eo(()=>o(t),this.controller,this.client),new Eo(()=>o(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return vR({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:u}=await n.next();if(u)return s.close();const h=jg(JSON.stringify(o)+`
`);s.enqueue(h)}catch(o){s.error(o)}},async cancel(){var s;await((s=n.return)===null||s===void 0?void 0:s.call(n))}})}}function UL(i,t){return ru(this,arguments,function*(){var s,o,u,h;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new fi("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new fi("Attempted to iterate over a response with no body");const m=new kL,p=new Mf,g=TR(i.body);try{for(var v=!0,T=Io(PL(g)),S;S=yield ye(T.next()),s=S.done,!s;v=!0){h=S.value,v=!1;const b=h;for(const V of p.decode(b)){const z=m.decode(V);z&&(yield yield ye(z))}}}catch(b){o={error:b}}finally{try{!v&&!s&&(u=T.return)&&(yield ye(u.call(T)))}finally{if(o)throw o.error}}for(const b of p.flush()){const V=m.decode(b);V&&(yield yield ye(V))}})}function PL(i){return ru(this,arguments,function*(){var n,s,o,u;let h=new Uint8Array;try{for(var m=!0,p=Io(i),g;g=yield ye(p.next()),n=g.done,!n;m=!0){u=g.value,m=!1;const v=u;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?jg(v):v;let S=new Uint8Array(h.length+T.length);S.set(h),S.set(T,h.length),h=S;let b;for(;(b=LL(h))!==-1;)yield yield ye(h.slice(0,b)),h=h.slice(b)}}catch(v){s={error:v}}finally{try{!m&&!n&&(o=p.return)&&(yield ye(o.call(p)))}finally{if(s)throw s.error}}h.length>0&&(yield yield ye(h))})}class kL{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,s,o]=BL(t,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function BL(i,t){const n=i.indexOf(t);return n!==-1?[i.substring(0,n),t,i.substring(n+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function zL(i,t){const{response:n,requestLogID:s,retryOfRequestLogID:o,startTime:u}=t,h=await(async()=>{var m;if(t.options.stream)return In(i).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,i):Eo.fromSSEResponse(n,t.controller,i);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const p=n.headers.get("content-type"),g=(m=p==null?void 0:p.split(";")[0])===null||m===void 0?void 0:m.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await n.json():await n.text()})();return In(i).debug(`[${s}] response parsed`,da({retryOfRequestLogID:o,url:n.url,status:n.status,body:h,durationMs:Date.now()-u})),h}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hg extends Promise{constructor(t,n,s=zL){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new Hg(this.client,this.responsePromise,async(n,s)=>t(await this.parseResponse(n,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CR=Symbol("brand.privateNullableHeaders");function*jL(i){if(!i)return;if(CR in i){const{values:s,nulls:o}=i;yield*s.entries();for(const u of o)yield[u,null];return}let t=!1,n;i instanceof Headers?n=i.entries():rA(i)?n=i:(t=!0,n=Object.entries(i??{}));for(let s of n){const o=s[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const u=rA(s[1])?s[1]:[s[1]];let h=!1;for(const m of u)m!==void 0&&(t&&!h&&(h=!0,yield[o,null]),yield[o,m])}}const ql=i=>{const t=new Headers,n=new Set;for(const s of i){const o=new Set;for(const[u,h]of jL(s)){const m=u.toLowerCase();o.has(m)||(t.delete(u),o.add(m)),h===null?(t.delete(u),n.add(m)):(t.append(u,h),n.delete(m))}}return{[CR]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const np=i=>{var t,n,s,o,u,h;if(typeof globalThis.process<"u")return(s=(n=(t=aL)===null||t===void 0?void 0:t[i])===null||n===void 0?void 0:n.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(h=(u=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||u===void 0?void 0:u.call(o,i))===null||h===void 0?void 0:h.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var NR;class xf{constructor(t){var n,s,o,u,h,m,p,{baseURL:g=np("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(n=np("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:T="v1beta"}=t,S=rf(t,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:v,apiVersion:T},S),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(s=b.timeout)!==null&&s!==void 0?s:xf.DEFAULT_TIMEOUT,this.logger=(o=b.logger)!==null&&o!==void 0?o:console;const V="warn";this.logLevel=V,this.logLevel=(h=(u=uA(b.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:uA(np("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&h!==void 0?h:V,this.fetchOptions=b.fetchOptions,this.maxRetries=(m=b.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(p=b.fetch)!==null&&p!==void 0?p:TL(),this.encoder=IL,this._options=b,this.apiKey=v,this.apiVersion=T,this.clientAdapter=b.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=ql([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return ql([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ql([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new fi(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${_o}`}defaultIdempotencyKey(){return`stainless-node-retry-${oL()}`}makeStatusError(t,n,s,o){return bn.generate(t,n,s,o)}buildURL(t,n,s){const o=!this.baseURLOverridden()&&s||this.baseURL,u=uL(t)?new URL(t):new URL(o+(o.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),h=this.defaultQuery();return fL(h)||(n=Object.assign(Object.assign({},h),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(u.search=this.stringifyQuery(n)),u.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:s}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,s){return this.request(Promise.resolve(s).then(o=>Object.assign({method:t,path:n},o)))}request(t,n=null){return new Hg(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,s){var o,u,h;const m=await t,p=(o=m.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=p),await this.prepareOptions(m);const{req:g,url:v,timeout:T}=await this.buildRequest(m,{retryCount:p-n});await this.prepareRequest(g,{url:v,options:m});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=s===void 0?"":`, retryOf: ${s}`,V=Date.now();if(In(this).debug(`[${S}] sending request`,da({retryOfRequestLogID:s,method:m.method,url:v,options:m,headers:g.headers})),!((u=m.signal)===null||u===void 0)&&u.aborted)throw new Pp;const z=new AbortController,D=await this.fetchWithTimeout(v,g,T,z).catch(Up),et=Date.now();if(D instanceof globalThis.Error){const Z=`retrying, ${n} attempts remaining`;if(!((h=m.signal)===null||h===void 0)&&h.aborted)throw new Pp;const mt=Vp(D)||/timed? ?out/i.test(String(D)+("cause"in D?String(D.cause):""));if(n)return In(this).info(`[${S}] connection ${mt?"timed out":"failed"} - ${Z}`),In(this).debug(`[${S}] connection ${mt?"timed out":"failed"} (${Z})`,da({retryOfRequestLogID:s,url:v,durationMs:et-V,message:D.message})),this.retryRequest(m,n,s??S);throw In(this).info(`[${S}] connection ${mt?"timed out":"failed"} - error; no more retries left`),In(this).debug(`[${S}] connection ${mt?"timed out":"failed"} (error; no more retries left)`,da({retryOfRequestLogID:s,url:v,durationMs:et-V,message:D.message})),mt?new hR:new Df({cause:D})}const rt=`[${S}${b}] ${g.method} ${v} ${D.ok?"succeeded":"failed"} with status ${D.status} in ${et-V}ms`;if(!D.ok){const Z=await this.shouldRetry(D);if(n&&Z){const w=`retrying, ${n} attempts remaining`;return await SL(D.body),In(this).info(`${rt} - ${w}`),In(this).debug(`[${S}] response error (${w})`,da({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,durationMs:et-V})),this.retryRequest(m,n,s??S,D.headers)}const mt=Z?"error; no more retries left":"error; not retryable";In(this).info(`${rt} - ${mt}`);const It=await D.text().catch(w=>Up(w).message),Et=pL(It),O=Et?void 0:It;throw In(this).debug(`[${S}] response error (${mt})`,da({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,message:O,durationMs:Date.now()-V})),this.makeStatusError(D.status,Et,O,D.headers)}return In(this).info(rt),In(this).debug(`[${S}] response start`,da({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,durationMs:et-V})),{response:D,options:m,controller:z,requestLogID:S,retryOfRequestLogID:s,startTime:V}}async fetchWithTimeout(t,n,s,o){const u=n||{},{signal:h,method:m}=u,p=rf(u,["signal","method"]);h&&h.addEventListener("abort",()=>o.abort());const g=setTimeout(()=>o.abort(),s),v=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,T=Object.assign(Object.assign(Object.assign({signal:o.signal},v?{duplex:"half"}:{}),{method:"GET"}),p);m&&(T.method=m.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(g)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,s,o){var u;let h;const m=o==null?void 0:o.get("retry-after-ms");if(m){const g=parseFloat(m);Number.isNaN(g)||(h=g)}const p=o==null?void 0:o.get("retry-after");if(p&&!h){const g=parseFloat(p);Number.isNaN(g)?h=Date.parse(p)-Date.now():h=g*1e3}if(!(h&&0<=h&&h<60*1e3)){const g=(u=t.maxRetries)!==null&&u!==void 0?u:this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(n,g)}return await gL(h),this.makeRequest(t,n-1,s)}calculateDefaultRetryTimeoutMillis(t,n){const u=n-t,h=Math.min(.5*Math.pow(2,u),8),m=1-Math.random()*.25;return h*m*1e3}async buildRequest(t,{retryCount:n=0}={}){var s,o,u;const h=Object.assign({},t),{method:m,path:p,query:g,defaultBaseURL:v}=h,T=this.buildURL(p,g,v);"timeout"in h&&mL("timeout",h.timeout),h.timeout=(s=h.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:S,body:b}=this.buildBody({options:h}),V=await this.buildHeaders({options:t,method:m,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:V},h.signal&&{signal:h.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(u=h.fetchOptions)!==null&&u!==void 0?u:{}),url:T,timeout:h.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:s,retryCount:o}){let u={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=t.idempotencyKey);const h=await this.authHeaders(t);let m=ql([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),vL()),this._options.defaultHeaders,s,t.headers,h]);return this.validateHeaders(m),m.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=ql([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:AL(t)}:this.encoder({body:t,headers:s})}}xf.DEFAULT_TIMEOUT=6e4;class ln extends xf{constructor(){super(...arguments),this.interactions=new wR(this)}}NR=ln;ln.GeminiNextGenAPIClient=NR;ln.GeminiNextGenAPIClientError=fi;ln.APIError=bn;ln.APIConnectionError=Df;ln.APIConnectionTimeoutError=hR;ln.APIUserAbortError=Pp;ln.NotFoundError=pR;ln.ConflictError=gR;ln.RateLimitError=yR;ln.BadRequestError=fR;ln.AuthenticationError=dR;ln.InternalServerError=ER;ln.PermissionDeniedError=mR;ln.UnprocessableEntityError=_R;ln.toFile=NL;ln.Interactions=wR;var HL="firebase",FL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(HL,FL,"app");const GL={apiKey:"AIzaSyCEUaqAGQBy_-tQEjnkNGYMXRk7YRaCAjI",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.firebasestorage.app",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},OR=qA(GL),_a=jD(OR),ip=new pr,rn=kx(OR);function qL(i,t){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(i)}&token=${encodeURIComponent(t)}`}async function YL(i){try{return await navigator.clipboard.writeText(i),!0}catch{return window.prompt("  :",i),!1}}async function Mh(){try{await XO(_a,ip)}catch(i){const t=i==null?void 0:i.code;if(t==="auth/popup-blocked"||t==="auth/cancelled-popup-request"||t==="auth/popup-closed-by-user"){await qv(_a,ip);return}await qv(_a,ip)}}function KL(i){const t=encodeURIComponent(i);window.open(`https://wa.me/?text=${t}`,"_blank")}const $L=()=>{const[i]=H1(),t=Hp(),n=i.get("listId"),s=i.get("token"),[o,u]=G.useState(_a.currentUser),[h,m]=G.useState(!0),[p,g]=G.useState(!1),[v,T]=G.useState(null);G.useEffect(()=>pS(_a,V=>{u(V),m(!1)}),[]);const S=async()=>{T(null);try{await Mh()}catch(V){T((V==null?void 0:V.message)||" ")}},b=async()=>{if(!n||!s){T("    (listId  token)");return}if(!o){await S();return}g(!0),T(null);try{await iL(rn,async V=>{var Z;const z=Sn(rn,"lists",n),D=await V.get(z);if(!D.exists())throw new Error("  ");const rt=(Z=D.data().pendingInvites)==null?void 0:Z[s];if(!rt)throw new Error("  ");if(rt.expiresAt<Date.now())throw new Error("  ");V.update(z,{sharedWith:sL(o.uid),[`pendingInvites.${s}`]:rL()})}),localStorage.setItem("activeListId",n),t("/")}catch(V){T((V==null?void 0:V.message)||"  ")}finally{g(!1)}};return h?X.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:X.jsx(Lh,{className:"animate-spin text-indigo-600"})}):X.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:X.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[X.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:X.jsx(LA,{className:"w-10 h-10"})}),X.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?X.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,v?X.jsx("p",{className:"text-rose-500 font-bold break-words",children:v}):null,o?X.jsx("button",{onClick:b,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?X.jsx(Lh,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):X.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[X.jsx(xA,{className:"w-5 h-5"}),"   "]})]})})},QL=()=>{const[i,t]=G.useState(null),[n,s]=G.useState(null),[o,u]=G.useState([]),[h,m]=G.useState([]),[p,g]=G.useState("list"),[v,T]=G.useState(""),[S,b]=G.useState(!1),[V,z]=G.useState(!1),[D,et]=G.useState(!1),[rt,Z]=G.useState(!0),[mt,It]=G.useState(!1),[Et,O]=G.useState(!1),[R,w]=G.useState("continuous"),[x,U]=G.useState(""),P=rp.useRef(null),C=rp.useRef(!1);G.useEffect(()=>pS(_a,async it=>{if(t(it),Z(!1),!it){s(null),u([]),m([]);return}It(!0);const at=$x(fh(rn,"lists"),Qx("sharedWith","array-contains",it.uid)),ft=await Wx(at);if(ft.empty){const Pt=Sn(fh(rn,"lists")),le={id:Pt.id,title:" ",ownerUid:it.uid,sharedWith:[it.uid],createdAt:Date.now(),updatedAt:Date.now()};await ho(Pt,le),s(le),localStorage.setItem("activeListId",Pt.id)}else{const Pt=localStorage.getItem("activeListId"),le=Pt?ft.docs.find(me=>me.id===Pt)??ft.docs[0]:ft.docs[0],Cn=le.data();s({...Cn,id:le.id}),localStorage.setItem("activeListId",le.id)}It(!1)}),[]),G.useEffect(()=>{if(!(n!=null&&n.id))return;const it=Sn(rn,"lists",n.id),at=fh(it,"items"),ft=fh(it,"favorites"),Pt=tp(it,me=>{me.exists()&&s({...me.data(),id:me.id})}),le=tp(at,me=>{const je=me.docs.map(Gt=>Gt.data());u(je)}),Cn=tp(ft,me=>{const je=me.docs.map(Gt=>{const Nt=Gt.data();return{id:Gt.id,name:String((Nt==null?void 0:Nt.name)||""),createdAt:Number((Nt==null?void 0:Nt.createdAt)||0)}});je.sort((Gt,Nt)=>Nt.createdAt-Gt.createdAt),m(je)});return()=>{Pt(),le(),Cn()}},[n==null?void 0:n.id]);const _e=G.useMemo(()=>{const it=new Set;for(const at of h)it.add(at.id);return it},[h]),ze=G.useMemo(()=>o.filter(it=>!it.isPurchased).sort((it,at)=>at.createdAt-it.createdAt),[o]),K=G.useMemo(()=>o.filter(it=>it.isPurchased).sort((it,at)=>(at.purchasedAt||0)-(it.purchasedAt||0)),[o]),lt=async it=>{if(it&&it.preventDefault(),!i){await Mh();return}if(!(n!=null&&n.id))return;const at=v.trim();if(!at)return;const ft=crypto.randomUUID(),Pt={id:ft,name:at,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await ho(Sn(rn,"lists",n.id,"items",ft),Pt),T("")},gt=async it=>{if(!(n!=null&&n.id))return;const at=o.find(Pt=>Pt.id===it);if(!at)return;const ft=!at.isPurchased;await dh(Sn(rn,"lists",n.id,"items",it),{isPurchased:ft,purchasedAt:ft?Date.now():null})},xt=async(it,at)=>{if(!(n!=null&&n.id))return;const ft=o.find(Pt=>Pt.id===it);ft&&await dh(Sn(rn,"lists",n.id,"items",it),{quantity:Math.max(1,ft.quantity+at)})},Yt=async it=>{n!=null&&n.id&&await mh(Sn(rn,"lists",n.id,"items",it))},L=async it=>{if(!(n!=null&&n.id))return;const at=o.find(Pt=>Pt.id===it);if(!at)return;const ft=Sn(rn,"lists",n.id,"favorites",it);_e.has(it)?await mh(ft):await ho(ft,{name:at.name,createdAt:Date.now()})},Q=async it=>{n!=null&&n.id&&await mh(Sn(rn,"lists",n.id,"favorites",it))},st=async()=>{if(!(n!=null&&n.id))return;const it=o.map(at=>mh(Sn(rn,"lists",n.id,"items",at.id)));await Promise.all(it),z(!1)},ht=async()=>{if(!i)return await Mh(),null;if(!(n!=null&&n.id))return null;const it=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),at=Date.now()+2880*60*1e3;return await dh(Sn(rn,"lists",n.id),{[`pendingInvites.${it}`]:{createdAt:Date.now(),expiresAt:at}}),qL(n.id,it)},At=async()=>{const it=await ht();if(it){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:" ",text:"   ",url:it});return}}catch{}await YL(it),b(!0),setTimeout(()=>b(!1),2e3)}},Dt=()=>{const it=(n==null?void 0:n.title)||" ",at=o.filter(Oe=>!Oe.isPurchased),ft="",Pt="",le="",Cn="",me=at.length>0?at.map(Oe=>`${ft}${Oe.name} X ${le}${Oe.quantity}${Cn}${Pt}`).join(`
`):`${ft}(  )${Pt}`,Nt=`${`*${it}:*`}

${me}

   `;KL(Nt)},wt=it=>(it||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),Lt=it=>{try{if(!("speechSynthesis"in window))return;const at=new SpeechSynthesisUtterance(it);at.lang="he-IL",window.speechSynthesis.cancel(),window.speechSynthesis.speak(at)}catch{}},ne=it=>{const at=wt(it),ft=o.find(le=>wt(le.name)===at);return ft||o.find(le=>wt(le.name).includes(at)||at.includes(wt(le.name)))||null},Xn=async it=>{if(!(n!=null&&n.id))return;const at=wt(it);if(!at)return;if(at.includes(" ")||at===""){w("continuous"),Lt("   ");return}if(at.includes("  ")||at.includes(" ")||at===""){w("once"),Lt("    ");return}if(at.includes("")||at.includes("")){g("favorites"),Lt(" ");return}if(at.includes("")){g("list"),Lt(" ");return}if(at.includes("")&&at.includes("")){z(!0),Lt("   ");return}if(at===""||at===""||at===""||at===" "||at===" "||at===" "){Lt("  ?");return}const ft=at.match(/^(|||)(?:\s+)?\s+(\d+)\s+(.+)$/);if(ft){const Gt=Math.max(1,Number(ft[2])),Nt=ft[3].trim();if(!Nt)return;const Oe=o.find(pe=>!pe.isPurchased&&wt(pe.name)===wt(Nt));if(Oe){await dh(Sn(rn,"lists",n.id,"items",Oe.id),{quantity:Gt}),Lt(` ${Oe.name}  ${Gt}`);return}const ue=crypto.randomUUID(),Jn={id:ue,name:Nt,quantity:Gt,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await ho(Sn(rn,"lists",n.id,"items",ue),Jn),Lt(` ${Nt} ${Gt}`);return}const Pt=at.match(/^(|||)(?:\s+)?\s+(.+)$/);if(Pt){const Gt=Pt[2].trim();if(!Gt)return;const Nt=o.find(Jn=>!Jn.isPurchased&&wt(Jn.name)===wt(Gt));if(Nt){await xt(Nt.id,1),Lt(` ${Nt.name}`);return}const Oe=crypto.randomUUID(),ue={id:Oe,name:Gt,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await ho(Sn(rn,"lists",n.id,"items",Oe),ue),Lt(` ${Gt}`);return}const le=at.match(/^(|||)\s+(.+)$/);if(le){const Gt=le[2].trim(),Nt=ne(Gt);if(!Nt){Lt("    ");return}await Yt(Nt.id),Lt(` ${Nt.name}`);return}const Cn=at.match(/^(||)\s+(.+)\s+(||)$/);if(Cn){const Gt=Cn[2].trim(),Nt=ne(Gt);if(!Nt){Lt("    ");return}Nt.isPurchased||await gt(Nt.id),Lt(` ${Nt.name} `);return}const me=at.match(/^(||)\s+(.+)$/);if(me){const Gt=me[2].trim(),Nt=ne(Gt);if(!Nt){Lt("    ");return}await xt(Nt.id,1),Lt(` ${Nt.name}`);return}const je=at.match(/^(||)\s+(.+)$/);if(je){const Gt=je[2].trim(),Nt=ne(Gt);if(!Nt){Lt("    ");return}await xt(Nt.id,-1),Lt(` ${Nt.name}`);return}Lt(" .  :  ,  ,   , , ,  ")},wn=()=>{var it,at;C.current=!1,O(!1);try{(at=(it=P.current)==null?void 0:it.stop)==null||at.call(it)}catch{}},Hi=()=>{const it=window.SpeechRecognition||window.webkitSpeechRecognition;if(!it){alert("    .  Chrome  Edge.");return}if(Et){wn();return}if(C.current=!0,P.current){try{P.current.stop()}catch{}P.current=null}const at=new it;P.current=at,at.lang="he-IL",at.interimResults=!1,at.maxAlternatives=1,at.continuous=R==="continuous",at.onstart=()=>{O(!0),Lt(R==="continuous"?"  ":"  ")},at.onerror=ft=>{console.error("Speech error",ft),O(!1),C.current=!1;const Pt=String((ft==null?void 0:ft.error)||"");(Pt==="not-allowed"||Pt==="service-not-allowed")&&alert("  .     .")},at.onresult=async ft=>{var je,Gt,Nt,Oe,ue,Jn;const Pt=typeof(ft==null?void 0:ft.resultIndex)=="number"?ft.resultIndex:0,le=(Gt=(je=ft==null?void 0:ft.results)==null?void 0:je[Pt])==null?void 0:Gt[0],me=((le==null?void 0:le.transcript)||"").trim()||String(((Jn=(ue=(Oe=ft==null?void 0:ft.results)==null?void 0:Oe[((Nt=ft==null?void 0:ft.results)==null?void 0:Nt.length)-1])==null?void 0:ue[0])==null?void 0:Jn.transcript)||"").trim();U(me);try{await Xn(me)}catch(pe){console.error(pe),Lt("   ")}finally{R==="once"&&wn()}},at.onend=()=>{const ft=C.current&&R==="continuous";if(O(ft),ft)try{at.start()}catch{wn()}};try{at.start()}catch(ft){console.error(ft),wn()}};return G.useEffect(()=>()=>{var it,at;try{(at=(it=P.current)==null?void 0:it.stop)==null||at.call(it)}catch{}},[]),rt?X.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:X.jsx(Lh,{className:"animate-spin text-indigo-600"})}):i?mt||!(n!=null&&n.id)?X.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:X.jsx(Lh,{className:"animate-spin text-indigo-600"})}):X.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[X.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-6 py-4 flex items-center justify-between border-b border-slate-100",children:[X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("button",{onClick:Hi,className:`p-2 rounded-full ${Et?"bg-rose-100 text-rose-600 animate-pulse":"bg-slate-100 hover:bg-indigo-50 text-indigo-600"}`,title:Et?" -  ":"  -  ",children:Et?X.jsx(iC,{className:"w-5 h-5"}):X.jsx(rC,{className:"w-5 h-5"})}),X.jsx("button",{onClick:()=>z(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ",children:X.jsx(sh,{className:"w-5 h-5"})}),X.jsx("button",{onClick:At,className:"p-2 text-slate-400 hover:text-indigo-600",title:" ",children:S?X.jsx(J1,{className:"w-5 h-5 text-emerald-500"}):X.jsx(LA,{className:"w-5 h-5"})})]}),X.jsx("h1",{className:"text-xl font-extrabold text-indigo-600",children:(n==null?void 0:n.title)||" "}),X.jsx("button",{onClick:()=>OO(_a),className:"p-2 rounded-full shadow-lg active:scale-90 transition-transform bg-slate-100 text-slate-600",title:"",children:X.jsx(eC,{className:"w-5 h-5"})})]}),x?X.jsx("div",{className:"px-5 pt-3",children:X.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[X.jsx("div",{className:"text-[11px] font-black text-slate-400",children:":"}),X.jsx("div",{className:"text-sm font-bold text-slate-700",style:{direction:"rtl",unicodeBidi:"plaintext"},children:x}),X.jsxs("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:[": ",R==="continuous"?"":" ",' ( : " "  "  ")']})]})}):null,X.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:p==="list"?X.jsxs(X.Fragment,{children:[X.jsxs("form",{onSubmit:lt,className:"relative",children:[X.jsx("input",{value:v,onChange:it=>T(it.target.value),placeholder:"  ?",className:"w-full p-4 pr-4 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),X.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:X.jsx(Sv,{className:"w-6 h-6"})})]}),o.length===0?X.jsxs("div",{className:"text-center py-20 opacity-20",children:[X.jsx(aC,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),X.jsx("p",{className:"text-lg font-bold",children:" "})]}):X.jsx("div",{className:"space-y-4",children:X.jsxs("div",{className:"space-y-3",children:[ze.map(it=>X.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-2xl border border-slate-100 shadow-sm",dir:"rtl",children:[X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("button",{onClick:()=>Yt(it.id),className:"p-2 text-slate-300 hover:text-rose-500",title:"",children:X.jsx(sh,{className:"w-4 h-4"})}),X.jsx("button",{onClick:()=>L(it.id),className:`p-2 ${_e.has(it.id)?"text-amber-500":"text-slate-300"}`,title:"",children:X.jsx(rh,{className:`w-4 h-4 ${_e.has(it.id)?"fill-amber-500":""}`})})]}),X.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>gt(it.id),children:it.name}),X.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100",children:[X.jsx("button",{onClick:()=>xt(it.id,-1),className:"p-1 text-slate-400",title:"",children:X.jsx(sC,{className:"w-3 h-3"})}),X.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:it.quantity}),X.jsx("button",{onClick:()=>xt(it.id,1),className:"p-1 text-slate-400",title:"",children:X.jsx(Sv,{className:"w-3 h-3"})})]})]},it.id)),K.length>0?X.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[X.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest text-right mb-2",children:[" (",K.length,")"]}),K.map(it=>X.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-100/50 rounded-2xl opacity-60 grayscale transition-all",dir:"rtl",children:[X.jsx("button",{onClick:()=>Yt(it.id),className:"p-2 text-slate-300",title:"",children:X.jsx(sh,{className:"w-4 h-4"})}),X.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-end cursor-pointer",onClick:()=>gt(it.id),children:[X.jsxs("span",{className:"text-base font-bold text-slate-500 line-through truncate text-right",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[it.name," x",it.quantity]}),X.jsx(Z1,{className:"w-6 h-6 text-emerald-500"})]})]},it.id))]}):null]})})]}):X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"text-right",children:[X.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),X.jsx("p",{className:"text-sm text-slate-400 font-bold",children:"  "})]}),h.length===0?X.jsxs("div",{className:"text-center py-20 opacity-20",children:[X.jsx(rh,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),X.jsx("p",{className:"font-bold",children:"  "})]}):X.jsx("div",{className:"grid grid-cols-1 gap-3",children:h.map(it=>X.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-100 shadow-sm",dir:"rtl",children:[X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("button",{onClick:async()=>{if(!(n!=null&&n.id))return;const at=o.find(ft=>!ft.isPurchased&&ft.name.trim()===it.name.trim());if(at)await xt(at.id,1);else{const ft=crypto.randomUUID(),Pt={id:ft,name:it.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await ho(Sn(rn,"lists",n.id,"items",ft),Pt)}},className:"px-1 py-0.5 text-[10px] rounded-md bg-emerald-500 text-white shadow-md active:scale-90 transition-transform font-black",title:" ",children:" "}),X.jsx("button",{onClick:()=>Q(it.id),className:"p-2 text-slate-300 hover:text-rose-500",title:" ",children:X.jsx(sh,{className:"w-4 h-4"})})]}),X.jsx("div",{className:"flex-1 text-right font-black text-slate-700 truncate px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},children:it.name}),X.jsx(rh,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]},it.id))})]})}),X.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:X.jsxs("div",{className:"max-w-md mx-auto px-4 pb-3",children:[X.jsx("div",{className:"flex justify-start mb-2",dir:"ltr",children:X.jsxs("button",{onClick:Dt,className:"flex items-center justify-center gap-2 bg-emerald-500 text-white py-3 px-6 rounded-full font-black shadow-lg shadow-emerald-200",title:"  ",children:[X.jsx(nC,{className:"w-5 h-5"})," "]})}),X.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:X.jsxs("div",{className:"flex items-center justify-between px-10 py-3",children:[X.jsxs("button",{onClick:()=>g("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[X.jsx(rh,{className:`w-7 h-7 ${p==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),""]}),X.jsxs("button",{onClick:()=>g("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[X.jsx(tC,{className:"w-7 h-7"}),""]})]})})]})}),V?X.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:X.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:X.jsx(W1,{className:"w-5 h-5"})}),X.jsxs("div",{className:"text-right",children:[X.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),X.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),X.jsxs("div",{className:"flex gap-3",children:[X.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),X.jsx("button",{onClick:st,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null]}):X.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:X.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[X.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),X.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),X.jsxs("button",{onClick:async()=>{await Mh()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[X.jsx(xA,{className:"w-5 h-5"}),"  "]})]})})},XL=()=>X.jsx(P1,{children:X.jsxs(f1,{children:[X.jsx(ap,{path:"/",element:X.jsx(QL,{})}),X.jsx(ap,{path:"/invite",element:X.jsx($L,{})})]})}),DR=document.getElementById("root");if(!DR)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",i=>{const t=(i==null?void 0:i.message)||"unknown",n=i==null?void 0:i.error;console.error("WINDOW_ERROR:",t,n),alert("WINDOW_ERROR: "+t)});window.addEventListener("unhandledrejection",i=>{const t=i==null?void 0:i.reason;console.error("UNHANDLED_REJECTION:",t);let n="";try{typeof t=="string"?n=t:t!=null&&t.message?n=t.message:n=JSON.stringify(t)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());pw.createRoot(DR).render(X.jsx(rp.StrictMode,{children:X.jsx(XL,{})}));
